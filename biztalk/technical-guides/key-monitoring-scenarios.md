---
title: キーの監視シナリオ |Microsoft Docs
ms.custom: ''
ms.date: 06/08/2017
ms.prod: biztalk-server
ms.reviewer: ''
ms.suite: ''
ms.tgt_pltfrm: ''
ms.topic: article
ms.assetid: fee90fd2-fb85-409f-827e-6ee3c8e13b4c
caps.latest.revision: 8
author: MandiOhlinger
ms.author: mandia
manager: anneta
ms.openlocfilehash: 70c13588f37a262e52870dff8c99762bd3fd5aa5
ms.sourcegitcommit: 381e83d43796a345488d54b3f7413e11d56ad7be
ms.translationtype: MT
ms.contentlocale: ja-JP
ms.lasthandoff: 05/07/2019
ms.locfileid: "65391859"
---
# <a name="key-monitoring-scenarios"></a><span data-ttu-id="6e9a1-102">主要な監視シナリオ</span><span class="sxs-lookup"><span data-stu-id="6e9a1-102">Key Monitoring Scenarios</span></span>
<span data-ttu-id="6e9a1-103">[!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] Operations Manager 2007 R2 または 2012 用管理パックには、次の表で説明されている主要な監視シナリオの数値が含まれています。</span><span class="sxs-lookup"><span data-stu-id="6e9a1-103">The [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] Management Pack for Operations Manager 2007 R2/2012 includes a number of key monitoring scenarios described in the table that follows.</span></span>  
  
### <a name="biztalk-server-monitoring-scenarios"></a><span data-ttu-id="6e9a1-104">BizTalk Server の監視シナリオ</span><span class="sxs-lookup"><span data-stu-id="6e9a1-104">BizTalk Server Monitoring Scenarios</span></span>  
  
|<span data-ttu-id="6e9a1-105">シナリオ</span><span class="sxs-lookup"><span data-stu-id="6e9a1-105">Scenario</span></span>|<span data-ttu-id="6e9a1-106">説明</span><span class="sxs-lookup"><span data-stu-id="6e9a1-106">Description</span></span>|  
|--------------|-----------------|  
|<span data-ttu-id="6e9a1-107">保留メッセージ警告</span><span class="sxs-lookup"><span data-stu-id="6e9a1-107">Suspended Message Alerts</span></span>|<span data-ttu-id="6e9a1-108">監視および中断されたメッセージに関連する問題の解決は、BizTalk Server 環境での一般的な運用タスクには。</span><span class="sxs-lookup"><span data-stu-id="6e9a1-108">Monitoring and resolving issues related to suspended messages are common operational tasks in a BizTalk Server environment.</span></span> <span data-ttu-id="6e9a1-109">BizTalk Server 管理パックを使用すると、監視し、合理化された方法で保留メッセージ イベントをトラブルシューティングできます。</span><span class="sxs-lookup"><span data-stu-id="6e9a1-109">The BizTalk Server Management Pack enables you to monitor and troubleshoot suspended message events in a streamlined way.</span></span> <span data-ttu-id="6e9a1-110">メッセージの保留の 2 つの種類は、メッセージを処理するときに BizTalk Server で発生します。受信メッセージの中断と送信メッセージの保留します。</span><span class="sxs-lookup"><span data-stu-id="6e9a1-110">Two kinds of message suspension occur in BizTalk Server when you process messages: Inbound Message Suspension and Outbound Message Suspension.</span></span><br /><br /> <span data-ttu-id="6e9a1-111">受信メッセージの処理エラーやサブスクリプションの欠落などのさまざまな種類にメッセージを中断することがあります。</span><span class="sxs-lookup"><span data-stu-id="6e9a1-111">For inbound messages, various kinds of processing failures or lack of subscription may cause a message to be suspended.</span></span> <span data-ttu-id="6e9a1-112">メッセージを中断または、メッセージを保留する一部のトランスポートを構成できます。</span><span class="sxs-lookup"><span data-stu-id="6e9a1-112">Some transports can be configured to suspend the message or not suspend the message.</span></span> <span data-ttu-id="6e9a1-113">送信メッセージの処理エラーをすべては、メッセージが保留に常につながります。</span><span class="sxs-lookup"><span data-stu-id="6e9a1-113">For outbound messages, all processing failures will always lead to message suspension.</span></span><br /><br /> <span data-ttu-id="6e9a1-114">受信メッセージは、中断のアラート ルールがアダプターごとに作成されます。</span><span class="sxs-lookup"><span data-stu-id="6e9a1-114">For inbound messages, alert rules for suspension are written per adapter.</span></span> <span data-ttu-id="6e9a1-115">このアプローチより柔軟に、受信側でメッセージ保留の処理を提供します。</span><span class="sxs-lookup"><span data-stu-id="6e9a1-115">This approach provides more flexibility in handling message suspensions on the inbound side.</span></span> <span data-ttu-id="6e9a1-116">通知など、アダプターに応じて異なるレスポンス アクションを追加することができます。</span><span class="sxs-lookup"><span data-stu-id="6e9a1-116">You can add different response actions based on the adapter, such as notification.</span></span> <span data-ttu-id="6e9a1-117">さらに、カスタム ルールを作成して、BizTalk Server 管理パックをカスタマイズできます。</span><span class="sxs-lookup"><span data-stu-id="6e9a1-117">You can additionally customize the BizTalk Server Management Pack by creating custom rules.</span></span> <span data-ttu-id="6e9a1-118">送信メッセージは、すべてのメッセージが常に任意の種類の送信時のエラーで中断されます。</span><span class="sxs-lookup"><span data-stu-id="6e9a1-118">For outbound messages, all messages are always suspended on transmission time failure of any kind.</span></span>|  
|<span data-ttu-id="6e9a1-119">アラートの抑制ポリシー</span><span class="sxs-lookup"><span data-stu-id="6e9a1-119">Alert Suppression Policy</span></span>|<span data-ttu-id="6e9a1-120">中断されたメッセージのルールは、他の規則が適用された通常よりも、さまざまな抑制ポリシーを使用します。</span><span class="sxs-lookup"><span data-stu-id="6e9a1-120">Rules for suspended messages employ a different suppression policy than are generally applied for other rules.</span></span> <span data-ttu-id="6e9a1-121">警告を抑制警告名、アラートのソース、およびコンピューターとドメインのベースします。</span><span class="sxs-lookup"><span data-stu-id="6e9a1-121">Alerts are suppressed based the Alert Name, Alert Source, and Computer and Domain.</span></span><br /><br /> <span data-ttu-id="6e9a1-122">抑制は警告ソースに基づいて、各保留メッセージ ルールのアラートのソースに保留メッセージ イベントから抽出されたパラメーターも含まれます。</span><span class="sxs-lookup"><span data-stu-id="6e9a1-122">For suppression based on Alert Source, the alert source for each suspended message rule also contains a parameter extracted from the suspended message event.</span></span> <span data-ttu-id="6e9a1-123">このパラメーターは、メッセージが受信または送信される URI です。</span><span class="sxs-lookup"><span data-stu-id="6e9a1-123">This parameter is the URI on which the message was received or transmitted.</span></span><br /><br /> <span data-ttu-id="6e9a1-124">同じ URI で発生したエラーは、通常、同じ理由。</span><span class="sxs-lookup"><span data-stu-id="6e9a1-124">Errors that occur on the same URI are usually because of the same reason.</span></span> <span data-ttu-id="6e9a1-125">そのため、複数の関連する障害イベントが存在する場合でも、同じの根本原因の 1 つのアラートを作成することをお勧めします。</span><span class="sxs-lookup"><span data-stu-id="6e9a1-125">Therefore, we recommend that you create a single alert for the same root cause even though multiple associated failure events exist.</span></span> <span data-ttu-id="6e9a1-126">これにより、1 つのアラートと 1 つの根本原因を用意することが発生したときの問題を修正が簡単です。</span><span class="sxs-lookup"><span data-stu-id="6e9a1-126">This enables you to have one alert and one root cause that makes it easier for you to correct problems when they occur.</span></span> <span data-ttu-id="6e9a1-127">、Uri に基づいて警告を整理は、不要なアラートを減らすし、未解決の問題を効率的に管理を容易にします。</span><span class="sxs-lookup"><span data-stu-id="6e9a1-127">Streamlined alerts, based on URIs, reduce unnecessary alerts and facilitate efficient tracking of open issues.</span></span> <span data-ttu-id="6e9a1-128">メッセージの保留の uri でない過去に保留警告の新しいアラートが作成されます。</span><span class="sxs-lookup"><span data-stu-id="6e9a1-128">A new alert is created for a message suspension at a URI with no previous suspension alerts.</span></span>|  
|<span data-ttu-id="6e9a1-129">BAM の技術的なサポートのアラート</span><span class="sxs-lookup"><span data-stu-id="6e9a1-129">BAM Technical Assistance Alerts</span></span>|<span data-ttu-id="6e9a1-130">通常、ビジネス アクティビティ監視 (BAM) ポータルのユーザーは、ビジネス ユーザーと呼ばれるには、ビジネス レベルのインジケーターとビジネス アクティビティが理解します。</span><span class="sxs-lookup"><span data-stu-id="6e9a1-130">Business Activity Monitoring (BAM) Portal users, known as business users, usually understand the business level indicators and business activities.</span></span> <span data-ttu-id="6e9a1-131">さらに詳しく調査するモニター集計インジケーター、包括的なプロセスでビジネス トランザクション、または特定のプロパティを持つトランザクションを検索する BAM ポータルを使用します。</span><span class="sxs-lookup"><span data-stu-id="6e9a1-131">They use BAM Portal to monitor aggregate indicators, complete in-process business transactions, or search for transactions with particular properties to investigate further.</span></span> <span data-ttu-id="6e9a1-132">ただし、ビジネス ユーザーは多くの場合、IT インフラストラクチャ レベルの問題の側面を理解できません。</span><span class="sxs-lookup"><span data-stu-id="6e9a1-132">However, business users often do not understand the aspects of an issue at an IT infrastructure level.</span></span> <span data-ttu-id="6e9a1-133">特定のトランザクションの調査、中に BAM ポータルではビジネス ユーザーが IT インフラストラクチャ レベルでトランザクションを調査する IT 運用スタッフから技術的なサポートを要求します。</span><span class="sxs-lookup"><span data-stu-id="6e9a1-133">During investigation of a given transaction, the BAM Portal enables business users to request technical assistance from the IT Operations staff to investigate transactions at the IT infrastructure level.</span></span><br /><br /> <span data-ttu-id="6e9a1-134">BAM ポータルは、このような技術的なサポート要求を通じて、ビジネス ユーザーから使用できます。</span><span class="sxs-lookup"><span data-stu-id="6e9a1-134">The BAM Portal enables this hand-off from the business user through a Technical Assistance request.</span></span> <span data-ttu-id="6e9a1-135">技術的なサポートを要求して、BAM ポータルがホストされているコンピューターのイベント ビューアーのアプリケーション ログにエントリを作成します。</span><span class="sxs-lookup"><span data-stu-id="6e9a1-135">Requesting technical assistance creates an entry in the Application log in Event Viewer of the computer where the BAM Portal is hosted.</span></span> <span data-ttu-id="6e9a1-136">このイベントには、技術的なサポートがユーザーとメッセージ インスタンス識別子、サービス インスタンス識別子、および BizTalk Server グループの情報などの他の重要な情報を要求したアクティビティの詳細が含まれています。</span><span class="sxs-lookup"><span data-stu-id="6e9a1-136">This event contains details about the activity on which technical assistance is requested by the user and other important information, such as the Message Instance Identifier, Service Instance Identifier, and BizTalk Server group information.</span></span><br /><br /> <span data-ttu-id="6e9a1-137">BizTalk Server 管理パックには、BAM の技術的なサポート イベントの検出時にアラートをトリガーするルールが含まれています。</span><span class="sxs-lookup"><span data-stu-id="6e9a1-137">The BizTalk Server Management Pack contains a rule to trigger an alert on detection of a BAM Technical Assistance event.</span></span> <span data-ttu-id="6e9a1-138">このアラートを作成するこのルールは、"エラー。BAM Technical assistance Required.。"</span><span class="sxs-lookup"><span data-stu-id="6e9a1-138">The rule that creates this alert is “Error: BAM Technical Assistance Required.”</span></span> <span data-ttu-id="6e9a1-139">BAM ポータルから送信された各要求では、新しいアラートが作成されます。</span><span class="sxs-lookup"><span data-stu-id="6e9a1-139">A new alert is created for each request submitted from the BAM Portal.</span></span>|  
|<span data-ttu-id="6e9a1-140">BizTalk メッセージ ボックスおよびホスト</span><span class="sxs-lookup"><span data-stu-id="6e9a1-140">BizTalk Message Boxes and Hosts</span></span>|<span data-ttu-id="6e9a1-141">BizTalk Server 管理パックには、データベースやキューは、BizTalk メッセージ ボックスの状態を包括的なビューを提供するパフォーマンスしきい値ルールが組み込まれています。</span><span class="sxs-lookup"><span data-stu-id="6e9a1-141">BizTalk Server Management Pack incorporates performance threshold rules that provide a comprehensive view of the health of the BizTalk MessageBox databases and queues.</span></span> <span data-ttu-id="6e9a1-142">しきい値規則の 2 種類が用意されています。</span><span class="sxs-lookup"><span data-stu-id="6e9a1-142">Two kinds of threshold rules are provided:</span></span><br /><br /> <span data-ttu-id="6e9a1-143">-に適用される規則一般的に、つまり、すべての BizTalk ホストでは、すべての BizTalk メッセージ ボックス データベース。</span><span class="sxs-lookup"><span data-stu-id="6e9a1-143">-   Rules that apply generically, that is, to all BizTalk Hosts, all BizTalk MessageBox databases.</span></span><br /><span data-ttu-id="6e9a1-144">-特定の BizTalk ホストまたはメッセージ ボックスに固有の規則。</span><span class="sxs-lookup"><span data-stu-id="6e9a1-144">-   Rules that are specific to a particular BizTalk Host or a MessageBox.</span></span><br /><br /> <span data-ttu-id="6e9a1-145">汎用的なルールは、すべての BizTalk Server ホストまたは共通のしきい値に基づくメッセージ ボックス データベースを監視します。</span><span class="sxs-lookup"><span data-stu-id="6e9a1-145">Generic rules monitor all the BizTalk Server Hosts or MessageBox databases based on a common threshold.</span></span> <span data-ttu-id="6e9a1-146">たとえば、"Monitor HostQ Size"ルールをすべての BizTalk Server ホストの作業キューに基づいて、共通のしきい値。</span><span class="sxs-lookup"><span data-stu-id="6e9a1-146">For example, the rule “Monitor HostQ Size,” monitors the work queues of all BizTalk Server Hosts based on a common threshold.</span></span> <span data-ttu-id="6e9a1-147">3 つのホストが存在しない場合は、同じルールによって、すべての作業キューが監視され、ホストの作業キューのいずれかの共通のしきい値を越える場合に警告が発生しました。</span><span class="sxs-lookup"><span data-stu-id="6e9a1-147">If three hosts exist, all their work queues are monitored by the same rule and alerts occur when any of the host work queues cross the common threshold.</span></span><br /><br /> <span data-ttu-id="6e9a1-148">BizTalk Server ホストに固有のルールでは、さまざまなホストとメッセージ ボックス データベースを別のしきい値を構成できます。</span><span class="sxs-lookup"><span data-stu-id="6e9a1-148">BizTalk Server host-specific rules enable you to configure different thresholds for different hosts and MessageBox databases.</span></span> <span data-ttu-id="6e9a1-149">たとえば、"Monitor HostQ Size – BizTalkServerApplication"ルールは、BizTalkServerApplication ホストの作業キューを監視するホスト固有の規則です。</span><span class="sxs-lookup"><span data-stu-id="6e9a1-149">For example, the rule "Monitor HostQ Size – BizTalkServerApplication" is a host-specific rule that monitors the work queue of the BizTalkServerApplication host.</span></span> <span data-ttu-id="6e9a1-150">これには、特定のパフォーマンス カウンター インスタンスの特定の Operations Manager プロバイダーを定義してしきい値規則でそのプロバイダーを使用しています。</span><span class="sxs-lookup"><span data-stu-id="6e9a1-150">You do this by defining a specific Operations Manager provider for the particular performance counter instance and using that provider in the threshold rule.</span></span><br /><br /> <span data-ttu-id="6e9a1-151">ホストに固有のルールは、環境内で適用可能なルールを作成するためのガイドとして使用するテンプレート規則に提供されます。</span><span class="sxs-lookup"><span data-stu-id="6e9a1-151">Host\MessageBox-specific rules are provided as template rules to be used as a guide for creating rules that are applicable in your environment.</span></span> <span data-ttu-id="6e9a1-152">汎用的なルールは、環境に固有のしきい値の値で構成される必要があります。</span><span class="sxs-lookup"><span data-stu-id="6e9a1-152">Generic rules need to be configured with threshold values specific to your environment.</span></span> <span data-ttu-id="6e9a1-153">BizTalk ホスト/メッセージ ボックス固有のルールは、テンプレート ルールと適切なしきい値に基づいて作成する必要があります。</span><span class="sxs-lookup"><span data-stu-id="6e9a1-153">BizTalk Host/MessageBox-specific rules need to be created based on the template rules and appropriate thresholds.</span></span><br /><br /> <span data-ttu-id="6e9a1-154">BizTalk Server が組み込まれています、自己制限各種パラメーターに基づいてオーバー ロードを防ぐことができます。</span><span class="sxs-lookup"><span data-stu-id="6e9a1-154">BizTalk Server incorporates self-throttling, which helps to prevent overloading based on various parameters.</span></span> <span data-ttu-id="6e9a1-155">スロットルが発生する原因となる一時的なオーバー ロードは、運用上あまり大きなイベントではありません。</span><span class="sxs-lookup"><span data-stu-id="6e9a1-155">A temporary overload that causes throttling to occur is not an operationally significant event.</span></span> <span data-ttu-id="6e9a1-156">永続的な調整、ただし、安定した環境がないと、インフラストラクチャ レベルの基になる問題がある可能性があります。</span><span class="sxs-lookup"><span data-stu-id="6e9a1-156">Persistent throttling, however, is not expected in a stable environment and could indicate underlying problems at the infrastructure level.</span></span> <span data-ttu-id="6e9a1-157">BizTalk Server 管理パックは、次の条件に基づくパフォーマンスしきい値モニタで、このような永続的な制限の条件のプロアクティブな監視を提供します。</span><span class="sxs-lookup"><span data-stu-id="6e9a1-157">The BizTalk Server Management Pack provides proactive monitoring of such persistent throttling conditions with performance threshold monitors based on the following conditions:</span></span><br /><br /> <span data-ttu-id="6e9a1-158">BizTalk Server サービス プロセスのメモリ</span><span class="sxs-lookup"><span data-stu-id="6e9a1-158">-   BizTalk Server service process memory</span></span><br /><span data-ttu-id="6e9a1-159">-処理されるメッセージの数</span><span class="sxs-lookup"><span data-stu-id="6e9a1-159">-   Number of messages being processed</span></span><br /><span data-ttu-id="6e9a1-160">-BizTalk Server プロセス内のスレッドの数</span><span class="sxs-lookup"><span data-stu-id="6e9a1-160">-   Number of threads in a BizTalk Server process</span></span><br /><span data-ttu-id="6e9a1-161">BizTalk データベース キューのサイズ</span><span class="sxs-lookup"><span data-stu-id="6e9a1-161">-   Size of the BizTalk database queues</span></span>|  
|<span data-ttu-id="6e9a1-162">オーケストレーション エラー</span><span class="sxs-lookup"><span data-stu-id="6e9a1-162">Orchestration Failures</span></span>|<span data-ttu-id="6e9a1-163">中断されたオーケストレーションの監視は、もう 1 つの一般的なシナリオです。</span><span class="sxs-lookup"><span data-stu-id="6e9a1-163">Monitoring for suspended orchestrations is another common scenario.</span></span> <span data-ttu-id="6e9a1-164">オーケストレーションは、オーケストレーション エンジンの問題、.NET コンポーネントの障害、およびプログラム ロジックを含む多くの理由により失敗します。</span><span class="sxs-lookup"><span data-stu-id="6e9a1-164">Orchestrations can fail for many reasons that include orchestration engine problems, .NET Component failures, and program logic.</span></span> <span data-ttu-id="6e9a1-165">問題の原因を迅速に判断し、解決されると、中断されたオーケストレーションを再開するオペレーターを有効にするのには重要です。</span><span class="sxs-lookup"><span data-stu-id="6e9a1-165">It is important to enable an operator to determine the source of the problem quickly and to resume suspended orchestrations when fixed.</span></span>|  
|<span data-ttu-id="6e9a1-166">サービスの監視</span><span class="sxs-lookup"><span data-stu-id="6e9a1-166">Service Monitoring</span></span>|<span data-ttu-id="6e9a1-167">BizTalk Server では、正常に動作する多数のサービスが実行されている必要があります。</span><span class="sxs-lookup"><span data-stu-id="6e9a1-167">BizTalk Server requires that a number of services are running to operate correctly.</span></span> <span data-ttu-id="6e9a1-168">これらのサービスの状態は、別の BizTalk サービスを表すクラスのモニターにマップされます。</span><span class="sxs-lookup"><span data-stu-id="6e9a1-168">The status of these services will be mapped to monitors for the classes representing the different BizTalk Services.</span></span>|  
|<span data-ttu-id="6e9a1-169">アプリケーションの監視</span><span class="sxs-lookup"><span data-stu-id="6e9a1-169">Application Monitoring</span></span>|<span data-ttu-id="6e9a1-170">BizTalk Server には、ソリューションの成果物をグループ化するため、アプリケーションの概念が導入されました。</span><span class="sxs-lookup"><span data-stu-id="6e9a1-170">BizTalk Server introduced the concept of an application for grouping solution artifacts.</span></span> <span data-ttu-id="6e9a1-171">アプリケーションの監視は、アプリケーション レベルのエラーの影響を検出します。</span><span class="sxs-lookup"><span data-stu-id="6e9a1-171">Application monitoring detects effects of a failure at the application level.</span></span>|