---
title: 主な監視シナリオ |Microsoft ドキュメント
ms.custom: ''
ms.date: 06/08/2017
ms.prod: biztalk-server
ms.reviewer: ''
ms.suite: ''
ms.tgt_pltfrm: ''
ms.topic: article
ms.assetid: fee90fd2-fb85-409f-827e-6ee3c8e13b4c
caps.latest.revision: 8
author: MandiOhlinger
ms.author: mandia
manager: anneta
ms.openlocfilehash: 99f8f1427f5f5535b6c446dae3057b4d80754a7f
ms.sourcegitcommit: cb908c540d8f1a692d01dc8f313e16cb4b4e696d
ms.translationtype: MT
ms.contentlocale: ja-JP
ms.lasthandoff: 09/20/2017
ms.locfileid: "22298770"
---
# <a name="key-monitoring-scenarios"></a><span data-ttu-id="111c0-102">主要な監視シナリオ</span><span class="sxs-lookup"><span data-stu-id="111c0-102">Key Monitoring Scenarios</span></span>
<span data-ttu-id="111c0-103">[!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] Operations Manager 2007 R2 または 2012 用管理パックには、次の表で説明されている主要な監視シナリオの多くが含まれています。</span><span class="sxs-lookup"><span data-stu-id="111c0-103">The [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] Management Pack for Operations Manager 2007 R2/2012 includes a number of key monitoring scenarios described in the table that follows.</span></span>  
  
### <a name="biztalk-server-monitoring-scenarios"></a><span data-ttu-id="111c0-104">BizTalk Server の監視のシナリオ</span><span class="sxs-lookup"><span data-stu-id="111c0-104">BizTalk Server Monitoring Scenarios</span></span>  
  
|<span data-ttu-id="111c0-105">Scenario</span><span class="sxs-lookup"><span data-stu-id="111c0-105">Scenario</span></span>|<span data-ttu-id="111c0-106">Description</span><span class="sxs-lookup"><span data-stu-id="111c0-106">Description</span></span>|  
|--------------|-----------------|  
|<span data-ttu-id="111c0-107">保留メッセージの警告</span><span class="sxs-lookup"><span data-stu-id="111c0-107">Suspended Message Alerts</span></span>|<span data-ttu-id="111c0-108">監視と保留中のメッセージに関連する問題を解決するには、BizTalk Server 環境での一般的なオペレーション タスクがあります。</span><span class="sxs-lookup"><span data-stu-id="111c0-108">Monitoring and resolving issues related to suspended messages are common operational tasks in a BizTalk Server environment.</span></span> <span data-ttu-id="111c0-109">BizTalk Server 管理パックを使用すると、監視し、効率的で保留メッセージ イベントをトラブルシューティングできます。</span><span class="sxs-lookup"><span data-stu-id="111c0-109">The BizTalk Server Management Pack enables you to monitor and troubleshoot suspended message events in a streamlined way.</span></span> <span data-ttu-id="111c0-110">メッセージを処理するときに、2 種類のメッセージの保留が BizTalk Server で発生します。 メッセージの保留の受信と送信メッセージの保留します。</span><span class="sxs-lookup"><span data-stu-id="111c0-110">Two kinds of message suspension occur in BizTalk Server when you process messages: Inbound Message Suspension and Outbound Message Suspension.</span></span><br /><br /> <span data-ttu-id="111c0-111">受信メッセージのさまざまな種類の処理エラーまたはサブスクリプションの欠落に、メッセージが中断されることがあります。</span><span class="sxs-lookup"><span data-stu-id="111c0-111">For inbound messages, various kinds of processing failures or lack of subscription may cause a message to be suspended.</span></span> <span data-ttu-id="111c0-112">トランスポートによっては、メッセージを保留するかどうかを構成できる場合もあります。</span><span class="sxs-lookup"><span data-stu-id="111c0-112">Some transports can be configured to suspend the message or not suspend the message.</span></span> <span data-ttu-id="111c0-113">送信メッセージの場合、処理エラーが発生すると常にメッセージが保留されます。</span><span class="sxs-lookup"><span data-stu-id="111c0-113">For outbound messages, all processing failures will always lead to message suspension.</span></span><br /><br /> <span data-ttu-id="111c0-114">受信メッセージは、アダプターごとに中断のアラート ルールが書き込まれます。</span><span class="sxs-lookup"><span data-stu-id="111c0-114">For inbound messages, alert rules for suspension are written per adapter.</span></span> <span data-ttu-id="111c0-115">この方法は、受信側でメッセージの中断を処理できる柔軟性を提供します。</span><span class="sxs-lookup"><span data-stu-id="111c0-115">This approach provides more flexibility in handling message suspensions on the inbound side.</span></span> <span data-ttu-id="111c0-116">通知など、アダプターに応じて異なるレスポンス アクションを追加することができます。</span><span class="sxs-lookup"><span data-stu-id="111c0-116">You can add different response actions based on the adapter, such as notification.</span></span> <span data-ttu-id="111c0-117">さらに、カスタム ルールを作成することで、BizTalk Server 管理パックをカスタマイズできます。</span><span class="sxs-lookup"><span data-stu-id="111c0-117">You can additionally customize the BizTalk Server Management Pack by creating custom rules.</span></span> <span data-ttu-id="111c0-118">送信メッセージは、すべてのメッセージは常に任意の種類の転送時のエラーで中断されます。</span><span class="sxs-lookup"><span data-stu-id="111c0-118">For outbound messages, all messages are always suspended on transmission time failure of any kind.</span></span>|  
|<span data-ttu-id="111c0-119">警告の抑制ポリシー</span><span class="sxs-lookup"><span data-stu-id="111c0-119">Alert Suppression Policy</span></span>|<span data-ttu-id="111c0-120">保留メッセージの規則は、他の規則が適用された、通常よりも、さまざまな抑制ポリシーを使用します。</span><span class="sxs-lookup"><span data-stu-id="111c0-120">Rules for suspended messages employ a different suppression policy than are generally applied for other rules.</span></span> <span data-ttu-id="111c0-121">警告名、警告ソース、コンピューター、ドメインなどに基づいて警告を抑制できます。</span><span class="sxs-lookup"><span data-stu-id="111c0-121">Alerts are suppressed based the Alert Name, Alert Source, and Computer and Domain.</span></span><br /><br /> <span data-ttu-id="111c0-122">抑制は警告ソースに基づいて、各保留メッセージ ルールのアラートのソースに保留メッセージ イベントから抽出されたパラメーターも含まれます。</span><span class="sxs-lookup"><span data-stu-id="111c0-122">For suppression based on Alert Source, the alert source for each suspended message rule also contains a parameter extracted from the suspended message event.</span></span> <span data-ttu-id="111c0-123">このパラメーターは、メッセージが送受信された URI です。</span><span class="sxs-lookup"><span data-stu-id="111c0-123">This parameter is the URI on which the message was received or transmitted.</span></span><br /><br /> <span data-ttu-id="111c0-124">同じ URI で発生したエラーは、同じ理由により通常です。</span><span class="sxs-lookup"><span data-stu-id="111c0-124">Errors that occur on the same URI are usually because of the same reason.</span></span> <span data-ttu-id="111c0-125">したがって、複数の関連する障害イベントが存在する場合でも、同じの根本原因の 1 つのアラートを作成することをお勧めします。</span><span class="sxs-lookup"><span data-stu-id="111c0-125">Therefore, we recommend that you create a single alert for the same root cause even though multiple associated failure events exist.</span></span> <span data-ttu-id="111c0-126">これにより、発生したときに、問題を修正するが容易に 1 つのアラートを 1 つの根本原因することができます。</span><span class="sxs-lookup"><span data-stu-id="111c0-126">This enables you to have one alert and one root cause that makes it easier for you to correct problems when they occur.</span></span> <span data-ttu-id="111c0-127">Uri に基づき、簡素化されたアラートは、不必要なアラートを軽減して、未処理の懸案事項を効率的に追跡を容易にします。</span><span class="sxs-lookup"><span data-stu-id="111c0-127">Streamlined alerts, based on URIs, reduce unnecessary alerts and facilitate efficient tracking of open issues.</span></span> <span data-ttu-id="111c0-128">過去に保留警告の発生していない他の URI で保留メッセージが発生した場合は、新しい警告が作成されます。</span><span class="sxs-lookup"><span data-stu-id="111c0-128">A new alert is created for a message suspension at a URI with no previous suspension alerts.</span></span>|  
|<span data-ttu-id="111c0-129">BAM の技術的なサポートのアラート</span><span class="sxs-lookup"><span data-stu-id="111c0-129">BAM Technical Assistance Alerts</span></span>|<span data-ttu-id="111c0-130">通常、ビジネス アクティビティ監視 (BAM) ポータルのユーザー、ビジネス ユーザーと呼ばれるは、ビジネス レベル インジケーターとビジネス アクティビティを理解します。</span><span class="sxs-lookup"><span data-stu-id="111c0-130">Business Activity Monitoring (BAM) Portal users, known as business users, usually understand the business level indicators and business activities.</span></span> <span data-ttu-id="111c0-131">使用して BAM ポータル モニター集計インジケーター、包括的なプロセスでビジネス トランザクション、または特定のプロパティを持つトランザクションを検索するさらに詳しく調査。</span><span class="sxs-lookup"><span data-stu-id="111c0-131">They use BAM Portal to monitor aggregate indicators, complete in-process business transactions, or search for transactions with particular properties to investigate further.</span></span> <span data-ttu-id="111c0-132">ただし、ビジネス ユーザーは多くの場合、IT インフラストラクチャ レベルで問題の側面を理解できません。</span><span class="sxs-lookup"><span data-stu-id="111c0-132">However, business users often do not understand the aspects of an issue at an IT infrastructure level.</span></span> <span data-ttu-id="111c0-133">特定のトランザクションを調査中に BAM ポータルではビジネス ユーザーが IT インフラストラクチャのレベルでトランザクションを調査する IT 運用スタッフの技術的なサポートを要求します。</span><span class="sxs-lookup"><span data-stu-id="111c0-133">During investigation of a given transaction, the BAM Portal enables business users to request technical assistance from the IT Operations staff to investigate transactions at the IT infrastructure level.</span></span><br /><br /> <span data-ttu-id="111c0-134">BAM ポータルでは、このようなビジネス ユーザーが求める支援を、技術的なサポートの要求を通じて提供します。</span><span class="sxs-lookup"><span data-stu-id="111c0-134">The BAM Portal enables this hand-off from the business user through a Technical Assistance request.</span></span> <span data-ttu-id="111c0-135">技術的なサポートを要求して、BAM ポータルをホストしているコンピューターのイベント ビューアーのアプリケーション ログにエントリを作成します。</span><span class="sxs-lookup"><span data-stu-id="111c0-135">Requesting technical assistance creates an entry in the Application log in Event Viewer of the computer where the BAM Portal is hosted.</span></span> <span data-ttu-id="111c0-136">このイベントには、ユーザーおよびその他の重要な情報などの情報、メッセージ インスタンス識別子、サービス インスタンス識別子、および BizTalk Server グループ別に技術的なサポートが要求されたアクティビティに関する詳細が含まれています。</span><span class="sxs-lookup"><span data-stu-id="111c0-136">This event contains details about the activity on which technical assistance is requested by the user and other important information, such as the Message Instance Identifier, Service Instance Identifier, and BizTalk Server group information.</span></span><br /><br /> <span data-ttu-id="111c0-137">BizTalk Server 管理パックには、BAM の技術的なサポート イベントの検出時に警告をトリガーするルールが含まれています。</span><span class="sxs-lookup"><span data-stu-id="111c0-137">The BizTalk Server Management Pack contains a rule to trigger an alert on detection of a BAM Technical Assistance event.</span></span> <span data-ttu-id="111c0-138">このアラートを作成するルールは、"エラー: BAM Technical assistance Required."。</span><span class="sxs-lookup"><span data-stu-id="111c0-138">The rule that creates this alert is “Error: BAM Technical Assistance Required.”</span></span> <span data-ttu-id="111c0-139">BAM ポータルから送信される各要求で新しいアラートが作成されます。</span><span class="sxs-lookup"><span data-stu-id="111c0-139">A new alert is created for each request submitted from the BAM Portal.</span></span>|  
|<span data-ttu-id="111c0-140">BizTalk メッセージ ボックスおよびホスト</span><span class="sxs-lookup"><span data-stu-id="111c0-140">BizTalk Message Boxes and Hosts</span></span>|<span data-ttu-id="111c0-141">BizTalk Server 管理パックには、データベースやキューは、BizTalk メッセージ ボックス データベースの正常性の包括的なビューを提供するパフォーマンスのしきい値規則が組み込まれています。</span><span class="sxs-lookup"><span data-stu-id="111c0-141">BizTalk Server Management Pack incorporates performance threshold rules that provide a comprehensive view of the health of the BizTalk MessageBox databases and queues.</span></span> <span data-ttu-id="111c0-142">しきい値規則の 2 種類が用意されています。</span><span class="sxs-lookup"><span data-stu-id="111c0-142">Two kinds of threshold rules are provided:</span></span><br /><br /> <span data-ttu-id="111c0-143">ルールに適用される、一般的には、すべての BizTalk ホストでは、すべての BizTalk メッセージ ボックス データベースです。</span><span class="sxs-lookup"><span data-stu-id="111c0-143">-   Rules that apply generically, that is, to all BizTalk Hosts, all BizTalk MessageBox databases.</span></span><br /><span data-ttu-id="111c0-144">-特定の BizTalk ホストやメッセージ ボックスに固有の規則。</span><span class="sxs-lookup"><span data-stu-id="111c0-144">-   Rules that are specific to a particular BizTalk Host or a MessageBox.</span></span><br /><br /> <span data-ttu-id="111c0-145">汎用的なルールは、すべての BizTalk Server ホストまたは共通のしきい値に基づくメッセージ ボックス データベースを監視します。</span><span class="sxs-lookup"><span data-stu-id="111c0-145">Generic rules monitor all the BizTalk Server Hosts or MessageBox databases based on a common threshold.</span></span> <span data-ttu-id="111c0-146">たとえば、"Monitor HostQ Size" ルールでは、すべての BizTalk Server ホストの作業キューが、共通のしきい値に基づいて監視されます。</span><span class="sxs-lookup"><span data-stu-id="111c0-146">For example, the rule “Monitor HostQ Size,” monitors the work queues of all BizTalk Server Hosts based on a common threshold.</span></span> <span data-ttu-id="111c0-147">3 つのホストが存在する場合、すべての作業キューが同じルールによって監視され、共通のしきい値を越える任意のホストの作業キューに警告が発生しました。</span><span class="sxs-lookup"><span data-stu-id="111c0-147">If three hosts exist, all their work queues are monitored by the same rule and alerts occur when any of the host work queues cross the common threshold.</span></span><br /><br /> <span data-ttu-id="111c0-148">BizTalk Server ホスト固有の規則を使用すると、別のホストとメッセージ ボックス データベースの異なるしきい値を構成できます。</span><span class="sxs-lookup"><span data-stu-id="111c0-148">BizTalk Server host-specific rules enable you to configure different thresholds for different hosts and MessageBox databases.</span></span> <span data-ttu-id="111c0-149">たとえば、"Monitor HostQ Size – BizTalkServerApplication" ルールは、BizTalkServerApplication ホストの作業キューを監視するホスト固有のルールです。</span><span class="sxs-lookup"><span data-stu-id="111c0-149">For example, the rule "Monitor HostQ Size – BizTalkServerApplication" is a host-specific rule that monitors the work queue of the BizTalkServerApplication host.</span></span> <span data-ttu-id="111c0-150">これを行うを特定のパフォーマンス カウンターのインスタンスの特定の Operations Manager プロバイダーを定義し、しきい値規則でそのプロバイダーを使用します。</span><span class="sxs-lookup"><span data-stu-id="111c0-150">You do this by defining a specific Operations Manager provider for the particular performance counter instance and using that provider in the threshold rule.</span></span><br /><br /> <span data-ttu-id="111c0-151">ホストやメッセージ ボックスに固有のルールは、テンプレート ルールとして提供されています。このテンプレートを元に、各自の環境に合わせてルールを作成することになります。</span><span class="sxs-lookup"><span data-stu-id="111c0-151">Host\MessageBox-specific rules are provided as template rules to be used as a guide for creating rules that are applicable in your environment.</span></span> <span data-ttu-id="111c0-152">汎用的なルールは、各自の環境に合わせてしきい値を構成する必要があります。</span><span class="sxs-lookup"><span data-stu-id="111c0-152">Generic rules need to be configured with threshold values specific to your environment.</span></span> <span data-ttu-id="111c0-153">BizTalk ホスト/メッセージ ボックスに固有のルールは、テンプレート ルールと適切なしきい値を元に作成する必要があります。</span><span class="sxs-lookup"><span data-stu-id="111c0-153">BizTalk Host/MessageBox-specific rules need to be created based on the template rules and appropriate thresholds.</span></span><br /><br /> <span data-ttu-id="111c0-154">BizTalk Server が組み込まれています自己調整中は、さまざまなパラメーターに基づいてオーバー ロードを防ぐことができます。</span><span class="sxs-lookup"><span data-stu-id="111c0-154">BizTalk Server incorporates self-throttling, which helps to prevent overloading based on various parameters.</span></span> <span data-ttu-id="111c0-155">制限の発生原因となるようなオーバーロードが一時的なものであれば、運用上の問題としてそれほど大きくはありません。</span><span class="sxs-lookup"><span data-stu-id="111c0-155">A temporary overload that causes throttling to occur is not an operationally significant event.</span></span> <span data-ttu-id="111c0-156">ただし、永続的な制限が発生するようでは、安定した環境とはいえません。永続的な制限はインフラストラクチャ レベルの基本的な問題を示している可能性があります。</span><span class="sxs-lookup"><span data-stu-id="111c0-156">Persistent throttling, however, is not expected in a stable environment and could indicate underlying problems at the infrastructure level.</span></span> <span data-ttu-id="111c0-157">BizTalk Server 管理パックは、パフォーマンスしきい値のモニタが、次の条件に基づくと、このような永続的な制限の条件のプロアクティブな監視を提供します。</span><span class="sxs-lookup"><span data-stu-id="111c0-157">The BizTalk Server Management Pack provides proactive monitoring of such persistent throttling conditions with performance threshold monitors based on the following conditions:</span></span><br /><br /> <span data-ttu-id="111c0-158">BizTalk Server サービス プロセス メモリ</span><span class="sxs-lookup"><span data-stu-id="111c0-158">-   BizTalk Server service process memory</span></span><br /><span data-ttu-id="111c0-159">-処理中のメッセージの数</span><span class="sxs-lookup"><span data-stu-id="111c0-159">-   Number of messages being processed</span></span><br /><span data-ttu-id="111c0-160">-BizTalk Server プロセス内のスレッドの数</span><span class="sxs-lookup"><span data-stu-id="111c0-160">-   Number of threads in a BizTalk Server process</span></span><br /><span data-ttu-id="111c0-161">BizTalk データベース キューのサイズ</span><span class="sxs-lookup"><span data-stu-id="111c0-161">-   Size of the BizTalk database queues</span></span>|  
|<span data-ttu-id="111c0-162">オーケストレーション エラー</span><span class="sxs-lookup"><span data-stu-id="111c0-162">Orchestration Failures</span></span>|<span data-ttu-id="111c0-163">もう 1 つの一般的なシナリオは、中断されたオーケストレーションを監視します。</span><span class="sxs-lookup"><span data-stu-id="111c0-163">Monitoring for suspended orchestrations is another common scenario.</span></span> <span data-ttu-id="111c0-164">オーケストレーションは、オーケストレーション エンジンの問題、.NET コンポーネントのエラー、およびプログラム ロジックを含む多くの理由で失敗します。</span><span class="sxs-lookup"><span data-stu-id="111c0-164">Orchestrations can fail for many reasons that include orchestration engine problems, .NET Component failures, and program logic.</span></span> <span data-ttu-id="111c0-165">問題の原因をすばやく判断し、修正した場合に中断されたオーケストレーションを再開するオペレーターを有効にするのには重要です。</span><span class="sxs-lookup"><span data-stu-id="111c0-165">It is important to enable an operator to determine the source of the problem quickly and to resume suspended orchestrations when fixed.</span></span>|  
|<span data-ttu-id="111c0-166">サービスの監視</span><span class="sxs-lookup"><span data-stu-id="111c0-166">Service Monitoring</span></span>|<span data-ttu-id="111c0-167">BizTalk Server では、正常に動作する、複数のサービスが実行されている必要があります。</span><span class="sxs-lookup"><span data-stu-id="111c0-167">BizTalk Server requires that a number of services are running to operate correctly.</span></span> <span data-ttu-id="111c0-168">これらのサービスの状態は、別の BizTalk サービスを表すクラスを監視します。 にマップされます。</span><span class="sxs-lookup"><span data-stu-id="111c0-168">The status of these services will be mapped to monitors for the classes representing the different BizTalk Services.</span></span>|  
|<span data-ttu-id="111c0-169">アプリケーションの監視</span><span class="sxs-lookup"><span data-stu-id="111c0-169">Application Monitoring</span></span>|<span data-ttu-id="111c0-170">BizTalk Server では、ソリューションの成果物をグループ化するため、アプリケーションの概念が導入されました。</span><span class="sxs-lookup"><span data-stu-id="111c0-170">BizTalk Server introduced the concept of an application for grouping solution artifacts.</span></span> <span data-ttu-id="111c0-171">アプリケーション レベルのエラーの影響を検出するアプリケーションを監視します。</span><span class="sxs-lookup"><span data-stu-id="111c0-171">Application monitoring detects effects of a failure at the application level.</span></span>|