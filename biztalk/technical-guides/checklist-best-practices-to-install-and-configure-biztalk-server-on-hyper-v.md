---
title: 'チェックリスト: HYPER-V をインストールして構成するベスト プラクティス |Microsoft Docs'
ms.custom: ''
ms.date: 06/08/2017
ms.prod: biztalk-server
ms.reviewer: ''
ms.suite: ''
ms.tgt_pltfrm: ''
ms.topic: article
ms.assetid: 5b5ddbb5-3752-4294-ae6a-c14363b3ddc9
caps.latest.revision: 18
author: MandiOhlinger
ms.author: mandia
manager: anneta
ms.openlocfilehash: ca617e5bdec917f788fb9a611cad54a418761138
ms.sourcegitcommit: 266308ec5c6a9d8d80ff298ee6051b4843c5d626
ms.translationtype: MT
ms.contentlocale: ja-JP
ms.lasthandoff: 06/27/2018
ms.locfileid: "36985755"
---
# <a name="checklist-best-practices-for-installing-and-configuring-biztalk-server-on-hyper-v"></a>インストールして、Hyper V 上の BizTalk Server を構成するためのベスト プラクティスのチェックリスト:
以下のセクションでは、インストールの概要と、構成の要件、 [HYPER-V 上の BizTalk Server の展開](../technical-guides/deploying-biztalk-server-on-hyper-v.md)このガイドの「します。 これらは、インストール、構成および展開するときに、クイック リファレンスとして使用する必要があります[!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)]HYPER-V 環境にします。 詳細については、関連するセクションへのリンクが提供されます。  

## <a name="before-installing-hyper-v"></a>前に、HYPER-V をインストールしています.  

|手順|リファレンス|  
|----------|---------------|  
|HYPER-V は、Windows Server の 64 ビット版の利用可能なサーバー ロールです。|参照してください[チェックリスト: インストールと Hyper V 上の BizTalk Server を構成するためのベスト プラクティス](../technical-guides/checklist-best-practices-to-install-and-configure-biztalk-server-on-hyper-v.md)|  
|プロセッサがハードウェア依存の仮想化およびデータ実行防止 (DEP) をサポートして、これらの機能が有効になっていることを確認します。 これには、Intel Virtualization Technology (Intel VT) または AMD Virtualization (AMD-V) と互換性があるプロセッサが必要です。|参照してください[、HYPER-V の役割をインストール](https://docs.microsoft.com/windows-server/virtualization/hyper-v/get-started/install-the-hyper-v-role-on-windows-server)します。|  
|ルート パーティションには、Windows Server Core Edition を使用します。 サーバーのオーバーヘッドを最小化され、HYPER-V のパフォーマンスが向上されます。|参照してください[Server Core のインストール](https://docs.microsoft.com/windows-server/get-started/getting-started-with-server-core)します。|  
|ルート パーティションでは、HYPER-V サーバーの役割のみを実行します。|参照してください[パフォーマンス チューニングの Hyper V サーバー](https://docs.microsoft.com/windows-server/administration/performance-tuning/role/hyper-v-server/):<br />**専用のサーバーの役割**<br />ルート パーティションは、仮想化サーバーの役割に専用必要があります。 追加のサーバー ロールはできます重要な CPU、メモリ、または I/O 帯域幅を使用する場合に特に、仮想化サーバーのパフォーマンスに悪影響です。 ルート パーティションでサーバーの役割を最小限に抑えるには、攻撃対象領域と更新プログラムの頻度を減らすことなどの他の特典があります。 システム管理者は、ルート パーティションでどのようなソフトウェアがインストールされている一部のソフトウェア仮想化サーバーの全体的なパフォーマンスに悪影響のため、慎重に検討する必要があります。<br/><br/> 参照してください[HYPER-V 構成](https://docs.microsoft.com/windows-server/administration/performance-tuning/role/hyper-v-server/configuration)のガイダンスについてはします。|  

## <a name="when-creating-hyper-v-virtual-machines"></a>HYPER-V 仮想マシンを作成するときにしています.  

|手順|リファレンス|  
|----------|---------------|  
|固定サイズの仮想ハード_ディスクを使用して (VHD) は、オペレーティング システム ドライブの Vhd を動的にサイズ変更と比較してパフォーマンスの向上を提供します。|参照してください[HYPER-V ストレージの I/O パフォーマンス](https://docs.microsoft.com/windows-server/administration/performance-tuning/role/hyper-v-server/storage-io-performance)のガイダンスについては。 <br />**固定サイズの VHD**<br />VHD の容量は最初に、VHD ファイルが作成されるときに割り当てられました。 この種類の VHD は、1 つの I/O が複数の I/o に分割される I/O のスループットを減らすこと、フラグメント化する傾向が。 読み取りと書き込みブロックのマッピングを検索する必要はないため、次の 3 つの VHD の種類の最も低い CPU オーバーヘッドがあります。|  
|ディスク I/O アクティビティに固定サイズの仮想ハード ドライブ (VHD) のディスクを使用し、SCSI コント ローラーを使用してデータ ボリュームのディスクを構成します。 複数のデータ ドライブにまたがる高負荷の高いストレージ I/O ワークロードでは、全体的なパフォーマンスを向上させる統合独立した SCSI コント ローラーに各 VHD をアタッチする必要があります。 さらに、各 VHD は、個別の物理ディスクに格納する必要があります。|参照してください[HYPER-V ストレージの I/O パフォーマンス](https://docs.microsoft.com/windows-server/administration/performance-tuning/role/hyper-v-server/storage-io-performance)のガイダンスについては。<br />**統合 SCSI コント ローラー**<br />統合記憶域コント ローラーは、storage I/o をエミュレートされた IDE デバイスよりも CPU のオーバーヘッドを削減、パフォーマンスが著しく向上を提供します。 VM の integration services では、この記憶域デバイスの有効化されたドライバーを含めるし、それを検出するゲスト オペレーティング システムに必要な。 正常に起動するオペレーティング システム用の IDE デバイスにオペレーティング システム ディスクをマウントする必要がありますが、VM 統合サービスが代理記憶装置に IDE デバイスの I/o を再ルーティングするフィルター ドライバーをロードします。<br />その構成が CPU のオーバーヘッドを減少するので、合成の SCSI コント ローラーに直接データ ドライブをマウントすることを強くお勧めします。 予想される I/O 率が高い場合にも、ログ ファイルと代理の SCSI コント ローラーに直接オペレーティング システムのページング ファイルをマウントする必要があります。<br />複数のデータ ドライブにまたがる高負荷の高いストレージ I/O ワークロードでは、全体的なパフォーマンスを向上させる統合独立した SCSI コント ローラーに各 VHD をアタッチする必要があります。 さらに、各 VHD は、個別の物理ディスクに格納する必要があります。|  
|SQL Server データとログ ファイルの I/O のアクティビティが高いの VHD ディスクをアタッチするのにには、SCSI コント ローラーを使用します。 **注:** SCSI コント ローラーには、システム ディスクをアタッチできません。 オペレーティング システムを含むバーチャル ハード_ディスクは、IDE コント ローラーに接続する必要があります。|HYPER-V IDE コント ローラーと SCSI コント ローラーは、同等のパフォーマンスを提供、でも、HYPER-V 統合サービスがインストールされている場合、SCSI コント ローラーがインストールされてのみことができます。 そのため、パススルー ディスクをアタッチする SCSI コント ローラーを使用では、HYPER-V 統合サービスがインストールされている最適なディスク I/O パフォーマンスがさらに保証されますが、確認します。|  
|仮想マシンのネットワークを構成するときに、レガシ ネットワーク アダプターではなく、ネットワーク アダプターを使用します。 レガシ ネットワーク アダプターは統合コンポーネントをサポートしないオペレーティング システム用に設計されています。|**統合ネットワーク アダプター**<br />HYPER-V の機能が大幅に実現するために Vm 向けに設計されている統合ネットワーク アダプターでは減って CPU オーバーヘッドにネットワーク I/O を既存のハードウェアを模したエミュレートされたネットワーク アダプターと比較されます。 統合ネットワーク アダプターは、共有メモリをより効率的なデータ転送を使用して VMBus 経由でルートの子とパーティションの間で通信します。 エミュレートされたネットワーク アダプターは、VM の設定 ダイアログ ボックスを使用して削除して統合ネットワーク アダプターに置き換えください。 ゲストは VM 統合サービスをインストールすることが必要です。|  
|統合サービスがすべての有効化されたゲスト オペレーティング システムにインストールされて、integration services の最新バージョンがインストールされていることを確認するようにします。 Integration services の最新バージョンを確認するには、実行**Windows Update**します。|参照してください[HYPER-V プロセッサ パフォーマンス](https://docs.microsoft.com/windows-server/administration/performance-tuning/role/hyper-v-server/processor-performance)のガイダンスについては。<br />**有効化されたゲスト**<br />ゲスト オペレーティング システムとして Windows Server を使用する推奨可能性があります。 啓発は、VM で実行されている Windows の CPU オーバーヘッドを減らします。 統合サービスでは、I/O の追加の啓発を提供します。 サーバーの負荷によってはパフォーマンス向上のための Windows Server のゲストでのサーバー アプリケーションをホストする適切なことができます。|  
|可能であれば、仮想プロセッサの使用可能な論理プロセッサの 1 対 1 の割り当てを構成します。|仮想プロセッサの使用可能な論理プロセッサの 1 対 1 の割り当ての構成の詳細については、「プロセッサのパフォーマンスを最適化する」セクションを参照してください[チェックリスト: hyper-v パフォーマンスの最適化](~/technical-guides/checklist-optimizing-performance-on-hyper-v.md)します。|  
|変換または Microsoft Virtual PC、Microsoft Virtual Server、または HYPER-V で実行する VMWare ESX Server で実行されている仮想マシンを移行します。|-変換するか、HYPER-V を実行する仮想マシンを移行する使用して System Center Virtual Machine Manager です。 <br />-必要な場合は、Microsoft Virtual PC または Microsoft Virtual Server で実行されている仮想マシンを変換するプロセスを手動で実行することができます。 詳細については、[仮想マシンの移行ガイド: を移行方法 Virtual Server から Hyper-v に](http://go.microsoft.com/fwlink/?LinkID=137258)を参照してください。<br />-サンプル ツール**VMC2Hyper V**を HYPER-V には、Microsoft Virtual PC または Microsoft Virtual Server で実行されている仮想マシンを移行できます。 VMC2Hyper V サンプル ツールの詳細については、[VMC to Hyper-v Import ツールの使用可能な](http://go.microsoft.com/fwlink/?LinkID=135683)を参照してください。 |  

## <a name="when-installing-and-configuring-biztalk-server"></a>インストールすると、BizTalk Server を構成する.  
 仮想環境で BizTalk Server をインストールするときに、物理環境と同じプラクティスに従ってください。 インストールするときに、BizTalk Server の構成中に、次のリソースを使用する必要があります。  


|                                                                                                                                                                                                                                                                                                                                                   手順                                                                                                                                                                                                                                                                                                                                                   |                                                                          リファレンス                                                                           |
|----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|--------------------------------------------------------------------------------------------------------------------------------------------------------------|
|                                                                                                                                                                                                                                     ゲスト オペレーティング システムに BizTalk Server をインストールする方法については、、 [BizTalk Server インストール ガイド](../install-and-config-guides/biztalk-server-what-s-new-installation-configuration-and-upgrade.md)を参照してください。                                                                                                                                                                                                                                     |                                                                                                                                                              |
|                                                                                                                                                                                                                                                               実行、[!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)]ベスト プラクティス アナライザー (BPA) ツールでは、BizTalk Server インストールが完了しました。                                                                                                                                                                                                                                                                |                                         ダウンロード、 [BPA](https://www.microsoft.com/download/details.aspx?id=43382)                                         |
|                                                                                                                                                                                     [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)]データベースは SQL Server でホストします。 SQL Server インスタンスで構成する前に theSQL Server ベスト プラクティス アナライザー (BPA) ツールを実行、[!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)]データベース。                                                                                                                                                                                      |                                   ダウンロード、 [BPA の SQL Server](https://www.microsoft.com/download/details.aspx?id=29302)                                    |
| Microsoft[!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)]操作ガイドが必要なすべての前提条件ソフトウェアがインストールされていることを確認に使用できる運用の準備チェックリストを提供します。 チェックリストを提供する[!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)]の一部として必要なすべてのコンポーネントに固有の構成情報が提供されている、[!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)]オペレーティング システム、IIS、および SQL Server を含むスタック。 さらに、高可用性のための BizTalk Server を構成する方法についてのガイダンスが提供されます。 |                               読み取り、(../technical-guides/BizTalk 操作 Guide](biztalk-server-2010-operations-guide.md)                               |
|                                                                                                                                                                                                                                                                                                                      BizTalk Server 環境のパフォーマンスを最適化します。                                                                                                                                                                                                                                                                                                                       |         参照してください[BizTalk Server パフォーマンス最適化ガイド](../technical-guides/biztalk-server-2010-performance-optimization-guide.md)ガイダンス          |
|                                                                                                                                                                                                                                                                                     インストールし、分析し、BizTalk Server メッセージ ボックス データベースの構成を検証する BizTalk Health Monitor を実行します。                                                                                                                                                                                                                                                                                      |                                           ダウンロード[BHM](https://www.microsoft.com/download/details.aspx?id=43716)                                           |
|                                                                                                                                                                                                                                                                                                        CPU が、HYPER-V で実行されているゲスト オペレーティング システムに正しく割り当てられることを確認します。                                                                                                                                                                                                                                                                                                        | 参照してください**プロセッサのパフォーマンスを測定する**で[チェックリスト: HYPER-V のパフォーマンスを測定する](../technical-guides/checklist-measuring-performance-on-hyper-v.md)します。 |

