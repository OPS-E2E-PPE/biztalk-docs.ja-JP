---
title: 構成後のデータベース Optimizations1 |Microsoft Docs
ms.custom: ''
ms.date: 06/08/2017
ms.prod: biztalk-server
ms.reviewer: ''
ms.suite: ''
ms.tgt_pltfrm: ''
ms.topic: article
ms.assetid: 763b5358-97ed-4ada-8318-0ad07388ba89
caps.latest.revision: 3
author: MandiOhlinger
ms.author: mandia
manager: anneta
ms.openlocfilehash: 16f789c57c57ce198a6adeaaad549f275b90fbc4
ms.sourcegitcommit: 381e83d43796a345488d54b3f7413e11d56ad7be
ms.translationtype: MT
ms.contentlocale: ja-JP
ms.lasthandoff: 05/07/2019
ms.locfileid: "65249623"
---
# <a name="post-configuration-database-optimizations"></a><span data-ttu-id="cdea1-102">構成後のデータベースの最適化</span><span class="sxs-lookup"><span data-stu-id="cdea1-102">Post-Configuration Database Optimizations</span></span>
<span data-ttu-id="cdea1-103">推奨事項に従うだけでなく[事前構成のデータベースの最適化](../technical-guides/post-configuration-database-optimizations1.md)、いくつかの手順は、SQL Server で BizTalk Server データベースのパフォーマンスを最適化するために従う必要があります*後*BizTalk Server がインストールされているし、BizTalk Server データベースが構成されています。</span><span class="sxs-lookup"><span data-stu-id="cdea1-103">In addition to following the recommendations in [Pre-Configuration Database Optimizations](../technical-guides/post-configuration-database-optimizations1.md), several steps should be followed to optimize BizTalk Server database performance on SQL Server *after* BizTalk Server has been installed and the BizTalk Server databases have been configured.</span></span> <span data-ttu-id="cdea1-104">このトピックでは、これらの最適化の一覧を示します。</span><span class="sxs-lookup"><span data-stu-id="cdea1-104">This topic provides a list of these optimizations.</span></span>  
  
## <a name="pre-allocate-space-for-biztalk-server-databases-and-define-auto-growth-settings-for-biztalk-server-databases-to-a-fixed-value-instead-of-a-percentage-value"></a><span data-ttu-id="cdea1-105">BizTalk Server データベース用の領域を事前割り当てし、割合の値ではなく固定値に BizTalk Server データベースの自動拡張設定の定義</span><span class="sxs-lookup"><span data-stu-id="cdea1-105">Pre-allocate space for BizTalk Server databases and define auto-growth settings for BizTalk Server databases to a fixed value instead of a percentage value</span></span>  
  
-   <span data-ttu-id="cdea1-106">SQL Server データベースの自動拡張は、BizTalk Server データベースのパフォーマンスの低下をブロックしている操作です。</span><span class="sxs-lookup"><span data-stu-id="cdea1-106">SQL Server database auto-growth is a blocking operation that hinders BizTalk Server database performance.</span></span> <span data-ttu-id="cdea1-107">そのためデータベース自動拡張の発生を最小限に抑えるには、事前に、BizTalk Server データベースに対して十分な領域を割り当てることが重要です。</span><span class="sxs-lookup"><span data-stu-id="cdea1-107">Therefore it is important to allocate sufficient space for the BizTalk Server databases in advance to minimize the occurrence of database auto-growth.</span></span>  
  
-   <span data-ttu-id="cdea1-108">データベース自動拡張は、固定数の割合の代わりにメガバイト単位に設定する必要があります (ファイルの拡張を指定**メガバイト単位で**)。</span><span class="sxs-lookup"><span data-stu-id="cdea1-108">Database auto-growth should be set to a fixed number of megabytes instead of to a percentage (specify file growth **In Megabytes**).</span></span> <span data-ttu-id="cdea1-109">これは、過剰なデータベース サイズの増加が発生する可能性を軽減測定方式では自動拡張が発生した場合、実行する必要があります。</span><span class="sxs-lookup"><span data-stu-id="cdea1-109">This should be done so if auto-growth occurs, it does so in a measured fashion which reduces the likelihood of excessive database growth.</span></span> <span data-ttu-id="cdea1-110">拡張増分値は、100 MB (サイズの大きいファイル) を (中規模ファイル用)、10 MB または 1 MB (小さなファイル) の以下通常場合があります。</span><span class="sxs-lookup"><span data-stu-id="cdea1-110">The growth increment should generally be no larger than 100 MB (for large files), 10 MB (for medium-sized files), or 1 MB (for small files).</span></span>  
  
-   <span data-ttu-id="cdea1-111">SQL Server では、ファイルのサイズが増えた、ときを使用する新しい領域が初期化されて最初する必要があります。</span><span class="sxs-lookup"><span data-stu-id="cdea1-111">When SQL Server increases the size of a file, the new space must first be initialized before it can be used.</span></span> <span data-ttu-id="cdea1-112">これは、空のページで、新しい領域の入力を含むブロッキング操作です。</span><span class="sxs-lookup"><span data-stu-id="cdea1-112">This is a blocking operation that involves filling the new space with empty pages.</span></span> <span data-ttu-id="cdea1-113">Windows Server 2003 以降を実行する SQL Server 2005 は、「ファイルの瞬時初期化します。」をサポートしています。</span><span class="sxs-lookup"><span data-stu-id="cdea1-113">SQL Server 2005 running on Windows Server 2003 or later supports “instant file initialization.”</span></span> <span data-ttu-id="cdea1-114">これは、ファイルの拡張操作のパフォーマンスに与える影響を大幅に削減できます。</span><span class="sxs-lookup"><span data-stu-id="cdea1-114">This can greatly reduce the performance impact of a file growth operation.</span></span> <span data-ttu-id="cdea1-115">詳細については、SQL Server 2008 のドキュメント「データベース ファイルの初期化」を参照してください。 [ http://go.microsoft.com/fwlink/?LinkId=132063](http://go.microsoft.com/fwlink/?LinkId=132063)します。</span><span class="sxs-lookup"><span data-stu-id="cdea1-115">For more information, see "Database File Initialization" in the SQL Server 2008 documentation at [http://go.microsoft.com/fwlink/?LinkId=132063](http://go.microsoft.com/fwlink/?LinkId=132063).</span></span> <span data-ttu-id="cdea1-116">このトピックでは、ファイルの瞬時初期化を有効にするための手順を説明します。</span><span class="sxs-lookup"><span data-stu-id="cdea1-116">This topic provides steps for enabling instant file initialization.</span></span>  
  
## <a name="move-the-backup-biztalk-server-output-directory-to-a-dedicated-lun"></a><span data-ttu-id="cdea1-117">BizTalk Server のバックアップの出力ディレクトリを専用の LUN に移動します。</span><span class="sxs-lookup"><span data-stu-id="cdea1-117">Move the Backup BizTalk Server output directory to a dedicated LUN</span></span>  
 <span data-ttu-id="cdea1-118">専用の LUN に BizTalk Server のバックアップ (完全およびログ バックアップ) の出力ディレクトリを移動、手順 1. および 2. (新しい出力パスを挿入する) の [BizTalkMgmtDb] BizTalk Server のバックアップ ジョブを編集します。</span><span class="sxs-lookup"><span data-stu-id="cdea1-118">Move the Backup BizTalk Server (Full and Log backup) output directory to dedicated LUN, Edit steps 1 and 2 (insert new output path) of the Backup BizTalk Server [BizTalkMgmtDb] job.</span></span> <span data-ttu-id="cdea1-119">読み取りは専用 LUN に BizTalk Server のバックアップの出力ディレクトリは、ジョブとは異なるディスクに書き込むことで、ジョブの実行時にディスク I/O の競合を減らすが移動します。</span><span class="sxs-lookup"><span data-stu-id="cdea1-119">Moving the Backup BizTalk Server output directory to a dedicated LUN will reduce disk I/O contention when the job is running by writing to a different disk than the job is reading from.</span></span>  
  
## <a name="verify-the-biztalk-server-sql-agent-jobs-are-running"></a><span data-ttu-id="cdea1-120">BizTalk Server の SQL エージェント ジョブを実行していることを確認します。</span><span class="sxs-lookup"><span data-stu-id="cdea1-120">Verify the BizTalk Server SQL Agent Jobs are running</span></span>  
 <span data-ttu-id="cdea1-121">BizTalk Server には、動作状況と状態、サーバーを保持する重要な機能を実行するいくつかの SQL Server エージェント ジョブが含まれています。</span><span class="sxs-lookup"><span data-stu-id="cdea1-121">BizTalk Server includes several SQL Server Agent jobs that perform important functions to keep your servers operational and healthy.</span></span> <span data-ttu-id="cdea1-122">これらのジョブの正常性を監視し、エラーなしで実行されていることを確認する必要があります。</span><span class="sxs-lookup"><span data-stu-id="cdea1-122">You should monitor the health of these jobs and ensure they are running without errors.</span></span> <span data-ttu-id="cdea1-123">BizTalk Server のパフォーマンスの問題の最も一般的な原因の 1 つは、BizTalk Server の SQL エージェント ジョブではなく、実行中、メッセージ ボックスがさらに可能性があるあり、データベースをオフに拡張するトラッキングします。</span><span class="sxs-lookup"><span data-stu-id="cdea1-123">One of the most common causes of performance problems in BizTalk Server is the BizTalk Server SQL Agent Jobs are not running, which in turn can cause the MessageBox and Tracking databases to grow unchecked.</span></span> <span data-ttu-id="cdea1-124">BizTalk Server の SQL エージェント ジョブが問題なく実行されていることを確認する次の手順に従います。</span><span class="sxs-lookup"><span data-stu-id="cdea1-124">Follow these steps to ensure the BizTalk Server SQL Agent Jobs are running without problems:</span></span>  
  
 <span data-ttu-id="cdea1-125">BizTalk Server のパフォーマンスの問題の最も一般的な原因の 1 つは、BizTalk Server の SQL エージェント ジョブではなく、実行中、メッセージ ボックスがさらに可能性があるあり、データベースをオフに拡張するトラッキングします。</span><span class="sxs-lookup"><span data-stu-id="cdea1-125">One of the most common causes of performance problems in BizTalk Server is the BizTalk Server SQL Agent Jobs are not running, which in turn can cause the MessageBox and Tracking databases to grow unchecked.</span></span> <span data-ttu-id="cdea1-126">BizTalk Server の SQL エージェント ジョブが問題なく実行されていることを確認する次の手順に従います。</span><span class="sxs-lookup"><span data-stu-id="cdea1-126">Follow these steps to ensure the BizTalk Server SQL Agent Jobs are running without problems:</span></span>  
  
-   <span data-ttu-id="cdea1-127">**SQL Server エージェント サービスが実行されていることを確認**します。</span><span class="sxs-lookup"><span data-stu-id="cdea1-127">**Verify the SQL Server Agent service is running**.</span></span>  
  
-   <span data-ttu-id="cdea1-128">**BizTalk Server によってインストールされる SQL Server エージェント ジョブが有効になっていることを確認し、正常に実行されている**します。</span><span class="sxs-lookup"><span data-stu-id="cdea1-128">**Verify the SQL Server Agent jobs installed by BizTalk Server are enabled and running successfully**.</span></span>  
  
     <span data-ttu-id="cdea1-129">BizTalk Server SQL Server エージェント ジョブが非常に重要ですが、時間の経過と共に実行されていない場合、システムのパフォーマンスが低下します。</span><span class="sxs-lookup"><span data-stu-id="cdea1-129">The BizTalk Server SQL Server Agent jobs are crucial—if they are not running, system performance will degrade over time.</span></span>  
  
-   <span data-ttu-id="cdea1-130">**BizTalk Server SQL Server エージェント ジョブが適切なタイミングで完了することを確認**します。</span><span class="sxs-lookup"><span data-stu-id="cdea1-130">**Verify the BizTalk Server SQL Server Agent jobs are completing in a timely manner**.</span></span>  
  
     <span data-ttu-id="cdea1-131">Microsoft Operations Manager (MOM) 2005 または Microsoft System Center Operations Manager 2007 を設定すると、ジョブを監視します。</span><span class="sxs-lookup"><span data-stu-id="cdea1-131">Set up Microsoft Operations Manager (MOM) 2005 or Microsoft System Center Operations Manager 2007 to monitor the jobs.</span></span>  
  
     <span data-ttu-id="cdea1-132">特定のジョブを特定のスケジュールの注意する必要があります。</span><span class="sxs-lookup"><span data-stu-id="cdea1-132">You should be aware of schedules that are particular to certain jobs:</span></span>  
  
    -   <span data-ttu-id="cdea1-133">既定では、MessageBox_Message_ManageRefCountLog_BizTalkMsgBoxDb ジョブが継続的に実行されます。</span><span class="sxs-lookup"><span data-stu-id="cdea1-133">The MessageBox_Message_ManageRefCountLog_BizTalkMsgBoxDb job runs continuously by default.</span></span> <span data-ttu-id="cdea1-134">ソフトウェアを監視、このスケジュールを考慮に入れてし、警告を生成しない必要があります。</span><span class="sxs-lookup"><span data-stu-id="cdea1-134">Monitoring software should take this schedule into account and not produce warnings.</span></span>  
  
    -   <span data-ttu-id="cdea1-135">MessageBox_Message_Cleanup_BizTalkMsgBoxDb ジョブは有効、またはスケジュール設定をされませんが、10 秒ごと、MessageBox_Message_ManageRefCountLog_BizTalkMsgBoxDb ジョブによって起動されました。</span><span class="sxs-lookup"><span data-stu-id="cdea1-135">The MessageBox_Message_Cleanup_BizTalkMsgBoxDb job is not enabled or scheduled, but it is started by the MessageBox_Message_ManageRefCountLog_BizTalkMsgBoxDb job every 10 seconds.</span></span> <span data-ttu-id="cdea1-136">そのため、このジョブする必要がありますいない有効、スケジュールまたは手動で開始されました。</span><span class="sxs-lookup"><span data-stu-id="cdea1-136">Therefore, this job should not be enabled, scheduled, or manually started.</span></span>  
  
-   <span data-ttu-id="cdea1-137">**SQL Server エージェント サービスのスタートアップの種類が正しく構成されていることを確認**します。</span><span class="sxs-lookup"><span data-stu-id="cdea1-137">**Verify the Startup type of the SQL Server Agent service is configured correctly**.</span></span>  
  
     <span data-ttu-id="cdea1-138">SQL Server エージェント サービスが構成されていることを確認、**スタートアップの種類**の**自動**SQL Server エージェント サービスが Windows Server クラスターでクラスター リソースとして構成されていない場合。</span><span class="sxs-lookup"><span data-stu-id="cdea1-138">Verify the SQL Server Agent service is configured with a **Startup type** of **Automatic** unless the SQL Server Agent service is configured as a cluster resource on a Windows Server cluster.</span></span> <span data-ttu-id="cdea1-139">SQL Server エージェント サービスがクラスター リソースとして構成されているかどうかは、構成する必要があります、**スタートアップの種類**として**手動**サービスは、クラスター サービスによって管理されるためです。</span><span class="sxs-lookup"><span data-stu-id="cdea1-139">If the SQL Server Agent service is configured as a cluster resource, then you should configure the **Startup type** as **Manual** because the service will be managed by the Cluster service.</span></span>  
  
## <a name="configure-purging-and-archiving-of-tracking-data"></a><span data-ttu-id="cdea1-140">構成の削除と追跡データのアーカイブ</span><span class="sxs-lookup"><span data-stu-id="cdea1-140">Configure Purging and Archiving of Tracking Data</span></span>  
 <span data-ttu-id="cdea1-141">削除と追跡データのアーカイブが正しく構成されていることを確認する次の手順に従います。</span><span class="sxs-lookup"><span data-stu-id="cdea1-141">Follow these steps to ensure that purging and archiving of tracking data is configured correctly:</span></span>  
  
-   <span data-ttu-id="cdea1-142">SQL エージェント ジョブ「DTA の消去およびアーカイブ」が適切に構成された、有効化、および正常に完了することを確認します。</span><span class="sxs-lookup"><span data-stu-id="cdea1-142">Ensure the SQL Agent job “DTA Purge and Archive” is properly configured, enabled, and successfully completing.</span></span> <span data-ttu-id="cdea1-143">詳細についてで BizTalk Server のドキュメントで「方法を構成、DTA Purge とアーカイブ ジョブ」を参照してください。 [ http://go.microsoft.com/fwlink/?LinkId=104908](http://go.microsoft.com/fwlink/?LinkId=104908)します。</span><span class="sxs-lookup"><span data-stu-id="cdea1-143">For more information, see "How to Configure the DTA Purge and Archive Job" in the BizTalk Server documentation at [http://go.microsoft.com/fwlink/?LinkId=104908](http://go.microsoft.com/fwlink/?LinkId=104908).</span></span>  
  
-   <span data-ttu-id="cdea1-144">ジョブが速やかに受信した追跡データが生成されると、追跡データを消去することを確認します。</span><span class="sxs-lookup"><span data-stu-id="cdea1-144">Ensure the job is able to purge the tracking data as fast as the incoming tracking data is generated.</span></span> <span data-ttu-id="cdea1-145">詳細については、BizTalk Server 2006 R2 のドキュメント「を測定する最大の追跡スループット」を参照してください。 [ http://go.microsoft.com/fwlink/?LinkId=104909](http://go.microsoft.com/fwlink/?LinkId=104909)します。</span><span class="sxs-lookup"><span data-stu-id="cdea1-145">For more information, see "Measuring Maximum Sustainable Tracking Throughput" in the BizTalk Server 2006 R2 documentation at [http://go.microsoft.com/fwlink/?LinkId=104909](http://go.microsoft.com/fwlink/?LinkId=104909).</span></span>  
  
-   <span data-ttu-id="cdea1-146">論理削除と時間の最適な長さのデータを保持することを確認する物理削除パラメーターを確認します。</span><span class="sxs-lookup"><span data-stu-id="cdea1-146">Review the soft purge and hard purge parameters to ensure you are keeping data for the optimal length of time.</span></span> <span data-ttu-id="cdea1-147">詳細についてで BizTalk Server のドキュメントで「アーカイブと削除、BizTalk 追跡データベース」を参照してください。 [ http://go.microsoft.com/fwlink/?LinkId=101585](http://go.microsoft.com/fwlink/?LinkId=101585)します。</span><span class="sxs-lookup"><span data-stu-id="cdea1-147">For more information, see "Archiving and Purging the BizTalk Tracking Database" in the BizTalk Server documentation at [http://go.microsoft.com/fwlink/?LinkId=101585](http://go.microsoft.com/fwlink/?LinkId=101585).</span></span>  
  
-   <span data-ttu-id="cdea1-148">古いデータを消去しないだけの場合必要があります、最初の変更を保存する SQL エージェント ジョブ"dtasp_PurgeTrackingDatabase"ストアド プロシージャを呼び出す</span><span class="sxs-lookup"><span data-stu-id="cdea1-148">If you only need to purge the old data and do not need to archive it first, change the SQL Agent job to call the stored procedure “dtasp_PurgeTrackingDatabase.”</span></span> <span data-ttu-id="cdea1-149">詳細についてで BizTalk Server のドキュメントで「方法にデータから、BizTalk 追跡データベースの削除」を参照してください。 [ http://go.microsoft.com/fwlink/?LinkId=101584](http://go.microsoft.com/fwlink/?LinkId=101584)します。</span><span class="sxs-lookup"><span data-stu-id="cdea1-149">For more information, see "How to Purge Data from the BizTalk Tracking Database" in the BizTalk Server documentation at [http://go.microsoft.com/fwlink/?LinkId=101584](http://go.microsoft.com/fwlink/?LinkId=101584).</span></span>  
  
## <a name="monitor-and-reduce-dtc-log-file-disk-io-contention"></a><span data-ttu-id="cdea1-150">監視し、DTC ログ ファイルのディスク I/O の競合の削減</span><span class="sxs-lookup"><span data-stu-id="cdea1-150">Monitor and reduce DTC log file disk I/O contention</span></span>  
 <span data-ttu-id="cdea1-151">Microsoft 分散トランザクション コーディネーター (MS DTC) ログ ファイルは、トランザクション処理を要する環境でディスク I/O のボトルネックになります。</span><span class="sxs-lookup"><span data-stu-id="cdea1-151">The Microsoft Distributed Transaction Coordinator (MS DTC) log file can become a disk I/O bottleneck in transaction-intensive environments.</span></span> <span data-ttu-id="cdea1-152">これは、トランザクション、またはマルチ メッセージ ボックス環境で SQL Server、MSMQ、MQSeries などをサポートするアダプターを使用する場合に特に当てはまります。</span><span class="sxs-lookup"><span data-stu-id="cdea1-152">This is especially true when using adapters that support transactions, such as SQL Server, MSMQ, or MQSeries, or in a multi-MessageBox environment.</span></span> <span data-ttu-id="cdea1-153">トランザクション アダプターが DTC トランザクションを使用し、メッセージ ボックスの複数の環境によって、DTC トランザクションを広範に使用します。</span><span class="sxs-lookup"><span data-stu-id="cdea1-153">Transactional adapters use DTC transactions, and multi-MessageBox environments make extensive use of DTC transactions.</span></span> <span data-ttu-id="cdea1-154">DTC ログ ファイルがディスク I/O のボトルネックにならないことを確認するには、SQL Server データベース サーバーには、DTC ログ ファイルが存在する場所、ディスクの I/O の使用量、ディスクを監視する必要があります。</span><span class="sxs-lookup"><span data-stu-id="cdea1-154">To ensure the DTC log file does not become a disk I/O bottleneck, you should monitor the disk I/O usage for the disk where the DTC log file resides on the SQL Server database server(s).</span></span> <span data-ttu-id="cdea1-155">ディスク、DTC ログ ファイルがあるディスクの I/O の使用量が過剰になると、DTC ログ ファイルを高速ディスクに移動し、検討してください。</span><span class="sxs-lookup"><span data-stu-id="cdea1-155">If disk I/O usage for the disk where the DTC log file resides becomes excessive then consider moving the DTC log file to a faster disk.</span></span> <span data-ttu-id="cdea1-156">SQL Server がクラスター化された環境でない問題の多くが複数のスピンドルを備えた高速な SAN ドライブ、共有ドライブ ログ ファイルが既に存在するためです。</span><span class="sxs-lookup"><span data-stu-id="cdea1-156">In an environment where SQL Server is clustered, this is not as much of a concern because the log file will already be on a shared drive, which will likely be a fast SAN drive with multiple spindles.</span></span> <span data-ttu-id="cdea1-157">それでもまだ、または、DTC ログ ファイルが他のハード ディスク ファイルと共有ディスク上の非クラスター化環境でのボトルネックになるため、ディスク I/O の使用状況を監視する必要があります。</span><span class="sxs-lookup"><span data-stu-id="cdea1-157">You should nevertheless still monitor the disk I/O usage because it can become a bottleneck in non-clustered environments or when the DTC log file is on a shared disk with other disk-intensive files.</span></span>  
  
 <span data-ttu-id="cdea1-158">DTC ログ ファイルがディスク I/O のボトルネックにならないことを確認するには、SQL Server データベース サーバーには、DTC ログ ファイルが存在する場所、ディスクの I/O の使用量、ディスクを監視する必要があります。</span><span class="sxs-lookup"><span data-stu-id="cdea1-158">To ensure the DTC log file does not become a disk I/O bottleneck, you should monitor the disk I/O usage for the disk where the DTC log file resides on the SQL Server database server(s).</span></span> <span data-ttu-id="cdea1-159">ディスク I/O、DTC ログ ファイルがあるディスクの使用量が過剰になると、DTC ログ ファイルを高速ディスクに移動し、検討してください。</span><span class="sxs-lookup"><span data-stu-id="cdea1-159">If disk I/O usage for the disk where the DTC log file resides becomes excessive, then consider moving the DTC log file to a faster disk.</span></span>  
  
 <span data-ttu-id="cdea1-160">SQL Server がクラスター化された環境でない問題の多くが複数のスピンドルを備えた高速な SAN ドライブ、共有ドライブ ログ ファイルが既に存在するためです。</span><span class="sxs-lookup"><span data-stu-id="cdea1-160">In an environment where SQL Server is clustered, this is not as much of a concern because the log file will already be on a shared drive, which will likely be a fast SAN drive with multiple spindles.</span></span> <span data-ttu-id="cdea1-161">それでもまだ、または、DTC ログ ファイルが他のハード ディスク ファイルと共有ディスク上の非クラスター化環境でのボトルネックになるため、ディスク I/O の使用状況を監視する必要があります。</span><span class="sxs-lookup"><span data-stu-id="cdea1-161">You should nevertheless still monitor the disk I/O usage because it can become a bottleneck in non-clustered environments or when the DTC log file is on a shared disk with other disk-intensive files.</span></span>  
  
## <a name="separate-the-messagebox-and-tracking-databases"></a><span data-ttu-id="cdea1-162">メッセージ ボックス データベースと追跡データベースを分離します。</span><span class="sxs-lookup"><span data-stu-id="cdea1-162">Separate the MessageBox and Tracking Databases</span></span>  
 <span data-ttu-id="cdea1-163">BizTalk メッセージ ボックスおよび BizTalk 追跡データベースは、最もアクティブであるために、ディスク I/O の競合に関する問題の可能性を低減する専用のドライブにこれらの各データ ファイルとトランザクション ログ ファイルを配置するをお勧めします。</span><span class="sxs-lookup"><span data-stu-id="cdea1-163">Because the BizTalk MessageBox and BizTalk Tracking databases are the most active, we recommend you place the data files and transaction log files for each of these on dedicated drives to reduce the likelihood of problems with disk I/O contention.</span></span> <span data-ttu-id="cdea1-164">たとえば、次の各メッセージ ボックス データベースと BizTalk 追跡データベース ファイルの 4 つのドライブ、1 つのドライブを必要があります。</span><span class="sxs-lookup"><span data-stu-id="cdea1-164">For example, you would need four drives for the MessageBox and BizTalk Tracking database files, one drive for each of the following:</span></span>  
  
- <span data-ttu-id="cdea1-165">メッセージ ボックス データ ファイル</span><span class="sxs-lookup"><span data-stu-id="cdea1-165">MessageBox data file(s)</span></span>  
  
- <span data-ttu-id="cdea1-166">メッセージ ボックス データベースのトランザクション ログ ファイル</span><span class="sxs-lookup"><span data-stu-id="cdea1-166">MessageBox transaction log file(s)</span></span>  
  
- <span data-ttu-id="cdea1-167">データ ファイルを BizTalk 追跡 (DTA)</span><span class="sxs-lookup"><span data-stu-id="cdea1-167">BizTalk Tracking (DTA) data file(s)</span></span>  
  
- <span data-ttu-id="cdea1-168">トランザクション ログ ファイルの BizTalk 追跡 (DTA)</span><span class="sxs-lookup"><span data-stu-id="cdea1-168">BizTalk Tracking (DTA) transaction log file(s)</span></span>  
  
  <span data-ttu-id="cdea1-169">BizTalk メッセージ ボックスおよび BizTalk 追跡データベースを分離し、データベース ファイルとトランザクション ログ ファイルの異なる物理ディスクを分離することは、ディスク I/O の競合を減らすためのベスト プラクティスと見なされます。</span><span class="sxs-lookup"><span data-stu-id="cdea1-169">Separating the BizTalk MessageBox and BizTalk Tracking databases and separating the database files and transaction log files on different physical disks are considered best practices for reducing disk I/O contention.</span></span> <span data-ttu-id="cdea1-170">できるだけ多くの物理スピンドルにディスク I/O を分散しようとしてください。</span><span class="sxs-lookup"><span data-stu-id="cdea1-170">Try to spread the disk I/O across as many physical spindles as possible.</span></span> <span data-ttu-id="cdea1-171">専用の SQL Server で、BizTalk 追跡データベースを配置することで、ディスク I/O の競合を削減することも、データ ファイルとトランザクション ログ ファイルを分離することに関しては、上記のプラクティスがまだに従ってする必要があります。</span><span class="sxs-lookup"><span data-stu-id="cdea1-171">You can also reduce disk I/O contention by placing the BizTalk Tracking database on a dedicated SQL Server, however, you should still follow the practices above with regards to separating data files and transaction log files.</span></span>  
  
## <a name="optimize-filegroups-for-the-biztalk-server-databases"></a><span data-ttu-id="cdea1-172">BizTalk Server データベースのファイル グループを最適化します。</span><span class="sxs-lookup"><span data-stu-id="cdea1-172">Optimize filegroups for the BizTalk Server databases</span></span>  
 <span data-ttu-id="cdea1-173">次の手順では、 [、Databases1 のファイル グループを最適化する](../technical-guides/optimizing-filegroups-for-the-databases1.md)「BizTalk Server データベースの最適化」ホワイト ペーパーと[ http://go.microsoft.com/fwlink/?LinkId=101578 ](http://go.microsoft.com/fwlink/?LinkId=101578) BizTalk の追加のファイル グループとファイルを作成するにはサーバーのデータベース。</span><span class="sxs-lookup"><span data-stu-id="cdea1-173">Follow the steps in [Optimizing Filegroups for the Databases1](../technical-guides/optimizing-filegroups-for-the-databases1.md) and the "BizTalk Server Database Optimization" whitepaper at [http://go.microsoft.com/fwlink/?LinkId=101578](http://go.microsoft.com/fwlink/?LinkId=101578) to create additional filegroups and files for the BizTalk Server databases.</span></span> <span data-ttu-id="cdea1-174">これにより、1 つのディスク構成から BizTalk Server データベースのパフォーマンスが大幅に増加します。</span><span class="sxs-lookup"><span data-stu-id="cdea1-174">This will greatly increase the performance of the BizTalk Server databases from a single disk configuration.</span></span>