---
title: サイド バイ サイドのバージョン管理を使用してスキーマの更新 |Microsoft ドキュメント
ms.custom: ''
ms.date: 06/08/2017
ms.prod: biztalk-server
ms.reviewer: ''
ms.suite: ''
ms.tgt_pltfrm: ''
ms.topic: article
ms.assetid: a7360ec5-b5e9-40c7-9a7c-965fcc95ddb0
caps.latest.revision: 2
author: MandiOhlinger
ms.author: mandia
manager: anneta
ms.openlocfilehash: d3d63b93f665e80f88e2d9e81b2337e7b198b3df
ms.sourcegitcommit: cb908c540d8f1a692d01dc8f313e16cb4b4e696d
ms.translationtype: MT
ms.contentlocale: ja-JP
ms.lasthandoff: 09/20/2017
ms.locfileid: "22302242"
---
# <a name="updating-a-schema-using-side-by-side-versioning"></a>サイド バイ サイドのバージョン管理を使用してスキーマの更新
スキーマをサイド バイ サイドのバージョン管理を行うことができます。 こうと、スキーマの新しいバージョンをアセンブリに追加すると、既存のスキーマ (とそのバージョン) を中断している間、スキーマのバージョンをアップグレードする変更されません。  
  
 スキーマのバージョンを増分する場合は、パイプライン インスタンスとそれを使用するパイプライン コンポーネントのスキーマへの参照を更新する必要があります。 スキーマに依存する任意のオーケストレーションとスキーマの参照 (または新しいマップの作成) のマップを更新することも必要があります。  
  
 スキーマを展開解除する場合、スキーマの以前のバージョン、使用可能な場合、アクティブになります。  
  
## <a name="schema-resolution-in-pipelines"></a>パイプラインでスキーマの解決  
 追加する場合、アプリケーションを BizTalk グループ内の既存のスキーマと同じメッセージ型を持つ新しいスキーマを含むアセンブリを最新のバージョン番号を持つスキーマはスキーマの解決がパイプラインで発生したときに使用されます。 1 つのメッセージ型は、1 つ以上の .NET 型を参照して、このあいまいさがパイプラインの実行エラーにあります。 これは、メッセージの種類、ターゲットの名前空間、およびインスタンスのルート名がスキーマの検索に使用されるためです。 この種類のエラーは、パイプライン、新しいスキーマと同じメッセージ型を持つスキーマを使用するすべてのアプリケーションで発生します。 スキーマの解決の詳細については、次を参照してください。[スキーマの解決パイプライン コンポーネントで](http://go.microsoft.com/fwlink/?LinkID=154207)(http://go.microsoft.com/fwlink/?LinkID=154207) で[!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)]ヘルプ。  
  
 XML 逆アセンブラーのスキーマの解決の動作は、古いバージョンのサイド バイ サイドでのスキーマの新しいバージョンを追加した後、追加の変更を必要があります。 、場合によっては、パイプライン デザイナーでパイプラインの逆アセンブラー プロパティ内のスキーマの特定のバージョンへのハードコード参照をする可能性があります。 これにより、実行時に、メッセージから XML コンテンツに検出されたメッセージの種類を動的を使用して、読み込むスキーマを XML 逆アセンブラーを決定する、動的解決の動作を回避することができます。  
  
## <a name="updating-a-schema-in-an-orchestration"></a>オーケストレーションでスキーマの更新  
 複数の送信に関連付けられているスキーマを変更すると、受信図形をオーケストレーションでは、送信ごとに関連付けられているメッセージのメッセージの種類プロパティを設定して、変更をはるかに簡単に行うまたは受信図形、マルチパート メッセージの種類になくスキーマです。 同じスキーマにするには、各図形に関連付けられているメッセージ部分の型のプロパティを設定できます。 それによってと、各図形のメッセージの種類を変更することではなく、各メッセージ部分の Type プロパティを変更して、後でスキーマを変更することができます。 このプロセスが簡単に変更を加えるの詳細については、次を参照してください。、[向上 BizTalk プログラミングの 8 ヒントとテクニック](http://go.microsoft.com/fwlink/?LinkId=101594)ホワイト ペーパー (http://go.microsoft.com/fwlink/?LinkId=101594)。  
  
## <a name="versioning-schemas"></a>バージョン管理スキーマ  
 BizTalk Server では、それを含むアセンブリの最新のバージョンからスキーマを受け取ります。 これは、スキーマの新しいバージョンを作成する場合、新しいバージョン完全に置き換えられるスキーマのすべての以前のバージョンを意味します。 これは、短期間のトランザクションの場合に有効です。 ただし、ビジネス プロセス管理ソリューション内のトランザクションは有効期間が長い: 注文かかる場合があります、年を完了します。  
  
 スキーマの複数のバージョンが使用される可能性を考慮して、ソリューションの各スキーマは名前空間にバージョン番号を含んでいます。 BizTalk パイプラインでは、ターゲットの名前空間に基づくメッセージおよびスキーマで定義されているルート ノード名のメッセージの種類を決定します。 たとえば、注文スキーマの名前空間は次のようになっています。  
  
```  
http://Microsoft.Samples.BizTalk.SouthridgeVideo.Schemas.Order.v1  
```  
  
 名前空間は、スキーマ、およびバージョン番号を含めることにもスキーマに一意の名前空間が識別されるため、新しいスキーマは古いバージョンとは異なるされます。 したがって、古いスキーマを置き換えずに新しいスキーマを使用できます。  
  
 スキーマのバージョンを変更することができますに影響を与える、ソリューションの多くの部分のため、この事前に計画する必要があります。 スキーマのバージョンの変更の影響の詳細については、次を参照してください。[スキーマの解決パイプライン コンポーネントで](http://go.microsoft.com/fwlink/?LinkID=154207)(http://go.microsoft.com/fwlink/?LinkID=154207) で[!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)]ヘルプ。  
  
 オーケストレーション内のスキーマのバージョンを変更する場合は、マルチパート メッセージの種類を使用します。 より柔軟にそうなるときにスキーマのバージョン管理します。 マルチパート メッセージの種類を使用する利点の詳細についてを参照してくださいヒント 1、「常に使用してマルチパート メッセージの種類、」MSDN マガジンの記事[向上 BizTalk プログラミングの 8 ヒントとテクニック](http://go.microsoft.com/fwlink/?LinkId=101594)(http://go.microsoft.com/fwlink/しますか。LinkId = 101594)。  
  
## <a name="see-also"></a>参照  
 [アプリケーションの更新のベスト プラクティス](../technical-guides/best-practices-for-updating-applications.md)