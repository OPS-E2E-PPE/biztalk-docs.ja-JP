---
title: "BizTalk Server の一般的な Optimizations1 |Microsoft ドキュメント"
ms.custom: 
ms.date: 06/08/2017
ms.prod: biztalk-server
ms.reviewer: 
ms.suite: 
ms.tgt_pltfrm: 
ms.topic: article
ms.assetid: e8032553-bae3-440d-9197-b926160b0bdf
caps.latest.revision: "28"
author: MandiOhlinger
ms.author: mandia
manager: anneta
ms.openlocfilehash: 2e9e799822c63cb78eda1b989cb157c71fd357d8
ms.sourcegitcommit: 5abd0ed3f9e4858ffaaec5481bfa8878595e95f7
ms.translationtype: MT
ms.contentlocale: ja-JP
ms.lasthandoff: 11/28/2017
---
# <a name="general-biztalk-server-optimizations"></a><span data-ttu-id="0da86-102">BizTalk Server の一般的な最適化</span><span class="sxs-lookup"><span data-stu-id="0da86-102">General BizTalk Server Optimizations</span></span>
<span data-ttu-id="0da86-103">BizTalk Server のパフォーマンスを向上させるのには、次の推奨事項を使用できます。</span><span class="sxs-lookup"><span data-stu-id="0da86-103">The following recommendations can be used to increase BizTalk Server performance.</span></span> <span data-ttu-id="0da86-104">BizTalk Server をインストールして、構成後、このトピックで示した最適化が適用されます。</span><span class="sxs-lookup"><span data-stu-id="0da86-104">The optimizations listed in this topic are applied after BizTalk Server has been installed and configured.</span></span>  
  
## <a name="configure-msdtc"></a><span data-ttu-id="0da86-105">MSDTC を構成します。</span><span class="sxs-lookup"><span data-stu-id="0da86-105">Configure MSDTC</span></span>  
 <span data-ttu-id="0da86-106">SQL Server と BizTalk Server の間でトランザクションを容易にするため、Microsoft 分散トランザクション コーディネーター (MS DTC) を有効にする必要があります。</span><span class="sxs-lookup"><span data-stu-id="0da86-106">To facilitate transactions between SQL Server and BizTalk Server, you must enable Microsoft Distributed Transaction Coordinator (MS DTC).</span></span> <span data-ttu-id="0da86-107">BizTalk Server で MSDTC を構成するには、トピックを参照して[オペレーティング システムのパフォーマンスを向上させるための一般的なガイドライン](../technical-guides/general-guidelines-for-improving-operating-system-performance.md)です。</span><span class="sxs-lookup"><span data-stu-id="0da86-107">To configure MSDTC on BizTalk Server, see the topic [General Guidelines for Improving Operating System Performance](../technical-guides/general-guidelines-for-improving-operating-system-performance.md).</span></span>  
  
## <a name="recommendations-for-configuring-biztalk-server-hosts"></a><span data-ttu-id="0da86-108">BizTalk Server ホストの構成に関する推奨事項</span><span class="sxs-lookup"><span data-stu-id="0da86-108">Recommendations for configuring BizTalk Server hosts</span></span>  
 <span data-ttu-id="0da86-109">このセクションでは、BizTalk Server ホストの構成に関する推奨事項を説明します。</span><span class="sxs-lookup"><span data-stu-id="0da86-109">This section provides recommendations for configuring BizTalk Server hosts.</span></span>  
  
### <a name="create-multiple-biztalk-server-hosts-and-separate-host-instances-by-functionality"></a><span data-ttu-id="0da86-110">機能によって、複数の BizTalk Server ホストと別のホスト インスタンスを作成します。</span><span class="sxs-lookup"><span data-stu-id="0da86-110">Create multiple BizTalk Server hosts and separate host instances by functionality</span></span>  
 <span data-ttu-id="0da86-111">複数の BizTalk Server ホストを作成し、それらのホスト間でワークロードを割り当てるにこれらのガイドラインに従います。</span><span class="sxs-lookup"><span data-stu-id="0da86-111">Follow these guidelines to create multiple BizTalk Server hosts and allocate workload across those hosts:</span></span>  
  
-   <span data-ttu-id="0da86-112">送信、受信、処理、および追跡機能を別々 のホストを作成します。</span><span class="sxs-lookup"><span data-stu-id="0da86-112">Create separate hosts for sending, receiving, processing, and tracking functionality.</span></span> <span data-ttu-id="0da86-113">複数の BizTalk ホストを作成する、BizTalk グループで、ワークロードを構成する際の柔軟性を複数の BizTalk グループに BizTalk Server を実行しているコンピューターで処理を分散する主な手段。</span><span class="sxs-lookup"><span data-stu-id="0da86-113">Creating multiple BizTalk hosts provides flexibility when configuring the workload in your BizTalk group and is the primary means of distributing processing across the computers running BizTalk Server in a BizTalk group.</span></span> <span data-ttu-id="0da86-114">複数のホストを使用するには、他のホストに影響を与えずに 1 つのホストを停止することができます。</span><span class="sxs-lookup"><span data-stu-id="0da86-114">Using multiple hosts allows you to stop one host without affecting other hosts.</span></span> <span data-ttu-id="0da86-115">たとえば、停止できるようにメッセージを送信するキュー メッセージ ボックス データベースに受信メッセージを受信する受信アダプターを別のホスト インスタンスで実行されている状態のままする可能性があります。</span><span class="sxs-lookup"><span data-stu-id="0da86-115">For example, you may want to stop sending messages to let them queue up in the MessageBox database while still allowing a receive adapter running in a different host instance to receive inbound messages.</span></span> <span data-ttu-id="0da86-116">機能別のホスト インスタンスを分離すると、次の利点も提供されます。</span><span class="sxs-lookup"><span data-stu-id="0da86-116">Separating host instances by functionality also provides the following benefits:</span></span>  
  
    -   <span data-ttu-id="0da86-117">複数の BizTalk ホストを実行すると、各ホストには、メッセージ ボックス データベースに独自の作業キュー テーブルが割り当てられるために、メッセージ ボックス データベースのホスト キュー テーブルでの競合が軽減します。</span><span class="sxs-lookup"><span data-stu-id="0da86-117">Running multiple BizTalk hosts reduces contention on the MessageBox database host queue tables because each host is assigned its own work queue tables in the MessageBox database.</span></span>  
  
    -   <span data-ttu-id="0da86-118">制限については、ホスト レベルで BizTalk Server で実装されます。</span><span class="sxs-lookup"><span data-stu-id="0da86-118">Throttling is implemented in BizTalk Server at the host-level.</span></span> <span data-ttu-id="0da86-119">これにより、ホストごとに異なる調整特性を設定することができます。</span><span class="sxs-lookup"><span data-stu-id="0da86-119">This allows you to set different throttling characteristics for each host.</span></span>  
  
    -   <span data-ttu-id="0da86-120">ホスト レベルでセキュリティが実装されています。各ホストは、個別の Windows id で実行されます。</span><span class="sxs-lookup"><span data-stu-id="0da86-120">Security is implemented at the host-level; each host runs under a discrete Windows identity.</span></span> <span data-ttu-id="0da86-121">たとえば、Host_A にアクセス FileShare_B、いずれかのファイル共有にアクセスするその他のホストを許可しない中にできます。</span><span class="sxs-lookup"><span data-stu-id="0da86-121">This allows you to, for example, give Host_A access to FileShare_B, while not allowing any of the other hosts to access the file share.</span></span>  
  
-   <span data-ttu-id="0da86-122">各ホスト インスタンスでは、.NET スレッド プールでメモリ、ハンドル、およびスレッドなどのリソースの独自セットがあります。</span><span class="sxs-lookup"><span data-stu-id="0da86-122">Each host instance has its own set of resources such as memory, handles, and threads in the .NET thread pool.</span></span> <span data-ttu-id="0da86-123">ホスト間でワークロードを割り当てるときは、同じホスト上で同時にスケール アウトするリソースを配置することを検討してください。</span><span class="sxs-lookup"><span data-stu-id="0da86-123">When allocating workload across hosts consider placing resources that scale together in the same host.</span></span>  
  
-   <span data-ttu-id="0da86-124">個別のアダプターとオーケストレーションを別のホスト リソースの別の優先順位を持ちます。</span><span class="sxs-lookup"><span data-stu-id="0da86-124">Separate adapters and orchestrations that have different priorities for resources in different hosts.</span></span> <span data-ttu-id="0da86-125">この手法は、専用の BizTalk Server コンピューター上の優先度の高いアプリケーションを実行しているホストの配置に対応します。</span><span class="sxs-lookup"><span data-stu-id="0da86-125">This technique accommodates the placement of hosts running high-priority applications on dedicated BizTalk Server computers.</span></span>  
  
> [!NOTE]  
>  <span data-ttu-id="0da86-126">追加のホスト インスタンスを作成する利点があるときに欠点がありますも潜在的な多数のホスト インスタンスが作成される場合。</span><span class="sxs-lookup"><span data-stu-id="0da86-126">While there are benefits to creating additional host instances, there are also potential drawbacks if too many host instances are created.</span></span> <span data-ttu-id="0da86-127">各ホスト インスタンスは、メッセージ ボックス データベースに対して追加の負荷を生成し、コンピューターのリソース (CPU、メモリ、スレッド) などを使用する Windows サービス (BTSNTSvc.exe) です。</span><span class="sxs-lookup"><span data-stu-id="0da86-127">Each host instance is a Windows service (BTSNTSvc.exe), which generates additional load against the MessageBox database and consumes computer resources (such as CPU, memory, threads).</span></span>  
  
 <span data-ttu-id="0da86-128">BizTalk Server を変更する方法についてのホストのプロパティを参照してください[ホストのプロパティを変更する方法](http://go.microsoft.com/fwlink/?LinkID=154359)(http://go.microsoft.com/fwlink/?LinkID=154359)、BizTalk Server 2010 ヘルプ。</span><span class="sxs-lookup"><span data-stu-id="0da86-128">For more information about modifying BizTalk Server host properties, see [How to Modify Host Properties](http://go.microsoft.com/fwlink/?LinkID=154359) (http://go.microsoft.com/fwlink/?LinkID=154359) in the BizTalk Server 2010 Help.</span></span>  
  
### <a name="configure-a-dedicated-tracking-host"></a><span data-ttu-id="0da86-129">専用の追跡ホストを構成します。</span><span class="sxs-lookup"><span data-stu-id="0da86-129">Configure a dedicated tracking host</span></span>  
 <span data-ttu-id="0da86-130">BizTalk Server は、メインのオーケストレーションとメッセージング エンジンは実際に移動しないメッセージ、BizTalk 追跡または BAM データベースに直接ビジネス プロセスを実行するがプライマリ ジョブからこれらのエンジンをそらすこれは、スループット、に対して最適化されます。</span><span class="sxs-lookup"><span data-stu-id="0da86-130">BizTalk Server is optimized for throughput, so the main orchestration and messaging engines do not actually move messages directly to the BizTalk Tracking or BAM databases, as this would divert these engines from their primary job of executing business processes.</span></span> <span data-ttu-id="0da86-131">代わりに、BizTalk Server は、メッセージ ボックス データベース、メッセージのままにし、BizTalk 追跡データベースへの移行を必須としてマークを付けます。</span><span class="sxs-lookup"><span data-stu-id="0da86-131">Instead, BizTalk Server leaves the messages in the MessageBox database and marks them as requiring a move to the BizTalk Tracking database.</span></span> <span data-ttu-id="0da86-132">バック グラウンド プロセス (追跡ホスト) し、BizTalk 追跡データベースおよび BAM データベースにメッセージを移動します。</span><span class="sxs-lookup"><span data-stu-id="0da86-132">A background process (the tracking host) then moves the messages to the BizTalk Tracking and BAM databases.</span></span> <span data-ttu-id="0da86-133">追跡はリソースを消費する操作のため、独立したホスト作成してください専用の追跡、追跡がメッセージの処理に専用ホストを持つことの影響を最小限に抑えること。</span><span class="sxs-lookup"><span data-stu-id="0da86-133">Because tracking is a resource-intensive operation, a separate host should be created that is dedicated to tracking, thereby minimizing the impact that tracking has on hosts dedicated to message processing.</span></span> <span data-ttu-id="0da86-134">パフォーマンスを最適化する必要がありますがある少なくとも 1 つの追跡メッセージ ボックス データベースごとにホストのインスタンス。</span><span class="sxs-lookup"><span data-stu-id="0da86-134">For optimal performance, there should be least one tracking host instance per MessageBox database.</span></span> <span data-ttu-id="0da86-135">追跡ホスト インスタンスの実際の数が n+1、する必要があります、N、メッセージ ボックス データベースの数を = です。</span><span class="sxs-lookup"><span data-stu-id="0da86-135">The actual number of tracking host instances should be N + 1, where N = the number of MessageBox databases.</span></span> <span data-ttu-id="0da86-136">「+ 1」の追跡をホストしているコンピューターのいずれかに失敗した場合は、冗長性のため、します。</span><span class="sxs-lookup"><span data-stu-id="0da86-136">The "+ 1" is for redundancy, in case one of the computers hosting tracking fails.</span></span>  
  
 <span data-ttu-id="0da86-137">BizTalk Server 追跡を妨げることがなく他の BizTalk ホストを停止する専用の追跡ホストを使用できます。</span><span class="sxs-lookup"><span data-stu-id="0da86-137">Using a dedicated tracking host also allows you to stop other BizTalk hosts without interfering with BizTalk Server tracking.</span></span> <span data-ttu-id="0da86-138">追跡メッセージ ボックス データベースからデータの移動は、正常な BizTalk Server システムにとって重要です。</span><span class="sxs-lookup"><span data-stu-id="0da86-138">The movement of tracking data out of the MessageBox database is critical for a healthy BizTalk Server system.</span></span> <span data-ttu-id="0da86-139">BizTalk グループ内の追跡データの移動を担当する BizTalk ホストを停止すると、データのデコードに追跡サービスは実行されません。</span><span class="sxs-lookup"><span data-stu-id="0da86-139">If the BizTalk Host responsible for moving tracking data in the BizTalk group is stopped, the Tracking Data Decode service will not run.</span></span> <span data-ttu-id="0da86-140">この効果は次のとおりです。</span><span class="sxs-lookup"><span data-stu-id="0da86-140">The impact of this is as follows:</span></span>  
  
-   <span data-ttu-id="0da86-141">HAT 追跡データは、BizTalk 追跡データベースにメッセージ ボックス データベースから移動されません。</span><span class="sxs-lookup"><span data-stu-id="0da86-141">HAT tracking data will not be moved from the MessageBox database to the BizTalk Tracking database.</span></span>  
  
-   <span data-ttu-id="0da86-142">BAM の追跡データは、BAM プライマリ インポート データベースにメッセージ ボックス データベースから移動されません。</span><span class="sxs-lookup"><span data-stu-id="0da86-142">BAM tracking data will not be moved from the MessageBox database to the BAM Primary Import database.</span></span>  
  
-   <span data-ttu-id="0da86-143">データが移動されていないために、メッセージ ボックス データベースから削除できません。</span><span class="sxs-lookup"><span data-stu-id="0da86-143">Because data is not moved, it cannot be deleted from the MessageBox database.</span></span>  
  
-   <span data-ttu-id="0da86-144">データのデコードに追跡サービスが停止したときに追跡インターセプターは引き続きファイア アンド メッセージ ボックス データベースに追跡データを書き込みます。</span><span class="sxs-lookup"><span data-stu-id="0da86-144">When the Tracking Data Decode service is stopped, tracking interceptors will still fire and write tracking data to the MessageBox database.</span></span> <span data-ttu-id="0da86-145">データが移動されていない場合は、一定期間のパフォーマンスに影響を与えるメッセージ ボックス データベースになります肥大化、これにより、します。</span><span class="sxs-lookup"><span data-stu-id="0da86-145">If the data is not moved, this will cause the MessageBox database to become bloated, which will impact performance over time.</span></span> <span data-ttu-id="0da86-146">場合でも、カスタム プロパティは追跡されませんまたは BAM プロファイルが設定されていない、既定では一部のデータは、追跡 (など、パイプラインは、受信/送信イベントおよびオーケストレーションのイベント)。</span><span class="sxs-lookup"><span data-stu-id="0da86-146">Even if custom properties are not tracked or BAM profiles are not set up, by default some data is tracked (such as pipeline receive / send events and orchestration events).</span></span> <span data-ttu-id="0da86-147">データのデコードに追跡サービスを実行しないようにする場合は、すべての追跡インターセプターをデータベースにデータ保存しないようにオフにします。</span><span class="sxs-lookup"><span data-stu-id="0da86-147">If you do not want to run the Tracking Data Decode service, turn off all tracking so that no interceptors save data to the database.</span></span> <span data-ttu-id="0da86-148">グローバル追跡を無効にするを参照してください。[グローバル追跡を無効にする方法](http://go.microsoft.com/fwlink/?LinkID=154193)(http://go.microsoft.com/fwlink/?LinkID=154193) BizTalk Server 2010 ヘルプの「します。</span><span class="sxs-lookup"><span data-stu-id="0da86-148">To disable global tracking, see [How to Turn Off Global Tracking](http://go.microsoft.com/fwlink/?LinkID=154193) (http://go.microsoft.com/fwlink/?LinkID=154193) in BizTalk Server 2010 Help.</span></span> <span data-ttu-id="0da86-149">選択的に追跡イベントを無効にするのにには、BizTalk Server 管理コンソールを使用します。</span><span class="sxs-lookup"><span data-stu-id="0da86-149">Use the BizTalk Server Administration console to selectively disable tracking events.</span></span>  
  
 <span data-ttu-id="0da86-150">追跡ホストは、BizTalk サーバー (1 つが失敗した場合の冗長構成) を実行するには、少なくとも 2 台のコンピューターで実行する必要があります。</span><span class="sxs-lookup"><span data-stu-id="0da86-150">The tracking host should be run on at least two computers running BizTalk Server (for redundancy in case one fails).</span></span> <span data-ttu-id="0da86-151">最適なパフォーマンスが必要には、少なくとも 1 つの追跡メッセージ ボックス データベースごとにホストのインスタンス。</span><span class="sxs-lookup"><span data-stu-id="0da86-151">For optimal performance, you should have at least one tracking host instance per MessageBox database.</span></span> <span data-ttu-id="0da86-152">追跡ホスト インスタンスの実際の数になります (N は + 1)、ここで N = メッセージ ボックス データベースの数。</span><span class="sxs-lookup"><span data-stu-id="0da86-152">The actual number of tracking host instances should be (N + 1), where N = the number of MessageBox databases.</span></span> <span data-ttu-id="0da86-153">「+ 1」の追跡をホストしているコンピューターのいずれかに失敗した場合は、冗長性のため、します。</span><span class="sxs-lookup"><span data-stu-id="0da86-153">The "+ 1" is for redundancy, in case one of the computers hosting tracking fails.</span></span>  
  
 <span data-ttu-id="0da86-154">追跡ホスト インスタンスが特定のメッセージ ボックス データベースの追跡データを移動しますが、されません 1 つ以上の追跡ホスト インスタンスの特定のメッセージ ボックス データベースのデータを移動します。</span><span class="sxs-lookup"><span data-stu-id="0da86-154">A tracking host instance moves tracking data for specific MessageBox databases, but there will never be more than one tracking host instance moving data for a specific MessageBox database.</span></span> <span data-ttu-id="0da86-155">たとえば、3 つのメッセージ ボックス データベースと 2 つのホスト インスタンスの追跡がある場合は、そのホスト インスタンスのいずれかの必要があります、メッセージ ボックス データベースの 2 つのデータを移動します。</span><span class="sxs-lookup"><span data-stu-id="0da86-155">For example, if you have three MessageBox databases, and only two tracking host instances, then one of the host instances needs to move data for two of the MessageBox databases.</span></span> <span data-ttu-id="0da86-156">追跡を配布して、3 番目のホスト インスタンスの追跡を追加する BizTalk Server を実行している別のコンピューターへの作業をホストします。</span><span class="sxs-lookup"><span data-stu-id="0da86-156">Adding a third tracking host instance distributes the tracking host work to another computer running BizTalk Server.</span></span> <span data-ttu-id="0da86-157">このシナリオでは、複数の追跡ホストの配布と 4 つ目のホスト インスタンスの追跡を追加する機能しますが、余分なは、フォールト トレランスのホスト インスタンスを追跡します。</span><span class="sxs-lookup"><span data-stu-id="0da86-157">In this scenario, adding a fourth tracking host instance would not distribute any more tracking host work, but would provide an extra tracking host instance for fault tolerance.</span></span>  
  
 <span data-ttu-id="0da86-158">BAM イベント バス サービスの詳細については、BizTalk Server 2010 ヘルプで次のトピックを参照してください。</span><span class="sxs-lookup"><span data-stu-id="0da86-158">For more information about the BAM Event Bus service, see the following topics in BizTalk Server 2010 Help:</span></span>  
  
-   <span data-ttu-id="0da86-159">[BAM イベント バス サービスを管理する](http://go.microsoft.com/fwlink/?LinkID=154194)(http://go.microsoft.com/fwlink/?LinkID=154194)。</span><span class="sxs-lookup"><span data-stu-id="0da86-159">[Managing the BAM Event Bus Service](http://go.microsoft.com/fwlink/?LinkID=154194) (http://go.microsoft.com/fwlink/?LinkID=154194).</span></span>  
  
-   <span data-ttu-id="0da86-160">[BAM イベント バス サービスのインスタンスを作成する](http://go.microsoft.com/fwlink/?LinkID=154195)(http://go.microsoft.com/fwlink/?LinkID=154195)。</span><span class="sxs-lookup"><span data-stu-id="0da86-160">[Creating Instances of the BAM Event Bus Service](http://go.microsoft.com/fwlink/?LinkID=154195) (http://go.microsoft.com/fwlink/?LinkID=154195).</span></span>  
  
### <a name="do-not-cluster-biztalk-hosts-unless-absolutely-necessary"></a><span data-ttu-id="0da86-161">クラスター化しない BizTalk ホストしない限り、どうしても必要な</span><span class="sxs-lookup"><span data-stu-id="0da86-161">Do not cluster BizTalk hosts unless absolutely necessary</span></span>  
 <span data-ttu-id="0da86-162">BizTalk Server 2010 では、BizTalk ホストをクラスター リソースとして構成することができます、中にのみ複数の BizTalk コンピューター間でホストされることはできません、リソースへの高可用性を提供する必要がある場合は、これを行うを考慮する必要があります。</span><span class="sxs-lookup"><span data-stu-id="0da86-162">While BizTalk Server 2010 allows you to configure a BizTalk host as a cluster resource, you should only consider doing this if you need to provide high availability to a resource that cannot be hosted across multiple BizTalk computers.</span></span> <span data-ttu-id="0da86-163">例として、FTP アダプターを使用してポート必要がありますのみに存在する 1 つのホスト インスタンスでは、FTP プロトコルはファイルのロックを指定しないためです。</span><span class="sxs-lookup"><span data-stu-id="0da86-163">As an example, ports using the FTP adapter should only reside on one host instance, as the FTP protocol does not provide file locking.</span></span> <span data-ttu-id="0da86-164">ただし、クラスタ リングからメリットを享受、障害の 1 つのポイントが生じます。</span><span class="sxs-lookup"><span data-stu-id="0da86-164">However, this introduces a single point of failure, which would benefit from clustering.</span></span> <span data-ttu-id="0da86-165">ホスト ファイル、SQL、HTTP ホストのみを処理などのアダプターを含めることができます内部的に負荷が複数のコンピューターで分散され、クラスター化から有効ではありません。</span><span class="sxs-lookup"><span data-stu-id="0da86-165">Hosts that contain adapters, such as file, SQL, HTTP or processing only hosts, can be internally load balanced across computers, and do not benefit from clustering.</span></span>  
  
## <a name="increase-the-number-of--http-concurrent-connections-allowed-by-changing-the-value-for-the-maxconnection-parameter"></a><span data-ttu-id="0da86-166">Maxconnection パラメーターの値を変更することで許可される HTTP の同時接続の数を増やす</span><span class="sxs-lookup"><span data-stu-id="0da86-166">Increase the number of  HTTP concurrent connections allowed by changing the value for the maxconnection parameter</span></span>  
 <span data-ttu-id="0da86-167">既定では、(WCF ベースの HTTP アダプターを含む)、HTTP アダプターは、特定の移行先サーバーに BizTalk Server を実行する各コンピューターから 2 つの同時実行 HTTP 接続を開きます。</span><span class="sxs-lookup"><span data-stu-id="0da86-167">By default, the  HTTP adapters (including WCF-based HTTP adapters) open only two concurrent HTTP connections from each computer running BizTalk Server to any specific destination server.</span></span>  
  
 <span data-ttu-id="0da86-168">この設定は、HTTP 1.1 仕様では、IETF RFC に準拠し、高スループットの最適化がいないですが、ユーザー シナリオに適した、します。</span><span class="sxs-lookup"><span data-stu-id="0da86-168">This setting conforms to the IETF RFC for the HTTP 1.1 specification, and although it is suitable for user scenarios, it is not optimized for high throughput.</span></span> <span data-ttu-id="0da86-169">設定は、BizTalk Server を実行する各コンピューターから各サーバーに送信 HTTP 呼び出しを次の 2 つの同時送信効果的に調整されます。</span><span class="sxs-lookup"><span data-stu-id="0da86-169">The setting effectively throttles outbound  HTTP calls to each server to two concurrent sends from each computer running BizTalk Server.</span></span>  
  
 <span data-ttu-id="0da86-170">同時接続数を増やすには、BTSNTSvc.exe.config (または BTSNTSvc64.exe.config の 64 ビット ホスト)、BizTalk Server ごとに、BizTalk Server 構成ファイルで maxconnection パラメーターの値を変更することができます。</span><span class="sxs-lookup"><span data-stu-id="0da86-170">To increase the number of concurrent connections, you can modify the value for the maxconnection parameter in the BizTalk Server configuration file, BTSNTSvc.exe.config (or BTSNTSvc64.exe.config for 64-bit hosts), on each BizTalk Server.</span></span> <span data-ttu-id="0da86-171">これは、呼び出されている特定のサーバーに拡大できます。</span><span class="sxs-lookup"><span data-stu-id="0da86-171">You can increase this for the specific servers being called.</span></span> <span data-ttu-id="0da86-172">原則として、として maxconnection パラメーターの値を 12 に設定する必要があります * Cpu または web アプリケーションをホストしているコンピューター上のコアの数。</span><span class="sxs-lookup"><span data-stu-id="0da86-172">As a rule of thumb, the value for the maxconnection parameter should be set to 12 * the number of CPUs or cores on the computer hosting the web application.</span></span>  
  
> [!NOTE]  
>  <span data-ttu-id="0da86-173">このような大きな値を HTTP 接続で呼び出されている Web サーバーの負荷が大きいこと maxconnection パラメーターの値を増やさないでください。</span><span class="sxs-lookup"><span data-stu-id="0da86-173">Do not increase the value for the maxconnection parameter to such a large value that the Web server being called is overwhelmed with HTTP connections.</span></span> <span data-ttu-id="0da86-174">Maxconnection パラメーターの値を変更した後、ストレス maxconnection 良好なパフォーマンスと HTTP を提供するための値がターゲット Web をパンクさせることがなく送信を決定する各変換先の Web サーバーに要求を送信することによってテストを実行します。サーバー。</span><span class="sxs-lookup"><span data-stu-id="0da86-174">After changing the value for the maxconnection parameter, perform stress testing by sending requests to each destination Web server to determine a value for maxconnection that will provide good performance  and HTTP sends without overwhelming the target Web servers.</span></span>  
  
 <span data-ttu-id="0da86-175">"最大接続数" プロパティの構成例を次に示します。</span><span class="sxs-lookup"><span data-stu-id="0da86-175">The following is an example of the configuration for the maximum connections property:</span></span>  
  
```  
<configuration>  
  <system.net>  
    <connectionManagement>  
      <add address="http://www.contoso.com" maxconnection="24" />  
      <add address="*" maxconnection="48" />  
    </connectionManagement>  
  </system.net>  
</configuration>  
```  
  
 <span data-ttu-id="0da86-176">Maxconnection プロパティを設定するときに、HTTP、HTTPS、web サイトの IP アドレスおよびポート番号を指定することができます。</span><span class="sxs-lookup"><span data-stu-id="0da86-176">When setting the maxconnection property, HTTP, HTTPS, the web site IP address, and the port number can be specified.</span></span> <span data-ttu-id="0da86-177">その他の例は次のとおりです。</span><span class="sxs-lookup"><span data-stu-id="0da86-177">Other examples include:</span></span>  
  
 <span data-ttu-id="0da86-178">**\<アドレスの追加"https://www.contoso.com"maxconnection を = =「24」/\>** </span><span class="sxs-lookup"><span data-stu-id="0da86-178">**\<add address="https://www.contoso.com" maxconnection="24" /\>** </span></span>  
<span data-ttu-id="0da86-179">**\<アドレスの追加"http://www.contoso.com:8080"maxconnection を = =「24」/\>** </span><span class="sxs-lookup"><span data-stu-id="0da86-179">**\<add address="http://www.contoso.com:8080" maxconnection="24" /\>** </span></span>  
<span data-ttu-id="0da86-180">**\<アドレスを追加 ="http://*IPAddress*"maxconnection =「24」/\>* * Web サービスの IIS と ASP.NET の設定をチューニングの詳細については、「ASP.NET 設定 HTTP アダプターのパフォーマンスに影響する」を参照してくださいセクション。[アダプターのパフォーマンスに影響する構成パラメーター](http://go.microsoft.com/fwlink/?LinkID=154200) (http://go.microsoft.com/fwlink/?LinkID=154200) BizTalk Server 2010 ヘルプの「します。</span><span class="sxs-lookup"><span data-stu-id="0da86-180">**\<add address="http://*IPAddress*" maxconnection="24" /\>**  For more information about tuning IIS and ASP.NET settings for Web services, see the "ASP.NET settings that can impact HTTP  Adapter performance" section of [Configuration Parameters that Affect Adapter Performance](http://go.microsoft.com/fwlink/?LinkID=154200) (http://go.microsoft.com/fwlink/?LinkID=154200) in BizTalk Server 2010 Help.</span></span>  
  
## <a name="manage-aspnet-thread-usage-or-concurrently-executing-requests-for-web-applications-that-can-host--isolated-received-locations-back-end-web-services-and-wcf-services"></a><span data-ttu-id="0da86-181">ASP.NET スレッドの使用状況を管理または受信場所、バックエンド Web サービスと WCF サービスをホストする Web アプリケーションに対する要求を同時に実行される分離</span><span class="sxs-lookup"><span data-stu-id="0da86-181">Manage ASP.NET thread usage or concurrently executing requests for Web applications that can host  isolated received locations, back-end Web services and WCF services</span></span>  
 <span data-ttu-id="0da86-182">ワーカーと I/O スレッド (IIS 7.5、およびクラシック モードの IIS 7.0) または同時に要求を実行する (IIS 7.5 および 7.0 統合モード) の ASP.NET Web アプリケーションの受信場所、バックエンド Web サービスと WCF サービス ホストを分離する数の数次の条件を変更する必要があります。</span><span class="sxs-lookup"><span data-stu-id="0da86-182">The number of worker and I/O threads (IIS 7.5 and IIS 7.0 in classic mode) or the number of concurrently executing requests (IIS 7.5 and 7.0 integrated mode) for an ASP.NET Web application that hosts isolated received locations, back-end Web services and WCF services should be modified under the following conditions:</span></span>  
  
-   <span data-ttu-id="0da86-183">CPU 使用率がホストする Web サーバー上のボトルネックではありません。</span><span class="sxs-lookup"><span data-stu-id="0da86-183">CPU utilization is not a bottleneck on the hosting Web server.</span></span>  
  
-   <span data-ttu-id="0da86-184">値です。</span><span class="sxs-lookup"><span data-stu-id="0da86-184">The value of:</span></span>  
  
    -   <span data-ttu-id="0da86-185">**ASP.NET アプリ v4.0.30319 \Request Wait Time**または**ASP.NET アプリ v4.0.30319 \Request 実行時間**パフォーマンス カウンターが異常に高いです。</span><span class="sxs-lookup"><span data-stu-id="0da86-185">**ASP.NET Apps v4.0.30319 \Request Wait Time** or **ASP.NET Apps v4.0.30319 \Request Execution Time** performance counters is unusually high.</span></span>  
  
    -   <span data-ttu-id="0da86-186">**ASP.NET アプリ v2.0.50727\Request Wait Time**または**ASP.NET アプリ v2.0.50727\Request 実行時間**パフォーマンス カウンターが異常に高いです。</span><span class="sxs-lookup"><span data-stu-id="0da86-186">**ASP.NET Apps v2.0.50727\Request Wait Time** or **ASP.NET Apps v2.0.50727\Request Execution Time** performance counters is unusually high.</span></span>  
  
-   <span data-ttu-id="0da86-187">Web アプリケーションをホストするコンピューターのアプリケーション ログには、次のようなエラーが生成されます。</span><span class="sxs-lookup"><span data-stu-id="0da86-187">An error similar to the following is generated in the Application log of the computer that hosts the Web application.</span></span>  
  
    ```  
    Event Type: Warning  
    Event Source: W3SVC Event Category: None  
    Event ID: 1013  
    Date: 11/4/2010  
    Time: 1:03:47 PM  
    User: N/A  
    Computer: <ComputerName>  
    Description: A process serving application pool 'DefaultAppPool' exceeded time limits during shut down. The process id was '<xxxx>'  
    ```  
  
### <a name="manage-aspnet-thread-usage-for-web-applications-that-can-host-isolated-received-locations-back-end-web-services-and-wcf-services-on-iis-75-and-iis-70-running-in-classic-mode"></a><span data-ttu-id="0da86-188">分離受信場所、バックエンド Web サービス、および IIS 7.5、およびクラシック モードで実行されている IIS 7.0 での WCF サービスをホストする Web アプリケーションの ASP.NET スレッドの使用状況を管理します。</span><span class="sxs-lookup"><span data-stu-id="0da86-188">Manage ASP.NET thread usage for Web applications that can host isolated received locations, back-end Web services and WCF services on IIS 7.5 and IIS 7.0 running in Classic mode</span></span>  
 <span data-ttu-id="0da86-189">ときに、 **autoConfig**クラシック モードで実行されている IIS 7.5、および IIS 7.0 サーバーの machine.config ファイル内の値に設定されて**true**、ASP.NET 2.0 および ASP.NET 4 は、ワーカー スレッドと I/O スレッドの数を管理します。関連付けられている IIS ワーカー プロセスに割り当てられます。</span><span class="sxs-lookup"><span data-stu-id="0da86-189">When the **autoConfig** value in the machine.config file of an IIS 7.5 and IIS 7.0 server running in Classic mode is set to **true**, ASP.NET 2.0  and ASP.NET 4 manages the number of worker threads and I/O threads that are allocated to any associated IIS worker processes.</span></span>  
  
```  
<processModel autoConfig="true" />  
```  
  
 <span data-ttu-id="0da86-190">ワーカー ロールと ASP.NET 2.0 および ASP.Net 4 Web アプリケーションの I/O スレッドの数を手動で変更するには、関連付けられている machine.config ファイルを開くし、新しい値を入力し、 **maxWorkerThreads**と**maxIoThreads**パラメーター。</span><span class="sxs-lookup"><span data-stu-id="0da86-190">To manually modify the number of worker and I/O threads for an ASP.NET 2.0 and ASP.Net 4 Web application, open the associated machine.config file, and then enter new values for the **maxWorkerThreads** and **maxIoThreads** parameters.</span></span>  
  
```  
<!-- <processModel autoConfig="true" /> -->  
    <processModel maxWorkerThreads="200" maxIoThreads="200" />  
```  
  
> [!NOTE]  
>  <span data-ttu-id="0da86-191">これらの値は、ガイダンスだけです。これらのパラメーターへの変更をテストすることを確認します。</span><span class="sxs-lookup"><span data-stu-id="0da86-191">These values are for guidance only; ensure you test changes to these parameters.</span></span>  
  
 <span data-ttu-id="0da86-192">ASP.NET 2.0 Web アプリケーションの machine.config ファイル内のパラメーターの調整の詳細については、Microsoft サポート技術情報の記事 821268 を参照してください。[競合、パフォーマンスの低下、およびデッドロック ASP から Web サービス要求を行うとします。NET アプリケーション](http://go.microsoft.com/fwlink/?LinkID=144169)(http://go.microsoft.com/fwlink/?LinkID=144169)。</span><span class="sxs-lookup"><span data-stu-id="0da86-192">For more information about tuning parameters in the machine.config file for an ASP.NET 2.0 Web application, see the Microsoft Knowledge Base article 821268 [Contention, poor performance, and deadlocks when you make Web service requests from ASP.NET applications](http://go.microsoft.com/fwlink/?LinkID=144169) (http://go.microsoft.com/fwlink/?LinkID=144169).</span></span>  
  
### <a name="manage-the-number-of-concurrently-executing-requests-for-aspnet-20-web-applications-that-can-host-isolated-received-locations-back-end-web-services-and-wcf-services-on-iis-75-and-iis-70-running-in-integrated-mode"></a><span data-ttu-id="0da86-193">分離受信場所、バックエンド Web サービス、および IIS 7.5、および統合モードで実行されている IIS 7.0 での WCF サービスをホストする ASP.NET 2.0 Web アプリケーションに対する要求を同時に実行される数を管理します。</span><span class="sxs-lookup"><span data-stu-id="0da86-193">Manage the number of concurrently executing requests for ASP.NET 2.0 Web applications that can host isolated received locations, back-end Web services and WCF services on IIS 7.5 and IIS 7.0 running in Integrated mode</span></span>  
 <span data-ttu-id="0da86-194">ASP.NET 2.0 が統合モードで IIS 7.5、および IIS 7.0 でホストされている場合のスレッドの使用が異なる方法よりも IIS 7.5、および IIS 7.0 でクラシック モードでします。</span><span class="sxs-lookup"><span data-stu-id="0da86-194">When ASP.NET 2.0 is hosted on IIS 7.5 and IIS 7.0 in integrated mode, the use of threads is handled differently than on  IIS 7.5 and IIS 7.0 in classic mode.</span></span> <span data-ttu-id="0da86-195">ASP.NET 2.0 が同時実行の数を制限して ASP.NET 2.0 が統合モードで IIS 7.5、および IIS 7.0 でホストされている場合**要求**の数ではなく**スレッド**同時実行要求します。</span><span class="sxs-lookup"><span data-stu-id="0da86-195">When ASP.NET 2.0 is hosted on IIS 7.5 and IIS 7.0 in integrated mode, ASP.NET 2.0 restricts the number of concurrently executing **requests** rather than the number of **threads** concurrently executing requests.</span></span> <span data-ttu-id="0da86-196">同期シナリオのこの直接が制限されましていないスレッドの数が非同期シナリオの要求およびスレッドの数が場合があります大きく異なります。</span><span class="sxs-lookup"><span data-stu-id="0da86-196">For synchronous scenarios this will indirectly limit the number of threads but for asynchronous scenarios the number of requests and threads will likely be very different.</span></span> <span data-ttu-id="0da86-197">統合モードで IIS 7.5、および IIS 7.0 で ASP.NET 2.0 を実行すると、 **maxWorkerThreads**と**maxIoThreads** machine.config ファイル内のパラメーターが実行されているスレッドの数を制御するために使用されません。</span><span class="sxs-lookup"><span data-stu-id="0da86-197">When running ASP.NET 2.0 on IIS 7.5 and IIS 7.0 in integrated mode, the **maxWorkerThreads** and **maxIoThreads** parameters in the machine.config file are not used to govern the number of running threads.</span></span> <span data-ttu-id="0da86-198">指定された値を変更することで現在実行中の要求の数を CPU あたり 12 個の既定値から変更する代わりに、 **maxConcurrentRequestsPerCPU**です。</span><span class="sxs-lookup"><span data-stu-id="0da86-198">Instead, the number of concurrently executing requests can be changed from the default value of 12 per CPU by modifying the value specified for **maxConcurrentRequestsPerCPU**.</span></span> <span data-ttu-id="0da86-199">**MaxConcurrentRequestsPerCPU** reqistry または aspnet.config ファイルの構成セクションでは、値を指定することができます。</span><span class="sxs-lookup"><span data-stu-id="0da86-199">The **maxConcurrentRequestsPerCPU** value can be specified either in the reqistry or in the config section of an aspnet.config file.</span></span> <span data-ttu-id="0da86-200">既定値を変更する次の手順に従って**maxConcurrentRequestsPerCPU**を現在実行中の要求の数を制御します。</span><span class="sxs-lookup"><span data-stu-id="0da86-200">Follow these steps to change the default value for **maxConcurrentRequestsPerCPU** to govern the number of concurrently executing requests:</span></span>  
  
 <span data-ttu-id="0da86-201">**レジストリの maxConcurrentRequestsPerCPU 値を設定するには**</span><span class="sxs-lookup"><span data-stu-id="0da86-201">**To set the maxConcurrentRequestsPerCPU value in the registry**</span></span>  
  
> [!WARNING]  
>  <span data-ttu-id="0da86-202">レジストリ エディターの不適切な使用により問題が発生し、オペレーティング システムの再インストールが必要となることがあります。</span><span class="sxs-lookup"><span data-stu-id="0da86-202">Incorrect use of Registry Editor may cause problems requiring you to reinstall your operating system.</span></span> <span data-ttu-id="0da86-203">レジストリ エディターは、ご自身の責任で使用してください。</span><span class="sxs-lookup"><span data-stu-id="0da86-203">Use Registry Editor at your own risk.</span></span> <span data-ttu-id="0da86-204">バックアップ、復元、およびレジストリを変更する方法の詳細については、Microsoft サポート技術情報の記事 256986 を参照してください。[上級ユーザー向けの Windows レジストリ情報](http://go.microsoft.com/fwlink/?LinkId=62729)(http://go.microsoft.com/fwlink/?LinkId=62729)。</span><span class="sxs-lookup"><span data-stu-id="0da86-204">For more information about how to back up, restore, and modify the registry, see Microsoft Knowledge Base article 256986 [Windows registry information for advanced users](http://go.microsoft.com/fwlink/?LinkId=62729) (http://go.microsoft.com/fwlink/?LinkId=62729).</span></span>  
  
> [!NOTE]  
>  <span data-ttu-id="0da86-205">この設定はグローバルであり、個々 のアプリケーション プールまたはアプリケーションに対しては変更できません。</span><span class="sxs-lookup"><span data-stu-id="0da86-205">This setting is global and cannot be changed for individual application pools or applications.</span></span>  
  
1.  <span data-ttu-id="0da86-206">をクリックして**開始**、 をクリックして**実行**、型**regedit.exe**、順にクリック**ok**レジストリ エディターを起動します。</span><span class="sxs-lookup"><span data-stu-id="0da86-206">Click **Start**, click **Run**, type **regedit.exe**, and then click **OK** to start Registry Editor.</span></span>  
  
2.  <span data-ttu-id="0da86-207">移動**HKEY_LOCAL_MACHINE\SOFTWARE\Microsoft\ASP.NET\2.0.50727.0**</span><span class="sxs-lookup"><span data-stu-id="0da86-207">Navigate to **HKEY_LOCAL_MACHINE\SOFTWARE\Microsoft\ASP.NET\2.0.50727.0**</span></span>  
  
3.  <span data-ttu-id="0da86-208">次の手順に従って、キーを作成します。</span><span class="sxs-lookup"><span data-stu-id="0da86-208">Create the key by following these steps:</span></span>  
  
    1.  <span data-ttu-id="0da86-209">**編集** メニューのをクリックして**新規**、クリックして**キー**です。</span><span class="sxs-lookup"><span data-stu-id="0da86-209">On the **Edit** menu, click **New**, and then click **Key**.</span></span>  
  
    2.  <span data-ttu-id="0da86-210">型**maxConcurrentRequestsPerCPU**、キーを押します**ENTER**です。</span><span class="sxs-lookup"><span data-stu-id="0da86-210">Type **maxConcurrentRequestsPerCPU**, and then press **ENTER**.</span></span>  
  
    3.  <span data-ttu-id="0da86-211">下にある、 **maxConcurrentRequestsPerCPU**キー、maxConcurrentRequestsPerCPU の新しい値を持つ DWORD エントリを作成します。</span><span class="sxs-lookup"><span data-stu-id="0da86-211">Under the **maxConcurrentRequestsPerCPU** key, create a DWORD entry with the new value for maxConcurrentRequestsPerCPU.</span></span>  
  
    4.  <span data-ttu-id="0da86-212">レジストリ エディターを閉じます。</span><span class="sxs-lookup"><span data-stu-id="0da86-212">Close Registry Editor.</span></span>  
  
 <span data-ttu-id="0da86-213">**Aspnet.config ファイルの構成セクションで、アプリケーション プールの maxConcurrentRequestsPerCPU 値を設定するには**</span><span class="sxs-lookup"><span data-stu-id="0da86-213">**To set the maxConcurrentRequestsPerCPU value for an application pool in the config section of an aspnet.config file**</span></span>  
  
> [!NOTE]  
>  <span data-ttu-id="0da86-214">Microsoft .NET Framework 3.5 Service Pack 1 をインストールして、構成ファイルを使用して下の値の設定に対応する必要があります。</span><span class="sxs-lookup"><span data-stu-id="0da86-214">Microsoft .NET Framework 3.5 Service Pack 1 must be installed to accommodate setting the values below via configuration file.</span></span> <span data-ttu-id="0da86-215">Microsoft .NET Framework 3.5 Service Pack 1 をダウンロードする[Microsoft .NET Framework 3.5 Service Pack 1](http://go.microsoft.com/fwlink/?LinkID=136345) (http://go.microsoft.com/fwlink/?LinkID=136345)。</span><span class="sxs-lookup"><span data-stu-id="0da86-215">You can download Microsoft .NET Framework 3.5 Service Pack 1 from [Microsoft .NET Framework 3.5 Service Pack 1](http://go.microsoft.com/fwlink/?LinkID=136345) (http://go.microsoft.com/fwlink/?LinkID=136345).</span></span>  
  
 <span data-ttu-id="0da86-216">アプリケーション プールの aspnet.config ファイルを開き、新しい値を入力し、 **maxConcurrentRequestsPerCPU**と**requestQueueLimit**パラメーター。</span><span class="sxs-lookup"><span data-stu-id="0da86-216">Open the aspnet.config file for the application pool, and then enter new values for the **maxConcurrentRequestsPerCPU** and **requestQueueLimit** parameters.</span></span>  
  
```  
<system.web>  
    <applicationPool maxConcurrentRequestsPerCPU="12" requestQueueLimit="5000"/>  
</system.web>  
```  
  
> [!NOTE]  
>  <span data-ttu-id="0da86-217">この値に指定された値より優先**maxConcurrentRequestsPerCPU**レジストリにします。</span><span class="sxs-lookup"><span data-stu-id="0da86-217">This value overrides the value specified for **maxConcurrentRequestsPerCPU** in the registry.</span></span> <span data-ttu-id="0da86-218">Aspnet.config ファイルの設定は、machine.config ファイルで設定を上書きする点を除いて、requestQueueLimit 設定は、processModel/requestQueueLimit として同じです。</span><span class="sxs-lookup"><span data-stu-id="0da86-218">The requestQueueLimit setting is the same as processModel/requestQueueLimit, except that the setting in the aspnet.config file will override the setting in the machine.config file.</span></span>  
  
 <span data-ttu-id="0da86-219">IIS 7.0 で ASP.NET スレッドの使用法を構成する方法の詳細については、次を参照してください。 [IIS 7.0 で ASP.NET スレッドの使用に関する Thomas Marquardt のブログ](http://go.microsoft.com/fwlink/?LinkId=157518)(http://go.microsoft.com/fwlink/?LinkId=157518)。</span><span class="sxs-lookup"><span data-stu-id="0da86-219">For more information about configuring ASP.NET Thread Usage on IIS 7.0, see [Thomas Marquardt's Blog on ASP.NET Thread Usage on IIS 7.0](http://go.microsoft.com/fwlink/?LinkId=157518) (http://go.microsoft.com/fwlink/?LinkId=157518).</span></span>  
  
### <a name="manage-the-number-of-concurrently-executing-requests-for-aspnet-4web-applications-that-can-host-isolated-received-locations-back-end-web-services-and-wcf-services-on-iis-75-and-70-running-in-integrated-mode"></a><span data-ttu-id="0da86-220">分離受信場所、バックエンド Web サービス、および IIS 7.5、および統合モードで実行されている 7.0 での WCF サービスをホストする ASP.NET 4Web アプリケーションに対する要求を同時に実行される数を管理します。</span><span class="sxs-lookup"><span data-stu-id="0da86-220">Manage the number of concurrently executing requests for ASP.NET 4Web applications that can host isolated received locations, back-end Web services and WCF services on IIS 7.5 and 7.0 running in Integrated mode</span></span>  
 <span data-ttu-id="0da86-221">.NET Framework 4、maxConcurrentRequestsPerCPU の既定の設定に膨大な数は 5000、したがってはのに十分な非同期要求を同時に実行します。</span><span class="sxs-lookup"><span data-stu-id="0da86-221">With .NET Framework 4, the default setting for maxConcurrentRequestsPerCPU is 5000, which is a very large number and therefore will allow plenty of asynchronous requests to execute concurrently.</span></span> <span data-ttu-id="0da86-222">詳細については、次を参照してください。 [ \<applicationPool\>要素 (Web 設定)](http://go.microsoft.com/fwlink/?LinkID=205339) (http://go.microsoft.com/fwlink/?LinkID=205339)。</span><span class="sxs-lookup"><span data-stu-id="0da86-222">For more information, see [\<applicationPool\> Element (Web Settings)](http://go.microsoft.com/fwlink/?LinkID=205339) (http://go.microsoft.com/fwlink/?LinkID=205339).</span></span>  
  
 <span data-ttu-id="0da86-223">IIS 7.5、および IIS 7.0 統合モードの場合は、HKEY_LOCAL_MACHINE\SOFTWARE\Microsoft\ASP.NET\4.0.30319.0 内の MaxConcurrentRequestsPerCPU をという名前の DWORD は CPU ごとの同時要求の数を決定します。</span><span class="sxs-lookup"><span data-stu-id="0da86-223">For IIS 7.5 and IIS 7.0 Integrated mode, a DWORD named MaxConcurrentRequestsPerCPU within HKEY_LOCAL_MACHINE\SOFTWARE\Microsoft\ASP.NET\4.0.30319.0 determines the number of concurrent requests per CPU.</span></span> <span data-ttu-id="0da86-224">既定では、レジストリ キーが存在しないと、CPU あたりの要求の数は 5000 に制限されます。</span><span class="sxs-lookup"><span data-stu-id="0da86-224">By default, the registry key does not exist and the number of requests per CPU is limited to 5000.</span></span>  
  
 <span data-ttu-id="0da86-225">**レジストリの maxConcurrentRequestsPerCPU 値を設定するには**</span><span class="sxs-lookup"><span data-stu-id="0da86-225">**To set the maxConcurrentRequestsPerCPU value in the registry**</span></span>  
  
> [!WARNING]  
>  <span data-ttu-id="0da86-226">レジストリ エディターの不適切な使用により問題が発生し、オペレーティング システムの再インストールが必要となることがあります。</span><span class="sxs-lookup"><span data-stu-id="0da86-226">Incorrect use of Registry Editor may cause problems requiring you to reinstall your operating system.</span></span> <span data-ttu-id="0da86-227">レジストリ エディターは、ご自身の責任で使用してください。</span><span class="sxs-lookup"><span data-stu-id="0da86-227">Use Registry Editor at your own risk.</span></span> <span data-ttu-id="0da86-228">バックアップ、復元、およびレジストリを変更する方法の詳細については、Microsoft サポート技術情報の記事 256986 を参照してください。[上級ユーザー向けの Windows レジストリ情報](http://go.microsoft.com/fwlink/?LinkId=62729)(http://go.microsoft.com/fwlink/?LinkId=62729)。</span><span class="sxs-lookup"><span data-stu-id="0da86-228">For more information about how to back up, restore, and modify the registry, see Microsoft Knowledge Base article 256986 [Windows registry information for advanced users](http://go.microsoft.com/fwlink/?LinkId=62729) (http://go.microsoft.com/fwlink/?LinkId=62729).</span></span>  
  
> [!NOTE]  
>  <span data-ttu-id="0da86-229">この設定はグローバルであり、個々 のアプリケーション プールまたはアプリケーションに対しては変更できません。</span><span class="sxs-lookup"><span data-stu-id="0da86-229">This setting is global and cannot be changed for individual application pools or applications.</span></span>  
  
1.  <span data-ttu-id="0da86-230">をクリックして**開始**、 をクリックして**実行**、型**regedit.exe**、順にクリック**ok**レジストリ エディターを起動します。</span><span class="sxs-lookup"><span data-stu-id="0da86-230">Click **Start**, click **Run**, type **regedit.exe**, and then click **OK** to start Registry Editor.</span></span>  
  
2.  <span data-ttu-id="0da86-231">移動**HKEY_LOCAL_MACHINE\SOFTWARE\Microsoft\ASP.NET\4.0.30319.0**です。</span><span class="sxs-lookup"><span data-stu-id="0da86-231">Navigate to **HKEY_LOCAL_MACHINE\SOFTWARE\Microsoft\ASP.NET\4.0.30319.0**.</span></span>  
  
3.  <span data-ttu-id="0da86-232">次の手順に従って、キーを作成します。</span><span class="sxs-lookup"><span data-stu-id="0da86-232">Create the key by following these steps:</span></span>  
  
    1.  <span data-ttu-id="0da86-233">**編集** メニューのをクリックして**新規**、クリックして**キー**です。</span><span class="sxs-lookup"><span data-stu-id="0da86-233">On the **Edit** menu, click **New**, and then click **Key**.</span></span>  
  
    2.  <span data-ttu-id="0da86-234">型**maxConcurrentRequestsPerCPU**、キーを押します**ENTER**です。</span><span class="sxs-lookup"><span data-stu-id="0da86-234">Type **maxConcurrentRequestsPerCPU**, and then press **ENTER**.</span></span>  
  
    3.  <span data-ttu-id="0da86-235">下にある、 **maxConcurrentRequestsPerCPU**キー、maxConcurrentRequestsPerCPU の新しい値を持つ DWORD エントリを作成します。</span><span class="sxs-lookup"><span data-stu-id="0da86-235">Under the **maxConcurrentRequestsPerCPU** key, create a DWORD entry with the new value for maxConcurrentRequestsPerCPU.</span></span>  
  
    4.  <span data-ttu-id="0da86-236">レジストリ エディターを閉じます。</span><span class="sxs-lookup"><span data-stu-id="0da86-236">Close Registry Editor.</span></span>  
  
 <span data-ttu-id="0da86-237">**Aspnet.config ファイルの構成セクションで、アプリケーション プールの maxConcurrentRequestsPerCPU 値を設定するには**</span><span class="sxs-lookup"><span data-stu-id="0da86-237">**To set the maxConcurrentRequestsPerCPU value for an application pool in the config section of an aspnet.config file**</span></span>  
  
> [!NOTE]  
>  <span data-ttu-id="0da86-238">Microsoft .NET Framework 4 をインストールして、構成ファイルを使用して下の値の設定に対応する必要があります。</span><span class="sxs-lookup"><span data-stu-id="0da86-238">Microsoft .NET Framework 4 must be installed to accommodate setting the values below via configuration file.</span></span> <span data-ttu-id="0da86-239">Microsoft .NET Framework 4 をダウンロードする[Microsoft .NET Framework 4 (Web インストーラー)](http://go.microsoft.com/fwlink/?LinkID=189318) (http://go.microsoft.com/fwlink/?LinkID=189318)。</span><span class="sxs-lookup"><span data-stu-id="0da86-239">You can download Microsoft .NET Framework 4 from [Microsoft .NET Framework 4 (Web Installer)](http://go.microsoft.com/fwlink/?LinkID=189318) (http://go.microsoft.com/fwlink/?LinkID=189318).</span></span>  
  
-   <span data-ttu-id="0da86-240">アプリケーション プールの aspnet.config ファイルを開き、新しい値を入力し、 **maxConcurrentRequestsPerCPU**と**requestQueueLimit**パラメーター。</span><span class="sxs-lookup"><span data-stu-id="0da86-240">Open the aspnet.config file for the application pool, and then enter new values for the **maxConcurrentRequestsPerCPU** and **requestQueueLimit** parameters.</span></span>  
  
     <span data-ttu-id="0da86-241">次の例の値は、既定値です。</span><span class="sxs-lookup"><span data-stu-id="0da86-241">The values in the following example are the default values.</span></span>  
  
    ```  
    <system.web>  
        <applicationPool maxConcurrentRequestsPerCPU="5000" requestQueueLimit="5000"/>  
    </system.web>  
    ```  
  
> [!NOTE]  
>  <span data-ttu-id="0da86-242">この値に指定された値より優先**maxConcurrentRequestsPerCPU**レジストリにします。</span><span class="sxs-lookup"><span data-stu-id="0da86-242">This value overrides the value specified for **maxConcurrentRequestsPerCPU** in the registry.</span></span> <span data-ttu-id="0da86-243">**RequestQueueLimit** aspnet.config ファイルの設定は、machine.config ファイルで設定を上書きする点を除いて設定は processModel/requestQueueLimit と同じです。</span><span class="sxs-lookup"><span data-stu-id="0da86-243">The **requestQueueLimit** setting is the same as processModel/requestQueueLimit, except that the setting in the aspnet.config file will override the setting in the machine.config file.</span></span>  
  
## <a name="define-clr-hosting-thread-values-for-biztalk-host-instances"></a><span data-ttu-id="0da86-244">CLR ホストの BizTalk ホスト インスタンスのスレッドの値を定義します。</span><span class="sxs-lookup"><span data-stu-id="0da86-244">Define CLR hosting thread values for BizTalk host instances</span></span>  
 <span data-ttu-id="0da86-245">Windows スレッドは、Windows プロセスに使用できる最も基本的な実行可能単位なので、BizTalk ホストのインスタンスに関連付けられた .NET スレッド プールには十分なスレッドを割り当てて、スレッドが不足しないようにすることが重要です。</span><span class="sxs-lookup"><span data-stu-id="0da86-245">Because a Windows thread is the most basic executable unit available to a Windows process, it is important to allocate enough threads to the .NET thread pool associated with an instance of a BizTalk host to prevent thread starvation.</span></span> <span data-ttu-id="0da86-246">スレッドの不足が発生すると場合、パフォーマンスに悪影響を及ぼす影響を与える、要求された作業を実行するための十分なスレッドはできませんがあります。</span><span class="sxs-lookup"><span data-stu-id="0da86-246">When thread starvation occurs, there are not enough threads available to perform the requested work that negatively impacts performance.</span></span> <span data-ttu-id="0da86-247">同時に、ホストに関連付けられた .NET スレッド プールに必要以上にスレッドを割り当てないよう注意する必要があります。</span><span class="sxs-lookup"><span data-stu-id="0da86-247">At the same time, care should be taken to prevent allocating more threads to the.NET thread pool associated with a host than is necessary.</span></span> <span data-ttu-id="0da86-248">ホストに関連付けられた .NET スレッド プールに割り当てたスレッドが多すぎると、コンテキストの切り替えが増加する場合があります。</span><span class="sxs-lookup"><span data-stu-id="0da86-248">The allocation of too many threads to the .NET thread pool associated with a host may increase context switching.</span></span> <span data-ttu-id="0da86-249">コンテキストの切り替えは、Windows カーネル切り替えるパフォーマンス コストが生じます別のスレッドを 1 つのスレッドを実行しているときに発生します。</span><span class="sxs-lookup"><span data-stu-id="0da86-249">Context switching occurs when the Windows kernel switches from running one thread to a different thread, which incurs a performance cost.</span></span> <span data-ttu-id="0da86-250">過剰なスレッドの割り当てとなるコンテキストの過度の切り替え、全体的なパフォーマンスが低下します。</span><span class="sxs-lookup"><span data-stu-id="0da86-250">Excessive thread allocation can cause excessive context switching, which will negatively impact overall performance.</span></span> <span data-ttu-id="0da86-251">既定の BizTalk ホスト インスタンスの .NET スレッド プールに割り当てられているスレッド数は、インストールは、.NET Framework のバージョンに依存します。</span><span class="sxs-lookup"><span data-stu-id="0da86-251">The default number of threads allocated to a BizTalk host instance’s .NET thread pool depends on which version of the .NET Framework is installed.</span></span> <span data-ttu-id="0da86-252">.NET Framework 4 および .NET Framework 3.5 SP1 はの既定値は、BizTalk Server コンピューターと、メッセージ ボックス データベースの過剰なロックの競合に過剰なスレッドの割り当てが発生することができますを大幅に増加します。</span><span class="sxs-lookup"><span data-stu-id="0da86-252">The .NET Framework 4 and the .NET Framework 3.5 SP1 greatly increased the defaults, which can cause excessive thread allocation on the BizTalk Server computers and excessive lock contention on the MessageBox database.</span></span>  
  
 <span data-ttu-id="0da86-253">使用して、 **BizTalk 設定ダッシュ ボード**.NET で使用できる Windows スレッド数のスレッド化された BizTalk ホストのインスタンスに関連付けられているプールの既定値を変更することができます。</span><span class="sxs-lookup"><span data-stu-id="0da86-253">Using the **BizTalk Settings Dashboard**, you can modify the default value for the number of Windows threads available in the .NET thread pool associated with an instance of a BizTalk host.</span></span> <span data-ttu-id="0da86-254">.NET CLR 設定を変更する方法の詳細については、次を参照してください。 [.NET CLR 設定を変更する方法](http://go.microsoft.com/fwlink/?LinkID=205344)(http://go.microsoft.com/fwlink/?LinkID=205344)。</span><span class="sxs-lookup"><span data-stu-id="0da86-254">For more information about how to modify .NET CLR settings, see [How to Modify .NET CLR Settings](http://go.microsoft.com/fwlink/?LinkID=205344) (http://go.microsoft.com/fwlink/?LinkID=205344).</span></span> <span data-ttu-id="0da86-255">.NET CLR 設定は、コア CPU ごとに適用されます。</span><span class="sxs-lookup"><span data-stu-id="0da86-255">.NET CLR Settings are per-core CPU.</span></span>  
  
> [!NOTE]  
>  <span data-ttu-id="0da86-256">**ワーカー スレッド**キューに置かれた作業項目の処理に使用して**I/O スレッド**専用のコールバック スレッドが完了した非同期 I/O 要求を処理する I/O 完了ポートに関連付けられています。</span><span class="sxs-lookup"><span data-stu-id="0da86-256">**Worker threads** are used to handle queued work items and **I/O threads** are dedicated callback threads associated with an I/O completion port to handle a completed asynchronous I/O request.</span></span>  
  
|<span data-ttu-id="0da86-257">スレッドの設定</span><span class="sxs-lookup"><span data-stu-id="0da86-257">Threading settings</span></span>|<span data-ttu-id="0da86-258">既定値</span><span class="sxs-lookup"><span data-stu-id="0da86-258">Default value</span></span>|<span data-ttu-id="0da86-259">推奨値</span><span class="sxs-lookup"><span data-stu-id="0da86-259">Recommended value</span></span>|  
|------------------------|-------------------|-----------------------|  
|<span data-ttu-id="0da86-260">最大 IO スレッド数</span><span class="sxs-lookup"><span data-stu-id="0da86-260">Maximum IO Threads</span></span>|<span data-ttu-id="0da86-261">250</span><span class="sxs-lookup"><span data-stu-id="0da86-261">250</span></span>|<span data-ttu-id="0da86-262">250</span><span class="sxs-lookup"><span data-stu-id="0da86-262">250</span></span>|  
|<span data-ttu-id="0da86-263">ワーカー スレッド最大数</span><span class="sxs-lookup"><span data-stu-id="0da86-263">Maximum Worker Threads</span></span>|<span data-ttu-id="0da86-264">25</span><span class="sxs-lookup"><span data-stu-id="0da86-264">25</span></span>|<span data-ttu-id="0da86-265">100**重要:** 100 よりもこの値を増やすと、BizTalk Server メッセージ ボックス データベースをホストする SQL Server コンピューターのパフォーマンスに悪影響が持つことができます。</span><span class="sxs-lookup"><span data-stu-id="0da86-265">100 **Important:**  Increasing this value beyond 100 can have an adverse effect on the performance of the SQL Server computer hosting the BizTalk Server MessageBox database.</span></span> <span data-ttu-id="0da86-266">この問題が発生した場合、SQL Server でデッドロック状態が発生することがあります。</span><span class="sxs-lookup"><span data-stu-id="0da86-266">When this problem occurs, SQL Server may encounter a deadlock condition.</span></span> <span data-ttu-id="0da86-267">このパラメーター値の 100 を超えるを増加していないことをお勧めします。</span><span class="sxs-lookup"><span data-stu-id="0da86-267">We recommend not increasing this parameter beyond a value of 100.</span></span>|  
|<span data-ttu-id="0da86-268">最小 IO スレッド数</span><span class="sxs-lookup"><span data-stu-id="0da86-268">Minimum IO Threads</span></span>|<span data-ttu-id="0da86-269">25</span><span class="sxs-lookup"><span data-stu-id="0da86-269">25</span></span>|<span data-ttu-id="0da86-270">25</span><span class="sxs-lookup"><span data-stu-id="0da86-270">25</span></span>|  
|<span data-ttu-id="0da86-271">最小ワーカー スレッド</span><span class="sxs-lookup"><span data-stu-id="0da86-271">Minimum Worker Threads</span></span>|<span data-ttu-id="0da86-272">5</span><span class="sxs-lookup"><span data-stu-id="0da86-272">5</span></span>|<span data-ttu-id="0da86-273">25</span><span class="sxs-lookup"><span data-stu-id="0da86-273">25</span></span>|  
  
> [!NOTE]  
>  <span data-ttu-id="0da86-274">推奨値は絶対的であり、BizTalk アプリケーションに応じて調整する必要があります。</span><span class="sxs-lookup"><span data-stu-id="0da86-274">The recommended values are not absolutes and may need to be adjusted depending on the BizTalk application.</span></span> <span data-ttu-id="0da86-275">一度に 1 つのパラメーターを変更し、追加の変更を加える前に、BizTalk プラットフォームの安定性とパフォーマンスに与える影響を測定します。</span><span class="sxs-lookup"><span data-stu-id="0da86-275">Change one parameter at a time, and then measure the impact on the performance and stability of the BizTalk platform before making additional changes.</span></span>  
  
> [!NOTE]  
>  <span data-ttu-id="0da86-276">これらの値は、サーバー上のプロセッサの数を掛けた暗黙的にします。</span><span class="sxs-lookup"><span data-stu-id="0da86-276">These values are implicitly multiplied by the number of processors on the server.</span></span> <span data-ttu-id="0da86-277">たとえば、設定、 **MaxWorkerThreads**エントリ 100 の値を効果的に設定値が 400 の 4 CPU サーバーでします。</span><span class="sxs-lookup"><span data-stu-id="0da86-277">For example, setting the **MaxWorkerThreads** entry to a value of 100 would effectively set a value of 400 on a 4 CPU server.</span></span>  
  
## <a name="disable-biztalk-server-group-level-tracking"></a><span data-ttu-id="0da86-278">BizTalk Server グループ レベルの追跡を無効にします。</span><span class="sxs-lookup"><span data-stu-id="0da86-278">Disable BizTalk Server Group-level tracking</span></span>  
 <span data-ttu-id="0da86-279">追跡のためデータには、メッセージ ボックス データベースに書き込み、その後、BizTalk 追跡データベースに非同期的に移動する BizTalk Server 内でオーバーヘッドがパフォーマンスが生じます。</span><span class="sxs-lookup"><span data-stu-id="0da86-279">Tracking incurs performance overhead within BizTalk Server as data has to be written to the MessageBox database and then asynchronously moved to the BizTalk Tracking database.</span></span> <span data-ttu-id="0da86-280">運用環境の BizTalk Server 環境で追跡を構成するときに、次の考慮事項が適用されます。</span><span class="sxs-lookup"><span data-stu-id="0da86-280">The following considerations apply when configuring tracking in a production BizTalk Server environment:</span></span>  
  
-   <span data-ttu-id="0da86-281">原則として、として追跡がビジネス要件でない場合は、無効になりますオーバーヘッドを削減してパフォーマンスを向上させるグループ レベルの追跡。</span><span class="sxs-lookup"><span data-stu-id="0da86-281">As a rule of thumb, if tracking is not a business requirement, then disable group-level tracking to reduce overhead and increase performance.</span></span>  
  
     <span data-ttu-id="0da86-282">BizTalk Server グループ レベルの追跡を無効にするには、次の手順を実行します。</span><span class="sxs-lookup"><span data-stu-id="0da86-282">To disable BizTalk Server group-level tracking, perform the following steps:</span></span>  
  
    1.  <span data-ttu-id="0da86-283">**BizTalk Server 管理コンソール**、展開**BizTalk Server 管理コンソール**を右クリックして**BizTalk グループ**、クリックして**設定**.</span><span class="sxs-lookup"><span data-stu-id="0da86-283">In the **BizTalk Server Administration Console**, expand **BizTalk Server Administration**, right-click **BizTalk Group**, and then click **Settings**.</span></span>  
  
    2.  <span data-ttu-id="0da86-284">BizTalk 設定ダッシュ ボード] ダイアログ ボックスの [グループ] ページで、[、**グループ レベルの追跡を有効にする**チェック ボックスをオンします。</span><span class="sxs-lookup"><span data-stu-id="0da86-284">In the BizTalk Settings Dashboard dialog box, on the Group page, clear the **Enable group-level tracking** check box.</span></span>  
  
    3.  <span data-ttu-id="0da86-285">をクリックして**OK**を変更を適用し、設定ダッシュ ボードを終了します。</span><span class="sxs-lookup"><span data-stu-id="0da86-285">Click **OK** to apply the modifications and exit the Settings Dashboard.</span></span>  
  
-   <span data-ttu-id="0da86-286">メッセージ本文の追跡に必要な場合に使用のみです。</span><span class="sxs-lookup"><span data-stu-id="0da86-286">Only use message body tracking if necessary.</span></span> <span data-ttu-id="0da86-287">メッセージのスループットとに応じてメッセージのサイズ、メッセージ本文の追跡に大きなオーバーヘッド可能性があります。</span><span class="sxs-lookup"><span data-stu-id="0da86-287">Depending on message throughput and message size, message body tracking can cause significant overhead.</span></span> <span data-ttu-id="0da86-288">BizTalk の動作状況の追跡には、デバッグや、監査の明らかな利点がありますが、により、パフォーマンスとスケーラビリティの問題もあります。</span><span class="sxs-lookup"><span data-stu-id="0da86-288">While BizTalk activity tracking has obvious benefits for debugging and auditing, it also has considerable performance and scalability implications.</span></span> <span data-ttu-id="0da86-289">そのため、デバッグ、セキュリティ上の理由から、必ずしも必要では、冗長な情報の追跡を回避できますデータのみを追跡する必要があります。</span><span class="sxs-lookup"><span data-stu-id="0da86-289">Therefore, you should track only data that is strictly necessary for debugging and security reasons, and avoids tracking redundant information.</span></span>  
  
-   <span data-ttu-id="0da86-290">既定では、次の追跡オプションが有効にするオーケストレーション。</span><span class="sxs-lookup"><span data-stu-id="0da86-290">By default, the following tracking options are enabled for orchestrations:</span></span>  
  
    -   <span data-ttu-id="0da86-291">オーケストレーションの開始と終了</span><span class="sxs-lookup"><span data-stu-id="0da86-291">Orchestration start and end</span></span>  
  
    -   <span data-ttu-id="0da86-292">メッセージの送信および受信</span><span class="sxs-lookup"><span data-stu-id="0da86-292">Message send and receive</span></span>  
  
    -   <span data-ttu-id="0da86-293">図形の開始と終了</span><span class="sxs-lookup"><span data-stu-id="0da86-293">Shape start and end</span></span>  
  
     <span data-ttu-id="0da86-294">追跡オプション「図形の開始と終了」オーケストレーションは、大幅なオーバーヘッドが発生し、高いスループットが必要な実稼働環境で有効にする必要がありますされません。</span><span class="sxs-lookup"><span data-stu-id="0da86-294">The orchestration tracking option “Shape start and end” incurs significant overhead and should not be enabled in a production environment where high throughput is necessary.</span></span> <span data-ttu-id="0da86-295">オーケストレーションの追跡オプションが、BizTalk 管理コンソールでアクセス可能な**追跡**オーケストレーションのプロパティ ダイアログ ボックスのページです。</span><span class="sxs-lookup"><span data-stu-id="0da86-295">Orchestration tracking options are accessible in the BizTalk Administration console on the **Tracking** page of the Orchestration Properties dialog box.</span></span>  
  
 <span data-ttu-id="0da86-296">追跡の構成の詳細については、次を参照してください。 [、BizTalk Server 管理コンソールを使用した追跡構成](http://go.microsoft.com/fwlink/?LinkId=158021)(http://go.microsoft.com/fwlink/?LinkId=158021)。</span><span class="sxs-lookup"><span data-stu-id="0da86-296">For more information about configuring tracking, see [Configuring Tracking Using the BizTalk Server Administration Console](http://go.microsoft.com/fwlink/?LinkId=158021) (http://go.microsoft.com/fwlink/?LinkId=158021).</span></span>  
  
## <a name="decrease-the-purging-period-for-the-dta-purge-and-archive-job-from-7-days-to-2-days-in-high-throughput-scenarios"></a><span data-ttu-id="0da86-297">DTA Purge and Archive ジョブから 7 日間で高スループットのシナリオ 2 日間に、パージ period を短縮します。</span><span class="sxs-lookup"><span data-stu-id="0da86-297">Decrease the purging period for the DTA Purge and Archive job from 7 days to 2 days in high throughput scenarios</span></span>  
 <span data-ttu-id="0da86-298">既定では、BizTalk Server でのデータを追跡するため、パージ間隔は 7 日間に設定します。</span><span class="sxs-lookup"><span data-stu-id="0da86-298">By default, the purging interval for tracking data in BizTalk Server is set to 7 days.</span></span> <span data-ttu-id="0da86-299">高スループットのシナリオでは、メッセージ ボックスおよびさらに悪い影響メッセージの処理スループットのパフォーマンスに影響を与えるは最終的に追跡データベース内のデータを過剰なビルドではこのことがあります。</span><span class="sxs-lookup"><span data-stu-id="0da86-299">In a high throughput scenario, this can result in an excessive build up of data in the Tracking database, which will eventually impact the performance of the MessageBox and in turn negatively impact message processing throughput.</span></span>  
  
 <span data-ttu-id="0da86-300">高スループットのシナリオでは、ハードとソフト 7 日間の既定値から 2 日間に間隔をパージを減らします。</span><span class="sxs-lookup"><span data-stu-id="0da86-300">In high throughput scenarios, reduce the hard and soft purging interval from the default of 7 days to 2 days.</span></span> <span data-ttu-id="0da86-301">削除間隔を構成する方法の詳細については、次を参照してください。 [DTA Purge and Archive ジョブを構成する方法](http://go.microsoft.com/fwlink/?LinkID=153814)(http://go.microsoft.com/fwlink/?LinkID=153814)、BizTalk Server 2010 ヘルプ。</span><span class="sxs-lookup"><span data-stu-id="0da86-301">For more information about configuring the purging interval, see [How to Configure the DTA Purge and Archive Job](http://go.microsoft.com/fwlink/?LinkID=153814) (http://go.microsoft.com/fwlink/?LinkID=153814) in the BizTalk Server 2010 Help.</span></span>  
  
## <a name="configure-the-temp-path-for-the-biztalk-service-account-to-point-to-a-separate-disk-or-lun"></a><span data-ttu-id="0da86-302">%Temp% へのパスを別のディスクまたは LUN を指す BizTalk サービス アカウントの構成します。</span><span class="sxs-lookup"><span data-stu-id="0da86-302">Configure the %temp% path for the BizTalk Service account to point to a separate disk or LUN</span></span>  
 <span data-ttu-id="0da86-303">これは、BizTalk は、複雑なマッピング操作を実行するときにディスクにストリーム ファイルを一時的な場所を使用するために行う必要があります。</span><span class="sxs-lookup"><span data-stu-id="0da86-303">This should be done because BizTalk uses the temp location to stream files to disk when performing complex mapping operations.</span></span>  
  
## <a name="install-the-latest-service-packs"></a><span data-ttu-id="0da86-304">最新のサービス パックをインストールします。</span><span class="sxs-lookup"><span data-stu-id="0da86-304">Install the latest service packs</span></span>  
 <span data-ttu-id="0da86-305">パフォーマンスの問題が発生する可能性を修正できる修正プログラムが含まれてとして、BizTalk Server と .NET Framework の両方の最新の service pack をインストールする必要があります。</span><span class="sxs-lookup"><span data-stu-id="0da86-305">The latest service packs for both BizTalk Server and the .NET Framework should be installed, as these contain fixes that can correct performance issues you may encounter.</span></span>  
  
## <a name="performance-optimizations-in-the-biztalk-server-documentation"></a><span data-ttu-id="0da86-306">BizTalk Server のマニュアルでパフォーマンスの最適化</span><span class="sxs-lookup"><span data-stu-id="0da86-306">Performance optimizations in the BizTalk Server documentation</span></span>  
 <span data-ttu-id="0da86-307">必要に応じて、BizTalk Server のドキュメントから次の推奨事項が適用されます。</span><span class="sxs-lookup"><span data-stu-id="0da86-307">Apply the following recommendations from the BizTalk Server documentation as appropriate:</span></span>  
  
-   <span data-ttu-id="0da86-308">[メッセージ ボックスの待機時間に関する問題のトラブルシューティング](http://go.microsoft.com/fwlink/?LinkId=158019)(http://go.microsoft.com/fwlink/?LinkId=158019)</span><span class="sxs-lookup"><span data-stu-id="0da86-308">[Troubleshooting MessageBox Latency Issues](http://go.microsoft.com/fwlink/?LinkId=158019) (http://go.microsoft.com/fwlink/?LinkId=158019)</span></span>  
  
-   <span data-ttu-id="0da86-309">[パフォーマンスのボトルネックを特定する](http://go.microsoft.com/fwlink/?LinkID=154238)(http://go.microsoft.com/fwlink/?LinkID=154238)</span><span class="sxs-lookup"><span data-stu-id="0da86-309">[Identifying Performance Bottlenecks](http://go.microsoft.com/fwlink/?LinkID=154238) (http://go.microsoft.com/fwlink/?LinkID=154238)</span></span>  
  
-   <span data-ttu-id="0da86-310">[DBNETLIB 例外の回避](http://go.microsoft.com/fwlink/?LinkID=155308)(http://go.microsoft.com/fwlink/?LinkID=155308)</span><span class="sxs-lookup"><span data-stu-id="0da86-310">[Avoiding DBNETLIB Exceptions](http://go.microsoft.com/fwlink/?LinkID=155308) (http://go.microsoft.com/fwlink/?LinkID=155308)</span></span>  
  
-   <span data-ttu-id="0da86-311">[TCP/IP ポートの枯渇を回避する](http://go.microsoft.com/fwlink/?LinkID=153240)(http://go.microsoft.com/fwlink/?LinkID=153240)</span><span class="sxs-lookup"><span data-stu-id="0da86-311">[Avoiding TCP/IP Port Exhaustion](http://go.microsoft.com/fwlink/?LinkID=153240) (http://go.microsoft.com/fwlink/?LinkID=153240)</span></span>  
  
-   <span data-ttu-id="0da86-312">[EPM スレッド プール サイズを設定](http://go.microsoft.com/fwlink/?LinkId=158020)(http://go.microsoft.com/fwlink/?LinkId=158020)</span><span class="sxs-lookup"><span data-stu-id="0da86-312">[Setting the EPM Threadpool Size](http://go.microsoft.com/fwlink/?LinkId=158020) (http://go.microsoft.com/fwlink/?LinkId=158020)</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="0da86-313">参照</span><span class="sxs-lookup"><span data-stu-id="0da86-313">See Also</span></span>  
 [<span data-ttu-id="0da86-314">BizTalk Server パフォーマンスの最適化</span><span class="sxs-lookup"><span data-stu-id="0da86-314">Optimizing BizTalk Server Performance</span></span>](../technical-guides/optimizing-biztalk-server-performance.md)