---
title: "チェックリスト: SQL Server の構成 |Microsoft ドキュメント"
ms.custom: 
ms.date: 06/29/2017
ms.prod: biztalk-server
ms.reviewer: 
ms.suite: 
ms.tgt_pltfrm: 
ms.topic: article
ms.assetid: edd20f24-8a72-40b7-abee-81fbd3ceefda
caps.latest.revision: "6"
author: MandiOhlinger
ms.author: mandia
manager: anneta
ms.openlocfilehash: ce0eff1dab6afe81c55f4cffa08c4839762e82ea
ms.sourcegitcommit: cb908c540d8f1a692d01dc8f313e16cb4b4e696d
ms.translationtype: MT
ms.contentlocale: ja-JP
ms.lasthandoff: 09/20/2017
---
# <a name="checklist-configuring-sql-server"></a><span data-ttu-id="d567d-102">チェックリスト: SQL Server を構成します。</span><span class="sxs-lookup"><span data-stu-id="d567d-102">Checklist: Configuring SQL Server</span></span>
<span data-ttu-id="d567d-103">このトピックを準備する際に従う必要のある手順について説明[!INCLUDE[btsSQLServer2008](../includes/btssqlserver2008-md.md)]または[!INCLUDE[btsSQLServer2005](../includes/btssqlserver2005-md.md)]で使用するため、[!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)]実稼働環境。</span><span class="sxs-lookup"><span data-stu-id="d567d-103">This topic lists steps that you should follow when preparing [!INCLUDE[btsSQLServer2008](../includes/btssqlserver2008-md.md)] or [!INCLUDE[btsSQLServer2005](../includes/btssqlserver2005-md.md)] for use in a [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] production environment.</span></span>  
  
-   [<span data-ttu-id="d567d-104">チェックリスト: SQL Server を構成します。</span><span class="sxs-lookup"><span data-stu-id="d567d-104">Checklist: Configuring SQL Server</span></span>](../technical-guides/checklist-configuring-sql-server.md)  
  
-   [<span data-ttu-id="d567d-105">SQL Server のメンテナンスの手順を実行します。</span><span class="sxs-lookup"><span data-stu-id="d567d-105">Performing SQL Server Maintenance Procedures</span></span>](../technical-guides/checklist-configuring-sql-server.md#BKMK_Maintain)  
  
-   [<span data-ttu-id="d567d-106">BizTalk Server データベースのバックアップ</span><span class="sxs-lookup"><span data-stu-id="d567d-106">Backing Up the BizTalk Server Databases</span></span>](../technical-guides/checklist-configuring-sql-server.md#BKMK_Backup)  
  
-   [<span data-ttu-id="d567d-107">SQL Server ログ配布の障害復旧を使用します。</span><span class="sxs-lookup"><span data-stu-id="d567d-107">Using SQL Server Log Shipping For Disaster Recovery</span></span>](../technical-guides/checklist-configuring-sql-server.md#BKMK_Disaster)  
  
-   [<span data-ttu-id="d567d-108">BizTalk Server SQL エージェント ジョブの監視</span><span class="sxs-lookup"><span data-stu-id="d567d-108">Monitoring BizTalk Server SQL Agent Jobs</span></span>](../technical-guides/checklist-configuring-sql-server.md#BKMK_Jobs)  
  
-   [<span data-ttu-id="d567d-109">消去および追跡データをアーカイブ</span><span class="sxs-lookup"><span data-stu-id="d567d-109">Purging and Archiving Tracking Data</span></span>](../technical-guides/checklist-configuring-sql-server.md#BKMK_Purge)  
  
<a name="BKMK_Config"></a>   
## <a name="configuring-sql-server"></a><span data-ttu-id="d567d-110">SQL Server の構成</span><span class="sxs-lookup"><span data-stu-id="d567d-110">Configuring SQL Server</span></span>  
  
|<span data-ttu-id="d567d-111">手順</span><span class="sxs-lookup"><span data-stu-id="d567d-111">Steps</span></span>|<span data-ttu-id="d567d-112">リファレンス</span><span class="sxs-lookup"><span data-stu-id="d567d-112">Reference</span></span>|  
|-----------|---------------|  
|<span data-ttu-id="d567d-113">監視し、削減[!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)]データベース ファイルのディスク I/O の競合。</span><span class="sxs-lookup"><span data-stu-id="d567d-113">Monitor and reduce [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] database files disk I/O contention.</span></span>|<span data-ttu-id="d567d-114">事前対応的に、データ ファイルとトランザクション ログ ファイルを格納するディスクのディスク I/O の使用状況を監視することをお勧めします。</span><span class="sxs-lookup"><span data-stu-id="d567d-114">-   We recommend that you proactively monitor the disk I/O usage for the disks that house the data and transaction log files.</span></span><br /><span data-ttu-id="d567d-115">-ことをお勧め、データ ファイルとトランザクション ログ ファイルを問題になるディスク I/O の競合の可能性を減らすために専用のドライブに配置するこれらの各します。</span><span class="sxs-lookup"><span data-stu-id="d567d-115">-   We recommend that the data files and transaction log files for each of these be placed on dedicated drives to reduce the likelihood of disk I/O contention becoming a problem.</span></span><br /><span data-ttu-id="d567d-116">データベース ファイルとトランザクション ログ ファイルの異なる物理ディスクを分離することと、メッセージ ボックスと追跡 (DTA) データベースを分離することによってディスク I/O の競合を減らす-ことができます。</span><span class="sxs-lookup"><span data-stu-id="d567d-116">-   You can reduce disk I/O contention by separating the MessageBox and Tracking (DTA) databases, and by separating the database files and transaction log files on different physical disks.</span></span><br /><br /> <span data-ttu-id="d567d-117">詳細については、次を参照してください[監視およびデータベース入出力の競合を減らす。](~/technical-guides/monitoring-and-reducing-database-i-o-contention.md)</span><span class="sxs-lookup"><span data-stu-id="d567d-117">For more information, see [Monitoring and Reducing Database IO Contention](~/technical-guides/monitoring-and-reducing-database-i-o-contention.md)</span></span>|  
|<span data-ttu-id="d567d-118">確認[!INCLUDE[btsSQLServerNoVersion](../includes/btssqlservernoversion-md.md)]が適切にアライン ディスク パーティションに構成されています。</span><span class="sxs-lookup"><span data-stu-id="d567d-118">Ensure [!INCLUDE[btsSQLServerNoVersion](../includes/btssqlservernoversion-md.md)] is configured on properly-aligned disk partitions</span></span>|<span data-ttu-id="d567d-119">適切に配置されたディスク パーティションを向上させるための待機時間が大幅に低下が生じる、 [!INCLUDE[btsSQLServerNoVersion](../includes/btssqlservernoversion-md.md)] 、パフォーマンスがさらに向上[!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)]パフォーマンス。</span><span class="sxs-lookup"><span data-stu-id="d567d-119">Properly aligned disk partitions could result in significant decrease in latency thereby improving the [!INCLUDE[btsSQLServerNoVersion](../includes/btssqlservernoversion-md.md)] performance, which in turn enhances [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] performance.</span></span> <span data-ttu-id="d567d-120">反対に、固定されていないディスク パーティションに悪影響を与える I/O パフォーマンス、低下、[!INCLUDE[btsSQLServerNoVersion](../includes/btssqlservernoversion-md.md)]と[!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)]パフォーマンス。</span><span class="sxs-lookup"><span data-stu-id="d567d-120">On the contrary, nonaligned disk partitions can negatively affect I/O performance, thereby degrading the [!INCLUDE[btsSQLServerNoVersion](../includes/btssqlservernoversion-md.md)] and [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] performance.</span></span><br /><br /> <span data-ttu-id="d567d-121">どのように適切に配置されたディスク パーティションの詳細については、パフォーマンスに大きな影響を与えることができますを参照してください["ディスク パーティションの配置ベスト プラクティスの SQL Server"](http://go.microsoft.com/fwlink/?LinkId=154073) (http://go.microsoft.com/fwlink/?LinkId=154073)。</span><span class="sxs-lookup"><span data-stu-id="d567d-121">For more information about how properly aligned disk partitions can positively affect performance, see ["Disk Partition Alignment Best Practices for SQL Server”](http://go.microsoft.com/fwlink/?LinkId=154073) (http://go.microsoft.com/fwlink/?LinkId=154073).</span></span>|  
|<span data-ttu-id="d567d-122">SQL Server Profiler を使用して監視するイベントを保持します。</span><span class="sxs-lookup"><span data-stu-id="d567d-122">Keep the events you monitor with the SQL Server Profiler</span></span>|<span data-ttu-id="d567d-123">関心があるイベントだけを監視するのにには、SQL Server Profiler を使用します。</span><span class="sxs-lookup"><span data-stu-id="d567d-123">Use SQL Server Profiler to monitor only the events in which you are interested.</span></span> <span data-ttu-id="d567d-124">トレースが必要になる大きすぎる場合、イベント データのサブセットのみが収集できるように、必要な情報に基づいてフィルター処理できます。</span><span class="sxs-lookup"><span data-stu-id="d567d-124">If traces become too large, you can filter them based on the information you want, so that only a subset of the event data is collected.</span></span> <span data-ttu-id="d567d-125">監視するイベントが多すぎると、サーバーと監視プロセスのオーバーヘッドが増え、トレース ファイルやトレース テーブルが非常に大きくなる可能性があります。特に、監視プロセスを長期にわたって実行する場合はこの可能性が高くなります。</span><span class="sxs-lookup"><span data-stu-id="d567d-125">Monitoring too many events adds overhead to the server and the monitoring process, and can cause the trace file or trace table to grow very large, especially when the monitoring process takes place over a long period of time.</span></span>|  
|<span data-ttu-id="d567d-126">監視し、DTC ログ ファイル ディスク I/O の競合を削減します。</span><span class="sxs-lookup"><span data-stu-id="d567d-126">Monitor and reduce DTC log file disk I/O contention.</span></span>|[<span data-ttu-id="d567d-127">監視とログ ファイルのディスク IO の競合の DTC の削減</span><span class="sxs-lookup"><span data-stu-id="d567d-127">Monitoring and Reducing DTC Log File Disk IO Contention</span></span>](~/technical-guides/monitoring-and-reducing-dtc-log-file-disk-i-o-contention.md)|  
|<span data-ttu-id="d567d-128">高い可用性を実現、[!INCLUDE[btsSQLServerNoVersion](../includes/btssqlservernoversion-md.md)]データベース。</span><span class="sxs-lookup"><span data-stu-id="d567d-128">Provide high availability for the [!INCLUDE[btsSQLServerNoVersion](../includes/btssqlservernoversion-md.md)] databases.</span></span>|[<span data-ttu-id="d567d-129">データベースの可用性の計画</span><span class="sxs-lookup"><span data-stu-id="d567d-129">Planning for Database Availability</span></span>](~/technical-guides/planning-for-database-availability.md)|  
|<span data-ttu-id="d567d-130">フェールオーバーのシナリオにアクティブ/アクティブの SQL Server クラスター構成を確認します。</span><span class="sxs-lookup"><span data-stu-id="d567d-130">Review active/active SQL Server cluster configuration for failover scenarios.</span></span>|[<span data-ttu-id="d567d-131">レビューし、テスト フェールオーバーのシナリオに SQL Server クラスターの構成</span><span class="sxs-lookup"><span data-stu-id="d567d-131">Reviewing and Testing SQL Server Cluster Configuration for Failover Scenarios</span></span>](~/technical-guides/reviewing-and-testing-sql-server-cluster-configuration-for-failover-scenarios.md)|  
|<span data-ttu-id="d567d-132">既定の構成設定を使用します。</span><span class="sxs-lookup"><span data-stu-id="d567d-132">Use default configuration settings for:</span></span><br /><br /> <span data-ttu-id="d567d-133">Max Degree of Parallelism (MDOP)。</span><span class="sxs-lookup"><span data-stu-id="d567d-133">-   Max Degree of Parallelism (MDOP).</span></span><br /><span data-ttu-id="d567d-134">-   [!INCLUDE[btsSQLServerNoVersion](../includes/btssqlservernoversion-md.md)]統計情報、[!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)]メッセージ ボックス データベースです。</span><span class="sxs-lookup"><span data-stu-id="d567d-134">-   [!INCLUDE[btsSQLServerNoVersion](../includes/btssqlservernoversion-md.md)] statistics on the [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] MessageBox database.</span></span><br /><span data-ttu-id="d567d-135">-   [!INCLUDE[btsSQLServerNoVersion](../includes/btssqlservernoversion-md.md)]データベースのインデックス再構築と最適化します。</span><span class="sxs-lookup"><span data-stu-id="d567d-135">-   [!INCLUDE[btsSQLServerNoVersion](../includes/btssqlservernoversion-md.md)] database index rebuilds and defragmentation.</span></span>|[<span data-ttu-id="d567d-136">SQL Server の設定を変更しないでください。</span><span class="sxs-lookup"><span data-stu-id="d567d-136">SQL Server Settings That Should Not Be Changed</span></span>](~/technical-guides/sql-server-settings-that-should-not-be-changed.md)|  
|<span data-ttu-id="d567d-137">すべてのインスタンスの起動時のパラメーターとしてトレース フラグ 1118 (TF1118) を有効にする[!INCLUDE[btsSQLServerNoVersion](../includes/btssqlservernoversion-md.md)]です。</span><span class="sxs-lookup"><span data-stu-id="d567d-137">Enable trace flag 1118 (TF1118) as a startup parameter for all instances of [!INCLUDE[btsSQLServerNoVersion](../includes/btssqlservernoversion-md.md)].</span></span>|<span data-ttu-id="d567d-138">間で競合を減らし、TF1118 を実装する、[!INCLUDE[btsSQLServerNoVersion](../includes/btssqlservernoversion-md.md)]ほとんどすべての単一のページ割り当てを削除することでインスタンス。</span><span class="sxs-lookup"><span data-stu-id="d567d-138">Implementing TF1118 helps reduce contention across the [!INCLUDE[btsSQLServerNoVersion](../includes/btssqlservernoversion-md.md)] instances by removing almost all single page allocations.</span></span> <span data-ttu-id="d567d-139">詳細については「マイクロソフト サポート技術情報の記事 328551、 ["同時実行の tempdb データベースの機能強化"](http://go.microsoft.com/fwlink/?LinkId=153694) (http://go.microsoft.com/fwlink/?LinkId=153694)。</span><span class="sxs-lookup"><span data-stu-id="d567d-139">For more information see Microsoft Knowledge Base article 328551, ["Concurrency enhancements for the tempdb database"](http://go.microsoft.com/fwlink/?LinkId=153694) (http://go.microsoft.com/fwlink/?LinkId=153694).</span></span> <span data-ttu-id="d567d-140">**注:** TF1118 参照の詳細については["誤解周囲 TF1118"](http://go.microsoft.com/fwlink/?LinkId=158271) (http://go.microsoft.com/fwlink/?LinkId=158271)。</span><span class="sxs-lookup"><span data-stu-id="d567d-140">**Note:**  For more information about TF1118 see [“Misconceptions around TF1118”](http://go.microsoft.com/fwlink/?LinkId=158271) (http://go.microsoft.com/fwlink/?LinkId=158271).</span></span> <span data-ttu-id="d567d-141">Microsoft は、次のリンクでコンテンツを所有していない、Microsoft は、コンテンツの正確性を保証していないことに注意してください。</span><span class="sxs-lookup"><span data-stu-id="d567d-141">Note that the content at this link is not owned by Microsoft and Microsoft does not guarantee the accuracy of the content.</span></span>|  
|<span data-ttu-id="d567d-142">Tempdb データベースをそれぞれに等しいサイズの複数のデータ ファイルに分割[!INCLUDE[btsSQLServerNoVersion](../includes/btssqlservernoversion-md.md)]インスタンスによって使用される[!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)]です。</span><span class="sxs-lookup"><span data-stu-id="d567d-142">Split the tempdb database into multiple data files of equal size on each [!INCLUDE[btsSQLServerNoVersion](../includes/btssqlservernoversion-md.md)] instance used by [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)].</span></span>|<span data-ttu-id="d567d-143">Tempdb に使用されるデータ ファイルと同じサイズのことを確認します。</span><span class="sxs-lookup"><span data-stu-id="d567d-143">Ensure that the data files used for the tempdb are of equal size.</span></span> <span data-ttu-id="d567d-144">これは重要な比例アルゴリズムで使用[!INCLUDE[btsSQLServerNoVersion](../includes/btssqlservernoversion-md.md)]データ ファイルのサイズに基づきます。</span><span class="sxs-lookup"><span data-stu-id="d567d-144">This is critical because the proportional fill algorithm used by [!INCLUDE[btsSQLServerNoVersion](../includes/btssqlservernoversion-md.md)] is based on the size of the data files.</span></span> <span data-ttu-id="d567d-145">サイズの異なるデータ ファイルが作成比例アルゴリズムは複数作成する無意味にそれによって、すべてのファイル間での割り当てを展開するのではなく、グローバル アロケーション マップ (GAM) の割り当ての最も大きいファイルを使用します。データ ファイル。</span><span class="sxs-lookup"><span data-stu-id="d567d-145">If data files are created with unequal sizes, the proportional fill algorithm will use the largest file more for Global Allocation Map (GAM) allocations rather than spreading the allocations between all the files, thereby defeating the purpose of creating multiple data files.</span></span> <span data-ttu-id="d567d-146">一般的なガイドラインとして、サーバー上の各 CPU の 1 つのデータ ファイルを作成および必要に応じて上または下のファイルの数を調整します。</span><span class="sxs-lookup"><span data-stu-id="d567d-146">As a general guideline, create one data file for each CPU on the server and then adjust the number of files up or down as necessary.</span></span> <span data-ttu-id="d567d-147">デュアルコア CPU は 2 つの CPU と見なされることに注意してください。</span><span class="sxs-lookup"><span data-stu-id="d567d-147">Note that a dual-core CPU is considered to be two CPUs.</span></span> <span data-ttu-id="d567d-148">いかなる場合においては、データ ファイルの数を追加コアの数は、コンピューターで使用できるに関係なく 8 より大きい必要がありますできません。</span><span class="sxs-lookup"><span data-stu-id="d567d-148">In any event, the number of data files must not be greater than 8 no matter how many additional cores are available on the computer.</span></span> <span data-ttu-id="d567d-149">Tempdb ファイルの詳細については、次を参照してください。 [tempdb のパフォーマンスを最適化する](http://go.microsoft.com/fwlink/?LinkId=158272)(http://go.microsoft.com/fwlink/?LinkId=158272) で、[!INCLUDE[btsSQLServerNoVersion](../includes/btssqlservernoversion-md.md)]ドキュメント。</span><span class="sxs-lookup"><span data-stu-id="d567d-149">For more information about tempdb files, see [Optimizing tempdb Performance](http://go.microsoft.com/fwlink/?LinkId=158272) (http://go.microsoft.com/fwlink/?LinkId=158272) in the [!INCLUDE[btsSQLServerNoVersion](../includes/btssqlservernoversion-md.md)] documentation.</span></span>|  
|<span data-ttu-id="d567d-150">実行している場合[!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)]実行しているコンピューター上にあるデータベースをホストしていると[!INCLUDE[btsSQLServerNoVersion](../includes/btssqlservernoversion-md.md)]で十分な物理メモリのインスタンスを構成する[!INCLUDE[btsSQLServerNoVersion](../includes/btssqlservernoversion-md.md)]Address Windowing Extensions (AWE) メモリを使用します。</span><span class="sxs-lookup"><span data-stu-id="d567d-150">If you are running [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] and hosting your databases on computers running [!INCLUDE[btsSQLServerNoVersion](../includes/btssqlservernoversion-md.md)] with sufficient physical memory, configure the instances of [!INCLUDE[btsSQLServerNoVersion](../includes/btssqlservernoversion-md.md)] to use Address Windowing Extensions (AWE) memory.</span></span>|<span data-ttu-id="d567d-151">X86 コンピューター、 [!INCLUDE[btsSQLServerNoVersion](../includes/btssqlservernoversion-md.md)] 2 GB を超える物理メモリを使用するように構成する必要があります。</span><span class="sxs-lookup"><span data-stu-id="d567d-151">On an x86 computer, [!INCLUDE[btsSQLServerNoVersion](../includes/btssqlservernoversion-md.md)] should be configured to use more than 2 GB of physical memory.</span></span> [!INCLUDE[btsSQLServerNoVersion](../includes/btssqlservernoversion-md.md)]<span data-ttu-id="d567d-152">Microsoft Windows Address Windowing Extensions (AWE) を最大 32 GB のメモリをアドレスを使用するためのサポートが含まれます。</span><span class="sxs-lookup"><span data-stu-id="d567d-152"> includes support for the use of Microsoft Windows Address Windowing Extensions (AWE) to address up to 32 GB of memory.</span></span> <span data-ttu-id="d567d-153">AWE で[!INCLUDE[btsSQLServerNoVersion](../includes/btssqlservernoversion-md.md)]他のアプリケーションとオペレーティング システムの使用されていないメモリを予約できます。</span><span class="sxs-lookup"><span data-stu-id="d567d-153">With AWE, [!INCLUDE[btsSQLServerNoVersion](../includes/btssqlservernoversion-md.md)] can reserve memory that is not in use for other applications and the operating system.</span></span> <span data-ttu-id="d567d-154">ただし、このメモリを使用する各インスタンスは、必要なメモリを割り当てる必要がありますに静的にします。</span><span class="sxs-lookup"><span data-stu-id="d567d-154">Each instance that uses this memory, however, must statically allocate the memory it needs.</span></span> [!INCLUDE[btsSQLServerNoVersion](../includes/btssqlservernoversion-md.md)]<span data-ttu-id="d567d-155">データ キャッシュと実行可能ファイル、ドライバー、Dll、およびなどのメモリを割り当てられているこの AWE のみ使用できます。</span><span class="sxs-lookup"><span data-stu-id="d567d-155"> can only use this AWE allocated memory for the data cache and not for executables, drivers, DLLs, and so forth.</span></span> <span data-ttu-id="d567d-156">詳細については、以下をご覧ください。</span><span class="sxs-lookup"><span data-stu-id="d567d-156">For more information, see:</span></span><br /><br /> <span data-ttu-id="d567d-157">Microsoft サポート技術情報の記事 274750、 [「2 GB を超える物理メモリを使用する SQL Server を構成する方法」](http://go.microsoft.com/fwlink/?LinkId=153718) (http://go.microsoft.com/fwlink/?LinkId=153718).</span><span class="sxs-lookup"><span data-stu-id="d567d-157">-   Microsoft Knowledge Base article 274750, ["How to configure SQL Server to use more than 2 GB of physical memory"](http://go.microsoft.com/fwlink/?LinkId=153718) (http://go.microsoft.com/fwlink/?LinkId=153718).</span></span><br /><span data-ttu-id="d567d-158">-   [AWE を使用して](http://go.microsoft.com/fwlink/?LinkId=153720)(http://go.microsoft.com/fwlink/?LinkId=153720) で、[!INCLUDE[btsSQLServerNoVersion](../includes/btssqlservernoversion-md.md)]ドキュメント。</span><span class="sxs-lookup"><span data-stu-id="d567d-158">-   [Using AWE](http://go.microsoft.com/fwlink/?LinkId=153720) (http://go.microsoft.com/fwlink/?LinkId=153720) in the [!INCLUDE[btsSQLServerNoVersion](../includes/btssqlservernoversion-md.md)] documentation.</span></span><br /><span data-ttu-id="d567d-159">-   [SQL Server の AWE メモリを有効にする](http://go.microsoft.com/fwlink/?LinkId=158273)(http://go.microsoft.com/fwlink/?LinkId=158273) で、[!INCLUDE[btsSQLServerNoVersion](../includes/btssqlservernoversion-md.md)]ドキュメント。</span><span class="sxs-lookup"><span data-stu-id="d567d-159">-   [Enabling AWE Memory for SQL Server](http://go.microsoft.com/fwlink/?LinkId=158273) (http://go.microsoft.com/fwlink/?LinkId=158273) in the [!INCLUDE[btsSQLServerNoVersion](../includes/btssqlservernoversion-md.md)] documentation.</span></span>|  
|<span data-ttu-id="d567d-160">上の同じ値を最小値と最大サーバー メモリの設定、 [!INCLUDE[btsSQLServerNoVersion](../includes/btssqlservernoversion-md.md)] instance(s) をホストする、[!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)]データベース。</span><span class="sxs-lookup"><span data-stu-id="d567d-160">Set the Minimum and Maximum Server memory to the same values on the [!INCLUDE[btsSQLServerNoVersion](../includes/btssqlservernoversion-md.md)] instance(s) that host the [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] databases.</span></span>|<span data-ttu-id="d567d-161">実行するコンピューター[!INCLUDE[btsSQLServerNoVersion](../includes/btssqlservernoversion-md.md)]をホストする、[!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)]実行中にデータベースで占有できる必要があります[!INCLUDE[btsSQLServerNoVersion](../includes/btssqlservernoversion-md.md)]です。</span><span class="sxs-lookup"><span data-stu-id="d567d-161">The computers running [!INCLUDE[btsSQLServerNoVersion](../includes/btssqlservernoversion-md.md)] that host the [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] databases should be dedicated to running [!INCLUDE[btsSQLServerNoVersion](../includes/btssqlservernoversion-md.md)].</span></span> <span data-ttu-id="d567d-162">ときに実行しているコンピューター[!INCLUDE[btsSQLServerNoVersion](../includes/btssqlservernoversion-md.md)]をホストする、[!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)]データベース**は**を実行する専用[!INCLUDE[btsSQLServerNoVersion](../includes/btssqlservernoversion-md.md)]、ことをお勧め、'min server memory' と 'max server memory' オプションをそれぞれ[!INCLUDE[btsSQLServerNoVersion](../includes/btssqlservernoversion-md.md)]インスタンスに割り当てるメモリの固定量を指定する設定[!INCLUDE[btsSQLServerNoVersion](../includes/btssqlservernoversion-md.md)]です。</span><span class="sxs-lookup"><span data-stu-id="d567d-162">When the computers running [!INCLUDE[btsSQLServerNoVersion](../includes/btssqlservernoversion-md.md)] that host the [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] databases **are** dedicated to running [!INCLUDE[btsSQLServerNoVersion](../includes/btssqlservernoversion-md.md)], we recommend that the 'min server memory' and 'max server memory' options on each [!INCLUDE[btsSQLServerNoVersion](../includes/btssqlservernoversion-md.md)] instance be set to specify the fixed amount of memory to allocate to [!INCLUDE[btsSQLServerNoVersion](../includes/btssqlservernoversion-md.md)].</span></span> <span data-ttu-id="d567d-163">ここでは、する必要があります、'min server memory' と 'max server memory'、同じ値に設定 (SQL Server が使用される物理メモリの最大量に等しい)。</span><span class="sxs-lookup"><span data-stu-id="d567d-163">In this case, you should set the 'min server memory' and 'max server memory' to the same value (equal to the maximum amount of physical memory that SQL Server will use).</span></span> <span data-ttu-id="d567d-164">これが減少してそれ以外の場合に使用されるオーバーヘッド[!INCLUDE[btsSQLServerNoVersion](../includes/btssqlservernoversion-md.md)]これらの値を動的に管理します。</span><span class="sxs-lookup"><span data-stu-id="d567d-164">This will reduce overhead that would otherwise be used by [!INCLUDE[btsSQLServerNoVersion](../includes/btssqlservernoversion-md.md)] dynamically managing these values.</span></span> <span data-ttu-id="d567d-165">実行している各コンピューターで、次の T-SQL コマンドを実行[!INCLUDE[btsSQLServerNoVersion](../includes/btssqlservernoversion-md.md)]に割り当てるメモリの固定量を指定する[!INCLUDE[btsSQLServerNoVersion](../includes/btssqlservernoversion-md.md)]:</span><span class="sxs-lookup"><span data-stu-id="d567d-165">Execute the following T-SQL commands on each computer running [!INCLUDE[btsSQLServerNoVersion](../includes/btssqlservernoversion-md.md)] to specify the fixed amount of memory to allocate to [!INCLUDE[btsSQLServerNoVersion](../includes/btssqlservernoversion-md.md)]:</span></span><br /><br /> <span data-ttu-id="d567d-166">sp_configure 'Max Server memory (MB)'、(最大サイズ (MB) sp_configure '最小サーバー メモリ (MB)' (最小サイズ (MB)</span><span class="sxs-lookup"><span data-stu-id="d567d-166">sp_configure ‘Max Server memory (MB)’,(max size in MB)sp_configure ‘Min Server memory (MB)’,(min size in MB)</span></span><br /><br /> <span data-ttu-id="d567d-167">メモリの量を設定する前に[!INCLUDE[btsSQLServerNoVersion](../includes/btssqlservernoversion-md.md)]、合計物理メモリから Windows Server に必要なメモリを差し引くことで、適切なメモリ設定を決定します。</span><span class="sxs-lookup"><span data-stu-id="d567d-167">Before you set the amount of memory for [!INCLUDE[btsSQLServerNoVersion](../includes/btssqlservernoversion-md.md)], determine the appropriate memory setting by subtracting the memory required for Windows Server from the total physical memory.</span></span> <span data-ttu-id="d567d-168">これは、最大メモリ量を割り当てることができます[!INCLUDE[btsSQLServerNoVersion](../includes/btssqlservernoversion-md.md)]です。</span><span class="sxs-lookup"><span data-stu-id="d567d-168">This is the maximum amount of memory you can assign to [!INCLUDE[btsSQLServerNoVersion](../includes/btssqlservernoversion-md.md)].</span></span> <span data-ttu-id="d567d-169">**注:**場合を実行するコンピューター[!INCLUDE[btsSQLServerNoVersion](../includes/btssqlservernoversion-md.md)]をホストする、[!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)]データベースは、トピックの説明に従っても、エンタープライズ シングル サインオン マスター シークレットをホスト[マスター シークレット サーバーをクラスタ リング](~/technical-guides/clustering-the-master-secret-server.md)し、エンタープライズ シングル サインオン サービスを実行可能にするための十分なメモリがあることを確認するには、この値を調整する必要があります。</span><span class="sxs-lookup"><span data-stu-id="d567d-169">**Note:**  If the computer(s) running [!INCLUDE[btsSQLServerNoVersion](../includes/btssqlservernoversion-md.md)] that host the [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] databases also host the Enterprise Single Sign-On master secret as described in the topic [Clustering the Master Secret Server](~/technical-guides/clustering-the-master-secret-server.md) then you may need to adjust this value to ensure that there is sufficient memory available to run the Enterprise Single Sign-On Service.</span></span>|  
|<span data-ttu-id="d567d-170">BizTalk 追跡データベースのサイズをアカウントします。</span><span class="sxs-lookup"><span data-stu-id="d567d-170">Account for the size of BizTalk Tracking database</span></span>|<span data-ttu-id="d567d-171">-メッセージを BizTalk 追跡 (DTA) データベースのサイズを決定するとき、メッセージ コンテキストの平均サイズを追加メッセージのサイズ重要である場合メッセージ サイズと比較します。</span><span class="sxs-lookup"><span data-stu-id="d567d-171">-   When determining the size of messages in the BizTalk Tracking (DTA) database, add the average size of the message context to the message size if it is significant compared to the message size.</span></span><br /><span data-ttu-id="d567d-172">、BizTalk 追跡データベース内のメッセージのサイズを制限するためには昇格したプロパティの数を制限します。</span><span class="sxs-lookup"><span data-stu-id="d567d-172">-   To limit the size of messages in the BizTalk Tracking database, limit the number of properties that you promote.</span></span><br /><span data-ttu-id="d567d-173">オーケストレーション デバッガーのオプションが有効になっている場合は、オーケストレーション内の各図形の状態は、BizTalk 追跡データベースに保存されているを考慮します。</span><span class="sxs-lookup"><span data-stu-id="d567d-173">-   If the orchestration debugger option is enabled, take into account that the status of each shape in the orchestration is saved in the BizTalk Tracking database.</span></span>|  
  
<a name="BKMK_Maintain"></a>   
## <a name="performing-sql-server-maintenance-procedures"></a><span data-ttu-id="d567d-174">SQL Server のメンテナンスの手順を実行します。</span><span class="sxs-lookup"><span data-stu-id="d567d-174">Performing SQL Server Maintenance Procedures</span></span>  
  
|<span data-ttu-id="d567d-175">手順</span><span class="sxs-lookup"><span data-stu-id="d567d-175">Steps</span></span>|<span data-ttu-id="d567d-176">リファレンス</span><span class="sxs-lookup"><span data-stu-id="d567d-176">Reference</span></span>|  
|-----------|---------------|  
|<span data-ttu-id="d567d-177">自動拡張設定を定義、[!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)]データベース。</span><span class="sxs-lookup"><span data-stu-id="d567d-177">Define auto-growth settings for the [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] databases.</span></span>|<span data-ttu-id="d567d-178">データベースの自動拡張は、特に、メッセージ ボックス データベースおよび追跡データベースのパーセンテージではなくメガバイト数が固定に設定する必要があります。</span><span class="sxs-lookup"><span data-stu-id="d567d-178">-   Database auto-growth should be set to a fixed number of megabytes instead of a percentage, especially for the MessageBox and Tracking databases.</span></span> <span data-ttu-id="d567d-179">BizTalk Server アプリケーションとスループット、に応じて、メッセージ ボックス データベースおよび追跡データベースを非常に大きい取得できます。</span><span class="sxs-lookup"><span data-stu-id="d567d-179">Depending on your BizTalk Server application and throughput, the MessageBox and Tracking databases can get quite large.</span></span> <span data-ttu-id="d567d-180">自動拡張設定されている場合、このパーセンテージを自動拡張がかなり大きくなる場合もします。</span><span class="sxs-lookup"><span data-stu-id="d567d-180">If auto-growth is set to a percentage, then the auto-growth can be substantial as well.</span></span><br /><span data-ttu-id="d567d-181">ファイルのインスタント初期化では、ファイルの拡張操作のパフォーマンスに与える影響を大幅に減らすことができます。</span><span class="sxs-lookup"><span data-stu-id="d567d-181">-   Instant file initialization can greatly reduce the performance impact of a file growth operation.</span></span><br /><span data-ttu-id="d567d-182">-理想的には、ファイル グループをサポートするファイルのサイズを事前に割り当てられるし、可能な場合は、静的なサイズに設定する必要があります。</span><span class="sxs-lookup"><span data-stu-id="d567d-182">-   Ideally, the size of files supporting the file groups should be pre-allocated, and if possible, set to a static size.</span></span><br /><br /> <span data-ttu-id="d567d-183">詳細については、次を参照してください。[データベースの自動拡張設定を定義する](~/technical-guides/defining-auto-growth-settings-for-databases.md)です。</span><span class="sxs-lookup"><span data-stu-id="d567d-183">For more information, see [Defining Auto-Growth Settings for Databases](~/technical-guides/defining-auto-growth-settings-for-databases.md).</span></span>|  
|<span data-ttu-id="d567d-184">バックアップを[!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)]データベース</span><span class="sxs-lookup"><span data-stu-id="d567d-184">Back up the [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] databases</span></span>|<span data-ttu-id="d567d-185">に実行中お勧め、[!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)]を防ぐためにバックアップ ジョブ、[!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)]データベース トランザクション ログの境界のない方法で拡張します。</span><span class="sxs-lookup"><span data-stu-id="d567d-185">-   We recommend running the [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] backup job to prevent the [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] database transaction logs from growing in an unbounded fashion.</span></span><br /><span data-ttu-id="d567d-186">全体を復元する必要があります-[!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)]を定期的におよび、環境は、プロセスを文書慎重に必要があります。</span><span class="sxs-lookup"><span data-stu-id="d567d-186">-   You should restore the entire [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] environment on a regular basis, and you should carefully document the process.</span></span><br /><span data-ttu-id="d567d-187">古いバックアップ ファイルをアーカイブすることをお勧めします。</span><span class="sxs-lookup"><span data-stu-id="d567d-187">-   We recommend that you archive old backup files.</span></span><br /><br /> <span data-ttu-id="d567d-188">詳細については、次を参照してください。[データベースのバックアップ](~/technical-guides/backing-up-databases.md)です。</span><span class="sxs-lookup"><span data-stu-id="d567d-188">For more information, see [Backing Up Databases](~/technical-guides/backing-up-databases.md).</span></span>|  
|<span data-ttu-id="d567d-189">モニター、 [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] SQL エージェント ジョブ。</span><span class="sxs-lookup"><span data-stu-id="d567d-189">Monitor the [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] SQL Agent jobs.</span></span>|<span data-ttu-id="d567d-190">これらのジョブの状態を監視して、エラーなく実行されていることを確認してください。</span><span class="sxs-lookup"><span data-stu-id="d567d-190">Monitor the health of these jobs, and ensure that they are running without errors.</span></span> <span data-ttu-id="d567d-191">詳細については、次を参照してください。 [SQL Server エージェント ジョブの監視](~/technical-guides/monitoring-sql-server-agent-jobs.md)です。</span><span class="sxs-lookup"><span data-stu-id="d567d-191">For more information, see [Monitoring SQL Server Agent Jobs](~/technical-guides/monitoring-sql-server-agent-jobs.md).</span></span>|  
|<span data-ttu-id="d567d-192">有効にする[!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)]追跡およびアーカイブ</span><span class="sxs-lookup"><span data-stu-id="d567d-192">Enable [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] tracking and archiving</span></span>|<span data-ttu-id="d567d-193">「DTA の消去およびアーカイブ」SQL エージェント ジョブは、アーカイブして、コントロールから拡張されないように、BizTalk 追跡データベースから古いデータを削除します。</span><span class="sxs-lookup"><span data-stu-id="d567d-193">The “DTA Purge and Archive” SQL Agent job archives and purges old data from the BizTalk Tracking database, thus keeping it from growing out of control.</span></span> <span data-ttu-id="d567d-194">これは、正常なために不可欠な[!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)]システムです。</span><span class="sxs-lookup"><span data-stu-id="d567d-194">This is essential for a healthy [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] system.</span></span> <span data-ttu-id="d567d-195">詳細については、次を参照してください。[消去および追跡データのアーカイブ](~/technical-guides/purging-and-archiving-tracking-data.md)です。</span><span class="sxs-lookup"><span data-stu-id="d567d-195">For more information, see [Purging and Archiving Tracking Data](~/technical-guides/purging-and-archiving-tracking-data.md).</span></span>|  
  
<a name="BKMK_Backup"></a>   
## <a name="backing-up-the-biztalk-server-databases"></a><span data-ttu-id="d567d-196">BizTalk Server データベースのバックアップ</span><span class="sxs-lookup"><span data-stu-id="d567d-196">Backing Up the BizTalk Server Databases</span></span>  
  
|<span data-ttu-id="d567d-197">手順</span><span class="sxs-lookup"><span data-stu-id="d567d-197">Steps</span></span>|<span data-ttu-id="d567d-198">リファレンス</span><span class="sxs-lookup"><span data-stu-id="d567d-198">Reference</span></span>|  
|-----------|---------------|  
|<span data-ttu-id="d567d-199">いることを確認、バックアップ[!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)]SQL エージェント ジョブを構成します。</span><span class="sxs-lookup"><span data-stu-id="d567d-199">Verify that the Backup [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] SQL Agent job is configured.</span></span>|<span data-ttu-id="d567d-200">-参照[「バックアップの BizTalk Server ジョブを構成する方法」](http://go.microsoft.com/fwlink/?LinkId=153813) (http://go.microsoft.com/fwlink/?LinkId=153813)。</span><span class="sxs-lookup"><span data-stu-id="d567d-200">-   See ["How to Configure the Backup BizTalk Server Job"](http://go.microsoft.com/fwlink/?LinkId=153813) (http://go.microsoft.com/fwlink/?LinkId=153813).</span></span><br /><span data-ttu-id="d567d-201">-参照[データベースのバックアップ](~/technical-guides/backing-up-databases.md)です。</span><span class="sxs-lookup"><span data-stu-id="d567d-201">-   See [Backing Up Databases](~/technical-guides/backing-up-databases.md).</span></span>|  
|<span data-ttu-id="d567d-202">バックアップを構成する[!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)]で指定された日数よりも古いバックアップ ファイルを削除する SQL エージェント ジョブ、@DaysToKeep変数。</span><span class="sxs-lookup"><span data-stu-id="d567d-202">Configure the Backup [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] SQL Agent job to delete backup files that are older than the number of days specified by the @DaysToKeep variable.</span></span> <span data-ttu-id="d567d-203">バックアップ ファイルが削除されていない場合よりも大きくなる unbounded バックアップ ファイルを保存し、限定されたディスク容量に関連する問題が発生したディスクがいっぱいになる時間。</span><span class="sxs-lookup"><span data-stu-id="d567d-203">If the backup files are not deleted they can grow unbounded over time which can fill up the disk(s) that contain the backup files and cause problems that relate to limited disk space.</span></span>|<span data-ttu-id="d567d-204">Microsoft サポート技術情報の記事 982546 を参照してください[バックアップ ファイルが Microsoft BizTalk Dababase server 時間の経過と共に蓄積されるときに、"Backup BizTalk Server"ジョブが失敗した](http://go.microsoft.com/fwlink/?LinkId=202858)(http://go.microsoft.com/fwlink/?LinkId=202858)。</span><span class="sxs-lookup"><span data-stu-id="d567d-204">See Microsoft Knowledge Base Article 982546, [The "Backup BizTalk Server" job fails when backup files accumulate over time in Microsoft BizTalk Dababase Server](http://go.microsoft.com/fwlink/?LinkId=202858) (http://go.microsoft.com/fwlink/?LinkId=202858).</span></span>|  
|<span data-ttu-id="d567d-205">いることを確認、バックアップ[!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)]SQL エージェント ジョブが有効で実行中です。</span><span class="sxs-lookup"><span data-stu-id="d567d-205">Verify that the Backup [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] SQL Agent job is enabled and running.</span></span>|[<span data-ttu-id="d567d-206">SQL Server エージェント ジョブの監視</span><span class="sxs-lookup"><span data-stu-id="d567d-206">Monitoring SQL Server Agent Jobs</span></span>](~/technical-guides/monitoring-sql-server-agent-jobs.md)|  
  
<a name="BKMK_Disaster"></a>   
## <a name="using-sql-server-log-shipping-for-disaster-recovery"></a><span data-ttu-id="d567d-207">SQL Server ログ配布の障害復旧を使用します。</span><span class="sxs-lookup"><span data-stu-id="d567d-207">Using SQL Server Log Shipping For Disaster Recovery</span></span>  
  
|<span data-ttu-id="d567d-208">手順</span><span class="sxs-lookup"><span data-stu-id="d567d-208">Steps</span></span>|<span data-ttu-id="d567d-209">リファレンス</span><span class="sxs-lookup"><span data-stu-id="d567d-209">Reference</span></span>|  
|-----------|---------------|  
|<span data-ttu-id="d567d-210">障害回復サーバーに実稼働負荷を処理する能力があることを確認します。</span><span class="sxs-lookup"><span data-stu-id="d567d-210">Verify that the disaster recovery servers have the capacity to handle production load.</span></span>|<span data-ttu-id="d567d-211">参照してください[BizTalk Server のログ配布災害復旧を使用します。](~/technical-guides/using-biztalk-server-log-shipping-for-disaster-recovery.md)</span><span class="sxs-lookup"><span data-stu-id="d567d-211">See [Using BizTalk Server Log Shipping for Disaster Recovery](~/technical-guides/using-biztalk-server-log-shipping-for-disaster-recovery.md)</span></span>|  
|<span data-ttu-id="d567d-212">災害復旧ルーチンの詳細が明確になっていることを確認します。</span><span class="sxs-lookup"><span data-stu-id="d567d-212">Ensure that the specifics of your disaster recovery routine are well documented.</span></span>|<span data-ttu-id="d567d-213">参照してください[BizTalk Server のログ配布災害復旧を使用します。](~/technical-guides/using-biztalk-server-log-shipping-for-disaster-recovery.md)</span><span class="sxs-lookup"><span data-stu-id="d567d-213">See [Using BizTalk Server Log Shipping for Disaster Recovery](~/technical-guides/using-biztalk-server-log-shipping-for-disaster-recovery.md)</span></span>|  
|<span data-ttu-id="d567d-214">障害復旧サイトに通常のテスト、プラクティス フェールオーバーの一環として、新しい BizTalk として特にアプリケーションが配置実稼働環境でします。</span><span class="sxs-lookup"><span data-stu-id="d567d-214">As part of regular testing, practice failover to the disaster recovery site, especially as new BizTalk applications are put in production.</span></span>|<span data-ttu-id="d567d-215">参照してください[BizTalk Server のログ配布災害復旧を使用します。](~/technical-guides/using-biztalk-server-log-shipping-for-disaster-recovery.md)</span><span class="sxs-lookup"><span data-stu-id="d567d-215">See [Using BizTalk Server Log Shipping for Disaster Recovery](~/technical-guides/using-biztalk-server-log-shipping-for-disaster-recovery.md)</span></span>|  
  
<a name="BKMK_Jobs"></a>   
## <a name="monitoring-biztalk-server-sql-agent-jobs"></a><span data-ttu-id="d567d-216">BizTalk Server SQL エージェント ジョブの監視</span><span class="sxs-lookup"><span data-stu-id="d567d-216">Monitoring BizTalk Server SQL Agent Jobs</span></span>  
  
|<span data-ttu-id="d567d-217">手順</span><span class="sxs-lookup"><span data-stu-id="d567d-217">Steps</span></span>|<span data-ttu-id="d567d-218">リファレンス</span><span class="sxs-lookup"><span data-stu-id="d567d-218">Reference</span></span>|  
|-----------|---------------|  
|<span data-ttu-id="d567d-219">SQL Server エージェント サービスが実行されていることを確認します。</span><span class="sxs-lookup"><span data-stu-id="d567d-219">Verify that the SQL Server Agent service is running.</span></span>|<span data-ttu-id="d567d-220">参照してください[SQL Server エージェント ジョブの監視](~/technical-guides/monitoring-sql-server-agent-jobs.md)</span><span class="sxs-lookup"><span data-stu-id="d567d-220">See [Monitoring SQL Server Agent Jobs](~/technical-guides/monitoring-sql-server-agent-jobs.md)</span></span>|  
|<span data-ttu-id="d567d-221">によって、SQL Server エージェント ジョブがインストールされていることを確認[!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)]が有効で、正常に実行します。</span><span class="sxs-lookup"><span data-stu-id="d567d-221">Verify that the SQL Server Agent jobs installed by [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] are enabled and running successfully.</span></span>|<span data-ttu-id="d567d-222">参照してください[SQL Server エージェント ジョブの監視](~/technical-guides/monitoring-sql-server-agent-jobs.md)</span><span class="sxs-lookup"><span data-stu-id="d567d-222">See [Monitoring SQL Server Agent Jobs](~/technical-guides/monitoring-sql-server-agent-jobs.md)</span></span>|  
|<span data-ttu-id="d567d-223">いることを確認、 [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] SQL エージェント ジョブは、適切なタイミングで作業を完了します。</span><span class="sxs-lookup"><span data-stu-id="d567d-223">Verify that the [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] SQL Agent jobs are completing in a timely manner.</span></span>|<span data-ttu-id="d567d-224">参照してください[SQL Server エージェント ジョブの監視](~/technical-guides/monitoring-sql-server-agent-jobs.md)</span><span class="sxs-lookup"><span data-stu-id="d567d-224">See [Monitoring SQL Server Agent Jobs](~/technical-guides/monitoring-sql-server-agent-jobs.md)</span></span>|  
  
<a name="BKMK_Purge"></a>   
## <a name="purging-and-archiving-tracking-data"></a><span data-ttu-id="d567d-225">消去および追跡データをアーカイブ</span><span class="sxs-lookup"><span data-stu-id="d567d-225">Purging and Archiving Tracking Data</span></span>  
  
|<span data-ttu-id="d567d-226">手順</span><span class="sxs-lookup"><span data-stu-id="d567d-226">Steps</span></span>|<span data-ttu-id="d567d-227">リファレンス</span><span class="sxs-lookup"><span data-stu-id="d567d-227">Reference</span></span>|  
|-----------|---------------|  
|<span data-ttu-id="d567d-228">SQL エージェント ジョブ「DTA の消去およびアーカイブ」が適切に構成された、有効であり、正常に完了することを確認します。</span><span class="sxs-lookup"><span data-stu-id="d567d-228">Ensure that the SQL Agent job "DTA Purge and Archive" is properly configured, enabled, and successfully completing.</span></span>|<span data-ttu-id="d567d-229">参照してください[「How to 構成 DTA Purge and Archive ジョブ」](http://go.microsoft.com/fwlink/?LinkId=153814) (http://go.microsoft.com/fwlink/?LinkId=153814)。</span><span class="sxs-lookup"><span data-stu-id="d567d-229">See ["How to Configure the DTA Purge and Archive Job"](http://go.microsoft.com/fwlink/?LinkId=153814) (http://go.microsoft.com/fwlink/?LinkId=153814).</span></span>|  
|<span data-ttu-id="d567d-230">ジョブが、受信追跡データが生成された高速の追跡データが削除できることを確認します。</span><span class="sxs-lookup"><span data-stu-id="d567d-230">Ensure that the job is able to purge the tracking data as fast as the incoming tracking data is generated.</span></span>|<span data-ttu-id="d567d-231">参照してください[「維持可能な最大の追跡スループットの測定」](http://go.microsoft.com/fwlink/?LinkId=153815) (http://go.microsoft.com/fwlink/?LinkId=153815)。</span><span class="sxs-lookup"><span data-stu-id="d567d-231">See ["Measuring Maximum Sustainable Tracking Throughput"](http://go.microsoft.com/fwlink/?LinkId=153815) (http://go.microsoft.com/fwlink/?LinkId=153815).</span></span>|  
|<span data-ttu-id="d567d-232">論理削除と物理削除ようにパラメーターを最適な時間の長さのデータを保持している場合を確認します。</span><span class="sxs-lookup"><span data-stu-id="d567d-232">Review the soft purge and hard purge parameters to ensure you are keeping data for the optimal length of time.</span></span>|<span data-ttu-id="d567d-233">参照してください[「アーカイブおよび BizTalk 追跡データベースの消去」](http://go.microsoft.com/fwlink/?LinkId=153816) (http://go.microsoft.com/fwlink/?LinkId=153816)。</span><span class="sxs-lookup"><span data-stu-id="d567d-233">See ["Archiving and Purging the BizTalk Tracking Database"](http://go.microsoft.com/fwlink/?LinkId=153816) (http://go.microsoft.com/fwlink/?LinkId=153816).</span></span>|  
|<span data-ttu-id="d567d-234">だけ古いデータを削除しないようにする必要がある場合必要があります、最初の変更をアーカイブする SQL エージェント ジョブ、ストアド プロシージャを呼び出す"dtasp_PurgeTrackingDatabase"</span><span class="sxs-lookup"><span data-stu-id="d567d-234">If you only need to purge the old data and do not need to archive it first, change the SQL Agent job to call the stored procedure "dtasp_PurgeTrackingDatabase."</span></span>|<span data-ttu-id="d567d-235">参照してください[「BizTalk 追跡データベースからデータを削除する方法」](http://go.microsoft.com/fwlink/?LinkId=153817) (http://go.microsoft.com/fwlink/?LinkId=153817)。</span><span class="sxs-lookup"><span data-stu-id="d567d-235">See ["How to Purge Data from the BizTalk Tracking Database"](http://go.microsoft.com/fwlink/?LinkId=153817) (http://go.microsoft.com/fwlink/?LinkId=153817).</span></span>|  
  
## <a name="in-this-section"></a><span data-ttu-id="d567d-236">このセクションの内容</span><span class="sxs-lookup"><span data-stu-id="d567d-236">In This Section</span></span>  
  
-   [<span data-ttu-id="d567d-237">SQL Server の設定を変更しないでください。</span><span class="sxs-lookup"><span data-stu-id="d567d-237">SQL Server Settings That Should Not Be Changed</span></span>](~/technical-guides/sql-server-settings-that-should-not-be-changed.md)  
  
-   [<span data-ttu-id="d567d-238">監視およびデータベース入出力の競合を減らす</span><span class="sxs-lookup"><span data-stu-id="d567d-238">Monitoring and Reducing Database IO Contention</span></span>](~/technical-guides/monitoring-and-reducing-database-i-o-contention.md)  
  
-   [<span data-ttu-id="d567d-239">レビューし、テスト フェールオーバーのシナリオに SQL Server クラスターの構成</span><span class="sxs-lookup"><span data-stu-id="d567d-239">Reviewing and Testing SQL Server Cluster Configuration for Failover Scenarios</span></span>](~/technical-guides/reviewing-and-testing-sql-server-cluster-configuration-for-failover-scenarios.md)  
  
-   [<span data-ttu-id="d567d-240">データベースの自動拡張設定を定義します。</span><span class="sxs-lookup"><span data-stu-id="d567d-240">Defining Auto-Growth Settings for Databases</span></span>](~/technical-guides/defining-auto-growth-settings-for-databases.md)  
  
-   [<span data-ttu-id="d567d-241">データベースのバックアップ</span><span class="sxs-lookup"><span data-stu-id="d567d-241">Backing Up Databases</span></span>](~/technical-guides/backing-up-databases.md)  
  
-   [<span data-ttu-id="d567d-242">BizTalk Server のログ配布災害復旧を使用します。</span><span class="sxs-lookup"><span data-stu-id="d567d-242">Using BizTalk Server Log Shipping for Disaster Recovery</span></span>](~/technical-guides/using-biztalk-server-log-shipping-for-disaster-recovery.md)  
  
-   [<span data-ttu-id="d567d-243">SQL Server エージェント ジョブの監視</span><span class="sxs-lookup"><span data-stu-id="d567d-243">Monitoring SQL Server Agent Jobs</span></span>](~/technical-guides/monitoring-sql-server-agent-jobs.md)  
  
-   [<span data-ttu-id="d567d-244">消去および追跡データをアーカイブ</span><span class="sxs-lookup"><span data-stu-id="d567d-244">Purging and Archiving Tracking Data</span></span>](~/technical-guides/purging-and-archiving-tracking-data.md)