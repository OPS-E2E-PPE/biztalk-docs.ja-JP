---
title: 'チェックリスト: SQL Server の構成 |Microsoft ドキュメント'
ms.custom: ''
ms.date: 06/29/2017
ms.prod: biztalk-server
ms.reviewer: ''
ms.suite: ''
ms.tgt_pltfrm: ''
ms.topic: article
ms.assetid: edd20f24-8a72-40b7-abee-81fbd3ceefda
caps.latest.revision: 6
author: MandiOhlinger
ms.author: mandia
manager: anneta
ms.openlocfilehash: 8f6c67fcdee26afd6ec9bb1016e86a98b1cf26e8
ms.sourcegitcommit: 3fc338e52d5dbca2c3ea1685a2faafc7582fe23a
ms.translationtype: MT
ms.contentlocale: ja-JP
ms.lasthandoff: 12/01/2017
ms.locfileid: "26010291"
---
# <a name="checklist-configuring-sql-server"></a><span data-ttu-id="edd41-102">チェックリスト: SQL Server を構成します。</span><span class="sxs-lookup"><span data-stu-id="edd41-102">Checklist: Configuring SQL Server</span></span>
<span data-ttu-id="edd41-103">用の SQL Server を準備するときに実行する手順は、BizTalk Server の実稼働環境で使用します。</span><span class="sxs-lookup"><span data-stu-id="edd41-103">Steps to follow when preparing SQL Server for use in a BizTalk Server production environment.</span></span>    
 
<a name="BKMK_Config"></a>   
## <a name="configuring-sql-server"></a><span data-ttu-id="edd41-104">SQL Server の構成</span><span class="sxs-lookup"><span data-stu-id="edd41-104">Configuring SQL Server</span></span>  
  
|<span data-ttu-id="edd41-105">手順</span><span class="sxs-lookup"><span data-stu-id="edd41-105">Steps</span></span>|<span data-ttu-id="edd41-106">リファレンス</span><span class="sxs-lookup"><span data-stu-id="edd41-106">Reference</span></span>|  
|-----------|---------------|  
|<span data-ttu-id="edd41-107">監視し、BizTalk Server データベース ファイル ディスク I/O の競合を削減します。</span><span class="sxs-lookup"><span data-stu-id="edd41-107">Monitor and reduce BizTalk Server database files disk I/O contention.</span></span>|<span data-ttu-id="edd41-108">事前対応的に、データ ファイルとトランザクション ログ ファイルを格納するディスクのディスク I/O の使用状況を監視することをお勧めします。</span><span class="sxs-lookup"><span data-stu-id="edd41-108">-   We recommend that you proactively monitor the disk I/O usage for the disks that house the data and transaction log files.</span></span><br /><span data-ttu-id="edd41-109">-ことをお勧め、データ ファイルとトランザクション ログ ファイルを問題になるディスク I/O の競合の可能性を減らすために専用のドライブに配置するこれらの各します。</span><span class="sxs-lookup"><span data-stu-id="edd41-109">-   We recommend that the data files and transaction log files for each of these be placed on dedicated drives to reduce the likelihood of disk I/O contention becoming a problem.</span></span><br /><span data-ttu-id="edd41-110">データベース ファイルとトランザクション ログ ファイルの異なる物理ディスクを分離することと、メッセージ ボックスと追跡 (DTA) データベースを分離することによってディスク I/O の競合を減らす-ことができます。</span><span class="sxs-lookup"><span data-stu-id="edd41-110">-   You can reduce disk I/O contention by separating the MessageBox and Tracking (DTA) databases, and by separating the database files and transaction log files on different physical disks.</span></span><br /><br /> <span data-ttu-id="edd41-111">詳細については、次を参照してください[監視およびデータベース入出力の競合を減らす。](monitoring-and-reducing-database-i-o-contention.md)</span><span class="sxs-lookup"><span data-stu-id="edd41-111">For more information, see [Monitoring and Reducing Database IO Contention](monitoring-and-reducing-database-i-o-contention.md)</span></span>|  
|<span data-ttu-id="edd41-112">SQL Server が適切にアライン ディスク パーティションの構成を確認してください。</span><span class="sxs-lookup"><span data-stu-id="edd41-112">Ensure SQL Server is configured on properly-aligned disk partitions</span></span>|<span data-ttu-id="edd41-113">ディスクのパーティションは、SQL Server のパフォーマンスがさらに BizTalk Server のパフォーマンスを向上し、向上させる待機時間が大幅に低下、可能性がありますを適切にアラインします。</span><span class="sxs-lookup"><span data-stu-id="edd41-113">Properly aligned disk partitions could result in significant decrease in latency thereby improving the SQL Server performance, which in turn enhances BizTalk Server performance.</span></span> <span data-ttu-id="edd41-114">反対に、固定されていないディスク パーティションに悪影響を与える I/O パフォーマンス、SQL Server と BizTalk Server のパフォーマンスが低下します。</span><span class="sxs-lookup"><span data-stu-id="edd41-114">On the contrary, nonaligned disk partitions can negatively affect I/O performance, thereby degrading the SQL Server and BizTalk Server performance.</span></span><br /><br /> <span data-ttu-id="edd41-115">どのように適切に配置されたディスク パーティションの詳細については、パフォーマンスに大きな影響を与えることができますを参照してください[SQL Server のディスク パーティションの配置のベスト プラクティス](http://go.microsoft.com/fwlink/?LinkId=154073)です。</span><span class="sxs-lookup"><span data-stu-id="edd41-115">For more information about how properly aligned disk partitions can positively affect performance, see [Disk Partition Alignment Best Practices for SQL Server](http://go.microsoft.com/fwlink/?LinkId=154073).</span></span>|  
|<span data-ttu-id="edd41-116">SQL Server Profiler を使用して監視するイベントを保持します。</span><span class="sxs-lookup"><span data-stu-id="edd41-116">Keep the events you monitor with the SQL Server Profiler</span></span>|<span data-ttu-id="edd41-117">関心があるイベントだけを監視するのにには、SQL Server Profiler を使用します。</span><span class="sxs-lookup"><span data-stu-id="edd41-117">Use SQL Server Profiler to monitor only the events in which you are interested.</span></span> <span data-ttu-id="edd41-118">トレースが必要になる大きすぎる場合、イベント データのサブセットのみが収集できるように、必要な情報に基づいてフィルター処理できます。</span><span class="sxs-lookup"><span data-stu-id="edd41-118">If traces become too large, you can filter them based on the information you want, so that only a subset of the event data is collected.</span></span> <span data-ttu-id="edd41-119">監視するイベントが多すぎると、サーバーと監視プロセスのオーバーヘッドが増え、トレース ファイルやトレース テーブルが非常に大きくなる可能性があります。特に、監視プロセスを長期にわたって実行する場合はこの可能性が高くなります。</span><span class="sxs-lookup"><span data-stu-id="edd41-119">Monitoring too many events adds overhead to the server and the monitoring process, and can cause the trace file or trace table to grow very large, especially when the monitoring process takes place over a long period of time.</span></span>|  
|<span data-ttu-id="edd41-120">監視し、DTC ログ ファイル ディスク I/O の競合を削減します。</span><span class="sxs-lookup"><span data-stu-id="edd41-120">Monitor and reduce DTC log file disk I/O contention.</span></span>|[<span data-ttu-id="edd41-121">監視とログ ファイルのディスク IO の競合の DTC の削減</span><span class="sxs-lookup"><span data-stu-id="edd41-121">Monitoring and Reducing DTC Log File Disk IO Contention</span></span>](monitoring-and-reducing-dtc-log-file-disk-i-o-contention.md)|  
|<span data-ttu-id="edd41-122">SQL Server データベースの高可用性を実現します。</span><span class="sxs-lookup"><span data-stu-id="edd41-122">Provide high availability for the SQL Server databases.</span></span>|[<span data-ttu-id="edd41-123">データベース可用性の計画</span><span class="sxs-lookup"><span data-stu-id="edd41-123">Planning for Database Availability</span></span>](planning-for-database-availability.md)|  
|<span data-ttu-id="edd41-124">フェールオーバーのシナリオにアクティブ/アクティブの SQL Server クラスター構成を確認します。</span><span class="sxs-lookup"><span data-stu-id="edd41-124">Review active/active SQL Server cluster configuration for failover scenarios.</span></span>|[<span data-ttu-id="edd41-125">フェールオーバー シナリオに備えた SQL Server クラスター構成のレビューとテスト</span><span class="sxs-lookup"><span data-stu-id="edd41-125">Reviewing and Testing SQL Server Cluster Configuration for Failover Scenarios</span></span>](reviewing-and-testing-sql-server-cluster-configuration-for-failover-scenarios.md)|  
|<span data-ttu-id="edd41-126">既定の構成設定を使用します。</span><span class="sxs-lookup"><span data-stu-id="edd41-126">Use default configuration settings for:</span></span><br /><br /> <span data-ttu-id="edd41-127">Max Degree of Parallelism (MDOP)。</span><span class="sxs-lookup"><span data-stu-id="edd41-127">-   Max Degree of Parallelism (MDOP).</span></span><br /><span data-ttu-id="edd41-128">BizTalk Server メッセージ ボックス データベースで SQL Server 統計情報です。</span><span class="sxs-lookup"><span data-stu-id="edd41-128">-   SQL Server statistics on the BizTalk Server MessageBox database.</span></span><br /><span data-ttu-id="edd41-129">SQL Server データベースのインデックス再構築と最適化します。</span><span class="sxs-lookup"><span data-stu-id="edd41-129">-   SQL Server database index rebuilds and defragmentation.</span></span>|[<span data-ttu-id="edd41-130">変更しない SQL Server の設定</span><span class="sxs-lookup"><span data-stu-id="edd41-130">SQL Server Settings That Should Not Be Changed</span></span>](sql-server-settings-that-should-not-be-changed.md)|  
|<span data-ttu-id="edd41-131">SQL Server のすべてのインスタンスの起動時のパラメーターとしてトレース フラグ 1118 (TF1118) を有効にします。</span><span class="sxs-lookup"><span data-stu-id="edd41-131">Enable trace flag 1118 (TF1118) as a startup parameter for all instances of SQL Server.</span></span>|<span data-ttu-id="edd41-132">TF1118 を実装することは、ほとんどすべての単一のページ割り当てを削除することで、SQL Server インスタンス間で競合を減らすのに役立ちます。</span><span class="sxs-lookup"><span data-stu-id="edd41-132">Implementing TF1118 helps reduce contention across the SQL Server instances by removing almost all single page allocations.</span></span> <span data-ttu-id="edd41-133">詳細については「マイクロソフト サポート技術情報の記事[tempdb データベースの同時実行制御の機能強化](https://support.microsoft.com/en-us/help/328551/concurrency-enhancements-for-the-tempdb-database)です。</span><span class="sxs-lookup"><span data-stu-id="edd41-133">For more information see Microsoft Knowledge Base article [Concurrency enhancements for the tempdb database](https://support.microsoft.com/en-us/help/328551/concurrency-enhancements-for-the-tempdb-database).</span></span> <br/><br/><span data-ttu-id="edd41-134">**注:** TF1118 参照の詳細については[TF1118 周囲誤解](https://www.sqlskills.com/blogs/paul/misconceptions-around-tf-1118/)です。</span><span class="sxs-lookup"><span data-stu-id="edd41-134">**Note:**  For more information about TF1118 see [Misconceptions around TF1118](https://www.sqlskills.com/blogs/paul/misconceptions-around-tf-1118/).</span></span> <span data-ttu-id="edd41-135">Microsoft は、次のリンクでコンテンツを所有していない、Microsoft は、コンテンツの正確性を保証していないことに注意してください。</span><span class="sxs-lookup"><span data-stu-id="edd41-135">Note that the content at this link is not owned by Microsoft and Microsoft does not guarantee the accuracy of the content.</span></span>|  
|<span data-ttu-id="edd41-136">Tempdb データベースを同じサイズの BizTalk Server で使用される各 SQL Server インスタンス上の複数のデータ ファイルに分割します。</span><span class="sxs-lookup"><span data-stu-id="edd41-136">Split the tempdb database into multiple data files of equal size on each SQL Server instance used by BizTalk Server.</span></span>|<span data-ttu-id="edd41-137">Tempdb に使用されるデータ ファイルと同じサイズのことを確認します。</span><span class="sxs-lookup"><span data-stu-id="edd41-137">Ensure that the data files used for the tempdb are of equal size.</span></span> <span data-ttu-id="edd41-138">SQL Server で使用される比例アルゴリズムは、データ ファイルのサイズに基づいているために、このことが重要です。</span><span class="sxs-lookup"><span data-stu-id="edd41-138">This is critical because the proportional fill algorithm used by SQL Server is based on the size of the data files.</span></span> <span data-ttu-id="edd41-139">サイズの異なるデータ ファイルが作成比例アルゴリズムは複数作成する無意味にそれによって、すべてのファイル間での割り当てを展開するのではなく、グローバル アロケーション マップ (GAM) の割り当ての最も大きいファイルを使用します。データ ファイル。</span><span class="sxs-lookup"><span data-stu-id="edd41-139">If data files are created with unequal sizes, the proportional fill algorithm will use the largest file more for Global Allocation Map (GAM) allocations rather than spreading the allocations between all the files, thereby defeating the purpose of creating multiple data files.</span></span> <span data-ttu-id="edd41-140">一般的なガイドラインとして、サーバー上の各 CPU の 1 つのデータ ファイルを作成および必要に応じて上または下のファイルの数を調整します。</span><span class="sxs-lookup"><span data-stu-id="edd41-140">As a general guideline, create one data file for each CPU on the server and then adjust the number of files up or down as necessary.</span></span> <span data-ttu-id="edd41-141">デュアルコア CPU は 2 つの CPU と見なされることに注意してください。</span><span class="sxs-lookup"><span data-stu-id="edd41-141">Note that a dual-core CPU is considered to be two CPUs.</span></span> <span data-ttu-id="edd41-142">いかなる場合においては、データ ファイルの数を追加コアの数は、コンピューターで使用できるに関係なく 8 より大きい必要がありますできません。</span><span class="sxs-lookup"><span data-stu-id="edd41-142">In any event, the number of data files must not be greater than 8 no matter how many additional cores are available on the computer.</span></span> <span data-ttu-id="edd41-143">Tempdb ファイルの詳細については、次を参照してください。 [tempdb のパフォーマンスを最適化する](https://docs.microsoft.com/sql/relational-databases/databases/tempdb-database)です。</span><span class="sxs-lookup"><span data-stu-id="edd41-143">For more information about tempdb files, see [Optimizing tempdb Performance](https://docs.microsoft.com/sql/relational-databases/databases/tempdb-database).</span></span>|  
|<span data-ttu-id="edd41-144">最小値を設定し、SQL Server で同じ値に最大サーバー メモリ instance(s)、BizTalk Server データベースをホストするします。</span><span class="sxs-lookup"><span data-stu-id="edd41-144">Set the Minimum and Maximum Server memory to the same values on the SQL Server instance(s) that host the BizTalk Server databases.</span></span>|<span data-ttu-id="edd41-145">ホストする SQL Server を実行するコンピューター、BizTalk Server データベースは、SQL Server を実行する専用必要があります。</span><span class="sxs-lookup"><span data-stu-id="edd41-145">The computers running SQL Server that host the BizTalk Server databases should be dedicated to running SQL Server.</span></span> <span data-ttu-id="edd41-146">ホストする SQL Server を実行するコンピューター、BizTalk Server データベース場合**は**SQL Server を実行する専用、ことをお勧め、'min server memory' と 'max server memory' を指定する各 SQL Server インスタンス上のオプションを設定します。SQL Server に割り当てるメモリの固定量。</span><span class="sxs-lookup"><span data-stu-id="edd41-146">When the computers running SQL Server that host the BizTalk Server databases **are** dedicated to running SQL Server, we recommend that the 'min server memory' and 'max server memory' options on each SQL Server instance be set to specify the fixed amount of memory to allocate to SQL Server.</span></span> <span data-ttu-id="edd41-147">ここでは、する必要があります、'min server memory' と 'max server memory'、同じ値に設定 (SQL Server が使用される物理メモリの最大量に等しい)。</span><span class="sxs-lookup"><span data-stu-id="edd41-147">In this case, you should set the 'min server memory' and 'max server memory' to the same value (equal to the maximum amount of physical memory that SQL Server will use).</span></span> <span data-ttu-id="edd41-148">これが減少それ以外の場合にこれらの値を動的に管理する SQL Server で使用されるオーバーヘッドです。</span><span class="sxs-lookup"><span data-stu-id="edd41-148">This will reduce overhead that would otherwise be used by SQL Server dynamically managing these values.</span></span> <span data-ttu-id="edd41-149">SQL Server に割り当てるメモリの固定量を指定する SQL Server を実行する各コンピューターで、次の T-SQL コマンドを実行します。</span><span class="sxs-lookup"><span data-stu-id="edd41-149">Execute the following T-SQL commands on each computer running SQL Server to specify the fixed amount of memory to allocate to SQL Server:</span></span><br /><br /> <span data-ttu-id="edd41-150">sp_configure 'Max Server memory (MB)'、(最大サイズ (MB) sp_configure '最小サーバー メモリ (MB)' (最小サイズ (MB)</span><span class="sxs-lookup"><span data-stu-id="edd41-150">sp_configure ‘Max Server memory (MB)’,(max size in MB)sp_configure ‘Min Server memory (MB)’,(min size in MB)</span></span><br /><br /> <span data-ttu-id="edd41-151">SQL Server のメモリの量を設定すると、前に、合計物理メモリから Windows Server に必要なメモリを差し引くことで適切なメモリ設定を決定します。</span><span class="sxs-lookup"><span data-stu-id="edd41-151">Before you set the amount of memory for SQL Server, determine the appropriate memory setting by subtracting the memory required for Windows Server from the total physical memory.</span></span> <span data-ttu-id="edd41-152">これは、SQL Server に割り当てるメモリの最大量です。</span><span class="sxs-lookup"><span data-stu-id="edd41-152">This is the maximum amount of memory you can assign to SQL Server.</span></span> <span data-ttu-id="edd41-153">**注:** 場合は、トピックの説明に従って、BizTalk Server データベースもホストする SQL Server を実行するコンピューターが、エンタープライズ シングル サインオン マスター シークレットをホスト[マスター シークレット サーバーをクラスタ リング](clustering-the-master-secret-server.md)したい場合がありますエンタープライズ シングル サインオン サービスを実行可能にするための十分なメモリがあることを確認するには、この値を調整します。</span><span class="sxs-lookup"><span data-stu-id="edd41-153">**Note:**  If the computer(s) running SQL Server that host the BizTalk Server databases also host the Enterprise Single Sign-On master secret as described in the topic [Clustering the Master Secret Server](clustering-the-master-secret-server.md) then you may need to adjust this value to ensure that there is sufficient memory available to run the Enterprise Single Sign-On Service.</span></span>|  
|<span data-ttu-id="edd41-154">BizTalk 追跡データベースのサイズをアカウントします。</span><span class="sxs-lookup"><span data-stu-id="edd41-154">Account for the size of BizTalk Tracking database</span></span>|<span data-ttu-id="edd41-155">-メッセージを BizTalk 追跡 (DTA) データベースのサイズを決定するとき、メッセージ コンテキストの平均サイズを追加メッセージのサイズ重要である場合メッセージ サイズと比較します。</span><span class="sxs-lookup"><span data-stu-id="edd41-155">-   When determining the size of messages in the BizTalk Tracking (DTA) database, add the average size of the message context to the message size if it is significant compared to the message size.</span></span><br /><span data-ttu-id="edd41-156">、BizTalk 追跡データベース内のメッセージのサイズを制限するためには昇格したプロパティの数を制限します。</span><span class="sxs-lookup"><span data-stu-id="edd41-156">-   To limit the size of messages in the BizTalk Tracking database, limit the number of properties that you promote.</span></span><br /><span data-ttu-id="edd41-157">オーケストレーション デバッガーのオプションが有効になっている場合は、オーケストレーション内の各図形の状態は、BizTalk 追跡データベースに保存されているを考慮します。</span><span class="sxs-lookup"><span data-stu-id="edd41-157">-   If the orchestration debugger option is enabled, take into account that the status of each shape in the orchestration is saved in the BizTalk Tracking database.</span></span>|  
  
<a name="BKMK_Maintain"></a>   
## <a name="performing-sql-server-maintenance-procedures"></a><span data-ttu-id="edd41-158">SQL Server のメンテナンスの手順を実行します。</span><span class="sxs-lookup"><span data-stu-id="edd41-158">Performing SQL Server Maintenance Procedures</span></span>  
  
|<span data-ttu-id="edd41-159">手順</span><span class="sxs-lookup"><span data-stu-id="edd41-159">Steps</span></span>|<span data-ttu-id="edd41-160">リファレンス</span><span class="sxs-lookup"><span data-stu-id="edd41-160">Reference</span></span>|  
|-----------|---------------|  
|<span data-ttu-id="edd41-161">BizTalk Server データベースの自動拡張設定を定義します。</span><span class="sxs-lookup"><span data-stu-id="edd41-161">Define auto-growth settings for the BizTalk Server databases.</span></span>|<span data-ttu-id="edd41-162">データベースの自動拡張は、特に、メッセージ ボックス データベースおよび追跡データベースのパーセンテージではなくメガバイト数が固定に設定する必要があります。</span><span class="sxs-lookup"><span data-stu-id="edd41-162">-   Database auto-growth should be set to a fixed number of megabytes instead of a percentage, especially for the MessageBox and Tracking databases.</span></span> <span data-ttu-id="edd41-163">BizTalk Server アプリケーションとスループット、に応じて、メッセージ ボックス データベースおよび追跡データベースを非常に大きい取得できます。</span><span class="sxs-lookup"><span data-stu-id="edd41-163">Depending on your BizTalk Server application and throughput, the MessageBox and Tracking databases can get quite large.</span></span> <span data-ttu-id="edd41-164">自動拡張設定されている場合、このパーセンテージを自動拡張がかなり大きくなる場合もします。</span><span class="sxs-lookup"><span data-stu-id="edd41-164">If auto-growth is set to a percentage, then the auto-growth can be substantial as well.</span></span><br /><span data-ttu-id="edd41-165">ファイルのインスタント初期化では、ファイルの拡張操作のパフォーマンスに与える影響を大幅に減らすことができます。</span><span class="sxs-lookup"><span data-stu-id="edd41-165">-   Instant file initialization can greatly reduce the performance impact of a file growth operation.</span></span><br /><span data-ttu-id="edd41-166">-理想的には、ファイル グループをサポートするファイルのサイズを事前に割り当てられるし、可能な場合は、静的なサイズに設定する必要があります。</span><span class="sxs-lookup"><span data-stu-id="edd41-166">-   Ideally, the size of files supporting the file groups should be pre-allocated, and if possible, set to a static size.</span></span><br /><br /> <span data-ttu-id="edd41-167">詳細については、次を参照してください。[データベースの自動拡張設定を定義する](defining-auto-growth-settings-for-databases.md)です。</span><span class="sxs-lookup"><span data-stu-id="edd41-167">For more information, see [Defining Auto-Growth Settings for Databases](defining-auto-growth-settings-for-databases.md).</span></span>|  
|<span data-ttu-id="edd41-168">BizTalk Server データベースをバックアップします。</span><span class="sxs-lookup"><span data-stu-id="edd41-168">Back up the BizTalk Server databases</span></span>|<span data-ttu-id="edd41-169">-BizTalk Server データベースのトランザクション ログがバインド解除済みの方法で増加するを防ぐために、BizTalk Server のバックアップ ジョブを実行していることをお勧めします。</span><span class="sxs-lookup"><span data-stu-id="edd41-169">-   We recommend running the BizTalk Server backup job to prevent the BizTalk Server database transaction logs from growing in an unbounded fashion.</span></span><br /><span data-ttu-id="edd41-170">-定期的に BizTalk Server 環境全体を復元する必要がありますして、プロセスを慎重に文書化する必要があります。</span><span class="sxs-lookup"><span data-stu-id="edd41-170">-   You should restore the entire BizTalk Server environment on a regular basis, and you should carefully document the process.</span></span><br /><span data-ttu-id="edd41-171">古いバックアップ ファイルをアーカイブすることをお勧めします。</span><span class="sxs-lookup"><span data-stu-id="edd41-171">-   We recommend that you archive old backup files.</span></span><br /><br /> <span data-ttu-id="edd41-172">詳細については、次を参照してください。[データベースのバックアップ](backing-up-databases.md)です。</span><span class="sxs-lookup"><span data-stu-id="edd41-172">For more information, see [Backing Up Databases](backing-up-databases.md).</span></span>|  
|<span data-ttu-id="edd41-173">BizTalk Server の SQL エージェント ジョブを監視します。</span><span class="sxs-lookup"><span data-stu-id="edd41-173">Monitor the BizTalk Server SQL Agent jobs.</span></span>|<span data-ttu-id="edd41-174">これらのジョブの状態を監視して、エラーなく実行されていることを確認してください。</span><span class="sxs-lookup"><span data-stu-id="edd41-174">Monitor the health of these jobs, and ensure that they are running without errors.</span></span> <span data-ttu-id="edd41-175">詳細については、次を参照してください。 [SQL Server エージェント ジョブの監視](monitoring-sql-server-agent-jobs.md)です。</span><span class="sxs-lookup"><span data-stu-id="edd41-175">For more information, see [Monitoring SQL Server Agent Jobs](monitoring-sql-server-agent-jobs.md).</span></span>|  
|<span data-ttu-id="edd41-176">BizTalk Server 追跡およびアーカイブを有効にします。</span><span class="sxs-lookup"><span data-stu-id="edd41-176">Enable BizTalk Server tracking and archiving</span></span>|<span data-ttu-id="edd41-177">「DTA の消去およびアーカイブ」SQL エージェント ジョブは、アーカイブして、コントロールから拡張されないように、BizTalk 追跡データベースから古いデータを削除します。</span><span class="sxs-lookup"><span data-stu-id="edd41-177">The “DTA Purge and Archive” SQL Agent job archives and purges old data from the BizTalk Tracking database, thus keeping it from growing out of control.</span></span> <span data-ttu-id="edd41-178">これは、正常な BizTalk Server システムの不可欠な部分です。</span><span class="sxs-lookup"><span data-stu-id="edd41-178">This is essential for a healthy BizTalk Server system.</span></span> <span data-ttu-id="edd41-179">詳細については、次を参照してください。[消去および追跡データのアーカイブ](purging-and-archiving-tracking-data.md)です。</span><span class="sxs-lookup"><span data-stu-id="edd41-179">For more information, see [Purging and Archiving Tracking Data](purging-and-archiving-tracking-data.md).</span></span>|  
  
<a name="BKMK_Backup"></a>   
## <a name="backing-up-the-biztalk-server-databases"></a><span data-ttu-id="edd41-180">BizTalk Server データベースのバックアップ</span><span class="sxs-lookup"><span data-stu-id="edd41-180">Backing Up the BizTalk Server Databases</span></span>  
  
|<span data-ttu-id="edd41-181">手順</span><span class="sxs-lookup"><span data-stu-id="edd41-181">Steps</span></span>|<span data-ttu-id="edd41-182">リファレンス</span><span class="sxs-lookup"><span data-stu-id="edd41-182">Reference</span></span>|  
|-----------|---------------|  
|<span data-ttu-id="edd41-183">Backup BizTalk Server の SQL エージェント ジョブが構成されていることを確認します。</span><span class="sxs-lookup"><span data-stu-id="edd41-183">Verify that the Backup BizTalk Server SQL Agent job is configured.</span></span>|<span data-ttu-id="edd41-184">参照してください[バックアップの BizTalk Server のジョブを構成します。](../core/how-to-configure-the-backup-biztalk-server-job.md)</span><span class="sxs-lookup"><span data-stu-id="edd41-184">See [Configure the Backup BizTalk Server Job](../core/how-to-configure-the-backup-biztalk-server-job.md)</span></span>|  
|<span data-ttu-id="edd41-185">指定された日数よりも古いバックアップ ファイルを削除する Backup BizTalk Server の SQL エージェント ジョブを構成、@DaysToKeep変数。</span><span class="sxs-lookup"><span data-stu-id="edd41-185">Configure the Backup BizTalk Server SQL Agent job to delete backup files that are older than the number of days specified by the @DaysToKeep variable.</span></span> <span data-ttu-id="edd41-186">バックアップ ファイルが削除されていない場合よりも大きくなる unbounded バックアップ ファイルを保存し、限定されたディスク容量に関連する問題が発生したディスクがいっぱいになる時間。</span><span class="sxs-lookup"><span data-stu-id="edd41-186">If the backup files are not deleted they can grow unbounded over time which can fill up the disk(s) that contain the backup files and cause problems that relate to limited disk space.</span></span>|<span data-ttu-id="edd41-187">参照してください[バックアップの BizTalk Server のジョブを構成します。](../core/how-to-configure-the-backup-biztalk-server-job.md)</span><span class="sxs-lookup"><span data-stu-id="edd41-187">See [Configure the Backup BizTalk Server Job](../core/how-to-configure-the-backup-biztalk-server-job.md)</span></span>|  
|<span data-ttu-id="edd41-188">Backup BizTalk Server の SQL エージェント ジョブが有効で実行中であることを確認します。</span><span class="sxs-lookup"><span data-stu-id="edd41-188">Verify that the Backup BizTalk Server SQL Agent job is enabled and running.</span></span>|[<span data-ttu-id="edd41-189">SQL Server エージェント ジョブの監視</span><span class="sxs-lookup"><span data-stu-id="edd41-189">Monitoring SQL Server Agent Jobs</span></span>](monitoring-sql-server-agent-jobs.md)|  
  
<a name="BKMK_Disaster"></a>   
## <a name="using-sql-server-log-shipping-for-disaster-recovery"></a><span data-ttu-id="edd41-190">SQL Server ログ配布の障害復旧を使用します。</span><span class="sxs-lookup"><span data-stu-id="edd41-190">Using SQL Server Log Shipping For Disaster Recovery</span></span>  
  
|<span data-ttu-id="edd41-191">手順</span><span class="sxs-lookup"><span data-stu-id="edd41-191">Steps</span></span>|<span data-ttu-id="edd41-192">リファレンス</span><span class="sxs-lookup"><span data-stu-id="edd41-192">Reference</span></span>|  
|-----------|---------------|  
|<span data-ttu-id="edd41-193">障害回復サーバーに実稼働負荷を処理する能力があることを確認します。</span><span class="sxs-lookup"><span data-stu-id="edd41-193">Verify that the disaster recovery servers have the capacity to handle production load.</span></span>|<span data-ttu-id="edd41-194">参照してください[BizTalk Server のログ配布災害復旧を使用します。](using-biztalk-server-log-shipping-for-disaster-recovery.md)</span><span class="sxs-lookup"><span data-stu-id="edd41-194">See [Using BizTalk Server Log Shipping for Disaster Recovery](using-biztalk-server-log-shipping-for-disaster-recovery.md)</span></span>|  
|<span data-ttu-id="edd41-195">災害復旧ルーチンの詳細が明確になっていることを確認します。</span><span class="sxs-lookup"><span data-stu-id="edd41-195">Ensure that the specifics of your disaster recovery routine are well documented.</span></span>|<span data-ttu-id="edd41-196">参照してください[BizTalk Server のログ配布災害復旧を使用します。](using-biztalk-server-log-shipping-for-disaster-recovery.md)</span><span class="sxs-lookup"><span data-stu-id="edd41-196">See [Using BizTalk Server Log Shipping for Disaster Recovery](using-biztalk-server-log-shipping-for-disaster-recovery.md)</span></span>|  
|<span data-ttu-id="edd41-197">障害復旧サイトに通常のテスト、プラクティス フェールオーバーの一環として、新しい BizTalk として特にアプリケーションが配置実稼働環境でします。</span><span class="sxs-lookup"><span data-stu-id="edd41-197">As part of regular testing, practice failover to the disaster recovery site, especially as new BizTalk applications are put in production.</span></span>|<span data-ttu-id="edd41-198">参照してください[BizTalk Server のログ配布災害復旧を使用します。](using-biztalk-server-log-shipping-for-disaster-recovery.md)</span><span class="sxs-lookup"><span data-stu-id="edd41-198">See [Using BizTalk Server Log Shipping for Disaster Recovery](using-biztalk-server-log-shipping-for-disaster-recovery.md)</span></span>|  
  
<a name="BKMK_Jobs"></a>   
## <a name="monitoring-biztalk-server-sql-agent-jobs"></a><span data-ttu-id="edd41-199">BizTalk Server SQL エージェント ジョブの監視</span><span class="sxs-lookup"><span data-stu-id="edd41-199">Monitoring BizTalk Server SQL Agent Jobs</span></span>  
  
|<span data-ttu-id="edd41-200">手順</span><span class="sxs-lookup"><span data-stu-id="edd41-200">Steps</span></span>|<span data-ttu-id="edd41-201">リファレンス</span><span class="sxs-lookup"><span data-stu-id="edd41-201">Reference</span></span>|  
|-----------|---------------|  
|<span data-ttu-id="edd41-202">SQL Server エージェント サービスが実行されていることを確認します。</span><span class="sxs-lookup"><span data-stu-id="edd41-202">Verify that the SQL Server Agent service is running.</span></span>|<span data-ttu-id="edd41-203">参照してください[SQL Server エージェント ジョブの監視](monitoring-sql-server-agent-jobs.md)</span><span class="sxs-lookup"><span data-stu-id="edd41-203">See [Monitoring SQL Server Agent Jobs](monitoring-sql-server-agent-jobs.md)</span></span>|  
|<span data-ttu-id="edd41-204">BizTalk Server によってインストールされる SQL Server エージェント ジョブが実行されていて正常に確認します。</span><span class="sxs-lookup"><span data-stu-id="edd41-204">Verify that the SQL Server Agent jobs installed by BizTalk Server are enabled and running successfully.</span></span>|<span data-ttu-id="edd41-205">参照してください[SQL Server エージェント ジョブの監視](monitoring-sql-server-agent-jobs.md)</span><span class="sxs-lookup"><span data-stu-id="edd41-205">See [Monitoring SQL Server Agent Jobs](monitoring-sql-server-agent-jobs.md)</span></span>|  
|<span data-ttu-id="edd41-206">適切なタイミングで、BizTalk Server の SQL エージェント ジョブが完了することを確認します。</span><span class="sxs-lookup"><span data-stu-id="edd41-206">Verify that the BizTalk Server SQL Agent jobs are completing in a timely manner.</span></span>|<span data-ttu-id="edd41-207">参照してください[SQL Server エージェント ジョブの監視](monitoring-sql-server-agent-jobs.md)</span><span class="sxs-lookup"><span data-stu-id="edd41-207">See [Monitoring SQL Server Agent Jobs](monitoring-sql-server-agent-jobs.md)</span></span>|  
  
<a name="BKMK_Purge"></a>   
## <a name="purging-and-archiving-tracking-data"></a><span data-ttu-id="edd41-208">消去および追跡データをアーカイブ</span><span class="sxs-lookup"><span data-stu-id="edd41-208">Purging and Archiving Tracking Data</span></span>  
  
|<span data-ttu-id="edd41-209">手順</span><span class="sxs-lookup"><span data-stu-id="edd41-209">Steps</span></span>|<span data-ttu-id="edd41-210">リファレンス</span><span class="sxs-lookup"><span data-stu-id="edd41-210">Reference</span></span>|  
|-----------|---------------|  
|<span data-ttu-id="edd41-211">SQL エージェント ジョブ「DTA の消去およびアーカイブ」が適切に構成された、有効であり、正常に完了することを確認します。</span><span class="sxs-lookup"><span data-stu-id="edd41-211">Ensure that the SQL Agent job "DTA Purge and Archive" is properly configured, enabled, and successfully completing.</span></span>|<span data-ttu-id="edd41-212">参照してください[構成 DTA Purge and Archive ジョブ](../core/how-to-configure-the-dta-purge-and-archive-job.md)です。</span><span class="sxs-lookup"><span data-stu-id="edd41-212">See [Configure the DTA Purge and Archive Job](../core/how-to-configure-the-dta-purge-and-archive-job.md).</span></span>|  
|<span data-ttu-id="edd41-213">ジョブが、受信追跡データが生成された高速の追跡データが削除できることを確認します。</span><span class="sxs-lookup"><span data-stu-id="edd41-213">Ensure that the job is able to purge the tracking data as fast as the incoming tracking data is generated.</span></span>|<span data-ttu-id="edd41-214">参照してください[維持可能な最大の追跡スループットの測定](../core/measuring-maximum-sustainable-tracking-throughput.md)</span><span class="sxs-lookup"><span data-stu-id="edd41-214">See [Measuring Maximum Sustainable Tracking Throughput](../core/measuring-maximum-sustainable-tracking-throughput.md)</span></span>|  
|<span data-ttu-id="edd41-215">論理削除と物理削除ようにパラメーターを最適な時間の長さのデータを保持している場合を確認します。</span><span class="sxs-lookup"><span data-stu-id="edd41-215">Review the soft purge and hard purge parameters to ensure you are keeping data for the optimal length of time.</span></span>|<span data-ttu-id="edd41-216">参照してください[アーカイブ化および BizTalk 追跡データベースを削除](../core/archiving-and-purging-the-biztalk-tracking-database.md)です。</span><span class="sxs-lookup"><span data-stu-id="edd41-216">See [Archiving and Purging the BizTalk Tracking Database](../core/archiving-and-purging-the-biztalk-tracking-database.md).</span></span>|  
|<span data-ttu-id="edd41-217">だけ古いデータを削除しないようにする必要がある場合必要があります、最初の変更をアーカイブする SQL エージェント ジョブ、ストアド プロシージャを呼び出す"dtasp_PurgeTrackingDatabase"</span><span class="sxs-lookup"><span data-stu-id="edd41-217">If you only need to purge the old data and do not need to archive it first, change the SQL Agent job to call the stored procedure "dtasp_PurgeTrackingDatabase."</span></span>|<span data-ttu-id="edd41-218">参照してください[BizTalk 追跡データベースからデータを削除](../core/how-to-purge-data-from-the-biztalk-tracking-database.md)です。</span><span class="sxs-lookup"><span data-stu-id="edd41-218">See [Purge Data from the BizTalk Tracking Database](../core/how-to-purge-data-from-the-biztalk-tracking-database.md).</span></span>|  
  
## <a name="next"></a><span data-ttu-id="edd41-219">Next</span><span class="sxs-lookup"><span data-stu-id="edd41-219">Next</span></span>
  
-   [<span data-ttu-id="edd41-220">変更しない SQL Server の設定</span><span class="sxs-lookup"><span data-stu-id="edd41-220">SQL Server Settings That Should Not Be Changed</span></span>](sql-server-settings-that-should-not-be-changed.md)  
  
-   [<span data-ttu-id="edd41-221">監視およびデータベース入出力の競合を減らす</span><span class="sxs-lookup"><span data-stu-id="edd41-221">Monitoring and Reducing Database IO Contention</span></span>](monitoring-and-reducing-database-i-o-contention.md)  
  
-   [<span data-ttu-id="edd41-222">フェールオーバー シナリオに備えた SQL Server クラスター構成のレビューとテスト</span><span class="sxs-lookup"><span data-stu-id="edd41-222">Reviewing and Testing SQL Server Cluster Configuration for Failover Scenarios</span></span>](reviewing-and-testing-sql-server-cluster-configuration-for-failover-scenarios.md)  
  
-   [<span data-ttu-id="edd41-223">データベースの自動拡張設定の定義</span><span class="sxs-lookup"><span data-stu-id="edd41-223">Defining Auto-Growth Settings for Databases</span></span>](defining-auto-growth-settings-for-databases.md)  
  
-   [<span data-ttu-id="edd41-224">データベースのバックアップ</span><span class="sxs-lookup"><span data-stu-id="edd41-224">Backing Up Databases</span></span>](backing-up-databases.md)  
  
-   [<span data-ttu-id="edd41-225">ディザスター リカバリーのための BizTalk Server ログ配布の使用</span><span class="sxs-lookup"><span data-stu-id="edd41-225">Using BizTalk Server Log Shipping for Disaster Recovery</span></span>](using-biztalk-server-log-shipping-for-disaster-recovery.md)  
  
-   [<span data-ttu-id="edd41-226">SQL Server エージェント ジョブの監視</span><span class="sxs-lookup"><span data-stu-id="edd41-226">Monitoring SQL Server Agent Jobs</span></span>](monitoring-sql-server-agent-jobs.md)  
  
-   [<span data-ttu-id="edd41-227">追跡データの削除とアーカイブ</span><span class="sxs-lookup"><span data-stu-id="edd41-227">Purging and Archiving Tracking Data</span></span>](purging-and-archiving-tracking-data.md)