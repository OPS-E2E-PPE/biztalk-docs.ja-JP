---
title: 主要業績評価指標 |Microsoft Docs
ms.custom: ''
ms.date: 06/08/2017
ms.prod: biztalk-server
ms.reviewer: ''
ms.suite: ''
ms.tgt_pltfrm: ''
ms.topic: article
ms.assetid: 298d639a-7adf-4f04-b097-a17f4c77ee50
caps.latest.revision: 16
author: MandiOhlinger
ms.author: mandia
manager: anneta
ms.openlocfilehash: 2fc0d89c7d6bb72cf68611d1a6eaccffa11dbe0d
ms.sourcegitcommit: 381e83d43796a345488d54b3f7413e11d56ad7be
ms.translationtype: MT
ms.contentlocale: ja-JP
ms.lasthandoff: 05/07/2019
ms.locfileid: "65395835"
---
# <a name="key-performance-indicators"></a><span data-ttu-id="09bc5-102">主要業績評価指標</span><span class="sxs-lookup"><span data-stu-id="09bc5-102">Key Performance Indicators</span></span>
<span data-ttu-id="09bc5-103">このトピックでは、次のスケール アウト メソッドを使用する場合、BizTalk Server 製品グループが観察されたテスト結果を示します。</span><span class="sxs-lookup"><span data-stu-id="09bc5-103">This topic provides test results that the BizTalk Server product group observed when using the following scale-out methods:</span></span>  
  
- <span data-ttu-id="09bc5-104">業績評価指標 (Kpi) をキーの数を増やしたときに[!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)]内のコンピューター、[!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)]グループ。</span><span class="sxs-lookup"><span data-stu-id="09bc5-104">Key performance indicators (KPIs) when increasing the number of [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] computers in a [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] group.</span></span> <span data-ttu-id="09bc5-105">これらのテストが 1 つだけ[!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)]メッセージ ボックス データベース用に構成された、[!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)]グループ。</span><span class="sxs-lookup"><span data-stu-id="09bc5-105">For these tests, only one [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] MessageBox database was configured for the [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] group.</span></span> <span data-ttu-id="09bc5-106">これらのテストへの影響の詳細を追加するだけに重点を置いた[!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)]にコンピューターを[!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)]グループ。</span><span class="sxs-lookup"><span data-stu-id="09bc5-106">These tests focused solely on the impact of adding more [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] computers to a [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] group.</span></span>  
  
- <span data-ttu-id="09bc5-107">Kpi の数を増やしたときに[!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)]によって使用されるメッセージ ボックス データベース、[!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)]グループ。</span><span class="sxs-lookup"><span data-stu-id="09bc5-107">KPIs when increasing the number of [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] MessageBox databases used by the [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] group.</span></span> <span data-ttu-id="09bc5-108">これらのテストへの影響の詳細を追加するだけに重点を置いた[!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)]メッセージ ボックス データベースを[!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)]グループ。</span><span class="sxs-lookup"><span data-stu-id="09bc5-108">These tests focused solely on the impact of adding more [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] MessageBox databases to a [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] group.</span></span>  
  
- <span data-ttu-id="09bc5-109">両方の数を増やしたときに、Kpi[!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)]コンピューターと[!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)]によって使用されるメッセージ ボックス データベース、[!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)]グループ。</span><span class="sxs-lookup"><span data-stu-id="09bc5-109">KPIs when increasing the number of both [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] computers and [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] MessageBox databases used by the [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] group.</span></span> <span data-ttu-id="09bc5-110">これらのテストの両方を追加の影響を測定する[!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)]コンピューターと[!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)]メッセージ ボックス データベースを[!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)]グループ。</span><span class="sxs-lookup"><span data-stu-id="09bc5-110">These tests measured the impact of adding both [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] computers and [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] MessageBox databases to a [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] group.</span></span>  
  
## <a name="analysis-of-key-performance-indicators"></a><span data-ttu-id="09bc5-111">主要業績評価指標の分析</span><span class="sxs-lookup"><span data-stu-id="09bc5-111">Analysis of key performance indicators</span></span>  
  
### <a name="messaging-scenario-biztalk-server-scale-out--biztalk-and-sql-kpi"></a><span data-ttu-id="09bc5-112">メッセージング シナリオでは、BizTalk Server のスケール アウト – BizTalk と SQL の KPI</span><span class="sxs-lookup"><span data-stu-id="09bc5-112">Messaging scenario, BizTalk Server scale-out – BizTalk and SQL KPI</span></span>  
 <span data-ttu-id="09bc5-113">BizTalk Server を実行している 2 つ目のコンピューターを追加しても、全体的なスループットに大きな影響を与えるは表示されません。</span><span class="sxs-lookup"><span data-stu-id="09bc5-113">Adding a second computer running BizTalk Server does not show a significant impact on the  overall throughput.</span></span>  <span data-ttu-id="09bc5-114">25% で、BizTalk Server の CPU の負荷が低くなります。</span><span class="sxs-lookup"><span data-stu-id="09bc5-114">The load on the BizTalk Server CPU decreases by 25%.</span></span> <span data-ttu-id="09bc5-115">SQL Server の cpu 使用率もわずかから増加 59% 59.8% に BizTalk Server を実行している 2 つ目のコンピューターが、BizTalk Server グループに追加されるとします。</span><span class="sxs-lookup"><span data-stu-id="09bc5-115">The CPU for SQL Server marginally increases from 59% to 59.8% when the second computer running BizTalk Server is added to the BizTalk Server group.</span></span> <span data-ttu-id="09bc5-116">これ以降は、さらにパフォーマンス上の利点を得たない BizTalk 処理サーバーの数を増やすことで。</span><span class="sxs-lookup"><span data-stu-id="09bc5-116">Beyond this point, no further performance benefit was gained by increasing the number of BizTalk processing servers.</span></span>  
  
 <span data-ttu-id="09bc5-117">各 BizTalk ホスト インスタンスは、メッセージ ボックスで、適切なキューを定期的にポーリングします。</span><span class="sxs-lookup"><span data-stu-id="09bc5-117">Each BizTalk host instance regularly polls the appropriate queue in the MessageBox.</span></span> <span data-ttu-id="09bc5-118">ホストのキューで参照されているすべてのメッセージはメッセージ ボックス データベース内のテーブルの共有のセット内で実際に格納されます。</span><span class="sxs-lookup"><span data-stu-id="09bc5-118">Any message that is referenced on the host queue is actually stored within the shared set of tables in the MessageBox.</span></span> <span data-ttu-id="09bc5-119">スループットになると BizTalk Server を実行している複数のコンピューターを追加するときに、一般的な原因は、メッセージ ボックス データベース内の共有、テーブルに対するアクティビティが多すぎるです。</span><span class="sxs-lookup"><span data-stu-id="09bc5-119">If throughput drops when adding more computers running BizTalk Server, a common cause is too much activity against the shared tables within the MessageBox database.</span></span> <span data-ttu-id="09bc5-120">これらのテーブルを特定のファイル グループに割り当てることで、これらのテーブルに、SQL Server の専用 I/O パスを作成できます。</span><span class="sxs-lookup"><span data-stu-id="09bc5-120">A dedicated I/O path for SQL Server to these tables can be created by assigning these tables to a specific filegroup.</span></span>  
  
 <span data-ttu-id="09bc5-121">[Databases2 のファイルグループの最適化](../technical-guides/optimizing-filegroups-for-the-databases2.md)にテーブルを特定のファイル グループに割り当てる方法について説明します。</span><span class="sxs-lookup"><span data-stu-id="09bc5-121">[Optimizing Filegroups for the Databases2](../technical-guides/optimizing-filegroups-for-the-databases2.md) provides guidance on how to assign tables to specific filegroups.</span></span> <span data-ttu-id="09bc5-122">含まれるスクリプト[BizTalk Server メッセージ ボックス データベースのファイル グループの SQL スクリプト](../technical-guides/biztalk-server-messagebox-database-filegroups-sql-script.md)ガイドのこれを実現する方法を示します。</span><span class="sxs-lookup"><span data-stu-id="09bc5-122">The script included in [BizTalk Server MessageBox Database Filegroups SQL Script](../technical-guides/biztalk-server-messagebox-database-filegroups-sql-script.md) of the guide tells how you can accomplish this.</span></span> <span data-ttu-id="09bc5-123">複数のメッセージ ボックスの構成をスケール アウトは、複数のファイル グループとすべての他の SQL に関連する最適化が適用された後、メッセージ ボックス オブジェクトを配布後にのみ検討してください。</span><span class="sxs-lookup"><span data-stu-id="09bc5-123">Scaling out to a multiple MessageBox configuration should only be considered after distributing MessageBox objects across multiple filegroups, and after all other SQL-related optimizations have been applied.</span></span>  
  
 <span data-ttu-id="09bc5-124">**BizTalk Server と SQL Server の CPU 使用率の割合**</span><span class="sxs-lookup"><span data-stu-id="09bc5-124">**Percentage of BizTalk Server and SQL Server CPU utilization**</span></span>  
  
 <span data-ttu-id="09bc5-125">![M&#45;SingleMsgBox](../technical-guides/media/m-singlemsgbox.gif "M SingleMsgBox")</span><span class="sxs-lookup"><span data-stu-id="09bc5-125">![M&#45;SingleMsgBox](../technical-guides/media/m-singlemsgbox.gif "M-SingleMsgBox")</span></span>  
  
### <a name="messaging-scenario-biztalk-server-and-sql-server-scale-out--biztalk-and-sql-kpi"></a><span data-ttu-id="09bc5-126">メッセージング シナリオでは、BizTalk Server と SQL Server スケール アウト – BizTalk と SQL の KPI</span><span class="sxs-lookup"><span data-stu-id="09bc5-126">Messaging scenario, BizTalk Server and SQL Server scale-out – BizTalk and SQL KPI</span></span>  
 <span data-ttu-id="09bc5-127">このテストは、4 つのメッセージ ボックス データベースを追加するスケール アウト、SQL Server 層の有効性を判断する実行されました。</span><span class="sxs-lookup"><span data-stu-id="09bc5-127">This test was performed to determine the effectiveness of scaling out the SQL Server tier by adding four MessageBox databases.</span></span> <span data-ttu-id="09bc5-128">このシナリオで BizTalk Server を実行している最大で 2 つのコンピューターを追加する 1 秒あたりの 2,790 メッセージの最大持続可能スループットが有効になります。</span><span class="sxs-lookup"><span data-stu-id="09bc5-128">In this scenario, adding up to two computers running BizTalk Server enabled a maximum sustainable throughput of 2,790 messages per second.</span></span> <span data-ttu-id="09bc5-129">これは、メッセージ ボックスは 1 つのみを使用する場合、取得可能な最大のスループットよりも高い 118%。</span><span class="sxs-lookup"><span data-stu-id="09bc5-129">This was 118% higher than the maximum obtainable throughput when using only a single MessageBox.</span></span> <span data-ttu-id="09bc5-130">これ以降は、メッセージ ボックスの 1 つのシナリオと同様の方法でパフォーマンスの低下処理能力を BizTalk Server 層に追加します。</span><span class="sxs-lookup"><span data-stu-id="09bc5-130">Beyond this point, adding more processing power to the BizTalk Server tier degraded performance in a similar fashion to the single MessageBox scenario.</span></span>  
  
 <span data-ttu-id="09bc5-131">キーのメッセージング シナリオのテスト結果は、スケール アウトは、BizTalk Server が SQL Server での競合がボトルネックでない場合は、全体的なスループットを向上のための効果的な手法であることです。</span><span class="sxs-lookup"><span data-stu-id="09bc5-131">The key findings from the Messaging scenario tests are that scaling out BizTalk Server is an effective technique to increase overall throughput if contention on SQL Server is not a bottleneck.</span></span> <span data-ttu-id="09bc5-132">メッセージ ボックス データベースには、競合ポイントになると、最初に記載された最適化に適用[データベースのパフォーマンスの最適化](../technical-guides/optimizing-database-performance.md)で説明されているファイル グループの最適化スクリプトでは特に[BizTalk Serverメッセージ ボックス データベースのファイル グループの SQL スクリプト](../technical-guides/biztalk-server-messagebox-database-filegroups-sql-script.md)I/O 負荷を分散します。</span><span class="sxs-lookup"><span data-stu-id="09bc5-132">If the MessageBox database becomes a contention point, first apply the optimizations detailed in [Optimizing Database Performance](../technical-guides/optimizing-database-performance.md), particularly the filegroup optimization script described in [BizTalk Server MessageBox Database Filegroups SQL Script](../technical-guides/biztalk-server-messagebox-database-filegroups-sql-script.md) to distribute I/O load.</span></span> <span data-ttu-id="09bc5-133">まだ、目的のスループットを実現できない場合は、メッセージ ボックス データベースを追加することでスケール アウトを検討してください。</span><span class="sxs-lookup"><span data-stu-id="09bc5-133">If you are still unable to achieve your desired throughput, you should consider scaling out by adding more MessageBox databases.</span></span>  
  
 <span data-ttu-id="09bc5-134">**BizTalk Server と SQL Server の CPU 使用率の割合**</span><span class="sxs-lookup"><span data-stu-id="09bc5-134">**Percentage of BizTalk Server and SQL Server CPU utilization**</span></span>  
  
 <span data-ttu-id="09bc5-135">![M&#45;MultipleMsgBox](../technical-guides/media/m-multiplemsgbox.gif "M MultipleMsgBox")</span><span class="sxs-lookup"><span data-stu-id="09bc5-135">![M&#45;MultipleMsgBox](../technical-guides/media/m-multiplemsgbox.gif "M-MultipleMsgBox")</span></span>  
  
### <a name="orchestration-scenario-biztalk-server-scale-out--sql-server-and-biztalk-server-kpi"></a><span data-ttu-id="09bc5-136">オーケストレーション シナリオでは、BizTalk Server のスケール アウト: SQL Server と BizTalk Server の KPI</span><span class="sxs-lookup"><span data-stu-id="09bc5-136">Orchestration scenario, BizTalk Server scale-out – SQL Server and BizTalk Server KPI</span></span>  
 <span data-ttu-id="09bc5-137">BizTalk Server を実行している 2 つ目のコンピューターを追加しても、全体的なスループットに大きな影響を与えるは表示されません。</span><span class="sxs-lookup"><span data-stu-id="09bc5-137">Adding a second computer running BizTalk Server does not show a significant impact on the  overall throughput.</span></span> <span data-ttu-id="09bc5-138">BizTalk Server の CPU の負荷は 23% が低下します。</span><span class="sxs-lookup"><span data-stu-id="09bc5-138">The load on the BizTalk Server CPU decreases by 23 percent.</span></span> <span data-ttu-id="09bc5-139">SQL Server の cpu 使用率が 66.5% から 68.5 パーセントに BizTalk Server を実行している追加のコンピューターが追加されたときにします。</span><span class="sxs-lookup"><span data-stu-id="09bc5-139">The CPU for SQL Server increases from 66.5 percent to 68.5 percent when an additional computer running BizTalk Server is added.</span></span>  
  
 <span data-ttu-id="09bc5-140">**BizTalk Server と SQL Server の CPU 使用率の割合**</span><span class="sxs-lookup"><span data-stu-id="09bc5-140">**Percentage of BizTalk Server and SQL Server CPU utilization**</span></span>  
  
 <span data-ttu-id="09bc5-141">![O&#45;SingleMsgBox](../technical-guides/media/o-singlemsgbox.gif "O SingleMsgBox")</span><span class="sxs-lookup"><span data-stu-id="09bc5-141">![O&#45;SingleMsgBox](../technical-guides/media/o-singlemsgbox.gif "O-SingleMsgBox")</span></span>  
  
### <a name="orchestration-scenario-biztalk-server-and-sql-server-scale-out--sql-server-and-biztalk-server-kpi"></a><span data-ttu-id="09bc5-142">オーケストレーション シナリオでは、BizTalk Server と SQL Server スケール アウト: SQL Server と BizTalk Server の KPI</span><span class="sxs-lookup"><span data-stu-id="09bc5-142">Orchestration scenario, BizTalk Server and SQL Server scale-out – SQL Server and BizTalk Server KPI</span></span>  
 <span data-ttu-id="09bc5-143">このテストは、BizTalk Server とオーケストレーション シナリオでは、メッセージ ボックス データベースを実行している複数のコンピューターを追加するスケール アウト、BizTalk Server と SQL Server 層の有効性を判断する実行されました。</span><span class="sxs-lookup"><span data-stu-id="09bc5-143">This test was performed to determine the effectiveness of scaling out both the BizTalk Server and SQL Server tier by adding more computers running BizTalk Server and more MessageBox databases for the Orchestration scenario.</span></span> <span data-ttu-id="09bc5-144">このシナリオで BizTalk Server を実行している最大で 2 つのコンピューターを追加する 1,487 オーケストレーション 1 秒あたりの最大持続可能スループットが有効になります。</span><span class="sxs-lookup"><span data-stu-id="09bc5-144">In this scenario, adding up to two computers running BizTalk Server enabled a maximum sustainable throughput of 1,487 orchestrations per second.</span></span> <span data-ttu-id="09bc5-145">これは、1 つのメッセージ ボックスに対して取得可能な最大結果よりも高い 116% です。</span><span class="sxs-lookup"><span data-stu-id="09bc5-145">This was 116% higher than the maximum obtainable result against a single MessageBox.</span></span> <span data-ttu-id="09bc5-146">別の SQL Server コンピューターで 4 つのメッセージ ボックス データベースをスケール アウトには、追加の処理能力が原因のスループットの向上やデータベースの負荷を複数のメッセージ ボックス データベースに分散させることが対応しています。</span><span class="sxs-lookup"><span data-stu-id="09bc5-146">Scaling out to four MessageBox databases on separate SQL Server computers accommodates increased throughput due to additional processing power and the ability to distribute database load across multiple MessageBox databases.</span></span> <span data-ttu-id="09bc5-147">この方針を使用には、1 つのメッセージ ボックス環境でボトルネックが、共有テーブルでの競合も解放します。</span><span class="sxs-lookup"><span data-stu-id="09bc5-147">This tactic also relieves contention on shared tables, which was a bottleneck in the single MessageBox environment.</span></span> <span data-ttu-id="09bc5-148">メッセージング シナリオと同様のメッセージ ボックス データベースの数を増やすことと専用の SQL インスタンス間でこれらを配布するには、BizTalk Server グループに複数の BizTalk Server コンピューターの追加ことができます。</span><span class="sxs-lookup"><span data-stu-id="09bc5-148">As with the Messaging scenario, increasing the number of MessageBox databases and distributing these across dedicated SQL instances enables the addition of several BizTalk Server computers to the BizTalk Server group.</span></span>  
  
 <span data-ttu-id="09bc5-149">**BizTalk Server と SQL Server の CPU 使用率の割合**</span><span class="sxs-lookup"><span data-stu-id="09bc5-149">**Percentage of BizTalk Server and SQL Server CPU utilization**</span></span>  
  
 <span data-ttu-id="09bc5-150">![O&#45;MultipleMsgBox](../technical-guides/media/o-multiplemsgbox.gif "O MultipleMsgBox")</span><span class="sxs-lookup"><span data-stu-id="09bc5-150">![O&#45;MultipleMsgBox](../technical-guides/media/o-multiplemsgbox.gif "O-MultipleMsgBox")</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="09bc5-151">参照</span><span class="sxs-lookup"><span data-stu-id="09bc5-151">See Also</span></span>  
 [<span data-ttu-id="09bc5-152">BizTalk Server の運用環境のスケーリング</span><span class="sxs-lookup"><span data-stu-id="09bc5-152">Scaling a Production BizTalk Server Environment</span></span>](../technical-guides/scaling-a-production-biztalk-server-environment.md)