---
title: "フェーズ 1: 評価対象のスコープ |Microsoft ドキュメント"
ms.custom: 
ms.date: 06/08/2017
ms.prod: biztalk-server
ms.reviewer: 
ms.suite: 
ms.tgt_pltfrm: 
ms.topic: article
ms.assetid: 667c3669-7314-4562-84bc-fbb1be1f0314
caps.latest.revision: "6"
author: MandiOhlinger
ms.author: mandia
manager: anneta
ms.openlocfilehash: 16ab4286ba70a8bb14ae5ec726d17b3bde81d7fd
ms.sourcegitcommit: cb908c540d8f1a692d01dc8f313e16cb4b4e696d
ms.translationtype: MT
ms.contentlocale: ja-JP
ms.lasthandoff: 09/20/2017
---
# <a name="phase-1-scoping-the-assessment"></a>フェーズ 1: 評価対象のスコープ
このトピックでは、BizTalk Server のパフォーマンス評価のスコープ フェーズの側面について説明します。  
  
 パフォーマンス評価に関与するときによくある間違いパフォーマンス評価のスコープを過小評価を開始します。 十分なリソースと時間が事前割り当てられない場合、パフォーマンスの評価を担当するチームことはできませんすべてを構築し、複雑な実稼働のような環境のテストに必要なタスクを完了します。 パフォーマンス評価で作業するチームは、その戦闘を慎重に選択する必要があります。 ほとんどのパフォーマンス評価は、ごく限られたタイム フレーム内で実行されて、チームを特定し、そのほとんどの主要なパフォーマンス目標に 3 つの 1 つまたは 2 つ、maybe に集中ためです。 テストするアプリケーションでは、識別されたパフォーマンスの目標に焦点を絞るに開発する必要があり、可能な限りすべての他のテクノロジ変数を考慮する必要があります。 このトピックでは、BizTalk Server のパフォーマンス評価のスコープ フェーズの側面について説明します。  
  
## <a name="considerations-before-beginning-the-performance-assessment"></a>パフォーマンス評価を開始する前に考慮事項  
 パフォーマンス評価の他の作業が行われる前に、次の要因を考慮してください。 これらの要因は、スコープ フェーズの一般的な方向を決めるときに役立つ、パフォーマンス評価のための適切な開始点です。  
  
### <a name="message-load"></a>メッセージの読み込み  
 重要な考慮事項が実際に実稼働システムを通過するメッセージの読み込みをレプリケートどうやって当初から右であります。 たとえば、実稼働環境で、メッセージの 20% になる場合 < 20 KB のサイズを 50% になります\<100 KB のサイズと残りの 30% では最大 1 MB である可能性があります、サイズがこのラボにレプリケートすることが重要です。  
  
### <a name="develop-a-brief-detail-of-the-scenarios-to-be-tested"></a>テストするシナリオの簡単な詳細を開発します。  
 テストされるテスト_ケースを識別したら、それらに関連する主要なコンポーネントを識別する必要があります。 これには、BizTalk Server コンポーネント (など、メッセージングとオーケストレーション) と MQSeries や SAP などのサードパーティのテクノロジを含め、他のコンポーネントの両方が含まれます。 非常に重要である必要が最初からこれらのすべての対応するに役立ちますが、ラボの複雑さを評価し、契約時に必要な技術的スキルを計画することができます。  
  
### <a name="identify-which-adapters-will-be-used"></a>使用するアダプターを識別します。  
 パフォーマンス評価ラボは実稼働環境で使用される実際のアダプターを使用して非常に重要であります。 実稼働環境で使用される実際のアダプターを使用するエラーでは、別のアダプターのパフォーマンスが大幅に異なるために問題が発生します。 たとえば、ファイル アダプターは最も高速な BizTalk Server アダプターの 1 つが、一部のシステムで必要となる機能の一部が不足しています具体的には、ファイル アダプターはありませんはトランザクションをサポートします。 トランザクションのサポートは、メッセージを読み取るし、すべての MSDTC トランザクションのコンテキスト内で、メッセージ ボックス データベースに書き込む機能を提供します。 トランザクションのサポートには、オーバーヘッドが発生します。 そのため、トランザクションのサポートが必要な実稼働のシナリオをシミュレートするために、ファイル アダプターを使用してはありません、実行可能な比較します。 このシナリオでは実稼働システムの実際のパフォーマンスを反映するために非常に高くないため、パフォーマンスの結果を本質的に有効なできません。  
  
### <a name="estimate-time-required-for-the-performance-assessment"></a>パフォーマンス評価のために必要な時間を見積もる  
 パフォーマンス評価のために必要な時間を測定するのにには、次のガイドラインを使用します。  
  
-   テスト環境を設定するためには、2 週間分の準備にかかる時間を割り当てます。 1 週間は、必要なインフラストラクチャ、ソフトウェア コンポーネントをビルドし、ソフトウェア更新プログラムの適用に使用されます。 2 番目の週は、BizTalk Server の実稼働環境を複製する特定の環境を設定する専用されます。  
  
-   パフォーマンスの評価時に分析がテスト_ケースの追加の週を割り当てます。  
  
-   パフォーマンス評価の結果を文書化する実際のパフォーマンス評価の最後の週を割り当てます。  
  
 これと 2 つのテスト_ケースの標準的なパフォーマンス評価用、予想される時間の評価を完了するようになります。  
  
 (2 週間分の準備の時刻) + (実際のパフォーマンス評価のための 2 週間) + (ドキュメントの評価結果を 1 週間) = 合計 5 週間です。  
  
## <a name="documenting-the-performance-assessment"></a>パフォーマンス評価を文書化します。  
 パフォーマンス評価のスコープの一部としてには、概要がの取り組みで評価の詳細を文書化する必要があります。 このドキュメントでは、目標と目標、利害関係者、およびパフォーマンスの評価用のマイルス トーンを明確に定義する必要があります。 このドキュメントはパフォーマンス評価のためのロードマップとして、確実にすべての利害関係者は、契約の詳細に同意し、トラック上のパフォーマンス評価を保つの提供をします。このドキュメントでは、パフォーマンス評価全体で更新する必要があり、パフォーマンスの評価の終了時に結果の概要が含まれます。  
  
### <a name="goals-and-objectives"></a>目標を達成  
 **スループットと待機時間の目標を慎重に定義**-はどのようなパフォーマンス基準を最大化しようとしていますか。 通常、次のパフォーマンスの測定値の 1 つ以上は、BizTalk Server のパフォーマンス評価のフォーカスです。  
  
-   **スループット**– 通常、指定された時間間隔で処理可能な時間の単位あたりのメッセージの数として測定します。 たとえば、スループットの目標は、3 時間の期間の 1 秒あたり 100 個のメッセージを処理する機能として定義する場合があります。  
  
-   **待機時間**– ことができるすべてのメッセージの割合のエンド ツー エンドから特定の時間間隔内でのたとえば処理通常定義。  
  
    -   すべてのメッセージの 95% は、2 秒以内に処理されたエンド ツー エンドをする必要があります。  
  
    -   すべてのメッセージの 100% は、4 秒以内に処理されたエンド ツー エンドをする必要があります。  
  
-   **ピーク時の負荷**  
  
-   **バッチの完了までに時間***X*   
  
-   **フラッド ゲート復旧のシナリオ**  
  
-   **ハードウェアおよびソフトウェアを含むアーキテクチャの概要**  
  
 観点でパフォーマンスの目標を計測する必要があります"可能な最高レベルを実現*X*ハードウェアとソフトウェアの制約を指定します"。 目標を事前に測定する方法を決定します。 たとえば、"の維持可能なスループットを最大*X*エンド ツー エンド ' XLang/s\orchestrations 完了/秒 カウンターによって測定される"です。  
  
> [!NOTE]  
>  上の例で*X*は、パフォーマンスの評価のフォーカスが置かれている単位のプレース ホルダーです。 *X*オーケストレーション、メッセージ、またはその他の BizTalk ソリューションに関連するパフォーマンス メトリックを表すことができます。  
  
### <a name="is-the-desired-performance-attainable"></a>目的のパフォーマンスを達成可能なですか。  
 パフォーマンスに関する考慮事項を評価するときに最初に使用できるハードウェア リソースが、パフォーマンス目標を達成のための十分なするかどうかを確認する必要があります。 場合によっては、目的のパフォーマンスは単にできませんハードウェアの追加の投資なしです。 調べるにはどのようなパフォーマンスはことはできません、オーケストレーションの複雑さを使用するカスタム コードを含む、ソリューションのパフォーマンスに影響を与えるさまざまな要因としては、特定のハードウェア構成を提供されたために使用するマジックの数式はありません。外部システムの制限事項と、メッセージ ボックス データベースにメッセージが保持される時間数。 次の表は、特定のシナリオの特定のパフォーマンス目標を達成するために使用するハードウェアの概要を提供します。  
  
> [!NOTE]  
>  次の情報は、ガイダンスについてのみ提供されます。 必要なハードウェア リソースを見積もるときに、「一般的」としてこのテーブル内の値を使用する必要がありますので、別の BizTalk Server ソリューションの要件は大きく異なります。  
  
### <a name="sample-hardware-scenarios"></a>ハードウェアのサンプル シナリオ  
  
|処理の種類|BizTalk Server コンピューター|SQL Server コンピューター|スループットを達成|注|  
|------------------------|------------------------------|--------------------------|-------------------------|-----------|  
|MQSeries アダプター Web サービスとして公開されたオーケストレーション|-6 つの BizTalk Server 2010 コンピューター<br />、2 つの 3 GHZ デュアル コア プロセッサを実行する各サーバー<br />Windows Server 2008 R2、8 GB のメモリ|-3 つの SQL Server 2008 R2 コンピューター<br />、4 3 GHZ デュアル コア プロセッサを実行する各サーバー<br />-64 ビット、16 GB のメモリ<br />-単一のメッセージ ボックス データベース|1 秒あたりの 95 オーケストレーション|-平均待機時間 1.11s<br />-99% メッセージ処理 < 2 秒の待機時間|  
|メッセージング|BizTalk Server 2010 の 6 つのコンピューター|3 つの SQL Server 2008 R2 コンピューター|2 時間かけて達成ピーク時のスループットが 277 メッセージ/秒|ソリューションを最適化するには、前にピーク時のスループットが 1 秒あたり 125 メッセージ|  
|オーケストレーションおよび Web サービスを使用した低待機時間シナリオ|1 つのデュアル プロセッサ BizTalk Server 2010 コンピューター|1 台のクアッド プロセッサの SQL Server 2008 R2 コンピューター|1 秒あたり 60 のオーケストレーション|< 350 ミリ秒の待機時間の実現|  
|オーケストレーションを使用した低待機時間シナリオ|23 台のクアッド プロセッサ BizTalk Server 2010 のコンピューター|-3 つの SQL Server 2008 R2 コンピューター<br />-1 つの 16 CPU マスター メッセージ ボックス データベース<br />に 8 CPU セカンダリ メッセージ ボックス データベースのコンピューター 2 つ|1 秒あたりの 1156 オーケストレーション|2010 年 1 月の時点で記録されたオーケストレーションを実行している BizTalk Server の維持可能な最高のパフォーマンスをされました|  
  
 使用可能なハードウェア インフラストラクチャは、目的のパフォーマンスを実現するために十分なものと見なされます後、に、BizTalk Server のパフォーマンス評価のスコープと、次について考えてみます。  
  
-   どのアダプターやアクセラレータが必要ですか。  
  
-   ソリューションのオーケストレーションを実装するための要件とは  
  
-   ドキュメントのスループットの要件: ソリューションの最大スループット要件は何ですか?  
  
-   待機時間の要件: 応答は、ソリューションである必要な送信請求-応答と要求-応答のシナリオのですか?  
  
-   ソリューションは、ピーク時のドキュメントの読み込みの期間からどの程度回復しますか。  
  
-   ソリューションの高可用性の要件とは  
  
-   ソリューションのドキュメント追跡の要件とは  
  
-   リモートの Web サービスやその他のシステムなど、依存するアプリケーションのパフォーマンス特性を挙げてください。 依存アプリケーションが必要な負荷に対応できない、システム全体のパフォーマンスがそれに応じて低下します。  
  
### <a name="hardware-information-to-consider-during-scope-phase"></a>スコープ フェーズで考慮するハードウェア情報  
 ソリューションを限定するときは、次のハードウェアの高度なダイアグラムを作成します。  
  
-   (X86、x64、および IA64) などのコンピューターのアーキテクチャ  
  
-   (種類、速度、数、コア、ハイパー スレッドの使用など) の CPU 要件  
  
-   各コンピューターの RAM の要件  
  
-   ローカル ディスク ストレージ (型、サイズ、速度)  
  
-   SAN (記憶域の要件: LUN の数SAN カードの種類)  
  
-   ネットワーク カード (100 メガビット/秒 (Mbps) 1 ギガ ビット/秒 (1 Gbps) ではなく、各コンピューターの番号です。)  
  
-   ファイアウォールをソリューションに展開するにはどうされますか。  
  
-   ハードウェアのネットワーク負荷分散が使用されますか。  
  
-   クラスター化する特定のコンピューターとは  
  
### <a name="software-information-to-consider-during-the-scope-phase"></a>スコープ フェーズで考慮するソフトウェアの情報  
 均等にハードウェアの情報として重要なは、パフォーマンスの評価中に使用されるソフトウェア スタックです。  次の情報を文書化することを確認する必要があります。  
  
-   (32 ビットまたは 64 ビット、クラスター化か) の各コンピューターのオペレーティング システムです。  
  
-   各コンピューターにインストールするサーバー ソフトウェアです。  
  
-   仮想化ソフトウェアが使用されます。  
  
-   通常は など、COM + ロールアップ修正や SQL Server ホストの修正プログラムをインストールされている特定のソフトウェアの機能が必要です。  
  
### <a name="determine-if-code-changes-are-within-the-scope-of-the-performance-assessment"></a>コードの変更が、パフォーマンスの評価のスコープ内にあるかどうかを決定します。  
 これは、スコープの中を決定する最も重要な点の 1 つです。  BizTalk Server と (SQL Server、Windows、IIS およびさらに多く) を使用して、基になるコンポーネントは、チューニング テクニックとこのガイドで説明されている構成の変更を使用して最適化できます。 ただし、最適なパフォーマンスをアプリケーションが作成されていない場合、は、これらのパフォーマンスの向上を妨げることです。 そのため、コードの変更だけから削除するか、スコープ、アプリケーション、ラボに入る前に完全なコード レビューが完了した信頼がある場合。 必要に応じて、特定の変更のみが許可されること、たとえば、オーケストレーション内で永続化ポイントの削除を同意する場合があります。  
  
## <a name="roles-and-responsibilities"></a>役割と責任  
 実行中のパフォーマンス評価の最も重要な領域の 1 つに、役割と責任が明確に割り当てられます。 パフォーマンス評価の始まったは、次のキーのロールを割り当てる必要があります。  
  
-   **Engagement 潜在顧客**-engagement 潜在顧客は、全体的な engagement エンド ツー エンドの所有を担当します。  このロールは、シニア コンサルタントや設計者によって通常実行されます。  理想的にはこのユーザーには、BizTalk Server ベースのシステムをチューニングでの経験が必要です。  SQL Server とサード パーティを含む他のテクノロジに関する知識をお勧めします。  潜在顧客はすべての領域の専門家がいるようにそれらの領域におけるスペシャ リストと一緒に、最適化を適用することを理解するには、少なくとも、テクノロジに関する実用的な知識を持つ必要がある必要はありませんに注意してください。  
  
-   **テスト デザイナー** -専用の設計と実装の演習中に実行されるテストしているユーザーがある必要があります。  これには、作成、テスト ラボの要件を満たすことを確認するテストをテストすることは、テストの実行責任者が、クライアントを使用する方法を認識するために使用するテスト フレームワークの決定は含まれます。  
  
-   **環境所有者**の実稼働環境の BizTalk Server を正確に反映するラボ内の代表的な環境を持つ環境が重要です。  この役割を実行するユーザーが使用されるソフトウェアとハードウェアのスタックの各項目のチェックを担当して、存在することを検証しても大きな違いはありません。 たとえば、32 ビット プラットフォームで実行されているときに、SQL Server 2008 R2 では、物理アドレス拡張 (PAE) またはアドレスの Windowing Extensions (AWE) のいずれかを使用せず 4 GB の物理メモリは対処できますのみ。 SQL Server 2008 r2 64 ビット最大 1 テラバイト メモリのアドレス指定できます (これは、Windows Server 2008 R2 でサポートされている現在の最大物理メモリです)。 したがって、顧客およびラボ環境の間に大きな違いは、BizTalk Server と SQL Server によって使用された cpu アーキテクチャになります。 これら明白な要素だけでなく service pack レベルや修正プログラムがインストールされているなどのわかりにくい他の要因、環境のパフォーマンスに影響します。  
  
-   **ビルド環境の潜在顧客**詳細な仕様が描画された後のパフォーマンス評価のために他のユーザーに割り当てることは、環境を構築する責任です。 これにより、ハードウェアおよびソフトウェア スタックが含まれます。 1 人のユーザーを担当する多くの場合 (これは多くの場合、環境の所有者)。 ただし大企業では、環境の所有者はチームごとに、する可能性のある各ソリューションのさまざまなコンポーネントを担当する担当者である必要があります。 たとえば、1 つのチームが SQL Server 用に別の Windows ビルドを担当する可能性があり、さらに別の BizTalk Server のチーム。  
  
-   **展開の潜在顧客**- 人物が担当する、アプリケーションが正しくデプロイされて BizTalk Server に、正しいバインディングが構成されている必要があると、カスタム構成を適用します。 このロールは、ソリューションの詳細な知識が必要しはアプリケーション パッケージを作成し、アプリケーションを展開するための知識を必要とし、ラボ環境内で機能している状態であることを検証し、します。  
  
-   **製品の専門家**– パフォーマンス評価のために必要などの製品担当者を識別することが重要です。 実際に必要なスキルは、設計と BizTalk Server アプリケーションの目的によって異なります。  
  
     必要な製品の最も一般的なスペシャ リスト スキルの 1 つは、パフォーマンス チューニングの SQL Server の広範な知識です。 これらのスキルが 2 つの目的に必要な: 最初に、BizTalk データベースと 2 番目のパフォーマンスを最適化するために SQL Server の最適化を実行する必要があります、多くの BizTalk ソリューションのカスタム データベースを使用します。 正しい最適化は、SQL Server 環境には適用されない場合は、カスタム データベースの使用をソリューションにボトルネックになります。 識別し、適切なデータベースの最適化を適用するためには、次の SQL Server スキルは、通常必要があります。  
  
    -   SQL Server の理解には、既存のストアド プロシージャを最適化する機能など、プロシージャ コードが格納されています。  
  
    -   識別し、不足しているデータベースのインデックスを作成する権限です。  
  
    -   複数のファイルにデータベースを分割するスクリプトを作成する権限です。  
  
        > [!NOTE]  
        >  この最適化を適用する方法の詳細については、次を参照してください。 [、Databases2 のファイル グループを最適化する](../technical-guides/optimizing-filegroups-for-the-databases2.md)です。  
  
    -   SQL Server 2008 R2 Performance Dashboard Reports を使用してパフォーマンスの問題を特定する権限です。  
  
        > [!NOTE]  
        >  SQL Server 2008 R2 Performance Dashboard Reports はダウンロード[http://go.microsoft.com/fwlink/?LinkId=118673](http://go.microsoft.com/fwlink/?LinkId=118673)です。  
  
     それぞれスペシャ リストのテクノロジのパフォーマンス評価に関係する、SQL Server 上に行われるように要件の一覧を定義する必要があります。 これにより取得したリソースはクリア期待のそれらの必要なものになります。 パフォーマンス評価中に専門知識を頻繁に必要とする別のテクノロジは、IBM Websphere MQ です。 以下の一覧は、IBM WebSphere MQ 製品スペシャ リストの要件の仕様を示しています。  
  
    -   監視、保守、および MQSeries のカスタマイズで発生します。  
  
    -   インストールと MQSeries の新しいバージョンの移行が発生します。  
  
    -   分析および MQSeries のパフォーマンスをチューニングする権限です。  
  
    -   MQSeries の問題の分析を実行します。  
  
    -   プロセスおよび MQSeries のセキュリティ、管理、復旧および自動化に関連する手順のナレッジ。  
  
-   **ドキュメントの潜在顧客**-常に、ラボ マニュアルのエンドツー エンド パフォーマンス評価全体での更新は非常に重要です。 最適化処理は、実稼働環境で正常に適用されているし、システムでは、目的のパフォーマンス レベルを取得するまで、ラボ サービスの全体的な successfulness を判定いない必要があります。 これを行うためには、次の情報の詳細なレコードを保持することが不可欠は。  
  
    -   ラボの高度な結果の概要  
  
    -   未解決の問題  
  
    -   解決した問題  
  
    -   ラボのタイムライン  
  
    -   ラボの進行状況  
  
    -   カテゴリ別の実装の最適化  
  
    -   (ため、適用できることと同じ順序で実稼働システムで) 順序で実装された最適化  
  
    -   高レベルなアーキテクチャ ダイアグラム  
  
    -   テストするシナリオの詳細  
  
    -   関連するサードパーティのテクノロジ  
  
    -   ラボ ハードウェア ダイアグラム  
  
    -   連絡先の一覧  
  
    -   詳細なハードウェア インベントリ  
  
    -   完全な詳細な結果の付録  
  
-   **開発者**-契約の範囲に非常によく、開発者が必要かどうかによって異なります。 ダウン コード ベースがロックされていて、インフラストラクチャとプラットフォームの最適化をテストするラボがある場合のみ、開発者のサービスすることはできません必要です。 この種類のシナリオは、パフォーマンス テストが実行されると、実稼働サーバーの"go live"日付の直前に発生します。 この時点で、下のコードがロックされている必要があり、完了または進行中の完全な回帰テストする必要があります。 ラボで導入されたコードを変更する可能性があります、回帰を導入し、そのため、実稼働システムにリスクが発生します。 コードの変更は許可されている場合、通常、開発者必要になります。 以下の一覧では、通常は、BizTalk Server のパフォーマンスの評価に関与している開発者が必要なスキルを表します。  
  
    -   識別して、オーケストレーションでのパフォーマンスの問題の解決機能  
  
    -   機能を特定し、パイプラインでのパフォーマンスの問題の解決  
  
    -   十分に理解 .NET を含む:  
  
        -   エンタープライズ ライブラリ  
  
        -   Visual Studio の F1 profiler 専門知識  
  
        -   Microsoft Visual Studio 2010 Ultimate または Visual Studio Professional 2010 のテストします。  
  
-   **テスト リード**-結果を正確かつ完全な完全なセットが取得されたことを確認することが重要です。 テスト リーダーは、必要な情報がキャプチャされた、適切に分析され、すべてのテストの実行後に適切に分散できるようにします。 データをキャプチャする方法を検討することが重要、通常、テスト データは Excel スプレッドシートを使用してプレゼンテーションに適してします。 次の一覧は、テストごとに、ラボに実行されるをキャプチャするか、データを示しています。  
  
    -   テストの実行の数  
  
    -   日付  
  
    -   メッセージ処理総数  
  
    -   1 秒あたりに処理されるメッセージ  
  
    -   開始時刻  
  
    -   停止されたとき  
  
    -   テストの期間 (分)  
  
    -   メッセージを中断/処理済み-メッセージの合計、BizTalk 管理コンソールから、またはパフォーマンス モニターを使用して BizTalk Server パフォーマンス カウンターを計測してこれをキャプチャすることができます。  
  
    -   \#メッセージの処理に失敗しました。  
  
    -   \#または正常に処理されたメッセージ  
  
    -   テスト クライアントの応答  
  
    -   クライアント プロセス継続時間の平均値、通常この値は、BizTalk Server と同期メッセージング ソリューションを実装するときに測定、ここではこれは、通常とは、クライアントの平均期間の値を知っている必要が数秒で測定されますどのくらいの時間、最後のユーザーの代表者は、ソリューションからの応答を待機しています。  
  
    -   クライアント プロセス継続時間の最大値を秒を単位で  
  
    -   クライアント プロセス継続時間の最小値を秒を単位で  
  
    -   BizTalk Server 要求/応答の待機時間を秒単位で計測  
  
    -   1 秒あたりに完了したオーケストレーション  
  
    -   時間で処理されたメッセージの %  
  
    -   値の**TestResultsLocation** Visual Studio の Team System テスト ツールによって使用される変数です。  
  
    -   値の**TestResultsLocation** BizUnit によって使用される変数です。  
  
    -   コメントまたは推奨事項  
  
     結果を収集するだけでなく、テスト リーダーに傾向があるかを実行する各テストを監視することを確認します。 パフォーマンスの向上は、チームの残りの部分に伝える必要があり、どの程度パフォーマンスは改善され、改善を実現するためにどの最適化が適用されたを示す必要があります。 1 日の終わりには、テスト リーダーに、ラボ内で実行されたテストの概要が提供されている重要です。 これにより、保持、ラボの継続的な進行状況の情報を入手する利害関係者ができます。 方法についてはこの可能性がありますに配置する一緒に更新電子メールのサンプルを次の表に示します。  
  
    ### <a name="test-results-summary"></a>テスト結果の概要  
  
    |[状態]|スループット|平均待機時間|% < 2 秒|テストの実行の数|BizTalk Server コンピューターの数|メッセージの数|メッセージの平均サイズ|Duration|  
    |------------|----------------|---------------------|-------------------|---------------------|------------------------------------|--------------------|--------------------------|--------------|  
    |スケール アウト|140 メッセージ/秒|0.777 (秒)|99.3%|2|6|270,000|609 バイト|30 分|  
    |最適な|50 メッセージ/秒|1.12 (秒)|99.12%|17|2|360,000|609 バイト|2 時間|  
    |基準|30 メッセージ/秒|1.52 (秒)|92.9 %|4|2|36,000|609 バイト|20 分|  
    |目標|5 メッセージ/秒|\<2 秒|90%|-|2|-|-|-|  
  
## <a name="define-all-deliverables-that-are-required-at-the-onset-of-the-performance-assessment"></a>パフォーマンス評価の始まった必要とされるすべての成果物を定義します。  
 BizTalk Server のパフォーマンス評価に着手する前に配置する必要がある成果物について合意に重要です。 以下のセクションでは、する必要がありますが始まったパフォーマンス評価の成果物について説明します。  
  
-   **アプリケーションをテストする**– パフォーマンス評価中に使用される完全なアプリケーションを使用する必要があります。 パフォーマンス評価を開始する前に、アプリケーションが完全に機能している状態では、それ以外の場合貴重なラボのテストの時間が失われるリスクがあることが重要です。  
  
-   **自動ビルドと展開を計画する**- パフォーマンス評価、自動化されたビルドと配置プロセスをテストする BizTalk Server ソリューションの開発を行う前にします。 アプリケーションのビルド プロセスを自動化するには、継続的な毎日ビルド プロセス システムを通じて機能フローをテストするビルド検証テスト (Bvt) のセットが存在することができますしを実行することができます。 これにより、コンパイルと迅速かつ開発ライフ サイクル全体で容易に機能の問題を検出することができます。 ラボ内でこれは、いるコード変更が必要な場合すばやく確認できます更新後のソリューションが問題なく動作することを意味します。 手動でビルド、配置、およびパフォーマンス ラボ用のアプリケーションの構成は、煩雑でエラーが発生しやすいタスクを指定できます。 したがって、次のビルドと配置のアクティビティを実行するオートメーション手法を使用することをお勧めします。  
  
    -   ソース管理から最新のコードを取得します。  
  
    -   完全なソリューションをビルドします。  
  
    -   環境にソリューションをデプロイします。  
  
    -   BizTalk アプリケーションを作成します。  
  
    -   BizTalk アプリケーションに BizTalk Server リソースの .dll ファイルとのバインドなどを追加します。  
  
    -   ポートを作成し、オーケストレーションにバインドするバインド ファイルをインポートします。  
  
    -   Microsoft® Windows® インストーラー パッケージとして BizTalk アプリケーションをエクスポートし、テストまたは実稼働環境にデプロイすることができるようにします。  
  
    > [!NOTE]  
    >  自動ビルド プロセスの実装の詳細については、次を参照してください[ビルド プロセスを自動化する。](../technical-guides/automating-the-build-process.md)  
  
     MSBuild は、.NET framework 開発者を前に説明するようタスクを自動化できるように 2.0 で導入されました。 いくつかの BizTalk Server 固有の MSBuild タスクはからダウンロードできる SDC タスク ライブラリは付属[http://go.microsoft.com/fwlink/?LinkId=119288](http://go.microsoft.com/fwlink/?LinkId=119288)です。  
  
-   **テスト、パフォーマンスの評価中に使用されるデータ**– 使用されるテスト データが全体の有効性やパフォーマンス評価の成功に大きく影響します。  BizTalk Server アプリケーションがメッセージング、オーケストレーションやルール エンジンを利用シナリオを検討してください。 ルール エンジンから呼び出されたパイプライン コンポーネントを特定のメッセージを処理するオーケストレーションを使用する受信側でフローを決定するさまざまな時点で、オーケストレーション内から呼び出されます。 ルール エンジンは、ルールのポリシーの実行を最適化できるように、キャッシュを実装します。 したがって、1 つのメッセージは、パフォーマンスの評価中にテスト データとして使用する場合は、(キャッシュ) のためのテスト結果が歪曲される場合があります、実稼働環境で再現できない結果を得ることがあります。  
  
     理想的には、パフォーマンスの評価中に使用されるテスト データは、実際の運用データまたは実稼働データのサブセットにする必要があります。 負荷および実稼働システム経由でやり取りされるがトラフィックのパターン、テスト データはシミュレートも必要があります。 テスト データのための要件を定義するときに、次の要因を検討します。  
  
    -   **指定した期間内にシステムを通過はメッセージの数**-これは通常 1 秒あたりのメッセージまたは 1 時間あたりのメッセージとして表されます。  
  
    -   **メッセージの種類**– は、メッセージのフラット ファイル、XML、または binary ですか?  
  
    -   **メッセージの配信**– 何パーセントをフラット ファイル、XML メッセージの種類ごとの何パーセントが使用するとなりますか。  
  
    -   **要件の処理負荷のピーク時**- 多くのシナリオを非ピーク時に、大規模なインターチェンジを処理することがあります。 たとえば午前 0 時に、銀行のシステムに支払いの大きなバッチを書き込むことがあります。 そうでは、この場合は、テスト中にこの機能を実行することはことを確認します。  
  
    -   **メッセージの受信/送信に使用されるエンドポイント**-さまざまな種類のメッセージを受信する多くの環境を個別の受信場所が構成されています。 たとえば、ファイル アダプターを使用して、フラット ファイル メッセージを受信する可能性があります。 または MQSeries アダプターは、XML メッセージを受信するために使用可能性があります。 メッセージがすべて処理される同じオーケストレーションによって中には、システムに別のエントリ ポイントするがあります。 これらの異なるの各受信場所別のホストでホストされていることができます実際にはこれを行うには、システムの全体的なパフォーマンスを向上する多くの場合。  
  
     次の表は、テスト データの仕様を決定する際にキャプチャされる情報の例を示します。  
  
    ### <a name="sample-test-data-specification"></a>サンプルのテスト データの指定  
  
    |||  
    |-|-|  
    |**1 秒あたりのメッセージ**|最大スループットは、このシナリオでのキー<br />-1 秒あたり 50 のメッセージの目的<br />-低待機時間は、目的ではありません。|  
    |**メッセージの種類**|小さい XML メッセージを約 25 (kb) を XML スキーマに準拠している*X*<br />-中の XML メッセージを XML スキーマに準拠する 512 KB 約*Y*|  
    |**メッセージの配信**|58 %25 KB (小さい XML メッセージ)<br />-25 %512 KB (中規模の XML メッセージ)<br />-%11 3 MB (中規模バイナリ データ – PDF) – 非圧縮可能<br />-4 %7.5 MB (大きなバイナリ データ – PDF) – 非圧縮可能)<br />-2 %20 MB (大きなバイナリ データ – PDF) – 非圧縮可能|  
    |**ピーク時負荷処理の要件**|大きなバイナリ データ (20 MB) を指定するデータ (上) の約 2% を表す、この処理をするときは非予測します。 システムは、特定の時点でこれらのサイズの大きいメッセージに対応できる必要があります。|  
    |**メッセージの受信/送信に使用されるエンドポイント**|**XML の小さなメッセージ (25 KB)**<br /><br /> -受信場所: PaymentXMLDocIn<br />-ホスト: ReceiveHost<br />パイプラインの使用: [xmlreceive]<br /><br /> **中規模の XML メッセージ (512 KB)**<br /><br /> -受信場所: PaymentXMLDocIn<br />-ホスト: ReceiveHost<br />パイプラインの使用: [xmlreceive]<br /><br /> **中規模のバイナリ データ (3 MB)-PDF – 非圧縮可能**<br /><br /> -受信場所: BinaryDataIn<br />-ホスト: ReceiveHost<br />パイプラインの使用: PassThruReceive<br /><br /> **大きなバイナリ データ (7.5-20 MB)-PDF – 非圧縮可能**<br /><br /> -受信場所: BinaryDataIn<br />-ホスト: ReceiveHost<br />パイプラインの使用: PassThruReceive|  
    |**テスト データの場所**|ローカルでアクセス可能なテスト データのファイル共有、たとえば: \\\PerformanceLabs\July\Test Data\|  
  
     テーブルに情報を配置するには、いくつかの方法が実現しています。 まず、やすくテスト データについての前提条件に同意するには、利害関係者に対してです。 次に、プロセスでは、情報のパフォーマンス評価のための潜在的な最適化を決定するために使用できます。 たとえば上記の表に確認できます ReceiveHost BizTalk ホスト内ですべての異なるデータ型の処理に使用されるすべての受信場所がホストされています。 これは、このホストの各インスタンスを処理します (例: XML とバイナリ非圧縮可能な PDF データ) のデータのさまざまなタイプとサイズになることを意味します。 各ホスト インスタンスが (BTSNTSVC BizTalk Server プロセスの 1 つのインスタンスです。EXE)、処理のボトルネックになる可能性この可能性があります。 したがって、環境の最適化を一見して明らかですが、それぞれを分離することのパフォーマンスの向上をテストする 1 このシナリオでの位置は、独自の個々 のホストが表示されます。 概要の表形式で、テスト データの情報にアクセスできることと、このなどの単純な最適化をゲージにやすくなります。  
  
-   **ロード テスト自動を計画および生成を読み込む**-パフォーマンス評価のため、テスト データのプロファイルが確立されると、後にすることが重要のロード、環境内でテストを実行する方法を検討してください。 BizTalk Server 2010 のロード テストでは、Visual Studio 2010 のロード テストを使用しました。 Visual Studio 2010 を使用してロード テストを容易にする方法の詳細については、次を参照してください。[を使用して Visual Studio でテストを容易に自動化](../technical-guides/using-visual-studio-to-facilitate-automated-testing.md)です。  
  
## <a name="see-also"></a>参照  
 [パフォーマンス評価の段階](../technical-guides/phases-of-a-performance-assessment.md)