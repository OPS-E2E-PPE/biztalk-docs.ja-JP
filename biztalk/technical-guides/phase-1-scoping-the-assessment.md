---
title: 'フェーズ 1: 評価のスコープ |Microsoft Docs'
ms.custom: ''
ms.date: 06/08/2017
ms.prod: biztalk-server
ms.reviewer: ''
ms.suite: ''
ms.tgt_pltfrm: ''
ms.topic: article
ms.assetid: 667c3669-7314-4562-84bc-fbb1be1f0314
caps.latest.revision: 6
author: MandiOhlinger
ms.author: mandia
manager: anneta
ms.openlocfilehash: 377abbb4ae14e3c3e1c13f7caf45ac998e9f5e9b
ms.sourcegitcommit: 266308ec5c6a9d8d80ff298ee6051b4843c5d626
ms.translationtype: MT
ms.contentlocale: ja-JP
ms.lasthandoff: 06/27/2018
ms.locfileid: "36986979"
---
# <a name="phase-1-scoping-the-assessment"></a>フェーズ 1: 評価のスコープ
このトピックでは、BizTalk Server のパフォーマンス評価のスコープ フェーズの側面について説明します。  
  
 パフォーマンス評価に関与しているときによくある間違いでは、パフォーマンス評価のスコープを過小評価します。 十分なリソースと時間が事前に割り当てられない場合、パフォーマンス評価を担当するチームはできませんをすべての構築して、複雑な運用環境に似た環境をテストするために必要なタスクを完了できません。 パフォーマンス評価に使用するチームは、戦闘を慎重に選択する必要があります。 ほとんどのパフォーマンス評価は非常に限られた期間内で実行およびそのため、チームを特定し、ほとんどの主要なパフォーマンス目標で 3 つの 1 つまたは 2 つ、おそらくに集中する必要があります。 テストするアプリケーションでは、識別されたパフォーマンスの目標に焦点を具体的には開発する必要があり、可能な限りすべての他のテクノロジ変数を考慮する必要があります。 このトピックでは、BizTalk Server のパフォーマンス評価のスコープ フェーズの側面について説明します。  
  
## <a name="considerations-before-beginning-the-performance-assessment"></a>パフォーマンス評価を開始する前に考慮事項  
 パフォーマンス評価の他の作業を行う前に、次の要因を検討してください。 これらの要因は、スコープ フェーズの全体的な方向性の決定に役立つ、パフォーマンス評価のための開始点です。  
  
### <a name="message-load"></a>メッセージの読み込み  
 方法は、実際には、実稼働システムを通過するメッセージの読み込みをレプリケートしようとする、最初から右に注意してください。 たとえば、運用環境で、メッセージの 20% になる場合 < 20 KB のサイズを 50% になります < 100 KB のサイズと残りの 30% で最大 1 MB になります、サイズはこれが、ラボにレプリケートすることが重要です。  
  
### <a name="develop-a-brief-detail-of-the-scenarios-to-be-tested"></a>テストするシナリオの簡単な詳細を開発します。  
 テストするテスト_ケースを識別したら、それらに関連する主要なコンポーネントを識別するために重要ですが。 これには、BizTalk Server コンポーネント (など、メッセージングおよびオーケストレーション) と MQSeries や SAP などのサード パーティのテクノロジを含む、他のコンポーネントの両方が含まれます。 できます、現段階ではこれらすべての意識することが非常に重要ですが、ラボの複雑さを評価し、engagement の中に必要な技術的スキルを計画する場合に有効になります。  
  
### <a name="identify-which-adapters-will-be-used"></a>使用するアダプターを識別します。  
 パフォーマンス評価のラボは実稼働環境で使用される実際のアダプターを使用して非常に重要になります。 別のアダプターのパフォーマンスが大幅に異なるために、実稼働環境で使用される実際のアダプターを使用するエラーによって問題が発生します。 たとえば、ファイル アダプターは、最速の BizTalk Server アダプターの 1 つですが、一部のシステムのために必要な機能の一部が不足しています具体的には、ファイル アダプターはトランザクションのサポートを提供するはされません。 トランザクションのサポートは、メッセージを読み取るし、すべての MSDTC トランザクションのコンテキスト内で、メッセージ ボックス データベースに書き込む機能を提供します。 トランザクションのサポートのオーバーヘッドが発生します。 そのため、トランザクションのサポートが必要な実稼働のシナリオをシミュレートするために、ファイル アダプターを使用してはできません、実行可能な比較。 このシナリオで多くの場合、実稼働システムの実際のパフォーマンスを反映するためにはないため、パフォーマンスの結果は本質的に有効なできません。  
  
### <a name="estimate-time-required-for-the-performance-assessment"></a>パフォーマンス評価のために必要な時間を見積もる  
 パフォーマンス評価に必要な時間を測定するのにには、次のガイドラインを使用します。  
  
- テスト環境を設定するための準備にかかる時間の 2 週間を割り当てます。 1 週間は、必要なインフラストラクチャ、ソフトウェアのコンポーネントを構築し、ソフトウェア更新プログラムの適用に使用されます。 第 2 週専用の BizTalk Server の運用環境に重複する特定の環境を設定します。  
  
- パフォーマンスの評価時に分析されるテスト_ケースの追加の週を割り当てます。  
  
- パフォーマンス評価の結果を文書化する実際のパフォーマンス評価の最後に、1 週間を割り当てます。  
  
  したがって 2 つのテスト_ケースで標準的なパフォーマンス評価、推定所要時間は評価を実施するようになります  
  
  (2 週間の準備時間) + (実際のパフォーマンス評価のための 2 週間) + (ドキュメントの調査結果を 1 週間) = 合計 5 週間です。  
  
## <a name="documenting-the-performance-assessment"></a>パフォーマンス評価を文書化  
 パフォーマンス評価のスコープの一部としてには、engagement の概要、評価の詳細を文書化する必要があります。 このドキュメントでは、目標と目的、利害関係者、およびパフォーマンス評価用のマイルス トーンを明確に定義する必要があります。 このドキュメントはパフォーマンス評価のためのロードマップとして、すべての関係者は、engagement の詳細に同意し、パフォーマンス評価を常に追跡することを確認する機能を確保します。このドキュメントでは、パフォーマンス評価の全体で更新する必要があるおり、パフォーマンス評価の終了時に結果の概要が含まれます。  
  
### <a name="goals-and-objectives"></a>目標と目的  
 **スループットと待機時間の目標を慎重に定義**-パフォーマンスの条件は何を最大化しようとしていますか? 通常、次のパフォーマンスの測定値の 1 つ以上は、BizTalk Server のパフォーマンス評価のフォーカスです。  
  
- **スループット**– 通常、指定した期間にわたって処理できる時間の単位あたりのメッセージの数として測定されます。 たとえば、3 時間の期間の 1 秒あたり 100 個のメッセージを処理する機能としてスループット目標を定義する可能性があります。  
  
- **待機時間**– ことができるすべてのメッセージの割合のエンド ツー エンドから、特定の時間間隔内でのなどの処理は、通常定義。  
  
  -   すべてのメッセージの 95% では、2 秒以内に処理されたエンド ツー エンド必要があります。  
  
  -   すべてのメッセージの 100% には、4 秒以内に処理されたエンド ツー エンド必要があります。  
  
- **ピーク時の負荷**  
  
- **バッチの完了に時間***X*   
  
- **フラッド ゲートの回復シナリオ**  
  
- **ハードウェアおよびソフトウェアを含むアーキテクチャの概要**  
  
  観点でパフォーマンスの目標を測定する必要がある"可能な最高レベルを実現*X*ハードウェアとソフトウェアの制約を指定します"。 目標を事前に測定する方法を決定します。 たとえば、"の維持可能なスループットを最大*X*エンド ツー エンド"XLang/s\orchestrations 完了/秒"カウンターによって測定される"。  
  
> [!NOTE]  
>  上記の例では*X*はパフォーマンス評価の中心となっているユニットのプレース ホルダーです。 *X*オーケストレーション、メッセージ、または BizTalk ソリューションに関連するその他のパフォーマンス メトリックを表すことができます。  
  
### <a name="is-the-desired-performance-attainable"></a>目的のパフォーマンスが達成可能でしょうか。  
 パフォーマンスに関する考慮事項を評価するときに最初に使用できるハードウェア リソースが、パフォーマンス目標を達成のための十分なするかどうかを確認する必要があります。 場合によっては、目的のパフォーマンスだけことはできません追加ハードウェア投資なしです。 どのようなパフォーマンス、ことはできません、オーケストレーションの複雑さ、使用されるカスタム コードを含む、ソリューションのパフォーマンスに影響を与える多くの要因としては、特定のハードウェアの構成を指定または判定に使用できる魔法の公式はありません。メッセージがメッセージ ボックス データベース、および外部システムの制限事項に保持されている回数。 次の表では、特定のシナリオで特定のパフォーマンス目標を達成するために使用されるハードウェアの概要を示します。  
  
> [!NOTE]  
>  以下の情報は、ガイダンスのためだけに提供されます。 このテーブル内の値は、必要なハードウェア リソースを推定するときに「一般」の大まかな計画として使用する必要がありますので、別の BizTalk Server ソリューションの要件は大きく異なります。  
  
### <a name="sample-hardware-scenarios"></a>ハードウェアのサンプル シナリオ  
  
|処理の種類|BizTalk Server コンピューター|SQL Server コンピューター|達成スループット|注|  
|------------------------|------------------------------|--------------------------|-------------------------|-----------|  
|MQSeries アダプター、Web サービスとして公開するオーケストレーション|-6 BizTalk Server 2010 のコンピューター<br />-2 つの 3 GHZ デュアル コア プロセッサを実行する各サーバー<br />Windows Server 2008 R2、8 GB メモリ|-3 の SQL Server 2008 R2 コンピューター<br />-4 3 GHZ デュアル コア プロセッサを実行する各サーバー<br />-64 ビット、16 GB メモリ<br />-1 つのメッセージ ボックス データベース|1 秒あたり 95 オーケストレーション|-平均待機時間 1.11s<br />99% のメッセージ処理 < 2 秒の待機時間|  
|メッセージング|BizTalk Server 2010 6 台のコンピューター|3 つの SQL Server 2008 R2 コンピューター|2 時間以上にわたって達成ピーク スループットが 277 メッセージ/秒|ピーク時のスループットが 1 秒あたり 125 のメッセージをソリューションを最適化する前に|  
|オーケストレーションと Web サービスを使用して待機時間の短いシナリオ|1 つの BizTalk Server 2010 のデュアル プロセッサ コンピューター|1 台のクアッド プロセッサの SQL Server 2008 R2 コンピューター|1 秒あたり 60 のオーケストレーション|< 350 ミリ秒の待機時間の実現|  
|オーケストレーションを使用して待機時間の短いシナリオ|23 のクアッド プロセッサの BizTalk Server 2010 のコンピューター|-3 の SQL Server 2008 R2 コンピューター<br />-1 つの 16 CPU マスター メッセージ ボックス データベース<br />に 8 CPU セカンダリ メッセージ ボックス データベースのコンピューター 2 つ|1 秒あたりの 1156 オーケストレーション|2010 年 1 月の時点で記録されたオーケストレーションを実行している BizTalk Server の維持可能な最高のパフォーマンスは|  
  
 使用可能なハードウェア インフラストラクチャは、目的のパフォーマンスを実現するために十分なと見なされる後、は、BizTalk Server のパフォーマンス評価のスコープするときに、次を考慮します。  
  
-   どのアダプターとアクセラレータが必要ですか。  
  
-   ソリューションにオーケストレーションを実装するための要件とは  
  
-   スループットの要件を文書化: ソリューションの最大持続可能スループットの要件は何ですか?  
  
-   待機時間の要件: どのように応答性の高いソリューションにする必要は送信請求-応答と要求-応答のシナリオのでしょうか。  
  
-   ソリューションは、ピーク時のドキュメントの読み込みの期間からどの程度回復か。  
  
-   ソリューションの高可用性の要件とは  
  
-   ソリューションのドキュメント追跡の要件とは  
  
-   リモートの Web サービスまたはその他のシステムなど、あらゆる依存アプリケーションのパフォーマンス特性を挙げてください。 依存アプリケーションが必要な負荷に対応できません、システム全体のパフォーマンスはそれに応じて低下します。  
  
### <a name="hardware-information-to-consider-during-scope-phase"></a>スコープ フェーズ中に考慮するハードウェア情報  
 ソリューションをスコープには、以下を含むハードウェアの高度なダイアグラムを作成します。  
  
-   コンピューターのアーキテクチャ (x86、x64、IA64 など)  
  
-   CPU 要件 (など、種類、速度、数、コア、ハイパースレッディングを使用)  
  
-   各コンピューターの RAM の要件  
  
-   ローカル ディスク ストレージ (型、サイズ、速度)  
  
-   SAN (記憶域の要件: LUN の数SAN カードの種類)  
  
-   ネットワーク カード (各コンピューターでは、100 メガ ビット/秒 (Mbps) と 1 ギガ ビット/秒 (1 Gbps) の数です。)  
  
-   ファイアウォールは、ソリューションでどのように展開されますか。  
  
-   ネットワーク負荷分散ハードウェアが使用されますか。  
  
-   クラスター化する特定のコンピューターか?  
  
### <a name="software-information-to-consider-during-the-scope-phase"></a>スコープ フェーズ中に考慮するソフトウェアの情報  
 同じハードウェア情報と重要なは、パフォーマンスの評価時に使用されるソフトウェア スタックです。  次の情報を文書化するを確認してください。  
  
-   (32 ビットまたは 64 ビット、かどうかをクラスター化) の各コンピューターのオペレーティング システムです。  
  
-   各コンピューターにインストールするサーバー ソフトウェア。  
  
-   仮想化ソフトウェアを使用します。  
  
-   通常はなど、COM + プログラムのロールアップの修正や SQL Server ホストの修正プログラムがインストールされている特定のソフトウェアの機能が必要です。  
  
### <a name="determine-if-code-changes-are-within-the-scope-of-the-performance-assessment"></a>コードの変更がパフォーマンス評価のスコープ内にあるかどうかを判断します。  
 これは、スコープのプロセス中に判断する最も重要な点の 1 つです。  BizTalk Server と (SQL Server、Windows、IIS およびその他) を使用して、基になるコンポーネントは、チューニング手法とこのガイドで説明した構成変更を使用して最適化できます。 ただし、最適なパフォーマンス、アプリケーションが開発されてされていない場合は、こうしたパフォーマンスの向上を妨げられることができます。 そのため、コードを変更する必要がありますからのみ削除されます、スコープ、アプリケーション、ラボに入る前に、完全なコード レビューが完了した信頼度がある場合。 必要に応じて、特定の変更のみが許可されること、たとえば、オーケストレーション内で永続化ポイントの削除を同意することがあります。  
  
## <a name="roles-and-responsibilities"></a>役割と責任  
 パフォーマンス評価を実行する最も重要な分野の 1 つは、ロールを確認して、責任は明確に割り当てられます。 パフォーマンス評価の始まった時点では、次のキーのロールを割り当てる必要があります。  
  
- **潜在顧客のエンゲージメント**-engagement 潜在顧客が、全体的な engagement エンド ツー エンドを所有する責任を負います。  このロールは、通常、シニア コンサルタントや設計者によって実行されます。  理想的にはこのユーザーには、BizTalk Server ベースのシステムの調整に経験が必要です。  SQL Server とサード パーティ製のものを含む他のテクノロジの知識をお勧めします。  必要なは、潜在顧客がすべての領域の専門家が、少なくとも知識、テクノロジの順序でこれらの領域の専門家と相談して、適用する最適化を理解する必要があることに注意してください。  
  
- **テストのデザイナー** -設計と、ラボの中に実行されるテストを実装するのには、人の人物が必要があります。  これには、各ラボの要件を満たすことを確認するテストのテストとテストの実行の責任者が、クライアントを使用する方法を認識しているテストを作成するために使用するテスト フレームワークの決定は含まれます。  
  
- **環境の所有者**-運用環境の BizTalk Server を正確に反映するラボ内の代表的な環境を持つ環境が重要です。  このロールを実行するユーザーが使用されるソフトウェアとハードウェアのスタックの各項目のチェックを担当して、あることを検証しても大きな違いはありません。 たとえば、32 ビット プラットフォームで実行されているときに、SQL Server 2008 R2 では、物理アドレス拡張 (PAE) または Address Windowing Extensions (AWE) のいずれかを使用せず 4 GB の物理メモリが対処できますのみ。 SQL Server 2008 r2、64 ビットまで 1 テラバイト メモリのアドレス指定できます (これは Windows Server 2008 R2 でサポートされている現在の最大物理メモリです)。 そのため、顧客およびラボ環境の間に大きな違いは、BizTalk Server と SQL Server によって使用された cpu アーキテクチャになります。 に加えてこれら明白な要素では、サービス パックのレベルと修正プログラムがインストールされているなどのあまり知られていないその他の要因には、環境のパフォーマンスは影響します。  
  
- **ビルド環境の潜在顧客**- 詳細な仕様が描画された後、パフォーマンス評価のためにユーザーが割り当てる必要がある環境を構築する責任です。 これにより、ハードウェアおよびソフトウェア スタックが含まれます。 1 人のユーザーを担当する多くの場合 (これは多くの場合、環境の所有者)。 ただし、大企業では、環境の所有者はさまざまなチームがそれぞれ担当することが、ソリューションのさまざまなコンポーネント間の連絡機関にする必要があります。 1 つのチームが、別の SQL Server、Windows ビルドを担当することが、もう 1 つと BizTalk Server のチーム。  
  
- **展開の潜在顧客**- 人物が、アプリケーションのことを確認する責任を負いますが正しく展開されて BizTalk Server に、適切なバインドが構成されている必要があると、カスタム構成を適用します。 このロールは、ソリューションの徹底的な知識が必要しはアプリケーションをパッケージ化し、アプリケーションをデプロイするための知識を必要として検証ラボ環境内で機能している状態であります。  
  
- **製品担当者**– がどのような製品担当者は、パフォーマンス評価に必要なを識別するために重要です。 必要な正確なスキルは、設計と BizTalk Server アプリケーションの目的によって異なります。  
  
   必要な製品の最も一般的な専門スキルの 1 つは、パフォーマンス チューニングの SQL Server の広範な知識です。 2 つの目的に、これらのスキルが必要です: 最初に、BizTalk データベースと 2 つ目のパフォーマンスを最適化するために SQL Server の最適化を実行する必要があります、多くの BizTalk ソリューションのカスタム データベースを使用します。 カスタム データベースの使用は適切な最適化は、SQL Server 環境に適用されていない場合、ソリューションでボトルネックになります。 識別し、適切なデータベースの最適化が適用するためには、次の SQL Server のスキルは、通常必要があります。  
  
  - SQL Server の確実な理解には、既存のストアド プロシージャを最適化する機能など、プロシージャのコードが格納されます。  
  
  - 特定し、不足しているデータベースのインデックスを作成する権限です。  
  
  - 複数のファイルにデータベースを分割するスクリプトを作成する権限です。  
  
    > [!NOTE]  
    >  この最適化を適用する方法の詳細については、[、Databases2 のファイル グループを最適化する](../technical-guides/optimizing-filegroups-for-the-databases2.md)を参照してください。  
  
  - SQL Server 2008 R2 Performance Dashboard Reports を使用してパフォーマンスの問題を特定できます。  
  
    > [!NOTE]  
    >  SQL Server 2008 R2 Performance Dashboard Reports はダウンロードできる[ http://go.microsoft.com/fwlink/?LinkId=118673](http://go.microsoft.com/fwlink/?LinkId=118673)します。  
  
    パフォーマンス評価に関連する専門家向け技術はそれぞれ、SQL Server の実行は、要件の一覧を定義する必要があります。 これにより、取得したリソースがそれらの必要な対象の期待値を明確です。 頻繁にパフォーマンスの評価時に専門知識が必要なもう 1 つのテクノロジでは、IBM Websphere MQ です。 以下の一覧は、IBM WebSphere MQ 製品スペシャ リストの要件の仕様を示します。  
  
  - 監視、保守、および MQSeries のカスタマイズで発生します。  
  
  - インストールと新しいバージョンの MQSeries の移行が発生します。  
  
  - 分析および MQSeries のパフォーマンスをチューニングする権限です。  
  
  - MQSeries の問題の分析を実行します。  
  
  - プロセスおよび MQSeries のセキュリティ、管理、回復、およびオートメーションに関連する手順の知識。  
  
- **ドキュメントの潜在顧客**-継続的に、ラボ ドキュメント エンド ツー エンド全体にわたってパフォーマンス評価を更新することは非常に重要です。 最適化は、運用環境で正常に適用されているし、システムは、必要なパフォーマンス レベルを取得するまで、ラボの engagement の全体的な successfulness と判断しない必要があります。 これには、次の情報の詳細なレコードを保持することが不可欠はします。  
  
  -   ラボの概要の結果の概要  
  
  -   未解決の問題  
  
  -   解決した問題  
  
  -   ラボのタイムライン  
  
  -   ラボの進行状況  
  
  -   カテゴリ別の実装の最適化  
  
  -   時系列順 (、適用できることと同じ順序で実稼働システムでのように) する実装の最適化  
  
  -   高度なアーキテクチャ図  
  
  -   テストするシナリオの詳細  
  
  -   関連するサード パーティのテクノロジ  
  
  -   ラボのハードウェアのダイアグラム  
  
  -   連絡先リスト  
  
  -   詳細なハードウェア インベントリ  
  
  -   完全な詳細な結果と共に付録  
  
- **開発者**-契約の範囲に大きく依存するかどうかを開発者が必要です。 コード ベースがロックされているし、インフラストラクチャとプラットフォームの最適化をテストするラボがある場合のみ、開発者向けのサービスできません必要です。 この種類のシナリオは、"go live"実稼働サーバーの日付の直前にパフォーマンス テストが実行されるときに発生します。 この時点で、ダウン コードがロックされている必要があり、完全な回帰テスト完了または進行中にする必要があります。 ラボで導入されたコードを変更でした、回帰を導入し、そのため、実稼働システムにリスクを導入します。 コードの変更は許可されている場合、通常、開発者は必要になります。 以下の一覧は、通常は BizTalk Server のパフォーマンス評価に関与している開発者によって必要なスキルを表します。  
  
  -   特定し、オーケストレーションでパフォーマンスの問題を修正する機能  
  
  -   特定し、パイプラインを使用したパフォーマンスの問題を修正する機能  
  
  -   .NET などの知識:  
  
      -   エンタープライズ ライブラリ  
  
      -   Visual Studio の F1 profiler の専門知識  
  
      -   Microsoft Visual Studio 2010 Ultimate または Visual Studio Professional 2010 のテストします。  
  
- **テスト リード**-結果を正確かつ完全な完全なセットを取得することが重要です。 テスト リーダーは、必要な情報がキャプチャされた、適切に分析およびすべてのテスト実行後に適切に配分のことを確認します。 データをキャプチャする方法を検討することが重要、通常、テスト データは Excel スプレッドシートを使用してプレゼンテーションに適してします。 次の一覧は、テスト ラボに実行されるごとにキャプチャされるデータを示しています。  
  
  - テストの実行の数  
  
  - date  
  
  - メッセージ処理総数  
  
  - 1 秒あたりに処理されるメッセージ  
  
  - 開始時刻  
  
  - 停止時刻  
  
  - テストの期間 (分)  
  
  - メッセージを中断/処理済み-メッセージの合計 BizTalk 管理コンソールから、またはパフォーマンス モニターを使用して BizTalk Server パフォーマンス カウンターを測定することでこれをキャプチャすることができます。  
  
  - \# メッセージの処理に失敗しました。  
  
  - \# または正常に処理されたメッセージ  
  
  - テスト クライアントの応答  
  
  - クライアント プロセス継続時間の平均値、通常この値は、BizTalk Server と同期メッセージング ソリューションを実装するときに測定されます、ここではこれは通常、クライアントの平均実行時間の値を把握しておく秒の単位どのくらいの時間、エンドユーザーの担当者は、ソリューションからの応答を待機しています。  
  
  - クライアント プロセス継続時間の最大値を秒を単位  
  
  - クライアント プロセス継続時間の最小値を秒を単位  
  
  - BizTalk Server の要求/応答の待機時間を秒単位で計測  
  
  - 1 秒あたりに完了したオーケストレーション  
  
  - 時間で処理されたメッセージの %  
  
  - 値**TestResultsLocation** Visual Studio Team System がテスト ツールによって使用される変数。  
  
  - 値**TestResultsLocation** BizUnit によって使用される変数。  
  
  - コメントや推奨事項  
  
    結果を収集、およびテスト リーダーは傾向があるかを実行する各テストを監視するようにしてください。 パフォーマンスの向上は、チームの残りの部分に伝える必要があり、どの程度のパフォーマンスは改善され、改善を実現するためにどのような最適化が適用されたを示す必要があります。 1 日の終わりには、テスト リーダーが、ラボで実行されたテストの概要を提供する重要です。 これにより、ラボの継続的な進行状況の情報を維持する利害関係者ができます。 次の表では、この情報がある組み立て方法更新電子メールのサンプルでは示しています。  
  
  ### <a name="test-results-summary"></a>テスト結果の概要  
  
  |状態|スループット|平均待機時間|% < 2 秒|テストの実行の数|BizTalk Server コンピューターの数|メッセージの数|メッセージの平均サイズ|Duration|  
  |------------|----------------|---------------------|-------------------|---------------------|------------------------------------|--------------------|--------------------------|--------------|  
  |スケール アウト|140 メッセージ/秒|0.777 秒|99.3%|2|6|270,000|609 バイト|30 分|  
  |最高|50 のメッセージ/秒|1.12 秒|99.12%|17|2|360,000|609 バイト|2 時間|  
  |基準|30 メッセージ/秒|1.52 秒|92.9 %|4|2|36,000|609 バイト|20 分|  
  |目標|5 メッセージ/秒|< 2 秒|90%|-|2|-|-|-|  
  
## <a name="define-all-deliverables-that-are-required-at-the-onset-of-the-performance-assessment"></a>パフォーマンス評価の開始時に必要なすべての成果物を定義します。  
 BizTalk Server のパフォーマンス評価に着手する前に存在する必要がある成果物について合意に重要です。 以下のセクションでは、パフォーマンス評価が始まった場所に必要のある成果物について説明します。  
  
- **アプリケーションをテストする**– パフォーマンスの評価時に使用される完全なアプリケーションは、使用可能なである必要があります。 パフォーマンス評価を開始する前に、アプリケーションが完全に機能している状態では、それ以外の場合は役に立つのラボ テスト時に失われるリスクのことが重要です。  
  
- **自動化されたビルドと展開を計画する**- に魅力的なパフォーマンスの評価での BizTalk Server ソリューションをテストする自動化されたビルドと展開プロセスを開発する必要があります。 アプリケーションのビルド プロセスを自動化するには、する一連のシステムで機能のフローをテストするビルド検証テスト (Bvt) を付けることができますし、継続的インテグレーション毎日ビルド プロセスを実行することができます。 これにより、コンパイルや機能の問題も迅速かつ、開発ライフ サイクル全体で容易に検出することができます。 ラボ内でこれは、コード変更が必要な場合確認することできます簡単に更新されたソリューションが問題なく動作することを意味します。 手動で構築、デプロイ、およびパフォーマンス ラボ用のアプリケーションの構成は、面倒でエラーが発生しやすいタスクを指定できます。 そのため、自動化手法を使用、次のビルドおよび配置アクティビティを実行することをお勧めします。  
  
  -   ソース管理から最新のコードを取得します。  
  
  -   完全なソリューションをビルドします。  
  
  -   ソリューションを環境に配置します。  
  
  -   BizTalk アプリケーションを作成します。  
  
  -   .Dll ファイルやバインディングなどの BizTalk Server のリソースを BizTalk アプリケーションに追加します。  
  
  -   ポートを作成し、オーケストレーションにバインドするバインド ファイルをインポートします。  
  
  -   Microsoft® Windows® インストーラー パッケージとして BizTalk アプリケーションをエクスポート、テストまたは運用環境にデプロイできます。  
  
  > [!NOTE]  
  >  自動化されたビルド プロセスの実装の詳細については、次を参照してください[ビルド プロセスを自動化する。](../technical-guides/automating-the-build-process.md)  
  
   MSBuild は、.NET framework の前に説明するようなタスクを自動化する開発者を有効にするには 2.0 で導入されました。 いくつかの BizTalk Server 固有の MSBuild タスクをからダウンロードできる SDC Tasks ライブラリに含まれている[ http://go.microsoft.com/fwlink/?LinkId=119288](http://go.microsoft.com/fwlink/?LinkId=119288)します。  
  
- **テスト、パフォーマンスの評価時に使用されるデータ**– ために使用されるテスト データが全体的な有効性とパフォーマンス評価の成功に大きく影響します。  BizTalk Server アプリケーションがメッセージング、オーケストレーションおよびルール エンジンを利用するシナリオを検討してください。 受信側でメッセージを処理するオーケストレーションに使用する特定のパイプライン コンポーネント内で、ルール エンジンがから呼び出されますフローを決定するさまざまな時点で、オーケストレーション内から呼び出されます。 ルール エンジンは、ルールのポリシーの実行が最適化されるため、キャッシュを実装します。 したがって、1 つのメッセージは、パフォーマンスの評価時にテスト データとして使用する場合は、(キャッシュ) のためのテスト結果が歪曲される場合があります、運用環境でレプリケートできない結果を取得することがあります。  
  
   理想的には、パフォーマンスの評価中に使用されるテスト データには、実際の運用データまたは実稼働データのサブセットがあります。 テスト データには、負荷、実稼働システム経由でやり取りされるはトラフィックのパターンもをシミュレートする必要があります。 要件を定義するデータをテストするときに、次の要因を検討します。  
  
  - **指定した期間内に、システムで流動はメッセージの数**-これは通常メッセージ/秒または 1 時間あたりのメッセージとして表されます。  
  
  - **メッセージの種類**– は、メッセージのフラット ファイル、XML、またはバイナリですか?  
  
  - **メッセージの配信**– 何パーセントが XML メッセージの種類ごとの何パーセントが使用される、フラット ファイルになりますか?  
  
  - **ピーク時の負荷の処理要件**- 多くのシナリオを非ピーク時に大容量のインターチェンジを処理する可能性があります。 たとえば支払の大きなバッチは、午前 0 時に銀行のシステムに投稿可能性があります。 大文字と小文字の場合は、これをテスト中にレプリケートするを確認します。  
  
  - **メッセージの受信/送信に使用するエンドポイント**-さまざまな種類のメッセージを受信する多くの環境を個別の受信場所を構成します。 たとえばファイル アダプターを使用してフラット ファイル メッセージを受信する可能性があります。 または MQSeries アダプターは、XML メッセージを受信するために使用可能性があります。 処理中にメッセージがすべてが同じオーケストレーションによっては、異なるエントリ ポイント システムになります。 これらの異なるは、各受信場所は別のホストでホストできます実際にこれを行うと、システムの全体的なパフォーマンスが多くの場合、向上します。  
  
    次の表では、テスト データの仕様を決定する際にキャプチャされる情報の例を示します。  
  
  ### <a name="sample-test-data-specification"></a>サンプル テスト データの指定  
  
  |                                             |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                |
  |---------------------------------------------|------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
  |           **1 秒あたりのメッセージ**           |                                                                                                                                                                                                                                                                                   -最大スループットは、このシナリオでのキー<br />-1 秒あたり 50 のメッセージの目的<br />-低待機時間が目標ではありません。                                                                                                                                                                                                                                                                                    |
  |            **メッセージの種類**             |                                                                                                                                                                                                                                                                  -小さな XML メッセージを XML スキーマに準拠している 25 KB 約*X*<br />-中の XML メッセージを XML スキーマに準拠する 512 KB 約*Y*                                                                                                                                                                                                                                                                  |
  |        **メッセージの配信**         |                                                                                                                                                                                                          58 %25 KB (小さな XML メッセージ)<br />~ 25 %512 KB (中規模の XML メッセージ)<br />-11 %3 MB (中規模バイナリ データ – PDF) – 非圧縮可能<br />-4 %7.5 MB (大きなバイナリ データ – PDF) – 非圧縮可能)<br />-2 %20 MB (大きなバイナリ データ – PDF) – 非圧縮可能                                                                                                                                                                                                          |
  |    **ピーク負荷の処理の要件**    |                                                                                                                                                                                                                                  大きなバイナリ データ (20 MB) (上で指定した) としてのデータの約 2% を表すが、これを処理するときは、予測可能ではないです。 システムは、これらのサイズの大きいメッセージを特定の時点に対応できる必要があります。                                                                                                                                                                                                                                  |
  | **メッセージの受信/送信に使用するエンドポイント** | **小さな XML メッセージ (25 KB)**<br /><br /> -受信場所: PaymentXMLDocIn<br />-ホスト: ReceiveHost<br />パイプラインのために使用します XMLReceive。<br /><br /> **中規模の XML メッセージ (512 KB)**<br /><br /> -受信場所: PaymentXMLDocIn<br />-ホスト: ReceiveHost<br />パイプラインのために使用します XMLReceive。<br /><br /> **中規模バイナリ データ (3 MB)-PDF – 非圧縮可能**<br /><br /> -受信場所: BinaryDataIn<br />-ホスト: ReceiveHost<br />パイプラインの使用: PassThruReceive<br /><br /> **大きなバイナリ データ (7.5 – 20 MB)-PDF – 非圧縮可能**<br /><br /> -受信場所: BinaryDataIn<br />-ホスト: ReceiveHost<br />パイプラインの使用: PassThruReceive |
  |          **テスト データの場所**          |                                                                                                                                                                                                                                                                                                    ローカルでアクセス可能なテスト データ ファイル共有の例: \\\PerformanceLabs\July\Test Data\                                                                                                                                                                                                                                                                                                    |
  
   テーブルに情報を配置するには、いくつかの処理が実現されます。 まず、簡単、テスト データについての前提条件に同意するには、利害関係者の。 第 2 に、パフォーマンス評価のための潜在的な最適化に関する決定に使用できる情報を提供します。 たとえばする上記の表で確認できます ReceiveHost BizTalk ホスト内で、すべての異なるデータ型を処理するために使用するすべての受信場所がホストされていること。 これは、このホストの各インスタンスがデータ (例: XML とバイナリの非圧縮 PDF データ) のさまざまな種類とサイズの処理を担当することを意味します。 各ホスト インスタンスは 1 つのインスタンスの BizTalk Server プロセス (BTSNTSVC します。EXE)、処理のボトルネックになるこの可能性があります。 したがってこのシナリオのいずれかの環境の最適化を簡単にすぐには、パフォーマンスの向上のそれぞれを分離することをテストすることで、独自の個々 のホストに場所が表示されます。 概要の表形式で、テスト データの情報にアクセスすることすると、ゲージのような簡単な最適化しやすきます。  
  
- **ロード テストとロードの生成の自動化計画**-パフォーマンス評価のため、テスト データのプロファイルが確立された後は、ロード、環境内でテストを実行する方法を検討してください。 BizTalk Server 2010 は、ロード テストのロード テストの Visual Studio 2010 を使用しました。 Visual Studio 2010 でのロード テストを容易にする方法の詳細については、[テスト自動化を容易にする Visual Studio を使用して](../technical-guides/using-visual-studio-to-facilitate-automated-testing.md)を参照してください。  
  
## <a name="see-also"></a>参照  
 [パフォーマンス評価のフェーズ](../technical-guides/phases-of-a-performance-assessment.md)