---
title: ネットワーク最適化 |Microsoft ドキュメント
ms.custom: ''
ms.date: 06/08/2017
ms.prod: biztalk-server
ms.reviewer: ''
ms.suite: ''
ms.tgt_pltfrm: ''
ms.topic: article
ms.assetid: 9ff0392f-37ae-4ca6-8cc6-d53065de64c5
caps.latest.revision: 6
author: MandiOhlinger
ms.author: mandia
manager: anneta
ms.openlocfilehash: bbf4b0e8df9d8baa81a91576dc37fd89413714f9
ms.sourcegitcommit: cb908c540d8f1a692d01dc8f313e16cb4b4e696d
ms.translationtype: MT
ms.contentlocale: ja-JP
ms.lasthandoff: 09/20/2017
ms.locfileid: "22298762"
---
# <a name="network-optimizations"></a><span data-ttu-id="f0134-102">ネットワークの最適化</span><span class="sxs-lookup"><span data-stu-id="f0134-102">Network Optimizations</span></span>
<span data-ttu-id="f0134-103">BizTalk Server コンピューターは、SQL Server コンピューターから独立、BizTalk Server 環境で BizTalk Server によって処理される各メッセージには、ネットワーク経由で通信が必要です。</span><span class="sxs-lookup"><span data-stu-id="f0134-103">In a BizTalk Server environment where the BizTalk Server computer(s) are separate from the SQL Server computer(s), each and every message processed by BizTalk Server requires communication over the network.</span></span> <span data-ttu-id="f0134-104">この通信には、BizTalk Server コンピューターと BizTalk メッセージ ボックス データベース、BizTalk 管理データベース、BAM データベースおよびその他のデータベース間のかなりのトラフィックが含まれています。</span><span class="sxs-lookup"><span data-stu-id="f0134-104">This communication includes considerable traffic between the BizTalk Server computers and the BizTalk Message Box database(s), the BizTalk Management database(s), the BAM databases, and other databases.</span></span> <span data-ttu-id="f0134-105">高負荷のシナリオで、この通信は大量のネットワーク トラフィックにより、ネットワーク設定が最適化されていない、十分なネットワーク インターフェイス カードがインストールされている、または十分なネットワーク帯域幅が場合は特に、ボトルネックになることができます。使用できます。</span><span class="sxs-lookup"><span data-stu-id="f0134-105">In high-load scenarios, this communication can result in considerable network traffic and can become a bottleneck, especially when network settings have not been optimized, not enough network interface cards are installed, or insufficient network bandwidth is available.</span></span>  
  
 <span data-ttu-id="f0134-106">このトピックでは、同じ HYPER-V ホスト コンピューターで実行されている HYPER-V 仮想マシン間のネットワークのパフォーマンスを向上させるための手順を提供し、ネットワークのパフォーマンスを向上させるための一般的な推奨事項を示します。</span><span class="sxs-lookup"><span data-stu-id="f0134-106">This topic provides steps for improving networking performance between Hyper-V virtual machines running on the same Hyper-V host computer and provides some general recommendations for improving network performance.</span></span>  
  
> [!NOTE]  
>  <span data-ttu-id="f0134-107">ネットワーク IO がボトルネックである最も一般的なインジケーター カウンターは、「SQL Server: Wait Statistics\Network IO 待機します」。</span><span class="sxs-lookup"><span data-stu-id="f0134-107">The most common indicator that Network IO is a bottleneck is the counter “SQL Server:Wait Statistics\Network IO waits.”</span></span> <span data-ttu-id="f0134-108">ときの値は、**平均待機時間**でこのカウンターはゼロに 1 つ以上の SQL Server コンピューターよりも大きい順ネットワーク IO がボトルネックです。</span><span class="sxs-lookup"><span data-stu-id="f0134-108">When the value for **Avg Wait Time** in this counter is greater than zero on one or more of your SQL Server computers, then Network IO is a bottleneck.</span></span>  
  
## <a name="improving-network-performance-of-biztalk-server-on-hyper-v"></a><span data-ttu-id="f0134-109">HYPER-V の BizTalk Server のネットワーク パフォーマンスの向上</span><span class="sxs-lookup"><span data-stu-id="f0134-109">Improving Network Performance of BizTalk Server on Hyper-V</span></span>  
  
### <a name="configure-hyper-v-virtual-machines-that-are-running-on-the-same-hyper-v-host-computer-to-use-a-private-virtual-network"></a><span data-ttu-id="f0134-110">プライベート仮想ネットワークを使用して、同じ HYPER-V ホスト コンピューターで実行されている HYPER-V 仮想マシンの構成します。</span><span class="sxs-lookup"><span data-stu-id="f0134-110">Configure Hyper-V Virtual Machines that are Running on the same Hyper-V host computer to use a Private Virtual Network</span></span>  
 <span data-ttu-id="f0134-111">実行されている HYPER-V 仮想マシン間のネットワークのパフォーマンスを向上させるために、同じ HYPER-V ホスト コンピューターは、プライベート仮想ネットワークおよびルート間のネットワーク トラフィック、プライベート仮想ネットワークを介したバーチャル マシンを作成します。</span><span class="sxs-lookup"><span data-stu-id="f0134-111">To improve networking performance between Hyper-V virtual machines that are running on the same Hyper-V host computer, create a private virtual network and route network traffic between virtual machines through the private virtual network.</span></span>  
  
##### <a name="create-a-private-virtual-network"></a><span data-ttu-id="f0134-112">プライベート仮想ネットワークを作成します。</span><span class="sxs-lookup"><span data-stu-id="f0134-112">Create a Private Virtual Network</span></span>  
  
1.  <span data-ttu-id="f0134-113">をクリックして**開始**をクリックして**すべてのプログラム**です。</span><span class="sxs-lookup"><span data-stu-id="f0134-113">Click **Start**, click **All Programs**.</span></span> <span data-ttu-id="f0134-114">をクリックして**管理ツール**、クリックして**HYPER-V マネージャーで**です。</span><span class="sxs-lookup"><span data-stu-id="f0134-114">Click **Administrative Tools**, and then click **Hyper-V Manager**.</span></span>  
  
2.  <span data-ttu-id="f0134-115">HYPER-V マネージャーの左側のペインで右クリック**HYPER-V マネージャーで**、クリックして**サーバーへの接続**です。</span><span class="sxs-lookup"><span data-stu-id="f0134-115">In the left-hand pane of the Hyper-V Manager, right-click **Hyper-V Manager**, and then click **Connect to Server**.</span></span>  
  
3.  <span data-ttu-id="f0134-116">**コンピューターの選択**ダイアログ ボックスでは、HYPER-V ホスト コンピューターの名前を入力し、をクリックして**OK**です。</span><span class="sxs-lookup"><span data-stu-id="f0134-116">In the **Select Computer** dialog box, enter the name of the Hyper-V host computer, and then click **OK**.</span></span>  
  
4.  <span data-ttu-id="f0134-117">HYPER-V マネージャーの左側のペインで、HYPER-V ホストを右クリックし、をクリックして**仮想ネットワーク マネージャー**です。</span><span class="sxs-lookup"><span data-stu-id="f0134-117">In the left-hand pane of the Hyper-V Manager, right-click the Hyper-V host, and then click **Virtual Network Manager**.</span></span>  
  
5.  <span data-ttu-id="f0134-118">仮想ネットワーク マネージャーで、[**を作成する仮想ネットワークの種類しますか?**、] をクリックして**プライベート**をクリックし、**追加**です。</span><span class="sxs-lookup"><span data-stu-id="f0134-118">In the Virtual Network Manager, under **What type of virtual network do you want to create?**, click **Private**, and then click **Add**.</span></span>  
  
6.  <span data-ttu-id="f0134-119">新しい仮想ネットワークの名前を入力し、クリックして**OK**です。</span><span class="sxs-lookup"><span data-stu-id="f0134-119">Enter a name for the new virtual network, and then click **OK**.</span></span> <span data-ttu-id="f0134-120">この HYPER-V ホスト上で実行される各 HYPER-V 仮想マシンに、仮想ネットワークを適用することが追加されました。</span><span class="sxs-lookup"><span data-stu-id="f0134-120">The virtual network is now available to each Hyper-V virtual machine that is run on this Hyper-V host.</span></span>  
  
##### <a name="add-the-private-virtual-network-to-hyper-v-virtual-machines-running-on-the-hyper-v-host"></a><span data-ttu-id="f0134-121">プライベート仮想ネットワークを追加して HYPER-V 仮想マシンに HYPER-V ホストで実行されています。</span><span class="sxs-lookup"><span data-stu-id="f0134-121">Add the Private Virtual Network to Hyper-V Virtual Machines running on the Hyper-V Host</span></span>  
  
1.  <span data-ttu-id="f0134-122">をクリックして**開始**をクリックして**すべてのプログラム**です。</span><span class="sxs-lookup"><span data-stu-id="f0134-122">Click **Start**, click **All Programs**.</span></span> <span data-ttu-id="f0134-123">をクリックして**管理ツール**、クリックして**HYPER-V マネージャーで**です。</span><span class="sxs-lookup"><span data-stu-id="f0134-123">Click **Administrative Tools**, and then click **Hyper-V Manager**.</span></span>  
  
2.  <span data-ttu-id="f0134-124">HYPER-V マネージャーの左側のペインで右クリック**HYPER-V マネージャーで**、クリックして**サーバーへの接続**です。</span><span class="sxs-lookup"><span data-stu-id="f0134-124">In the left-hand pane of the Hyper-V Manager, right-click **Hyper-V Manager**, and then click **Connect to Server**.</span></span>  
  
3.  <span data-ttu-id="f0134-125">**コンピューターの選択**ダイアログ ボックスでは、HYPER-V ホスト コンピューターの名前を入力し、をクリックして**OK**です。</span><span class="sxs-lookup"><span data-stu-id="f0134-125">In the **Select Computer** dialog box, enter the name of the Hyper-V host computer, and then click **OK**.</span></span>  
  
4.  <span data-ttu-id="f0134-126">するには、仮想マシンを右クリックし、をクリックしてプライベート仮想ネットワークを追加実行中の仮想マシンをシャット ダウン**シャット ダウン**です。</span><span class="sxs-lookup"><span data-stu-id="f0134-126">Shut down any running virtual machines for which you would like to add the private virtual network by right-clicking on the virtual machine, and then clicking **Shut down**.</span></span>  
  
5.  <span data-ttu-id="f0134-127">仮想マシンをシャット ダウン後、仮想マシンを右クリックし、をクリックして**設定**仮想マシンの設定を変更します。</span><span class="sxs-lookup"><span data-stu-id="f0134-127">After shutting down the virtual machines, right-click a virtual machine, and then click **Settings** to change the settings for a virtual machine.</span></span>  
  
6.  <span data-ttu-id="f0134-128">**< Machine_name > の設定を**ダイアログ ボックスで、**ハードウェアの追加**をクリックして選択**ネットワーク アダプター**、クリックして**追加**.</span><span class="sxs-lookup"><span data-stu-id="f0134-128">In the **Settings for <machine_name>** dialog box, under **Add Hardware**, click to select **Network Adapter**, and then click **Add**.</span></span>  
  
7.  <span data-ttu-id="f0134-129">**ネットワーク アダプター**構成ページで、**ネットワーク:**、先ほど作成したプライベート仮想ネットワークを選択して、をクリックして**OK**です。</span><span class="sxs-lookup"><span data-stu-id="f0134-129">On the **Network Adapter** configuration page, under **Network:**, select the private virtual network that you created earlier, and then click **OK**.</span></span> <span data-ttu-id="f0134-130">今すぐ行ったプライベート仮想ネットワークが表示されます、仮想マシンが開始される次回 HYPER-V 仮想マシンで使用可能です。</span><span class="sxs-lookup"><span data-stu-id="f0134-130">You have now made the private virtual network available to the Hyper-V virtual machine which will be accessible the next time that the virtual machine is started.</span></span>  
  
8.  <span data-ttu-id="f0134-131">各仮想マシンをプライベート仮想ネットワークを通過するネットワーク トラフィックをルーティングするための上記の手順を繰り返します。</span><span class="sxs-lookup"><span data-stu-id="f0134-131">Repeat the steps above for each virtual machine for which you want to route network traffic through the private virtual network.</span></span>  
  
9. <span data-ttu-id="f0134-132">プライベート仮想ネットワークを追加した仮想マシンを起動します。</span><span class="sxs-lookup"><span data-stu-id="f0134-132">Start the virtual machines that you have added the private virtual network to.</span></span> <span data-ttu-id="f0134-133">各仮想マシンを右クリックし、をクリックして**開始**です。</span><span class="sxs-lookup"><span data-stu-id="f0134-133">Right click each virtual machine and click **Start**.</span></span>  
  
##### <a name="configure-each-virtual-machine-to-use-the-private-virtual-network"></a><span data-ttu-id="f0134-134">プライベート仮想ネットワークを使用するには、各仮想マシンを構成します。</span><span class="sxs-lookup"><span data-stu-id="f0134-134">Configure each Virtual Machine to use the Private Virtual Network</span></span>  
  
1.  <span data-ttu-id="f0134-135">各仮想マシンが開始されると、プライベート仮想ネットワークは仮想マシンにアクセス可能なネットワーク接続としてです。</span><span class="sxs-lookup"><span data-stu-id="f0134-135">Once each virtual machine has been started, the private virtual network is accessible to the virtual machine as a network connection.</span></span> <span data-ttu-id="f0134-136">TCP/IPv4 を使用するには、各仮想マシンにネットワーク接続を構成し、Tcp/ipv4 プロトコルの設定を指定します。</span><span class="sxs-lookup"><span data-stu-id="f0134-136">Configure the network connection on each virtual machine to use TCP/IPv4, and specify settings for the TCP/IPv4 protocol.</span></span>  
  
    1.  <span data-ttu-id="f0134-137">ネットワーク接続のプロパティ ページにアクセスで、選択**インターネット プロトコル バージョン 4(TCP/IPv4)**、クリックして**プロパティ**です。</span><span class="sxs-lookup"><span data-stu-id="f0134-137">Access the network connection properties page, select **Internet Protocol Version 4(TCP/IPv4)**, and then click **Properties**.</span></span>  
  
    2.  <span data-ttu-id="f0134-138">次にラジオ ボタンをクリックして**次の IP アドレスを使用して**です。</span><span class="sxs-lookup"><span data-stu-id="f0134-138">Click the radio button next to **Use the following IP address**.</span></span>  
  
2.  <span data-ttu-id="f0134-139">値を入力して、 **IP アドレス**プライベート IP の範囲からのフィールドで識別された"RFC 1918 のプライベート IP アドレスのアドレス割り当て"に対応[http://go.microsoft.com/fwlink/?LinkID=31904](http://go.microsoft.com/fwlink/?LinkID=31904)です。</span><span class="sxs-lookup"><span data-stu-id="f0134-139">Enter a value for the **IP address** field from the range of private IP addresses identified in “RFC 1918, Address Allocation for Private IP Addresses” at [http://go.microsoft.com/fwlink/?LinkID=31904](http://go.microsoft.com/fwlink/?LinkID=31904).</span></span>  
  
3.  <span data-ttu-id="f0134-140">指定した IP アドレスのメモします。この値を後で、ホスト ファイル エントリには、このコンピューターの NetBIOS 名に関連付ける必要があります。</span><span class="sxs-lookup"><span data-stu-id="f0134-140">Make a note of the IP address that you specified; you will need to associate this value with the NetBIOS name of this computer in a HOSTS file entry later.</span></span>  
  
4.  <span data-ttu-id="f0134-141">適切な値を入力、**サブネット マスク**フィールドです。</span><span class="sxs-lookup"><span data-stu-id="f0134-141">Enter an appropriate value for the **Subnet mask** field.</span></span>  
  
    > [!NOTE]  
    >  <span data-ttu-id="f0134-142">Windows を設定する必要があります、**サブネット マスク**に入力した値に基づいて、適切な値を持つフィールド、 **IP アドレス**フィールドです。</span><span class="sxs-lookup"><span data-stu-id="f0134-142">Windows should populate the **Subnet mask** field with an appropriate value based upon the value that you entered into the **IP address** field.</span></span>  
  
5.  <span data-ttu-id="f0134-143">ままにして、**デフォルト ゲートウェイ**フィールドの空白をクリックして **[ok]**、順にクリック**閉じる**です。</span><span class="sxs-lookup"><span data-stu-id="f0134-143">Leave the **Default gateway** field blank, click **OK**, and then click **Close**.</span></span>  
  
6.  <span data-ttu-id="f0134-144">一意のプライベート IP アドレスを各仮想マシンを構成した後に、HYPER-V ホスト コンピューターで実行されている他の仮想マシンの NetBIOS 名と IP アドレスと各仮想マシン上の HOSTS ファイルを更新します。</span><span class="sxs-lookup"><span data-stu-id="f0134-144">After configuring each virtual machine with a unique private IP address, update the HOSTS file on each virtual machine with the IP address and NetBIOS name of the other virtual machines running on the Hyper-V host computer.</span></span> <span data-ttu-id="f0134-145">更新されたホスト ファイルは、各仮想マシンに %systemroot%\drivers\etc\ フォルダーに保存する必要があります。</span><span class="sxs-lookup"><span data-stu-id="f0134-145">The updated HOSTS file should be saved to the %systemroot%\drivers\etc\ folder on each virtual machine.</span></span>  
  
    > [!NOTE]  
    >  <span data-ttu-id="f0134-146">既定で Windows が NetBIOS 名を解決するには、他の仮想マシンの一意のプライベート IP アドレスと各仮想マシン上の HOSTS ファイルを更新することによって最初にローカルの HOSTS ファイルを確認するため、これらのマシン間のネットワーク トラフィックは経由でルーティングされます。プライベート仮想ネットワークです。</span><span class="sxs-lookup"><span data-stu-id="f0134-146">Because by default Windows checks the local HOSTS file first to resolve NetBIOS names, by updating the HOSTS file on each virtual machine with the unique private IP addresses of the other virtual machines, network traffic between these machine will now be routed over the private virtual network.</span></span>  
  
### <a name="disable-tcp-offloading-for-the-virtual-machine-network-cards"></a><span data-ttu-id="f0134-147">TCP オフロード、仮想マシンのネットワーク カードを無効にします。</span><span class="sxs-lookup"><span data-stu-id="f0134-147">Disable TCP Offloading for the Virtual Machine Network Cards</span></span>  
 <span data-ttu-id="f0134-148">「を有効にし、タスク Offloading (NDIS 5.1) を無効にするを使用するレジストリ値」MSDN トピックの説明に従ってレジストリを編集[http://go.microsoft.com/fwlink/?LinkId=147619](http://go.microsoft.com/fwlink/?LinkId=147619) TCP オフロード各仮想マシン上のネットワーク カードを無効にします。</span><span class="sxs-lookup"><span data-stu-id="f0134-148">Edit the registry as described in the MSDN topic “Using Registry Values to Enable and Disable Task Offloading (NDIS 5.1)” at [http://go.microsoft.com/fwlink/?LinkId=147619](http://go.microsoft.com/fwlink/?LinkId=147619) to disable TCP offloading for the network cards on each virtual machine.</span></span>  
  
> [!IMPORTANT]  
>  <span data-ttu-id="f0134-149">レジストリ エディターの不適切な使用により問題が発生し、オペレーティング システムの再インストールが必要となることがあります。</span><span class="sxs-lookup"><span data-stu-id="f0134-149">Incorrect use of Registry Editor may cause problems requiring you to reinstall your operating system.</span></span> <span data-ttu-id="f0134-150">レジストリ エディターは、ご自身の責任で使用してください。</span><span class="sxs-lookup"><span data-stu-id="f0134-150">Use Registry Editor at your own risk.</span></span> <span data-ttu-id="f0134-151">バックアップ、復元、およびレジストリを変更する方法の詳細についてで Microsoft サポート技術情報の資料「Microsoft Windows レジストリの説明」を参照してください。 [http://go.microsoft.com/fwlink/?LinkId=62729](http://go.microsoft.com/fwlink/?LinkId=62729)です。</span><span class="sxs-lookup"><span data-stu-id="f0134-151">For more information about how to back up, restore, and modify the registry, see the Microsoft Knowledge Base article "Description of the Microsoft Windows registry" at [http://go.microsoft.com/fwlink/?LinkId=62729](http://go.microsoft.com/fwlink/?LinkId=62729).</span></span>  
  
## <a name="general-guidelines-for-improving-network-performance"></a><span data-ttu-id="f0134-152">ネットワークのパフォーマンスを向上させるための一般的なガイドライン</span><span class="sxs-lookup"><span data-stu-id="f0134-152">General guidelines for improving network performance</span></span>  
 <span data-ttu-id="f0134-153">ネットワーク パフォーマンスを向上させるのには、次の推奨事項を使用できます。</span><span class="sxs-lookup"><span data-stu-id="f0134-153">The following recommendations can be used to increase network performance:</span></span>  
  
### <a name="add-additional-network-cards-to-computers-in-the-biztalk-server-environment"></a><span data-ttu-id="f0134-154">BizTalk Server 環境内のコンピューターに追加のネットワーク カードを追加します。</span><span class="sxs-lookup"><span data-stu-id="f0134-154">Add additional network cards to computers in the BizTalk Server environment</span></span>  
 <span data-ttu-id="f0134-155">追加する追加のハード ドライブは、ディスクのパフォーマンスを向上させることができます、追加のネットワーク カードがネットワーク パフォーマンスを向上させることができます。</span><span class="sxs-lookup"><span data-stu-id="f0134-155">Just as adding additional hard drives can improve disk performance, adding additional network cards can improve network performance.</span></span> <span data-ttu-id="f0134-156">BizTalk Server 環境内のコンピューター上のネットワーク カードが飽和状態になり、カードがボトルネックになっている場合は、パフォーマンスを向上させるために 1 つまたは複数のネットワーク カードを追加することを検討してください。</span><span class="sxs-lookup"><span data-stu-id="f0134-156">If the network cards on the computers in your BizTalk Server environment are saturated and the card is a bottleneck, consider adding one or more additional network cards to improve performance.</span></span>  
  
### <a name="implement-network-segmentation"></a><span data-ttu-id="f0134-157">ネットワークのセグメント化を実装します。</span><span class="sxs-lookup"><span data-stu-id="f0134-157">Implement network segmentation</span></span>  
 <span data-ttu-id="f0134-158">推奨事項に従い、**サブネット**「BizTalk Server データベースの最適化」のホワイト ペーパーの「 [http://go.microsoft.com/fwlink/?LinkID=101578](http://go.microsoft.com/fwlink/?LinkID=101578)です。</span><span class="sxs-lookup"><span data-stu-id="f0134-158">Follow the recommendations in the **Subnets** section of the "BizTalk Server Database Optimization" whitepaper at [http://go.microsoft.com/fwlink/?LinkID=101578](http://go.microsoft.com/fwlink/?LinkID=101578).</span></span>  
  
### <a name="where-possible-replace-hubs-with-switches"></a><span data-ttu-id="f0134-159">可能であれば、スイッチを使用してハブを置き換えます</span><span class="sxs-lookup"><span data-stu-id="f0134-159">Where possible, replace hubs with switches</span></span>  
 <span data-ttu-id="f0134-160">スイッチには、直接はハブ ブロードキャスト トラフィックをルーティングするモデルを使用して、ソースと移行先の間のトラフィックをルーティングするロジックが含まれます。</span><span class="sxs-lookup"><span data-stu-id="f0134-160">Switches contain logic to directly route traffic between the source and destination whereas hubs use a broadcast model to route traffic.</span></span> <span data-ttu-id="f0134-161">したがってスイッチは効率的で、パフォーマンスが向上します。</span><span class="sxs-lookup"><span data-stu-id="f0134-161">Therefore switches are more efficient and offer improved performance.</span></span>  
  
### <a name="remove-unnecessary-network-protocols"></a><span data-ttu-id="f0134-162">不要なネットワーク プロトコルを削除します。</span><span class="sxs-lookup"><span data-stu-id="f0134-162">Remove unnecessary network protocols</span></span>  
 <span data-ttu-id="f0134-163">Windows Server コンピューターでは、ネットワーク サービスと実際に必要とされる以上がインストールされているプロトコルの詳細がある場合があります。</span><span class="sxs-lookup"><span data-stu-id="f0134-163">Windows Server computers sometimes have more network services and protocols installed than are actually required.</span></span> <span data-ttu-id="f0134-164">各追加ネットワーク クライアント、サービスまたはプロトコル、追加オーバーヘッドがシステム リソースにします。</span><span class="sxs-lookup"><span data-stu-id="f0134-164">Each additional network client, service or protocol places additional overhead on system resources.</span></span>  
  
 <span data-ttu-id="f0134-165">さらに、各インストールされているプロトコルは、ネットワーク トラフィックを生成します。</span><span class="sxs-lookup"><span data-stu-id="f0134-165">In addition, each installed protocol generates network traffic.</span></span> <span data-ttu-id="f0134-166">不要なネットワーク クライアント、サービス、およびプロトコルを削除すると、他のプロセスの使用可能なシステム リソース、過剰なネットワーク トラフィックを回避でき、ネゴシエートする必要がありますネットワーク バインドの数が最小限に減らします。</span><span class="sxs-lookup"><span data-stu-id="f0134-166">By removing unnecessary network clients, services and protocols, system resources are made available for other processes, excess network traffic is avoided and the number of network bindings that must be negotiated is reduced to a minimum.</span></span>  
  
 <span data-ttu-id="f0134-167">プロトコルおよびサービスを現在インストールされているネットワーク クライアントを表示するには、これらの手順に従います。</span><span class="sxs-lookup"><span data-stu-id="f0134-167">To see the currently installed network clients, protocols and services, follow these steps:</span></span>  
  
1.  <span data-ttu-id="f0134-168">をクリックして**開始**、] をポイント**設定**、順にクリック**コントロール パネルの [** です。</span><span class="sxs-lookup"><span data-stu-id="f0134-168">Click **Start**, point to **Settings**, and then click **Control Panel**.</span></span>  
  
2.  <span data-ttu-id="f0134-169">ダブルクリックして**ネットワーク接続**コンピューターのネットワーク接続を表示します。</span><span class="sxs-lookup"><span data-stu-id="f0134-169">Double-click **Network Connections** to display the network connections on the computer.</span></span>  
  
3.  <span data-ttu-id="f0134-170">右クリック**ローカル エリア接続**(または、ネットワーク接続のエントリ) をクリックし、**プロパティ**ネットワーク接続のプロパティ ダイアログ ボックスを表示します。</span><span class="sxs-lookup"><span data-stu-id="f0134-170">Right-click **Local Area Connection** (or the entry for your network connection), and then click **Properties** to display the properties dialog box for the network connection.</span></span>  
  
4.  <span data-ttu-id="f0134-171">不要な項目を削除するには、選択してをクリックして**アンインストール**です。</span><span class="sxs-lookup"><span data-stu-id="f0134-171">To remove an unnecessary item, select it and click **Uninstall**.</span></span> <span data-ttu-id="f0134-172">項目を無効にするには、単に、アイテムに関連付けられているチェック ボックスをオフにします。</span><span class="sxs-lookup"><span data-stu-id="f0134-172">To disable an item, simply clear the checkbox associated with the item.</span></span>  
  
 <span data-ttu-id="f0134-173">この接続の項目をアンインストールする場合の影響がわからないをアンインストールするのではなく、項目を無効にするとします。 場合、</span><span class="sxs-lookup"><span data-stu-id="f0134-173">If you are unsure about the effects of uninstalling an item for the connection, then disable the item rather than uninstalling it.</span></span> <span data-ttu-id="f0134-174">項目を無効にするには、サービス、プロトコルおよびクライアントがシステムで実際に必要か決定することができます。</span><span class="sxs-lookup"><span data-stu-id="f0134-174">Disabling items allows you to determine which services, protocols and clients are actually required on a system.</span></span> <span data-ttu-id="f0134-175">これが特定されたら、項目を無効にしていない影響を及ぼす場合、サーバーで、ときに、項目をアンインストールし、できます。</span><span class="sxs-lookup"><span data-stu-id="f0134-175">When it has been determined that disabling an item has no adverse affect on the server, the item can then be uninstalled.</span></span>  
  
 <span data-ttu-id="f0134-176">多くの場合は、次の 3 つのコンポーネントのみが、標準の TCP/IP ベース ネットワーク上の操作の必要です。</span><span class="sxs-lookup"><span data-stu-id="f0134-176">In many cases, only the following three components are required for operation on a standard TCP/IP based network:</span></span>  
  
-   <span data-ttu-id="f0134-177">Microsoft ネットワーク用クライアント</span><span class="sxs-lookup"><span data-stu-id="f0134-177">Client for Microsoft Networks</span></span>  
  
-   <span data-ttu-id="f0134-178">ファイル サービスおよび Microsoft ネットワーク用のプリンターの共有</span><span class="sxs-lookup"><span data-stu-id="f0134-178">File and Printer Sharing for Microsoft Networks</span></span>  
  
-   <span data-ttu-id="f0134-179">インターネット プロトコル (TCP/IP)</span><span class="sxs-lookup"><span data-stu-id="f0134-179">Internet Protocol (TCP/IP)</span></span>  
  
### <a name="network-adapter-drivers-on-all-computers-in-the-biztalk-server-environment-should-be-tuned-for-performance"></a><span data-ttu-id="f0134-180">BizTalk Server 環境のすべてのコンピューター上のネットワーク アダプター ドライバーがパフォーマンスに合わせて調整する必要があります。</span><span class="sxs-lookup"><span data-stu-id="f0134-180">Network adapter drivers on all computers in the BizTalk Server environment should be tuned for performance</span></span>  
  
> [!IMPORTANT]  
>  <span data-ttu-id="f0134-181">ネットワーク アダプターのドライバーにチューニングを適用するには、前に常に、環境内のネットワーク カードの最新のネットワーク アダプター デバイス ドライバーをインストールします。</span><span class="sxs-lookup"><span data-stu-id="f0134-181">Before applying tuning to network adapter drivers, always install the latest network adapter device drivers for the network cards in the environment.</span></span>  
  
 <span data-ttu-id="f0134-182">受信および送信の両方、パケットがバッファリングの使用可能なメモリの量を最大化するネットワーク アダプター デバイス ドライバーを調整します。</span><span class="sxs-lookup"><span data-stu-id="f0134-182">Adjust the network adapter device drivers to maximize the amount of memory available for packet buffering, both incoming and outgoing.</span></span> <span data-ttu-id="f0134-183">バッファー カウントを最大化、特に転送バッファーおよびバッファーを結合します。</span><span class="sxs-lookup"><span data-stu-id="f0134-183">Also maximize buffer counts, especially transmit buffers and coalesce buffers.</span></span> <span data-ttu-id="f0134-184">既定値は、これらのパラメーターの値しにも用意されているかどうかは、製造元およびドライバーのバージョン間で異なる場合します。</span><span class="sxs-lookup"><span data-stu-id="f0134-184">The default values for these parameters, and whether they are even provided, vary between manufacturers and driver versions.</span></span> <span data-ttu-id="f0134-185">目標は、ネットワーク アダプターのハードウェアで実行された作業を最大化して、ネットワーク トラフィックの増加および関連付けられている輻輳を軽減するためにネットワーク操作の最大の可能なバッファー領域が確保されます。</span><span class="sxs-lookup"><span data-stu-id="f0134-185">The goal is to maximize the work done by the network adapter hardware, and to allow the greatest possible buffer space for network operations to mitigate network traffic bursts and associated congestion.</span></span>  
  
> [!NOTE]  
>  <span data-ttu-id="f0134-186">ネットワーク アダプターのドライバーを調整する手順は、製造元によって異なります。</span><span class="sxs-lookup"><span data-stu-id="f0134-186">Steps to tune network adapter drivers vary by manufacturer.</span></span>  
  
 <span data-ttu-id="f0134-187">ネットワーク アダプターの設定にアクセスする次の手順に従って[!INCLUDE[btsWinSvr2k8R2](../includes/btswinsvr2k8r2-md.md)]:</span><span class="sxs-lookup"><span data-stu-id="f0134-187">Follow these steps to access settings for network adapters in[!INCLUDE[btsWinSvr2k8R2](../includes/btswinsvr2k8r2-md.md)]:</span></span>  
  
1.  <span data-ttu-id="f0134-188">をクリックして**開始**、およびをクリックし、**コントロール パネルの** です。</span><span class="sxs-lookup"><span data-stu-id="f0134-188">Click **Start**, , and then click **Control Panel**.</span></span>  
  
2.  <span data-ttu-id="f0134-189">をクリックして**ネットワークとインターネット**、クリックして**ネットワークと共有センター**です。</span><span class="sxs-lookup"><span data-stu-id="f0134-189">Click **Network and Internet**, and then click **Network and Sharing Center**.</span></span>  
  
3.  <span data-ttu-id="f0134-190">をクリックして**アダプターの設定を変更**を右クリックして**ローカル エリア接続**(または、ネットワーク接続の名前)、をクリックし、**プロパティ**です。</span><span class="sxs-lookup"><span data-stu-id="f0134-190">Click **Change adapter settings**, Right-click **Local Area Connection** (or the name of your network connection), and then click **Properties**.</span></span>  
  
4.  <span data-ttu-id="f0134-191">**全般** タブで、をクリックして**構成**です。</span><span class="sxs-lookup"><span data-stu-id="f0134-191">On the **General** tab, click **Configure**.</span></span>  
  
5.  <span data-ttu-id="f0134-192">クリックして、 **[詳細設定]** タブ プロパティにアクセスするネットワーク アダプターに構成することができます。</span><span class="sxs-lookup"><span data-stu-id="f0134-192">Click the **Advanced** tab to access properties that can be configured for the network adapter.</span></span>  
  
 <span data-ttu-id="f0134-193">次のプロパティは、BizTalk Server 環境の各ネットワーク アダプターを構成してください。</span><span class="sxs-lookup"><span data-stu-id="f0134-193">The following properties should be configured for each network adapter in the BizTalk Server environment:</span></span>  
  
> [!NOTE]  
>  <span data-ttu-id="f0134-194">集約、負荷分散、またはフォールト トレランスが構成されているネットワーク アダプターのチーミングされたセット内の個々 のネットワーク アダプターを含む、物理ネットワーク アダプターごとにこれらの設定が適用されます。</span><span class="sxs-lookup"><span data-stu-id="f0134-194">You apply these settings for each physical network adapter, including the individual network adapters within a teamed set of network adapters that are configured for aggregation, load balancing, or fault tolerance.</span></span> <span data-ttu-id="f0134-195">一部のチーミング ソフトウェアも、チームにこれらの設定を適用する必要があります。</span><span class="sxs-lookup"><span data-stu-id="f0134-195">With some teaming software, you might need to apply these settings to the team also.</span></span> <span data-ttu-id="f0134-196">一部のネットワーク アダプターが自己調整は、パラメーターを手動で構成するオプションがありますいないことに注意してください。</span><span class="sxs-lookup"><span data-stu-id="f0134-196">Note that some network adapters are self-tuning and may not offer the option to configure parameters manually.</span></span>  
  
-   <span data-ttu-id="f0134-197">**オプションの電源を**– を電源管理機能の電力を節約するネットワーク アダプターを無効にすることを防ぐために、ネットワーク アダプター ドライバーを構成します。</span><span class="sxs-lookup"><span data-stu-id="f0134-197">**Power Option** – Configure the network adapter driver to prevent power management functionality from turning off the network adapter to save power.</span></span> <span data-ttu-id="f0134-198">この機能は、クライアント コンピューターに適している可能性がありますが、ことはほとんど必要があります、BizTalk Server または SQL Server コンピューターで使用できます。</span><span class="sxs-lookup"><span data-stu-id="f0134-198">This functionality may be useful for client computers but should seldom, if ever, be used on a BizTalk Server or SQL Server computer.</span></span>  
  
-   <span data-ttu-id="f0134-199">**速度または二重の固定 (自動を使用しない)** -ネットワーク速度、二重モード、およびフロー制御パラメーターが設定をスイッチの設定に対応することが非常に重要である接続先。</span><span class="sxs-lookup"><span data-stu-id="f0134-199">**Fixed Speed/Duplex (do not use AUTO)** - It is very important that the network speed, duplex, and flow control parameters are set to correspond to the settings on the switch to which they are connected.</span></span> <span data-ttu-id="f0134-200">これにより、定期的な「自動同期」かかる場合があります一時的にオフラインの接続の発生が軽減されます。</span><span class="sxs-lookup"><span data-stu-id="f0134-200">This will mitigate the occurrence of periodic “auto-synchronization” which may temporarily take connections off-line.</span></span>  
  
-   <span data-ttu-id="f0134-201">**合体バッファーの最大**-マップ レジスタは、システム リソースの物理アドレスをバス マスターをサポートするネットワーク アダプターの仮想アドレスに変換するために使用します。</span><span class="sxs-lookup"><span data-stu-id="f0134-201">**Max Coalesce Buffers** - Map registers are system resources used to convert physical addresses to virtual addresses for network adapters that support bus mastering.</span></span> <span data-ttu-id="f0134-202">合体ドライバー マップ レジスタ不足した場合、バッファーは、ネットワーク ドライバーを使用できます。</span><span class="sxs-lookup"><span data-stu-id="f0134-202">Coalesce buffers are available to the network driver if the driver runs out of map registers.</span></span> <span data-ttu-id="f0134-203">この値が最大のパフォーマンスをできるだけ高く設定します。</span><span class="sxs-lookup"><span data-stu-id="f0134-203">Set this value as high as possible for maximum performance.</span></span> <span data-ttu-id="f0134-204">サーバーで物理メモリの制限と、このあります、負の値のバッファーをまとめるようへの影響がシステム メモリを消費します。</span><span class="sxs-lookup"><span data-stu-id="f0134-204">On servers with limited physical memory, this may have a negative impact as coalesce buffers consume system memory.</span></span> <span data-ttu-id="f0134-205">ほとんどのシステムでただし、設定されている最大適用できますせず、使用可能なメモリを大幅に削減します。</span><span class="sxs-lookup"><span data-stu-id="f0134-205">On most systems however, the maximum setting can be applied without significantly reducing available memory.</span></span>  
  
-   <span data-ttu-id="f0134-206">**最大転送/送信記述子および送信バッファー** -この設定を指定数の転送コントロール バッファーのネットワーク インターフェイスで使用するドライバーを割り当てます。</span><span class="sxs-lookup"><span data-stu-id="f0134-206">**Max Transmit/Send Descriptors and Send Buffers** - This setting specifies how many transmit control buffers the driver allocates for use by the network interface.</span></span> <span data-ttu-id="f0134-207">これにより、ドライバーは、"send"キューに持つことができます未処理のパケットの数が直接反映されます。</span><span class="sxs-lookup"><span data-stu-id="f0134-207">This directly reflects the number of outstanding packets the driver can have in its “send” queue.</span></span> <span data-ttu-id="f0134-208">この値が最大のパフォーマンスをできるだけ高く設定します。</span><span class="sxs-lookup"><span data-stu-id="f0134-208">Set this value as high as possible for maximum performance.</span></span> <span data-ttu-id="f0134-209">物理メモリの制限、サーバーでは、システム メモリを消費するマイナスの影響の送信バッファーとしてこのがあります。</span><span class="sxs-lookup"><span data-stu-id="f0134-209">On servers with limited physical memory, this may have a negative impact as send buffers consume system memory.</span></span> <span data-ttu-id="f0134-210">ほとんどのシステムでただし、設定されている最大適用できますせず、使用可能なメモリを大幅に削減します。</span><span class="sxs-lookup"><span data-stu-id="f0134-210">On most systems however, the maximum setting can be applied without significantly reducing available memory.</span></span>  
  
-   <span data-ttu-id="f0134-211">**受信バッファーの最大**-この設定は、プロトコルのメモリにデータをコピーするときに、ネットワーク インターフェイスのドライバーで使用されるメモリ バッファーの量を指定します。</span><span class="sxs-lookup"><span data-stu-id="f0134-211">**Max Receive Buffers** - This setting specifies the amount of memory buffer used by the network interface driver when copying data to the protocol memory.</span></span> <span data-ttu-id="f0134-212">これは通常、既定では、比較的小さい値に設定されます。</span><span class="sxs-lookup"><span data-stu-id="f0134-212">It is normally set by default to a relatively low value.</span></span> <span data-ttu-id="f0134-213">この値が最大のパフォーマンスをできるだけ高く設定します。</span><span class="sxs-lookup"><span data-stu-id="f0134-213">Set this value as high as possible for maximum performance.</span></span> <span data-ttu-id="f0134-214">サーバーで物理メモリの制限と、このあります、負の値のバッファーを受信したときの影響は、システム メモリを消費します。</span><span class="sxs-lookup"><span data-stu-id="f0134-214">On servers with limited physical memory, this may have a negative impact as receive buffers consume system memory.</span></span> <span data-ttu-id="f0134-215">ほとんどのシステムでただし、設定されている最大適用できますせず、使用可能なメモリを大幅に削減します。</span><span class="sxs-lookup"><span data-stu-id="f0134-215">On most systems however, the maximum setting can be applied without significantly reducing available memory.</span></span>  
  
-   <span data-ttu-id="f0134-216">**オプションをオフロードすべて**- ネットワーク インターフェイス オフロード機能を有効にすると、パフォーマンスが向上はほとんどの場合。</span><span class="sxs-lookup"><span data-stu-id="f0134-216">**All offload options ON** - In almost all cases performance is improved when enabling network interface offload features.</span></span> <span data-ttu-id="f0134-217">一部のネットワーク アダプターを有効にする、オフロード送信を無効にするにまたはトラフィックを受信して個別のパラメーターを提供します。</span><span class="sxs-lookup"><span data-stu-id="f0134-217">Some network adapters provide separate parameters to enable or disable offloading for send and receive traffic.</span></span> <span data-ttu-id="f0134-218">CPU からネットワーク アダプターにタスクをオフロードすることと、システム全体のパフォーマンスが向上しているサーバーの CPU 使用量を削減できます。</span><span class="sxs-lookup"><span data-stu-id="f0134-218">Offloading tasks from the CPU to the network adapter can help lower CPU usage on the server which will improve overall system performance.</span></span> <span data-ttu-id="f0134-219">Microsoft TCP/IP トランスポートには、1 つ以上の適切な機能を備えているネットワーク アダプターに次のタスクをオフロードできます。</span><span class="sxs-lookup"><span data-stu-id="f0134-219">The Microsoft TCP/IP transport can offload one or more of the following tasks to a network adapter that has the appropriate capabilities:</span></span>  
  
    -   <span data-ttu-id="f0134-220">**チェックサム タスク**- TCP/IP トランスポートが、計算の負荷を軽減との ip アドレスと TCP チェックサムの検証を送信および受信ネットワーク アダプターに、ネットワーク アダプター ドライバーは、この機能を提供する場合は、このオプションを有効にします。</span><span class="sxs-lookup"><span data-stu-id="f0134-220">**Checksum tasks** - The TCP/IP transport can offload the calculation and validation of IP and TCP checksums for sends and receives to the network adapter, enable this option if the network adapter driver provides this capability.</span></span>  
  
    -   <span data-ttu-id="f0134-221">**IP セキュリティ タスク**-TCP/IP トランスポートは、計算と認証ヘッダー (AH) およびカプセル化セキュリティ ペイロード (ESP) ネットワーク アダプターへの暗号化チェックサムの検証をオフロードできます。</span><span class="sxs-lookup"><span data-stu-id="f0134-221">**IP security tasks** - The TCP/IP transport can offload the calculation and validation of encrypted checksums for authentication headers (AH) and encapsulating security payloads (ESP) to the network adapter.</span></span> <span data-ttu-id="f0134-222">TCP/IP トランスポートは、暗号化と復号化、ネットワーク アダプターに ESP ペイロードのオフロードもできます。</span><span class="sxs-lookup"><span data-stu-id="f0134-222">The TCP/IP transport can also offload the encryption and decryption of ESP payloads to the network adapter.</span></span> <span data-ttu-id="f0134-223">ネットワーク アダプター ドライバーは、この機能を提供する場合は、これらのオプションを有効にします。</span><span class="sxs-lookup"><span data-stu-id="f0134-223">Enable these options if the network adapter driver provides this capability.</span></span>  
  
    -   <span data-ttu-id="f0134-224">**大量の TCP パケットのセグメント化**-TCP/IP トランスポートは、多数の送信オフロード (LSO) をサポートしています。</span><span class="sxs-lookup"><span data-stu-id="f0134-224">**Segmentation of large TCP packets** - The TCP/IP transport supports large send offload (LSO).</span></span> <span data-ttu-id="f0134-225">Lso により、TCP/IP トランスポートは、大量の TCP パケットのセグメント化をオフロードできます。</span><span class="sxs-lookup"><span data-stu-id="f0134-225">With LSO, the TCP/IP transport can offload the segmentation of large TCP packets.</span></span>  
  
    -   <span data-ttu-id="f0134-226">**スタックのオフロード**– ネットワーク スタック全体は、適切な機能を備えているネットワーク アダプターにオフロードできます。</span><span class="sxs-lookup"><span data-stu-id="f0134-226">**Stack Offload** – The entire network stack can be offloaded to a network adapter that has the appropriate capabilities.</span></span> <span data-ttu-id="f0134-227">ネットワーク アダプター ドライバーは、この機能を提供する場合は、このオプションを有効にします。</span><span class="sxs-lookup"><span data-stu-id="f0134-227">Enable this option if the network adapter driver provides this capability.</span></span>  
  
-   <span data-ttu-id="f0134-228">**Wake On LAN (使用されている) 場合を除き、無効になっている**– wake on lan 機能を無効にするネットワーク アダプター ドライバーを構成します。</span><span class="sxs-lookup"><span data-stu-id="f0134-228">**Wake On LAN disabled (unless being used)** – Configure the network adapter driver to disable wake-on lan functionality.</span></span> <span data-ttu-id="f0134-229">この機能がクライアント コンピューターに便利ですが、ほとんどありませんもしに対して使用するか、BizTalk Server または SQL Server コンピューター。</span><span class="sxs-lookup"><span data-stu-id="f0134-229">This functionality may be useful for client computers but should seldom if ever be used on a BizTalk Server or SQL Server computer.</span></span>  
  
 <span data-ttu-id="f0134-230">ネットワーク アダプターのパフォーマンスをチューニングの詳細については、次を参照してください。、**ネットワーク デバイスの設定**"BizTalk Server データベースの最適化」のホワイト ペーパーの「 [http://go.microsoft.com/fwlink/?LinkID=101578](http://go.microsoft.com/fwlink/?LinkID=101578)です。</span><span class="sxs-lookup"><span data-stu-id="f0134-230">For more information about tuning network adapters for performance, see the **Network Device Settings** section of the "BizTalk Server Database Optimization" whitepaper at [http://go.microsoft.com/fwlink/?LinkID=101578](http://go.microsoft.com/fwlink/?LinkID=101578).</span></span>