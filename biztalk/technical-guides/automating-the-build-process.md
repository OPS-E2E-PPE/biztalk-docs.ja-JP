---
title: ビルド プロセスを自動化する |Microsoft Docs
ms.custom: ''
ms.date: 06/08/2017
ms.prod: biztalk-server
ms.reviewer: ''
ms.suite: ''
ms.tgt_pltfrm: ''
ms.topic: article
ms.assetid: 995dac20-82a1-46ed-b8a3-0aa6182cb821
caps.latest.revision: 7
author: MandiOhlinger
ms.author: mandia
manager: anneta
ms.openlocfilehash: 8591440cf129ea8bf0dbd9bdb4a423d77be8026c
ms.sourcegitcommit: 381e83d43796a345488d54b3f7413e11d56ad7be
ms.translationtype: MT
ms.contentlocale: ja-JP
ms.lasthandoff: 05/07/2019
ms.locfileid: "65401318"
---
# <a name="automating-the-build-process"></a>ビルド プロセスを自動化します。
ビルド プロセスを自動化では、コンパイル、展開し、プロジェクトの最新のソース コードに対して、事前に定義された定期的な間隔でビルド確認テスト (Bvt) を実行します。 「ビルド レポートを」ビルド処理の成否に関する詳細はプロジェクト利害関係者に配布します。 ビルド レポートは、プロジェクトの領域が対応し、プロジェクトを以前のバージョン/ビルド ロールバックかどうかに必要かを判断分析されます。  
  
 自動化されたビルド プロセスの真価は、「時間オフ」時に実行されるスケジュールすることができます。 これにより、開発時から直接サイクルにすることがなく、プロジェクトの安定性を確保に役立ちます。   
 このトピックの「ビルド プロセス概要を説明します、ビルド プロセスに収めるビルド確認テスト方法について説明します、ビルド検証テスト中に使用される機能テストの側面について説明およびの重要性について情報を提供しますビルド プロセスを自動化します。  
  
## <a name="overview-of-the-build-process"></a>ビルド プロセスの概要  
 テストの詳細を見ると、前に、テストの位置づけについて全体的なビルド プロセスのコンテキストに注意してください。 すべての Microsoft の製品グループ操作という考え方から、ビルド プロセスがあらゆるソフトウェア プロジェクトのハートビート。 このアプローチは、Microsoft のソフトウェア スタックの一番上のミッション クリティカルなソリューションを構築する企業のコンサルティング、世界で一番上の多くでも使用されます。 安定したハートビートと定期的なチェックを使わずに、プロジェクトの正常性を把握することはできません。 製品グループがあるプロジェクトの全体的な正常性を継続的な把握させるには、ビルド プロセスが毎日実行、通常は午前 0 時にします。 次の手順では、一般的な自動化されたビルド プロセスをまとめてください。  
  
1.  ソース コード リポジトリからソース コードの最新のビルドを取得します。  
  
2.  ソース コードをコンパイルします。  
  
3.  通常のスクリプトまたは Microsoft Windows インストーラー ファイルを使用して展開用にバイナリをパックします。  
  
4.  プロジェクトをテスト サーバーに配置します。  
  
5.  ビルド確認テスト (Bvt) の完全なセットが自動的に実行します。  
  
6.  プロジェクト チームのメンバーには、詳細なビルド レポートをパブリッシュします。  
  
> [!NOTE]  
>  Bvt は、その品質をテストするソリューションの主な機能を実行する機能をテストします。  Bvt が割り当て済みの毎日のビルド時間内で実行するビルドの品質評価をまだ程度の小さなゲージを十分に包括的であることを確認する必要があります。  
  
> [!NOTE]  
>  テスト目的でソフトウェア プロジェクトの一部としても展開、展開解除、構成およびインストールのスクリプトやプロセスを扱う必要があります。 両方のプロジェクトだけでなく、展開と構成、操作をテストする必要があります。  
  
 このプロセスは通常、早朝約午前 6 時、チームの最初のメンバーが、新しいその日のビルドの作業を開始して完了します。 1 つ以上の前日の夜から Bvt が失敗した場合は、できるだけ早く修正して、チームの責任が、します。  
  
 毎日のビルド プロセスに従うには、プロジェクトの多くの利点があります。 最初に、ハートビート (日次のビルドと自動 Bvt の構成) を提供します。 第 2 に、Bvt を使用すると、これは難しい作業では、システムとの統合が強制し、これを行う早い段階で、それ自体のプロジェクトのリスクを軽減します。 それらを完了するために必要な時間、により毎日のビルド プロセスの外部でストレスおよびパフォーマンス テストが通常実行されます。 通常、ストレスおよびパフォーマンスのテストは、プロジェクトのマイルス トーンのビルドで実行するスケジュールされます。  
  
 毎日のビルド プロセスはできますが、および使用されている、非常に効果的に BizTalk ソリューション。 ただし、ことを確認する必要があります、最初からプロジェクトの末尾にある通常のタスクが繰り返し行われます。 たとえば、BizTalk Server での展開は、確実に重要なは。 自動デプロイ スクリプトが事前に開発することが重要です。 これを行わない場合なりますを手動で展開して、展開されていない、ソリューション、プロジェクトでは、最後に多くの時間のコストは全体で何度もします。 毎日のビルド プロセス; のドライブに使用できるツールがあります。Visual Studio Team System と Team Foundation Server は多くのユーザーのプライマリの選択です。 MSBuild スクリプトを使用して、ビルド プロセスの手順を実行させることがあります。 別の方法としては、オープン ソースの[CruiseControl.NET ツール](http://go.microsoft.com/fwlink/?LinkId=116093)(http://go.microsoft.com/fwlink/?LinkId=116093)します。  
  
> [!NOTE]  
>  、Microsoft では、このツールの使用はサポートされていないと、Microsoft はこのプログラムの適合性に関する保証をいたしません。 このプログラムは、ユーザー自身の責任で使用してください。  
  
 Microsoft Test manager を使用したテストの自動化に関する詳細については、トピックを参照してください[自動テストを実行している](http://go.microsoft.com/fwlink/?LinkID=208368)(http://go.microsoft.com/fwlink/?LinkID=208368) 、Visual Studio 2010 のオンライン ドキュメント。  
  
 Visual Studio 2010 を使用して、ビルド プロセスの自動化に関する詳細については、次を参照してください。[アプリケーションを構築する](http://go.microsoft.com/fwlink/?LinkID=208369)(HYPERLINK"<http://go.microsoft.com/fwlink/?LinkID=208369>" <http://go.microsoft.com/fwlink/?LinkID=208369>)、Visual Studio 2010 のドキュメント。  
  
## <a name="build-verification-testing"></a>ビルド検証テスト  
 ビルド検証テストでは、次の要素、通常は構成されています。  
  
- **単体テスト**-単体テストは、開発する最初のテストでは通常、ため、理想的には必要があります作成する必要が書き込まれる前に、コードが実際には、本当にテスト駆動開発アプローチを使用している場合。 追加することによって Bvt にプロジェクトの初期段階で、指定した少なくともいくつかのコード カバレッジすぐにします。 機能テストの数と、テスト カバレッジが増加するため、Bvt から単体テストを削除することもあります。  
  
- **スモーク テスト**-ソリューションの基本的な機能をテストするエンド ツー エンド機能テスト。 これらが失敗した場合、重大な問題が発生しました。 これらは比較的迅速に実行することが通常ことができます。  
  
- **機能テスト**- 特定のエンド ツー エンドのシナリオも対象しますが、プロジェクト内のすべてのシナリオをテスト、ここでします。 大規模なプロジェクトが賢明にさらに、機能のテストを分類する (たとえば、迅速に、信頼性の高い、単独でテストする特定のコンポーネントを有効にする)。 これらの機能テストは機能的に適切なものとして、ソリューションにに署名した後、ロック ダウンする必要があります。  
  
- **検証テストを回帰**- たびに、ソリューションのバグが検出し、修正、回帰の検証、バグが修正されたことと、プロジェクトのライフ サイクルの後半で再現がないことを確認するテスト_ケースを追加する必要があります。  通常、これらのテストでは、機能のテスト_ケースで説明されていないケースがなります。 新しいバグの発見し、修正場合、ソリューションがライブになった後も、回帰の検証テストが数の増加するはずです。  
  
  非常に大規模なプロジェクトで、Bvt (それにかかる時間の長さ) のための完全な機能のテスト スイートのサブセットを作成する必要があります。 小さいプロジェクトでは、Bvt は全体の設定を構成します。 当然ながら、毎日のビルドの一部として、Bvt を統合する場合は、プロセス全体を自動化する必要があります。 このトピックの残りの部分では、BizUnit とその他のツールを使用して、これを実現する方法について説明します。  
  
## <a name="functional-testing"></a>機能テスト  
 BizTalk アプリケーションのコンテキストでは、機能のテストは、特定のエンド ツー エンド シナリオをテストします。 この種のテストを実行するときに、外部の観点からテスト機能的ブラック_ボックスとして BizTalk Server を想像すると便利です。 たとえば、テストがあります (既知の値) と、入力メッセージを受信場所のエンドポイントに供給すること (例では、URL、FTP の場所のトランスポートの好みが何であれ)。 テストは、送信側で生成される正しい出力を使用したメッセージの正しい数を監視します。 比較的簡単に聞こえるかもしれませんが。 一部のシナリオが必要になると、特定の時点で特定の順序で入力し、これを他のソリューションの要件を持つ複合ことを検討するときにただし、(次のように、bam 追跡データを記録するときに)、ツールおよびフレームワークをするために使用できることを明確になりますこれを調整します。  
  
 機能テストが、ソリューションのすべての可能なパスをカバーするように設計ことが重要です。 これだけでなくこれらのシナリオを含める必要があります、運用環境で期待がもエラー パスと例外処理のパスを実装しているが、– 使用することと思いますこの説明によく使用される 1 つの語句が「悪いシナリオ」のテストは、 すべてのオーケストレーション、すべての許容されるメッセージの種類を確認してくださいし、すべてのコード分岐が、機能テスト スイートで実行されます。 次のセクションでは、テスト_ケースの開発正および負機能すべてのコード パスをカバーするについて説明します。  
  
 運用環境に BizTalk Server ソリューションを配置する前に実装する必要があります、その他のテスト カテゴリと機能テストの詳細については、トピックを参照してください[チェックリスト。運用準備のテスト](http://go.microsoft.com/fwlink/?LinkId=160138)で BizTalk Server 2010 操作ガイドの[ http://go.microsoft.com/fwlink/?LinkId=160138](http://go.microsoft.com/fwlink/?LinkId=160138)します。  
  
### <a name="positive-tests"></a>ポジティブ テスト  
  
-   正のテスト メッセージ、パイプライン、オーケストレーションのすべての組み合わせを実行するときに重要とエンドポイントは、すべてのメッセージ フローを実行するために、ソリューション経由で渡されます。 すべてのコードをテストすることを確認するには、パスの方が異なるコンテンツを含むさまざまなメッセージを処理します。  
  
-   をテストする場合は、実稼働環境で使用されるトランスポートの種類を使用します。 残念ながら、多くの場合、機能テストによってのみ実行されますいくつかその他のトランスポートが運用環境で使用されるときに、ファイル アダプターを使用します。 この手法を採用が設定してエラーのために全体的なプロジェクトに後で。  
  
-   システムから送信されるすべてのメッセージのペイロードを検証します。 メッセージが XML である場合は、そのスキーマと XPath 式を使用して、メッセージ内のキー フィールドを検証する必要があります。  
  
-   使用する場合は、BAM; に格納されている追跡データを検証します。外部のデータ リポジトリに残されているその他のデータを考慮する必要があります。  
  
-   ソリューションは、BRE を使用している場合は、すべてのビジネス ルール エンジン (BRE) ポリシーおよびルールの実行をテストします。  
  
### <a name="negative-tests"></a>負の値のテスト  
  
-   システムから無効なメッセージの処理をテストすることを確認します。 (BizTalk Server になるまで、それらを拒否する、またはを停止)、選択した戦略が正常に確認してください。  
  
-   無効なメッセージの処理をテストする場合は、受信側のエラー処理オーケストレーションが中断されたメッセージを処理するために実装されていることをテストするを確認します。  
  
-   障害のシナリオが、オーケストレーション内のすべての例外ブロックをカバーすることを確認します。  一般的な問題は、これを十分にテストに失敗します。  
  
-   実行時間の長いトランザクションを補正の動作を使用する場合は、非常に慎重にこのようなシナリオをテストします。 これは、不適切なテストして、運用環境で重大な結果を発生は、別の領域です。  
  
-   適切なエラー ログでエラーが正しく記録されることを確認します。  
  
## <a name="automation-is-key"></a>Automation は、キーです。  
 すべてのオプションは、効率的かつ効果的には、テストの自動化を事前にかかる時間を投資してください。 手動テストは時間がかかり、エラーが発生しやすく、(時間とコスト) 観点からコスト。 手動テストを実行するたびに、プロジェクトのリソース (チーム内のユーザー) で処理する必要があるタスクの別のバッチを追加します。 これを前もって自動化をすることで、実行されるたびに、テストの開発に必要な初期投資回収率を取得することができます。 適切な機能テストが迅速かつ効率的を実行し、; 繰り返し使用できる必要があります。各テストは、自律的に機能する必要があります (その他の独立したが必要です。 テスト スイートとして複数のテストを順番に実行するこのアプローチを採用することができます)。機能テストでは、同じ結果を常に生成する必要があります。 機能テストを正しく記述または不適切なコードは、先頭の混乱や無駄な時間が、エラーの根本原因を調査するテストの実行の間でのさまざまなテスト結果になります。  
  
 各機能のテストを記述するために必要な開発作業を最小限に抑えるには重要です。 通常より高価な少なくテスト_ケースを終了可能性がありますが (時間)、開発の観点から何かを生成するためには。 つまり、コードに対してテスト カバレッジのレベルを必要があります。 テスト フレームワークを使用すると、テスト_ケースを迅速かつ簡単に作成でき、そのため、簡単に完全なコード カバレッジを取得できます。 ほとんどの適切なテスト フレームワークでは、テストを定義する宣言型のアプローチを使用します。 (つまり、テストの構成に格納されます、構成ファイル、XML ファイルは、通常。)使用する適切なテストのフレームワークにより、機敏性と信頼性の高い方法でテスト スイートに完全な機能を開発して、"車輪の繰り返し、軽減する必要がなくなります。  
  
## <a name="msbuild-support-for-biztalk-server-projects"></a>BizTalk Server プロジェクトの MSBUILD サポート。  
 BizTalk Server では、Visual Studio がインストールされていないビルド ラボ環境でのマネージ プロジェクトのビルドに対応する Microsoft ビルド エンジン (MSBUILD) プラットフォームのサポートを提供します。 MSBUILD は、コマンドラインと MSBUILD ログ記録とバッチ処理を含む高度な機能からのプロジェクトのビルドに対応します。 MSBUILD の詳細については、次を参照してください。 [MSBuild の概要](http://go.microsoft.com/fwlink/?LinkId=131739)(http://go.microsoft.com/fwlink/?LinkId=131739)します。  
  
## <a name="see-also"></a>参照  
 [自動テストの実装](../technical-guides/implementing-automated-testing.md)