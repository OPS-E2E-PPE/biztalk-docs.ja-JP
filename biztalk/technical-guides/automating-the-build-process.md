---
title: ビルド プロセスを自動化する |Microsoft ドキュメント
ms.custom: ''
ms.date: 06/08/2017
ms.prod: biztalk-server
ms.reviewer: ''
ms.suite: ''
ms.tgt_pltfrm: ''
ms.topic: article
ms.assetid: 995dac20-82a1-46ed-b8a3-0aa6182cb821
caps.latest.revision: 7
author: MandiOhlinger
ms.author: mandia
manager: anneta
ms.openlocfilehash: d62380146f0bfba188843ed0e022340d88fcaceb
ms.sourcegitcommit: 36350889f318e1f7e0ac9506dc8df794d475bda6
ms.translationtype: MT
ms.contentlocale: ja-JP
ms.lasthandoff: 04/20/2018
---
# <a name="automating-the-build-process"></a>ビルド プロセスを自動化します。
自動ビルド プロセスは、コンパイル、展開され、通常、あらかじめ決められた間隔でプロジェクトの最新のソース コードに対するビルド確認テスト (Bvt) を実行します。 「ビルド レポートを」ビルド処理の成否の詳細には、プロジェクトの利害関係者に配布します。 ビルド レポートを分析して、プロジェクトの区分が注意を払い、プロジェクトを以前のバージョン/ビルド ロールバックかどうかに必要かを判断します。  
  
 自動ビルド プロセスの電源は、「時間オフ」時に実行されるスケジュールすることができます。 これにより、開発時から直接サイクルにすることがなく、プロジェクトの安定性を確保に役立ちます。   
 このトピックのビルド プロセスの概要を示します、ビルド プロセスに組み込むビルド検証テスト方法について説明します、機能テストがビルド確認テスト中に使用されるの側面について説明しますおよびの重要性に関する情報を提供ビルド プロセスを自動化します。  
  
## <a name="overview-of-the-build-process"></a>ビルド プロセスの概要  
 テストの詳細を見ると、前にすることが重要テストが適合するしくみを全体のビルド プロセスのコンテキストを検討してください。 すべての Microsoft の製品グループ操作哲学からビルド プロセスが任意のソフトウェア プロジェクトのハートビート。 この方法は、Microsoft のソフトウェア スタック上でミッション クリティカルなソリューションを構築した企業のコンサルティング世界中の最上位の多くによっても使用されます。 定常ハートビートとその定期的に確認をしないに、プロジェクトの正常性を認識することはありません。 製品グループは、プロジェクトの全体的な正常性を継続的な情報であるためには、ビルド プロセスは毎日実行、通常午前 0 時にします。 次の手順では、一般的な自動ビルド プロセスをまとめます。  
  
1.  ソース コード リポジトリからソース コードの最新のビルドを取得します。  
  
2.  ソース コードをコンパイルします。  
  
3.  展開 – スクリプトまたは Microsoft Windows インストーラ ファイルを使用して、通常のバイナリ ファイルをパックします。  
  
4.  プロジェクトをテスト サーバーに配置します。  
  
5.  ビルド確認テスト (Bvt) の完全なセットが自動的に実行します。  
  
6.  プロジェクト チームのメンバーには、詳細なビルド レポートをパブリッシュします。  
  
> [!NOTE]  
>  Bvt は、機能を実行するテストの品質をテストするソリューションの主な機能です。  Bvt が毎日ビルドの割り当てられた時間内で実行するビルドの品質評価、まだほど小さいをゲージには十分に総合的であることを確認する必要があります。  
  
> [!NOTE]  
>  テスト目的で、ソフトウェア プロジェクトの一部としても、展開、展開解除、構成およびインストールのスクリプトまたはプロセスを扱う必要があります。 両方のプロジェクトだけでなくの展開と構成、操作をテストする必要があります。  
  
 このプロセスは通常、早朝約午前 6 時、チームの最初のメンバーが新しい日のビルドの作業を開始して完了します。 前の昨晩から Bvt の 1 つ以上が失敗した場合は、できるだけ早く修正チームの責任です。  
  
 毎日のビルド プロセスに従うと、プロジェクトの多くの利点があります。 最初に、ハートビート (デイリー ビルドと自動 Bvt の構成) を提供します。 次に、手間がかかる場合、タスクであるシステムとの統合を強制 Bvt を使用し、プロジェクトのリスクを軽減これ早い段階で、それ自体の。 それらを完了に必要な時間、により毎日のビルド プロセスの外部でストレスおよびパフォーマンスのテストは通常実行されます。 通常、ストレスおよびパフォーマンスのテストは、プロジェクトのマイルス トーン ビルド上で実行されるスケジュールされます。  
  
 毎日のビルド プロセスでは、できますしで使用されていた、非常に効果的に BizTalk ソリューションです。 確認する必要がありますただし、タスクは通常、プロジェクトで、最後に残っているが、開始から繰り返し行われます。 たとえば、BizTalk Server での展開は確実に重要なです。 自動展開スクリプトが事前に開発することが重要です。 いないこの場合、なりますを手動で展開して、展開されていない終了に多くの時間のコストは、プロジェクト全体で何度もソリューションです。 毎日のビルド プロセス; のドライブに使用できるツールがあります。Visual Studio Team System と Team Foundation Server は、多くの人々 にとって重要な選択です。 ビルド プロセスの手順をドライブには、MSBuild スクリプトを使用できます。 別の方法としては、オープン ソース[CruiseControl.NET ツール](http://go.microsoft.com/fwlink/?LinkId=116093)(http://go.microsoft.com/fwlink/?LinkId=116093)です。  
  
> [!NOTE]  
>  、Microsoft では、このツールの使用はサポートされていないと、Microsoft はこのプログラムの適合性に関して保証を行いません。 このプログラムは、ユーザー自身の責任で使用してください。  
  
 Microsoft Test manager を使用したテストの自動化の詳細については、トピックを参照してください[自動テストの実行](http://go.microsoft.com/fwlink/?LinkID=208368)(http://go.microsoft.com/fwlink/?LinkID=208368)に Visual Studio 2010 のオンライン ドキュメント。  
  
 Visual Studio 2010 を使用して、ビルド プロセスの自動化の詳細については、次を参照してください。[アプリケーションのビルド](http://go.microsoft.com/fwlink/?LinkID=208369)(ハイパーリンク"http://go.microsoft.com/fwlink/?LinkID=208369" http://go.microsoft.com/fwlink/?LinkID=208369) 、Visual Studio 2010 ドキュメント。  
  
## <a name="build-verification-testing"></a>ビルド検証テスト  
 ビルド検証テストでは、次の要素通常から構成されます。  
  
-   **単体テスト**-ため単体テストは、開発する最初のテストでは通常、理想的には、必要がありますを作成するコードが実際に書き込まれる前に本当にテスト駆動開発アプローチを使用している場合。 Bvt にそれらを早い段階で、プロジェクトの追加、提供するには、少なくとも一部のコード カバレッジ直後。 機能テストの数と、テスト カバレッジが増加するので、Bvt から単体テストを削除することを選択できます。  
  
-   **スモーク テスト**-ソリューションの基本機能をテストするエンド ツー エンド機能テストします。 これらが失敗した場合、重大な問題があります。 これらは比較的迅速に実行することが通常ことができます。  
  
-   **機能テスト**- これらもターゲットとするエンド ツー エンドのシナリオがプロジェクト内のすべてのシナリオをテスト、ここでします。 大規模なプロジェクトが賢明をさらに、機能のテストを分類する (たとえば、迅速に、信頼性の高い、分離環境でテストする特定のコンポーネントを有効にする)。 これらの機能テストが正しく機能として、ソリューションにに署名した後ロックする必要があります。  
  
-   **検証テストを回帰**- たびに、ソリューションのバグの検出し、修正、回帰の検証、バグが修正されたことと、プロジェクト ライフ サイクルの後半で再現がないことを確認するテスト_ケースを追加する必要があります。  これらのテストをテスト_ケースを機能のテストで説明されていない場合と通常です。 ソリューションが稼動、新しいバグの発見し、修正場合後も数で、回帰の検証テストが増加が予想されます。  
  
 非常に大規模なプロジェクトで、Bvt (実行に必要な時間の長さ) のためフル機能のテスト スイートのサブセットを作成する必要があります。 小さいプロジェクトは、Bvt は全体の設定を構成します。 当然ながら、毎日のビルドの一部として、Bvt を統合する場合は、プロセス全体を自動化する必要があります。 このトピックの残りの部分では、これを実現するための BizUnit およびその他のツールを使用する方法を説明します。  
  
## <a name="functional-testing"></a>機能テスト  
 BizTalk アプリケーションのコンテキストでは、機能のテストは、特定のエンド ツー エンド シナリオをテストします。 この種類のテストを実行するときに、外部の観点から機能をテストするための黒いボックスとして BizTalk Server を想像すると便利です。 たとえば、テストが含まれます (既知の値) の入力メッセージを受信場所の終点に供給すること (例では、URL、FTP の場所のトランスポートの選択は、任意)。 テストは、正しい数のメッセージを送信側で生成される正確な出力を監視します。 感じられるかもしれませんが比較的簡単です。 ただし、検討するいくつかのシナリオには、特定の順序でと、特定の時刻への入力を必要とし、これを他のソリューションの要件を持つ複合こと (など、BAM で追跡データを記録するときに)、ツールおよびフレームワークをするために使用できることを明確になりますこれを調整します。  
  
 機能テストは対応しているソリューションのすべての可能なパスをカバーする必要があります。 これが含まれますそのようなシナリオだけでなく、実稼働環境で期待しますが、もエラー パスおよび例外処理のパスを実装しているが、– を使用するには、しないことを願ってこれを記述する一般的に使用される 1 つの語句はのためのテスト「不良日シナリオです」。 すべてのオーケストレーション、すべての許容されるメッセージの種類を確認し、すべてのコード分岐は、機能テスト スイートで実行します。 次のセクションでは、テスト_ケースの開発正および負機能すべてのコード パスをカバーするについて説明します。  
  
 詳細については、機能テストと実稼動環境に BizTalk Server ソリューションを配置する前に実装する必要がありますのある他のテスト カテゴリは、トピックを参照してください[チェックリスト: 運用の準備のテスト](http://go.microsoft.com/fwlink/?LinkId=160138)で、BizTalk Server 2010 操作ガイド[ http://go.microsoft.com/fwlink/?LinkId=160138](http://go.microsoft.com/fwlink/?LinkId=160138)です。  
  
### <a name="positive-tests"></a>ポジティブ テスト  
  
-   エンドポイントは、すべてのメッセージ フローが実行されるようにソリューション経由で渡され、メッセージ、パイプライン、オーケストレーションのすべての組み合わせを確実にポジティブ テストを実行するときに重要です。 すべてのコードをテストすることを確認するには、パスが必要になる可能性さまざまなコンテンツを含む別のメッセージを処理することです。  
  
-   をテストする場合は、実稼働環境で使用されるトランスポートの種類を使用します。 残念ながら、すべてが多すぎるため、機能テストのみを使用して実行、ファイル アダプターによってその他のトランスポートは実稼働環境で使用するとき。 この手法を採用は設定して、全体的なプロジェクトの障害のために後でします。  
  
-   システムから送信されるすべてのメッセージのペイロードを検証します。 メッセージが XML の場合は、そのスキーマと XPath 式を使用して、メッセージのキー フィールドを検証する必要があります。  
  
-   (使用する場合) に BAM; に格納されている追跡データを検証します。外部データのリポジトリに残されているその他のデータを考慮する必要があります。  
  
-   ソリューションは、BRE を使用している場合は、すべてのビジネス ルール エンジン (BRE) ポリシーとルールの実行をテストします。  
  
### <a name="negative-tests"></a>負の値のテスト  
  
-   システムから無効なメッセージの処理をテストすることを確認します。 (BizTalk Server になる前に、それらを拒否またはそれらを中断するに)、選択した戦略が正常に動作していることを確認する必要があります。  
  
-   無効なメッセージの処理をテストする場合は、すべての受信側エラー処理オーケストレーションが中断されたメッセージを処理する実装されていることをテストするを確認します。  
  
-   障害のシナリオの対象、オーケストレーション内のすべての例外ブロックにことを確認します。  一般的な問題は、これを適切にテストに失敗します。  
  
-   実行時間の長いトランザクションの補正の動作を使用している場合は、非常に慎重にこれらのシナリオをテストします。 これは、別の領域が、不適切なテストが発生、運用環境で重大な結果です。  
  
-   該当するエラー ログでエラーが正しく記録されることを確認します。  
  
## <a name="automation-is-key"></a>オートメーションは、キー  
 効率的かつ効果的にこれはすべてには、テストの自動化を事前にかかる時間を投資してください。 手動テストは、時間がかかり、エラーが発生しやすく、時間とコスト) (点で高コストです。 手動テストを実行するたびに、プロジェクトのリソース (チーム内でのユーザー) で処理されることのあるタスクの別のバッチを追加します。 これを事前に自動化するは、実行されるたびに、テストの開発に必要な初期投資回収率を取得できます。 適切な機能をテストする必要があります迅速かつ効率的を実行し、繰り返し; 可能各テストが自律的にする必要があります (その他の独立したことが、テスト スイートと複数のテストを順番に実行するこのアプローチを採用することができます)。機能のテストでは、同じ結果が生成常にする必要があります。 不適切な機能テストや不適切なコードは、テストの実行、混乱の原因と、エラーの根本原因を調査無駄な時間までの間でさまざまなテスト結果になります。  
  
 各機能のテストを記述するために必要な開発作業を最小限に抑えるには重要です。 テスト ケースの少ない可能性が高い/compile に (時間)、開発の観点からのものを生成するためには、通常、高価です。 つまり、コードをテスト カバレッジの低いレベルになります。 テスト フレームワークを使用すると、テスト_ケースを迅速かつ容易に作成でき、そのため、容易にできるように完全なコード カバレッジを取得できます。 ほとんどの適切なテスト フレームワークでは、テストを定義する宣言型の方法を使用します。 (つまり、テストの構成は、構成ファイルに格納、一般的にこれは、XML ファイルです。)適切なテスト フレームワーク有効機敏性と信頼性の高い方法でテスト スイートを完全に機能を開発して、「発明」繰り返し、いわば必要はなくなりますを使用します。  
  
## <a name="msbuild-support-for-biztalk-server-projects"></a>BizTalk Server プロジェクトの MSBUILD サポート  
 BizTalk Server では、Visual Studio がインストールされていないビルド ラボ環境でのマネージ プロジェクトのビルドに対応する Microsoft ビルド エンジン (MSBUILD) プラットフォームのサポートを提供します。 MSBUILD には、コマンドラインおよび MSBUILD のログ記録とバッチ処理を含む高度な機能からのプロジェクトのビルドが格納されています。 MSBUILD の詳細については、次を参照してください。 [MSBuild の概要](http://go.microsoft.com/fwlink/?LinkId=131739)(http://go.microsoft.com/fwlink/?LinkId=131739)です。  
  
## <a name="see-also"></a>参照  
 [自動テストの実装](../technical-guides/implementing-automated-testing.md)