---
title: "テスト結果: SQL Server の主要業績評価指標 |Microsoft ドキュメント"
ms.custom: 
ms.date: 06/08/2017
ms.prod: biztalk-server
ms.reviewer: 
ms.suite: 
ms.tgt_pltfrm: 
ms.topic: article
ms.assetid: 2459ee6d-7a75-4338-ba5c-f42ab673ab87
caps.latest.revision: "12"
author: MandiOhlinger
ms.author: mandia
manager: anneta
ms.openlocfilehash: 93e1f1bdef55ad726c308902062dccff67eeb170
ms.sourcegitcommit: cb908c540d8f1a692d01dc8f313e16cb4b4e696d
ms.translationtype: MT
ms.contentlocale: ja-JP
ms.lasthandoff: 09/20/2017
---
# <a name="test-results-sql-server-key-performance-indicators"></a><span data-ttu-id="27815-102">テスト結果: SQL Server の主要業績評価指標</span><span class="sxs-lookup"><span data-stu-id="27815-102">Test Results: SQL Server Key Performance Indicators</span></span>
<span data-ttu-id="27815-103">このトピックでは、SQL サーバー主要業績評価指標 (KPI) テスト シナリオで監視された概要を示します。</span><span class="sxs-lookup"><span data-stu-id="27815-103">This topic summarizes SQL Server Key Performance Indicators (KPI) observed during the test scenarios.</span></span> <span data-ttu-id="27815-104">これらのテストには、次の SQL Server KPI が評価されます。</span><span class="sxs-lookup"><span data-stu-id="27815-104">These tests evaluated the following SQL Server KPI:</span></span>  
  
-   <span data-ttu-id="27815-105">SQL のプロセッサ使用率によって評価される、 **\SQL\Processor(_Total)\\% Processor Time**パフォーマンス モニター カウンターです。</span><span class="sxs-lookup"><span data-stu-id="27815-105">SQL Processor Utilization as measured by the **\SQL\Processor(_Total)\\% Processor Time** performance monitor counter.</span></span>  
  
-   <span data-ttu-id="27815-106">によって測定される 1 秒あたりの受信を TRANSACT-SQL コマンド バッチの数、 **\SQL Server:SQL Statistics\Batch 要求数/秒**パフォーマンス モニター カウンターです。</span><span class="sxs-lookup"><span data-stu-id="27815-106">The number of Transact-SQL command batches received per second as measured by the **\SQL Server:SQL Statistics\Batch Requests/sec** performance monitor counter.</span></span>  
  
## <a name="summary-of-sql-server-key-performance-indicators"></a><span data-ttu-id="27815-107">SQL Server の主要業績評価指標の概要</span><span class="sxs-lookup"><span data-stu-id="27815-107">Summary of SQL Server Key Performance Indicators</span></span>  
 <span data-ttu-id="27815-108">各シナリオの物理コンピューターは、論理プロセッサと仮想プロセッサの数が等価ように制限されていました。</span><span class="sxs-lookup"><span data-stu-id="27815-108">For each scenario the physical machines were restricted so that number of logical processors and virtual processors was equivalent.</span></span> <span data-ttu-id="27815-109">これは、/maxmem と/numproc boot.ini スイッチを使用します。</span><span class="sxs-lookup"><span data-stu-id="27815-109">This was done using the /maxmem and /numproc boot.ini switches.</span></span> <span data-ttu-id="27815-110">詳細については、これらのスイッチを使用して、参照してください「ブート INI オプションの参照」 [http://go.microsoft.com/fwlink/?LinkId=122139](http://go.microsoft.com/fwlink/?LinkId=122139)です。</span><span class="sxs-lookup"><span data-stu-id="27815-110">For more information about using these switches, see “Boot INI Options Reference” at [http://go.microsoft.com/fwlink/?LinkId=122139](http://go.microsoft.com/fwlink/?LinkId=122139).</span></span>  
  
 <span data-ttu-id="27815-111">**SQL Server 主要業績評価指標-の比較**[!INCLUDE[btsSQLServerNoVersion](../includes/btssqlservernoversion-md.md)]プロセッサ使用率によって評価される**\SQL\Processor(_Total)\\% Processor Time**カウンターが約すべてで同じです。88% の低から 90.1% の high までの環境をテストします。  </span><span class="sxs-lookup"><span data-stu-id="27815-111">**Comparison of SQL Server Key Performance Indicators –**  [!INCLUDE[btsSQLServerNoVersion](../includes/btssqlservernoversion-md.md)] processor utilization as measured by **\SQL\Processor(_Total)\\% Processor Time** counter was approximately the same on all test environments, ranging from a low of 88% to a high of 90.1%.</span></span> <span data-ttu-id="27815-112">ただしが大きな違い、 **\SQL Server:SQL Statistics\Batch 要求数/秒**統合された環境 (4520) 上で計測されます、 **\SQL Server:SQL Statistics\Batchの要求/秒**物理環境 (6350) 上で計測されます。</span><span class="sxs-lookup"><span data-stu-id="27815-112">There is however a significant difference between the **\SQL Server:SQL Statistics\Batch Requests/sec** measured on the consolidated environment (4520) and the **\SQL Server:SQL Statistics\Batch Requests/sec** measured on the physical environment (6350).</span></span> <span data-ttu-id="27815-113">**\SQL Server:SQL Statistics\Batch 要求数/秒**パフォーマンス モニター カウンターは、SQL Server によって実行される作業量を示す優れた指標を提供します。</span><span class="sxs-lookup"><span data-stu-id="27815-113">The **\SQL Server:SQL Statistics\Batch Requests/sec** performance monitor counter provides a good indicator of how much work is being performed by SQL Server.</span></span> <span data-ttu-id="27815-114">バッチ要求数/秒を HYPER-V 環境で SQL Server が実行されている場合に削減は、HYPER-V で必要な CPU オーバーヘッドを属性付けすることができます。</span><span class="sxs-lookup"><span data-stu-id="27815-114">The reduction in Batch Requests/sec when SQL Server is running in a Hyper-V environment can be attributed to the CPU overhead required by Hyper-V.</span></span>  
  
 <span data-ttu-id="27815-115">ただし、大きな違い、 **\SQL Server:SQL Statistics\Batch 要求数/秒**統合された環境 (4520) 上で計測されます、 **\SQL Server:SQL Statistics\Batch 要求数/秒**物理環境 (6350) 上で計測されます。</span><span class="sxs-lookup"><span data-stu-id="27815-115">There is, however, a significant difference between the **\SQL Server:SQL Statistics\Batch Requests/sec** measured on the consolidated environment (4520) and the **\SQL Server:SQL Statistics\Batch Requests/sec** measured on the physical environment (6350).</span></span> <span data-ttu-id="27815-116">**\SQL Server:SQL Statistics\Batch 要求数/秒**パフォーマンス モニター カウンターは、SQL Server によって実行される作業量を示す優れた指標を提供します。</span><span class="sxs-lookup"><span data-stu-id="27815-116">The **\SQL Server:SQL Statistics\Batch Requests/sec** performance monitor counter provides a good indicator of how much work is being performed by SQL Server.</span></span> <span data-ttu-id="27815-117">バッチ要求数/秒を HYPER-V 環境で SQL Server が実行されている場合に削減は、HYPER-V で必要な CPU オーバーヘッドを属性付けすることができます。</span><span class="sxs-lookup"><span data-stu-id="27815-117">The reduction in Batch Requests/sec when SQL Server is running in a Hyper-V environment can be attributed to the CPU overhead required by Hyper-V.</span></span>  
  
 <span data-ttu-id="27815-118">によって測定される HYPER-V 仮想マシンで実行されている SQL Server のパフォーマンスを向上する次の手順に従って、 **\SQL Server:SQL Statistics\Batch 要求数/秒**パフォーマンス モニター カウンター。</span><span class="sxs-lookup"><span data-stu-id="27815-118">Follow these steps to increase performance of SQL Server running on a Hyper-V virtual machine as measured by the **\SQL Server:SQL Statistics\Batch Requests/sec** performance monitor counter:</span></span>  
  
1.  <span data-ttu-id="27815-119">**専用の仮想コント ローラーとチャネル – 追加の固定 VHD ディスクを割り当てる**を使用して追加の固定 VHD ディスクの割り当ての専用仮想コント ローラーと、チャネルで 1 つの VHD ディスクを使用すると、ディスクのスループットが増加します。</span><span class="sxs-lookup"><span data-stu-id="27815-119">**Allocate additional fixed VHD disks with dedicated virtual controllers and channels –** Allocation of additional fixed VHD disks using dedicated virtual controllers and channels will increase disk throughput versus using a single VHD disk.</span></span>  
  
2.  <span data-ttu-id="27815-120">**– ネットワーク パフォーマンスを最適化**の「ネットワークのパフォーマンスを最適化する」セクションに記載されている手順に従います[チェックリスト: HYPER-V でのパフォーマンスの最適化](~/technical-guides/checklist-optimizing-performance-on-hyper-v.md)です。</span><span class="sxs-lookup"><span data-stu-id="27815-120">**Optimize Network Performance –** Follow steps outlined in the “Optimize Network Performance” section of [Checklist: Optimizing Performance on Hyper-V](~/technical-guides/checklist-optimizing-performance-on-hyper-v.md).</span></span> <span data-ttu-id="27815-121">「同じ HYPER-V で実行されている構成 HYPER-V 仮想マシンは、プライベート仮想ネットワークを使用してコンピューターをホスト」セクションの推奨事項に従うに特に重要なは、同じ HYPER-V ホスト上の複数の HYPER-V 仮想マシンを実行している場合[ネットワーク最適化](../technical-guides/network-optimizations.md)です。</span><span class="sxs-lookup"><span data-stu-id="27815-121">When running multiple Hyper-V virtual machines on the same Hyper-V host it is of particular importance to follow recommendations in the “Configure Hyper-V Virtual Machines that are Running on the same Hyper-V host computer to use a Private Virtual Network” section of [Network Optimizations](../technical-guides/network-optimizations.md).</span></span>  
  
 <span data-ttu-id="27815-122">状態のない性質[!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)], additional[!INCLUDE[btsSQLServerNoVersion](../includes/btssqlservernoversion-md.md)]仮想マシンできます簡単に環境に追加して、スケール アウトを提供し、システムの全体的なパフォーマンスを向上するためにします。</span><span class="sxs-lookup"><span data-stu-id="27815-122">Because of the stateless nature of [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)], additional [!INCLUDE[btsSQLServerNoVersion](../includes/btssqlservernoversion-md.md)] virtual machines can be easily added to the environment as required to provide scale out and increase the overall performance of the system.</span></span>  
  
 <span data-ttu-id="27815-123">次の図は、さまざまなテスト プラットフォームでは、SQL Server のパフォーマンスを示しています。</span><span class="sxs-lookup"><span data-stu-id="27815-123">The graphic below illustrates the performance of SQL Server on the various test platforms:</span></span>  
  
 <span data-ttu-id="27815-124">![SQL 主要業績評価指標](../technical-guides/media/sqlkpi.gif "SQLKPI")</span><span class="sxs-lookup"><span data-stu-id="27815-124">![SQL Key Performance Indicators](../technical-guides/media/sqlkpi.gif "SQLKPI")</span></span>  
<span data-ttu-id="27815-125">SQL 主要業績評価指標</span><span class="sxs-lookup"><span data-stu-id="27815-125">SQL Key Performance Indicators</span></span>  
  
 <span data-ttu-id="27815-126">次の表は、収集される KPI のそれぞれの構成の相対的なパフォーマンスを示しています。</span><span class="sxs-lookup"><span data-stu-id="27815-126">The table below illustrates the relative performance of the collected KPI’s for each configuration.</span></span> <span data-ttu-id="27815-127">各結果セットは、KPI の基準構成の割合として計算されます。</span><span class="sxs-lookup"><span data-stu-id="27815-127">Each result set is calculated as a percentage of the Baseline configuration KPI</span></span>  
  
|<span data-ttu-id="27815-128">KPI (KPI)</span><span class="sxs-lookup"><span data-stu-id="27815-128">KPI</span></span>|<span data-ttu-id="27815-129">仮想 BizTalk/物理 SQL</span><span class="sxs-lookup"><span data-stu-id="27815-129">Virtual BizTalk/Physical SQL</span></span>|<span data-ttu-id="27815-130">個別のホスト上の仮想 BizTalk/仮想 SQL</span><span class="sxs-lookup"><span data-stu-id="27815-130">Virtual BizTalk/Virtual SQL on separate Hosts</span></span>|<span data-ttu-id="27815-131">統合環境で仮想 BizTalk/仮想 SQL</span><span class="sxs-lookup"><span data-stu-id="27815-131">Virtual BizTalk/Virtual SQL on Consolidated environment</span></span>|  
|---------|-----------------------------------|----------------------------------------------------|--------------------------------------------------------------|  
|<span data-ttu-id="27815-132">\SQL\Processor(_Total)\\プロセッサ時間の割合</span><span class="sxs-lookup"><span data-stu-id="27815-132">\SQL\Processor(_Total)\\% Processor Time</span></span>|<span data-ttu-id="27815-133">97.7%</span><span class="sxs-lookup"><span data-stu-id="27815-133">97.7%</span></span>|<span data-ttu-id="27815-134">98.4%</span><span class="sxs-lookup"><span data-stu-id="27815-134">98.4%</span></span>|<span data-ttu-id="27815-135">99.9%</span><span class="sxs-lookup"><span data-stu-id="27815-135">99.9%</span></span>|  
|<span data-ttu-id="27815-136">\SQL server: SQL Statistics\Batch 要求数/秒</span><span class="sxs-lookup"><span data-stu-id="27815-136">\SQL Server:SQL Statistics\Batch Requests/sec</span></span>|<span data-ttu-id="27815-137">97.1%</span><span class="sxs-lookup"><span data-stu-id="27815-137">97.1%</span></span>|<span data-ttu-id="27815-138">83.3%</span><span class="sxs-lookup"><span data-stu-id="27815-138">83.3%</span></span>|<span data-ttu-id="27815-139">71.2%</span><span class="sxs-lookup"><span data-stu-id="27815-139">71.2%</span></span>|  
  
 <span data-ttu-id="27815-140">ディスク I/O パフォーマンスを評価する方法の詳細については、次を参照してください。、**ディスク I/O パフォーマンスの測定**」の「[チェックリスト: Hyper-v でのパフォーマンスの測定](../technical-guides/checklist-measuring-performance-on-hyper-v.md)です。</span><span class="sxs-lookup"><span data-stu-id="27815-140">For more information about how to evaluate Disk I/O performance, see the **Measuring Disk I/O Performance** section of the topic [Checklist: Measuring Performance on Hyper-V](../technical-guides/checklist-measuring-performance-on-hyper-v.md).</span></span>  
  
 <span data-ttu-id="27815-141">SQL Server 2008 を HYPER-V 環境で実行されているときのベスト プラクティスの詳細については、「実行されている SQL Server 2008 in a HYPER-V 環境 – ベスト プラクティスとパフォーマンスの推奨」からダウンロードできるホワイト ペーパーを参照してください[http。://go.microsoft.com/fwlink/しますか?LinkId = 144622](http://go.microsoft.com/fwlink/?LinkId=144622)です。</span><span class="sxs-lookup"><span data-stu-id="27815-141">For more information about Best Practices when running SQL Server 2008 in a Hyper-V environment, see the whitepaper “Running SQL Server 2008 in a Hyper-V Environment – Best Practices and Performance Recommendations” available for download at [http://go.microsoft.com/fwlink/?LinkId=144622](http://go.microsoft.com/fwlink/?LinkId=144622).</span></span>