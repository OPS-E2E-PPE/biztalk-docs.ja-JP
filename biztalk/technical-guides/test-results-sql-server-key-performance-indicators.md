---
title: テスト結果。SQL Server の主要業績評価指標 |Microsoft Docs
ms.custom: ''
ms.date: 06/08/2017
ms.prod: biztalk-server
ms.reviewer: ''
ms.suite: ''
ms.tgt_pltfrm: ''
ms.topic: article
ms.assetid: 2459ee6d-7a75-4338-ba5c-f42ab673ab87
caps.latest.revision: 12
author: MandiOhlinger
ms.author: mandia
manager: anneta
ms.openlocfilehash: 6ba49d2b4e62041a0b47361144c1293bf7d7edf6
ms.sourcegitcommit: 381e83d43796a345488d54b3f7413e11d56ad7be
ms.translationtype: MT
ms.contentlocale: ja-JP
ms.lasthandoff: 05/07/2019
ms.locfileid: "65301638"
---
# <a name="test-results-sql-server-key-performance-indicators"></a><span data-ttu-id="cebcd-102">テスト結果。SQL Server の主要業績評価指標</span><span class="sxs-lookup"><span data-stu-id="cebcd-102">Test Results: SQL Server Key Performance Indicators</span></span>
<span data-ttu-id="cebcd-103">このトピックでは、SQL サーバー主要業績評価指標 (KPI) テスト シナリオの中に確認されたをまとめたものです。</span><span class="sxs-lookup"><span data-stu-id="cebcd-103">This topic summarizes SQL Server Key Performance Indicators (KPI) observed during the test scenarios.</span></span> <span data-ttu-id="cebcd-104">これらのテストには、次の SQL Server KPI が評価されます。</span><span class="sxs-lookup"><span data-stu-id="cebcd-104">These tests evaluated the following SQL Server KPI:</span></span>  
  
-   <span data-ttu-id="cebcd-105">SQL のプロセッサ使用率によって測定される、 **\SQL\Processor(_Total)\\% Processor Time**パフォーマンス モニター カウンター。</span><span class="sxs-lookup"><span data-stu-id="cebcd-105">SQL Processor Utilization as measured by the **\SQL\Processor(_Total)\\% Processor Time** performance monitor counter.</span></span>  
  
-   <span data-ttu-id="cebcd-106">TRANSACT-SQL コマンド バッチの数の受信/秒で測定した、 **\SQL Server:SQL Statistics\Batch 要求数/秒**パフォーマンス モニター カウンター。</span><span class="sxs-lookup"><span data-stu-id="cebcd-106">The number of Transact-SQL command batches received per second as measured by the **\SQL Server:SQL Statistics\Batch Requests/sec** performance monitor counter.</span></span>  
  
## <a name="summary-of-sql-server-key-performance-indicators"></a><span data-ttu-id="cebcd-107">SQL Server の主要業績評価指標の概要</span><span class="sxs-lookup"><span data-stu-id="cebcd-107">Summary of SQL Server Key Performance Indicators</span></span>  
 <span data-ttu-id="cebcd-108">各シナリオの物理マシンは、論理プロセッサと仮想プロセッサの数が対応できるように制限されていました。</span><span class="sxs-lookup"><span data-stu-id="cebcd-108">For each scenario the physical machines were restricted so that number of logical processors and virtual processors was equivalent.</span></span> <span data-ttu-id="cebcd-109">これは/maxmem および/numproc の boot.ini スイッチを使用します。</span><span class="sxs-lookup"><span data-stu-id="cebcd-109">This was done using the /maxmem and /numproc boot.ini switches.</span></span> <span data-ttu-id="cebcd-110">詳細については、これらのスイッチを使用して、参照してください「ブート INI オプションの参照」 [ http://go.microsoft.com/fwlink/?LinkId=122139](http://go.microsoft.com/fwlink/?LinkId=122139)します。</span><span class="sxs-lookup"><span data-stu-id="cebcd-110">For more information about using these switches, see “Boot INI Options Reference” at [http://go.microsoft.com/fwlink/?LinkId=122139](http://go.microsoft.com/fwlink/?LinkId=122139).</span></span>  
  
 <span data-ttu-id="cebcd-111">**SQL Server 主要業績評価指標 – の比較**[!INCLUDE[btsSQLServerNoVersion](../includes/btssqlservernoversion-md.md)]プロセッサ使用率によって測定される**\SQL\Processor(_Total)\\% Processor Time**カウンターが約で同じでは、すべてのテスト88% 低から 90.1% の値が高くに至るまでの環境。  </span><span class="sxs-lookup"><span data-stu-id="cebcd-111">**Comparison of SQL Server Key Performance Indicators –**  [!INCLUDE[btsSQLServerNoVersion](../includes/btssqlservernoversion-md.md)] processor utilization as measured by **\SQL\Processor(_Total)\\% Processor Time** counter was approximately the same on all test environments, ranging from a low of 88% to a high of 90.1%.</span></span> <span data-ttu-id="cebcd-112">ただしがある間に大きな違い、 **\SQL Server:SQL Statistics\Batch 要求数/秒**統合環境 (4520) で計測と**\SQL Server:SQL Statistics\Batchの要求/秒**物理環境 (6350) 上で計測されます。</span><span class="sxs-lookup"><span data-stu-id="cebcd-112">There is however a significant difference between the **\SQL Server:SQL Statistics\Batch Requests/sec** measured on the consolidated environment (4520) and the **\SQL Server:SQL Statistics\Batch Requests/sec** measured on the physical environment (6350).</span></span> <span data-ttu-id="cebcd-113">**\SQL Server:SQL Statistics\Batch 要求数/秒**パフォーマンス モニター カウンターは、SQL Server によって実行される作業量を示す優れた指標を提供します。</span><span class="sxs-lookup"><span data-stu-id="cebcd-113">The **\SQL Server:SQL Statistics\Batch Requests/sec** performance monitor counter provides a good indicator of how much work is being performed by SQL Server.</span></span> <span data-ttu-id="cebcd-114">バッチ要求/秒、HYPER-V 環境で SQL Server が実行されている場合、削減は、HYPER-V で必要な CPU オーバーヘッドに原因があります。</span><span class="sxs-lookup"><span data-stu-id="cebcd-114">The reduction in Batch Requests/sec when SQL Server is running in a Hyper-V environment can be attributed to the CPU overhead required by Hyper-V.</span></span>  
  
 <span data-ttu-id="cebcd-115">ただし、大きな違い、 **\SQL Server:SQL Statistics\Batch 要求数/秒**統合環境 (4520) で測定し、 **\SQL Server:SQL Statistics\Batch 要求数/秒**物理環境 (6350) 上で計測されます。</span><span class="sxs-lookup"><span data-stu-id="cebcd-115">There is, however, a significant difference between the **\SQL Server:SQL Statistics\Batch Requests/sec** measured on the consolidated environment (4520) and the **\SQL Server:SQL Statistics\Batch Requests/sec** measured on the physical environment (6350).</span></span> <span data-ttu-id="cebcd-116">**\SQL Server:SQL Statistics\Batch 要求数/秒**パフォーマンス モニター カウンターは、SQL Server によって実行される作業量を示す優れた指標を提供します。</span><span class="sxs-lookup"><span data-stu-id="cebcd-116">The **\SQL Server:SQL Statistics\Batch Requests/sec** performance monitor counter provides a good indicator of how much work is being performed by SQL Server.</span></span> <span data-ttu-id="cebcd-117">バッチ要求/秒、HYPER-V 環境で SQL Server が実行されている場合、削減は、HYPER-V で必要な CPU オーバーヘッドに原因があります。</span><span class="sxs-lookup"><span data-stu-id="cebcd-117">The reduction in Batch Requests/sec when SQL Server is running in a Hyper-V environment can be attributed to the CPU overhead required by Hyper-V.</span></span>  
  
 <span data-ttu-id="cebcd-118">以下の手順によって測定される、HYPER-V 仮想マシンで実行されている SQL Server のパフォーマンスを向上させる、 **\SQL Server:SQL Statistics\Batch 要求数/秒**パフォーマンス モニター カウンター。</span><span class="sxs-lookup"><span data-stu-id="cebcd-118">Follow these steps to increase performance of SQL Server running on a Hyper-V virtual machine as measured by the **\SQL Server:SQL Statistics\Batch Requests/sec** performance monitor counter:</span></span>  
  
1. <span data-ttu-id="cebcd-119">**専用仮想コント ローラーとチャネル – 追加の固定 VHD ディスクを割り当てる**を使用して追加の固定 VHD ディスクの割り当ては専用の仮想コント ローラーとチャネルの 1 つの VHD ディスクを使用すると、ディスクのスループットが増加します。</span><span class="sxs-lookup"><span data-stu-id="cebcd-119">**Allocate additional fixed VHD disks with dedicated virtual controllers and channels –** Allocation of additional fixed VHD disks using dedicated virtual controllers and channels will increase disk throughput versus using a single VHD disk.</span></span>  
  
2. <span data-ttu-id="cebcd-120">**ネットワークのパフォーマンスを最適化**の「ネットワークのパフォーマンスを最適化する」セクションに記載されている手順に従います[チェックリスト。HYPER-V のパフォーマンスを最適化する](~/technical-guides/checklist-optimizing-performance-on-hyper-v.md)します。</span><span class="sxs-lookup"><span data-stu-id="cebcd-120">**Optimize Network Performance –** Follow steps outlined in the “Optimize Network Performance” section of [Checklist: Optimizing Performance on Hyper-V](~/technical-guides/checklist-optimizing-performance-on-hyper-v.md).</span></span> <span data-ttu-id="cebcd-121">「同じ Hyper-v ホストで実行されている構成、HYPER-V 仮想マシンは、プライベート仮想ネットワークを使用するコンピューターをホスト」セクションで推奨事項に従ってに特に重要なは、同じ HYPER-V ホスト上の複数の HYPER-V 仮想マシンを実行している場合[ネットワーク最適化](../technical-guides/network-optimizations.md)します。</span><span class="sxs-lookup"><span data-stu-id="cebcd-121">When running multiple Hyper-V virtual machines on the same Hyper-V host it is of particular importance to follow recommendations in the “Configure Hyper-V Virtual Machines that are Running on the same Hyper-V host computer to use a Private Virtual Network” section of [Network Optimizations](../technical-guides/network-optimizations.md).</span></span>  
  
   <span data-ttu-id="cebcd-122">ステートレスな性質のため[!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)]追加[!INCLUDE[btsSQLServerNoVersion](../includes/btssqlservernoversion-md.md)]仮想マシンできます簡単に環境に追加して、スケール アウトを行い、システムの全体的なパフォーマンスを向上するためにします。</span><span class="sxs-lookup"><span data-stu-id="cebcd-122">Because of the stateless nature of [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)], additional [!INCLUDE[btsSQLServerNoVersion](../includes/btssqlservernoversion-md.md)] virtual machines can be easily added to the environment as required to provide scale out and increase the overall performance of the system.</span></span>  
  
   <span data-ttu-id="cebcd-123">次の図は、テストするさまざまなプラットフォーム上の SQL Server のパフォーマンスを示しています。</span><span class="sxs-lookup"><span data-stu-id="cebcd-123">The graphic below illustrates the performance of SQL Server on the various test platforms:</span></span>  
  
   <span data-ttu-id="cebcd-124">![SQL 主要業績評価指標](../technical-guides/media/sqlkpi.gif "SQLKPI")</span><span class="sxs-lookup"><span data-stu-id="cebcd-124">![SQL Key Performance Indicators](../technical-guides/media/sqlkpi.gif "SQLKPI")</span></span>  
   <span data-ttu-id="cebcd-125">SQL 主要業績評価指標</span><span class="sxs-lookup"><span data-stu-id="cebcd-125">SQL Key Performance Indicators</span></span>  
  
   <span data-ttu-id="cebcd-126">次の表は、収集された KPI の各構成の相対的なパフォーマンスを示しています。</span><span class="sxs-lookup"><span data-stu-id="cebcd-126">The table below illustrates the relative performance of the collected KPI’s for each configuration.</span></span> <span data-ttu-id="cebcd-127">各結果セットは KPI のベースライン構成の割合として計算されます。</span><span class="sxs-lookup"><span data-stu-id="cebcd-127">Each result set is calculated as a percentage of the Baseline configuration KPI</span></span>  
  
|<span data-ttu-id="cebcd-128">KPI (KPI)</span><span class="sxs-lookup"><span data-stu-id="cebcd-128">KPI</span></span>|<span data-ttu-id="cebcd-129">仮想 BizTalk/物理 SQL</span><span class="sxs-lookup"><span data-stu-id="cebcd-129">Virtual BizTalk/Physical SQL</span></span>|<span data-ttu-id="cebcd-130">個別のホスト上の仮想 BizTalk/仮想 SQL</span><span class="sxs-lookup"><span data-stu-id="cebcd-130">Virtual BizTalk/Virtual SQL on separate Hosts</span></span>|<span data-ttu-id="cebcd-131">統合環境で仮想 BizTalk/仮想 SQL</span><span class="sxs-lookup"><span data-stu-id="cebcd-131">Virtual BizTalk/Virtual SQL on Consolidated environment</span></span>|  
|---------|-----------------------------------|----------------------------------------------------|--------------------------------------------------------------|  
|<span data-ttu-id="cebcd-132">\SQL\Processor(_Total)\\プロセッサ時間の割合</span><span class="sxs-lookup"><span data-stu-id="cebcd-132">\SQL\Processor(_Total)\\% Processor Time</span></span>|<span data-ttu-id="cebcd-133">97.7%</span><span class="sxs-lookup"><span data-stu-id="cebcd-133">97.7%</span></span>|<span data-ttu-id="cebcd-134">98.4%</span><span class="sxs-lookup"><span data-stu-id="cebcd-134">98.4%</span></span>|<span data-ttu-id="cebcd-135">99.9%</span><span class="sxs-lookup"><span data-stu-id="cebcd-135">99.9%</span></span>|  
|<span data-ttu-id="cebcd-136">\SQL server: SQL Statistics\Batch 要求/秒</span><span class="sxs-lookup"><span data-stu-id="cebcd-136">\SQL Server:SQL Statistics\Batch Requests/sec</span></span>|<span data-ttu-id="cebcd-137">97.1%</span><span class="sxs-lookup"><span data-stu-id="cebcd-137">97.1%</span></span>|<span data-ttu-id="cebcd-138">83.3%</span><span class="sxs-lookup"><span data-stu-id="cebcd-138">83.3%</span></span>|<span data-ttu-id="cebcd-139">71.2%</span><span class="sxs-lookup"><span data-stu-id="cebcd-139">71.2%</span></span>|  
  
 <span data-ttu-id="cebcd-140">ディスク I/O パフォーマンスを評価する方法の詳細については、次を参照してください。、**ディスク I/O パフォーマンスを測定する**」の「[チェックリスト。HYPER-V のパフォーマンスを測定する](../technical-guides/checklist-measuring-performance-on-hyper-v.md)します。</span><span class="sxs-lookup"><span data-stu-id="cebcd-140">For more information about how to evaluate Disk I/O performance, see the **Measuring Disk I/O Performance** section of the topic [Checklist: Measuring Performance on Hyper-V](../technical-guides/checklist-measuring-performance-on-hyper-v.md).</span></span>  
  
 <span data-ttu-id="cebcd-141">SQL Server 2008 を HYPER-V 環境で実行する場合のベスト プラクティスの詳細については、「を実行している SQL Server 2008 in a HYPER-V 環境 – ベスト プラクティスとパフォーマンスに関する推奨事項」ダウンロードできるホワイト ペーパーを参照してください[ 。 http://go.microsoft.com/fwlink/?LinkId=144622](http://go.microsoft.com/fwlink/?LinkId=144622).</span><span class="sxs-lookup"><span data-stu-id="cebcd-141">For more information about Best Practices when running SQL Server 2008 in a Hyper-V environment, see the whitepaper “Running SQL Server 2008 in a Hyper-V Environment – Best Practices and Performance Recommendations” available for download at [http://go.microsoft.com/fwlink/?LinkId=144622](http://go.microsoft.com/fwlink/?LinkId=144622).</span></span>