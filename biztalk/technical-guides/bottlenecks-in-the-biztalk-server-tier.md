---
title: BizTalk Server 層のボトルネック |Microsoft Docs
ms.custom: ''
ms.date: 06/08/2017
ms.prod: biztalk-server
ms.reviewer: ''
ms.suite: ''
ms.tgt_pltfrm: ''
ms.topic: article
ms.assetid: 3ad36897-4e4a-43b9-9cb7-0bf22bd954fb
caps.latest.revision: 12
author: MandiOhlinger
ms.author: mandia
manager: anneta
ms.openlocfilehash: 8f8c7b4366390c040d7a4a34b473bdf4c3cfd352
ms.sourcegitcommit: 266308ec5c6a9d8d80ff298ee6051b4843c5d626
ms.translationtype: MT
ms.contentlocale: ja-JP
ms.lasthandoff: 06/27/2018
ms.locfileid: "37004947"
---
# <a name="bottlenecks-in-the-biztalk-server-tier"></a><span data-ttu-id="c8780-102">BizTalk Server 層のボトルネック</span><span class="sxs-lookup"><span data-stu-id="c8780-102">Bottlenecks in the BizTalk Server Tier</span></span>
<span data-ttu-id="c8780-103">BizTalk 層は以下の機能領域に分割できます。</span><span class="sxs-lookup"><span data-stu-id="c8780-103">The BizTalk tier can be divided into the following functional areas:</span></span>  
  
- <span data-ttu-id="c8780-104">受信</span><span class="sxs-lookup"><span data-stu-id="c8780-104">Receiving</span></span>  
  
- <span data-ttu-id="c8780-105">処理</span><span class="sxs-lookup"><span data-stu-id="c8780-105">Processing</span></span>  
  
- <span data-ttu-id="c8780-106">送信</span><span class="sxs-lookup"><span data-stu-id="c8780-106">Transmitting</span></span>  
  
- <span data-ttu-id="c8780-107">Tracking</span><span class="sxs-lookup"><span data-stu-id="c8780-107">Tracking</span></span>  
  
- <span data-ttu-id="c8780-108">その他</span><span class="sxs-lookup"><span data-stu-id="c8780-108">Other</span></span>  
  
  <span data-ttu-id="c8780-109">これらの領域、システム リソース (CPU、メモリ、およびディスク) が飽和状態にする、プラットフォームをスケール アップしてサーバーをアップグレードする表示、またはアプリケーションの特性に基づいてアウトします。</span><span class="sxs-lookup"><span data-stu-id="c8780-109">For these areas, if the system resources (CPU, memory, and disk) appear to be saturated, upgrade the server by scaling the platform up or out based on the characteristics of your application.</span></span> <span data-ttu-id="c8780-110">システム リソースが飽和状態になっていない場合は、ここで説明する手順を実行します。</span><span class="sxs-lookup"><span data-stu-id="c8780-110">If the system resources are not saturated, perform the steps described in this section.</span></span>  
  
## <a name="bottlenecks-in-the-receive-location"></a><span data-ttu-id="c8780-111">受信場所のボトルネック</span><span class="sxs-lookup"><span data-stu-id="c8780-111">Bottlenecks in the receive location</span></span>  
 <span data-ttu-id="c8780-112">メッセージが受信場所ビルドする場合 (たとえば、ファイル受信フォルダーが大きく)、これは、システムがデータを十分に高速、着信負荷を吸収することができないことを示します。</span><span class="sxs-lookup"><span data-stu-id="c8780-112">If messages build up at the receive location (for example, file receive folder grows large), this indicates that the system is unable to absorb data fast enough to keep up with the incoming load.</span></span> <span data-ttu-id="c8780-113">これは、内部の調整のため。</span><span class="sxs-lookup"><span data-stu-id="c8780-113">This is due to internal throttling.</span></span> <span data-ttu-id="c8780-114">BizTalk Server が受信速度を削減する、サブスクライバーができる場合は、データを処理する原因となるための十分なバックログの蓄積、データベース テーブル内の高速です。</span><span class="sxs-lookup"><span data-stu-id="c8780-114">That is, BizTalk Server reduces the receiving rate if the subscribers are unable to process data fast enough causing backlog buildup in the database tables.</span></span> <span data-ttu-id="c8780-115">ボトルネックの原因がハードウェアの制限である場合は、スケール アップしてください。</span><span class="sxs-lookup"><span data-stu-id="c8780-115">If the bottleneck is caused by hardware limitations, try scaling up.</span></span> <span data-ttu-id="c8780-116">スケール アップの詳細については、BizTalk Server 2010 のドキュメントでは、次のトピックを参照してください。</span><span class="sxs-lookup"><span data-stu-id="c8780-116">For more information about scaling up, see the following topics in the BizTalk Server 2010 documentation:</span></span>  
  
- <span data-ttu-id="c8780-117">[BizTalk Server 層のスケール アップ](http://go.microsoft.com/fwlink/?LinkId=158073)(http://go.microsoft.com/fwlink/?LinkId=158073)します。</span><span class="sxs-lookup"><span data-stu-id="c8780-117">[Scaling Up the BizTalk Server Tier](http://go.microsoft.com/fwlink/?LinkId=158073) (http://go.microsoft.com/fwlink/?LinkId=158073).</span></span>  
  
- <span data-ttu-id="c8780-118">[SQL Server 層のスケール アップ](http://go.microsoft.com/fwlink/?LinkId=158077)(http://go.microsoft.com/fwlink/?LinkId=158077)します。</span><span class="sxs-lookup"><span data-stu-id="c8780-118">[Scaling Up the SQL Server Tier](http://go.microsoft.com/fwlink/?LinkId=158077) (http://go.microsoft.com/fwlink/?LinkId=158077).</span></span>  
  
  <span data-ttu-id="c8780-119">受信ハンドラーにマップされているホストにホスト インスタンス (サーバー) を追加してスケール アウトすることもできます。</span><span class="sxs-lookup"><span data-stu-id="c8780-119">It is also possible to scale out by adding a host instance (server) to the host mapped to the receive handler.</span></span> <span data-ttu-id="c8780-120">スケール アウトの詳細については、BizTalk Server 2010 のドキュメントでは、次のトピックを参照してください。</span><span class="sxs-lookup"><span data-stu-id="c8780-120">For more information about scaling out, see the following topics in the BizTalk Server 2010 documentation:</span></span>  
  
- <span data-ttu-id="c8780-121">[BizTalk Server 層のスケール アウト](http://go.microsoft.com/fwlink/?LinkId=158076)(http://go.microsoft.com/fwlink/?LinkId=158076)します。</span><span class="sxs-lookup"><span data-stu-id="c8780-121">[Scaling Out the BizTalk Server Tier](http://go.microsoft.com/fwlink/?LinkId=158076) (http://go.microsoft.com/fwlink/?LinkId=158076).</span></span>  
  
- <span data-ttu-id="c8780-122">[SQL Server 層のスケール アウト](http://go.microsoft.com/fwlink/?LinkId=158075)(http://go.microsoft.com/fwlink/?LinkId=158075)します。</span><span class="sxs-lookup"><span data-stu-id="c8780-122">[Scaling Out the SQL Server Tier](http://go.microsoft.com/fwlink/?LinkId=158075) (http://go.microsoft.com/fwlink/?LinkId=158075).</span></span>  
  
  <span data-ttu-id="c8780-123">Perfmon を使用して、システム上のリソース使用状況を監視します。</span><span class="sxs-lookup"><span data-stu-id="c8780-123">Use Perfmon to monitor the resource use on the system.</span></span> <span data-ttu-id="c8780-124">ボトルネックの原因が外部の受信場所でないことを確認することが重要です。</span><span class="sxs-lookup"><span data-stu-id="c8780-124">It is important to confirm that the external receive location is not the cause of the bottleneck.</span></span> <span data-ttu-id="c8780-125">たとえば、高いディスク I/O のため、リモート ファイル共有が飽和状態に、リモートの発信キューをホストするサーバーが飽和状態にならない、または HTTP の負荷を生成するために使用するクライアントは、スレッドで不足していないかどうかを確認します。</span><span class="sxs-lookup"><span data-stu-id="c8780-125">For example, confirm whether the remote file share is saturated due to high disk I/O, the server hosting the remote outgoing queue is not saturated, or the client used to generate HTTP load is not starved on threads.</span></span>  
  
## <a name="processing-bottlenecks"></a><span data-ttu-id="c8780-126">処理のボトルネック</span><span class="sxs-lookup"><span data-stu-id="c8780-126">Processing bottlenecks</span></span>  
 <span data-ttu-id="c8780-127">Host Queue-Length のパフォーマンス カウンターが上昇している場合、オーケストレーションが十分に高速に完了しないことを示します。</span><span class="sxs-lookup"><span data-stu-id="c8780-127">If the Host Queue – Length performance counter is climbing, it indicates that the orchestrations are not completing fast enough.</span></span> <span data-ttu-id="c8780-128">詳細については、このトピックの「Perfmon カウンター表を参照してください。</span><span class="sxs-lookup"><span data-stu-id="c8780-128">For more information, see the Perfmon counter table in this topic.</span></span> <span data-ttu-id="c8780-129">この原因としては、メモリの競合や CPU の飽和が考えられます。</span><span class="sxs-lookup"><span data-stu-id="c8780-129">This could be due to memory contention or CPU saturation.</span></span>  
  
 <span data-ttu-id="c8780-130">オーケストレーション サーバーがボトルネックになっている場合は、Perfmon を使用して原因を特定します。</span><span class="sxs-lookup"><span data-stu-id="c8780-130">If the orchestration servers are the bottleneck, use Perfmon to identify the source.</span></span>  
  
 <span data-ttu-id="c8780-131">サーバーが CPU の制約を受けている場合は、以下の対策を検討します。</span><span class="sxs-lookup"><span data-stu-id="c8780-131">If the server is CPU bound, consider the following:</span></span>  
  
-   <span data-ttu-id="c8780-132">ワークフローが複雑な場合、オーケストレーションを複数の小さなオーケストレーションに分割することを検討してください。</span><span class="sxs-lookup"><span data-stu-id="c8780-132">If the workflow is complex, consider splitting the orchestration into multiple smaller orchestrations</span></span>  
  
    > [!NOTE]  
    >  <span data-ttu-id="c8780-133">オーケストレーションを複数のワークフローに分割すると、待機時間が増加したり複雑さが増したりする可能性があります。</span><span class="sxs-lookup"><span data-stu-id="c8780-133">Splitting an orchestration into multiple workflows can cause additional latency and add complexity.</span></span> <span data-ttu-id="c8780-134">複数のワークフロー可能性もあります増加に発行され、BizTalkMsgBoxDb から送出されるメッセージの数で、データベースの追加の負荷が増大します。</span><span class="sxs-lookup"><span data-stu-id="c8780-134">Multiple workflows can also cause an increase in the number of messages published to and consumed from the BizTalkMsgBoxDb, putting additional pressure on the database.</span></span>  
  
-   <span data-ttu-id="c8780-135">複雑なマップを使用する場合は、受信/送信ポートに移動できるかどうかを検討してください。</span><span class="sxs-lookup"><span data-stu-id="c8780-135">If you use complex maps, consider whether they can be moved to the Receive/Send ports.</span></span> <span data-ttu-id="c8780-136">どのポートがある追加の帯域幅を確認してください。</span><span class="sxs-lookup"><span data-stu-id="c8780-136">Be sure to verify which ports have additional bandwidth.</span></span>  
  
-   <span data-ttu-id="c8780-137">ハードウェアのスケール アップまたは、追加の処理サーバーを構成することでスケール アウトを検討してください。</span><span class="sxs-lookup"><span data-stu-id="c8780-137">Consider scaling up the hardware or scaling out by configuring an additional processing server.</span></span>  
  
## <a name="transmitting-bottlenecks"></a><span data-ttu-id="c8780-138">送信のボトルネック</span><span class="sxs-lookup"><span data-stu-id="c8780-138">Transmitting bottlenecks</span></span>  
 <span data-ttu-id="c8780-139">スケール アップを検討してください (たとえば、ディスク、メモリ、または CPU)、リソースに送信アダプターが飽和状態にサーバーのホスト場合、サーバーまたは追加をスケール アウトは、ホスト サーバーに送信します。</span><span class="sxs-lookup"><span data-stu-id="c8780-139">If the server hosting the send adapters is saturated on resources (for example, disk, memory, or CPU), consider scaling-up the server or scaling-out to additional send host servers.</span></span> <span data-ttu-id="c8780-140">送信層がボトルネックになる場合、送信先 (BizTalk の外部) でのデータの受信が遅れている可能性もあります。</span><span class="sxs-lookup"><span data-stu-id="c8780-140">The sending tier could become the bottleneck if the destination (external to BizTalk) is unable to receive data fast enough.</span></span> <span data-ttu-id="c8780-141">送信先でのデータの受信が遅れると、メッセージ ボックス データベース (Application SendHostQ) にメッセージが蓄積されます。</span><span class="sxs-lookup"><span data-stu-id="c8780-141">This will cause messages to buildup in the MessageBox database (Application SendHostQ).</span></span>  
  
 <span data-ttu-id="c8780-142">すべてのエンドポイントが、トポロジのスコープ内にある場合は、先に原因を分離します。</span><span class="sxs-lookup"><span data-stu-id="c8780-142">If all the endpoints are within the scope of the topology, isolate the cause at the destination.</span></span> <span data-ttu-id="c8780-143">たとえば、負荷を受信する HTTP の場所が最適に構成されているかどうかを決定します。</span><span class="sxs-lookup"><span data-stu-id="c8780-143">For example, determine if the HTTP location is optimally configured to receive load.</span></span> <span data-ttu-id="c8780-144">必要でない場合は、スケール アウトを検討します。また、過剰な出力メッセージが BizTalk によって配信されるため、変換先が増加しているかどうかを決定します。</span><span class="sxs-lookup"><span data-stu-id="c8780-144">If not, consider scaling out. Also determine if the destination is growing due to excessive output messages delivered by BizTalk.</span></span> <span data-ttu-id="c8780-145">場合は、アーカイブおよび送信先のメッセージを削除するメンテナンス プランを必要があります。</span><span class="sxs-lookup"><span data-stu-id="c8780-145">If yes, you might need a maintenance plan to archive and purge the destination messages.</span></span> <span data-ttu-id="c8780-146">BizTalk サービスのデータをディスク ドライブにコミットするための機能深刻な影響を変換先のフォルダー内のファイル数が多いことができます。</span><span class="sxs-lookup"><span data-stu-id="c8780-146">Large numbers of files in a destination folder can severely impact the ability of the BizTalk service to commit data to the disk drive.</span></span>  
  
## <a name="tracking-bottlenecks"></a><span data-ttu-id="c8780-147">追跡のボトルネック</span><span class="sxs-lookup"><span data-stu-id="c8780-147">Tracking bottlenecks</span></span>  
 <span data-ttu-id="c8780-148">追跡ホスト インスタンスは、ビジネス アクティビティ監視 (BAM) および正常性と動作状況の追跡 (HAT) データをメッセージ ボックス データベース (TrackingData テーブル) から BizTalk 追跡や BAM プライマリ インポート データベースのテーブルを移動します。</span><span class="sxs-lookup"><span data-stu-id="c8780-148">The Tracking host instance is responsible for moving the Business Activity Monitoring (BAM) and Health and Activity Tracking (HAT) data from the MessageBox database (TrackingData table) to the BizTalk Tracking and/or BAM Primary Import database tables.</span></span> <span data-ttu-id="c8780-149">追跡ホスト インスタンスで複数のメッセージ ボックス データベースが構成されている場合はメッセージ ボックス データベースごとの 4 つのスレッドを使用します。</span><span class="sxs-lookup"><span data-stu-id="c8780-149">If multiple MessageBox databases are configured, the tracking host instance uses four threads per MessageBox database.</span></span>  
  
 <span data-ttu-id="c8780-150">追跡ホスト インスタンスが CPU バウンドであることができます。</span><span class="sxs-lookup"><span data-stu-id="c8780-150">It is possible that the Tracking host instance is CPU bound.</span></span> <span data-ttu-id="c8780-151">場合は、サーバーをスケール アップを検討するかホストの追跡を有効になっていると、追加のサーバーを構成することでスケール アウトします。</span><span class="sxs-lookup"><span data-stu-id="c8780-151">If it is, consider scaling-up the server or scale-out by configuring an additional server with Host Tracking enabled.</span></span> <span data-ttu-id="c8780-152">複数のホスト インスタンスは負荷が自動的に構成された複数のメッセージ ボックス データベースです。</span><span class="sxs-lookup"><span data-stu-id="c8780-152">The multiple host instances will automatically load balance for the multiple MessageBox databases configured.</span></span> <span data-ttu-id="c8780-153">スケーリングの詳細については、トピックを参照してください。 [、ソリューションのスケーリング](http://go.microsoft.com/fwlink/?LinkId=158078)(http://go.microsoft.com/fwlink/?LinkId=158078)します。</span><span class="sxs-lookup"><span data-stu-id="c8780-153">For more information about scaling, see the topic [Scaling Your Solutions](http://go.microsoft.com/fwlink/?LinkId=158078) (http://go.microsoft.com/fwlink/?LinkId=158078).</span></span>  
  
 <span data-ttu-id="c8780-154">場合は、メッセージ ボックス データベースの TrackingData テーブルが大きく、多くのように構成されている、BizTalk の追跡と BAM プライマリのサイズが増加、BizTalk の追跡と BAM プライマリ インポート データベースのデータ管理ジョブが実行されていないため、します。データベースをインポートします。</span><span class="sxs-lookup"><span data-stu-id="c8780-154">If the TrackingData table in the MessageBox database grows large, it is usually because the data maintenance jobs on the BizTalk Tracking and/or BAM Primary Import database are not running as configured, causing growth of the BizTalk Tracking and/or BAM Primary Import databases.</span></span> <span data-ttu-id="c8780-155">これらのデータベースが大きくなりすぎないようにした後、TrackingData テーブルにデータを挿入する追跡ホストの機能に悪影響を及ぼすことができます。</span><span class="sxs-lookup"><span data-stu-id="c8780-155">After these databases grow too large it can have a negative impact on the ability of the Tracking host to insert data into the TrackingData table.</span></span> <span data-ttu-id="c8780-156">これにより、メッセージ ボックス データベースのテーブルにバックアップするデータを追跡します。</span><span class="sxs-lookup"><span data-stu-id="c8780-156">This causes tracked data to back up in the MessageBox database tables.</span></span> <span data-ttu-id="c8780-157">TrackingData テーブルの増加により、開始するために調整が発生します。</span><span class="sxs-lookup"><span data-stu-id="c8780-157">The growth of the TrackingData table cause throttling to start.</span></span>  
  
 <span data-ttu-id="c8780-158">のみ、アプリケーションでは、これが記録されたデータ量を削減し、追跡のボトルネックのリスクを軽減に必要な最小の追跡を有効にする必要があります。</span><span class="sxs-lookup"><span data-stu-id="c8780-158">You should only enable the minimum tracking required for your application, as this will reduce the amount of data logged and lower the risk of tracking bottlenecks.</span></span> <span data-ttu-id="c8780-159">オーケストレーションおよび送信/受信ポートなどの個々 の項目の追跡設定を無効にする方法については、次を参照してください。[追跡を無効にする方法](http://go.microsoft.com/fwlink/?LinkId=160064)(http://go.microsoft.com/fwlink/?LinkId=160064)します。</span><span class="sxs-lookup"><span data-stu-id="c8780-159">For information about disabling tracking settings for individual items such as orchestrations and send/receive ports, see [How to Disable Tracking](http://go.microsoft.com/fwlink/?LinkId=160064) (http://go.microsoft.com/fwlink/?LinkId=160064).</span></span>  
  
## <a name="other"></a><span data-ttu-id="c8780-160">その他</span><span class="sxs-lookup"><span data-stu-id="c8780-160">Other</span></span>  
 <span data-ttu-id="c8780-161">さまざまな機能がそれぞれ専用の分離ホスト インスタンスで実行されるように展開トポロジを構成します。</span><span class="sxs-lookup"><span data-stu-id="c8780-161">Configure the deployment topology such that different functionality runs in dedicated isolated host instances.</span></span> <span data-ttu-id="c8780-162">このように各ホスト インスタンスは、独自の (たとえば、32 ビット システム、2 GB の仮想メモリ アドレス空間、ハンドル、スレッド) 上のリソース セットを取得します。</span><span class="sxs-lookup"><span data-stu-id="c8780-162">This way each host instance gets its own set of resources (for example, on a 32-bit system, 2GB virtual memory address space, handles, threads).</span></span> <span data-ttu-id="c8780-163">サーバーが十分な CPU ヘッドルームと複数のホスト インスタンスをホストするためのメモリが、同じ物理コンピューターで実行するように構成することができます。</span><span class="sxs-lookup"><span data-stu-id="c8780-163">If the server is has sufficient CPU headroom and memory to host multiple host instances, they can be configured to run on the same physical computer.</span></span> <span data-ttu-id="c8780-164">必要でない場合は、専用のサーバーに機能を移動することによってスケール アウトを検討します。</span><span class="sxs-lookup"><span data-stu-id="c8780-164">If not, consider scaling out by moving the functionality to dedicated servers.</span></span> <span data-ttu-id="c8780-165">同じ機能を複数のサーバーで実行すると、高可用性の構成を実現することもできます。</span><span class="sxs-lookup"><span data-stu-id="c8780-165">Running the same functionality on multiple servers also serves to provide a highly available configuration.</span></span>  
  
## <a name="biztalk-system-performance-counters"></a><span data-ttu-id="c8780-166">BizTalk システム パフォーマンス カウンター</span><span class="sxs-lookup"><span data-stu-id="c8780-166">BizTalk system performance counters</span></span>  
  
|<span data-ttu-id="c8780-167">オブジェクト</span><span class="sxs-lookup"><span data-stu-id="c8780-167">Object</span></span>|<span data-ttu-id="c8780-168">Instance</span><span class="sxs-lookup"><span data-stu-id="c8780-168">Instance</span></span>|<span data-ttu-id="c8780-169">カウンター</span><span class="sxs-lookup"><span data-stu-id="c8780-169">Counter</span></span>|<span data-ttu-id="c8780-170">監視の目的</span><span class="sxs-lookup"><span data-stu-id="c8780-170">Monitoring Purpose</span></span>|  
|------------|--------------|-------------|------------------------|  
|<span data-ttu-id="c8780-171">プロセッサ</span><span class="sxs-lookup"><span data-stu-id="c8780-171">Processor</span></span>|<span data-ttu-id="c8780-172">_Total</span><span class="sxs-lookup"><span data-stu-id="c8780-172">_Total</span></span>|<span data-ttu-id="c8780-173">[% プロセッサ時間]</span><span class="sxs-lookup"><span data-stu-id="c8780-173">% Processor Time</span></span>|<span data-ttu-id="c8780-174">リソースの競合</span><span class="sxs-lookup"><span data-stu-id="c8780-174">Resource Contention</span></span>|  
|<span data-ttu-id="c8780-175">Process</span><span class="sxs-lookup"><span data-stu-id="c8780-175">Process</span></span>|<span data-ttu-id="c8780-176">BTSNTSvc</span><span class="sxs-lookup"><span data-stu-id="c8780-176">BTSNTSvc</span></span>|<span data-ttu-id="c8780-177">Virtual Bytes</span><span class="sxs-lookup"><span data-stu-id="c8780-177">Virtual Bytes</span></span>|<span data-ttu-id="c8780-178">メモリ リーク/メモリの肥大化</span><span class="sxs-lookup"><span data-stu-id="c8780-178">Memory Leak/Bloat</span></span>|  
|<span data-ttu-id="c8780-179">Process</span><span class="sxs-lookup"><span data-stu-id="c8780-179">Process</span></span>|<span data-ttu-id="c8780-180">BTSNTSvc</span><span class="sxs-lookup"><span data-stu-id="c8780-180">BTSNTSvc</span></span>|<span data-ttu-id="c8780-181">Private Bytes</span><span class="sxs-lookup"><span data-stu-id="c8780-181">Private Bytes</span></span>|<span data-ttu-id="c8780-182">メモリ リーク/メモリの肥大化</span><span class="sxs-lookup"><span data-stu-id="c8780-182">Memory Leak/Bloat</span></span>|  
|<span data-ttu-id="c8780-183">Process</span><span class="sxs-lookup"><span data-stu-id="c8780-183">Process</span></span>|<span data-ttu-id="c8780-184">BTSNTSvc</span><span class="sxs-lookup"><span data-stu-id="c8780-184">BTSNTSvc</span></span>|<span data-ttu-id="c8780-185">Handle Count</span><span class="sxs-lookup"><span data-stu-id="c8780-185">Handle Count</span></span>|<span data-ttu-id="c8780-186">リソースの競合</span><span class="sxs-lookup"><span data-stu-id="c8780-186">Resource Contention</span></span>|  
|<span data-ttu-id="c8780-187">Process</span><span class="sxs-lookup"><span data-stu-id="c8780-187">Process</span></span>|<span data-ttu-id="c8780-188">BTSNTSvc</span><span class="sxs-lookup"><span data-stu-id="c8780-188">BTSNTSvc</span></span>|<span data-ttu-id="c8780-189">スレッド数</span><span class="sxs-lookup"><span data-stu-id="c8780-189">Thread Count</span></span>|<span data-ttu-id="c8780-190">リソースの競合</span><span class="sxs-lookup"><span data-stu-id="c8780-190">Resource Contention</span></span>|  
|<span data-ttu-id="c8780-191">Physical Disk</span><span class="sxs-lookup"><span data-stu-id="c8780-191">Physical Disk</span></span>|<span data-ttu-id="c8780-192">インスタンス (_i)</span><span class="sxs-lookup"><span data-stu-id="c8780-192">_Instance</span></span>|<span data-ttu-id="c8780-193">% Idle Time</span><span class="sxs-lookup"><span data-stu-id="c8780-193">% Idle Time</span></span>|<span data-ttu-id="c8780-194">リソースの競合</span><span class="sxs-lookup"><span data-stu-id="c8780-194">Resource Contention</span></span>|  
|<span data-ttu-id="c8780-195">Physical Disk</span><span class="sxs-lookup"><span data-stu-id="c8780-195">Physical Disk</span></span>|<span data-ttu-id="c8780-196">インスタンス (_i)</span><span class="sxs-lookup"><span data-stu-id="c8780-196">_Instance</span></span>|<span data-ttu-id="c8780-197">Avg. Disk Queue Length</span><span class="sxs-lookup"><span data-stu-id="c8780-197">Average Disk Queue Length</span></span>|<span data-ttu-id="c8780-198">リソースの競合</span><span class="sxs-lookup"><span data-stu-id="c8780-198">Resource Contention</span></span>|  
  
### <a name="cpu-contention"></a><span data-ttu-id="c8780-199">CPU の競合</span><span class="sxs-lookup"><span data-stu-id="c8780-199">CPU contention</span></span>  
 <span data-ttu-id="c8780-200">プロセッサが飽和状態になっている場合は、送信とオーケストレーションからの受信を分離することで、アプリケーションをフラグメントことができます。</span><span class="sxs-lookup"><span data-stu-id="c8780-200">If the processor is saturated, you can fragment the application by separating the receiving from the sending and orchestration.</span></span> <span data-ttu-id="c8780-201">これを行うには、個別のホストを作成、特定の機能 (受信/送信/オーケストレーション、追跡) をホストにマップおよびこれら個別のホストに専用のサーバーを追加します。</span><span class="sxs-lookup"><span data-stu-id="c8780-201">To do this, create separate hosts, map the hosts to specific functionality (receive/send/orchestrations/tracking) and add dedicated servers to these separate hosts.</span></span> <span data-ttu-id="c8780-202">オーケストレーションの機能は、多くの場合、CPU 負荷の高いです。</span><span class="sxs-lookup"><span data-stu-id="c8780-202">Orchestration functionality is often CPU-intensive.</span></span> <span data-ttu-id="c8780-203">オーケストレーションが別の専用サーバーで実行するためにシステムを構成する場合は、このシステム全体のスループットの向上に役立ちます。</span><span class="sxs-lookup"><span data-stu-id="c8780-203">If you configure the system so the orchestrations execute on a separate dedicated server, this can help improve overall system throughput.</span></span>  
  
 <span data-ttu-id="c8780-204">複数のオーケストレーションが展開されている場合は、異なる専用オーケストレーション ホストに参加させることができます。</span><span class="sxs-lookup"><span data-stu-id="c8780-204">If multiple orchestrations are deployed, you can enlist them to different dedicated orchestration hosts.</span></span> <span data-ttu-id="c8780-205">専用オーケストレーション ホストに別々 の物理サーバーのマッピングにより、別のオーケストレーションは分離され、同じ物理アドレス空間または同じサーバー上の共有リソースに対する競合しません。</span><span class="sxs-lookup"><span data-stu-id="c8780-205">Mapping different physical servers to the dedicated orchestration hosts ensures that the different orchestrations are isolated and do not contend for shared resources either in the same physical address space or on the same server.</span></span>  
  
 <span data-ttu-id="c8780-206">使用されていないホスト インスタンスを停止します。</span><span class="sxs-lookup"><span data-stu-id="c8780-206">Stop unused host instances.</span></span> <span data-ttu-id="c8780-207">使用されていないホスト インスタンスには、定期的に処理するメッセージをメッセージ ボックスをチェックして CPU およびメモリ リソースの競合が発生ことができます。</span><span class="sxs-lookup"><span data-stu-id="c8780-207">Unused host instances can compete for CPU and memory resources by regularly checking the MessageBox for messages to process.</span></span> <span data-ttu-id="c8780-208">さらに、未使用の停止は、場所、送信ポート、およびオーケストレーションを受信します。</span><span class="sxs-lookup"><span data-stu-id="c8780-208">Additionally, stop unused receive locations, send ports, and orchestrations.</span></span>  
  
### <a name="spool-table-growth"></a><span data-ttu-id="c8780-209">スプール テーブルの拡張</span><span class="sxs-lookup"><span data-stu-id="c8780-209">Spool table growth</span></span>  
 <span data-ttu-id="c8780-210">下流のボトルネックやリソースの競合には、spool のサイズが過度に増加し始めるし、全体的なパフォーマンスが低下する可能性があります。</span><span class="sxs-lookup"><span data-stu-id="c8780-210">Downstream bottlenecks and/or resource contention can cause the spool to start growing excessively and reduce overall performance.</span></span> <span data-ttu-id="c8780-211">詳細についてを参照してください「スプール テーブルの増大」[メッセージ ボックス データベース 1 のボトルネックを特定する方法](../technical-guides/how-to-identify-bottlenecks-in-the-messagebox-database1.md)します。</span><span class="sxs-lookup"><span data-stu-id="c8780-211">For more information, see “Spool Table Growth” in [How to Identify Bottlenecks in the MessageBox Database1](../technical-guides/how-to-identify-bottlenecks-in-the-messagebox-database1.md).</span></span>  
  
### <a name="memory-starvation"></a><span data-ttu-id="c8780-212">メモリ不足</span><span class="sxs-lookup"><span data-stu-id="c8780-212">Memory starvation</span></span>  
 <span data-ttu-id="c8780-213">高スループットのシナリオでは、システム メモリの需要が増大する場合があります。</span><span class="sxs-lookup"><span data-stu-id="c8780-213">High throughput scenarios can have increased demand on system memory.</span></span> <span data-ttu-id="c8780-214">使用できるメモリの量によって、32 ビット プロセスが制限されるため、各ホストが独自 2 GB のアドレス空間を受信するように、個別のホスト インスタンスに受信、処理、送信機能を分離することを推奨します。</span><span class="sxs-lookup"><span data-stu-id="c8780-214">Since a 32-bit process is limited by the amount of memory it can consume, it is recommended to separate the receive/process/send functionality into separate host instances such that each host receives its own 2GB address space.</span></span> <span data-ttu-id="c8780-215">さらに、複数のホスト インスタンスを同じ物理サーバーで実行している場合は、実際のメモリからデータをディスクにスワップを回避するために 4/8 GB のメモリをアップグレードできます。</span><span class="sxs-lookup"><span data-stu-id="c8780-215">In addition, if multiple host instances are running on the same physical server, you can upgrade to 4/8GB memory to avoid swapping data to disk from real memory.</span></span> <span data-ttu-id="c8780-216">長時間のオーケストレーションは、長い時間が割り当てられたメモリに保持できます。</span><span class="sxs-lookup"><span data-stu-id="c8780-216">Long running orchestrations can hold onto allocated memory longer.</span></span> <span data-ttu-id="c8780-217">これには、メモリが肥大化し、調整を開始することがあります。</span><span class="sxs-lookup"><span data-stu-id="c8780-217">This can cause memory bloat and throttling to start.</span></span> <span data-ttu-id="c8780-218">サイズの大きいメッセージは、高いメモリ消費量もあります。</span><span class="sxs-lookup"><span data-stu-id="c8780-218">Large messages can also cause high memory consumption.</span></span>  
  
 <span data-ttu-id="c8780-219">サイズの大きいメッセージを下げることによって処理されるときに発生するメモリの肥大化の問題の影響を軽減できます、**内部メッセージ キュー サイズ**と**CPU あたりのインプロセス メッセージ**特定ホスト用の値。</span><span class="sxs-lookup"><span data-stu-id="c8780-219">You can ease the memory bloat problem that occurs when large messages are processed by lowering the **Internal Message Queue Size** and **In-process Messages per CPU** values for the specific host.</span></span>  
  
> [!NOTE]  
>  <span data-ttu-id="c8780-220">待機時間が重要である場合は、変更**内部メッセージ キュー サイズ**と**CPU あたりのインプロセス メッセージ**ようにこのシステムのエンド ツー エンドの待機時間を増やすことができますに注意して行う必要があります。</span><span class="sxs-lookup"><span data-stu-id="c8780-220">If latency is a concern, changes to **Internal Message Queue Size** and **In-process Messages per CPU** should be made with caution as this may increase end-to-end latency of the system.</span></span>  
  
### <a name="disk-contention"></a><span data-ttu-id="c8780-221">ディスクの競合</span><span class="sxs-lookup"><span data-stu-id="c8780-221">Disk contention</span></span>  
 <span data-ttu-id="c8780-222">(たとえば、ファイルや MSMQ トランスポートの数が多い) で、ディスクが飽和状態になり場合、は、マルチ スピンドルへのアップグレードや、RAID 10 によるディスクのストライピングを検討してください。</span><span class="sxs-lookup"><span data-stu-id="c8780-222">If the disks are saturated (for example, with a large number of FILE/MSMQ transports), consider upgrading to multiple spindles and striping the disks with RAID 10.</span></span> <span data-ttu-id="c8780-223">さらに、ファイル トランスポートを使用することは、受信することを確認し、送信ファイルの数が 50,000 を超える拡張しないフォルダーに重要です。</span><span class="sxs-lookup"><span data-stu-id="c8780-223">In addition, whenever using the FILE transport, it is important to ensure that the receive and send folders do not grow larger than 50,000 files.</span></span>  
  
 <span data-ttu-id="c8780-224">受信フォルダーは、BizTalk Server システムに着信データを制限する場合は、大規模に拡張できます。</span><span class="sxs-lookup"><span data-stu-id="c8780-224">The receive folder can grow large if BizTalk Server throttles incoming data into the system.</span></span> <span data-ttu-id="c8780-225">追加のデータを記述する BizTalk Server の機能は影響しませんこのフォルダーに拡張できるように、送信フォルダーからデータを移動する重要です。</span><span class="sxs-lookup"><span data-stu-id="c8780-225">It is important to move data from the send folder so that growth in this folder does not impact the ability of BizTalk Server to write additional data.</span></span> <span data-ttu-id="c8780-226">非トランザクション MSMQ キューの場合、BizTalk Server のディスクの競合が減少するために、受信キューをリモートで作成することをお勧めします。</span><span class="sxs-lookup"><span data-stu-id="c8780-226">For non-transactional MSMQ queues, it is recommended to remotely create the receive queues so that disk contention is reduced on the BizTalk Server.</span></span>  
  
 <span data-ttu-id="c8780-227">リモートの非トランザクション キューの構成では、キューをホストするリモート サーバーがクラスター化できるように、高可用性も提供します。</span><span class="sxs-lookup"><span data-stu-id="c8780-227">The remote non-transactional queue configuration also provides high availability as the remote server hosting the queue can be clustered.</span></span>  
  
### <a name="other-system-resource-contention"></a><span data-ttu-id="c8780-228">その他のシステム リソースの競合</span><span class="sxs-lookup"><span data-stu-id="c8780-228">Other system resource contention</span></span>  
 <span data-ttu-id="c8780-229">、トランスポートの種類によっては、HTTP (MaxIOThreads、MaxWorkerThreads など) は、IIS などのシステム リソースを構成する必要があります。</span><span class="sxs-lookup"><span data-stu-id="c8780-229">Depending on the type of transport, it may be necessary to configure system resources like IIS for HTTP (for example, MaxIOThreads, MaxWorkerThreads).</span></span>  
  
 <span data-ttu-id="c8780-230">ASP.NET 2.0 と ASP.Net 4 で、 \<processModel autoConfig ="true"\> machine.config ファイルの設定は自動的に最適なパフォーマンスは、次の設定を構成します。</span><span class="sxs-lookup"><span data-stu-id="c8780-230">With ASP.NET 2.0 and ASP.Net 4, the \<processModel autoConfig="true"\> setting in the machine.config file will automatically configure the following settings for optimal performance:</span></span>  
  
- <span data-ttu-id="c8780-231">ワーカー スレッド最大数</span><span class="sxs-lookup"><span data-stu-id="c8780-231">Maximum Worker Threads</span></span>  
  
- <span data-ttu-id="c8780-232">最大 IO スレッドの数</span><span class="sxs-lookup"><span data-stu-id="c8780-232">Maximum IO Threads</span></span>  
  
- <span data-ttu-id="c8780-233">httpRuntime 要素の minFreeThreads 属性</span><span class="sxs-lookup"><span data-stu-id="c8780-233">minFreeThreads attribute of the httpRuntime element</span></span>  
  
- <span data-ttu-id="c8780-234">httpRuntime 要素の minLocalRequestFreeThreads 属性</span><span class="sxs-lookup"><span data-stu-id="c8780-234">minLocalRequestFreeThreads attribute of the httpRuntime element</span></span>  
  
- <span data-ttu-id="c8780-235">maxConnection 属性、 \<connectionManagement\>要素 (ネットワーク設定)</span><span class="sxs-lookup"><span data-stu-id="c8780-235">maxConnection attribute of the \<connectionManagement\> Element (Network Settings) element</span></span>  
  
  <span data-ttu-id="c8780-236">アダプターのパフォーマンスに影響するパラメーターを構成する方法の詳細については、次を参照してください。 [processModel 要素の構成設定を ASP.NET](http://go.microsoft.com/fwlink/?LinkId=158080) (http://go.microsoft.com/fwlink/?LinkId=158080)します。</span><span class="sxs-lookup"><span data-stu-id="c8780-236">For more information about configuring parameters that affect adapter performance, see [ASP.NET Configuration Settings for the processModel Element](http://go.microsoft.com/fwlink/?LinkId=158080) (http://go.microsoft.com/fwlink/?LinkId=158080).</span></span>  
  
  <span data-ttu-id="c8780-237">BizTalk Server アダプターに影響する構成設定の詳細については、次を参照してください。[構成パラメーターを アダプターのパフォーマンスの影響を与える](http://go.microsoft.com/fwlink/?LinkID=154200)(http://go.microsoft.com/fwlink/?LinkID=154200)します。</span><span class="sxs-lookup"><span data-stu-id="c8780-237">For more information about configuration settings that can affect BizTalk Server adapters, see [Configuration Parameters that Affect Adapter Performance](http://go.microsoft.com/fwlink/?LinkID=154200) (http://go.microsoft.com/fwlink/?LinkID=154200).</span></span>  
  
  <span data-ttu-id="c8780-238">BizTalk Server アプリケーションを最適化するだけでなく、同じサーバーで実行されている他の ASP.NET アプリケーション全体のパフォーマンスに影響することができます。</span><span class="sxs-lookup"><span data-stu-id="c8780-238">In addition to optimizing your BizTalk Server applications, other ASP.NET applications running on the same server can have an affect on overall performance.</span></span> <span data-ttu-id="c8780-239">すべてのシステム リソースの需要を削減する ASP.NET アプリケーションを最適化するために重要です。</span><span class="sxs-lookup"><span data-stu-id="c8780-239">It is important to optimize all of your ASP.NET applications to reduce demand on system resources.</span></span> <span data-ttu-id="c8780-240">詳細については、次を参照してください。 [ASP.NET パフォーマンス](http://go.microsoft.com/fwlink/?LinkId=158081)(http://go.microsoft.com/fwlink/?LinkId=158081)します。</span><span class="sxs-lookup"><span data-stu-id="c8780-240">For more information, see [ASP.NET Performance](http://go.microsoft.com/fwlink/?LinkId=158081) (http://go.microsoft.com/fwlink/?LinkId=158081).</span></span>  
  
  <span data-ttu-id="c8780-241">最大のパフォーマンスを構成する場合は、エンジン (メッセージ キュー、MQSeries)、アプリケーション、データベース、メッセージングなどの他の外部システムの最適化を検討 Active Directory、BizTalk ソリューション全体の一部であるなど。</span><span class="sxs-lookup"><span data-stu-id="c8780-241">When configuring for maximum performance, consider optimizing other external systems such as messaging engines (Message Queuing, MQSeries), applications, databases, Active Directory, etc. that are part of your overall BizTalk solution.</span></span> <span data-ttu-id="c8780-242">これらの他の外部システムのいずれかでパフォーマンスのボトルネックには、BizTalk ソリューションに悪影響を及ぼすことができます。</span><span class="sxs-lookup"><span data-stu-id="c8780-242">Performance bottlenecks in any of these other external systems can have a negative effect on your BizTalk solution.</span></span>  
  
### <a name="downstream-bottlenecks"></a><span data-ttu-id="c8780-243">下流のボトルネック</span><span class="sxs-lookup"><span data-stu-id="c8780-243">Downstream bottlenecks</span></span>  
 <span data-ttu-id="c8780-244">下流システムで BizTalk から十分な速度のデータを受け取ることがない場合、この出力データは、BizTalk データベースでバックアップされます。</span><span class="sxs-lookup"><span data-stu-id="c8780-244">If the downstream system is unable to receive data fast enough from BizTalk, this output data will back up in the BizTalk databases.</span></span> <span data-ttu-id="c8780-245">これは、コマンドで、肥大化の結果、調整を開始すると、受信パイプが縮小、および BizTalk システムの全体的なスループットに影響を与えます。</span><span class="sxs-lookup"><span data-stu-id="c8780-245">This results in bloat, causes throttling to start, shrinks the receive pipe, and impacts the overall throughput of the BizTalk system.</span></span> <span data-ttu-id="c8780-246">この状況を直接示すは、スプール テーブルの増加です。</span><span class="sxs-lookup"><span data-stu-id="c8780-246">A direct indication of this is Spool table growth.</span></span> <span data-ttu-id="c8780-247">ボトルネックとスプール テーブルの詳細については、次を参照してください。[メッセージ ボックス データベース 1 のボトルネックを特定する方法](../technical-guides/how-to-identify-bottlenecks-in-the-messagebox-database1.md)します。</span><span class="sxs-lookup"><span data-stu-id="c8780-247">For more information about bottlenecks and the Spool table, see [How to Identify Bottlenecks in the MessageBox Database1](../technical-guides/how-to-identify-bottlenecks-in-the-messagebox-database1.md).</span></span>  
  
### <a name="throttling-impact"></a><span data-ttu-id="c8780-248">制限の影響</span><span class="sxs-lookup"><span data-stu-id="c8780-248">Throttling impact</span></span>  
 <span data-ttu-id="c8780-249">調整最終的に回復不可能な状態から、システムの保護を開始します。</span><span class="sxs-lookup"><span data-stu-id="c8780-249">Throttling will eventually start to protect the system from reaching an unrecoverable state.</span></span> <span data-ttu-id="c8780-250">したがって、調整を使用をシステムが正常に機能しているかどうかを確認し、問題のソースを検出することができます。</span><span class="sxs-lookup"><span data-stu-id="c8780-250">Thus, you can use throttling to verify whether the system is functioning normally and discover the source of the problem.</span></span> <span data-ttu-id="c8780-251">制限の状態からボトルネックの原因を特定した後は、問題の原因を特定する他のパフォーマンス カウンターを分析します。</span><span class="sxs-lookup"><span data-stu-id="c8780-251">After you identify the cause of the bottleneck from the throttling state, analyze the other performance counters to determine the source of the problem.</span></span> <span data-ttu-id="c8780-252">たとえば、メッセージ ボックス データベースで競合が増加メモリ不足によって発生したディスクの過剰なページングによる CPU 使用率が高い可能性があります。</span><span class="sxs-lookup"><span data-stu-id="c8780-252">For example, high contention on the MessageBox database could be due to high CPU use, caused by excessively paging to disk that is caused by low memory conditions.</span></span> <span data-ttu-id="c8780-253">メッセージ ボックス データベースで競合が増加が飽和状態のディスク ドライブのための高いロックの競合によっても原因。</span><span class="sxs-lookup"><span data-stu-id="c8780-253">High contention on the MessageBox database could also be caused by high lock contention due to saturated disk drives.</span></span> <span data-ttu-id="c8780-254">不定期の調整がパフォーマンスに重大な脅威ありませんが、永続的な調整より重要な基になる問題を示すことができます。</span><span class="sxs-lookup"><span data-stu-id="c8780-254">While occasional throttling is not a significant threat to performance, persistent throttling can indicate a more significant underlying problem.</span></span> <span data-ttu-id="c8780-255">BizTalk Server が調整を使いますが、それらの条件の詳細については、次を参照してください。[どのように BizTalk Server 実装ホスト Throttling](http://go.microsoft.com/fwlink/?LinkID=155286) (http://go.microsoft.com/fwlink/?LinkID=155286)します。</span><span class="sxs-lookup"><span data-stu-id="c8780-255">For more information about those conditions where BizTalk Server will use throttling, see [How BizTalk Server Implements Host Throttling](http://go.microsoft.com/fwlink/?LinkID=155286) (http://go.microsoft.com/fwlink/?LinkID=155286).</span></span>  
  
 <span data-ttu-id="c8780-256">BizTalk Server の調整に役立てる方法、使用可能なリソースを管理し、リソースの競合を最小限に抑えるの詳細については、次を参照してください。[を最適化するリソースをホストの調整](http://go.microsoft.com/fwlink/?LinkID=155770)(http://go.microsoft.com/fwlink/?LinkID=155770)します。</span><span class="sxs-lookup"><span data-stu-id="c8780-256">For more information about how BizTalk Server throttling can help manage the use of available resources and minimize resource contention, see [Optimizing Resource Usage Through Host Throttling](http://go.microsoft.com/fwlink/?LinkID=155770) (http://go.microsoft.com/fwlink/?LinkID=155770).</span></span>  
  
## <a name="biztalk-application-counters"></a><span data-ttu-id="c8780-257">BizTalk アプリケーション カウンター</span><span class="sxs-lookup"><span data-stu-id="c8780-257">BizTalk application counters</span></span>  
  
|<span data-ttu-id="c8780-258">オブジェクト</span><span class="sxs-lookup"><span data-stu-id="c8780-258">Object</span></span>|<span data-ttu-id="c8780-259">Instance</span><span class="sxs-lookup"><span data-stu-id="c8780-259">Instance</span></span>|<span data-ttu-id="c8780-260">カウンター</span><span class="sxs-lookup"><span data-stu-id="c8780-260">Counter</span></span>|<span data-ttu-id="c8780-261">説明</span><span class="sxs-lookup"><span data-stu-id="c8780-261">Description</span></span>|  
|------------|--------------|-------------|-----------------|  
|<span data-ttu-id="c8780-262">BizTalk Messaging</span><span class="sxs-lookup"><span data-stu-id="c8780-262">BizTalk Messaging</span></span>|<span data-ttu-id="c8780-263">RxHost</span><span class="sxs-lookup"><span data-stu-id="c8780-263">RxHost</span></span>|<span data-ttu-id="c8780-264">Documents Received/Sec</span><span class="sxs-lookup"><span data-stu-id="c8780-264">Documents Received/Sec</span></span>|<span data-ttu-id="c8780-265">受信速度</span><span class="sxs-lookup"><span data-stu-id="c8780-265">Incoming Rate</span></span>|  
|<span data-ttu-id="c8780-266">BizTalk Messaging</span><span class="sxs-lookup"><span data-stu-id="c8780-266">BizTalk Messaging</span></span>|<span data-ttu-id="c8780-267">TxHost</span><span class="sxs-lookup"><span data-stu-id="c8780-267">TxHost</span></span>|<span data-ttu-id="c8780-268">Documents Processed/Sec</span><span class="sxs-lookup"><span data-stu-id="c8780-268">Documents Processed/Sec</span></span>|<span data-ttu-id="c8780-269">送信速度</span><span class="sxs-lookup"><span data-stu-id="c8780-269">Outgoing Rate</span></span>|  
|<span data-ttu-id="c8780-270">XLANG/s Orchestrations</span><span class="sxs-lookup"><span data-stu-id="c8780-270">XLANG/s Orchestrations</span></span>|<span data-ttu-id="c8780-271">PxHost</span><span class="sxs-lookup"><span data-stu-id="c8780-271">PxHost</span></span>|<span data-ttu-id="c8780-272">Orchestrations Completed/Sec.</span><span class="sxs-lookup"><span data-stu-id="c8780-272">Orchestrations Completed/Sec.</span></span>|<span data-ttu-id="c8780-273">処理速度</span><span class="sxs-lookup"><span data-stu-id="c8780-273">Processing Rate</span></span>|  
|<span data-ttu-id="c8780-274">BizTalk: メッセージ ボックス: 一般的なカウンター</span><span class="sxs-lookup"><span data-stu-id="c8780-274">BizTalk : MessageBox: General Counters</span></span>|<span data-ttu-id="c8780-275">MsgBoxName</span><span class="sxs-lookup"><span data-stu-id="c8780-275">MsgBoxName</span></span>|<span data-ttu-id="c8780-276">Spool Size</span><span class="sxs-lookup"><span data-stu-id="c8780-276">Spool Size</span></span>|<span data-ttu-id="c8780-277">すべてのホスト キューの合計サイズ</span><span class="sxs-lookup"><span data-stu-id="c8780-277">Cumulative size of all Host Queues</span></span>|  
|<span data-ttu-id="c8780-278">BizTalk: メッセージ ボックス: 一般的なカウンター</span><span class="sxs-lookup"><span data-stu-id="c8780-278">BizTalk : MessageBox: General Counters</span></span>|<span data-ttu-id="c8780-279">MsgBoxName</span><span class="sxs-lookup"><span data-stu-id="c8780-279">MsgBoxName</span></span>|<span data-ttu-id="c8780-280">Tracking Data Size</span><span class="sxs-lookup"><span data-stu-id="c8780-280">Tracking Data Size</span></span>|<span data-ttu-id="c8780-281">メッセージ ボックスの TrackingData テーブルのサイズ</span><span class="sxs-lookup"><span data-stu-id="c8780-281">Size of TrackingData table on the MessageBox</span></span>|  
|<span data-ttu-id="c8780-282">BizTalk:MessageBox:Host Counters</span><span class="sxs-lookup"><span data-stu-id="c8780-282">BizTalk:MessageBox:Host Counters</span></span>|<span data-ttu-id="c8780-283">PxHost:MsgBoxName</span><span class="sxs-lookup"><span data-stu-id="c8780-283">PxHost:MsgBoxName</span></span>|<span data-ttu-id="c8780-284">Host Queue - Length</span><span class="sxs-lookup"><span data-stu-id="c8780-284">Host Queue - Length</span></span>|<span data-ttu-id="c8780-285">特定のホスト キューに存在するメッセージの数</span><span class="sxs-lookup"><span data-stu-id="c8780-285">Number of messages in the specific Host Queue</span></span>|  
|<span data-ttu-id="c8780-286">BizTalk:MessageBox:Host Counters</span><span class="sxs-lookup"><span data-stu-id="c8780-286">BizTalk:MessageBox:Host Counters</span></span>|<span data-ttu-id="c8780-287">TxHost:MsgBoxName</span><span class="sxs-lookup"><span data-stu-id="c8780-287">TxHost:MsgBoxName</span></span>|<span data-ttu-id="c8780-288">Host Queue - Length</span><span class="sxs-lookup"><span data-stu-id="c8780-288">Host Queue - Length</span></span>|<span data-ttu-id="c8780-289">特定のホスト キューに存在するメッセージの数</span><span class="sxs-lookup"><span data-stu-id="c8780-289">Number of messages in the specific Host Queue</span></span>|  
|<span data-ttu-id="c8780-290">BizTalk:Message Agent</span><span class="sxs-lookup"><span data-stu-id="c8780-290">BizTalk:Message Agent</span></span>|<span data-ttu-id="c8780-291">RxHost</span><span class="sxs-lookup"><span data-stu-id="c8780-291">RxHost</span></span>|<span data-ttu-id="c8780-292">Database Size</span><span class="sxs-lookup"><span data-stu-id="c8780-292">Database Size</span></span>|<span data-ttu-id="c8780-293">公開 (PxHost) キューのサイズ</span><span class="sxs-lookup"><span data-stu-id="c8780-293">Size of publishing (PxHost) Queue</span></span>|  
|<span data-ttu-id="c8780-294">BizTalk:Message Agent</span><span class="sxs-lookup"><span data-stu-id="c8780-294">BizTalk:Message Agent</span></span>|<span data-ttu-id="c8780-295">PxHost</span><span class="sxs-lookup"><span data-stu-id="c8780-295">PxHost</span></span>|<span data-ttu-id="c8780-296">Database Size</span><span class="sxs-lookup"><span data-stu-id="c8780-296">Database Size</span></span>|<span data-ttu-id="c8780-297">公開 (TxHost) キューのサイズ</span><span class="sxs-lookup"><span data-stu-id="c8780-297">Size of publishing (TxHost) Queue</span></span>|  
|<span data-ttu-id="c8780-298">BizTalk:Message Agent</span><span class="sxs-lookup"><span data-stu-id="c8780-298">BizTalk:Message Agent</span></span>|<span data-ttu-id="c8780-299">HostName</span><span class="sxs-lookup"><span data-stu-id="c8780-299">HostName</span></span>|<span data-ttu-id="c8780-300">Message Delivery Throttling State</span><span class="sxs-lookup"><span data-stu-id="c8780-300">Message Delivery Throttling State</span></span>|<span data-ttu-id="c8780-301">XLANG と送信トランスポートに影響</span><span class="sxs-lookup"><span data-stu-id="c8780-301">Affects XLANG and Outbound transports</span></span>|  
|<span data-ttu-id="c8780-302">BizTalk:Message Agent</span><span class="sxs-lookup"><span data-stu-id="c8780-302">BizTalk:Message Agent</span></span>|<span data-ttu-id="c8780-303">HostName</span><span class="sxs-lookup"><span data-stu-id="c8780-303">HostName</span></span>|<span data-ttu-id="c8780-304">Message Publishing Throttling State</span><span class="sxs-lookup"><span data-stu-id="c8780-304">Message Publishing Throttling State</span></span>|<span data-ttu-id="c8780-305">XLANG と受信トランスポートに影響</span><span class="sxs-lookup"><span data-stu-id="c8780-305">Affects XLANG and Inbound transports</span></span>|  
  
### <a name="where-do-i-start"></a><span data-ttu-id="c8780-306">監視の開始</span><span class="sxs-lookup"><span data-stu-id="c8780-306">Where do I start?</span></span>  
 <span data-ttu-id="c8780-307">監視、 **Message Delivery Throttling State**と**Message Publishing Throttling State**各ホスト インスタンスをお勧めします。</span><span class="sxs-lookup"><span data-stu-id="c8780-307">Monitoring the **Message Delivery Throttling State** and the **Message Publishing Throttling State** for each host instance is a good place to start.</span></span> <span data-ttu-id="c8780-308">これらのカウンターの値は、0 ではない、これは、BizTalk システムで調整することを示します。 し、さらに、ボトルネックの原因を分析することができます。</span><span class="sxs-lookup"><span data-stu-id="c8780-308">If the value of these counters is not zero, this indicates throttling in the BizTalk system and you can further analyze the cause of the bottleneck.</span></span> <span data-ttu-id="c8780-309">その他のパフォーマンス カウンターの説明については、次を参照してください。[データベース層のボトルネック](../technical-guides/bottlenecks-in-the-database-tier.md)します。</span><span class="sxs-lookup"><span data-stu-id="c8780-309">For descriptions on the other performance counters, see [Bottlenecks in the Database Tier](../technical-guides/bottlenecks-in-the-database-tier.md).</span></span>  
  
## <a name="orchestration-engine-performance-counters"></a><span data-ttu-id="c8780-310">オーケストレーション エンジンのパフォーマンス カウンター</span><span class="sxs-lookup"><span data-stu-id="c8780-310">Orchestration engine performance counters</span></span>  
 <span data-ttu-id="c8780-311">継続的なオーケストレーション dehydration\rehydration と永続化ポイントが全体のパフォーマンスに重大な影響を与えることができますのでは、オーケストレーションの実行時の設定をチューニング微調整することを強くお勧めします。</span><span class="sxs-lookup"><span data-stu-id="c8780-311">We strongly recommend that you fine tune orchestration runtime settings because continuous orchestration dehydration\rehydration and persistence points can have a severe impact on overall performance.</span></span>  <span data-ttu-id="c8780-312">複数の永続化ポイントとトランザクションのスコープを含む可能性のある複雑なオーケストレーションをテストするときに、次のカウンターを使用する必要があります。</span><span class="sxs-lookup"><span data-stu-id="c8780-312">You must use the following counters when testing complex orchestrations that may contain multiple persistence points and transactional scopes.</span></span>  
  
|<span data-ttu-id="c8780-313">カウンター</span><span class="sxs-lookup"><span data-stu-id="c8780-313">Counter</span></span>|<span data-ttu-id="c8780-314">コメント</span><span class="sxs-lookup"><span data-stu-id="c8780-314">Comments</span></span>|  
|-------------|--------------|  
|<span data-ttu-id="c8780-315">Orchestrations dehydrated/sec</span><span class="sxs-lookup"><span data-stu-id="c8780-315">Orchestrations dehydrated/sec</span></span>|<span data-ttu-id="c8780-316">1 秒あたりの平均待避数。</span><span class="sxs-lookup"><span data-stu-id="c8780-316">Average number dehydrated per second.</span></span>|  
|<span data-ttu-id="c8780-317">Orchestrations rehydrated/sec</span><span class="sxs-lookup"><span data-stu-id="c8780-317">Orchestrations rehydrated/sec</span></span>|<span data-ttu-id="c8780-318">1 秒あたりの平均復元数。</span><span class="sxs-lookup"><span data-stu-id="c8780-318">Average number rehydrated per second.</span></span>|  
|<span data-ttu-id="c8780-319">Persistence points/sec</span><span class="sxs-lookup"><span data-stu-id="c8780-319">Persistence points/sec</span></span>|<span data-ttu-id="c8780-320">永続化されたオーケストレーション インスタンスの 1 秒あたりの平均数。</span><span class="sxs-lookup"><span data-stu-id="c8780-320">Average number of orchestration instances persisted per second.</span></span>|  
|<span data-ttu-id="c8780-321">Orchestrations resident in memory</span><span class="sxs-lookup"><span data-stu-id="c8780-321">Orchestrations resident in memory</span></span>|<span data-ttu-id="c8780-322">ホスト インスタンスによって現在ホストされているオーケストレーション インスタンスの数。</span><span class="sxs-lookup"><span data-stu-id="c8780-322">Number of orchestration instances currently hosted by the host instance.</span></span>|  
|<span data-ttu-id="c8780-323">Orchestrations completed/sec</span><span class="sxs-lookup"><span data-stu-id="c8780-323">Orchestrations completed/sec</span></span>|<span data-ttu-id="c8780-324">1 秒あたりに完了した平均数です。</span><span class="sxs-lookup"><span data-stu-id="c8780-324">Average number completed per second.</span></span>|  
|<span data-ttu-id="c8780-325">Orchestrations suspended/sec</span><span class="sxs-lookup"><span data-stu-id="c8780-325">Orchestrations suspended/sec</span></span>|<span data-ttu-id="c8780-326">1 秒あたりの平均中断数。</span><span class="sxs-lookup"><span data-stu-id="c8780-326">Average number suspended per second.</span></span>|  
|<span data-ttu-id="c8780-327">Transactional scopes committed/sec</span><span class="sxs-lookup"><span data-stu-id="c8780-327">Transactional scopes committed/sec</span></span>|<span data-ttu-id="c8780-328">1 秒あたりの平均コミット数。</span><span class="sxs-lookup"><span data-stu-id="c8780-328">Average number committed per second.</span></span>|  
|<span data-ttu-id="c8780-329">Transactional scopes aborted/sec</span><span class="sxs-lookup"><span data-stu-id="c8780-329">Transactional scopes aborted/sec</span></span>|<span data-ttu-id="c8780-330">1 秒あたりの平均中止数。</span><span class="sxs-lookup"><span data-stu-id="c8780-330">Average number aborted per second.</span></span>|  
|<span data-ttu-id="c8780-331">Transactional scopes compensated/sec</span><span class="sxs-lookup"><span data-stu-id="c8780-331">Transactional scopes compensated/sec</span></span>|<span data-ttu-id="c8780-332">1 秒あたりの平均補正数。</span><span class="sxs-lookup"><span data-stu-id="c8780-332">Average number compensated per second.</span></span>|  
  
## <a name="backlog-buildup"></a><span data-ttu-id="c8780-333">バックログの蓄積</span><span class="sxs-lookup"><span data-stu-id="c8780-333">Backlog buildup</span></span>  
 <span data-ttu-id="c8780-334">1 対 1 の展開シナリオの 1 つの結果を受信メッセージの処理し、システムでは、バックログが、送信速度が受信速度と等しくない場合は、送信、します。</span><span class="sxs-lookup"><span data-stu-id="c8780-334">For a 1-1 deployment scenario where 1 message received results in 1 message processed and transmitted, if the outgoing rate does not equal the incoming rate, there is a backlog in the system.</span></span> <span data-ttu-id="c8780-335">このような状況では、スプール サイズを監視できます。</span><span class="sxs-lookup"><span data-stu-id="c8780-335">In this situation, you can monitor the Spool Size.</span></span> <span data-ttu-id="c8780-336">送信速度のボトルネックの原因を判断するときは、一度に 1 つのユース ケース シナリオを実行します。</span><span class="sxs-lookup"><span data-stu-id="c8780-336">When determining the cause of bottlenecks in outgoing rate, run a single use-case scenario at a time.</span></span> <span data-ttu-id="c8780-337">オーケストレーションを分離する、受信場所、および送信ホストを分離する場所。</span><span class="sxs-lookup"><span data-stu-id="c8780-337">Isolate orchestrations, receive locations, and send locations to separate hosts.</span></span>  
  
 <span data-ttu-id="c8780-338">ホストを監視するため、パフォーマンス モニターのログを BizTalk:Message Box:host Counters を追加します。</span><span class="sxs-lookup"><span data-stu-id="c8780-338">Add the BizTalk:Message Box:Host Counters to your Performance Monitor log to monitor a host.</span></span> <span data-ttu-id="c8780-339">Host Queue - Length: 特定のホスト キュー内のメッセージの合計数を追跡するカウンター。</span><span class="sxs-lookup"><span data-stu-id="c8780-339">The Host Queue - Length: counter tracks the total number of messages in a particular host queue.</span></span> <span data-ttu-id="c8780-340">これらのカウンターの 1 つ以上が続く場合は、それらのホストによって実行される成果物に特に注意をできるように、時間の経過と共に拡張します。</span><span class="sxs-lookup"><span data-stu-id="c8780-340">If one or more of these counters continues grow over time, give particular attention to the artifacts executed by those hosts.</span></span>  
  
 <span data-ttu-id="c8780-341">スプールが直線的になっていますが場合、は、アプリケーション キューがスプールの増大を決定します。</span><span class="sxs-lookup"><span data-stu-id="c8780-341">If the Spool is growing linearly, determine which Application Queue is responsible for the Spool growth.</span></span>  
  
 <span data-ttu-id="c8780-342">アプリケーション キューのいずれもが成長しています、spool のサイズが成長を続ける場合は、purge ジョブが追いついていないことが可能性があります。</span><span class="sxs-lookup"><span data-stu-id="c8780-342">If none of the Application Queues are growing and the Spool continues to grow, it could mean that the purge jobs are unable to keep up.</span></span> <span data-ttu-id="c8780-343">これは、エージェントが実行されていないか、SQL Server の他のシステム リソースの競合がある場合に発生します。</span><span class="sxs-lookup"><span data-stu-id="c8780-343">This occurs if the agent is not running or there is other system resource contention on the SQL Server.</span></span>  
  
 <span data-ttu-id="c8780-344">アプリケーション キューのいずれかが増えている場合は、増加の原因を診断します。</span><span class="sxs-lookup"><span data-stu-id="c8780-344">If one of the Application Queues is growing, diagnose the cause of this growth.</span></span> <span data-ttu-id="c8780-345">特定のアプリケーション キューのドレインを実行するようになっているシステム上のシステム リソースを監視する (たとえば、オーケストレーション ホスト-q が増加しているサーバー上の CPU 不足が原因)。</span><span class="sxs-lookup"><span data-stu-id="c8780-345">Monitor the system resources on the system that is unable to drain the specific Application Queue (for example, Orchestration Host-Q is growing due to CPU starvation on the server).</span></span> <span data-ttu-id="c8780-346">さらに、特定のホスト インスタンスの制限カウンターの値を確認します。</span><span class="sxs-lookup"><span data-stu-id="c8780-346">In addition, verify the values of the throttling counter for the specific host instance.</span></span>  
  
 <span data-ttu-id="c8780-347">BizTalk:Messsage エージェントのメッセージ配信の調整状態と Message Publishing Throttling State パフォーマンス カウンターがゼロでない場合は、スロットルの理由を確認する値を確認してください (たとえば、メモリのしきい値を超えると、インフライトのメッセージ数すぎます。高など)。</span><span class="sxs-lookup"><span data-stu-id="c8780-347">If the BizTalk:Messsage Agent Message Delivery Throttling State and Message Publishing Throttling State performance counters are not zero, check the value to confirm the reason for throttling (for example, memory threshold exceeded, in-flight message count too high, and so on).</span></span>  
  
## <a name="stand-alone-profiler"></a><span data-ttu-id="c8780-348">スタンドアロンの Profiler</span><span class="sxs-lookup"><span data-stu-id="c8780-348">Stand-Alone Profiler</span></span>  
 <span data-ttu-id="c8780-349">パフォーマンス カウンターは、高レベルのボトルネックの場所を検出するために使用できます。</span><span class="sxs-lookup"><span data-stu-id="c8780-349">You can use performance counters to detect the location of the bottleneck at a high level.</span></span> <span data-ttu-id="c8780-350">ただし、場所が絞り込んだ後、簡単に行うには、最も近いには、複数のコードの問題を調査する必要があります。</span><span class="sxs-lookup"><span data-stu-id="c8780-350">However, once narrowed down, you might need to examine the code more closely to help ease the problem.</span></span> <span data-ttu-id="c8780-351">Visual Studio 2010 に付属しているスタンドアロン Profiler は、コードがそのサイクルのほとんどを費やすは診断に役立つ非常に便利なツールを指定できます。</span><span class="sxs-lookup"><span data-stu-id="c8780-351">The Stand-Alone Profiler that ships with Visual Studio 2010 can be a very helpful tool to help diagnose where the code is spending most of its cycles.</span></span> <span data-ttu-id="c8780-352">詳細については、「</span><span class="sxs-lookup"><span data-stu-id="c8780-352">For more information, see</span></span>  
  
## <a name="l2l3-cache"></a><span data-ttu-id="c8780-353">L2 と L3 キャッシュ</span><span class="sxs-lookup"><span data-stu-id="c8780-353">L2/L3 cache</span></span>  
 <span data-ttu-id="c8780-354">ハードウェアの観点から、オンボードの CPU キャッシュを使用して最大のメリットを得ることができます。</span><span class="sxs-lookup"><span data-stu-id="c8780-354">From a hardware perspective, you can gain the biggest benefits by using the onboard CPU cache.</span></span> <span data-ttu-id="c8780-355">CPU キャッシュが大きければキャッシュのヒット率が高くなり、システムでメモリからディスクへのデータのページングを行う必要が少なくなります。</span><span class="sxs-lookup"><span data-stu-id="c8780-355">Higher CPU cache helps increase cache hit rate reducing the need for the system to page data in and out of memory to disk.</span></span>  
  
## <a name="64-bit-performance-bottlenecks"></a><span data-ttu-id="c8780-356">64 ビット パフォーマンスのボトルネック</span><span class="sxs-lookup"><span data-stu-id="c8780-356">64-Bit performance bottlenecks</span></span>  
 <span data-ttu-id="c8780-357">64 ビット システムのパフォーマンスが 32 ビット システムより低く見える場合があります。</span><span class="sxs-lookup"><span data-stu-id="c8780-357">Performance on 64-bit systems may appear lower than what can be achieved on 32-bit systems.</span></span> <span data-ttu-id="c8780-358">これは、いくつかの理由から、最も重要な 1 つの可能なメモリします。</span><span class="sxs-lookup"><span data-stu-id="c8780-358">This is possible for a few reasons, the most important one being memory.</span></span>  
  
 <span data-ttu-id="c8780-359">2 GB のメモリの 32 ビット システムのパフォーマンスを測定して、メモリの 2 gb のような 64 ビット システムに結果を比較する、同じことを比較できません。</span><span class="sxs-lookup"><span data-stu-id="c8780-359">Measuring performance on a 32-bit system with 2 GB of memory and comparing the results to a similar 64-bit system with 2 GB of memory is not comparing the same thing.</span></span> <span data-ttu-id="c8780-360">64 ビット システムは、ディスク i/o バインド (ディスクのアイドル時間の割合が低いと高いディスク キューの長さ) と CPU バインド (CPU が上限と高のコンテキストの切り替え) に表示されます。</span><span class="sxs-lookup"><span data-stu-id="c8780-360">The 64-bit system will appear to be disk-I/O bound (low % Disk Idle time & high Disk Queue Length) and CPU bound (max CPU and high context switching).</span></span> <span data-ttu-id="c8780-361">ただし、これは、ファイル I/O を実行する 64 ビット システムでは、高価ためにありません。</span><span class="sxs-lookup"><span data-stu-id="c8780-361">However, this is not because performing file I/O on a 64-bit system is more expensive.</span></span>  
  
 <span data-ttu-id="c8780-362">64 ビット システムより多くのメモリ集中型 (64 ビット アドレッシング) は、その結果は、オペレーティング システムが 2 GB の使用可能なメモリの大部分を消費します。</span><span class="sxs-lookup"><span data-stu-id="c8780-362">The 64-bit system is more memory intensive (64-bit addressing) which results in the operating system consuming most of the 2 GB available memory.</span></span> <span data-ttu-id="c8780-363">このような他のほとんどの操作、ファイル サブシステムを強調してディスクへのページングが発生します。</span><span class="sxs-lookup"><span data-stu-id="c8780-363">When this happens, most other operations cause paging to disk which stresses the file subsystem.</span></span> <span data-ttu-id="c8780-364">そのため、システムのメモリの両方のデータ入力/出力をページングする CPU サイクルが消費し、コード、コストの高いディスク待機時間の影響を受けます。</span><span class="sxs-lookup"><span data-stu-id="c8780-364">Therefore, the system spends CPU cycles paging in/out of memory both data and code and is impacted by the high disk latency cost.</span></span> <span data-ttu-id="c8780-365">それが、ディスクの競合と CPU 消費の増加として現れます。</span><span class="sxs-lookup"><span data-stu-id="c8780-365">This manifests itself as both higher disk contention and higher CPU consumption.</span></span>  
  
 <span data-ttu-id="c8780-366">この問題を軽減する方法は、メモリをアップグレードすることで、サーバーをスケール アップします。</span><span class="sxs-lookup"><span data-stu-id="c8780-366">The way to alleviate this problem is to scale-up the server by upgrading the memory.</span></span> <span data-ttu-id="c8780-367">8 GB にスケール アップをお勧め、ただしより多くのメモリを追加することはないヘルプ、問題の原因がメモリ不足が原因の CPU 不足でない限り、スループットを向上させます。</span><span class="sxs-lookup"><span data-stu-id="c8780-367">Scaling-up to 8 GB is idea, however, adding more memory will not help improve throughput unless the source of the problem is CPU starvation due to low memory conditions.</span></span>  
  
## <a name="using-bam-to-identify-bottlenecks-and-high-latency-issues"></a><span data-ttu-id="c8780-368">BAM を使用してボトルネックや待機時間の長い問題を特定するには</span><span class="sxs-lookup"><span data-stu-id="c8780-368">Using BAM to identify bottlenecks and high-latency issues</span></span>  
 <span data-ttu-id="c8780-369">低待機時間が重要な場合は、BizTalk Server システム内の各段階を完了にかかる時間を測定する BAM を使用できます。</span><span class="sxs-lookup"><span data-stu-id="c8780-369">When low-latency is important, you can use BAM to measure the time the system takes to complete each stage within the BizTalk Server system.</span></span> <span data-ttu-id="c8780-370">HAT を使用して、メッセージの状態をデバッグおよびメッセージのルーティングの問題の原因を診断するのにこと、メッセージ フローのさまざまなポイントを追跡するために BAM を使用することができます。</span><span class="sxs-lookup"><span data-stu-id="c8780-370">Although you can use HAT to debug the state of messages and diagnose the source of problems in routing messages, you can use BAM to track various points through the message flow.</span></span> <span data-ttu-id="c8780-371">BAM 追跡を継続アクティビティを定義するプロファイルを作成すると、ワークフロー プロセス内で最も高価な段階を追跡するシステムのさまざまな部分の間の待機時間を測定することができます。</span><span class="sxs-lookup"><span data-stu-id="c8780-371">By creating a BAM tracking profile that defines an activity with continuations, you can measure latency between different parts of the system to help track the most expensive stages within the workflow process.</span></span>  
  
 <span data-ttu-id="c8780-372">HAT のオーケストレーション デバッガーを使用して、中断されたインスタンスのクエリ実行、デバッグ モードでインスタンスを再開および Technical Details ビューを使用して適切なブレークポイントを追加することができます。</span><span class="sxs-lookup"><span data-stu-id="c8780-372">You can use Orchestration Debugger in HAT to query a suspended instance, resume the instance in debug mode, and add appropriate breakpoints using the Technical Details View.</span></span> <span data-ttu-id="c8780-373">これにより、動作とデバッグ メッセージをステップごとにトレースすることができます。</span><span class="sxs-lookup"><span data-stu-id="c8780-373">This will enable you to trace the activities and debug messages step by step.</span></span>  
  
 <span data-ttu-id="c8780-374">ブレークポイントを設定して以下のイベントを追跡することができます。</span><span class="sxs-lookup"><span data-stu-id="c8780-374">You can set breakpoints to track the following events:</span></span>  
  
- <span data-ttu-id="c8780-375">オーケストレーションの開始と終了</span><span class="sxs-lookup"><span data-stu-id="c8780-375">The start and finish of an orchestration</span></span>  
  
- <span data-ttu-id="c8780-376">図形の開始と終了</span><span class="sxs-lookup"><span data-stu-id="c8780-376">The start and finish of a shape</span></span>  
  
- <span data-ttu-id="c8780-377">メッセージの送信と受信</span><span class="sxs-lookup"><span data-stu-id="c8780-377">The sending or receipt of a message</span></span>  
  
- <span data-ttu-id="c8780-378">例外</span><span class="sxs-lookup"><span data-stu-id="c8780-378">Exceptions</span></span>  
  
  <span data-ttu-id="c8780-379">各ブレークポイントで、ローカル変数、メッセージとそのプロパティ、ポート、およびロール リンクに関する情報を調べることができます。</span><span class="sxs-lookup"><span data-stu-id="c8780-379">At each breakpoint, you can examine information about local variables, messages and their properties, ports, and role links.</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="c8780-380">参照</span><span class="sxs-lookup"><span data-stu-id="c8780-380">See Also</span></span>  
 [<span data-ttu-id="c8780-381">ボトルネックの検索と解消</span><span class="sxs-lookup"><span data-stu-id="c8780-381">Finding and Eliminating Bottlenecks</span></span>](../technical-guides/finding-and-eliminating-bottlenecks.md)