---
title: "アプリケーションを展開するためのベスト プラクティス |Microsoft ドキュメント"
ms.custom: 
ms.date: 06/08/2017
ms.prod: biztalk-server
ms.reviewer: 
ms.suite: 
ms.tgt_pltfrm: 
ms.topic: article
ms.assetid: 53852303-d368-4f9e-b4e2-f5918f65000b
caps.latest.revision: "2"
author: MandiOhlinger
ms.author: mandia
manager: anneta
ms.openlocfilehash: aa55a240669ab9369dd7a1862d3fda055f577edd
ms.sourcegitcommit: 3fc338e52d5dbca2c3ea1685a2faafc7582fe23a
ms.translationtype: MT
ms.contentlocale: ja-JP
ms.lasthandoff: 12/01/2017
---
# <a name="best-practices-for-deploying-an-application"></a>アプリケーションを展開するためのベスト プラクティス
このトピックでは、BizTalk アプリケーションの展開に従う必要のあるベスト プラクティスを示します。  
  
## <a name="deploying-a-biztalk-application"></a>BizTalk アプリケーションの展開  
 **ドキュメントのアプリケーション展開の手順**  
  
-   アプリケーションの展開で使用されるすべてのプロシージャは、『 深さの展開が実行された、さらに展開または展開解除する方法を知りレコードが存在するようにすることを確認します。 スクリプト化されないものは、詳細な手順を記述する必要があります。 これは、外部のシステムおよびサード パーティのコンポーネントの配置に対して変更を加えたを文書化を含める必要があります。  
  
 **スクリプト アプリケーション展開**  
  
-   できるだけ多くのアプリケーション展開の手順のスクリプトを作成します。 スクリプト、展開プロセス中に人的ミスのリスクが軽減されます。  
  
## <a name="creating-a-biztalk-application"></a>BizTalk アプリケーションを作成します。  
 **BizTalk アプリケーション ファイルと .msi ファイルを作成するスクリプトします。**  
  
-   BtsTask.exe は、BizTalk アプリケーションを作成するスクリプトを使用できます。 場合は、アプリケーションの作成をスクリプトに含めるし、パッケージに自動的に構築できますビルド サーバーで自動プロセスを使用しています。 アプリケーションを作成するスクリプトの詳細については、次を参照してください。[を管理する BizTalk アプリケーションの展開と](../core/deploying-and-managing-biztalk-applications.md)です。
  
## <a name="deploying-a-biztalk-assembly"></a>BizTalk アセンブリの配置  
 **実稼働コンピューターには、Visual Studio からアセンブリを展開できません。**  
  
-   開発プロセス中に、開発者は Visual Studio からアセンブリを多くの場合、展開する必要があります。 再展開を可能にするため、Visual Studio ではアセンブリに含まれるアイテムの展開解除、バインド解除、停止、および参加解除が行われます。 これは開発環境では必要であり適切なことですが、実稼働環境では予期しない結果や結果や好ましくない結果を引き起こす可能性があります。 この理由も実稼働コンピューターには、Visual Studio からアセンブリを配置からすべてのユーザーを避けることのできる、実稼働コンピューターに Visual Studio をインストールしないことをお勧めします。  
  
-   また、Visual Studio を実行しているコンピューターからは実稼動データベースを参照しないでください。  
  
## <a name="adding-artifacts-to-a-biztalk-application"></a>BizTalk アプリケーションにアイテムを追加します。  
 **単一のアプリケーションで同時に関連する成果物をグループ化します。**  
  
-   できるだけ多くの関連アイテムを、同じ BizTalk アプリケーションにまとめます。 こうすることで、複数のアイテムを 1 つのエンティティとして管理および展開できるようになり、管理が容易になります。 同じビジネス プロセスをサポートするアイテムや、類似の機能を実行するアイテムは、1 つのアプリケーションにグループ化できます。  
  
 **別のアプリケーションで共有のアイテムを展開します。**  
  
-   複数のアプリケーションで共有されるアイテムは、独立したアプリケーションで展開します。 たとえば、2 つのアプリケーションでスキーマを共有している場合は、そのスキーマを独立したアプリケーションに配置します。 お勧めこのため、BizTalk グループ内の 1 つだけの成果物は、単一の一意なローカル識別子 (LUID) を持つことができます。 LUID は、成果物の名前および必要に応じて他の属性で構成されます。 1 つのアプリケーションにアイテムを含める別のアプリケーションからへの参照を作成していてを参照するアプリケーションが正しく機能しない、成果物を含むアプリケーションを停止するとします。  
  
     このベスト プラクティスは、種類が File としてアプリケーションに追加されるファイル アイテム (Readme ファイル、スクリプトなど) 以外の、すべての種類のアイテムに適用できます。 これは、同じ名前の 2 つ以上のファイル アイテムを BizTalk グループに展開できるためです。 したがって複数のアプリケーションで同じ名前のファイルを使用できるので、このベスト プラクティスは当てはまりません。 この例では、1 つのアプリケーションを停止しても、他のアプリケーションには影響しません。 ファイル アイテムの追加の詳細については、次を参照してください。[ファイルをアプリケーションに追加する方法](../core/how-to-add-a-file-to-an-application.md)です。  
  
 **別のアプリケーションで共有 Web サイトの展開します。**  
  
-   複数のビジネス アプリケーションで共有される Web サイトは、独立したアプリケーションで展開します。 この理由は、BizTalk アプリケーションをアンインストールすると、アプリケーションに含まれる Web サイトは実行中であっても削除されるためです。 削除した Web サイトが他のビジネス ソリューションと共有されていた場合、そのビジネス ソリューションは正常に機能しなくなります。  
  
 **別のアプリケーションで共有ポリシーを展開します。**  
  
-   複数のアプリケーションで使用されるポリシーは、1 つのアプリケーションから別のアプリケーションへの参照を作成せずに、独立したアプリケーションで展開します。 この理由は、アプリケーションを停止すると、そのアプリケーションのポリシーは展開解除されるためです。 他のアプリケーションで使用されているポリシーを含むアプリケーションを停止すると、どちらのアプリケーションでもポリシーは機能しなくなります。  
  
 **別のアプリケーションで共有の証明書を展開します。**  
  
-   複数アプリケーションの送信ポートまたは受信ポートで使用される証明書は、独立したアプリケーションで展開します。その後、展開したアプリケーションに対し、その証明書を使用するアプリケーションから参照を作成します。 これはため、2 つの異なるアプリケーションで同じ証明書をインポートすることはできませんので、BizTalk グループ内の 1 つだけのアーティファクトは単一の LUID を持つことができます。 同じ証明書を使用する 2 つのアプリケーションをインポートしようとすると、最初のインポートは成功しますが、2 番目のインポートは成功しません。 [上書き] インポート オプションを使って既存の証明書を上書きしようとしても、その証明書は別のアプリケーションに含まれているため上書きできません。  
  
## <a name="exporting-and-importing-a-biztalk-application"></a>エクスポートして、BizTalk アプリケーションをインポートします。  
 **大きな .msi ファイルを展開するときに、アプリケーションを展開する BizTalk Server で使用される COM + コンポーネントの既定のトランザクション タイムアウトを大きく必要があります。**  
  
-   非常に大きいを .msi ファイルを展開しようとするかどうか (100 MB を超える) し、アプリケーションは、アプリケーション展開中に BizTalk Server で使用される COM + コンポーネントの既定のトランザクション タイムアウト時間内は展開されません。 トランザクションは、展開が完了する前にこれら COM + コンポーネントにタイムアウトに関連付けられている、展開は失敗します。 非常に大きな .msi ファイルを配置する場合は、この問題を軽減するためにこれらのアプローチのいずれかを行うことを検討します。  
  
-   1 つの大きな .msi ファイルではなく複数の小さい .msi ファイルを展開します。  
  
    -   Microsoft.BizTalk.ApplicationDeployment.Group と、コンポーネント サービス管理のインターフェイスで Microsoft.BizTalk.Deployment.DeployerComponent コンポーネントに関連付けられている 3,000 秒の既定のトランザクション タイムアウトを増加します。 これらのコンポーネントはそれぞれ、Microsoft.BizTalk.ApplicationDeployment.Engine および Microsoft.Biztalk.Deployment COM + アプリケーションに属しています。 詳細については、Microsoft サポート技術情報の記事 287499 を参照してください。 [MTS または COM + のトランザクション タイムアウト値を変更する方法](https://support.microsoft.com/help/287499/how-to-change-the-transaction-time-out-value-for-mts-or-com)です。  
  
 **バインドが上書きされないようにします。**  
  
-   エクスポートするアプリケーションのバインドで、.msi ファイルのインポート先アプリケーションのバインドを上書きしないようにするには、エクスポート操作中にエクスポートするリソースとしてバインド ファイルを選択しないでください。  
  
 **.Msi ファイルが安全であることを確認します。**  
  
-   .Msi ファイルには、機密データを含む可能性があります。 必ずファイルの安全性を確保する手順を実行してください。 .Msi ファイルのセキュリティの詳細については、次を参照してください。[セキュリティと Windows インストーラー](../core/security-and-windows-installer.md)です。  
  
 **バインド ファイルの安全性を確認してください。**  
  
-   バインド ファイルには、機微なデータを含めることがあります。 必ずファイルの安全性を確保する手順を実行してください。  
  
 **誰が変更する場合、成果物エクスポートをスケジュール設定**  
  
-   ユーザーはいないアイテムを変更しているおそらく時間中にエクスポート操作をスケジュールします。 これは、重要となりますので、ユーザーは、エクスポート操作が進行中はデータベースに基づく成果物、仮想ディレクトリ、証明書、またはポリシーを変更するが場合、エクスポートされた .msi ファイルに変更は反映されません。  
  
## <a name="importing-a-biztalk-application"></a>BizTalk アプリケーションをインポートします。  
 **.Msi ファイルのファイルをインポートするスクリプト**  
  
-   BtsTask.exe は、既存の BizTalk .msi ファイルをインポートするスクリプトを使用できます。 .Msi ファイルをインポートするスクリプト作成の詳細については、次を参照してください。[を管理する BizTalk アプリケーションの展開と](../core/deploying-and-managing-biztalk-applications.md)です。 
  
    > [!NOTE]  
    >  このホワイト ペーパーは、BizTalk Server にも適用されます。  
  
-   処理前または処理後のスクリプトとして実行するスクリプトを追加することができます。 ただし、(インポート、インストール、またはアンインストール) でスクリプトを実行するコンテキストを決定するように環境変数を確認するようにスクリプトのロジックを含めるし、それに応じて処理する必要があります。 詳細については、前処理および後処理のスクリプトを使用して、次を参照してください。[前処理および後処理のスクリプトをアプリケーションの展開のカスタマイズを使用して](../core/using-pre-and-post-processing-scripts-to-customize-application-deployment.md)です。 
  
 **参照されるアイテムの存在を確認します。**  
  
-   インポートしているアプリケーションに別のアプリケーションへの参照がある場合は、BizTalk Server は、参照先のアプリケーションが存在することを確認します。 ただし、参照先のアプリケーションで、アプリケーションの依存関係を持っているアイテムが含まれることは確認されません。 別のアプリケーションでの成果物への依存関係のあるアプリケーションをインポートするときに、参照先のアプリケーションに必要なアイテムまたはアイテムが含まれていることを確認することをお勧めします。  
  
 **グローバル アセンブリ キャッシュに変更されたアセンブリを格納することが除外された .msi ファイルからインポートします。**  
  
-   アプリケーションでアイテムを更新するには、変更または更新したのアイテムを .msi ファイルからアプリケーションにインポートします。 アイテムをインポートする .msi ファイルを使用しない場合は、グローバル アセンブリ キャッシュに変更したアセンブリを格納することによって、グループ内のすべてのサーバーを更新する必要があります。  
  
 **合計サーバー数のサブセットを更新するホスト グループの処理**  
  
-   アプリケーションでアイテムを更新するときに通常、BizTalk グループ内のすべてのサーバーを更新する必要があります。 ただし、ホスト グループの処理を使用する場合だけ、グループ内の合計のサーバーのサブセットを更新します。  
  
 **インポート操作がタイムアウトした場合は、別の .msi ファイルにアプリケーションを分割します。**  
  
-   期間では 3,600 秒を超えた場合、インポート操作はタイムアウトします。 .Msi ファイルをインポートしようとしている操作がタイムアウトになる場合は、アプリケーションを再度エクスポートして、エクスポートするアイテムのサブセットを選択して 1 つ以上の .msi ファイルにアプリケーションのコンテンツを分割する必要があります。 .Msi ファイルにアプリケーションのエクスポートの詳細については、次を参照してください。 [BizTalk アプリケーションのエクスポート](../core/how-to-export-a-biztalk-application.md)です。