---
title: ログ (PAL) のツールのパフォーマンス分析の使用 |Microsoft ドキュメント
ms.custom: ''
ms.date: 06/08/2017
ms.prod: biztalk-server
ms.reviewer: ''
ms.suite: ''
ms.tgt_pltfrm: ''
ms.topic: article
ms.assetid: d563aa7d-102d-4fe6-a892-66794feaf83b
caps.latest.revision: 3
author: MandiOhlinger
ms.author: mandia
manager: anneta
ms.openlocfilehash: 7f289cdf157100dc69feb468f789a9ebb76764a1
ms.sourcegitcommit: 8418b1a8f38b7f56979cd6e203f0b591e2f40fe1
ms.translationtype: MT
ms.contentlocale: ja-JP
ms.lasthandoff: 03/28/2018
ms.locfileid: "26010715"
---
# <a name="using-the-performance-analysis-of-logs-pal-tool"></a><span data-ttu-id="b3607-102">ログ (PAL) のツールのパフォーマンス分析の使用</span><span class="sxs-lookup"><span data-stu-id="b3607-102">Using the Performance Analysis of Logs (PAL) Tool</span></span>
<span data-ttu-id="b3607-103">PAL (パフォーマンス分析のログに記録) ツールは、パフォーマンス モニター カウンターのログ (任意既知の形式で読み込むし、(提供) が、複雑で、既知のしきい値を使用して分析します。</span><span class="sxs-lookup"><span data-stu-id="b3607-103">The PAL (Performance Analysis of Logs) tool reads in a performance monitor counter log (any known format) and analyzes it using complex, but known thresholds (provided).</span></span> <span data-ttu-id="b3607-104">ツールをグラフィカルにグラフの重要なパフォーマンス カウンターし、しきい値を超えたときにアラートをスロー、HTML ベースのレポートを生成します。</span><span class="sxs-lookup"><span data-stu-id="b3607-104">The tool generates an HTML based report that graphically charts important performance counters and throws alerts when thresholds are exceeded.</span></span> <span data-ttu-id="b3607-105">しきい値はなど、Microsoft の製品チームによって定義されたしきい値に基づく最初[!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)]、し、Microsoft のメンバーをサポートします。</span><span class="sxs-lookup"><span data-stu-id="b3607-105">The thresholds are originally based on thresholds defined by the Microsoft product teams, including [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)], and members of Microsoft support.</span></span> <span data-ttu-id="b3607-106">このツールは、従来のパフォーマンス分析の置換ではありませんが、パフォーマンス カウンター ログのに十分な時間を節約するための分析を自動化します。</span><span class="sxs-lookup"><span data-stu-id="b3607-106">This tool is not a replacement of traditional performance analysis, but it automates the analysis of performance counter logs enough to help save you time.</span></span> <span data-ttu-id="b3607-107">PAL ツール:</span><span class="sxs-lookup"><span data-stu-id="b3607-107">The PAL tool:</span></span>  
  
-   <span data-ttu-id="b3607-108">しきい値のパフォーマンス カウンター ログを分析します。</span><span class="sxs-lookup"><span data-stu-id="b3607-108">Analyzes performance counter logs for thresholds</span></span>  
  
-   <span data-ttu-id="b3607-109">Perfmon ログが大きくに役立ちます</span><span class="sxs-lookup"><span data-stu-id="b3607-109">Is helpful for large Perfmon logs</span></span>  
  
-   <span data-ttu-id="b3607-110">識別[!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)]とオペレーティング システムのパフォーマンス カウンターのボトルネックのしきい値を分析することで</span><span class="sxs-lookup"><span data-stu-id="b3607-110">Identifies [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] and operating system performance counter bottlenecks by analyzing for thresholds</span></span>  
  
-   <span data-ttu-id="b3607-111">拡張をパフォーマンス カウンターの分析を行うには</span><span class="sxs-lookup"><span data-stu-id="b3607-111">Is extensible to do analysis on any performance counters</span></span>  
  
-   <span data-ttu-id="b3607-112">独自のカウンターを作成する方法を使用することができます。</span><span class="sxs-lookup"><span data-stu-id="b3607-112">Can be used to help write your own counter</span></span>  
  
 <span data-ttu-id="b3607-113">PAL はから無償でダウンロードとして入手できます[ http://go.microsoft.com/fwlink/?linkid=98098](http://go.microsoft.com/fwlink/?linkid=98098)です。</span><span class="sxs-lookup"><span data-stu-id="b3607-113">PAL is available as a free download at [http://go.microsoft.com/fwlink/?linkid=98098](http://go.microsoft.com/fwlink/?linkid=98098).</span></span> <span data-ttu-id="b3607-114">これには、Microsoft の Log Parser が必要です。</span><span class="sxs-lookup"><span data-stu-id="b3607-114">It requires Microsoft Log Parser.</span></span> <span data-ttu-id="b3607-115">ログ パーサーは、イベント ログ、レジストリ、ファイル システム、およびアクティブなど、Windows オペレーティング システムでキーのデータ ソースに加え、ログ ファイル、XML ファイル、および CSV ファイルなどのテキスト ベースのデータへのユニバーサル クエリ アクセスを提供する強力で多目的ツールDirectory® ディレクトリ サービスです。</span><span class="sxs-lookup"><span data-stu-id="b3607-115">Log Parser is a powerful, versatile tool that provides universal query access to text-based data such as log files, XML files, and CSV files, as well as key data sources on the Windows operating system such as the event log, the registry, the file system, and Active Directory® directory service.</span></span> <span data-ttu-id="b3607-116">このツールを使用して大量のログ情報のクエリを実行する可能性があります。</span><span class="sxs-lookup"><span data-stu-id="b3607-116">You may want to use this tool to query a significant amount of logging information.</span></span> <span data-ttu-id="b3607-117">Log Parser ツールをダウンロードする[ http://go.microsoft.com/fwlink/?linkid=85574](http://go.microsoft.com/fwlink/?linkid=85574)です。</span><span class="sxs-lookup"><span data-stu-id="b3607-117">You can download the Log Parser tool at [http://go.microsoft.com/fwlink/?linkid=85574](http://go.microsoft.com/fwlink/?linkid=85574).</span></span>  
  
## <a name="using-pal-with-performance-counter-logs-in-different-languages"></a><span data-ttu-id="b3607-118">PAL を使用してパフォーマンス カウンターを異なる言語でログに記録します。</span><span class="sxs-lookup"><span data-stu-id="b3607-118">Using PAL with Performance Counter Logs in Different Languages</span></span>  
 <span data-ttu-id="b3607-119">PAL ツールでは、英語でのみのパフォーマンス カウンターのログを分析します。</span><span class="sxs-lookup"><span data-stu-id="b3607-119">The PAL tool analyzes performance counter logs only in English language.</span></span> <span data-ttu-id="b3607-120">他の言語でのパフォーマンス カウンターのログで、PAL ツールを使用するには、最初英語をログを変換する必要があります。</span><span class="sxs-lookup"><span data-stu-id="b3607-120">To use the PAL tool with performance counter logs in other languages, you must first translate the logs to English language.</span></span> <span data-ttu-id="b3607-121">使用することができます、 **Perfmon ログ トランスレーター**ツールで使用可能な[ http://go.microsoft.com/fwlink/?LinkId=158802 ](http://go.microsoft.com/fwlink/?LinkId=158802)に英語に元のパフォーマンス カウンター ログ ファイルを変換します。</span><span class="sxs-lookup"><span data-stu-id="b3607-121">You can use the **Perfmon Log Translator** tool available at [http://go.microsoft.com/fwlink/?LinkId=158802](http://go.microsoft.com/fwlink/?LinkId=158802) to translate the original performance counter log files to English.</span></span>  
  
## <a name="understanding-the-pal-tool-report-for-microsoft-biztalk-server-2010"></a><span data-ttu-id="b3607-122">Microsoft BizTalk Server 2010 の PAL ツールのレポートをについてください。</span><span class="sxs-lookup"><span data-stu-id="b3607-122">Understanding the PAL Tool Report for Microsoft BizTalk Server 2010</span></span>  
 <span data-ttu-id="b3607-123">PAL ツールでは、Windows オペレーティング システム、Microsoft SQL Server のパフォーマンス モニターのしきい値のログの分析と[!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)]です。</span><span class="sxs-lookup"><span data-stu-id="b3607-123">The PAL tool provides Perfmon log analysis of thresholds for the Windows operating system, Microsoft SQL Server, and [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)].</span></span> <span data-ttu-id="b3607-124">このセクションでは、PAL ツールで、BizTalk Server のしきい値のレポートの分析のほとんどについて説明します。</span><span class="sxs-lookup"><span data-stu-id="b3607-124">This section describes most of the analyses in the BizTalk Server threshold report in the PAL tool.</span></span>  
  
> [!NOTE]  
>  <span data-ttu-id="b3607-125">ここでは長い PAL ツールに関する包括的な情報を簡単に参照の 1 つの場所に格納できるようにします。</span><span class="sxs-lookup"><span data-stu-id="b3607-125">This topic is long so that comprehensive information about the PAL tool can be contained in one place for easy reference.</span></span>  
  
 <span data-ttu-id="b3607-126">次の分析としきい値は、PAL ツールによって報告されます。</span><span class="sxs-lookup"><span data-stu-id="b3607-126">The following analysis and thresholds are reported by the PAL tool.</span></span>  
  
|<span data-ttu-id="b3607-127">分析の種類と名前</span><span class="sxs-lookup"><span data-stu-id="b3607-127">Analysis Type and Name</span></span>|<span data-ttu-id="b3607-128">解析の説明</span><span class="sxs-lookup"><span data-stu-id="b3607-128">Analysis Description</span></span>|  
|----------------------------|--------------------------|  
|<span data-ttu-id="b3607-129">ディスク: ディスクの空き領域のカーネル ダンプ</span><span class="sxs-lookup"><span data-stu-id="b3607-129">Disk: Disk Free Space for a Kernel Dump</span></span>|<span data-ttu-id="b3607-130">この分析は、ディスクへのすべてのメモリをダンプするオペレーティング システムのための十分な空きディスク領域があるかどうかを確認することを確認します。</span><span class="sxs-lookup"><span data-stu-id="b3607-130">This analysis checks to make sure there is enough free disk space for the operating system to dump all memory to disk.</span></span> <span data-ttu-id="b3607-131">十分なディスク空き領域がある場合、オペレーティング システムは memory.dmp、これは、カーネル ダンプの根本原因を分析するために必要なファイルの作成に失敗します。</span><span class="sxs-lookup"><span data-stu-id="b3607-131">If insufficient disk space is available, then the operating system will fail to create a memory.dmp, file which is necessary to analyze the root cause of a kernel dump.</span></span>|  
|<span data-ttu-id="b3607-132">ディスク: 論理/物理ディスクのインターフェイスの分析</span><span class="sxs-lookup"><span data-stu-id="b3607-132">Disk: Logical/Physical Disk Interface Analysis</span></span>|<span data-ttu-id="b3607-133">この分析の各物理ディスクのアイドル時間を見ます。</span><span class="sxs-lookup"><span data-stu-id="b3607-133">This analysis looks at the idle time of each of the physical disks.</span></span> <span data-ttu-id="b3607-134">ほどアイドル状態のディスクが、ディスクの使用は低くします。</span><span class="sxs-lookup"><span data-stu-id="b3607-134">The more idle the disk is, the less the disk is being used.</span></span> <span data-ttu-id="b3607-135">論理ディスクで 1 つのディスクを使用する場合、このカウンターは適しています。</span><span class="sxs-lookup"><span data-stu-id="b3607-135">This counter is best used when one disk is used in the logical disk.</span></span> <span data-ttu-id="b3607-136">"% のアイドル時間"にディスクがアイドル状態だったサンプリング間隔中に時間の比率を報告します。</span><span class="sxs-lookup"><span data-stu-id="b3607-136">“% Idle Time” reports the percentage of time during the sample interval that the disk was idle.</span></span><br /><br /> <span data-ttu-id="b3607-137">ディスク バインドの問題は除きますリファレンス。 [http://go.microsoft.com/fwlink/?linkid=50669](http://go.microsoft.com/fwlink/?linkid=50669)</span><span class="sxs-lookup"><span data-stu-id="b3607-137">Reference:  Ruling Out Disk-Bound Problems at [http://go.microsoft.com/fwlink/?linkid=50669](http://go.microsoft.com/fwlink/?linkid=50669)</span></span>|  
|<span data-ttu-id="b3607-138">ディスク: 論理/物理ディスク読み取り/書き込み待機時間分析</span><span class="sxs-lookup"><span data-stu-id="b3607-138">Disk: Logical/Physical Disk Read/Write Latency Analysis</span></span>|<span data-ttu-id="b3607-139">ディスク パフォーマンスのボトルネックを検出するために Windows の最も信頼性の高い方法は、その応答時間を測定することによってです。</span><span class="sxs-lookup"><span data-stu-id="b3607-139">The most reliable way for Windows to detect a disk performance bottleneck is by measuring its response times.</span></span> <span data-ttu-id="b3607-140">応答時間が安全なしきい値である、.025 (25) (ミリ秒単位) を超える顕著な処理が遅く、パフォーマンスの問題をユーザーに影響を発生する可能性があります。</span><span class="sxs-lookup"><span data-stu-id="b3607-140">If the response times are greater than .025 (25 milliseconds), which is a conservative threshold, then noticeable slow-downs and performance issues affecting users may be occurring.</span></span> <span data-ttu-id="b3607-141">詳細については、このトピックの「論理/物理ディスク読み取り/書き込み待機時間分析を参照してください。</span><span class="sxs-lookup"><span data-stu-id="b3607-141">For more information, refer to Logical/Physical Disk Read/Write Latency Analysis in this topic.</span></span>|  
|<span data-ttu-id="b3607-142">ディスク: 論理ディスクの転送/秒</span><span class="sxs-lookup"><span data-stu-id="b3607-142">Disk: Logical Disk Transfers/sec</span></span>|<span data-ttu-id="b3607-143">「ディスクの転送/秒」は読み取り率、ディスク上の操作を書き込むとします。</span><span class="sxs-lookup"><span data-stu-id="b3607-143">“Disk Transfers/sec” is the rate of read and write operations on the disk.</span></span> <span data-ttu-id="b3607-144">この分析を確認してくださいかどうかの論理ディスクのいずれかのしきい値が表示される応答時間が長い (I/O 操作の応答時間を 25 ミリ秒より大きい)。</span><span class="sxs-lookup"><span data-stu-id="b3607-144">The thresholds for this analysis check to see whether any of the logical disks are showing poor response times (greater than 25 ms response times for I/O operations).</span></span> <span data-ttu-id="b3607-145">これが true の場合は、80 以上にし、1 秒あたりのディスク転送はする必要があります。</span><span class="sxs-lookup"><span data-stu-id="b3607-145">If this is true, then the disk transfers per second should be at or above 80.</span></span> <span data-ttu-id="b3607-146">それ以外の場合は、ディスクのアーキテクチャを調査する必要があります。</span><span class="sxs-lookup"><span data-stu-id="b3607-146">If not, then the disk architecture needs to be investigated.</span></span> <span data-ttu-id="b3607-147">不適切なディスク I/O の最も一般的な原因は、LUN、SAN でオーバー ロードです。</span><span class="sxs-lookup"><span data-stu-id="b3607-147">The most common cause of poor disk I/O is LUN overloading on the SAN.</span></span> <span data-ttu-id="b3607-148">詳細については、このトピックの内容の論理ディスクの転送/秒を参照してください。</span><span class="sxs-lookup"><span data-stu-id="b3607-148">For more information, refer to Logical Disk Transfers/sec in this topic.</span></span>|  
|<span data-ttu-id="b3607-149">ディスク: LogicalDisk % Free Space</span><span class="sxs-lookup"><span data-stu-id="b3607-149">Disk: LogicalDisk % Free Space</span></span>|<span data-ttu-id="b3607-150">"% の空き領域"が、選択した論理ディスク ドライブに空きの合計の空き領域の割合を指定します。</span><span class="sxs-lookup"><span data-stu-id="b3607-150">“% Free Space” is the percentage of total usable space that was free on the selected logical disk drive.</span></span> <span data-ttu-id="b3607-151">パフォーマンスは、ディスク ドライブの空き領域が 30% 未満になるまでにない影響する必要があります。</span><span class="sxs-lookup"><span data-stu-id="b3607-151">Performance should not be affected until the available disk drive space is less than 30 percent.</span></span> <span data-ttu-id="b3607-152">ディスク ドライブの 70% を使用すると残りの空き領域ある近い下位のパフォーマンス レベルで機能します。 ディスク ドライブの中央にあるディスクのスピンドルにします。</span><span class="sxs-lookup"><span data-stu-id="b3607-152">When 70 percent of the disk drive is used, the remaining free space is located closer to the disk's spindle at the center of the disk drive, which operates at a lower performance level.</span></span> <span data-ttu-id="b3607-153">ディスクの空き領域が不足しているには、重大なディスク パフォーマンスを可能性があります。</span><span class="sxs-lookup"><span data-stu-id="b3607-153">Lack of free disk space can cause severe disk performance.</span></span><br /><br /> <span data-ttu-id="b3607-154">参照: NT Server とのディスク サブシステムのパフォーマンス [http://go.microsoft.com/fwlink/?linkid=106783](http://go.microsoft.com/fwlink/?linkid=106783)</span><span class="sxs-lookup"><span data-stu-id="b3607-154">Reference:  NT Server and Disk Subsystem Performance at [http://go.microsoft.com/fwlink/?linkid=106783](http://go.microsoft.com/fwlink/?linkid=106783)</span></span>|  
|<span data-ttu-id="b3607-155">ディスク: は IO Data operations/sec を処理し、プロセスの I/O その他の動作数/秒の分析</span><span class="sxs-lookup"><span data-stu-id="b3607-155">Disk: Process IO Data Operations/sec and Process IO Other Operations/sec Analysis</span></span>|<span data-ttu-id="b3607-156">これらのカウンターは、ファイル、ネットワーク デバイスの I/o など、プロセスによって生成されるすべての I/O アクティビティをカウントします。</span><span class="sxs-lookup"><span data-stu-id="b3607-156">These counters count all I/O activity generated by the process to include file, network and device I/Os.</span></span> <span data-ttu-id="b3607-157">これらの解析では、プロセスが実行されては 1,000 を超える/O が 1 秒あたりのおよび警告としてフラグとを確認します。</span><span class="sxs-lookup"><span data-stu-id="b3607-157">These analyses check when processes are doing more than 1,000 I/O’s per second and flag it as a warning.</span></span> <span data-ttu-id="b3607-158">これらの解析は、I/O アクティビティに関連するプロセスを決定する最適なディスクの分析などの他の分析との相関関係で使用されます。</span><span class="sxs-lookup"><span data-stu-id="b3607-158">These analyses are best used in correlation with other analyses such as disk analysis to determine which processes might be involved in the I/O activity.</span></span>|  
|<span data-ttu-id="b3607-159">使用可能なメモリのメモリ:</span><span class="sxs-lookup"><span data-stu-id="b3607-159">Memory: Available Memory</span></span>|<span data-ttu-id="b3607-160">この分析は、使用可能なメモリの合計が低 ~ 10% の使用可能な警告かどうかを確認します。 と 5% の使用可能な重要な。</span><span class="sxs-lookup"><span data-stu-id="b3607-160">This analysis checks whether the total available memory is low – Warning at 10 percent available and Critical at 5 percent available.</span></span> <span data-ttu-id="b3607-161">警告は 1 時間あたり 10 MB の下降傾向が検出された場合、潜在的な予定されているメモリの状態を示していることにも警告します。</span><span class="sxs-lookup"><span data-stu-id="b3607-161">A warning is also alerted when a decreasing trend of 10 MB’s per hour is detected, which can indicate a potential upcoming memory condition.</span></span> <span data-ttu-id="b3607-162">物理メモリの不足には、増加した特権モード CPU とシステム遅延可能性があります。</span><span class="sxs-lookup"><span data-stu-id="b3607-162">Low physical memory can cause increased privileged mode CPU and system delays.</span></span> <span data-ttu-id="b3607-163">詳細については、このトピックで使用可能な MemoryAnalysis を参照してください。</span><span class="sxs-lookup"><span data-stu-id="b3607-163">For more information, refer to Available MemoryAnalysis in this topic.</span></span>|  
|<span data-ttu-id="b3607-164">空きシステム ページ テーブル エントリのメモリ:</span><span class="sxs-lookup"><span data-stu-id="b3607-164">Memory: Free System Page Table Entries</span></span>|<span data-ttu-id="b3607-165">空きシステム ページ テーブル エントリ (PTE) は、システムによって使用されていないページ テーブル エントリの数です。</span><span class="sxs-lookup"><span data-stu-id="b3607-165">Free System Page Table Entries (PTE’s) are the number of page table entries not currently used by the system.</span></span> <span data-ttu-id="b3607-166">この分析では、10,000 未満の空き PTE がある場合よりも少ない 5,000 空き PTE の警告が認識されるかどうかをチェックして、PTE の外にシステムが実行されているかどうかを判断します。</span><span class="sxs-lookup"><span data-stu-id="b3607-166">This analysis determines whether the system is running out of PTE’s by checking whether there are fewer than 5,000 free PTE’s with a Warning if there are fewer than 10,000 free PTE’s.</span></span> <span data-ttu-id="b3607-167">ための十分な PTE の不足すると、システム全体がハングする可能性がありますが、</span><span class="sxs-lookup"><span data-stu-id="b3607-167">Lack of enough PTE’s can result in systemwide hangs.</span></span> <span data-ttu-id="b3607-168">/3 GB スイッチは無料の PTE の量を大幅に下げるされます。</span><span class="sxs-lookup"><span data-stu-id="b3607-168">Also note that the /3GB switch will lower the amount of free PTE’s significantly.</span></span> <span data-ttu-id="b3607-169">詳細については、このトピックの空きシステム ページ テーブル エントリの分析を参照してください。</span><span class="sxs-lookup"><span data-stu-id="b3607-169">For more information, refer to Free System Page Table Entries Analysis in this topic.</span></span>|  
|<span data-ttu-id="b3607-170">メモリ: メモリ リークの検出</span><span class="sxs-lookup"><span data-stu-id="b3607-170">Memory: Memory Leak Detection</span></span>|<span data-ttu-id="b3607-171">この分析は、大量のシステムのメモリを消費、プロセスのいずれかどうかと、プロセスがメモリの消費量を時間の経過と共に増加しているかどうかを判断します。</span><span class="sxs-lookup"><span data-stu-id="b3607-171">This analysis determines whether any of the processes are consuming a large amount of the system's memory and whether the process is increasing in memory consumption over time.</span></span> <span data-ttu-id="b3607-172">プロセスがシステムにメモリを返す限り、メモリの大部分を使用しているプロセスは正常です。</span><span class="sxs-lookup"><span data-stu-id="b3607-172">A process consuming large portions of memory is fine as long as the process returns the memory back to the system.</span></span> <span data-ttu-id="b3607-173">グラフの傾向を増やすことを探します。</span><span class="sxs-lookup"><span data-stu-id="b3607-173">Look for increasing trends in the chart.</span></span> <span data-ttu-id="b3607-174">長期間にわたって上昇傾向は、メモリ リークである可能性があります。</span><span class="sxs-lookup"><span data-stu-id="b3607-174">An increasing trend over a long period of time could indicate a memory leak.</span></span> <span data-ttu-id="b3607-175">「プライベート バイト」は、このプロセスによって割り当てられ、他のプロセスと共有できないメモリのバイト単位で、現在のサイズです。</span><span class="sxs-lookup"><span data-stu-id="b3607-175">“Private Bytes” is the current size, in bytes, of memory that this process has allocated that cannot be shared with other processes.</span></span> <span data-ttu-id="b3607-176">この分析は、1 時間あたりの 10 の MB、5 MB の/時間の傾向を増やすことを確認します。</span><span class="sxs-lookup"><span data-stu-id="b3607-176">This analysis checks for 10 MB’s per hour and 5 MB’s per hour increasing trends.</span></span> <span data-ttu-id="b3607-177">PAL の使用可能なメモリ分析との相関関係でこの分析を使用します。</span><span class="sxs-lookup"><span data-stu-id="b3607-177">Use this analysis in correlation with the Available Memory analysis in PAL.</span></span> <span data-ttu-id="b3607-178">詳細については、このトピックでメモリ リークの検出分析を参照してください。</span><span class="sxs-lookup"><span data-stu-id="b3607-178">For more information, refer to Memory Leak Detection Analysis in this topic.</span></span>|  
|<span data-ttu-id="b3607-179">メモリ: ハンドルのリークの検出</span><span class="sxs-lookup"><span data-stu-id="b3607-179">Memory: Handle Leak Detection</span></span>|<span data-ttu-id="b3607-180">この分析は、すべての各ハンドルの数を決定するプロセスが開いているハンドルのリークが発生するかどうかを決定する疑いがある場合を確認します。</span><span class="sxs-lookup"><span data-stu-id="b3607-180">This analysis checks all of the processes to determine how many handles each has open and to determine whether a handle leak is suspected.</span></span> <span data-ttu-id="b3607-181">大量のハンドルまたは積極的な上昇傾向を持つプロセスには、通常、メモリ リークが、ハンドルのリークことを示します。</span><span class="sxs-lookup"><span data-stu-id="b3607-181">A process with a large number of handles and/or an aggressive upward trend could indicate a handle leak, which typically results in a memory leak.</span></span> <span data-ttu-id="b3607-182">このプロセスで現在開いているハンドルの合計数は、このプロセスでは、各スレッドが現在開いているハンドルの合計に等しいです。</span><span class="sxs-lookup"><span data-stu-id="b3607-182">The total number of handles currently open by this process is equal to the sum of the handles currently open by each thread in this process.</span></span><br /><br /> <span data-ttu-id="b3607-183">参照: デバッグでの診断ツール v1.1 [http://go.microsoft.com/fwlink/?linkid=106784](http://go.microsoft.com/fwlink/?linkid=106784)</span><span class="sxs-lookup"><span data-stu-id="b3607-183">Reference:  Debug Diagnostic Tool v1.1 at [http://go.microsoft.com/fwlink/?linkid=106784](http://go.microsoft.com/fwlink/?linkid=106784)</span></span>|  
|<span data-ttu-id="b3607-184">メモリ: メモリ Pages input/sec</span><span class="sxs-lookup"><span data-stu-id="b3607-184">Memory: Memory Pages Input/sec</span></span>|<span data-ttu-id="b3607-185">「ページの入力数/秒」ハード ページ フォールトを解決するのにはディスクから読み取らはページの率です。</span><span class="sxs-lookup"><span data-stu-id="b3607-185">“Pages Input/sec” is the rate at which pages are read from disk to resolve hard page faults.</span></span> <span data-ttu-id="b3607-186">プロセスのワーキング セットまたは物理メモリは、他の場所は、ディスクから取得する必要がある仮想メモリのページを参照する場合、ハード ページ フォールトが発生します。</span><span class="sxs-lookup"><span data-stu-id="b3607-186">Hard page faults occur when a process refers to a page in virtual memory that is not in its working set or elsewhere in physical memory, and must be retrieved from disk.</span></span> <span data-ttu-id="b3607-187">この分析では、1 秒あたり 10 個より多くのページ ファイルの読み取りがあるかどうかを確認します。</span><span class="sxs-lookup"><span data-stu-id="b3607-187">This analysis checks whether there are more than 10 page file reads per second.</span></span>|  
|<span data-ttu-id="b3607-188">メモリ: メモリのページ/秒</span><span class="sxs-lookup"><span data-stu-id="b3607-188">Memory: Memory Pages/sec</span></span>|<span data-ttu-id="b3607-189">この分析は、"pages/sec"が遠く (1,000) かどうかを確認します。</span><span class="sxs-lookup"><span data-stu-id="b3607-189">This analysis checks to see whether the “Pages/sec” is high (above 1,000).</span></span> <span data-ttu-id="b3607-190">高である場合、システム可能性がありますメモリが不足するしようとしたため、ディスクへのメモリ ページです。</span><span class="sxs-lookup"><span data-stu-id="b3607-190">If it is high, then the system is likely running out of memory by trying to page the memory to the disk.</span></span> <span data-ttu-id="b3607-191">「1 秒あたりのページ数」は、ページの読み取りまたはハード ページ フォールトを解決するのにはディスクに書き込まれる位置です。</span><span class="sxs-lookup"><span data-stu-id="b3607-191">“Pages/sec” is the rate at which pages are read from or written to disk to resolve hard page faults.</span></span> <span data-ttu-id="b3607-192">このカウンターは、システム全体の遅延を引き起こすフォールトのプライマリ インジケーターです。</span><span class="sxs-lookup"><span data-stu-id="b3607-192">This counter is a primary indicator of the kinds of faults that cause systemwide delays.</span></span>  <span data-ttu-id="b3607-193">使用可能なメモリや PAL 内のメモリ リークの検出分析との相関関係でこの分析を使用します。</span><span class="sxs-lookup"><span data-stu-id="b3607-193">Use this analysis in correlation with Available Memory analysis and Memory Leak Detection analysis in PAL.</span></span> <span data-ttu-id="b3607-194">場合は、同時にすべてこれらの分析の警告がスローされることは、し、この可能性があります、システムがメモリ不足していると、疑いのあるプロセスが関係しているし、PAL 内のメモリ リークの検出分析に記載されている analysis 手順に従います。</span><span class="sxs-lookup"><span data-stu-id="b3607-194">If all of these analyses are throwing alerts at the same time, then this may indicate the system is running out of memory and the suspected processes involved and follow analysis steps mentioned in the Memory Leak Detection analysis in PAL.</span></span><br /><br /> <span data-ttu-id="b3607-195">詳細については、このトピックでのメモリ ページ数/秒の分析を参照してください。</span><span class="sxs-lookup"><span data-stu-id="b3607-195">For more information, refer to Memory Pages/sec Analysis in this topic.</span></span>|  
|<span data-ttu-id="b3607-196">メモリ: メモリ システム キャッシュの常駐バイト数</span><span class="sxs-lookup"><span data-stu-id="b3607-196">Memory: Memory System Cache Resident Bytes</span></span>|<span data-ttu-id="b3607-197">「システム キャッシュの常駐バイト」は、ファイル システム キャッシュ内でオペレーティング システムのページング可能なコードのバイト単位のサイズです。</span><span class="sxs-lookup"><span data-stu-id="b3607-197">“System Cache Resident Bytes” is the size, in bytes, of the pageable operating system code in the file system cache.</span></span> <span data-ttu-id="b3607-198">この値は、現在の物理的なページのみが含まれています、現在常駐していない仮想メモリ ページは含まれません。</span><span class="sxs-lookup"><span data-stu-id="b3607-198">This value includes only current physical pages and does not include any virtual memory pages not currently resident.</span></span> <span data-ttu-id="b3607-199">この値は、コンポーネントの"メモリ\\\System コードの常駐バイト数"物理メモリに現在あるすべてのオペレーティング システムのページング可能なコードを表します。</span><span class="sxs-lookup"><span data-stu-id="b3607-199">This value is a component of “Memory\\\System Code Resident Bytes” which represents all pageable operating system code that is currently in physical memory.</span></span> <span data-ttu-id="b3607-200">このカウンターは、最後に計測された値のみを表示します。平均値ではありません。</span><span class="sxs-lookup"><span data-stu-id="b3607-200">This counter displays the last observed value only; it is not an average.</span></span> <span data-ttu-id="b3607-201">この分析では、1 時間あたり 10 MB の上昇傾向を確認します。</span><span class="sxs-lookup"><span data-stu-id="b3607-201">This analysis checks for an increasing trend of 10 MB’s per hour.</span></span> <span data-ttu-id="b3607-202">負荷の下で、サーバーは、ディスクなどの I/O アクティビティをキャッシュするためにシステム キャッシュを使用する場合があります。</span><span class="sxs-lookup"><span data-stu-id="b3607-202">Under load, a server might use the system cache in order to cache I/O activity such as disk.</span></span> <span data-ttu-id="b3607-203">使用して相関関係でプロセス IO Data operations/sec とその他のプロセス IO 操作/秒 PAL に解析します。</span><span class="sxs-lookup"><span data-stu-id="b3607-203">Use in correlation with Process IO Data Operations/sec and Process IO Other Operations/sec analyses in PAL.</span></span><br /><br /> <span data-ttu-id="b3607-204">参照: ファイル キャッシュのパフォーマンスとチューニング [http://go.microsoft.com/fwlink/?linkid=106786](http://go.microsoft.com/fwlink/?linkid=106786)</span><span class="sxs-lookup"><span data-stu-id="b3607-204">Reference: File Cache Performance and Tuning at [http://go.microsoft.com/fwlink/?linkid=106786](http://go.microsoft.com/fwlink/?linkid=106786)</span></span>|  
|<span data-ttu-id="b3607-205">メモリ: 非プール (ページ バイト)</span><span class="sxs-lookup"><span data-stu-id="b3607-205">Memory: Pool Non Paged Bytes</span></span>|<span data-ttu-id="b3607-206">"Pool Nonpaged Bytes"は、サイズ、(バイト単位) を書き込むことができないオブジェクトのシステム メモリの領域、非ページ プールのディスクしますが、割り当てられる限り物理メモリ内に存在する必要があります。</span><span class="sxs-lookup"><span data-stu-id="b3607-206">“Pool Nonpaged Bytes” is the size, in bytes, of the non-paged pool, an area of system memory for objects that cannot be written to disk, but must remain in physical memory as long as they are allocated.</span></span> <span data-ttu-id="b3607-207">この分析では、システム非プールの最大の近くに今後予定されているかどうかを表示するページ メモリのサイズを確認します。</span><span class="sxs-lookup"><span data-stu-id="b3607-207">This analysis checks to see whether the system is coming close to the maximum pool non paged memory size.</span></span> <span data-ttu-id="b3607-208">これは、考慮に入れて、プール サイズの見積もりで/3 GB、物理メモリ サイズ、および 32 ビットまたは 64 ビット、しを決定する値は、推定プール サイズの 60% を超えるかどうか。</span><span class="sxs-lookup"><span data-stu-id="b3607-208">It does this by estimating the pool sizes taking into consideration /3GB, physical memory size, and 32-bit/64-bit, then determining whether the value is higher than 60 percent of the estimated pool size.</span></span> <span data-ttu-id="b3607-209">システムは、最大サイズに近いになると、システムの間でシステム ワイド ハングが発生でした。</span><span class="sxs-lookup"><span data-stu-id="b3607-209">If the system becomes close to the maximum size, then the system could experience system wide hangs.</span></span><br /><br /> <span data-ttu-id="b3607-210">Boot.ini ファイルで 3 GB スイッチ オプションでは、このメモリ プールのサイズが大幅に削減されます。</span><span class="sxs-lookup"><span data-stu-id="b3607-210">The /3GB switch option in the boot.ini file significantly reduces the size of this memory pool.</span></span><br /><br /> <span data-ttu-id="b3607-211">詳細については、このトピックの「Pool Non-Paged バイト分析を参照してください。</span><span class="sxs-lookup"><span data-stu-id="b3607-211">For more information, refer to Pool Non-Paged Bytes Analysis in this topic.</span></span>|  
|<span data-ttu-id="b3607-212">メモリ プール (ページ バイト)</span><span class="sxs-lookup"><span data-stu-id="b3607-212">Memory: Pool Paged Bytes</span></span>|<span data-ttu-id="b3607-213">この分析では、システムが最大プールに近いものかどうかを表示するページ メモリのサイズを確認します。</span><span class="sxs-lookup"><span data-stu-id="b3607-213">This analysis checks to see whether the system is coming close to the maximum pool paged memory size.</span></span> <span data-ttu-id="b3607-214">これは、考慮に入れて、プール サイズの見積もりで/3 GB、物理メモリ サイズ、および 32 ビットまたは 64 ビット、しを決定する値は、推定プール サイズの 60% を超えるかどうか。</span><span class="sxs-lookup"><span data-stu-id="b3607-214">It does this by estimating the pool sizes taking into consideration /3GB, physical memory size, and 32-bit/64-bit, then determining whether the value is higher than 60 percent of the estimated pool size.</span></span> <span data-ttu-id="b3607-215">システムは、最大サイズに近いになると、システムの間でシステム ワイド ハングが発生でした。</span><span class="sxs-lookup"><span data-stu-id="b3607-215">If the system becomes close to the maximum size, then the system could experience system wide hangs.</span></span><br /><br /> <span data-ttu-id="b3607-216">Boot.ini ファイルで 3 GB スイッチ オプションでは、このメモリ プールのサイズが大幅に削減されます。</span><span class="sxs-lookup"><span data-stu-id="b3607-216">The /3GB switch option in the boot.ini file significantly reduces the size of this memory pool.</span></span><br /><br /> <span data-ttu-id="b3607-217">詳細については、このトピックの「プール Paged Bytes 分析を参照してください。</span><span class="sxs-lookup"><span data-stu-id="b3607-217">For more information, refer to Pool Paged Bytes Analysis in this topic.</span></span>|  
|<span data-ttu-id="b3607-218">メモリ: プロセスのスレッド数</span><span class="sxs-lookup"><span data-stu-id="b3607-218">Memory: Process Thread Count</span></span>|<span data-ttu-id="b3607-219">この分析では、すべてのプロセスが 500 を超えるスレッドを持つかどうかと、1 時間あたり 50 のスレッドでスレッドの数を増やすかどうかを判断するプロセスを確認します。</span><span class="sxs-lookup"><span data-stu-id="b3607-219">This analysis checks all of the processes to determine whether a process has more than 500 threads and if the number of threads is increasing by 50 threads per hour.</span></span> <span data-ttu-id="b3607-220">大量のスレッドまたは積極的な上昇傾向を持つプロセスには、メモリ リークまたは高のコンテキストの切り替えのいずれかになるスレッド リークことを示します。</span><span class="sxs-lookup"><span data-stu-id="b3607-220">A process with a large number of threads and/or an aggressive upward trend could indicate a thread leak which typically results in either a memory leak or high context switching.</span></span> <span data-ttu-id="b3607-221">高コンテキストの切り替えは、高い特権モード CPU になります。</span><span class="sxs-lookup"><span data-stu-id="b3607-221">High context switching will result in high privileged mode CPU.</span></span>|  
|<span data-ttu-id="b3607-222">メモリ: プロセスのワーキング セット</span><span class="sxs-lookup"><span data-stu-id="b3607-222">Memory: Process Working Set</span></span>|<span data-ttu-id="b3607-223">「ワーキング セット」は、このプロセスのワーキング セットのバイト単位で、現在のサイズ。</span><span class="sxs-lookup"><span data-stu-id="b3607-223">“Working Set” is the current size, in bytes, of the working set of this process.</span></span> <span data-ttu-id="b3607-224">ワーキング セットは、プロセス内のスレッドが最近使用したメモリ ページのセットです。</span><span class="sxs-lookup"><span data-stu-id="b3607-224">The working set is the set of memory pages touched recently by the threads in the process.</span></span> <span data-ttu-id="b3607-225">コンピューターの空きメモリがしきい値を超えた場合は、ページは、使用されていない場合でも、プロセスのワーキング セットに残されます。</span><span class="sxs-lookup"><span data-stu-id="b3607-225">If free memory in the computer is above a threshold, pages are left in the working set of a process even if they are not in use.</span></span> <span data-ttu-id="b3607-226">空きメモリ容量がしきい値を下回った場合は、ワーキング セットからページがトリミングします。</span><span class="sxs-lookup"><span data-stu-id="b3607-226">When free memory falls below a threshold, pages are trimmed from working sets.</span></span> <span data-ttu-id="b3607-227">必要な場合、されますワーキング セットに戻るメイン メモリから出る前にします。</span><span class="sxs-lookup"><span data-stu-id="b3607-227">If they are needed they will then be soft-faulted back into the working set before leaving main memory.</span></span> <span data-ttu-id="b3607-228">この分析は、10 MB の上昇傾向または各プロセスの詳細を確認します。</span><span class="sxs-lookup"><span data-stu-id="b3607-228">This analysis checks for an increasing trend of 10 MB’s or more in each of the processes.</span></span> <span data-ttu-id="b3607-229">使用可能なメモリ分析が PAL 内の相関関係で使用します。</span><span class="sxs-lookup"><span data-stu-id="b3607-229">Use in correlation with Available Memory analysis in PAL.</span></span><br /><br /> <span data-ttu-id="b3607-230">参照: でのメモリのボトルネックの検出 [http://go.microsoft.com/fwlink/?linkid=106787](http://go.microsoft.com/fwlink/?linkid=106787)</span><span class="sxs-lookup"><span data-stu-id="b3607-230">Reference:  Detecting Memory Bottlenecks at [http://go.microsoft.com/fwlink/?linkid=106787](http://go.microsoft.com/fwlink/?linkid=106787)</span></span>|  
|<span data-ttu-id="b3607-231">ネットワーク: ネットワークの出力キューの長さの分析</span><span class="sxs-lookup"><span data-stu-id="b3607-231">Network: Network Output Queue Length Analysis</span></span>|<span data-ttu-id="b3607-232">この分析は、ネットワーク アダプターを待機しているスレッドの数を確認します。</span><span class="sxs-lookup"><span data-stu-id="b3607-232">This analysis checks to see how many threads are waiting on the network adapter.</span></span> <span data-ttu-id="b3607-233">場合は、ネットワーク アダプターでは、多数のスレッドが待機している、し、システムはおそらく飽和状態になるネットワーク待機時間やネットワーク帯域幅のため、ネットワーク I/O。</span><span class="sxs-lookup"><span data-stu-id="b3607-233">If a lot of threads are waiting on the network adapter, then the system is probably saturating the network I/O due to network latency or network bandwidth.</span></span> <span data-ttu-id="b3607-234">「出力キューの長さ」は、パケット単位で、出力パケット キューの長さです。</span><span class="sxs-lookup"><span data-stu-id="b3607-234">“Output Queue Length” is the length of the output packet queue (in packets).</span></span> <span data-ttu-id="b3607-235">遅延が示されます。 これは、2 より長い場合と、ボトルネックを調査してください、可能であれば除去します。</span><span class="sxs-lookup"><span data-stu-id="b3607-235">Delays are indicated if this is longer than two, and the bottleneck should be found and eliminated, if possible.</span></span> <span data-ttu-id="b3607-236">ネットワークの出力キューの一般的な原因には、多数小規模なネットワーク要求とネットワークの待機時間にはが含まれます。</span><span class="sxs-lookup"><span data-stu-id="b3607-236">Typical causes of network output queuing include high numbers of small network requests and network latency.</span></span>|  
|<span data-ttu-id="b3607-237">ネットワーク: ネットワーク使用率の分析</span><span class="sxs-lookup"><span data-stu-id="b3607-237">Network: Network Utilization Analysis</span></span>|<span data-ttu-id="b3607-238">「バイト合計/秒」は、フレーム文字も含めて、各ネットワーク アダプタ上で送受信はバイトです。</span><span class="sxs-lookup"><span data-stu-id="b3607-238">“Bytes Total/sec” is the rate at which bytes are sent and received over each network adapter, including framing characters.</span></span> <span data-ttu-id="b3607-239">"Network interface \bytes received/sec"は、"Network interface \bytes received/sec"および"Network interface \bytes sent/sec"の合計です。</span><span class="sxs-lookup"><span data-stu-id="b3607-239">“Network Interface\Bytes Received/sec” is a sum of “Network Interface\Bytes Received/sec” and “Network Interface\Bytes Sent/sec”.</span></span> <span data-ttu-id="b3607-240">このカウンターでは、ネットワーク アダプターでトラフィックが飽和状態かどうかと、別のネットワーク アダプターを追加する必要があるかどうかを把握するのに役立ちます。</span><span class="sxs-lookup"><span data-stu-id="b3607-240">This counter helps you know whether the traffic at your network adapter is saturated and whether you need to add another network adapter.</span></span> <span data-ttu-id="b3607-241">問題を特定するどの程度の速度によって異なりますだけでなく他のアプリケーションと帯域幅を共有するかどうかのネットワークがある場合。</span><span class="sxs-lookup"><span data-stu-id="b3607-241">How quickly you can identify a problem depends on the type of network you have as well as whether you share bandwidth with other applications.</span></span> <span data-ttu-id="b3607-242">この分析では、ビットを「バイト合計/秒」に変換し、ネットワーク使用率を計算するネットワーク アダプターの現在の帯域幅を比較します。</span><span class="sxs-lookup"><span data-stu-id="b3607-242">This analysis converts “Bytes Total/sec” to bits and compares it to the current bandwidth of the network adapter to calculate network utilization.</span></span> <span data-ttu-id="b3607-243">次に、使用率が 50% を超えたことを確認します。</span><span class="sxs-lookup"><span data-stu-id="b3607-243">Next, it checks for utilization above 50 percent.</span></span><br /><br /> <span data-ttu-id="b3607-244">参照: での .NET アプリケーション パフォーマンスの測定 [http://go.microsoft.com/fwlink/?linkid=106788](http://go.microsoft.com/fwlink/?linkid=106788)</span><span class="sxs-lookup"><span data-stu-id="b3607-244">Reference:  Measuring .NET Application Performance at [http://go.microsoft.com/fwlink/?linkid=106788](http://go.microsoft.com/fwlink/?linkid=106788)</span></span>|  
|<span data-ttu-id="b3607-245">ページング ファイル: ページング ファイルの使用率 % と % 使用率のピーク</span><span class="sxs-lookup"><span data-stu-id="b3607-245">Paging File: Paging File % Usage and % Usage Peak</span></span>|<span data-ttu-id="b3607-246">パーセント単位での使用中のページ ファイル インスタンスの量。</span><span class="sxs-lookup"><span data-stu-id="b3607-246">The amount of the page file instance in use in percent.</span></span> <span data-ttu-id="b3607-247">参照"プロセス\\\Page File Bytes"です。</span><span class="sxs-lookup"><span data-stu-id="b3607-247">See also “Process\\\Page File Bytes”.</span></span> <span data-ttu-id="b3607-248">この分析では、使用率が 70% を超えるかどうかを確認します。</span><span class="sxs-lookup"><span data-stu-id="b3607-248">This analysis checks whether the percentage of usage is greater than 70 percent.</span></span>|  
|<span data-ttu-id="b3607-249">プロセッサ: プロセッサ使用率の分析やプロセスによって過度なプロセッサの使用</span><span class="sxs-lookup"><span data-stu-id="b3607-249">Processor: Processor Utilization Analysis and Excessive Processor Use by Processes</span></span>|<span data-ttu-id="b3607-250">このカウンターはプロセッサの処理状況を示すプライマリ インジケータであり、サンプリング間隔中に測定されたビジー時間の割合の平均値を表示します。</span><span class="sxs-lookup"><span data-stu-id="b3607-250">This counter is the primary indicator of processor activity and displays the average percentage of busy time observed during the sample interval.</span></span> <span data-ttu-id="b3607-251">サービスはアクティブでない時間を監視し、その値を 100% から引いて算出します。</span><span class="sxs-lookup"><span data-stu-id="b3607-251">It is calculated by monitoring the time that the service is inactive and subtracting that value from 100 percent.</span></span> <span data-ttu-id="b3607-252">この分析では、各プロセッサの 60% を超える使用率を確認します。</span><span class="sxs-lookup"><span data-stu-id="b3607-252">This analysis checks for utilization greater than 60 percent on each processor.</span></span> <span data-ttu-id="b3607-253">場合は、高度なユーザー モード CPU または高の特権モードであるかどうかを決定します。</span><span class="sxs-lookup"><span data-stu-id="b3607-253">If so, determine whether it is high user mode CPU or high privileged mode.</span></span> <span data-ttu-id="b3607-254">高い特権モード CPU が疑われる場合、PAL 内の特権モード CPU の分析を参照してください。</span><span class="sxs-lookup"><span data-stu-id="b3607-254">If high privileged mode CPU is suspected, then see the Privileged Mode CPU analysis in PAL.</span></span> <span data-ttu-id="b3607-255">ユーザー モードのプロセッサのボトルネックが疑いがある場合、プロセスのプロファイラーを使用して、CPU の消費が発生した関数を分析するを検討します。</span><span class="sxs-lookup"><span data-stu-id="b3607-255">If a user-mode processor bottleneck is suspected, then consider using a process profiler to analyze the functions causing the high CPU consumption.</span></span>|  
|<span data-ttu-id="b3607-256">プロセッサ: プロセッサ キューの長さ</span><span class="sxs-lookup"><span data-stu-id="b3607-256">Processor: Processor Queue Length</span></span>|<span data-ttu-id="b3607-257">この分析では、平均プロセッサ キューの長さがプロセッサの数を超えるかどうかを判断します。</span><span class="sxs-lookup"><span data-stu-id="b3607-257">This analysis determines whether the average processor queue length exceeds the number of processors.</span></span> <span data-ttu-id="b3607-258">場合は、プロセッサのボトルネックをあるこの可能性があります。</span><span class="sxs-lookup"><span data-stu-id="b3607-258">If so, then this could indicate a processor bottleneck.</span></span> <span data-ttu-id="b3607-259">PAL 内のプロセスの分析での特権モード CPU の分析とプロセッサ使用率が過剰な相関関係でこの分析を使用します。</span><span class="sxs-lookup"><span data-stu-id="b3607-259">Use this analysis in correlation with Privileged Mode CPU analysis and Excessive Processor Use by Process analysis in PAL.</span></span> <span data-ttu-id="b3607-260">詳細については、このトピックの「プロセッサ キュー長さ分析を参照してください。</span><span class="sxs-lookup"><span data-stu-id="b3607-260">For detailed information, refer to Processor Queue Length Analysis in this topic.</span></span>|  
|<span data-ttu-id="b3607-261">プロセッサ: 特権モードの CPU の分析</span><span class="sxs-lookup"><span data-stu-id="b3607-261">Processor:  Privileged Mode CPU Analysis</span></span>|<span data-ttu-id="b3607-262">このカウンターは、スレッドが特権モードで実行時間の割合を示します。</span><span class="sxs-lookup"><span data-stu-id="b3607-262">This counter indicates the percentage of time a thread runs in privileged mode.</span></span> <span data-ttu-id="b3607-263">アプリケーションが (たとえば、ファイルまたはネットワーク I/O を実行するか、メモリを割り当てるなど) のオペレーティング システム関数を呼び出すと、これらのオペレーティング システム関数が特権モードで実行されます。</span><span class="sxs-lookup"><span data-stu-id="b3607-263">When your application calls operating system functions (for example to perform file or network I/O or to allocate memory), these operating system functions are executed in privileged mode.</span></span> <span data-ttu-id="b3607-264">この分析は、特権モード CPU が CPU の合計の 30% 以上を消費しているかどうかを確認します。</span><span class="sxs-lookup"><span data-stu-id="b3607-264">This analysis checks to see whether privileged mode CPU is consuming more than 30 percent of total CPU.</span></span> <span data-ttu-id="b3607-265">CPU 消費率が高いし、そのため場合、は、ネットワーク、メモリ、ディスク I/O など、プロセッサ以外の別のボトルネックによって発生します。</span><span class="sxs-lookup"><span data-stu-id="b3607-265">If so, then the CPU consumption is likely caused by another bottleneck other than the processor such as network, memory, or disk I/O.</span></span> <span data-ttu-id="b3607-266">プロセッサとの相関関係で使用する: % Interrupt Time およびプロセッサ: PAL 内の高いコンテキストの切り替えの解析します。</span><span class="sxs-lookup"><span data-stu-id="b3607-266">Use in correlation with Processor:  % Interrupt Time and Processor:  High Context Switching analyses in PAL.</span></span> <span data-ttu-id="b3607-267">詳細については、このトピックの特権モードの CPU の分析を参照してください。</span><span class="sxs-lookup"><span data-stu-id="b3607-267">For more information, refer to Privileged Mode CPU Analysis in this topic.</span></span>|  
|<span data-ttu-id="b3607-268">割り込み時間のプロセッサ。</span><span class="sxs-lookup"><span data-stu-id="b3607-268">Processor: Interrupt Time</span></span>|<span data-ttu-id="b3607-269">"% の割り込み時間"は、サンプリング間隔中にハードウェアの割り込みの受信と、プロセッサが費やす時間。</span><span class="sxs-lookup"><span data-stu-id="b3607-269">“% Interrupt Time” is the time the processor spends receiving and servicing hardware interrupts during sample intervals.</span></span> <span data-ttu-id="b3607-270">この値は、システム クロック、マウス、ディスク ドライバ、データ通信ライン、ネットワーク インターフェイス カードおよび他の周辺機器など割り込みを生成するデバイスの処理状況を間接的に示します。</span><span class="sxs-lookup"><span data-stu-id="b3607-270">This value is an indirect indicator of the activity of devices that generate interrupts, such as the system clock, the mouse, disk drivers, data communication lines, network interface cards and other peripheral devices.</span></span> <span data-ttu-id="b3607-271">タスクが完了または注意を必要としたとき、これらのデバイスは通常、プロセッサを中断します。</span><span class="sxs-lookup"><span data-stu-id="b3607-271">These devices normally interrupt the processor when they have completed a task or require attention.</span></span> <span data-ttu-id="b3607-272">標準スレッドの実行は、割り込み中は中断されます。</span><span class="sxs-lookup"><span data-stu-id="b3607-272">Normal thread execution is suspended during interrupts.</span></span> <span data-ttu-id="b3607-273">システム クロックのほとんどは、割り込み処理状況のバック グラウンドを作成しながら、10 ミリ秒ごとに、プロセッサを中断します。</span><span class="sxs-lookup"><span data-stu-id="b3607-273">Most system clocks interrupt the processor every 10 milliseconds, creating a background of interrupt activity.</span></span> <span data-ttu-id="b3607-274">このカウンターに、大幅に向上では、潜在的なハードウェアの問題を示します。</span><span class="sxs-lookup"><span data-stu-id="b3607-274">A dramatic increase in this counter indicates potential hardware problems.</span></span> <span data-ttu-id="b3607-275">この分析は、「% Interrupt Time」のチェック 30% より大きい。</span><span class="sxs-lookup"><span data-stu-id="b3607-275">This analysis checks for “% Interrupt Time” greater than 30 percent.</span></span> <span data-ttu-id="b3607-276">この場合、このアラートに関連しているハードウェアのデバイス ドライバーを更新し、検討してください。</span><span class="sxs-lookup"><span data-stu-id="b3607-276">If this occurs, then consider updating devices drivers for hardware that correlates to this alert.</span></span><br /><br /> <span data-ttu-id="b3607-277">参照: での .NET アプリケーション パフォーマンスの測定 [http://go.microsoft.com/fwlink/?linkid=106788](http://go.microsoft.com/fwlink/?linkid=106788)</span><span class="sxs-lookup"><span data-stu-id="b3607-277">Reference: Measuring .NET Application Performance at [http://go.microsoft.com/fwlink/?linkid=106788](http://go.microsoft.com/fwlink/?linkid=106788)</span></span>|  
|<span data-ttu-id="b3607-278">プロセッサ: 高コンテキストの切り替え</span><span class="sxs-lookup"><span data-stu-id="b3607-278">Processor:  High Context Switching</span></span>|<span data-ttu-id="b3607-279">コンテキスト スイッチには、優先順位が高いスレッド横取り優先順位の低いスレッドが現在実行されているとき、または優先度の高いスレッドがブロックが発生します。</span><span class="sxs-lookup"><span data-stu-id="b3607-279">A context switch happens when a higher priority thread preempts a lower priority thread that is currently running or when a high priority thread blocks.</span></span> <span data-ttu-id="b3607-280">高レベルのコンテキストの切り替えは、多くのスレッドが同じ優先順位を共有する場合に発生します。</span><span class="sxs-lookup"><span data-stu-id="b3607-280">High levels of context switching can occur when many threads share the same priority level.</span></span> <span data-ttu-id="b3607-281">これは、多くの場合、システムのプロセッサをスレッドが多すぎるが競合することを示します。</span><span class="sxs-lookup"><span data-stu-id="b3607-281">This often indicates that too many threads are competing for the processors on the system.</span></span> <span data-ttu-id="b3607-282">一般的な規則として、プロセッサごとの 1 秒あたりの 5,000 未満のコンテキスト切り替えのレートはに関して心配する価値があります。</span><span class="sxs-lookup"><span data-stu-id="b3607-282">As a general rule, context switching rates of less than 5,000 per second per processor are not worth worrying about.</span></span> <span data-ttu-id="b3607-283">コンテキスト切り替えレートは、プロセッサごとの 1 秒あたりの 15,000 を超えている場合、制約があります。</span><span class="sxs-lookup"><span data-stu-id="b3607-283">If context switching rates exceed 15,000 per second per processor, then there is a constraint.</span></span> <span data-ttu-id="b3607-284">詳細については、このトピックの「高コンテキスト切り替え分析を参照してください。</span><span class="sxs-lookup"><span data-stu-id="b3607-284">For more information, refer to High Context Switching Analysis in this topic.</span></span>|  
|<span data-ttu-id="b3607-285">Microsof BizTalk サーバー: BizTalk オーケストレーションを退避</span><span class="sxs-lookup"><span data-stu-id="b3607-285">Microsof BizTalk Server: BizTalk Dehydrating Orchestrations</span></span>|<span data-ttu-id="b3607-286">多くの実行時間の長いビジネス プロセスを同時に実行しているときに、メモリおよびパフォーマンスに関する問題が可能です。</span><span class="sxs-lookup"><span data-stu-id="b3607-286">When many long-running business processes are running at the same time, memory and performance issues are possible.</span></span> <span data-ttu-id="b3607-287">オーケストレーション エンジンでは、オーケストレーション インスタンスを "退避" および "復元" することで、これらの問題に対処します。</span><span class="sxs-lookup"><span data-stu-id="b3607-287">The orchestration engine addresses these issues by "dehydrating" and "rehydrating" orchestration instances.</span></span> <span data-ttu-id="b3607-288">退避とは、オーケストレーションの状態を SQL Server データベースにシリアル化するプロセスのことです。</span><span class="sxs-lookup"><span data-stu-id="b3607-288">Dehydration is the process of serializing the state of an orchestration into a SQL Server database.</span></span> <span data-ttu-id="b3607-289">復元ではこのプロセスの逆: データベースからオーケストレーションの前回の実行状態を逆シリアル化します。</span><span class="sxs-lookup"><span data-stu-id="b3607-289">Rehydration is the reverse of this process: deserializing the last running state of an orchestration from the database.</span></span> <span data-ttu-id="b3607-290">退避は、メモリ内で一度にインスタンス化する必要があるオーケストレーションの数を減らすことによって、システム リソースの使用を最小限に抑えるために使用します。</span><span class="sxs-lookup"><span data-stu-id="b3607-290">Dehydration is used to minimize the use of system resources by reducing the number of orchestrations that have to be instantiated in memory at one time.</span></span> <span data-ttu-id="b3607-291">そのため、dehyrations メモリの消費量を減らすが比較的高価な操作を実行します。</span><span class="sxs-lookup"><span data-stu-id="b3607-291">Therefore, dehyrations save memory consumption, but are relatively expensive operations to perform.</span></span> <span data-ttu-id="b3607-292">この分析では、10 個以上の dehydrations を確認します。</span><span class="sxs-lookup"><span data-stu-id="b3607-292">This analysis checks for dehydrations of 10 or more.</span></span> <span data-ttu-id="b3607-293">場合は、[!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)]が実行されて (仮想または物理) は、メモリ、不足値が高く、メッセージを待機しているオーケストレーションの数または退避設定が正しく設定されていません。</span><span class="sxs-lookup"><span data-stu-id="b3607-293">If so, [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] may be running out of memory (either virtual or physical), a high number of orchestrations are waiting on messages, or the dehydration settings are not set properly.</span></span><br /><br /> <span data-ttu-id="b3607-294">参照: オーケストレーションの退避と復元で  [http://go.microsoft.com/fwlink/?LinkId=155284](http://go.microsoft.com/fwlink/?LinkId=155284)</span><span class="sxs-lookup"><span data-stu-id="b3607-294">Reference:  Orchestration Dehydration and Rehydration at  [http://go.microsoft.com/fwlink/?LinkId=155284](http://go.microsoft.com/fwlink/?LinkId=155284)</span></span>|  
|<span data-ttu-id="b3607-295">Microsoft BizTalk Server: BizTalk 高データベース セッション</span><span class="sxs-lookup"><span data-stu-id="b3607-295">Microsoft BizTalk Server:  BizTalk High Database Sessions</span></span>|<span data-ttu-id="b3607-296">このカウンターは、2 つの値を持つ: 標準 (0) または値を超えました (1)。</span><span class="sxs-lookup"><span data-stu-id="b3607-296">This counter has two possible values: normal (0) or exceeded (1).</span></span> <span data-ttu-id="b3607-297">この分析では、1 の値を確認します。</span><span class="sxs-lookup"><span data-stu-id="b3607-297">This analysis checks for a value of 1.</span></span> <span data-ttu-id="b3607-298">場合は、BizTalk は許可されているデータベース セッション数のしきい値を超えています。</span><span class="sxs-lookup"><span data-stu-id="b3607-298">If so, BizTalk has exceeded the threshold of the number of database sessions permitted.</span></span> <span data-ttu-id="b3607-299">この値は、BizTalk ホストの制限の設定で「CPU ごとのデータベース接続」の値によって制御されます。</span><span class="sxs-lookup"><span data-stu-id="b3607-299">This value is controlled by the “Database connection per CPU” value in the BizTalk Host Throttling settings.</span></span> <span data-ttu-id="b3607-300">許可される制限が適用されます (CPU ごとの) 同時実行データベース セッションの最大数は、「データベースの CPU ごとの接続」です。</span><span class="sxs-lookup"><span data-stu-id="b3607-300">“Database connection per CPU” is the maximum number of concurrent database sessions (per CPU) allowed before throttling begins.</span></span> <span data-ttu-id="b3607-301">BizTalk:Message Agent パフォーマンス オブジェクト カテゴリの下のデータベース セッションのパフォーマンス カウンターを使用して、アクティブなデータベース接続の数を監視できます。</span><span class="sxs-lookup"><span data-stu-id="b3607-301">You can monitor the number of active Database connections by using the Database session performance counter under the BizTalk:Message Agent performance object category.</span></span> <span data-ttu-id="b3607-302">このパラメーターは、送信メッセージの制限だけに影響します。</span><span class="sxs-lookup"><span data-stu-id="b3607-302">This parameter only affects outbound message throttling.</span></span> <span data-ttu-id="b3607-303">詳細については、このトピックの「BizTalk 高データベース セッション分析を参照してください。</span><span class="sxs-lookup"><span data-stu-id="b3607-303">For more information, refer to BizTalk High Database Sessions Analysis in this topic.</span></span>|  
|<span data-ttu-id="b3607-304">Microsoft BizTalk Server: BizTalk High Database Size</span><span class="sxs-lookup"><span data-stu-id="b3607-304">Microsoft BizTalk Server: BizTalk High Database Size</span></span>|<span data-ttu-id="b3607-305">このカウンターは、データベースのしきい値のメッセージ カウント に登録されている条件のいずれかが発生した場合、値を 1 に設定されます。</span><span class="sxs-lookup"><span data-stu-id="b3607-305">This counter will be set to a value of 1 if either of the conditions listed for the message count in database threshold occurs.</span></span> <span data-ttu-id="b3607-306">既定ホスト メッセージでは、データベースの制限のしきい値のカウントは、値は、次の状況で制限の条件をトリガーする 50,000 に設定します。</span><span class="sxs-lookup"><span data-stu-id="b3607-306">By default the host message count in database throttling threshold is set to a value of 50,000, which will trigger a throttling condition under the following circumstances:</span></span><br /><br /> <span data-ttu-id="b3607-307">-作業、状態、およびサブスクライブを行うホストの保留キューにホスト インスタンスによって公開されたメッセージの合計数が 50,000 を超えた。</span><span class="sxs-lookup"><span data-stu-id="b3607-307">-   The total number of messages published by the host instance to the work, state, and suspended queues of the subscribing hosts exceeds 50,000.</span></span><br /><span data-ttu-id="b3607-308">-、スプール テーブルまたは追跡テーブル内のメッセージの数は、500,000 メッセージを超えています。</span><span class="sxs-lookup"><span data-stu-id="b3607-308">-   The number of messages in the spool table or the tracking table exceeds 500,000 messages.</span></span><br /><br /> <span data-ttu-id="b3607-309">このような場合、一連の措置をデータベース内のメッセージの数を削減を検討します。</span><span class="sxs-lookup"><span data-stu-id="b3607-309">If this occurs, then consider a course of action that will reduce the number of messages in the database.</span></span> <span data-ttu-id="b3607-310">たとえば、内の SQL Server ジョブを確認[!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)]エラーなしで実行しているし、[グループ ハブ] ページを使用、[!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)]によって大量の保留メッセージをメッセージのビルドが原因かどうかを判定する管理コンソールです。</span><span class="sxs-lookup"><span data-stu-id="b3607-310">For example, ensure the SQL Server jobs in [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] are running without error and use the Group Hub page in the [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] Administration console to determine whether message build up is caused by large numbers of suspended messages.</span></span> <span data-ttu-id="b3607-311">詳細については、このトピックの「BizTalk 高データベース サイズ分析を参照してください。</span><span class="sxs-lookup"><span data-stu-id="b3607-311">For more information, refer to BizTalk High Database Size Analysis in this topic.</span></span>|  
|<span data-ttu-id="b3607-312">Microsoft BizTalk Server: BizTalk 高のインプロセス メッセージ カウント</span><span class="sxs-lookup"><span data-stu-id="b3607-312">Microsoft BizTalk Server:  BizTalk High In-Process Message Count</span></span>|<span data-ttu-id="b3607-313">この分析では、このような調整が行われているかどうかを決定する、高のインプロセス メッセージ数カウンタを確認します。</span><span class="sxs-lookup"><span data-stu-id="b3607-313">This analysis checks the High In-Process Message Count counter to determine whether this kind of throttling is occurring.</span></span> <span data-ttu-id="b3607-314">場合は、「CPU あたりのインプロセス ・ メッセージ」設定を調整することを検討してください。</span><span class="sxs-lookup"><span data-stu-id="b3607-314">If so, consider adjusting the “In-Process messages per CPU” setting.</span></span> <span data-ttu-id="b3607-315">このパラメーターは、送信メッセージの制限だけに影響します。</span><span class="sxs-lookup"><span data-stu-id="b3607-315">This parameter only affects outbound message throttling.</span></span> <span data-ttu-id="b3607-316">CPU あたりのインプロセス メッセージの数に基づいた制限を無効にする「プロセスでは、CPU あたりメッセージ」設定に値 0 を入力します。</span><span class="sxs-lookup"><span data-stu-id="b3607-316">Enter a value of 0 in the “In-Process messages per CPU” setting to disable throttling based on the number of in-process messages per CPU.</span></span> <span data-ttu-id="b3607-317">「CPU あたりのインプロセス ・ メッセージ」設定の既定値は、1,000 です。</span><span class="sxs-lookup"><span data-stu-id="b3607-317">The default value for the “In-Process messages per CPU” setting is 1,000.</span></span> <span data-ttu-id="b3607-318">この値を変更することもできます影響を与えるメッセージの低待機時間および BizTalk リソースの効率性に注意してください。</span><span class="sxs-lookup"><span data-stu-id="b3607-318">Note that modifying this value can also have an impact on low latency of messages and/or the efficiency of BizTalk resources.</span></span> <span data-ttu-id="b3607-319">詳細については、このトピックの「BizTalk 高のインプロセス メッセージ数分析を参照してください。</span><span class="sxs-lookup"><span data-stu-id="b3607-319">For more information, refer to BizTalk High In-Process Message Count Analysis in this topic.</span></span>|  
|<span data-ttu-id="b3607-320">Microsoft BizTalk Server: BizTalk 高いメッセージ配信レート</span><span class="sxs-lookup"><span data-stu-id="b3607-320">Microsoft BizTalk Server:  BizTalk High Message Delivery Rate</span></span>|<span data-ttu-id="b3607-321">この分析では、1、メッセージ配信率が高いカウンターの値を確認します。</span><span class="sxs-lookup"><span data-stu-id="b3607-321">This analysis checks for a value of 1 in the High Message Delivery Rate counter.</span></span> <span data-ttu-id="b3607-322">高いメッセージ配信率は、処理の多い複雑さ、低速の送信アダプター、またはシステム リソースの一時的な不足によって可能性があります。</span><span class="sxs-lookup"><span data-stu-id="b3607-322">High message delivery rates can be caused by high processing complexity, slow outbound adapters, or a momentary shortage of system resources.</span></span> <span data-ttu-id="b3607-323">詳細については、このトピックの「BizTalk の高いメッセージ配信レート分析を参照してください。</span><span class="sxs-lookup"><span data-stu-id="b3607-323">For more information, refer to BizTalk High Message Delivery Rate Analysis in this topic.</span></span>|  
|<span data-ttu-id="b3607-324">Microsoft BizTalk Server: BizTalk 高いメッセージの公開のレート</span><span class="sxs-lookup"><span data-stu-id="b3607-324">Microsoft BizTalk Server:  BizTalk High Message Publishing Rate</span></span>|<span data-ttu-id="b3607-325">受信ホスト制限は、またメッセージ公開の制限と呼ばれる[!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)]に適用されるアダプターまたはメッセージ ボックス データベースにメッセージを公開するオーケストレーションを含むホスト インスタンスが受信します。</span><span class="sxs-lookup"><span data-stu-id="b3607-325">Inbound host throttling, also known as message publishing throttling in [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)], is applied to host instances that contain receive adapters or orchestrations that publish messages to the MessageBox database.</span></span> <span data-ttu-id="b3607-326">この分析では、1、メッセージ公開の割合が高いカウンターの値を確認します。</span><span class="sxs-lookup"><span data-stu-id="b3607-326">This analysis checks for a value of 1 in the High Message Publishing Rate counter.</span></span> <span data-ttu-id="b3607-327">この場合、し、データベースに対応できないメッセージの公開の割合を BizTalk メッセージ ボックス データベースにします。</span><span class="sxs-lookup"><span data-stu-id="b3607-327">If this occurs, then the database cannot keep up with the publishing rate of messages to the BizTalk MessageBox database.</span></span><br /><br /> <span data-ttu-id="b3607-328">参照:</span><span class="sxs-lookup"><span data-stu-id="b3607-328">References:</span></span><br /><br /> <span data-ttu-id="b3607-329">-ホストでの制限のパフォーマンス カウンター [http://go.microsoft.com/fwlink/?LinkId=155285](http://go.microsoft.com/fwlink/?LinkId=155285)</span><span class="sxs-lookup"><span data-stu-id="b3607-329">-   Host Throttling Performance Counters at [http://go.microsoft.com/fwlink/?LinkId=155285](http://go.microsoft.com/fwlink/?LinkId=155285)</span></span><br /><span data-ttu-id="b3607-330">-どの[!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)]ホストに制限の実装 [http://go.microsoft.com/fwlink/?LinkId=155286](http://go.microsoft.com/fwlink/?LinkId=155286)</span><span class="sxs-lookup"><span data-stu-id="b3607-330">-   How [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] Implements Host Throttling at [http://go.microsoft.com/fwlink/?LinkId=155286](http://go.microsoft.com/fwlink/?LinkId=155286)</span></span><br /><span data-ttu-id="b3607-331">メッセージ公開の制限の設定 ダイアログ ボックスで [http://go.microsoft.com/fwlink/?LinkId=155287](http://go.microsoft.com/fwlink/?LinkId=155287)</span><span class="sxs-lookup"><span data-stu-id="b3607-331">-   Message Publishing Throttling Settings Dialog Box at [http://go.microsoft.com/fwlink/?LinkId=155287](http://go.microsoft.com/fwlink/?LinkId=155287)</span></span><br /><span data-ttu-id="b3607-332">-ホスト制限とはで [http://go.microsoft.com/fwlink/?LinkID=154694](http://go.microsoft.com/fwlink/?LinkID=154694)</span><span class="sxs-lookup"><span data-stu-id="b3607-332">-   What is Host Throttling? at [http://go.microsoft.com/fwlink/?LinkID=154694](http://go.microsoft.com/fwlink/?LinkID=154694)</span></span>|  
|<span data-ttu-id="b3607-333">Microsoft BizTalk Server: BizTalk 高プロセス メモリ</span><span class="sxs-lookup"><span data-stu-id="b3607-333">Microsoft BizTalk Server:  BizTalk High Process Memory</span></span>|<span data-ttu-id="b3607-334">BizTalk プロセス メモリ使用量のしきい値の設定の調整は、プロセスの使用可能な仮想メモリの合計と作業セット サイズの合計と比較した場合は 1 ~ 100 の値を入力使用されるメモリの割合です。</span><span class="sxs-lookup"><span data-stu-id="b3607-334">The BizTalk Process Memory usage throttling threshold setting is the percentage of memory used compared to the sum of the working set size and total available virtual memory for the process if a value from 1 through 100 is entered.</span></span> <span data-ttu-id="b3607-335">比率が指定されている場合、プロセス メモリのしきい値は、定期的に再計算されます。</span><span class="sxs-lookup"><span data-stu-id="b3607-335">When a percentage value is specified the process memory threshold is recalculated at regular intervals.</span></span> <span data-ttu-id="b3607-336">この分析では、高のプロセス メモリ カウンターの 1 の値を確認します。</span><span class="sxs-lookup"><span data-stu-id="b3607-336">This analysis checks for a value of 1 in the High Process Memory counter.</span></span> <span data-ttu-id="b3607-337">詳細については、このトピックの「BizTalk 高プロセス メモリ分析を参照してください。</span><span class="sxs-lookup"><span data-stu-id="b3607-337">For more information, refer to BizTalk High Process Memory Analysis in this topic.</span></span>|  
|<span data-ttu-id="b3607-338">Microsoft BizTalk Server: BizTalk 高システム メモリ</span><span class="sxs-lookup"><span data-stu-id="b3607-338">Microsoft BizTalk Server:  BizTalk High System Memory</span></span>|<span data-ttu-id="b3607-339">BizTalk 物理メモリ使用量の制限しきい値の設定では、1 ~ 100 で指定する場合の使用可能な物理メモリの総量と比較してメモリ使用量の割合が入力されます。</span><span class="sxs-lookup"><span data-stu-id="b3607-339">The BizTalk Physical Memory usage throttling threshold setting is the percentage of memory consumption compared to the total amount of available physical memory if a value from 1 through 100 is entered.</span></span> <span data-ttu-id="b3607-340">この設定では、100 より大きい値を入力する場合、メガバイト単位で使用可能な物理メモリの総量こともできます。</span><span class="sxs-lookup"><span data-stu-id="b3607-340">This setting can also be the total amount of available physical memory in megabytes if a value greater than 100 is entered.</span></span> <span data-ttu-id="b3607-341">物理メモリ使用量に基づいた制限を無効にするには、値 0 を入力してください。</span><span class="sxs-lookup"><span data-stu-id="b3607-341">Enter a value of 0 to disable throttling based on physical memory usage.</span></span> <span data-ttu-id="b3607-342">既定値は 0 です。</span><span class="sxs-lookup"><span data-stu-id="b3607-342">The default value is 0.</span></span> <span data-ttu-id="b3607-343">詳細については、このトピックの「BizTalk 高システム メモリ分析を参照してください。</span><span class="sxs-lookup"><span data-stu-id="b3607-343">For more information, refer to BizTalk High System Memory Analysis in this topic.</span></span>|  
|<span data-ttu-id="b3607-344">Microsoft BizTalk Server: BizTalk 高スレッド数</span><span class="sxs-lookup"><span data-stu-id="b3607-344">Microsoft BizTalk Server:  BizTalk High Thread Count</span></span>|<span data-ttu-id="b3607-345">「CPU あたりのスレッド」は、アダプターで使用されるスレッドを含むホスト プロセス内のスレッドの合計数です。</span><span class="sxs-lookup"><span data-stu-id="b3607-345">“Threads Per CPU” is the total number of threads in the host process including threads used by adapters.</span></span> <span data-ttu-id="b3607-346">このしきい値を超えた場合、[!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)]を EPM スレッド プールとメッセージ エージェント スレッド プールのサイズを減らすために試行されます。</span><span class="sxs-lookup"><span data-stu-id="b3607-346">If this threshold is exceeded, [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] will try to reduce the size of the EPM thread pool and message agent thread pool.</span></span> <span data-ttu-id="b3607-347">高負荷によって多くのスレッドを作成するシナリオでは、スレッド ベースの制限を有効にする必要があります。</span><span class="sxs-lookup"><span data-stu-id="b3607-347">Thread based throttling should be enabled in scenarios where high load can lead to the creation of a large number of threads.</span></span> <span data-ttu-id="b3607-348">このパラメーターは、受信制限と送信制限の両方に影響します。</span><span class="sxs-lookup"><span data-stu-id="b3607-348">This parameter affects both inbound and outbound throttling.</span></span> <span data-ttu-id="b3607-349">既定では、スレッド ベースの制限を無効になっています。</span><span class="sxs-lookup"><span data-stu-id="b3607-349">Thread based throttling is disabled by default.</span></span> <span data-ttu-id="b3607-350">詳細については、このトピックの「BizTalk 高スレッド カウント分析を参照してください。</span><span class="sxs-lookup"><span data-stu-id="b3607-350">For more information, refer to BizTalk High Thread Count Analysis in this topic.</span></span>|  
|<span data-ttu-id="b3607-351">Microsoft BizTalk Server: BizTalk ホストのキューの長さ</span><span class="sxs-lookup"><span data-stu-id="b3607-351">Microsoft BizTalk Server:  BizTalk Host Queue Length</span></span>|<span data-ttu-id="b3607-352">BizTalk ホストのキューの長さは、特定のホスト キュー内のメッセージの合計数を追跡します。</span><span class="sxs-lookup"><span data-stu-id="b3607-352">The BizTalk Host Queue Length tracks the total number of messages in the particular host queue.</span></span> <span data-ttu-id="b3607-353">長さのサイズ (つまり、' BizTalk:MessageBox:HostCounters:Host キュー – 長さ ') を使用すると、キューに登録される内部的に個々 のホストのキューの深さを表示することによってメッセージの数の詳細なビューを提供します。</span><span class="sxs-lookup"><span data-stu-id="b3607-353">You can use length size (i.e., ‘BizTalk:MessageBox:HostCounters:Host Queue – Length’) to give a more detailed view of the number of messages being queued up internally by showing the queue depth for an individual host.</span></span> <span data-ttu-id="b3607-354">このカウンターは、特定のホストがボトルネックになっていた場合の判断に役立ちます。</span><span class="sxs-lookup"><span data-stu-id="b3607-354">This counter can be useful in determining if a specific host is bottlenecked.</span></span> <span data-ttu-id="b3607-355">各トランスポートは一意のホストに使用されると仮定した場合、このできます潜在的なトランスポートのボトルネックを特定するのに役立ちます。</span><span class="sxs-lookup"><span data-stu-id="b3607-355">Assuming unique hosts are used for each transport, this can be helpful in determining potential transport bottlenecks.</span></span> <span data-ttu-id="b3607-356">この分析では、キューの平均の長さが 1 より大きい値を確認します。</span><span class="sxs-lookup"><span data-stu-id="b3607-356">This analysis checks for average queue lengths greater than 1.</span></span> <span data-ttu-id="b3607-357">ホスト キューの長さは、ターゲット ホストのすべてのキュー (作業 Q」状態 Q 中断 Q) のレコードの数を集計することによって重み付けされたキューの長さです。</span><span class="sxs-lookup"><span data-stu-id="b3607-357">The Host Queue Length is a weighted Queue length by aggregating the record count of all the Queues (Work Q, State Q, Suspended Q) of the target host.</span></span><br /><br /> <span data-ttu-id="b3607-358">参照: BizTalk Server 2006: に正常に実行パフォーマンス ラボを管理する[ http://go.microsoft.com/fwlink/?linkid=104152 ](http://go.microsoft.com/fwlink/?linkid=104152) **注:** このホワイト ペーパーも BizTalk Server に適用できます。</span><span class="sxs-lookup"><span data-stu-id="b3607-358">Reference: BizTalk Server 2006: Managing a Successful Performance Lab at [http://go.microsoft.com/fwlink/?linkid=104152](http://go.microsoft.com/fwlink/?linkid=104152) **Note:**  This white paper is also applicable to BizTalk Server.</span></span>|  
|<span data-ttu-id="b3607-359">Microsoft BizTalk Server: BizTalk ホストが中断されたメッセージ キューの長さ</span><span class="sxs-lookup"><span data-stu-id="b3607-359">Microsoft BizTalk Server: BizTalk Host Suspended Messages Queue Length</span></span>|<span data-ttu-id="b3607-360">このカウンターは、特定のホストの保留メッセージの合計数を追跡します。</span><span class="sxs-lookup"><span data-stu-id="b3607-360">This counter tracks the total number of suspended messages for the particular host.</span></span> <span data-ttu-id="b3607-361">中断されたメッセージは、メッセージまたはオーケストレーションのインスタンスを[!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)]エラーのため、システムまたはメッセージの処理を停止します。</span><span class="sxs-lookup"><span data-stu-id="b3607-361">A suspended message is an instance of a message or orchestration that [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] has stopped processing due to an error in the system or the message.</span></span> <span data-ttu-id="b3607-362">通常、システム エラーによって中断されたインスタンスは、システムの問題が解決された時点で再開可能になります。</span><span class="sxs-lookup"><span data-stu-id="b3607-362">Generally, suspended instances caused by system errors are resumable upon resolution of the system issue.</span></span> <span data-ttu-id="b3607-363">多くの場合、メッセージの問題によって中断されたインスタンスは再開できないと、メッセージ自体を固定およびに再送信する必要があります、[!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)]システムです。</span><span class="sxs-lookup"><span data-stu-id="b3607-363">Often, suspended instances due to a message problem are not resumable, and the message itself must be fixed and resubmitted to the [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] system.</span></span><br /><br /> <span data-ttu-id="b3607-364">保留中のメッセージ キューは、対象のエラーや障害が発生しました処理中に作業項目を含むキューです。</span><span class="sxs-lookup"><span data-stu-id="b3607-364">The suspended message queue is a queue that contains work items for which an error or failure was encountered during processing.</span></span> <span data-ttu-id="b3607-365">保留キューのメッセージは最終的に、修正されて再処理されるか、削除されます。</span><span class="sxs-lookup"><span data-stu-id="b3607-365">A suspended queue stores the messages until they can be corrected and reprocessed, or deleted.</span></span> <span data-ttu-id="b3607-366">この分析では、出現するすべての保留メッセージを確認します。</span><span class="sxs-lookup"><span data-stu-id="b3607-366">This analysis checks for any occurrence of suspended messages.</span></span> <span data-ttu-id="b3607-367">上昇傾向は、重大な処理エラーである可能性があります。</span><span class="sxs-lookup"><span data-stu-id="b3607-367">An increasing trend could indicate severe processing errors.</span></span><br /><br /> <span data-ttu-id="b3607-368">参照: BizTalk Server 2004: 監視とトラブルシューティング [http://go.microsoft.com/fwlink/?linkid=108771](http://go.microsoft.com/fwlink/?linkid=108771)</span><span class="sxs-lookup"><span data-stu-id="b3607-368">Reference:  BizTalk Server 2004: Monitoring and Troubleshooting at [http://go.microsoft.com/fwlink/?linkid=108771](http://go.microsoft.com/fwlink/?linkid=108771)</span></span>|  
|<span data-ttu-id="b3607-369">BizTalk のアイドル状態のオーケストレーションを BizTalk サーバー:</span><span class="sxs-lookup"><span data-stu-id="b3607-369">BizTalk Server:  BizTalk Idle Orchestrations</span></span>|<span data-ttu-id="b3607-370">ホスト インスタンスが現在ホストしている、アイドル状態のオーケストレーション インスタンスの数。</span><span class="sxs-lookup"><span data-stu-id="b3607-370">Number of idle orchestration instances currently hosted by the host instance.</span></span> <span data-ttu-id="b3607-371">このカウンターは、進行状況を行わない、待避可能なオーケストレーションを指します。</span><span class="sxs-lookup"><span data-stu-id="b3607-371">This counter refers to orchestrations that are not making progress but are not dehydratable.</span></span> <span data-ttu-id="b3607-372">このような状況は、オーケストレーションがブロックされたときに発生する可能性が受信を待機している待ち受け、またはアトミックのトランザクションに遅延します。</span><span class="sxs-lookup"><span data-stu-id="b3607-372">This situation can occur when the orchestration is blocked, waiting for a receive, listen, or delay in an atomic transaction.</span></span> <span data-ttu-id="b3607-373">非待避可能なオーケストレーションの数が多いがたまっている場合、BizTalk はメモリ不足です。</span><span class="sxs-lookup"><span data-stu-id="b3607-373">If a large number of non-dehydratable orchestrations accumulate, then BizTalk may run out of memory.</span></span><br /><br /> <span data-ttu-id="b3607-374">退避とは、オーケストレーションの状態を SQL Server データベースにシリアル化するプロセスのことです。</span><span class="sxs-lookup"><span data-stu-id="b3607-374">Dehydration is the process of serializing the state of an orchestration into a SQL Server database.</span></span> <span data-ttu-id="b3607-375">復元ではこのプロセスの逆: データベースからオーケストレーションの前回の実行状態を逆シリアル化します。</span><span class="sxs-lookup"><span data-stu-id="b3607-375">Rehydration is the reverse of this process: deserializing the last running state of an orchestration from the database.</span></span> <span data-ttu-id="b3607-376">退避は、メモリ内で一度にインスタンス化する必要があるオーケストレーションの数を減らすことによって、システム リソースの使用を最小限に抑えるために使用します。</span><span class="sxs-lookup"><span data-stu-id="b3607-376">Dehydration is used to minimize the use of system resources by reducing the number of orchestrations that have to be instantiated in memory at one time.</span></span> <span data-ttu-id="b3607-377">エンジンは、状態を保存することでインスタンスを退避し、インスタンスに必要なメモリを解放します。</span><span class="sxs-lookup"><span data-stu-id="b3607-377">The engine dehydrates the instance by saving the state, and frees up the memory required by the instance.</span></span> <span data-ttu-id="b3607-378">休止しているオーケストレーション インスタンスを退避することにより、多数の長時間実行されるビジネス プロセスを単一のコンピューターで同時に実行できるようになります。</span><span class="sxs-lookup"><span data-stu-id="b3607-378">By dehydrating dormant orchestration instances, the engine makes it possible for a large number of long-running business processes to run concurrently on the same computer.</span></span> <span data-ttu-id="b3607-379">この分析では、1 時間あたり 1 つのアイドル状態のオーケストレーションの上昇傾向を確認します。</span><span class="sxs-lookup"><span data-stu-id="b3607-379">This analysis checks for an increasing trend of one idle orchestration per hour.</span></span><br /><br /> <span data-ttu-id="b3607-380">参照: オーケストレーションの退避と復元で  [http://go.microsoft.com/fwlink/?LinkId=155284](http://go.microsoft.com/fwlink/?LinkId=155284)</span><span class="sxs-lookup"><span data-stu-id="b3607-380">Reference: Orchestration Dehydration and Rehydration at  [http://go.microsoft.com/fwlink/?LinkId=155284](http://go.microsoft.com/fwlink/?LinkId=155284)</span></span>|  
|<span data-ttu-id="b3607-381">BizTalk Server: BizTalk の受信待機時間</span><span class="sxs-lookup"><span data-stu-id="b3607-381">BizTalk Server:  BizTalk Inbound Latency</span></span>|<span data-ttu-id="b3607-382">ときに、メッセージング エンジンからドキュメントを受信アダプター、メッセージ ボックス データベースにパブリッシュされるまでのミリ秒単位の平均待機時間。</span><span class="sxs-lookup"><span data-stu-id="b3607-382">Average latency in milliseconds from when the messaging engine receives a document from the adapter until the time it is published to the MessageBox.</span></span> <span data-ttu-id="b3607-383">待機時間を短縮することが重要、BizTalk の一部のユーザーしたがって作業がどの程度受信アダプタで費やしている時間ドキュメントの追跡が重要です。</span><span class="sxs-lookup"><span data-stu-id="b3607-383">Reducing latency is important to some users of BizTalk, therefore tracking how much time documents spend in the inbound adapter is important.</span></span> <span data-ttu-id="b3607-384">詳細については、このトピックの「BizTalk の受信待機時間分析を参照してください。</span><span class="sxs-lookup"><span data-stu-id="b3607-384">For more information, refer to BizTalk Inbound Latency Analysis in this topic.</span></span>|  
|<span data-ttu-id="b3607-385">BizTalk Server: BizTalk メッセージの配信の遅延</span><span class="sxs-lookup"><span data-stu-id="b3607-385">BizTalk Server:  BizTalk Message Delivery Delay</span></span>|<span data-ttu-id="b3607-386">これは、各メッセージ配信バッチ (メッセージの配信が制限されている場合) に適用されるミリ秒 (ms) で現在の遅延です。</span><span class="sxs-lookup"><span data-stu-id="b3607-386">This is the current delay in milliseconds (ms) imposed on each message delivery batch (applicable if the message delivery is being throttled).</span></span> <span data-ttu-id="b3607-387">調整においては、遅延が公開またはメッセージの受信および送信するかどうかに応じて、メッセージの処理に適用されます。</span><span class="sxs-lookup"><span data-stu-id="b3607-387">In regards to throttling, a delay is applied in the publishing or processing of the message, depending on whether the message is inbound or outbound.</span></span> <span data-ttu-id="b3607-388">遅延期間は、制限の条件の重大度に比例します。</span><span class="sxs-lookup"><span data-stu-id="b3607-388">The delay period is proportional to the severity of the throttling condition.</span></span> <span data-ttu-id="b3607-389">制限の条件の重大度が高い制限の条件下の重大度よりなった帯域幅調整期間が開始されます。</span><span class="sxs-lookup"><span data-stu-id="b3607-389">Higher severity throttling conditions will initiate a longer throttling period than lower severity throttling conditions.</span></span> <span data-ttu-id="b3607-390">この遅延期間は、条件が変わるたびに制限のメカニズムによって特定の範囲内で期間が調整されます。</span><span class="sxs-lookup"><span data-stu-id="b3607-390">This delay period is adjusted up and down within certain ranges by the throttling mechanism as conditions change.</span></span> <span data-ttu-id="b3607-391">現在の遅延期間は、メッセージ配信の遅延 (ミリ秒) とメッセージ公開の遅延 (ミリ秒) のパフォーマンス カウンター BizTalk:Message Agent パフォーマンス オブジェクト カテゴリに関連付けられているを通じて公開されます。</span><span class="sxs-lookup"><span data-stu-id="b3607-391">The current delay period is exposed through the message delivery delay (ms) and the message publishing delay (ms) performance counters associated with the BizTalk:Message Agent performance object category.</span></span> <span data-ttu-id="b3607-392">この分析では、5 秒以上のメッセージ配信の遅延を確認します。</span><span class="sxs-lookup"><span data-stu-id="b3607-392">This analysis checks for a message delivery delay of greater than 5 seconds.</span></span> <span data-ttu-id="b3607-393">長いメッセージ配信の遅延は、重負荷が高いに起因する制限可能性があります。</span><span class="sxs-lookup"><span data-stu-id="b3607-393">Long message delivery delays may indicate heavy throttling due to high load.</span></span><br /><br /> <span data-ttu-id="b3607-394">参照: どの[!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)]ホストに制限の実装 [http://go.microsoft.com/fwlink/?LinkId=155286](http://go.microsoft.com/fwlink/?LinkId=155286)</span><span class="sxs-lookup"><span data-stu-id="b3607-394">Reference: How [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] Implements Host Throttling at [http://go.microsoft.com/fwlink/?LinkId=155286](http://go.microsoft.com/fwlink/?LinkId=155286)</span></span>|  
|<span data-ttu-id="b3607-395">BizTalk Server: BizTalk メッセージの配信制限の状態</span><span class="sxs-lookup"><span data-stu-id="b3607-395">BizTalk Server:  BizTalk Message Delivery Throttling State</span></span>|<span data-ttu-id="b3607-396">BizTalk メッセージの配信制限の状態は調整のプライマリ インジケーターです。</span><span class="sxs-lookup"><span data-stu-id="b3607-396">The BizTalk message delivery throttling state is one of the primary indicators of throttling.</span></span> <span data-ttu-id="b3607-397">これは、システムで (XLANG メッセージ処理および送信トランスポートに影響する) メッセージ配信を制限するかどうかを示すフラグです。</span><span class="sxs-lookup"><span data-stu-id="b3607-397">It is a flag indicating whether the system is throttling message delivery (affecting XLANG message processing and outbound transports).</span></span> <span data-ttu-id="b3607-398">制限の条件は、カウンターの数値で示されます。</span><span class="sxs-lookup"><span data-stu-id="b3607-398">The throttling condition is indicated by the numeric value of the counter.</span></span> <span data-ttu-id="b3607-399">詳細については、このトピックの「BizTalk メッセージの配信制限の状態の分析を参照してください。</span><span class="sxs-lookup"><span data-stu-id="b3607-399">For more information, see BizTalk Message Delivery Throttling State Analysis in this topic.</span></span>|  
|<span data-ttu-id="b3607-400">BizTalk Server: BizTalk メッセージの公開の遅延</span><span class="sxs-lookup"><span data-stu-id="b3607-400">BizTalk Server:  BizTalk Message Publishing Delay</span></span>|<span data-ttu-id="b3607-401">メッセージの公開を制限するために該当する各バッチに挿入される遅延です。</span><span class="sxs-lookup"><span data-stu-id="b3607-401">The delay injected in each qualifying batch for throttling the publishing of messages.</span></span> <span data-ttu-id="b3607-402">調整においては、遅延が公開またはメッセージの受信および送信するかどうかに応じて、メッセージの処理に適用されます。</span><span class="sxs-lookup"><span data-stu-id="b3607-402">In regards to throttling, a delay is applied in the publishing or processing of the message, depending on whether the message is inbound or outbound.</span></span> <span data-ttu-id="b3607-403">遅延期間は、制限の条件の重大度に比例します。</span><span class="sxs-lookup"><span data-stu-id="b3607-403">The delay period is proportional to the severity of the throttling condition.</span></span> <span data-ttu-id="b3607-404">制限の条件の重大度が高い制限の条件下の重大度よりなった帯域幅調整期間が開始されます。</span><span class="sxs-lookup"><span data-stu-id="b3607-404">Higher severity throttling conditions will initiate a longer throttling period than lower severity throttling conditions.</span></span> <span data-ttu-id="b3607-405">この遅延期間は、条件が変わるたびに制限のメカニズムによって特定の範囲内で期間が調整されます。</span><span class="sxs-lookup"><span data-stu-id="b3607-405">This delay period is adjusted up and down within certain ranges by the throttling mechanism as conditions change.</span></span> <span data-ttu-id="b3607-406">現在の遅延期間は、メッセージ配信の遅延 (ミリ秒) とメッセージ公開の遅延 (ミリ秒) のパフォーマンス カウンター BizTalk:Message Agent パフォーマンス オブジェクト カテゴリに関連付けられているを通じて公開されます。</span><span class="sxs-lookup"><span data-stu-id="b3607-406">The current delay period is exposed through the message delivery delay (ms) and the message publishing delay (ms) performance counters associated with the BizTalk:Message Agent performance object category.</span></span> <span data-ttu-id="b3607-407">この分析では、5 秒を超えるの遅延を公開するメッセージを確認します。</span><span class="sxs-lookup"><span data-stu-id="b3607-407">This analysis checks for a message publishing delay of greater than 5 seconds.</span></span> <span data-ttu-id="b3607-408">長いメッセージ配信の遅延は、重負荷が高いに起因する制限可能性があります。</span><span class="sxs-lookup"><span data-stu-id="b3607-408">Long message delivery delays may indicate heavy throttling due to high load.</span></span><br /><br /> <span data-ttu-id="b3607-409">参照: どの[!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)]ホストに制限の実装 [http://go.microsoft.com/fwlink/?LinkId=155286](http://go.microsoft.com/fwlink/?LinkId=155286)</span><span class="sxs-lookup"><span data-stu-id="b3607-409">Reference: How [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] Implements Host Throttling at [http://go.microsoft.com/fwlink/?LinkId=155286](http://go.microsoft.com/fwlink/?LinkId=155286)</span></span>|  
|<span data-ttu-id="b3607-410">BizTalk Server: BizTalk メッセージ ボックス データベース接続エラー</span><span class="sxs-lookup"><span data-stu-id="b3607-410">BizTalk Server:  BizTalk MessageBox Database Connection Failures</span></span>|<span data-ttu-id="b3607-411">このパフォーマンス カウンターは、ホスト インスタンスが起動されてから実行しようとしたデータベース接続の数です。</span><span class="sxs-lookup"><span data-stu-id="b3607-411">This performance counter is the number of attempted database connections that failed since the host instance started.</span></span> <span data-ttu-id="b3607-412">BizTalk データベースをホストする SQL Server サービスは、何らかの理由で利用不可になると、データベース クラスターによって、リソースが active コンピューターからパッシブ側コンピューターに転送します。</span><span class="sxs-lookup"><span data-stu-id="b3607-412">If the SQL Server service hosting the BizTalk databases becomes unavailable for any reason, the database cluster transfers resources from the active computer to the passive computer.</span></span> <span data-ttu-id="b3607-413">このフェールオーバー処理中に、[!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)]サービス インスタンスがデータベース接続エラーが発生し、データベースへの再接続を自動的に再起動します。</span><span class="sxs-lookup"><span data-stu-id="b3607-413">During this failover process, the [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] service instances experience database connection failures and automatically restart to reconnect to the databases.</span></span> <span data-ttu-id="b3607-414">正常に動作しているデータベース コンピューター (先ほどまでパッシブ側であったコンピューター) が、フェールオーバーでリソースを引き継いだ後、データベース接続の処理を開始します。</span><span class="sxs-lookup"><span data-stu-id="b3607-414">The functioning database computer (previously the passive computer) begins processing the database connections after assuming the resources during failover.</span></span> <span data-ttu-id="b3607-415">詳細については、このトピックの「BizTalk メッセージ ボックス データベース接続の失敗の分析を参照してください。</span><span class="sxs-lookup"><span data-stu-id="b3607-415">For more information, refer to BizTalk MessageBox Database Connection Failures Analysis in this topic.</span></span>|  
|<span data-ttu-id="b3607-416">BizTalk Server: BizTalk メッセージング遅延: 応答の待機時間の要求</span><span class="sxs-lookup"><span data-stu-id="b3607-416">BizTalk Server:  BizTalk Messaging Latency:  Request Response Latency</span></span>|<span data-ttu-id="b3607-417">アダプターからメッセージング エンジンへと渡された要求が、応答ドキュメントとしてアダプターに返されるまでの平均待機時間 (ミリ秒)。</span><span class="sxs-lookup"><span data-stu-id="b3607-417">Average latency in milliseconds from when the Messaging Engine receives a request document from the adapter until the time a response document is given back to the adapter.</span></span> <span data-ttu-id="b3607-418">BizTalk の受信待機時間分析でこのトピックの待機時間を測定する方法を示すグラフを参照してください。</span><span class="sxs-lookup"><span data-stu-id="b3607-418">Refer to the chart showing how latency is measured in BizTalk Inbound Latency Analysis in this topic.</span></span> <span data-ttu-id="b3607-419">低待機時間の環境を想定すると、この分析は、5 秒を超える要求-応答待機時間を確認します。</span><span class="sxs-lookup"><span data-stu-id="b3607-419">Assuming a low latency environment, this analysis checks for a Request-Response Latency greater than 5 seconds.</span></span> <span data-ttu-id="b3607-420">受信アダプタと送信アダプターの間の処理の遅延がある可能性があります。</span><span class="sxs-lookup"><span data-stu-id="b3607-420">This may indicate a processing delay between the inbound adapter and the outbound adapter.</span></span><br /><br /> <span data-ttu-id="b3607-421">参照:</span><span class="sxs-lookup"><span data-stu-id="b3607-421">References:</span></span><br /><br /> <span data-ttu-id="b3607-422">-要求/応答メッセージングに [http://go.microsoft.com/fwlink/?LinkId=155288](http://go.microsoft.com/fwlink/?LinkId=155288)</span><span class="sxs-lookup"><span data-stu-id="b3607-422">-   Request/Response Messaging at [http://go.microsoft.com/fwlink/?LinkId=155288](http://go.microsoft.com/fwlink/?LinkId=155288)</span></span><br /><span data-ttu-id="b3607-423">BizTalk Server 2006: での BizTalk Server 2006 では、SOAP アダプターを使用して拡張性のケース スタディ [http://go.microsoft.com/fwlink/?linkid=108774](http://go.microsoft.com/fwlink/?linkid=108774)</span><span class="sxs-lookup"><span data-stu-id="b3607-423">-   BizTalk Server 2006: Scalability Case Study Using the SOAP Adapter in BizTalk Server 2006 at [http://go.microsoft.com/fwlink/?linkid=108774](http://go.microsoft.com/fwlink/?linkid=108774)</span></span>|  
|<span data-ttu-id="b3607-424">BizTalk Server: BizTalk メッセージ公開の制限の状態</span><span class="sxs-lookup"><span data-stu-id="b3607-424">BizTalk Server:  BizTalk Messaging Publishing Throttling State</span></span>|<span data-ttu-id="b3607-425">BizTalk メッセージの公開の制限の状態は調整のプライマリ インジケーターです。</span><span class="sxs-lookup"><span data-stu-id="b3607-425">The BizTalk message publishing throttling state is one of the primary indicators of throttling.</span></span> <span data-ttu-id="b3607-426">これは、システムで (XLANG メッセージ処理および受信トランスポートに影響する) メッセージの公開を制限するかどうかを示すフラグです。</span><span class="sxs-lookup"><span data-stu-id="b3607-426">It is a flag indicating whether the system is throttling message publishing (affecting XLANG message processing and inbound transports).</span></span> <span data-ttu-id="b3607-427">詳細については、このトピックの「BizTalk メッセージング公開の制限の状態の分析を参照してください。</span><span class="sxs-lookup"><span data-stu-id="b3607-427">For more information, refer to BizTalk Messaging Publishing Throttling State Analysis in this topic.</span></span>|  
|<span data-ttu-id="b3607-428">BizTalk オーケストレーションの BizTalk サーバー: 保留/秒</span><span class="sxs-lookup"><span data-stu-id="b3607-428">BizTalk Server:  BizTalk Orchestration Suspended/second</span></span>|<span data-ttu-id="b3607-429">中断されたメッセージは、メッセージまたはオーケストレーションのインスタンスを[!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)]エラーのため、システムまたはメッセージの処理を停止します。</span><span class="sxs-lookup"><span data-stu-id="b3607-429">A suspended message is an instance of a message or orchestration that [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] has stopped processing due to an error in the system or the message.</span></span> <span data-ttu-id="b3607-430">通常、システム エラーによって中断されたインスタンスは、システムの問題が解決された時点で再開可能になります。</span><span class="sxs-lookup"><span data-stu-id="b3607-430">Generally, suspended instances caused by system errors are resumable upon resolution of the system issue.</span></span> <span data-ttu-id="b3607-431">多くの場合、メッセージの問題によって中断されたインスタンスは再開できないと、メッセージ自体を固定およびに再送信する必要があります、[!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)]システムです。</span><span class="sxs-lookup"><span data-stu-id="b3607-431">Often, suspended instances due to a message problem are not resumable, and the message itself must be fixed and resubmitted to the [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] system.</span></span> <span data-ttu-id="b3607-432">この分析は、中断されたメッセージ/オーケストレーションをチェックします。</span><span class="sxs-lookup"><span data-stu-id="b3607-432">This analysis checks for any suspended messages/orchestrations.</span></span><br /><br /> <span data-ttu-id="b3607-433">参照: BizTalk Server 2004: 監視とトラブルシューティング [http://go.microsoft.com/fwlink/?linkid=108771](http://go.microsoft.com/fwlink/?linkid=108771)</span><span class="sxs-lookup"><span data-stu-id="b3607-433">Reference:  BizTalk Server 2004: Monitoring and Troubleshooting at [http://go.microsoft.com/fwlink/?linkid=108771](http://go.microsoft.com/fwlink/?linkid=108771)</span></span>|  
|<span data-ttu-id="b3607-434">BizTalk オーケストレーションを BizTalk サーバー: 完了/秒</span><span class="sxs-lookup"><span data-stu-id="b3607-434">BizTalk Server:  BizTalk Orchestrations Completed/second</span></span>|<span data-ttu-id="b3607-435">これが完了した BizTalk オーケストレーションの数は、1 秒間です。</span><span class="sxs-lookup"><span data-stu-id="b3607-435">This is the number of BizTalk orchestrations that have completed per second.</span></span> <span data-ttu-id="b3607-436">これは、BizTalk の処理はどれくらいのスループットかを示す優れた指標です。</span><span class="sxs-lookup"><span data-stu-id="b3607-436">This is a good indicator as to how much throughput BizTalk is processing.</span></span> <span data-ttu-id="b3607-437">この分析では、統計のみを提供します。</span><span class="sxs-lookup"><span data-stu-id="b3607-437">This analysis provides statistics only.</span></span><br /><br /> <span data-ttu-id="b3607-438">参照: BizTalk Server 2006: BizTalk Server 2006 では、SOAP アダプターを使用して拡張性のケース スタディ</span><span class="sxs-lookup"><span data-stu-id="b3607-438">Reference:  BizTalk Server 2006: Scalability Case Study Using the SOAP Adapter in BizTalk Server 2006</span></span> <br />[http://go.microsoft.com/fwlink/?linkid=108774](http://go.microsoft.com/fwlink/?linkid=108774)|  
|<span data-ttu-id="b3607-439">BizTalk Server: BizTalk オーケストレーションの破棄</span><span class="sxs-lookup"><span data-stu-id="b3607-439">BizTalk Server:  BizTalk Orchestrations Discarded</span></span>|<span data-ttu-id="b3607-440">ホスト インスタンスの起動以降にメモリから破棄されたオーケストレーション インスタンスの数。</span><span class="sxs-lookup"><span data-stu-id="b3607-440">Number of orchestration instances discarded from memory since the host instance started.</span></span> <span data-ttu-id="b3607-441">エンジンがオーケストレーション状態の永続化に失敗した場合、そのオーケストレーションは破棄可能と見なされます。</span><span class="sxs-lookup"><span data-stu-id="b3607-441">An orchestration can be discarded if the engine fails to persist its state.</span></span> <span data-ttu-id="b3607-442">この分析では、破棄されたメッセージを確認します。</span><span class="sxs-lookup"><span data-stu-id="b3607-442">This analysis checks for any discarded messages.</span></span><br /><br /> <span data-ttu-id="b3607-443">BizTalk のコア エンジンのブログを参照します。</span><span class="sxs-lookup"><span data-stu-id="b3607-443">Reference:  BizTalk Core Engine's WebLog</span></span><br />[http://go.microsoft.com/fwlink/?linkid=108775](http://go.microsoft.com/fwlink/?linkid=108775)|  
|<span data-ttu-id="b3607-444">メモリ内に BizTalk オーケストレーション常駐。 BizTalk サーバー:</span><span class="sxs-lookup"><span data-stu-id="b3607-444">BizTalk Server:  BizTalk Orchestrations Resident in Memory</span></span>|<span data-ttu-id="b3607-445">ホスト インスタンスによって現在ホストされているオーケストレーション インスタンスの数。</span><span class="sxs-lookup"><span data-stu-id="b3607-445">Number of orchestration instances currently hosted by the host instance.</span></span> <span data-ttu-id="b3607-446">この分析では、メモリおよびかどうか、オーケストレーションをメモリ内の 50% 以上ない待避可能なに常駐しているオーケストレーションに上昇傾向を確認します。</span><span class="sxs-lookup"><span data-stu-id="b3607-446">This analysis checks for an increasing trend in orchestrations resident in memory and whether more than 50 percent of the orchestrations resident in memory are not dehydratable.</span></span> <span data-ttu-id="b3607-447">詳細については、メモリ分析で BizTalk オーケストレーションの常駐を参照してください。</span><span class="sxs-lookup"><span data-stu-id="b3607-447">For more information, refer to BizTalk Orchestrations Resident in Memory Analysis.</span></span>|  
|<span data-ttu-id="b3607-448">BizTalk Server: BizTalk 送信アダプターの待機時間</span><span class="sxs-lookup"><span data-stu-id="b3607-448">BizTalk Server:  BizTalk Outbound Adapter Latency</span></span>|<span data-ttu-id="b3607-449">これは、ときに、アダプターを取得、ドキュメント、メッセージング エンジンからアダプターによって送信されるまでの秒単位での平均待機時間です。</span><span class="sxs-lookup"><span data-stu-id="b3607-449">This is the average latency in seconds from when the adapter gets a document from the messaging engine until the time it is sent by the adapter.</span></span> <span data-ttu-id="b3607-450">BizTalk の受信待機時間分析でこのトピックの待機時間を測定する方法を示すグラフを参照してください。</span><span class="sxs-lookup"><span data-stu-id="b3607-450">Refer to the chart showing how latency is measured in BizTalk Inbound Latency Analysis in this topic.</span></span> <span data-ttu-id="b3607-451">低待機時間の環境を想定すると、この分析チェック待機時間が 5 秒以上の送信アダプターでの平均です。</span><span class="sxs-lookup"><span data-stu-id="b3607-451">Assuming a low latency environment, this analysis checks for latency in the outbound adapter of greater than 5 seconds on average.</span></span> <span data-ttu-id="b3607-452">このホスト インスタンスでの送信アダプターを経由してメッセージの転送の処理の遅延がある可能性があります。</span><span class="sxs-lookup"><span data-stu-id="b3607-452">This may indicate a processing delay in the transport of messages through outbound adapters in this host instance.</span></span> <span data-ttu-id="b3607-453">複数の送信アダプターは、このホスト インスタンスに存在する場合、どの送信アダプターが高待機時間を決定する、独自のホストに分割することを検討します。</span><span class="sxs-lookup"><span data-stu-id="b3607-453">If multiple outbound adapters exist in this host instance, then consider separating them into their own hosts to determine which outbound adapter has high latency.</span></span><br /><br /> <span data-ttu-id="b3607-454">参照:</span><span class="sxs-lookup"><span data-stu-id="b3607-454">References:</span></span><br /><br /> <span data-ttu-id="b3607-455">-要求/応答メッセージングに [http://go.microsoft.com/fwlink/?LinkId=155288](http://go.microsoft.com/fwlink/?LinkId=155288)</span><span class="sxs-lookup"><span data-stu-id="b3607-455">-   Request/Response Messaging at [http://go.microsoft.com/fwlink/?LinkId=155288](http://go.microsoft.com/fwlink/?LinkId=155288)</span></span><br /><span data-ttu-id="b3607-456">BizTalk Server 2006: での BizTalk Server 2006 では、SOAP アダプターを使用して拡張性のケース スタディ [http://go.microsoft.com/fwlink/?linkid=108774](http://go.microsoft.com/fwlink/?linkid=108774)</span><span class="sxs-lookup"><span data-stu-id="b3607-456">-   BizTalk Server 2006: Scalability Case Study Using the SOAP Adapter in BizTalk Server 2006 at [http://go.microsoft.com/fwlink/?linkid=108774](http://go.microsoft.com/fwlink/?linkid=108774)</span></span><br /><span data-ttu-id="b3607-457">-で BizTalk 層のボトルネックの特定 [http://go.microsoft.com/fwlink/?LinkId=155289](http://go.microsoft.com/fwlink/?LinkId=155289)</span><span class="sxs-lookup"><span data-stu-id="b3607-457">-   Identifying Bottlenecks in the BizTalk Tier at [http://go.microsoft.com/fwlink/?LinkId=155289](http://go.microsoft.com/fwlink/?LinkId=155289)</span></span><br /><span data-ttu-id="b3607-458">BizTalk Server 2004: で低待機時間がメッセージングのパフォーマンスの調整 [http://go.microsoft.com/fwlink/?linkid=108777](http://go.microsoft.com/fwlink/?linkid=108777)</span><span class="sxs-lookup"><span data-stu-id="b3607-458">-   BizTalk Server 2004: Performance Tuning for Low Latency Messaging at [http://go.microsoft.com/fwlink/?linkid=108777](http://go.microsoft.com/fwlink/?linkid=108777)</span></span>|  
|<span data-ttu-id="b3607-459">BizTalk サーバー: BizTalk メッセージの保留中</span><span class="sxs-lookup"><span data-stu-id="b3607-459">BizTalk Server:  BizTalk Pending Messages</span></span>|<span data-ttu-id="b3607-460">メッセージ ボックスに受信確認されていない受信メッセージの数。</span><span class="sxs-lookup"><span data-stu-id="b3607-460">The number of received messages that have not been acknowledged as received to the MessageBox.</span></span> <span data-ttu-id="b3607-461">保留中のメッセージをメモリに取得されて、XLANG オーケストレーションに配信がまだとしていないメッセージされて処理されます。</span><span class="sxs-lookup"><span data-stu-id="b3607-461">Pending messages are messages that have been pulled into memory and delivered to the XLANG orchestration, but have not yet been processed.</span></span> <span data-ttu-id="b3607-462">このような状況では、データの損失を行うには関係ありません。</span><span class="sxs-lookup"><span data-stu-id="b3607-462">This circumstance has nothing to do with data loss.</span></span>  <span data-ttu-id="b3607-463">オーケストレーションにメッセージを配信するプロセスの複数のステップ、単にデータベースのスプール テーブルに存在するメッセージのインスタンス。</span><span class="sxs-lookup"><span data-stu-id="b3607-463">Delivering a message to an orchestration is a multi-step process and is simply an instance of the message residing in the spool table in the database.</span></span> <span data-ttu-id="b3607-464">処理中にメッセージ; のカウントこれらのメッセージを保留中これにより、メモリ内でそれらの多くでしたとメモリ システムで制限します。</span><span class="sxs-lookup"><span data-stu-id="b3607-464">These pending messages count as in-process messages; therefore, having a large number of them in memory could cause memory throttling on the system.</span></span> <span data-ttu-id="b3607-465">内部メッセージ キュー サイズの設定を調整で保留中のメッセージの数を制御できる場合があります。</span><span class="sxs-lookup"><span data-stu-id="b3607-465">Adjusting the Internal Message Queue Size setting could help with controlling the number of pending messages.</span></span> <span data-ttu-id="b3607-466">CPU あたりのインプロセス メッセージの設定は、調整が起動と多数の保留中のメッセージが発生した場合の影響を及ぼします。</span><span class="sxs-lookup"><span data-stu-id="b3607-466">The In-Process Messages Per CPU setting has an impact on when throttling will invoke when a high number of pending messages occurs.</span></span> <span data-ttu-id="b3607-467">これらの設定は、BizTalk 管理コンソールでホストのプロパティ内にあります。</span><span class="sxs-lookup"><span data-stu-id="b3607-467">These setting are found in the Host properties in the BizTalk Administration Console.</span></span> <span data-ttu-id="b3607-468">この分析では、このカウンターの表示の統計情報のみを確認します。</span><span class="sxs-lookup"><span data-stu-id="b3607-468">This analysis checks only shows statistics for this counter.</span></span><br /><br /> <span data-ttu-id="b3607-469">参照: オーケストレーション エンジンのパフォーマンス カウンター [http://go.microsoft.com/fwlink/?LinkId=155290](http://go.microsoft.com/fwlink/?LinkId=155290)</span><span class="sxs-lookup"><span data-stu-id="b3607-469">Reference: Orchestration Engine Performance Counters at [http://go.microsoft.com/fwlink/?LinkId=155290](http://go.microsoft.com/fwlink/?LinkId=155290)</span></span>|  
|<span data-ttu-id="b3607-470">BizTalk Server: BizTalk 永続化ポイント/秒</span><span class="sxs-lookup"><span data-stu-id="b3607-470">BizTalk Server:  BizTalk Persistence Points/second</span></span>|<span data-ttu-id="b3607-471">永続化されたオーケストレーション インスタンスの 1 秒あたりの平均数。</span><span class="sxs-lookup"><span data-stu-id="b3607-471">Average number of orchestration instances persisted per second.</span></span> <span data-ttu-id="b3607-472">オーケストレーション エンジンは、さまざまな場所で実行しているオーケストレーション インスタンスの状態を保存します。</span><span class="sxs-lookup"><span data-stu-id="b3607-472">The orchestration engine saves the state of a running orchestration instance at various points.</span></span> <span data-ttu-id="b3607-473">オーケストレーション インスタンスの復元、制御されたシャット ダウンからの開始、または予期しないシャット ダウンから回復する必要がある場合は、オーケストレーション インスタンスを最後の永続性ポイントから実行します。</span><span class="sxs-lookup"><span data-stu-id="b3607-473">If it needs to rehydrate the orchestration instance, start up from a controlled shutdown, or recover from an unexpected shutdown, it will run the orchestration instance from the last persistence point.</span></span> <span data-ttu-id="b3607-474">オーケストレーション インスタンスを保持するためにすべてのオブジェクト インスタンス直接的または間接的にオーケストレーションが参照するなどその他のオブジェクトをシリアル化可能である必要があります。</span><span class="sxs-lookup"><span data-stu-id="b3607-474">In order to persist an orchestration instance, all object instances that your orchestration refers to directly or indirectly (as through other objects) must be serializable.</span></span> <span data-ttu-id="b3607-475">メッセージ永続化 (データが永続化する必要がある時間の数) の頻度増加、全体的なパフォーマンスが低下します。</span><span class="sxs-lookup"><span data-stu-id="b3607-475">As message-persistence frequency (the number of times that data needs to be persisted) increases, overall performance decreases.</span></span> <span data-ttu-id="b3607-476">各永続化ポイントのデータベースへのラウンド トリップが実際には、ので可能な限り、この永続化ポイントの頻度を回避または永続化ポイントを統合することによって減らします。</span><span class="sxs-lookup"><span data-stu-id="b3607-476">In effect, each persistence point is a round trip to the database, so whenever possible reduce the frequency of persistence points by avoiding or consolidating persistence points.</span></span> <span data-ttu-id="b3607-477">永続化ポイントが発生したときの詳細については、下の参照を参照してください。</span><span class="sxs-lookup"><span data-stu-id="b3607-477">See the references below for more information regarding when persistence points occur.</span></span> <span data-ttu-id="b3607-478">この分析は、平均で 1 秒あたり 10 個より多くの永続化ポイントを確認します。</span><span class="sxs-lookup"><span data-stu-id="b3607-478">This analysis checks for more than 10 persistence points per second on average.</span></span> <span data-ttu-id="b3607-479">これは、一般的な開始点です。</span><span class="sxs-lookup"><span data-stu-id="b3607-479">This is a general starting point.</span></span><br /><br /> <span data-ttu-id="b3607-480">参照:</span><span class="sxs-lookup"><span data-stu-id="b3607-480">References:</span></span><br /><br /> <span data-ttu-id="b3607-481">永続化にオーケストレーションで [http://go.microsoft.com/fwlink/?LinkId=155291](http://go.microsoft.com/fwlink/?LinkId=155291)</span><span class="sxs-lookup"><span data-stu-id="b3607-481">-   Persistence in Orchestrations at [http://go.microsoft.com/fwlink/?LinkId=155291](http://go.microsoft.com/fwlink/?LinkId=155291)</span></span><br /><span data-ttu-id="b3607-482">永続化し、オーケストレーション エンジンで [http://go.microsoft.com/fwlink/?LinkId=155292](http://go.microsoft.com/fwlink/?LinkId=155292)</span><span class="sxs-lookup"><span data-stu-id="b3607-482">-   Persistence and the Orchestration Engine at [http://go.microsoft.com/fwlink/?LinkId=155292](http://go.microsoft.com/fwlink/?LinkId=155292)</span></span>|  
|<span data-ttu-id="b3607-483">BizTalk Server: BizTalk Private Bytes</span><span class="sxs-lookup"><span data-stu-id="b3607-483">BizTalk Server:  BizTalk Private Bytes</span></span>|<span data-ttu-id="b3607-484">これは、"\Process (\*) \Private バイト数"パフォーマンス カウンターを比較し、ホスト インスタンスの割り当て済みのプライベート メモリのメガバイト数です。</span><span class="sxs-lookup"><span data-stu-id="b3607-484">This is the megabytes of allocated private memory for the host instance and comparable to the “\Process(\*)\Private Bytes” performance counter.</span></span> <span data-ttu-id="b3607-485">この分析は、かどうか、システムのメモリのサイズが大きくを使用して、任意のホスト インスタンスは、ホスト インスタンスがメモリの消費量を時間の経過と共に増加しているかどうかを判断します。</span><span class="sxs-lookup"><span data-stu-id="b3607-485">This analysis determines whether any of the host instances are consuming a large size of the system's memory and whether the host instance is increasing in memory consumption over time.</span></span> <span data-ttu-id="b3607-486">詳細については、このトピックでは、BizTalk のプライベート バイトの分析を参照してください。</span><span class="sxs-lookup"><span data-stu-id="b3607-486">Refer to BizTalk Private Bytes Analysis in this topic for more information.</span></span>|  
|<span data-ttu-id="b3607-487">BizTalk Server: BizTalk スプール テーブル サイズ</span><span class="sxs-lookup"><span data-stu-id="b3607-487">BizTalk Server:  BizTalk Spool Table Size</span></span>|<span data-ttu-id="b3607-488">メッセージ ボックス スプール テーブルには、システム内の各メッセージのレコードが含まれています (アクティブまたは「ガベージ コレクション」を待機している)。</span><span class="sxs-lookup"><span data-stu-id="b3607-488">The MessageBox spool table contains a record for each message in the system (active or waiting to be "garbage collected").</span></span> <span data-ttu-id="b3607-489">このテーブル内の行の数およびシステムの負荷が増加には、最大のスループットを検索する簡単な方法が用意されています。 1 秒あたりに受信したメッセージの数を監視します。</span><span class="sxs-lookup"><span data-stu-id="b3607-489">Monitoring the number of rows in this table and the number of messages received per second while increasing system load provides an easy way to find the maximum sustainable throughput.</span></span> <span data-ttu-id="b3607-490">いずれか 1)、スプール テーブルが無制限に拡大が開始されるまで入力負荷または 2) あたり 2 つ目の安定した状態、どちらか早い方、つまり最大スループットに受信したメッセージの数を増やすだけです。</span><span class="sxs-lookup"><span data-stu-id="b3607-490">Simply increase the input load until either 1) the spool table starts to grow indefinitely or 2) the number of messages received per second plateaus, whichever comes first, and that is your maximum sustainable throughput.</span></span> <span data-ttu-id="b3607-491">要約すると、その他のインジケーターに関係なくこのメジャーはな、迅速かつ簡単な方法をシステムはされているクリップが発生するかどうかを評価します。</span><span class="sxs-lookup"><span data-stu-id="b3607-491">In summary, regardless of other indicators, this measure will give you a quick and easy way to assess whether your system is being overdriven or not.</span></span> <span data-ttu-id="b3607-492">上昇傾向に BizTalk スプール テーブル サイズがある場合に起因する制限不均衡メッセージ配信レート (入力率が出力率を超える場合) またはデータベースのサイズに起因する制限が発生する可能性があります。</span><span class="sxs-lookup"><span data-stu-id="b3607-492">When the BizTalk spool tables size is on an increasing trend, then throttling due to imbalanced message delivery rate (input rate exceeds output rate) or throttling due to Database size may occur.</span></span> <span data-ttu-id="b3607-493">この分析では、BizTalk スプール テーブル サイズの上昇傾向を確認します。</span><span class="sxs-lookup"><span data-stu-id="b3607-493">This analysis checks for an increasing trend in the BizTalk Spool Table Size.</span></span><br /><br /> <span data-ttu-id="b3607-494">参照:</span><span class="sxs-lookup"><span data-stu-id="b3607-494">References:</span></span><br /><br /> <span data-ttu-id="b3607-495">BizTalk Server 2004 SP1 スループットとでの容量を把握します。 [http://go.microsoft.com/fwlink/?linkid=108781](http://go.microsoft.com/fwlink/?linkid=108781)</span><span class="sxs-lookup"><span data-stu-id="b3607-495">-   Understanding BizTalk Server 2004 SP1 Throughput and Capacity at [http://go.microsoft.com/fwlink/?linkid=108781](http://go.microsoft.com/fwlink/?linkid=108781)</span></span><br /><span data-ttu-id="b3607-496">維持可能なロード テスト [http://go.microsoft.com/fwlink/?LinkId=155293](http://go.microsoft.com/fwlink/?LinkId=155293)</span><span class="sxs-lookup"><span data-stu-id="b3607-496">-   Sustainable Load Test at [http://go.microsoft.com/fwlink/?LinkId=155293](http://go.microsoft.com/fwlink/?LinkId=155293)</span></span><br /><span data-ttu-id="b3607-497">推奨事項にエンジンのパフォーマンスをテストする場合 [http://go.microsoft.com/fwlink/?LinkID=155294](http://go.microsoft.com/fwlink/?LinkID=155294)</span><span class="sxs-lookup"><span data-stu-id="b3607-497">-   Recommendations When Testing Engine Performance at [http://go.microsoft.com/fwlink/?LinkID=155294](http://go.microsoft.com/fwlink/?LinkID=155294)</span></span>|  
|<span data-ttu-id="b3607-498">BizTalk Server: BizTalk の追跡データのサイズ</span><span class="sxs-lookup"><span data-stu-id="b3607-498">BizTalk Server:  BizTalk Tracking Data Size</span></span>|<span data-ttu-id="b3607-499">BizTalk Server では、システムの詳細と詳細データを処理するサイズを大きく、BizTalk 追跡データベース (BizTalkDTADb) は続行されます。</span><span class="sxs-lookup"><span data-stu-id="b3607-499">As BizTalk Server processes more and more data on your system, the BizTalk Tracking database (BizTalkDTADb) continues to grow in size.</span></span> <span data-ttu-id="b3607-500">サイズが増加してもチェックされないので、システム パフォーマンスが低下し、TDDS (Tracking Data Delivery Service) でエラーが発生することがあります。</span><span class="sxs-lookup"><span data-stu-id="b3607-500">Unchecked growth decreases system performance and may generate errors in the Tracking Data Delivery Service (TDDS).</span></span> <span data-ttu-id="b3607-501">一般的な追跡データに加えて、追跡メッセージもメッセージ ボックス データベースに累積されます。これにより、ディスクのパフォーマンスが低下します。</span><span class="sxs-lookup"><span data-stu-id="b3607-501">In addition to general tracking data, tracked messages can also accumulate in the MessageBox database, causing poor disk performance.</span></span> <span data-ttu-id="b3607-502">この分析は 5 MB 以上の追跡に 1 時間あたりの上昇傾向のチェックのデータのサイズ。</span><span class="sxs-lookup"><span data-stu-id="b3607-502">This analysis checks for an increasing trend of more than 5 MB’s per hour in the tracking data size.</span></span><br /><br /> <span data-ttu-id="b3607-503">リファレンス:</span><span class="sxs-lookup"><span data-stu-id="b3607-503">Reference:</span></span><br /><br /> <span data-ttu-id="b3607-504">アーカイブおよび BizTalk 追跡データベースの削除  [http://go.microsoft.com/fwlink/?LinkID=153816](http://go.microsoft.com/fwlink/?LinkID=153816)</span><span class="sxs-lookup"><span data-stu-id="b3607-504">Archiving and Purging the BizTalk Tracking Database at  [http://go.microsoft.com/fwlink/?LinkID=153816](http://go.microsoft.com/fwlink/?LinkID=153816)</span></span>|  
|<span data-ttu-id="b3607-505">BizTalk Server: BizTalk トランザクション スコープが中止されました</span><span class="sxs-lookup"><span data-stu-id="b3607-505">BizTalk Server:  BizTalk Transactional Scopes Aborted</span></span>|<span data-ttu-id="b3607-506">これは、ホスト インスタンスの起動以降に中止された長時間またはアトミックのスコープの数です。</span><span class="sxs-lookup"><span data-stu-id="b3607-506">This is the number of long-running or atomic scopes that have been aborted since the host instance started.</span></span> <span data-ttu-id="b3607-507">トランザクション スコープ中止は、オーケストレーション内でトランザクション スコープ内に発生するエラーです。</span><span class="sxs-lookup"><span data-stu-id="b3607-507">A transactional scope abort is a failure that occurs in a transaction scope within an orchestration.</span></span> <span data-ttu-id="b3607-508">スコープ完了しましたが、前後のスコープになりました (ため、プロセスの後半で発生した障害) を中止するためには実行されませんし、必要なは場合にのみ、スコープの補正ハンドラーが呼び出されることを理解しておく必要があります。</span><span class="sxs-lookup"><span data-stu-id="b3607-508">It is important to understand that the compensation handler of a scope is invoked only if the scope completed successfully, but then is required to be undone because a surrounding scope has decided to abort (due to failures that may occur later in the process).</span></span> <span data-ttu-id="b3607-509">また、トランザクションが中断された場合、状態の「自動」ロールバックは行われません。</span><span class="sxs-lookup"><span data-stu-id="b3607-509">Also, no "auto" rollback of state occurs in case of a transaction abort.</span></span> <span data-ttu-id="b3607-510">例外処理および補正ハンドラーをプログラムで使用には、この結果を得ることができます。</span><span class="sxs-lookup"><span data-stu-id="b3607-510">You can achieve this outcome programmatically through the exception and compensation handlers.</span></span> <span data-ttu-id="b3607-511">トランザクション スコープの中止は、通常、運用環境以外では実行されません。そのため、この分析は中止されたトランザクション スコープに出現する位置を確認します。</span><span class="sxs-lookup"><span data-stu-id="b3607-511">Transactional scope aborts should not normally occur in a production environment; therefore, this analysis checks for the occurrence of any transactional scopes aborted.</span></span><br /><br /> <span data-ttu-id="b3607-512">リファレンス:</span><span class="sxs-lookup"><span data-stu-id="b3607-512">Reference:</span></span><br /><br /> <span data-ttu-id="b3607-513">BizTalk Server 2004 で全体のトランザクション [http://go.microsoft.com/fwlink/?linkid=108784](http://go.microsoft.com/fwlink/?linkid=108784)</span><span class="sxs-lookup"><span data-stu-id="b3607-513">Transactions Across BizTalk Server 2004 at [http://go.microsoft.com/fwlink/?linkid=108784](http://go.microsoft.com/fwlink/?linkid=108784)</span></span>|  
|<span data-ttu-id="b3607-514">BizTalk Server: BizTalk のトランザクション スコープが補正</span><span class="sxs-lookup"><span data-stu-id="b3607-514">BizTalk Server:  BizTalk Transactional Scopes Compensated</span></span>|<span data-ttu-id="b3607-515">補正は何らかのエラー状態への応答が正常にコミットされている作業の論理元に戻すと考えることができます。</span><span class="sxs-lookup"><span data-stu-id="b3607-515">Compensation can be thought of as a logical undo of the work that has been successfully committed in response to some error condition.</span></span> <span data-ttu-id="b3607-516">スコープ完了しましたが、前後のスコープになりました (ため、プロセスの後半で発生した障害) を中止するためには実行されませんし、必要なは場合にのみ、スコープの補正ハンドラーが呼び出されることを理解しておく必要があります。</span><span class="sxs-lookup"><span data-stu-id="b3607-516">It is important to understand that the compensation handler of a scope is invoked only if the scope completed successfully, but then is required to be undone because a surrounding scope has decided to abort (due to failures that may occur later in the process).</span></span> <span data-ttu-id="b3607-517">また、トランザクションが中断された場合、状態の「自動」ロールバックは行われません。</span><span class="sxs-lookup"><span data-stu-id="b3607-517">Also, no "auto" rollback of state occurs in case of a transaction abort.</span></span> <span data-ttu-id="b3607-518">これは、例外処理および補正処理を使ったプログラムによって実現できます。</span><span class="sxs-lookup"><span data-stu-id="b3607-518">You can achieve this programmatically through the exception and compensation handlers.</span></span> <span data-ttu-id="b3607-519">トランザクション スコープの補正は、通常、運用環境以外では実行されません。そのため、この分析は中止されたトランザクション スコープに出現する位置を確認します。</span><span class="sxs-lookup"><span data-stu-id="b3607-519">Transactional scope compensations should not normally occur in a production environment; therefore, this analysis checks for the occurrence of any transactional scopes aborted.</span></span><br /><br /> <span data-ttu-id="b3607-520">BizTalk Server 2004 で全体のトランザクションのリファレンス: [http://go.microsoft.com/fwlink/?linkid=108784](http://go.microsoft.com/fwlink/?linkid=108784)</span><span class="sxs-lookup"><span data-stu-id="b3607-520">Reference: Transactions Across BizTalk Server 2004 at [http://go.microsoft.com/fwlink/?linkid=108784](http://go.microsoft.com/fwlink/?linkid=108784)</span></span>|  
|<span data-ttu-id="b3607-521">BizTalk Server: BizTalk 仮想バイト数</span><span class="sxs-lookup"><span data-stu-id="b3607-521">BizTalk Server:  BizTalk Virtual Bytes</span></span>|<span data-ttu-id="b3607-522">これは、ホスト インスタンスの仮想メモリの予約済みのメガバイト数です。</span><span class="sxs-lookup"><span data-stu-id="b3607-522">This is the megabytes reserved for virtual memory for the host instance.</span></span> <span data-ttu-id="b3607-523">この分析は、大量のシステムのメモリを消費、任意のホスト インスタンスかどうかと、ホスト インスタンスがメモリの消費量を時間の経過と共に増加しているかどうかを判断します。</span><span class="sxs-lookup"><span data-stu-id="b3607-523">This analysis determines whether any of the host instances are consuming a large amount of the system's memory and whether the host instance is increasing in memory consumption over time.</span></span> <span data-ttu-id="b3607-524">詳細については、このトピックの「BizTalk 仮想バイト分析を参照してください。</span><span class="sxs-lookup"><span data-stu-id="b3607-524">For more information, refer to BizTalk Virtual Bytes Analysis in this topic.</span></span>|  
|<span data-ttu-id="b3607-525">BizTalk Server: BizTalk メッセージ エージェントのデータベース セッションの制限</span><span class="sxs-lookup"><span data-stu-id="b3607-525">BizTalk Server:  BizTalk Message Agent Database Session Throttling</span></span>|<span data-ttu-id="b3607-526">これは、調整設定の各 BizTalk と比較して、メッセージ ボックスを開いているデータベース接続の数です。</span><span class="sxs-lookup"><span data-stu-id="b3607-526">This is the number of open database connections to the MessageBox compared to its respective BizTalk throttling setting.</span></span> <span data-ttu-id="b3607-527">許可される制限が適用されます (CPU ごとの) 同時実行データベース セッションの最大数は、「データベースの CPU ごとの接続」です。</span><span class="sxs-lookup"><span data-stu-id="b3607-527">“Database connection per CPU” is the maximum number of concurrent database sessions (per CPU) allowed before throttling begins.</span></span> <span data-ttu-id="b3607-528">詳細については、このトピックの「BizTalk メッセージ エージェント データベース セッションの制限の分析を参照してください。</span><span class="sxs-lookup"><span data-stu-id="b3607-528">For more information, refer to BizTalk Message Agent Database Session Throttling Analysis in this topic.</span></span>|  
|<span data-ttu-id="b3607-529">BizTalk Server: BizTalk メッセージ エージェント データベース セッションの制限のしきい値</span><span class="sxs-lookup"><span data-stu-id="b3607-529">BizTalk Server:  BizTalk Message Agent Database Session Throttling Threshold</span></span>|<span data-ttu-id="b3607-530">これは、メッセージ ボックス データベースへの開いているデータベース接続の数の現在のしきい値です。</span><span class="sxs-lookup"><span data-stu-id="b3607-530">This is the current threshold for the number of open database connections to the MessageBox.</span></span> <span data-ttu-id="b3607-531">許可される制限が適用されます (CPU ごとの) 同時実行データベース セッションの最大数は、「データベースの CPU ごとの接続」です。</span><span class="sxs-lookup"><span data-stu-id="b3607-531">“Database connection per CPU” is the maximum number of concurrent database sessions (per CPU) allowed before throttling begins.</span></span> <span data-ttu-id="b3607-532">詳細については、このトピックの「BizTalk メッセージ エージェント データベース セッションの制限のしきい値の分析を参照してください。</span><span class="sxs-lookup"><span data-stu-id="b3607-532">For more information, refer to BizTalk Message Agent Database Session Throttling Threshold Analysis in this topic.</span></span>|  
|<span data-ttu-id="b3607-533">BizTalk Server: BizTalk メッセージ エージェント インプロセス メッセージ数の調整</span><span class="sxs-lookup"><span data-stu-id="b3607-533">BizTalk Server:  BizTalk Message Agent In-process Message Count Throttling</span></span>|<span data-ttu-id="b3607-534">これは、サービス クラスが処理されている同時実行のメッセージの数です。</span><span class="sxs-lookup"><span data-stu-id="b3607-534">This is the number of concurrent messages that the service class is processing.</span></span> <span data-ttu-id="b3607-535">ホスト制限の設定で「プロセスでは、CPU あたりメッセージ」設定は、処理されていない、エンド ポイント マネージャー (EPM) または XLANG に配信されたメッセージの最大数です。</span><span class="sxs-lookup"><span data-stu-id="b3607-535">The “In-process messages per CPU” setting in the Host Throttling Settings is the maximum number of messages delivered to the End Point Manager (EPM) or XLANG that have not been processed.</span></span> <span data-ttu-id="b3607-536">詳細については、このトピックの「BizTalk メッセージ エージェント インプロセス メッセージ数のスロットル分析を参照してください。</span><span class="sxs-lookup"><span data-stu-id="b3607-536">For more information, refer to BizTalk Message Agent In-process Message Count Throttling Analysis in this topic.</span></span>|  
|<span data-ttu-id="b3607-537">BizTalk サーバー: BizTalk メッセージ エージェント インプロセス メッセージ カウントのしきい値を調整</span><span class="sxs-lookup"><span data-stu-id="b3607-537">BizTalk Server:  BizTalk Message Agent In-process Message Count Throttling Threshold</span></span>|<span data-ttu-id="b3607-538">これは、サービス クラスが処理されている同時実行のメッセージの数の現在のしきい値です。</span><span class="sxs-lookup"><span data-stu-id="b3607-538">This is the current threshold for the number of concurrent messages that the service class is processing.</span></span> <span data-ttu-id="b3607-539">ホスト制限の設定で「プロセスでは、CPU あたりメッセージ」設定は、処理されていない、エンド ポイント マネージャー (EPM) または XLANG に配信されたメッセージの最大数です。</span><span class="sxs-lookup"><span data-stu-id="b3607-539">The “In-process messages per CPU” setting in the Host Throttling Settings is the maximum number of messages delivered to the End Point Manager (EPM) or XLANG that have not been processed.</span></span> <span data-ttu-id="b3607-540">詳細については、BizTalk メッセージ エージェント インプロセス メッセージ カウント調整しきい値 Analysis このトピックの内容を参照してください。</span><span class="sxs-lookup"><span data-stu-id="b3607-540">For more information, refer to BizTalk Message Agent In-process Message Count Throttling Threshold Analysis in this topic.</span></span>|  
|<span data-ttu-id="b3607-541">BizTalk Server: BizTalk メッセージ エージェント プロセス メモリ使用量 (MB) の調整</span><span class="sxs-lookup"><span data-stu-id="b3607-541">BizTalk Server:  BizTalk Message Agent Process Memory Usage (MB) Throttling</span></span>|<span data-ttu-id="b3607-542">これは、現在のプロセス (MB) のメモリ使用量です。</span><span class="sxs-lookup"><span data-stu-id="b3607-542">This is the memory usage of current process (MB).</span></span> <span data-ttu-id="b3607-543">BizTalk プロセス メモリの制限は公開するバッチの急なメモリ要件がある場合、またはメッセージを処理しているスレッドが多すぎる場合に発生します。</span><span class="sxs-lookup"><span data-stu-id="b3607-543">BizTalk process memory throttling can occur if the batch to be published has steep memory requirements, or if too many threads are processing messages.</span></span> <span data-ttu-id="b3607-544">詳細については、このトピックの「BizTalk メッセージ エージェント プロセス メモリ使用量 (MB) の調整分析を参照してください。</span><span class="sxs-lookup"><span data-stu-id="b3607-544">For more information, refer to BizTalk Message Agent Process Memory Usage (MB) Throttling Analysis in this topic.</span></span>|  
|<span data-ttu-id="b3607-545">BizTalk Server: BizTalk メッセージ エージェント プロセス メモリ使用量 (MB) しきい値の調整</span><span class="sxs-lookup"><span data-stu-id="b3607-545">BizTalk Server:  BizTalk Message Agent Process Memory Usage (MB) Throttling Threshold</span></span>|<span data-ttu-id="b3607-546">これは、現在のプロセス (MB) のメモリ使用量の現在のしきい値です。</span><span class="sxs-lookup"><span data-stu-id="b3607-546">This is the current threshold for the memory usage of current process (MB).</span></span> <span data-ttu-id="b3607-547">このプロセスとのメモリ消費のパターンに使用可能なメモリの実際の容量に応じて、しきい値を動的に調整する可能性があります。</span><span class="sxs-lookup"><span data-stu-id="b3607-547">The threshold may be dynamically adjusted depending on the actual amount of memory available to this process and its memory consumption pattern.</span></span> <span data-ttu-id="b3607-548">BizTalk プロセス メモリの制限は公開するバッチの急なメモリ要件がある場合、またはメッセージを処理しているスレッドが多すぎる場合に発生します。</span><span class="sxs-lookup"><span data-stu-id="b3607-548">BizTalk process memory throttling can occur if the batch to be published has steep memory requirements, or if too many threads are processing messages.</span></span> <span data-ttu-id="b3607-549">詳細についてを参照して BizTalk メッセージ エージェント プロセスのメモリ使用量 (MB) はこのトピックの内容に分析しきい値の調整。</span><span class="sxs-lookup"><span data-stu-id="b3607-549">For more information, refer to BizTalk Message Agent Process memory usage (MB) Throttling Threshold Analysis in this topic.</span></span>|  
|<span data-ttu-id="b3607-550">BizTalk Server: BizTalk メッセージ エージェント スレッド数の調整</span><span class="sxs-lookup"><span data-stu-id="b3607-550">BizTalk Server:  BizTalk Message Agent Thread Count Throttling</span></span>|<span data-ttu-id="b3607-551">BizTalk プロセス内のスレッドの合計数。</span><span class="sxs-lookup"><span data-stu-id="b3607-551">The total number of threads in the BizTalk process.</span></span> <span data-ttu-id="b3607-552">「CPU あたりのスレッド」は、アダプターで使用されるスレッドを含むホスト プロセス内のスレッドの合計数です。</span><span class="sxs-lookup"><span data-stu-id="b3607-552">“Threads Per CPU” is the total number of threads in the host process including threads used by adapters.</span></span> <span data-ttu-id="b3607-553">このしきい値を超えると、BizTalk Server は、EPM スレッド プールのサイズとメッセージ エージェント スレッド プールを減らそうとします。</span><span class="sxs-lookup"><span data-stu-id="b3607-553">If this threshold is exceeded, BizTalk Server will try to reduce the size of EPM thread pool and message agent thread pool.</span></span> <span data-ttu-id="b3607-554">高負荷によって多くのスレッドを作成するシナリオでは、スレッド ベースの制限を有効にする必要があります。</span><span class="sxs-lookup"><span data-stu-id="b3607-554">Thread based throttling should be enabled in scenarios where high load can lead to the creation of a large number of threads.</span></span> <span data-ttu-id="b3607-555">このパラメーターは、受信制限と送信制限の両方に影響します。</span><span class="sxs-lookup"><span data-stu-id="b3607-555">This parameter affects both inbound and outbound throttling.</span></span> <span data-ttu-id="b3607-556">既定では、スレッド ベースの制限を無効になっています。</span><span class="sxs-lookup"><span data-stu-id="b3607-556">Thread based throttling is disabled by default.</span></span> <span data-ttu-id="b3607-557">この分析では、BizTalk のスレッド数が制限の条件が可能性を示す調整のしきい値の 80% を超えるかどうかを確認します。</span><span class="sxs-lookup"><span data-stu-id="b3607-557">This analysis checks whether the BizTalk Thread count is greater than 80 percent of the throttling threshold value indicating a throttling condition is likely.</span></span><br /><br /> <span data-ttu-id="b3607-558">参照:</span><span class="sxs-lookup"><span data-stu-id="b3607-558">References:</span></span><br /><br /> <span data-ttu-id="b3607-559">-ホストでの制限のパフォーマンス カウンター [http://go.microsoft.com/fwlink/?LinkId=155285](http://go.microsoft.com/fwlink/?LinkId=155285)</span><span class="sxs-lookup"><span data-stu-id="b3607-559">-   Host Throttling Performance Counters at [http://go.microsoft.com/fwlink/?LinkId=155285](http://go.microsoft.com/fwlink/?LinkId=155285)</span></span><br /><span data-ttu-id="b3607-560">-どの[!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)]ホストに制限の実装 [http://go.microsoft.com/fwlink/?LinkId=155286](http://go.microsoft.com/fwlink/?LinkId=155286)</span><span class="sxs-lookup"><span data-stu-id="b3607-560">-   How [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] Implements Host Throttling at [http://go.microsoft.com/fwlink/?LinkId=155286](http://go.microsoft.com/fwlink/?LinkId=155286)</span></span><br /><span data-ttu-id="b3607-561">-既定のホスト制限の設定を変更する方法 [http://go.microsoft.com/fwlink/?LinkId=155296](http://go.microsoft.com/fwlink/?LinkId=155296)</span><span class="sxs-lookup"><span data-stu-id="b3607-561">-   How to Modify the Default Host Throttling Settings at [http://go.microsoft.com/fwlink/?LinkId=155296](http://go.microsoft.com/fwlink/?LinkId=155296)</span></span><br /><span data-ttu-id="b3607-562">アダプターのパフォーマンスに影響する構成パラメーター [http://go.microsoft.com/fwlink/?LinkID=154200](http://go.microsoft.com/fwlink/?LinkID=154200)</span><span class="sxs-lookup"><span data-stu-id="b3607-562">-   Configuration Parameters that Affect Adapter Performance at [http://go.microsoft.com/fwlink/?LinkID=154200](http://go.microsoft.com/fwlink/?LinkID=154200)</span></span><br /><span data-ttu-id="b3607-563">スレッド数、DB のセッションとの調整 [http://go.microsoft.com/fwlink/?linkid=106793](http://go.microsoft.com/fwlink/?linkid=106793)</span><span class="sxs-lookup"><span data-stu-id="b3607-563">-   Threads, DB sessions, and throttling at [http://go.microsoft.com/fwlink/?linkid=106793](http://go.microsoft.com/fwlink/?linkid=106793)</span></span>|  
|<span data-ttu-id="b3607-564">BizTalk Server: BizTalk メッセージ エージェント スレッド数の制限のしきい値</span><span class="sxs-lookup"><span data-stu-id="b3607-564">BizTalk Server:  BizTalk Message Agent Thread Count Throttling Threshold</span></span>|<span data-ttu-id="b3607-565">これは、プロセス内のスレッドの合計数の現在のしきい値です。</span><span class="sxs-lookup"><span data-stu-id="b3607-565">This is the current threshold for the total number of threads in the process.</span></span> <span data-ttu-id="b3607-566">「CPU あたりのスレッド」は、アダプターで使用されるスレッドを含むホスト プロセス内のスレッドの合計数です。</span><span class="sxs-lookup"><span data-stu-id="b3607-566">“Threads Per CPU” is the total number of threads in the host process including threads used by adapters.</span></span> <span data-ttu-id="b3607-567">このしきい値を超えると、BizTalk Server は、EPM スレッド プールのサイズとメッセージ エージェント スレッド プールを減らそうとします。</span><span class="sxs-lookup"><span data-stu-id="b3607-567">If this threshold is exceeded, BizTalk Server will try to reduce the size of EPM thread pool and message agent thread pool.</span></span> <span data-ttu-id="b3607-568">高負荷が多数のスレッドを作成する可能性がシナリオでのスレッドに基づく制限を有効にする必要があります。</span><span class="sxs-lookup"><span data-stu-id="b3607-568">Thread-based throttling should be enabled in scenarios where high load can lead to the creation of a large number of threads.</span></span> <span data-ttu-id="b3607-569">このパラメーターは、受信制限と送信制限の両方に影響します。</span><span class="sxs-lookup"><span data-stu-id="b3607-569">This parameter affects both inbound and outbound throttling.</span></span><br /><br /> <span data-ttu-id="b3607-570">この分析では、この制限の設定が既定以外の値に設定されているかどうかを確認します。</span><span class="sxs-lookup"><span data-stu-id="b3607-570">This analysis checks whether this throttling setting is set to a non-default value.</span></span> <span data-ttu-id="b3607-571">既定では、スレッド ベースの制限を無効になっています。</span><span class="sxs-lookup"><span data-stu-id="b3607-571">Thread based throttling is disabled by default.</span></span><br /><br /> <span data-ttu-id="b3607-572">参照:</span><span class="sxs-lookup"><span data-stu-id="b3607-572">References:</span></span><br /><br /> <span data-ttu-id="b3607-573">-ホストでの制限のパフォーマンス カウンター [http://go.microsoft.com/fwlink/?LinkId=155285](http://go.microsoft.com/fwlink/?LinkId=155285)</span><span class="sxs-lookup"><span data-stu-id="b3607-573">-   Host Throttling Performance Counters at [http://go.microsoft.com/fwlink/?LinkId=155285](http://go.microsoft.com/fwlink/?LinkId=155285)</span></span><br /><span data-ttu-id="b3607-574">-どの[!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)]ホストに制限の実装 [http://go.microsoft.com/fwlink/?LinkId=155286](http://go.microsoft.com/fwlink/?LinkId=155286)</span><span class="sxs-lookup"><span data-stu-id="b3607-574">-   How [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] Implements Host Throttling at [http://go.microsoft.com/fwlink/?LinkId=155286](http://go.microsoft.com/fwlink/?LinkId=155286)</span></span><br /><span data-ttu-id="b3607-575">-既定のホスト制限の設定を変更する方法 [http://go.microsoft.com/fwlink/?LinkId=155296](http://go.microsoft.com/fwlink/?LinkId=155296)</span><span class="sxs-lookup"><span data-stu-id="b3607-575">-   How to Modify the Default Host Throttling Settings at [http://go.microsoft.com/fwlink/?LinkId=155296](http://go.microsoft.com/fwlink/?LinkId=155296)</span></span><br /><span data-ttu-id="b3607-576">アダプターのパフォーマンスに影響する構成パラメーター [http://go.microsoft.com/fwlink/?LinkID=154200](http://go.microsoft.com/fwlink/?LinkID=154200)</span><span class="sxs-lookup"><span data-stu-id="b3607-576">-   Configuration Parameters that Affect Adapter Performance at [http://go.microsoft.com/fwlink/?LinkID=154200](http://go.microsoft.com/fwlink/?LinkID=154200)</span></span><br /><span data-ttu-id="b3607-577">スレッド数、DB のセッションとの調整 [http://go.microsoft.com/fwlink/?linkid=106793](http://go.microsoft.com/fwlink/?linkid=106793)</span><span class="sxs-lookup"><span data-stu-id="b3607-577">-   Threads, DB sessions, and throttling at [http://go.microsoft.com/fwlink/?linkid=106793](http://go.microsoft.com/fwlink/?linkid=106793)</span></span>|  
  
## <a name="logicalphysical-disk-readwrite-latency-analysis"></a><span data-ttu-id="b3607-578">論理/物理ディスク読み取り/書き込み待機時間の分析</span><span class="sxs-lookup"><span data-stu-id="b3607-578">Logical/Physical Disk Read/Write Latency Analysis</span></span>  
 <span data-ttu-id="b3607-579">ディスク パフォーマンスのボトルネックを検出するために Windows の最も信頼性の高い方法は、その応答時間を測定することによってです。</span><span class="sxs-lookup"><span data-stu-id="b3607-579">The most reliable way for Windows to detect a disk performance bottleneck is by measuring its response times.</span></span> <span data-ttu-id="b3607-580">応答時間が安全なしきい値である、.025 (25) (ミリ秒単位) を超える顕著な処理が遅く、パフォーマンスの問題をユーザーに影響を発生する可能性があります。</span><span class="sxs-lookup"><span data-stu-id="b3607-580">If the response times are greater than .025 (25 milliseconds), which is a conservative threshold, then noticeable slow-downs and performance issues affecting users may be occurring.</span></span>  
  
 <span data-ttu-id="b3607-581">不適切なディスクの待機時間の一般的な原因は、ディスクの断片化、パフォーマンスのキャッシュ、率飽和状態になり、SAN とディスクの過剰な負荷します。</span><span class="sxs-lookup"><span data-stu-id="b3607-581">Common causes of poor disk latency are disk fragmentation, performance cache, an over saturated SAN, and too much load on the disk.</span></span> <span data-ttu-id="b3607-582">SPA ツールを使用して、最上位ファイルとディスクを使用してプロセスの特定に役立ちます。</span><span class="sxs-lookup"><span data-stu-id="b3607-582">Use the SPA tool to help identify the top files and processes using the disk.</span></span> <span data-ttu-id="b3607-583">"プロセス IO Data operations/sec"と「プロセス IO 他の操作/秒」を確認して、どのプロセスが最もディスクを消費している I/O の</span><span class="sxs-lookup"><span data-stu-id="b3607-583">Also check the “Process IO Data Operations/sec” and “Process IO Other Operations/sec” to see which processes are consuming the most disk I/O’s.</span></span> <span data-ttu-id="b3607-584">パフォーマンス モニター カウンターが関係しているファイルを指定することができないことに注意してください。</span><span class="sxs-lookup"><span data-stu-id="b3607-584">Keep in mind that performance monitor counters are unable to specify which files are involved.</span></span>  
  
### <a name="references"></a><span data-ttu-id="b3607-585">References</span><span class="sxs-lookup"><span data-stu-id="b3607-585">References</span></span>  
  
-   <span data-ttu-id="b3607-586">ディスク バインドの問題は除きます [http://go.microsoft.com/fwlink/?linkid=50669](http://go.microsoft.com/fwlink/?linkid=50669)</span><span class="sxs-lookup"><span data-stu-id="b3607-586">Ruling Out Disk-Bound Problems at [http://go.microsoft.com/fwlink/?linkid=50669](http://go.microsoft.com/fwlink/?linkid=50669)</span></span>  
  
-   <span data-ttu-id="b3607-587">ツールを使用して、Microsoft サーバー パフォーマンス アドバイザー (SPA) でディスク パフォーマンスのボトルネックを特定する方法 [http://go.microsoft.com/fwlink/?linkid=98096](http://go.microsoft.com/fwlink/?linkid=98096)</span><span class="sxs-lookup"><span data-stu-id="b3607-587">How to Identify a Disk Performance Bottleneck Using the Microsoft Server Performance Advisor (SPA) Tool at [http://go.microsoft.com/fwlink/?linkid=98096](http://go.microsoft.com/fwlink/?linkid=98096)</span></span>  
  
-   <span data-ttu-id="b3607-588">Microsoft サービス パフォーマンス アドバイザー (SPA) の詳細情報をダウンロードします。 [http://go.microsoft.com/fwlink/?linkid=57769](http://go.microsoft.com/fwlink/?linkid=57769)</span><span class="sxs-lookup"><span data-stu-id="b3607-588">Download Details for Microsoft Service Performance Advisor (SPA) at: [http://go.microsoft.com/fwlink/?linkid=57769](http://go.microsoft.com/fwlink/?linkid=57769)</span></span>  
  
## <a name="logical-disk-transferssec"></a><span data-ttu-id="b3607-589">論理ディスクの転送数/秒</span><span class="sxs-lookup"><span data-stu-id="b3607-589">Logical Disk Transfers/sec</span></span>  
 <span data-ttu-id="b3607-590">「ディスクの転送/秒」は読み取り率、ディスク上の操作を書き込むとします。</span><span class="sxs-lookup"><span data-stu-id="b3607-590">“Disk Transfers/sec” is the rate of read and write operations on the disk.</span></span> <span data-ttu-id="b3607-591">ディスクの転送がディスクに直接的な相関関係ではないときに/O の実現何かありましたら数のディスク操作が実行されます。</span><span class="sxs-lookup"><span data-stu-id="b3607-591">While disk transfers are not a direct correlation to disk I/O's, they do tell us how many disk operations are occurring.</span></span> <span data-ttu-id="b3607-592">シーケンシャル平均する場合 I/O のでランダムな I/O のして最終的に、約 80 I/O あたり 2 番目の一般的な経験則として。</span><span class="sxs-lookup"><span data-stu-id="b3607-592">If you average out sequential I/O’s and random I/O's, then you end up with about 80 I/O's per second as a general rule of thumb.</span></span> <span data-ttu-id="b3607-593">そのため、実行 80 以上に SAN ドライブが予想される/O の下にある 2 番目の when あたりをロードします。</span><span class="sxs-lookup"><span data-stu-id="b3607-593">Therefore, we should expect a SAN drive to perform more than 80 I/O's per second when under load.</span></span> <span data-ttu-id="b3607-594">この分析を確認してくださいかどうかの論理ディスクのいずれかのしきい値が表示される応答時間が長い (I/O 操作の応答時間を 25 ミリ秒より大きい)。</span><span class="sxs-lookup"><span data-stu-id="b3607-594">The thresholds for this analysis check to see whether any of the logical disks are showing poor response times (greater than 25 ms response times for I/O operations).</span></span> <span data-ttu-id="b3607-595">これが true の場合は、80 以上にする 1 秒あたりのディスク転送を期待お必要があります。</span><span class="sxs-lookup"><span data-stu-id="b3607-595">If this is true, then we should expect the disk transfers per second to be at or above 80.</span></span> <span data-ttu-id="b3607-596">それ以外の場合は、ディスクのアーキテクチャを調査する必要があります。</span><span class="sxs-lookup"><span data-stu-id="b3607-596">If not, then the disk architecture needs to be investigated.</span></span> <span data-ttu-id="b3607-597">不適切なディスク I/O の最も一般的な原因は、論理ユニット番号 (LUN) が複数の LUN が少数の物理ディスク アレイを使用して、条件の意味、SAN のオーバー ロードです。</span><span class="sxs-lookup"><span data-stu-id="b3607-597">The most common cause of poor disk I/O is logical unit number (LUN) overloading on the SAN – meaning the condition where more than one LUN is using the small physical disk array.</span></span>  
  
### <a name="reference"></a><span data-ttu-id="b3607-598">リファレンス</span><span class="sxs-lookup"><span data-stu-id="b3607-598">Reference</span></span>  
 <span data-ttu-id="b3607-599">NT Server とのディスク サブシステムのパフォーマンス [http://go.microsoft.com/fwlink/?linkid=106783](http://go.microsoft.com/fwlink/?linkid=106783)</span><span class="sxs-lookup"><span data-stu-id="b3607-599">NT Server and Disk Subsystem Performance at [http://go.microsoft.com/fwlink/?linkid=106783](http://go.microsoft.com/fwlink/?linkid=106783)</span></span>  
  
## <a name="available-memory-analysis"></a><span data-ttu-id="b3607-600">使用可能なメモリ分析</span><span class="sxs-lookup"><span data-stu-id="b3607-600">Available Memory Analysis</span></span>  
 <span data-ttu-id="b3607-601">「利用可能なメガバイト数」は、コンピューターで、メガバイト単位で実行されているプロセスに使用できる物理メモリの量です。</span><span class="sxs-lookup"><span data-stu-id="b3607-601">“Available Mbytes” is the amount of physical memory available to processes running on the computer, in megabytes.</span></span> <span data-ttu-id="b3607-602">仮想メモリ マネージャーは、オペレーティング システムおよびプロセスの使用可能なバイト数の最小数を維持するために物理メモリ内とディスクを使用する領域を継続的に調整します。</span><span class="sxs-lookup"><span data-stu-id="b3607-602">The Virtual Memory Manager continually adjusts the space used in physical memory and on disk to maintain a minimum number of available bytes for the operating system and processes.</span></span> <span data-ttu-id="b3607-603">使用可能なバイト数が十分にある場合、仮想メモリ マネージャー プロセスのワーキング セットは、次の拡張、または追加された新しいページのそれぞれの以前のページを削除することによって、安定して保持します。</span><span class="sxs-lookup"><span data-stu-id="b3607-603">When available bytes are plentiful, the Virtual Memory Manager lets the working sets of processes grow, or keeps them stable by removing an old page for each new page added.</span></span> <span data-ttu-id="b3607-604">利用可能なバイトがいくつかの場合は、仮想メモリ マネージャーの最小要件を維持するためにプロセスのワーキング セットをトリミングする必要があります。</span><span class="sxs-lookup"><span data-stu-id="b3607-604">When available bytes are few, the Virtual Memory Manager must trim the working sets of processes to maintain the minimum required.</span></span>  
  
 <span data-ttu-id="b3607-605">この分析が使用可能なメモリの合計が低 ~ 10% の使用可能な警告かどうかを確認および使用可能な 5% に重大です。</span><span class="sxs-lookup"><span data-stu-id="b3607-605">This analysis checks to see whether the total available memory is low – Warning at 10 percent available and Critical at 5 percent available.</span></span> <span data-ttu-id="b3607-606">潜在的な予定されているメモリの状態を示す、1 時間あたり 10 MB の下降傾向が検出されたときに、警告も警告が発生します。</span><span class="sxs-lookup"><span data-stu-id="b3607-606">A warning is also alerted when a decreasing trend of 10 MB’s per hour is detected, indicating a potential upcoming memory condition.</span></span> <span data-ttu-id="b3607-607">物理メモリの不足には、増加した特権モード CPU とシステム遅延可能性があります。</span><span class="sxs-lookup"><span data-stu-id="b3607-607">Low physical memory can cause increased privileged mode CPU and system delays.</span></span>  
  
### <a name="references"></a><span data-ttu-id="b3607-608">References</span><span class="sxs-lookup"><span data-stu-id="b3607-608">References</span></span>  
  
-   <span data-ttu-id="b3607-609">メモリのボトルネックの検出 [http://go.microsoft.com/fwlink/?linkid=106787](http://go.microsoft.com/fwlink/?linkid=106787)</span><span class="sxs-lookup"><span data-stu-id="b3607-609">Detecting Memory Bottlenecks at [http://go.microsoft.com/fwlink/?linkid=106787](http://go.microsoft.com/fwlink/?linkid=106787)</span></span>  
  
-   <span data-ttu-id="b3607-610">メモリ バインドの問題は除きます [http://go.microsoft.com/fwlink/?linkid=62575](http://go.microsoft.com/fwlink/?linkid=62575)</span><span class="sxs-lookup"><span data-stu-id="b3607-610">Ruling Out Memory-Bound Problems at [http://go.microsoft.com/fwlink/?linkid=62575](http://go.microsoft.com/fwlink/?linkid=62575)</span></span>  
  
## <a name="memory-leak-detection-analysis"></a><span data-ttu-id="b3607-611">メモリ リークの検出の分析</span><span class="sxs-lookup"><span data-stu-id="b3607-611">Memory Leak Detection Analysis</span></span>  
 <span data-ttu-id="b3607-612">この分析は、大量のシステムのメモリを消費、プロセスのいずれかどうかと、プロセスがメモリの消費量を時間の経過と共に増加しているかどうかを判断します。</span><span class="sxs-lookup"><span data-stu-id="b3607-612">This analysis determines whether any of the processes are consuming a large amount of the system's memory and whether the process is increasing in memory consumption over time.</span></span> <span data-ttu-id="b3607-613">メモリの大部分を使用しているプロセスは、プロセスがシステムにメモリを返す限り問題ありません。</span><span class="sxs-lookup"><span data-stu-id="b3607-613">A process consuming large portions of memory is okay as long as the process returns the memory back to the system.</span></span> <span data-ttu-id="b3607-614">グラフの傾向を増やすことを探します。</span><span class="sxs-lookup"><span data-stu-id="b3607-614">Look for increasing trends in the chart.</span></span> <span data-ttu-id="b3607-615">長期間にわたって上昇傾向は、メモリ リークである可能性があります。</span><span class="sxs-lookup"><span data-stu-id="b3607-615">An increasing trend over a long period of time could indicate a memory leak.</span></span> <span data-ttu-id="b3607-616">Private Bytes は、このプロセスによって割り当てられ、他のプロセスと共有できないメモリのバイト単位で、現在のサイズです。</span><span class="sxs-lookup"><span data-stu-id="b3607-616">Private Bytes is the current size, in bytes, of memory that this process has allocated that cannot be shared with other processes.</span></span> <span data-ttu-id="b3607-617">この分析は、1 時間あたりの 10 の MB、5 MB の/時間の傾向を増やすことを確認します。</span><span class="sxs-lookup"><span data-stu-id="b3607-617">This analysis checks for 10 MB’s per hour and 5 MB’s per hour increasing trends.</span></span> <span data-ttu-id="b3607-618">使用可能なメモリ分析との相関関係でこの分析を使用します。</span><span class="sxs-lookup"><span data-stu-id="b3607-618">Use this analysis in correlation with the Available Memory analysis.</span></span>  
  
 <span data-ttu-id="b3607-619">また、単に通常の起動動作になる場合に、新しく開始されたプロセスがメモリ リークとして表示最初に注意してください。</span><span class="sxs-lookup"><span data-stu-id="b3607-619">Also, keep in mind that newly started processes will initially appear as a memory leak when it is simply normal startup behavior.</span></span> <span data-ttu-id="b3607-620">プロセスがメモリを消費し続けるし、長い期間にわたってメモリを解放しないと、メモリ リークが発生します。</span><span class="sxs-lookup"><span data-stu-id="b3607-620">A memory leak occurs when a process continues to consume memory and does not release memory over a long period of time.</span></span>  
  
 <span data-ttu-id="b3607-621">メモリ リークが発生条件が疑われる場合は、インストールし、デバッグ診断ツールを使用します。</span><span class="sxs-lookup"><span data-stu-id="b3607-621">If you suspect a memory leak condition, then install and use the Debug Diag tool.</span></span> <span data-ttu-id="b3607-622">デバッグ診断ツールの詳細については、参照設定 セクションを参照してください。</span><span class="sxs-lookup"><span data-stu-id="b3607-622">For more information on the Debug Diag Tool, see the references section.</span></span>  
  
### <a name="reference"></a><span data-ttu-id="b3607-623">リファレンス</span><span class="sxs-lookup"><span data-stu-id="b3607-623">Reference</span></span>  
 <span data-ttu-id="b3607-624">診断ツール v1.1 をデバッグします。 [http://go.microsoft.com/fwlink/?linkid=106784](http://go.microsoft.com/fwlink/?linkid=106784)</span><span class="sxs-lookup"><span data-stu-id="b3607-624">Debug Diagnostic Tool v1.1 at [http://go.microsoft.com/fwlink/?linkid=106784](http://go.microsoft.com/fwlink/?linkid=106784)</span></span>  
  
## <a name="memory-pagessec-analysis"></a><span data-ttu-id="b3607-625">メモリ ページ数/秒の分析</span><span class="sxs-lookup"><span data-stu-id="b3607-625">Memory Pages/sec Analysis</span></span>  
 <span data-ttu-id="b3607-626">この分析は、"pages/sec"が高いかどうかを確認します。</span><span class="sxs-lookup"><span data-stu-id="b3607-626">This analysis checks to see whether the “Pages/sec” is high.</span></span> <span data-ttu-id="b3607-627">高である場合、システム可能性がありますメモリが不足するしようとしたため、ディスクへのメモリ ページです。</span><span class="sxs-lookup"><span data-stu-id="b3607-627">If it is high, then the system is likely running out of memory by trying to page the memory to the disk.</span></span> <span data-ttu-id="b3607-628">「1 秒あたりのページ数」は、ページの読み取りまたはハード ページ フォールトを解決するのにはディスクに書き込まれる位置です。</span><span class="sxs-lookup"><span data-stu-id="b3607-628">“Pages/sec” is the rate at which pages are read from or written to disk to resolve hard page faults.</span></span> <span data-ttu-id="b3607-629">このカウンターは、システム全体の遅延を引き起こすフォールトのプライマリ インジケーターです。</span><span class="sxs-lookup"><span data-stu-id="b3607-629">This counter is a primary indicator of the kinds of faults that cause system-wide delays.</span></span>  <span data-ttu-id="b3607-630">これは、"memory \pages input/sec"と"memory \pages output/sec"の合計です。</span><span class="sxs-lookup"><span data-stu-id="b3607-630">It is the sum of “Memory\Pages Input/sec” and “Memory\Pages Output/sec”.</span></span> <span data-ttu-id="b3607-631">他の"memory \page faults/sec"などのページ カウントを比較できるように、ページの数でカウントされます。</span><span class="sxs-lookup"><span data-stu-id="b3607-631">It is counted in numbers of pages, so it can be compared to other counts of pages, such as “Memory\Page Faults/sec”.</span></span>  
  
 <span data-ttu-id="b3607-632">このカウンターは、1,000 未満常にする必要があります。</span><span class="sxs-lookup"><span data-stu-id="b3607-632">This counter should always be below 1,000.</span></span> <span data-ttu-id="b3607-633">この分析では、1,000 を超える値を確認します。</span><span class="sxs-lookup"><span data-stu-id="b3607-633">This analysis checks for values above 1,000.</span></span> <span data-ttu-id="b3607-634">使用可能なメモリの分析とメモリ リークの検出の分析との相関関係でこの分析を使用します。</span><span class="sxs-lookup"><span data-stu-id="b3607-634">Use this analysis in correlation with Available Memory Analysis and Memory Leak Detection analysis.</span></span> <span data-ttu-id="b3607-635">すべての解析には、同時に警告がスローされず、し、この可能性があります、システム メモリが不足しています。</span><span class="sxs-lookup"><span data-stu-id="b3607-635">If all analyses are throwing alerts at the same time, then this may indicate the system is running out of memory.</span></span> <span data-ttu-id="b3607-636">このトピックの「追加情報に関するメモリ リークの検出分析に記載されている analysis 手順に従います。</span><span class="sxs-lookup"><span data-stu-id="b3607-636">Follow analysis steps mentioned in Additional Information Regarding Memory Leak Detection analysis in this topic.</span></span>  
  
### <a name="reference"></a><span data-ttu-id="b3607-637">リファレンス</span><span class="sxs-lookup"><span data-stu-id="b3607-637">Reference</span></span>  
 <span data-ttu-id="b3607-638">メモリ バインドの問題は除きます [http://go.microsoft.com/fwlink/?linkid=62575](http://go.microsoft.com/fwlink/?linkid=62575)</span><span class="sxs-lookup"><span data-stu-id="b3607-638">Ruling Out Memory-Bound Problems at [http://go.microsoft.com/fwlink/?linkid=62575](http://go.microsoft.com/fwlink/?linkid=62575)</span></span>  
  
## <a name="memory-system-cache-resident-bytes-analysis"></a><span data-ttu-id="b3607-639">メモリ システム キャッシュの常駐バイト数の分析</span><span class="sxs-lookup"><span data-stu-id="b3607-639">Memory System Cache Resident Bytes Analysis</span></span>  
 <span data-ttu-id="b3607-640">「システム キャッシュの常駐バイト」は、ファイル システム キャッシュ内でオペレーティング システムのページング可能なコードのバイト単位のサイズです。</span><span class="sxs-lookup"><span data-stu-id="b3607-640">“System Cache Resident Bytes” is the size, in bytes, of the pageable operating system code in the file system cache.</span></span> <span data-ttu-id="b3607-641">この値は、現在の物理的なページのみが含まれています、現在常駐していない仮想メモリ ページは含まれません。</span><span class="sxs-lookup"><span data-stu-id="b3607-641">This value includes only current physical pages and does not include any virtual memory pages not currently resident.</span></span> <span data-ttu-id="b3607-642">タスク マネージャーでのシステム キャッシュ値と同じです。</span><span class="sxs-lookup"><span data-stu-id="b3607-642">It does equal the System Cache value shown in Task Manager.</span></span> <span data-ttu-id="b3607-643">その結果、この値は、ファイル システム キャッシュで使用中の仮想メモリの実際の容量よりも小さくする可能性があります。</span><span class="sxs-lookup"><span data-stu-id="b3607-643">As a result, this value may be smaller than the actual amount of virtual memory in use by the file system cache.</span></span> <span data-ttu-id="b3607-644">この値は、コンポーネントの"メモリ\\\System コードの常駐バイト数"、物理メモリに現在あるすべてのオペレーティング システムのページング可能なコードを表します。</span><span class="sxs-lookup"><span data-stu-id="b3607-644">This value is a component of “Memory\\\System Code Resident Bytes”, which represents all pageable operating system code that is currently in physical memory.</span></span> <span data-ttu-id="b3607-645">このカウンターは、最後に計測された値のみを表示します。平均値ではありません。</span><span class="sxs-lookup"><span data-stu-id="b3607-645">This counter displays the last observed value only; it is not an average.</span></span>  
  
 <span data-ttu-id="b3607-646">この分析では、1 時間あたり 10 MB の上昇傾向を確認します。</span><span class="sxs-lookup"><span data-stu-id="b3607-646">This analysis checks for an increasing trend of 10 MB’s per hour.</span></span> <span data-ttu-id="b3607-647">負荷の下で、サーバーは、ディスクなどの I/O アクティビティをキャッシュするためにシステム キャッシュを使用する場合があります。</span><span class="sxs-lookup"><span data-stu-id="b3607-647">Under load, a server might use the system cache in order to cache I/O activity such as disk.</span></span> <span data-ttu-id="b3607-648">使用して相関関係でプロセス IO Data operations/sec とその他のプロセス IO operations/sec 解析します。</span><span class="sxs-lookup"><span data-stu-id="b3607-648">Use in correlation with Process IO Data Operations/sec and Process IO Other Operations/sec analyses.</span></span>  
  
## <a name="processor-utilization-analysis-and-excessive-processor-use-by-processes"></a><span data-ttu-id="b3607-649">プロセッサ使用率の分析とのプロセスで過度なプロセッサの使用</span><span class="sxs-lookup"><span data-stu-id="b3607-649">Processor Utilization Analysis and Excessive Processor Use by Processes</span></span>  
 <span data-ttu-id="b3607-650">「% Processor Time」は、プロセッサが非アイドルのスレッドを実行するために使用した経過時間の割合です。</span><span class="sxs-lookup"><span data-stu-id="b3607-650">“% Processor Time” is the percentage of elapsed time that the processor spends to execute a non-idle thread.</span></span> <span data-ttu-id="b3607-651">サンプリング間隔でアイドル状態のスレッドがアクティブな期間を計測し、その時間間隔の期間からを引いて計算されます。</span><span class="sxs-lookup"><span data-stu-id="b3607-651">It is calculated by measuring the duration the idle thread is active in the sample interval, and then subtracting that time from the interval duration.</span></span> <span data-ttu-id="b3607-652">(各プロセッサには、他のスレッドがない場合に実行する準備がサイクルを消費するアイドル スレッドです。)このカウンターはプロセッサの処理状況を示すプライマリ インジケータであり、サンプリング間隔中に測定されたビジー時間の割合の平均値を表示します。</span><span class="sxs-lookup"><span data-stu-id="b3607-652">(Each processor has an idle thread that consumes cycles when no other threads are ready to run.) This counter is the primary indicator of processor activity and displays the average percentage of busy time observed during the sample interval.</span></span> <span data-ttu-id="b3607-653">サービスがアクティブでない時間を監視し、その値を 100% から引いて計算されます。</span><span class="sxs-lookup"><span data-stu-id="b3607-653">It is calculated by monitoring the time that the service is inactive, and subtracting that value from 100 percent.</span></span>  
  
 <span data-ttu-id="b3607-654">この分析では、それぞれ個々 のプロセッサ上の 60% を超える使用率を確認します。</span><span class="sxs-lookup"><span data-stu-id="b3607-654">This analysis checks for utilization greater than 60 percent on each individual processor.</span></span> <span data-ttu-id="b3607-655">場合は、高度なユーザー モード CPU または高の特権モードであるかどうかを決定します。</span><span class="sxs-lookup"><span data-stu-id="b3607-655">If so, determine whether it is high user mode CPU or high privileged mode.</span></span> <span data-ttu-id="b3607-656">高い特権モード CPU が疑いがある場合、特権モード CPU 分析」を参照してください。</span><span class="sxs-lookup"><span data-stu-id="b3607-656">If high privileged mode CPU is suspected, then see the “Privileged Mode CPU Analysis”.</span></span> <span data-ttu-id="b3607-657">ユーザー モードのプロセッサのボトルネックが疑いがある場合、プロセスのプロファイラーを使用して、CPU の消費が発生した関数を分析するを検討します。</span><span class="sxs-lookup"><span data-stu-id="b3607-657">If a user-mode processor bottleneck is suspected, then consider using a process profiler to analyze the functions causing the high CPU consumption.</span></span> <span data-ttu-id="b3607-658">参照してください"方法に: 運用環境でのサーバー アプリケーションの高いユーザー モード CPU のボトルネックの発生した関数を識別"詳細については、参照セクション内のアーティクルです。</span><span class="sxs-lookup"><span data-stu-id="b3607-658">See “How To: Identify Functions causing a High User-mode CPU Bottleneck for Server Applications in a Production Environment” article in the references section for more information.</span></span>  
  
## <a name="processor-queue-length-analysis"></a><span data-ttu-id="b3607-659">プロセッサ キューの長さの分析</span><span class="sxs-lookup"><span data-stu-id="b3607-659">Processor Queue Length Analysis</span></span>  
 <span data-ttu-id="b3607-660">"Processor Queue Length"は、プロセッサ キュー内のスレッドの数です。</span><span class="sxs-lookup"><span data-stu-id="b3607-660">“Processor Queue Length” is the number of threads in the processor queue.</span></span> <span data-ttu-id="b3607-661">ディスク カウンターとは異なりは、このカウンターは、準備のスレッドのみを実行しているスレッドを示します。</span><span class="sxs-lookup"><span data-stu-id="b3607-661">Unlike the disk counters, this counter shows ready threads only, not threads that are running.</span></span>  <span data-ttu-id="b3607-662">1 つのキューのプロセッサ時間の複数のプロセッサを搭載したコンピューター上でもです。</span><span class="sxs-lookup"><span data-stu-id="b3607-662">There is a single queue for processor time even on computers with multiple processors.</span></span> <span data-ttu-id="b3607-663">そのため、コンピューターに複数のプロセッサがある場合は、ワークロードを処理するプロセッサの数でこの値を除算する必要があります。</span><span class="sxs-lookup"><span data-stu-id="b3607-663">Therefore, if a computer has multiple processors, you need to divide this value by the number of processors servicing the workload.</span></span> <span data-ttu-id="b3607-664">プロセッサあたりのスレッド数が 10 未満の持続的なプロセッサのキューが通常有効ワークロードによって決まります。</span><span class="sxs-lookup"><span data-stu-id="b3607-664">A sustained processor queue of less than 10 threads per processor is normally acceptable, dependent of the workload.</span></span>  
  
 <span data-ttu-id="b3607-665">この分析では、平均プロセッサ キューの長さがプロセッサの数を超えるかどうかを判断します。</span><span class="sxs-lookup"><span data-stu-id="b3607-665">This analysis determines whether the average processor queue length exceeds the number of processors.</span></span> <span data-ttu-id="b3607-666">場合は、プロセッサのボトルネックをあるこの可能性があります。</span><span class="sxs-lookup"><span data-stu-id="b3607-666">If so, then this could indicate a processor bottleneck.</span></span> <span data-ttu-id="b3607-667">特権モード CPU の分析とプロセスが過剰なプロセッサの使用との相関関係でこの分析を使用します。</span><span class="sxs-lookup"><span data-stu-id="b3607-667">Use this analysis in correlation with Privileged Mode CPU Analysis and Excessive Processor Use by Process.</span></span> <span data-ttu-id="b3607-668">プロセッサのキューは、準備が別のアクティブ スレッドが現在実行中のために、プロセッサによって実行されることができない、あるスレッドのコレクションです。</span><span class="sxs-lookup"><span data-stu-id="b3607-668">The processor queue is the collection of threads that are ready but not able to be executed by the processor because another active thread is currently executing.</span></span> <span data-ttu-id="b3607-669">プロセッサの数が、プロセッサのボトルネックを示す優れた指標以上のスレッドの持続的なまたは定期的なキュー。</span><span class="sxs-lookup"><span data-stu-id="b3607-669">A sustained or recurring queue of more threads than number of processors is a good indication of a processor bottleneck.</span></span>  
  
 <span data-ttu-id="b3607-670">と共にこのカウンターを使用する、"プロセッサ\\% Processor Time"カウンターを Cpu から得できるかどうかを確認します。</span><span class="sxs-lookup"><span data-stu-id="b3607-670">You can use this counter in conjunction with the “Processor\\% Processor Time” counter to determine whether your application can benefit from more CPUs.</span></span> <span data-ttu-id="b3607-671">1 つのキュー プロセッサ時間をマルチプロセッサ コンピューター上であってもします。</span><span class="sxs-lookup"><span data-stu-id="b3607-671">There is a single queue for processor time, even on multiprocessor computers.</span></span> <span data-ttu-id="b3607-672">したがって、マルチプロセッサ コンピューターで、"Processor Queue Length"(PQL) 値で除算ワークロードを処理するプロセッサの数</span><span class="sxs-lookup"><span data-stu-id="b3607-672">Therefore, in a multiprocessor computer, divide the “Processor Queue Length” (PQL) value by the number of processors servicing the workload</span></span>  
  
 <span data-ttu-id="b3607-673">非常には、CPU がビジー状態の (90% および使用率の向上) PQL 平均は、プロセッサ数よりも高い一貫して場合利点がもたらされる追加の Cpu プロセッサのボトルネックがある可能性があります。</span><span class="sxs-lookup"><span data-stu-id="b3607-673">If the CPU is very busy (90 percent and higher utilization) and the PQL average is consistently higher than the number of processors, then you may have a processor bottleneck that could benefit from additional CPUs.</span></span> <span data-ttu-id="b3607-674">または、スレッドと、アプリケーション レベルでのキューの数を減らすことができます。</span><span class="sxs-lookup"><span data-stu-id="b3607-674">Or, you could reduce the number of threads and queue at the application level.</span></span> <span data-ttu-id="b3607-675">これにより、コンテキスト切り替えが少なくなり、CPU の負荷を削減するのに適切です。</span><span class="sxs-lookup"><span data-stu-id="b3607-675">This will cause less context switching, which is good for reducing CPU load.</span></span> <span data-ttu-id="b3607-676">CPU 使用率が低い高 PQL の一般的な理由は、プロセッサ時間の要求がランダムに到着し、スレッド、プロセッサからの時間の不規則な金額を要求することです。</span><span class="sxs-lookup"><span data-stu-id="b3607-676">The common reason for a high PQL with low CPU utilization is that requests for processor time arrive randomly, and threads demand irregular amounts of time from the processor.</span></span> <span data-ttu-id="b3607-677">これは、プロセッサがボトルネックではないことを意味します。</span><span class="sxs-lookup"><span data-stu-id="b3607-677">This means that the processor is not a bottleneck.</span></span> <span data-ttu-id="b3607-678">代わりに、スレッドのロジックが必要な改善します。</span><span class="sxs-lookup"><span data-stu-id="b3607-678">Instead, your threading logic that needs to be improved.</span></span>  
  
 <span data-ttu-id="b3607-679">ユーザー モードのプロセッサのボトルネックが疑いがある場合、プロセスのプロファイラーを使用して、CPU の消費が発生した関数を分析するを検討します。</span><span class="sxs-lookup"><span data-stu-id="b3607-679">If a user-mode processor bottleneck is suspected, then consider using a process profiler to analyze the functions causing the high CPU consumption.</span></span> <span data-ttu-id="b3607-680">参照してください、"方法に: 運用環境でのサーバー アプリケーションの高いユーザー モード CPU のボトルネックの発生した関数を識別"詳細については、参照セクション内のアーティクルです。</span><span class="sxs-lookup"><span data-stu-id="b3607-680">See the “How To: Identify Functions causing a High User-mode CPU Bottleneck for Server Applications in a Production Environment” article in the references section for more information.</span></span>  
  
## <a name="privileged-mode-cpu-analysis"></a><span data-ttu-id="b3607-681">特権モードの CPU の分析</span><span class="sxs-lookup"><span data-stu-id="b3607-681">Privileged Mode CPU Analysis</span></span>  
 <span data-ttu-id="b3607-682">このカウンターは、スレッドが特権モードで実行時間の割合を示します。</span><span class="sxs-lookup"><span data-stu-id="b3607-682">This counter indicates the percentage of time a thread runs in privileged mode.</span></span> <span data-ttu-id="b3607-683">アプリケーションが (たとえば、ファイルまたはネットワーク I/O を実行するか、メモリを割り当てるなど) のオペレーティング システム関数を呼び出すと、これらのオペレーティング システム関数が特権モードで実行されます。</span><span class="sxs-lookup"><span data-stu-id="b3607-683">When your application calls operating system functions (for example to perform file or network I/O or to allocate memory), these operating system functions are executed in privileged mode.</span></span>  
  
 <span data-ttu-id="b3607-684">CPU 高特権モードでは、コンピューターがシステム I/O real (ユーザー モード) と作業の多くの時間を消費していることを示します。</span><span class="sxs-lookup"><span data-stu-id="b3607-684">High privileged mode CPU indicates that the computer is spending too much time in system I/O versus real (user mode) work.</span></span> <span data-ttu-id="b3607-685">"% 特権モード時間の"プロセスのスレッドが特権モードでコードを実行するために使用した経過時間の割合を指定します。</span><span class="sxs-lookup"><span data-stu-id="b3607-685">“% Privileged Time” is the percentage of elapsed time that the process threads spent executing code in privileged mode.</span></span>  <span data-ttu-id="b3607-686">Windows のシステム サービスが呼び出されると、サービス多くの場合、システム専用データにアクセスするために特権モードで実行されます。</span><span class="sxs-lookup"><span data-stu-id="b3607-686">When a Windows system service is called, the service will often run in privileged mode to gain access to system-private data.</span></span> <span data-ttu-id="b3607-687">このようなデータは、ユーザー モードで実行するスレッドによるアクセスから保護されます。</span><span class="sxs-lookup"><span data-stu-id="b3607-687">Such data is protected from access by threads executing in user mode.</span></span> <span data-ttu-id="b3607-688">システムへの呼び出しには、明示的または暗黙的なページ フォールトや割り込みなどができます。</span><span class="sxs-lookup"><span data-stu-id="b3607-688">Calls to the system can be explicit or implicit, such as page faults or interrupts.</span></span> <span data-ttu-id="b3607-689">初期のいくつかのオペレーティング システムとは異なり、Windows はユーザーおよび特権モードの従来の保護に加えて、サブシステム保護のプロセス境界を使用します。</span><span class="sxs-lookup"><span data-stu-id="b3607-689">Unlike some early operating systems, Windows uses process boundaries for subsystem protection in addition to the traditional protection of user and privileged modes.</span></span> <span data-ttu-id="b3607-690">プロセスの特権モード時間に加えその他のサブシステム プロセスでアプリケーションに代わって Windows が行う処理があります。</span><span class="sxs-lookup"><span data-stu-id="b3607-690">Some work done by Windows on behalf of the application might appear in other subsystem processes in addition to the privileged time in the process.</span></span>  
  
 <span data-ttu-id="b3607-691">この分析は、特権モード CPU が CPU の合計の 30% 以上を消費しているかどうかを確認します。</span><span class="sxs-lookup"><span data-stu-id="b3607-691">This analysis checks to see whether privileged mode CPU is consuming more than 30 percent of total CPU.</span></span> <span data-ttu-id="b3607-692">CPU 消費率が高いし、そのため場合、は、ネットワーク、メモリ、ディスク I/O など、プロセッサ以外の別のボトルネックによって発生します。</span><span class="sxs-lookup"><span data-stu-id="b3607-692">If so, then the CPU consumption is likely caused by another bottleneck other than the processor such as network, memory, or disk I/O.</span></span> <span data-ttu-id="b3607-693">使用して相関関係で % Interrupt Time 高コンテキストの切り替えと解析します。</span><span class="sxs-lookup"><span data-stu-id="b3607-693">Use in correlation with % Interrupt Time and High Context Switching analyses.</span></span>  
  
## <a name="high-context-switching-analysis"></a><span data-ttu-id="b3607-694">高コンテキストの切り替えの分析</span><span class="sxs-lookup"><span data-stu-id="b3607-694">High Context Switching Analysis</span></span>  
 <span data-ttu-id="b3607-695">コンテキスト スイッチには、優先順位が高いスレッド横取り優先順位の低いスレッドが現在実行されているとき、または優先度の高いスレッドがブロックが発生します。</span><span class="sxs-lookup"><span data-stu-id="b3607-695">A context switch happens when a higher priority thread preempts a lower priority thread that is currently running or when a high priority thread blocks.</span></span> <span data-ttu-id="b3607-696">高レベルのコンテキストの切り替えは、多くのスレッドが同じ優先順位を共有する場合に発生します。</span><span class="sxs-lookup"><span data-stu-id="b3607-696">High levels of context switching can occur when many threads share the same priority level.</span></span> <span data-ttu-id="b3607-697">これは、多くの場合、システムのプロセッサをスレッドが多すぎるが競合することを示します。</span><span class="sxs-lookup"><span data-stu-id="b3607-697">This often indicates that too many threads are competing for the processors on the system.</span></span> <span data-ttu-id="b3607-698">多くのプロセッサ使用率が表示されないと、非常に低レベルのコンテキストの切り替えを参照してください、こと、スレッドがブロックされていることを示します。</span><span class="sxs-lookup"><span data-stu-id="b3607-698">If you do not see much processor utilization and you see very low levels of context switching, it could indicate that threads are blocked.</span></span>  
  
 <span data-ttu-id="b3607-699">CPU と全体的な CPU の特権モードが高いとき、高のコンテキストの切り替えを調査のみ必要があります。</span><span class="sxs-lookup"><span data-stu-id="b3607-699">High context switching should only be investigated when privileged mode CPU and overall CPU is high.</span></span> <span data-ttu-id="b3607-700">一般的な規則として、プロセッサごとの 1 秒あたりの 5,000 未満のコンテキスト切り替えのレートはに関して心配する価値があります。</span><span class="sxs-lookup"><span data-stu-id="b3607-700">As a general rule, context switching rates of less than 5,000 per second per processor are not worth worrying about.</span></span> <span data-ttu-id="b3607-701">コンテキスト切り替えレートは、プロセッサごとの 1 秒あたりの 15,000 を超えている場合、制約があります。</span><span class="sxs-lookup"><span data-stu-id="b3607-701">If context switching rates exceed 15,000 per second per processor, then there is a constraint.</span></span>  
  
 <span data-ttu-id="b3607-702">この分析は、高の CPU、高い特権モード CPU、および高のチェック (1 プロセッサあたり 5,000 を超える)、同時に発生する、すべて 1 秒あたりのシステム コンテキストの切り替え。</span><span class="sxs-lookup"><span data-stu-id="b3607-702">This analysis checks for high CPU, high privileged mode CPU, and high (greater than 5,000 per processor) system context switches per second all occurring at the same time.</span></span> <span data-ttu-id="b3607-703">高コンテキストの切り替えが発生する場合は、スレッドとシステムで実行されているプロセスの数を減らします。</span><span class="sxs-lookup"><span data-stu-id="b3607-703">If high context switching is occurring, then reduce the number of threads and processes running on the system.</span></span>  
  
## <a name="biztalk-high-database-sessions-analysis"></a><span data-ttu-id="b3607-704">BizTalk の高いデータベース セッションの分析</span><span class="sxs-lookup"><span data-stu-id="b3607-704">BizTalk High Database Sessions Analysis</span></span>  
 <span data-ttu-id="b3607-705">このカウンターの 2 つの値が通常つまり (0) か、(1) を超えています。</span><span class="sxs-lookup"><span data-stu-id="b3607-705">This counter has two possible values namely normal (0) or exceeded (1).</span></span> <span data-ttu-id="b3607-706">この分析では、1 の値を確認します。</span><span class="sxs-lookup"><span data-stu-id="b3607-706">This analysis checks for a value of 1.</span></span> <span data-ttu-id="b3607-707">場合は、BizTalk は許可されているデータベース セッション数のしきい値を超えています。</span><span class="sxs-lookup"><span data-stu-id="b3607-707">If so, BizTalk has exceeded the threshold of the number of database sessions permitted.</span></span> <span data-ttu-id="b3607-708">この値は、BizTalk ホストの制限の設定で「CPU ごとのデータベース接続」の値によって制御されます。</span><span class="sxs-lookup"><span data-stu-id="b3607-708">This value is controlled by the “Database connection per CPU” value in the BizTalk Host Throttling settings.</span></span>  
  
 <span data-ttu-id="b3607-709">許可される制限が適用されます (CPU ごとの) 同時実行データベース セッションの最大数は、「データベースの CPU ごとの接続」です。</span><span class="sxs-lookup"><span data-stu-id="b3607-709">“Database connection per CPU” is the maximum number of concurrent database sessions (per CPU) allowed before throttling begins.</span></span> <span data-ttu-id="b3607-710">ホストごとの一般的なセッション プールのアイドル状態のデータベース セッションは、この数に含まれません。また、この確認処理は、ホスト インスタンスによって実際に使用されるセッションの数に厳密に基づいて実行されます。</span><span class="sxs-lookup"><span data-stu-id="b3607-710">The idle database sessions in the common per-host session pool do not add to this count, and this check is made strictly on the number of sessions actually being used by the host instance.</span></span> <span data-ttu-id="b3607-711">このオプションは既定で無効です。通常、この設定する必要がありますのみ有効にするデータベース サーバーがボトルネックになっている場合、または下位データベース サーバーを BizTalk Server システム。</span><span class="sxs-lookup"><span data-stu-id="b3607-711">This option is disabled by default; typically, this setting should only be enabled if the database server is a bottleneck or for low-end database servers in the BizTalk Server system.</span></span> <span data-ttu-id="b3607-712">BizTalk:Message Agent パフォーマンス オブジェクト カテゴリの下のデータベース セッションのパフォーマンス カウンターを使用して、アクティブなデータベース接続の数を監視できます。</span><span class="sxs-lookup"><span data-stu-id="b3607-712">You can monitor the number of active database connections by using the database session performance counter under the BizTalk:Message Agent performance object category.</span></span> <span data-ttu-id="b3607-713">このパラメーターは、送信メッセージの制限だけに影響します。</span><span class="sxs-lookup"><span data-stu-id="b3607-713">This parameter only affects outbound message throttling.</span></span> <span data-ttu-id="b3607-714">データベース セッションの数に基づいた制限を無効にするには、値 0 を入力してください。</span><span class="sxs-lookup"><span data-stu-id="b3607-714">Enter a value of 0 to disable throttling that is based on the number of database sessions.</span></span> <span data-ttu-id="b3607-715">既定値は 0 です。</span><span class="sxs-lookup"><span data-stu-id="b3607-715">The default value is 0.</span></span>  
  
> [!NOTE]  
>  <span data-ttu-id="b3607-716">"MaxWorkerThreads"レジストリ キーは、BizTalk に使用できるスレッドの数に影響し、BizTalk スレッドのほとんどは、データベース接続でビジー状態である場合に役立つ場合があります。</span><span class="sxs-lookup"><span data-stu-id="b3607-716">The “MaxWorkerThreads” registry key influences the number threads available to BizTalk and may help if most of the BizTalk threads are busy with database connections.</span></span>  
  
### <a name="references"></a><span data-ttu-id="b3607-717">References</span><span class="sxs-lookup"><span data-stu-id="b3607-717">References</span></span>  
  
-   <span data-ttu-id="b3607-718">ホスト制限でパフォーマンス カウンター [http://go.microsoft.com/fwlink/?LinkID=155285](http://go.microsoft.com/fwlink/?LinkID=155285)</span><span class="sxs-lookup"><span data-stu-id="b3607-718">Host Throttling Performance Counters at [http://go.microsoft.com/fwlink/?LinkID=155285](http://go.microsoft.com/fwlink/?LinkID=155285)</span></span>  
  
-   <span data-ttu-id="b3607-719">スレッド、DB セッションとの調整 [http://go.microsoft.com/fwlink/?linkid=106793](http://go.microsoft.com/fwlink/?linkid=106793)</span><span class="sxs-lookup"><span data-stu-id="b3607-719">Threads, DB sessions, and throttling at [http://go.microsoft.com/fwlink/?linkid=106793](http://go.microsoft.com/fwlink/?linkid=106793)</span></span>  
  
-   <span data-ttu-id="b3607-720">アダプターのパフォーマンスに影響する構成パラメーター [http://go.microsoft.com/fwlink/?LinkID=154200](http://go.microsoft.com/fwlink/?LinkID=154200)</span><span class="sxs-lookup"><span data-stu-id="b3607-720">Configuration Parameters that Affect Adapter Performance at [http://go.microsoft.com/fwlink/?LinkID=154200](http://go.microsoft.com/fwlink/?LinkID=154200)</span></span>  
  
-   <span data-ttu-id="b3607-721">既定のホスト制限の設定を変更する方法 [http://go.microsoft.com/fwlink/?LinkID=155296](http://go.microsoft.com/fwlink/?LinkID=155296)</span><span class="sxs-lookup"><span data-stu-id="b3607-721">How to Modify the Default Host Throttling Settings at [http://go.microsoft.com/fwlink/?LinkID=155296](http://go.microsoft.com/fwlink/?LinkID=155296)</span></span>  
  
## <a name="biztalk-high-database-size-analysis"></a><span data-ttu-id="b3607-722">BizTalk の高いデータベース サイズの分析</span><span class="sxs-lookup"><span data-stu-id="b3607-722">BizTalk High Database Size Analysis</span></span>  
 <span data-ttu-id="b3607-723">このカウンターは、このプロセスが公開する、データベース キュー内のメッセージの数を示します。</span><span class="sxs-lookup"><span data-stu-id="b3607-723">This counter refers to the number of messages in the database queues that this process has published.</span></span> <span data-ttu-id="b3607-724">この値は、すべてのホストのキュー テーブル内の項目数およびスプールと追跡テーブル内の項目数によって測定されます。</span><span class="sxs-lookup"><span data-stu-id="b3607-724">This value is measured by the number of items in the queue tables for all hosts and the number of items in the spool and tracking tables.</span></span> <span data-ttu-id="b3607-725">キューには、ワーク キュー、状態キューおよび保留キューが含まれています。</span><span class="sxs-lookup"><span data-stu-id="b3607-725">Queue includes the work queue, the state queue and the suspended queue.</span></span> <span data-ttu-id="b3607-726">プロセスが複数のキューに公開している場合、このカウンターには、すべてのキューの加重平均が反映されます。</span><span class="sxs-lookup"><span data-stu-id="b3607-726">If a process is publishing to multiple queues, this counter reflects the weighted average of all the queues.</span></span>  
  
 <span data-ttu-id="b3607-727">ホストが再起動すると、メモリに格納されていた統計は失われます。</span><span class="sxs-lookup"><span data-stu-id="b3607-727">If the host is restarted, statistics held in memory are lost.</span></span> <span data-ttu-id="b3607-728">一部のオーバーヘッドが含まれているため BizTalk Server は合計が再開したホスト プロセス内で公開が 100 以上に発行すると、5% の場合のみ、統計の収集を再開します。</span><span class="sxs-lookup"><span data-stu-id="b3607-728">Since some overhead is involved, BizTalk Server will resume gathering statistics only when there are at least 100 publishes, with 5 percent of the total publishes within the restarted host process.</span></span>  
  
 <span data-ttu-id="b3607-729">このカウンターは、データベースのしきい値のメッセージ カウント に登録されている条件のいずれかが発生した場合、値を 1 に設定されます。</span><span class="sxs-lookup"><span data-stu-id="b3607-729">This counter will be set to a value of 1 if either of the conditions listed for the message count in database threshold occurs.</span></span> <span data-ttu-id="b3607-730">このしきい値は、トピックに記載されている既定のホスト制限設定以下で参照を変更する方法です。</span><span class="sxs-lookup"><span data-stu-id="b3607-730">This threshold is documented in the topic How to Modify the Default Host Throttling Settings referenced below.</span></span> <span data-ttu-id="b3607-731">既定ホスト メッセージでは、データベースの制限のしきい値のカウントは、値は、次の状況で制限の条件をトリガーする 50,000 に設定します。</span><span class="sxs-lookup"><span data-stu-id="b3607-731">By default the host message count in database throttling threshold is set to a value of 50,000, which will trigger a throttling condition under the following circumstances:</span></span>  
  
-   <span data-ttu-id="b3607-732">サブスクライブを行うホストの作業キュー、状態キュー、および保留キューに対しこのホスト インスタンスによって公開されるメッセージの総数が、50,000 を超えた場合</span><span class="sxs-lookup"><span data-stu-id="b3607-732">The total number of messages published by the host instance to the work, state, and suspended queues of the subscribing hosts exceeds 50,000.</span></span>  
  
-   <span data-ttu-id="b3607-733">スプール テーブルまたは追跡テーブル内のメッセージの数が 50,000 を超えた場合</span><span class="sxs-lookup"><span data-stu-id="b3607-733">The number of messages in the spool table or the tracking table exceeds 500,000 messages.</span></span>  
  
 <span data-ttu-id="b3607-734">データベースの計算のメッセージ カウントに含まれる保留メッセージは後の発生する可能性が低または負荷がまったくない、BizTalk server が発生している場合でもメッセージ公開の制限します。</span><span class="sxs-lookup"><span data-stu-id="b3607-734">Since suspended messages are included in the message count in database calculation, throttling of message publishing can occur even if the BizTalk server is experiencing low or no load.</span></span>  
  
 <span data-ttu-id="b3607-735">この分析では、1 の値を確認します。</span><span class="sxs-lookup"><span data-stu-id="b3607-735">This analysis checks for a value of 1.</span></span> <span data-ttu-id="b3607-736">このような場合、一連の措置をデータベース内のメッセージの数を削減を検討します。</span><span class="sxs-lookup"><span data-stu-id="b3607-736">If this occurs, then consider a course of action that will reduce the number of messages in the database.</span></span> <span data-ttu-id="b3607-737">たとえば、エラーが発生せず、BizTalk SQL Server ジョブが実行されていることを確認し、によって大量の保留メッセージをメッセージのビルドが原因かどうかを判定する BizTalk 管理コンソールで グループ ハブを使用します。</span><span class="sxs-lookup"><span data-stu-id="b3607-737">For example, ensure the BizTalk SQL Server jobs are running without error and use the Group Hub in the BizTalk Administration console to determine whether message build up is caused by large numbers of suspended messages.</span></span>  
  
### <a name="references"></a><span data-ttu-id="b3607-738">References</span><span class="sxs-lookup"><span data-stu-id="b3607-738">References</span></span>  
  
-   <span data-ttu-id="b3607-739">[メッセージ カウント] データベースでのしきい値の調整に含まれる保留メッセージ [http://go.microsoft.com/fwlink/?LinkId=155304](http://go.microsoft.com/fwlink/?LinkId=155304)</span><span class="sxs-lookup"><span data-stu-id="b3607-739">Suspended Messages are Included in the Message Count in Database Throttling Threshold at [http://go.microsoft.com/fwlink/?LinkId=155304](http://go.microsoft.com/fwlink/?LinkId=155304)</span></span>  
  
-   <span data-ttu-id="b3607-740">既定のホスト制限の設定を変更する方法 [http://go.microsoft.com/fwlink/?LinkID=155296](http://go.microsoft.com/fwlink/?LinkID=155296)</span><span class="sxs-lookup"><span data-stu-id="b3607-740">How to Modify the Default Host Throttling Settings at [http://go.microsoft.com/fwlink/?LinkID=155296](http://go.microsoft.com/fwlink/?LinkID=155296)</span></span>  
  
-   <span data-ttu-id="b3607-741">ホスト制限でパフォーマンス カウンター [http://go.microsoft.com/fwlink/?LinkID=155285](http://go.microsoft.com/fwlink/?LinkID=155285)</span><span class="sxs-lookup"><span data-stu-id="b3607-741">Host Throttling Performance Counters at [http://go.microsoft.com/fwlink/?LinkID=155285](http://go.microsoft.com/fwlink/?LinkID=155285)</span></span>  
  
## <a name="biztalk-high-in-process-message-count-analysis"></a><span data-ttu-id="b3607-742">BizTalk 高インプロセス メッセージ カウントの分析</span><span class="sxs-lookup"><span data-stu-id="b3607-742">BizTalk High In-Process Message Count Analysis</span></span>  
 <span data-ttu-id="b3607-743">ホスト制限の設定で「プロセスでは、CPU あたりメッセージ」設定は、処理されていない、エンド ポイント マネージャー (EPM) または XLANG に配信されたメッセージの最大数です。</span><span class="sxs-lookup"><span data-stu-id="b3607-743">The “In-process messages per CPU” setting in the Host Throttling Settings is the maximum number of messages delivered to the End Point Manager (EPM) or XLANG that have not been processed.</span></span> <span data-ttu-id="b3607-744">この数には、インメモリ キューに配信のまだ待機していますが、データベースから取得したメッセージは含まれません。</span><span class="sxs-lookup"><span data-stu-id="b3607-744">This number does not include the messages retrieved from database but still waiting for delivery in the in-memory queue.</span></span> <span data-ttu-id="b3607-745">BizTalk:Message Agent パフォーマンス オブジェクト カテゴリの下でインプロセス メッセージ数パフォーマンス カウンターを使用して、インプロセス メッセージの数を監視できます。</span><span class="sxs-lookup"><span data-stu-id="b3607-745">You can monitor the number of in-Process Messages by using the In-process message count performance counter under the BizTalk:Message Agent performance object category.</span></span> <span data-ttu-id="b3607-746">このパラメーターは、制限の条件を検討するときに、制限メカニズムへのヒントを提供します。</span><span class="sxs-lookup"><span data-stu-id="b3607-746">This parameter provides a hint to the throttling mechanism when considering throttling conditions.</span></span> <span data-ttu-id="b3607-747">実際のしきい値は、自律的に調整されます。</span><span class="sxs-lookup"><span data-stu-id="b3607-747">The actual threshold is subject to self-tuning.</span></span> <span data-ttu-id="b3607-748">インプロセス メッセージ数パフォーマンス カウンタを監視することによって、実際のしきい値を確認できます。</span><span class="sxs-lookup"><span data-stu-id="b3607-748">You can verify the actual threshold by monitoring the in-process message count performance counter.</span></span>  
  
 <span data-ttu-id="b3607-749">このパラメーターは、サイズの大きいメッセージ シナリオで、メッセージの平均サイズが大きいか、メッセージの処理に大量のメッセージが必要な可能性がありますより小さい値に設定できます。</span><span class="sxs-lookup"><span data-stu-id="b3607-749">This parameter can be set to a smaller value for large message scenarios, where either the average message size is high, or the processing of messages may require a large number of messages.</span></span> <span data-ttu-id="b3607-750">メモリ ベースの制限が多すぎるため、シナリオが発生した場合と、メモリのしきい値は、非常に小さい値に自動調整を取得する場合は明らかになります。</span><span class="sxs-lookup"><span data-stu-id="b3607-750">This would be evident if a scenario experiences memory-based throttling too often and if the memory threshold gets auto-adjusted to a substantially low value.</span></span> <span data-ttu-id="b3607-751">このような結果は、過度のメモリ消費を避けるため、送信トランスポートで同時に処理するメッセージを少なくする必要があることを示しています。</span><span class="sxs-lookup"><span data-stu-id="b3607-751">Such behavior would indicate that the outbound transport should process fewer messages concurrently to avoid excessive memory usage.</span></span> <span data-ttu-id="b3607-752">また、一度にいくつかのメッセージを処理すると効率性が向上するアダプター (同時接続を制限しているサーバーに送信する場合など) を使用しているシナリオでは、このパラメーターは、既定値よりも小さい値に設定できることがあります。</span><span class="sxs-lookup"><span data-stu-id="b3607-752">Also, for scenarios where the adapter is more efficient when processing a few messages at a time (for example, when sending to a server that limits concurrent connections), this parameter may be tuned to a lower value than the default.</span></span>  
  
 <span data-ttu-id="b3607-753">この分析では、このような調整が行われているかどうかを決定する、高のインプロセス メッセージ数カウンタを確認します。</span><span class="sxs-lookup"><span data-stu-id="b3607-753">This analysis checks the High In-Process Message Count counter to determine whether this kind of throttling is occurring.</span></span> <span data-ttu-id="b3607-754">場合は、「CPU あたりのインプロセス ・ メッセージ」設定を調整することを検討してください。</span><span class="sxs-lookup"><span data-stu-id="b3607-754">If so, consider adjusting the “In-Process messages per CPU” setting.</span></span> <span data-ttu-id="b3607-755">このパラメーターは、送信メッセージの制限だけに影響します。</span><span class="sxs-lookup"><span data-stu-id="b3607-755">This parameter only affects outbound message throttling.</span></span> <span data-ttu-id="b3607-756">CPU あたりのインプロセス メッセージの数に基づいた制限を無効にする「プロセスでは、CPU あたりメッセージ」設定に値 0 を入力します。</span><span class="sxs-lookup"><span data-stu-id="b3607-756">Enter a value of 0 in the “In-Process messages per CPU” setting to disable throttling based on the number of in-process messages per CPU.</span></span> <span data-ttu-id="b3607-757">「CPU あたりのインプロセス ・ メッセージ」設定の既定値は、1,000 です。</span><span class="sxs-lookup"><span data-stu-id="b3607-757">The default value for the “In-Process messages per CPU” setting is 1,000.</span></span> <span data-ttu-id="b3607-758">この値を変更することもできます影響を与えるメッセージの低待機時間および BizTalk リソースの効率性に注意してください。</span><span class="sxs-lookup"><span data-stu-id="b3607-758">Note that modifying this value can also have an impact on low latency of messages and/or the efficiency of BizTalk resources.</span></span>  
  
### <a name="references"></a><span data-ttu-id="b3607-759">References</span><span class="sxs-lookup"><span data-stu-id="b3607-759">References</span></span>  
  
-   <span data-ttu-id="b3607-760">既定のホスト制限の設定を変更する方法 [http://go.microsoft.com/fwlink/?LinkID=155296](http://go.microsoft.com/fwlink/?LinkID=155296)</span><span class="sxs-lookup"><span data-stu-id="b3607-760">How to Modify the Default Host Throttling Settings at [http://go.microsoft.com/fwlink/?LinkID=155296](http://go.microsoft.com/fwlink/?LinkID=155296)</span></span>  
  
-   <span data-ttu-id="b3607-761">ホスト制限でパフォーマンス カウンター [http://go.microsoft.com/fwlink/?LinkID=155285](http://go.microsoft.com/fwlink/?LinkID=155285)</span><span class="sxs-lookup"><span data-stu-id="b3607-761">Host Throttling Performance Counters at [http://go.microsoft.com/fwlink/?LinkID=155285](http://go.microsoft.com/fwlink/?LinkID=155285)</span></span>  
  
## <a name="biztalk-high-message-delivery-rate-analysis"></a><span data-ttu-id="b3607-762">BizTalk の高いメッセージ配信率の分析</span><span class="sxs-lookup"><span data-stu-id="b3607-762">BizTalk High Message Delivery Rate Analysis</span></span>  
 <span data-ttu-id="b3607-763">ホスト インスタンスのメッセージ配信の受信速度が、メッセージ配信の送信比率を超えると送信 (配信) メッセージを BizTalk Server がメッセージの配信を制限 \* 指定した割合オーバー ドライブ率 (%) の値。</span><span class="sxs-lookup"><span data-stu-id="b3607-763">For outbound (delivered) messages, BizTalk Server throttles delivery of messages if the message delivery incoming rate for the host instance exceeds the message delivery outgoing rate \* the specified rate overdrive factor (percent) value.</span></span> <span data-ttu-id="b3607-764">レート オーバー ドライブ率 (%) のパラメーターは、メッセージ処理の制限の設定 ダイアログ ボックスで構成できます。</span><span class="sxs-lookup"><span data-stu-id="b3607-764">The rate overdrive factor (percent) parameter is configurable on the Message Processing Throttling Settings dialog box.</span></span> <span data-ttu-id="b3607-765">送信メッセージの割合に基づく制限は、インメモリ キューからメッセージを削除して、メッセージを処理するため、エンド ポイント マネージャー (EPM) またはオーケストレーション エンジンに配信する前に遅延を発生させることで、主に行われます。</span><span class="sxs-lookup"><span data-stu-id="b3607-765">Rate-based throttling for outbound messages is accomplished primarily by inducing a delay before removing the messages from the in-memory queue and delivering the messages to the End Point Manager (EPM) or orchestration engine for processing.</span></span> <span data-ttu-id="b3607-766">送信メッセージの割合に基づく制限を行うには、その他の処理は行われません。</span><span class="sxs-lookup"><span data-stu-id="b3607-766">No other action is taken to accomplish rate-based throttling for outbound messages.</span></span>  
  
 <span data-ttu-id="b3607-767">送信制限ではメッセージの配信が遅れる場合があるため、メッセージがインメモリ キューに蓄積され、制限の条件が緩和されるまでキューから取り出すスレッドがブロックされる可能性があります。</span><span class="sxs-lookup"><span data-stu-id="b3607-767">Outbound throttling can cause delayed message delivery and messages may build up in the in-memory queue and cause de-queue threads to be blocked until the throttling condition is mitigated.</span></span> <span data-ttu-id="b3607-768">ときにキューから取り出すスレッドがブロックされて、送信の配信のため、インメモリ キューにメッセージ ボックス データベースから追加のメッセージが引き出されますありません。</span><span class="sxs-lookup"><span data-stu-id="b3607-768">When de-queue threads are blocked, no additional messages are pulled from the MessageBox into the in-memory queue for outbound delivery.</span></span>  
  
 <span data-ttu-id="b3607-769">この分析では、1、メッセージ配信率が高いカウンターの値を確認します。</span><span class="sxs-lookup"><span data-stu-id="b3607-769">This analysis checks for a value of 1 in the High Message Delivery Rate counter.</span></span> <span data-ttu-id="b3607-770">高いメッセージ配信率は、処理の多い複雑さ、低速の送信アダプター、またはシステム リソースの一時的な不足によって可能性があります。</span><span class="sxs-lookup"><span data-stu-id="b3607-770">High message delivery rates can be caused by high processing complexity, slow outbound adapters, or a momentary shortage of system resources.</span></span>  
  
### <a name="references"></a><span data-ttu-id="b3607-771">References</span><span class="sxs-lookup"><span data-stu-id="b3607-771">References</span></span>  
  
-   <span data-ttu-id="b3607-772">ホスト制限でパフォーマンス カウンター [http://go.microsoft.com/fwlink/?LinkID=155285](http://go.microsoft.com/fwlink/?LinkID=155285)</span><span class="sxs-lookup"><span data-stu-id="b3607-772">Host Throttling Performance Counters at [http://go.microsoft.com/fwlink/?LinkID=155285](http://go.microsoft.com/fwlink/?LinkID=155285)</span></span>  
  
-   <span data-ttu-id="b3607-773">BizTalk Server がホストに制限を実装する方法 [http://go.microsoft.com/fwlink/?LinkID=155286](http://go.microsoft.com/fwlink/?LinkID=155286)</span><span class="sxs-lookup"><span data-stu-id="b3607-773">How BizTalk Server Implements Host Throttling at [http://go.microsoft.com/fwlink/?LinkID=155286](http://go.microsoft.com/fwlink/?LinkID=155286)</span></span>  
  
-   <span data-ttu-id="b3607-774">既定のホスト制限の設定を変更する方法 [http://go.microsoft.com/fwlink/?LinkID=155296](http://go.microsoft.com/fwlink/?LinkID=155296)</span><span class="sxs-lookup"><span data-stu-id="b3607-774">How to Modify the Default Host Throttling Settings at [http://go.microsoft.com/fwlink/?LinkID=155296](http://go.microsoft.com/fwlink/?LinkID=155296)</span></span>  
  
## <a name="biztalk-high-process-memory-analysis"></a><span data-ttu-id="b3607-775">BizTalk の高いプロセス メモリ分析</span><span class="sxs-lookup"><span data-stu-id="b3607-775">BizTalk High Process Memory Analysis</span></span>  
 <span data-ttu-id="b3607-776">BizTalk プロセス メモリ使用量のしきい値の設定の調整は、プロセスの使用可能な仮想メモリの合計と作業セット サイズの合計と比較した場合は 1 ~ 100 の値を入力使用されるメモリの割合です。</span><span class="sxs-lookup"><span data-stu-id="b3607-776">The BizTalk Process Memory usage throttling threshold setting is the percentage of memory used compared to the sum of the working set size and total available virtual memory for the process if a value from 1 through 100 is entered.</span></span> <span data-ttu-id="b3607-777">既定では、調整設定、BizTalk プロセス メモリ使用量は 25 です。</span><span class="sxs-lookup"><span data-stu-id="b3607-777">By default, the BizTalk Process Memory Usage throttling setting is 25.</span></span> <span data-ttu-id="b3607-778">比率が指定されている場合、プロセス メモリのしきい値は、定期的に再計算されます。</span><span class="sxs-lookup"><span data-stu-id="b3607-778">When a percentage value is specified the process memory threshold is recalculated at regular intervals.</span></span> <span data-ttu-id="b3607-779">ユーザーは、割合の値を指定する場合は、使用可能なメモリをコミットし、現在のプロセス メモリ使用量に基づいて計算されます。</span><span class="sxs-lookup"><span data-stu-id="b3607-779">If the user specifies a percentage value, it is computed based on the available memory to commit and the current Process Memory usage.</span></span>  
  
 <span data-ttu-id="b3607-780">この分析では、高のプロセス メモリ カウンターの 1 の値を確認します。</span><span class="sxs-lookup"><span data-stu-id="b3607-780">This analysis checks for a value of 1 in the High Process Memory counter.</span></span> <span data-ttu-id="b3607-781">この場合、デバッグ診断を使用して、メモリの増加の原因の特定を試みます (メモリ リークの検出分析参照を参照してください)。</span><span class="sxs-lookup"><span data-stu-id="b3607-781">If this occurs, then try to determine the cause of the memory increase by using Debug Diag (see references in Memory Leak Detection analysis).</span></span> <span data-ttu-id="b3607-782">通常の起動とこの中にメモリの大部分を消費するプロセスのことが最初に見えて、メモリ リークとして、必要がなくなりました、それによって量を減らすと、使用可能なの me メモリを解放するプロセスが失敗したときに、真のメモリ リークが発生します。時間の経過と共に mory です。</span><span class="sxs-lookup"><span data-stu-id="b3607-782">Note that is it normal for processes to consume a large portion of memory during startup and this may initially appear as a memory leak, but a true memory leak occurs when a process fails to release memory that it no longer needs, thereby reducing the amount of available memory over time.</span></span> <span data-ttu-id="b3607-783">一般的に BizTalk のプロセスのメモリ リークを分析する方法については、下の「方法をキャプチャ、メモリ ダンプがプロセスがリークしているメモリの」参照や詳細については、PAL の「メモリ リークの検出」分析を参照してください。</span><span class="sxs-lookup"><span data-stu-id="b3607-783">See the “How to Capture a Memory Dump of a Process that is Leaking Memory” reference below and/or the “Memory Leak Detection” analysis in PAL for more information on how to generically analyze process memory leaks in BizTalk.</span></span>  
  
 <span data-ttu-id="b3607-784">公開するバッチの急なメモリ要件がある場合発生する可能性が高いプロセス メモリの制限またはメッセージを処理するスレッドが多すぎます。</span><span class="sxs-lookup"><span data-stu-id="b3607-784">High process memory throttling can occur if the batch to be published has steep memory requirements, or too many threads are processing messages.</span></span>  <span data-ttu-id="b3607-785">過剰に制限する、システムが表示されたら、ホストのプロセス メモリ使用率のしきい値に関連付けられている値を増やすことを検討し、ホスト インスタンスで、「メモリ不足」エラーが発生しないことを確認してください。</span><span class="sxs-lookup"><span data-stu-id="b3607-785">If the system appears to be over-throttling, consider increasing the value associated with the process memory usage threshold for the host and verify that the host instance does not generate an "out of memory" error.</span></span> <span data-ttu-id="b3607-786">プロセス メモリ使用率のしきい値を増やすことで、「メモリ不足」エラーが発生する場合し、内部メッセージ キュー サイズの値を減らすことを検討し、プロセス内の CPU しきい値あたりのメッセージ。</span><span class="sxs-lookup"><span data-stu-id="b3607-786">If an "out of memory" error is raised by increasing the process memory usage threshold, then consider reducing the values for the internal message queue size and In-process messages per CPU thresholds.</span></span> <span data-ttu-id="b3607-787">この方法は、サイズの大きいメッセージを処理するシナリオに特に関連します。</span><span class="sxs-lookup"><span data-stu-id="b3607-787">This strategy is particularly relevant in large message processing scenarios.</span></span> <span data-ttu-id="b3607-788">さらに、この値は、1 つのメッセージの大量のメモリ要件を持つシナリオの低い値に設定する必要があります。</span><span class="sxs-lookup"><span data-stu-id="b3607-788">In addition, this value should be set to a low value for scenarios having large memory requirement per message.</span></span> <span data-ttu-id="b3607-789">小さい値に設定すると、早い段階での制限の作動され、プロセス内でメモリの急増が回避されます。</span><span class="sxs-lookup"><span data-stu-id="b3607-789">Setting a low value will kick in throttling early on and prevent a memory explosion within the process.</span></span>  
  
 <span data-ttu-id="b3607-790">BizTalk server は、仮想メモリが不足して定期的に実行する場合は、BizTalk Server の 64年ビットを検討します。</span><span class="sxs-lookup"><span data-stu-id="b3607-790">If your BizTalk server regularly runs out of virtual memory, then consider BizTalk Server 64-bit.</span></span> <span data-ttu-id="b3607-791">64 ビット サーバー上の各プロセスによる対処に最大 4 TB の仮想メモリ 2 GB の 32 ビットのです。</span><span class="sxs-lookup"><span data-stu-id="b3607-791">Each process on 64-bit servers can address up to 4 TB’s of virtual memory versus the 2 GB’s in 32-bit.</span></span> <span data-ttu-id="b3607-792">一般に、BizTalk を 64 ビットおよび 64 ビット SQL Server は強くお勧めします。</span><span class="sxs-lookup"><span data-stu-id="b3607-792">In general, 64-bit BizTalk and 64-bit SQL Server is highly recommended.</span></span> <span data-ttu-id="b3607-793">詳細については「BizTalk Server の 64 ビットのサポート」リファレンスを参照してください。</span><span class="sxs-lookup"><span data-stu-id="b3607-793">See the “BizTalk Server 64-bit Support” reference for more information.</span></span>  
  
### <a name="references"></a><span data-ttu-id="b3607-794">References</span><span class="sxs-lookup"><span data-stu-id="b3607-794">References</span></span>  
  
-   <span data-ttu-id="b3607-795">BizTalk Server がホストに制限を実装する方法 [http://go.microsoft.com/fwlink/?LinkID=155286](http://go.microsoft.com/fwlink/?LinkID=155286)</span><span class="sxs-lookup"><span data-stu-id="b3607-795">How BizTalk Server Implements Host Throttling at [http://go.microsoft.com/fwlink/?LinkID=155286](http://go.microsoft.com/fwlink/?LinkID=155286)</span></span>  
  
-   <span data-ttu-id="b3607-796">既定のホスト制限の設定を変更する方法 [http://go.microsoft.com/fwlink/?LinkID=155296](http://go.microsoft.com/fwlink/?LinkID=155296)</span><span class="sxs-lookup"><span data-stu-id="b3607-796">How to Modify the Default Host Throttling Settings at [http://go.microsoft.com/fwlink/?LinkID=155296](http://go.microsoft.com/fwlink/?LinkID=155296)</span></span>  
  
-   <span data-ttu-id="b3607-797">メモリをリークしているは、プロセスのメモリ ダンプをキャプチャする方法 [http://go.microsoft.com/fwlink/?LinkId=155305](http://go.microsoft.com/fwlink/?LinkId=155305)</span><span class="sxs-lookup"><span data-stu-id="b3607-797">How to Capture a Memory Dump of a Process that is Leaking Memory at [http://go.microsoft.com/fwlink/?LinkId=155305](http://go.microsoft.com/fwlink/?LinkId=155305)</span></span>  
  
-   <span data-ttu-id="b3607-798">BizTalk Server の 64 ビット サポート [http://go.microsoft.com/fwlink/?LinkId=155306](http://go.microsoft.com/fwlink/?LinkId=155306)</span><span class="sxs-lookup"><span data-stu-id="b3607-798">BizTalk Server 64-bit Support at [http://go.microsoft.com/fwlink/?LinkId=155306](http://go.microsoft.com/fwlink/?LinkId=155306)</span></span>  
  
## <a name="biztalk-high-system-memory-analysis"></a><span data-ttu-id="b3607-799">BizTalk の高いシステム メモリ分析</span><span class="sxs-lookup"><span data-stu-id="b3607-799">BizTalk High System Memory Analysis</span></span>  
 <span data-ttu-id="b3607-800">BizTalk 物理メモリ使用量の制限しきい値の設定では、1 ~ 100 で指定する場合の使用可能な物理メモリの総量と比較してメモリ使用量の割合が入力されます。</span><span class="sxs-lookup"><span data-stu-id="b3607-800">The BizTalk Physical Memory usage throttling threshold setting is the percentage of memory consumption compared to the total amount of available physical memory if a value from 1 through 100 is entered.</span></span> <span data-ttu-id="b3607-801">この設定では、100 より大きい値を入力する場合、メガバイト単位で使用可能な物理メモリの総量こともできます。</span><span class="sxs-lookup"><span data-stu-id="b3607-801">This setting can also be the total amount of available physical memory in megabytes if a value greater than 100 is entered.</span></span> <span data-ttu-id="b3607-802">物理メモリ使用量に基づいた制限を無効にするには、値 0 を入力してください。</span><span class="sxs-lookup"><span data-stu-id="b3607-802">Enter a value of 0 to disable throttling based on physical memory usage.</span></span> <span data-ttu-id="b3607-803">既定値は 0 です。</span><span class="sxs-lookup"><span data-stu-id="b3607-803">The default value is 0.</span></span>  
  
 <span data-ttu-id="b3607-804">この分析では、高のシステム メモリ カウンターの 1 の値を確認します。</span><span class="sxs-lookup"><span data-stu-id="b3607-804">This analysis checks for a value of 1 in the High System Memory counter.</span></span> <span data-ttu-id="b3607-805">すべてのシステム メモリが測定されるので、BizTalk Server 以外のプロセスが多くのシステム メモリを使用している場合に制限の条件が発生する可能性があります。</span><span class="sxs-lookup"><span data-stu-id="b3607-805">Since this measures total system memory, a throttling condition may be triggered if non-BizTalk Server processes are consuming an extensive amount of system memory.</span></span> <span data-ttu-id="b3607-806">したがってこれが発生した場合、最良の手法は、識別するプロセスの大半の物理メモリを消費しているや、サーバーに物理メモリを追加するは。</span><span class="sxs-lookup"><span data-stu-id="b3607-806">Therefore if this occurs, the best approach is to identify which processes are consuming the most physical memory and/or add additional physical memory to the server.</span></span> <span data-ttu-id="b3607-807">また、EPM スレッド プールの既定のサイズやアダプター バッチのサイズを減らすことで負荷を減らすことを検討してください。</span><span class="sxs-lookup"><span data-stu-id="b3607-807">Also, consider reducing load by reducing the default size of the EPM thread pool, and/or the size of adapter batches.</span></span> <span data-ttu-id="b3607-808">詳細については、PAL 内のメモリ リークの検出分析を参照してください。</span><span class="sxs-lookup"><span data-stu-id="b3607-808">For more information, see the Memory Leak Detection analysis in PAL.</span></span>  
  
### <a name="references"></a><span data-ttu-id="b3607-809">References</span><span class="sxs-lookup"><span data-stu-id="b3607-809">References</span></span>  
  
-   <span data-ttu-id="b3607-810">ホスト制限でパフォーマンス カウンター [http://go.microsoft.com/fwlink/?LinkID=155285](http://go.microsoft.com/fwlink/?LinkID=155285)</span><span class="sxs-lookup"><span data-stu-id="b3607-810">Host Throttling Performance Counters at [http://go.microsoft.com/fwlink/?LinkID=155285](http://go.microsoft.com/fwlink/?LinkID=155285)</span></span>  
  
-   <span data-ttu-id="b3607-811">既定のホスト制限の設定を変更する方法 [http://go.microsoft.com/fwlink/?LinkID=155296](http://go.microsoft.com/fwlink/?LinkID=155296)</span><span class="sxs-lookup"><span data-stu-id="b3607-811">How to Modify the Default Host Throttling Settings at [http://go.microsoft.com/fwlink/?LinkID=155296](http://go.microsoft.com/fwlink/?LinkID=155296)</span></span>  
  
-   <span data-ttu-id="b3607-812">BizTalk Server がホストに制限を実装する方法 [http://go.microsoft.com/fwlink/?LinkID=155286](http://go.microsoft.com/fwlink/?LinkID=155286)</span><span class="sxs-lookup"><span data-stu-id="b3607-812">How BizTalk Server Implements Host Throttling at [http://go.microsoft.com/fwlink/?LinkID=155286](http://go.microsoft.com/fwlink/?LinkID=155286)</span></span>  
  
## <a name="biztalk-high-thread-count-analysis"></a><span data-ttu-id="b3607-813">BizTalk の高いスレッド数の分析</span><span class="sxs-lookup"><span data-stu-id="b3607-813">BizTalk High Thread Count Analysis</span></span>  
 <span data-ttu-id="b3607-814">「CPU あたりのスレッド」は、アダプターで使用されるスレッドを含むホスト プロセス内のスレッドの合計数です。</span><span class="sxs-lookup"><span data-stu-id="b3607-814">“Threads Per CPU” is the total number of threads in the host process including threads used by adapters.</span></span> <span data-ttu-id="b3607-815">このしきい値を超えた場合、BizTalk Server は、EPM スレッド プールとメッセージ エージェント スレッド プールのサイズを縮小しようとします。</span><span class="sxs-lookup"><span data-stu-id="b3607-815">If this threshold is exceeded, BizTalk Server will try to reduce the size of the EPM thread pool and message agent thread pool.</span></span> <span data-ttu-id="b3607-816">高負荷によって多くのスレッドを作成するシナリオでは、スレッド ベースの制限を有効にする必要があります。</span><span class="sxs-lookup"><span data-stu-id="b3607-816">Thread based throttling should be enabled in scenarios where high load can lead to the creation of a large number of threads.</span></span> <span data-ttu-id="b3607-817">このパラメーターは、受信制限と送信制限の両方に影響します。</span><span class="sxs-lookup"><span data-stu-id="b3607-817">This parameter affects both inbound and outbound throttling.</span></span> <span data-ttu-id="b3607-818">既定では、スレッド ベースの制限を無効になっています。</span><span class="sxs-lookup"><span data-stu-id="b3607-818">Thread based throttling is disabled by default.</span></span>  
  
> [!NOTE]  
>  <span data-ttu-id="b3607-819">指針としては、ユーザー指定の値が使用され、ホストがメモリの使用パターンと、プロセスのスレッド要件に基づいてこのしきい値を自己チューニング動的に可能性があります。</span><span class="sxs-lookup"><span data-stu-id="b3607-819">The user-specified value is used as a guideline, and the host may dynamically self-tune this threshold value based on the memory usage patterns and thread requirements of the process.</span></span>  
  
 <span data-ttu-id="b3607-820">この分析では、高の Thread Count カウンターでは 1 の値を確認します。</span><span class="sxs-lookup"><span data-stu-id="b3607-820">This analysis checks for a value of 1 in the High Thread Count counter.</span></span> <span data-ttu-id="b3607-821">多くのスレッドが作成されないように、異なるスレッド プール サイズを設定することを検討します。</span><span class="sxs-lookup"><span data-stu-id="b3607-821">Consider adjusting the different thread pool sizes to ensure that the system does not create a large number of threads.</span></span> <span data-ttu-id="b3607-822">この分析は、スレッドが多すぎるとでは、オペレーティング システムが飽和状態かどうかほとんど場合、高いスレッド カウント原因よりも、BizTalk server 上のバックエンド データベースでの複数の競合を決定する 2 番目の分析あたりコンテキストの切り替えと相関することができます。</span><span class="sxs-lookup"><span data-stu-id="b3607-822">This analysis can be correlated with Context Switches per Second analysis to determine whether the operating system is saturated with too many threads, but in most cases high thread counts cause more contention on the backend database than on the BizTalk server.</span></span> <span data-ttu-id="b3607-823">スレッド プール サイズを変更する方法については、参照で既定のホスト制限設定を変更する方法を参照してください。</span><span class="sxs-lookup"><span data-stu-id="b3607-823">For more information about modifying the thread pool sizes see How to Modify the Default Host Throttling Settings in references.</span></span>  
  
### <a name="references"></a><span data-ttu-id="b3607-824">References</span><span class="sxs-lookup"><span data-stu-id="b3607-824">References</span></span>  
  
-   <span data-ttu-id="b3607-825">ホスト制限でパフォーマンス カウンター [http://go.microsoft.com/fwlink/?LinkID=155285](http://go.microsoft.com/fwlink/?LinkID=155285)</span><span class="sxs-lookup"><span data-stu-id="b3607-825">Host Throttling Performance Counters at [http://go.microsoft.com/fwlink/?LinkID=155285](http://go.microsoft.com/fwlink/?LinkID=155285)</span></span>  
  
-   <span data-ttu-id="b3607-826">BizTalk Server がホストに制限を実装する方法 [http://go.microsoft.com/fwlink/?LinkID=155286](http://go.microsoft.com/fwlink/?LinkID=155286)</span><span class="sxs-lookup"><span data-stu-id="b3607-826">How BizTalk Server Implements Host Throttling at [http://go.microsoft.com/fwlink/?LinkID=155286](http://go.microsoft.com/fwlink/?LinkID=155286)</span></span>  
  
-   <span data-ttu-id="b3607-827">既定のホスト制限の設定を変更する方法 [http://go.microsoft.com/fwlink/?LinkID=155296](http://go.microsoft.com/fwlink/?LinkID=155296)</span><span class="sxs-lookup"><span data-stu-id="b3607-827">How to Modify the Default Host Throttling Settings at [http://go.microsoft.com/fwlink/?LinkID=155296](http://go.microsoft.com/fwlink/?LinkID=155296)</span></span>  
  
-   <span data-ttu-id="b3607-828">アダプターのパフォーマンスに影響する構成パラメーター [http://go.microsoft.com/fwlink/?LinkID=154200](http://go.microsoft.com/fwlink/?LinkID=154200)</span><span class="sxs-lookup"><span data-stu-id="b3607-828">Configuration Parameters that Affect Adapter Performance at [http://go.microsoft.com/fwlink/?LinkID=154200](http://go.microsoft.com/fwlink/?LinkID=154200)</span></span>  
  
-   <span data-ttu-id="b3607-829">スレッド、DB セッションとの調整 [http://go.microsoft.com/fwlink/?linkid=106793](http://go.microsoft.com/fwlink/?linkid=106793)</span><span class="sxs-lookup"><span data-stu-id="b3607-829">Threads, DB sessions, and throttling at [http://go.microsoft.com/fwlink/?linkid=106793](http://go.microsoft.com/fwlink/?linkid=106793)</span></span>  
  
 <span data-ttu-id="b3607-830">BizTalk の受信待機時間 AnalysisAverage 待機すると、メッセージング エンジンからドキュメントを受信アダプター、メッセージ ボックスにパブリッシュされるまで (ミリ秒)。</span><span class="sxs-lookup"><span data-stu-id="b3607-830">BizTalk Inbound Latency AnalysisAverage latency in milliseconds from when the messaging engine receives a document from the adapter until the time it is published to the message box.</span></span> <span data-ttu-id="b3607-831">待機時間を短縮することが重要、BizTalk の一部のユーザーしたがって作業がどの程度受信アダプタで費やしている時間ドキュメントの追跡が重要です。</span><span class="sxs-lookup"><span data-stu-id="b3607-831">Reducing latency is important to some users of BizTalk, therefore tracking how much time documents spend in the inbound adapter is important.</span></span>  
  
 <span data-ttu-id="b3607-832">待機時間を測定する方法を示すグラフを次に示します。</span><span class="sxs-lookup"><span data-stu-id="b3607-832">Here is a chart showing how latency is measured.</span></span>  
  
|<span data-ttu-id="b3607-833">1</span><span class="sxs-lookup"><span data-stu-id="b3607-833">1</span></span>|<span data-ttu-id="b3607-834">2</span><span class="sxs-lookup"><span data-stu-id="b3607-834">2</span></span>|<span data-ttu-id="b3607-835">3</span><span class="sxs-lookup"><span data-stu-id="b3607-835">3</span></span>|<span data-ttu-id="b3607-836">4</span><span class="sxs-lookup"><span data-stu-id="b3607-836">4</span></span>|<span data-ttu-id="b3607-837">5</span><span class="sxs-lookup"><span data-stu-id="b3607-837">5</span></span>|<span data-ttu-id="b3607-838">6</span><span class="sxs-lookup"><span data-stu-id="b3607-838">6</span></span>|  
|-------|-------|-------|-------|-------|-------|  
|<span data-ttu-id="b3607-839">アダプターがメッセージを受信し、これらのパフォーマンス カウンターでキャプチャされること、エンジンでは、メッセージがないエンジンに渡さ前に、アダプターで実行された作業を送信します。</span><span class="sxs-lookup"><span data-stu-id="b3607-839">Adapter receives message and submits it to the engine, work done in adapter before message is given to engine not captured in these perf counters</span></span>|<span data-ttu-id="b3607-840">エンジンがアダプターからメッセージを受信、実行される受信パイプライン、マップ、サブスクリプションの評価] の [DB 内のメッセージを保持します。</span><span class="sxs-lookup"><span data-stu-id="b3607-840">Engine receives message from adapter, executes receive pipeline, map, subscription evaluation, persist message in DB.</span></span>|<span data-ttu-id="b3607-841">オーケストレーションまたは送信請求-応答ポートを実行し、応答メッセージを生成します。</span><span class="sxs-lookup"><span data-stu-id="b3607-841">Orchestration or Solicit-Response port runs and generates a response message.</span></span>|<span data-ttu-id="b3607-842">メッセージング エンジンで応答メッセージがデキューされた、実行、送信パイプライン、マップします。</span><span class="sxs-lookup"><span data-stu-id="b3607-842">Response message is dequeued in messaging engine, execute the send pipeline, map.</span></span>|<span data-ttu-id="b3607-843">メッセージング エンジンは、アダプターへの応答メッセージを提供します。</span><span class="sxs-lookup"><span data-stu-id="b3607-843">Messaging engine gives response message to adapter.</span></span>|<span data-ttu-id="b3607-844">アダプターでは、エンジンのメッセージはすべて行われますが通知されます。</span><span class="sxs-lookup"><span data-stu-id="b3607-844">Adapter informs engine message is all done.</span></span>|  
||<span data-ttu-id="b3607-845">I</span><span class="sxs-lookup"><span data-stu-id="b3607-845">I</span></span>|||||  
||<span data-ttu-id="b3607-846">RR</span><span class="sxs-lookup"><span data-stu-id="b3607-846">RR</span></span>|<span data-ttu-id="b3607-847">RR</span><span class="sxs-lookup"><span data-stu-id="b3607-847">RR</span></span>|<span data-ttu-id="b3607-848">RR</span><span class="sxs-lookup"><span data-stu-id="b3607-848">RR</span></span>|||  
||||<span data-ttu-id="b3607-849">O</span><span class="sxs-lookup"><span data-stu-id="b3607-849">O</span></span>|<span data-ttu-id="b3607-850">O</span><span class="sxs-lookup"><span data-stu-id="b3607-850">O</span></span>|<span data-ttu-id="b3607-851">O</span><span class="sxs-lookup"><span data-stu-id="b3607-851">O</span></span>|  
|||||<span data-ttu-id="b3607-852">OA</span><span class="sxs-lookup"><span data-stu-id="b3607-852">OA</span></span>|<span data-ttu-id="b3607-853">OA</span><span class="sxs-lookup"><span data-stu-id="b3607-853">OA</span></span>|  
  
 <span data-ttu-id="b3607-854">I = 受信待機時間</span><span class="sxs-lookup"><span data-stu-id="b3607-854">I = Inbound Latency</span></span>  
  
 <span data-ttu-id="b3607-855">RR 要求応答の待機時間を =</span><span class="sxs-lookup"><span data-stu-id="b3607-855">RR = Request Response Latency</span></span>  
  
 <span data-ttu-id="b3607-856">O = 待機時間の送信</span><span class="sxs-lookup"><span data-stu-id="b3607-856">O = Outbound Latency</span></span>  
  
 <span data-ttu-id="b3607-857">OA 送信アダプターの待機時間を =</span><span class="sxs-lookup"><span data-stu-id="b3607-857">OA = Outbound Adapter Latency</span></span>  
  
 <span data-ttu-id="b3607-858">低待機時間の環境を想定すると、この分析は、ドキュメントが 5 秒以上、受信アダプターで費やされたかどうかを確認します。</span><span class="sxs-lookup"><span data-stu-id="b3607-858">Assuming a low latency environment, this analysis checks whether the document spent more than 5 seconds in the inbound adapter.</span></span> <span data-ttu-id="b3607-859">このホスト インスタンスで受信アダプターを経由してメッセージの転送の処理の遅延がある可能性があります。</span><span class="sxs-lookup"><span data-stu-id="b3607-859">This may indicate a processing delay in the transport of messages through inbound adapters in this host instance.</span></span> <span data-ttu-id="b3607-860">複数の受信アダプターは、このホスト インスタンスに存在する場合、どの受信アダプターが高待機時間を決定する、独自のホストに分割することを検討します。</span><span class="sxs-lookup"><span data-stu-id="b3607-860">If multiple inbound adapters exist in this host instance, then consider separating them into their own hosts to determine which inbound adapter has high latency.</span></span>  
  
### <a name="references"></a><span data-ttu-id="b3607-861">References</span><span class="sxs-lookup"><span data-stu-id="b3607-861">References</span></span>  
  
-   <span data-ttu-id="b3607-862">BizTalk Server データベースの最適化</span><span class="sxs-lookup"><span data-stu-id="b3607-862">BizTalk Server Database Optimization</span></span>  
    [http://go.microsoft.com/fwlink/?linkid=104427](http://go.microsoft.com/fwlink/?linkid=104427)  
  
-   <span data-ttu-id="b3607-863">要求/応答メッセージ</span><span class="sxs-lookup"><span data-stu-id="b3607-863">Request/Response Messaging</span></span>  
    [http://go.microsoft.com/fwlink/?LinkID=155288](http://go.microsoft.com/fwlink/?LinkID=155288)  
  
-   <span data-ttu-id="b3607-864">BizTalk 層のボトルネックの特定</span><span class="sxs-lookup"><span data-stu-id="b3607-864">Identifying Bottlenecks in the BizTalk Tier</span></span>  
    [http://go.microsoft.com/fwlink/?LinkID=155289](http://go.microsoft.com/fwlink/?LinkID=155289)  
  
## <a name="biztalk-message-delivery-throttling-state-analysis"></a><span data-ttu-id="b3607-865">BizTalk メッセージの配信状態の分析の調整</span><span class="sxs-lookup"><span data-stu-id="b3607-865">BizTalk Message Delivery Throttling State Analysis</span></span>  
 <span data-ttu-id="b3607-866">BizTalk メッセージの配信制限の状態は調整のプライマリ インジケーターです。</span><span class="sxs-lookup"><span data-stu-id="b3607-866">The BizTalk message delivery throttling state is one of the primary indicators of throttling.</span></span> <span data-ttu-id="b3607-867">これは、システムで (XLANG メッセージ処理および送信トランスポートに影響する) メッセージ配信を制限するかどうかを示すフラグです。</span><span class="sxs-lookup"><span data-stu-id="b3607-867">It is a flag indicating whether the system is throttling message delivery (affecting XLANG message processing and outbound transports).</span></span> <span data-ttu-id="b3607-868">制限の条件は、カウンターの数値で示されます。</span><span class="sxs-lookup"><span data-stu-id="b3607-868">The throttling condition is indicated by the numeric value of the counter.</span></span> <span data-ttu-id="b3607-869">値と、それぞれの意味の一覧を次に示します。</span><span class="sxs-lookup"><span data-stu-id="b3607-869">Here is a list of the values and their respective meaning:</span></span>  
  
|||  
|-|-|  
|<span data-ttu-id="b3607-870">0</span><span class="sxs-lookup"><span data-stu-id="b3607-870">0</span></span>|<span data-ttu-id="b3607-871">制限なし。</span><span class="sxs-lookup"><span data-stu-id="b3607-871">Not throttling</span></span>|  
|<span data-ttu-id="b3607-872">1</span><span class="sxs-lookup"><span data-stu-id="b3607-872">1</span></span>|<span data-ttu-id="b3607-873">メッセージ配信レートが不安定なことに起因する制限。入力率が出力率を超えています。</span><span class="sxs-lookup"><span data-stu-id="b3607-873">Throttling due to imbalanced message delivery rate (input rate exceeds output rate)</span></span>|  
|<span data-ttu-id="b3607-874">3</span><span class="sxs-lookup"><span data-stu-id="b3607-874">3</span></span>|<span data-ttu-id="b3607-875">インプロセス メッセージ カウントが大きいことに起因する制限。</span><span class="sxs-lookup"><span data-stu-id="b3607-875">Throttling due to high in-process message count</span></span>|  
|<span data-ttu-id="b3607-876">4</span><span class="sxs-lookup"><span data-stu-id="b3607-876">4</span></span>|<span data-ttu-id="b3607-877">プロセス メモリ不足に起因する制限。</span><span class="sxs-lookup"><span data-stu-id="b3607-877">Throttling due to process memory pressure</span></span>|  
|<span data-ttu-id="b3607-878">5</span><span class="sxs-lookup"><span data-stu-id="b3607-878">5</span></span>|<span data-ttu-id="b3607-879">システム メモリ不足に起因する制限。</span><span class="sxs-lookup"><span data-stu-id="b3607-879">Throttling due to system memory pressure</span></span>|  
|<span data-ttu-id="b3607-880">9</span><span class="sxs-lookup"><span data-stu-id="b3607-880">9</span></span>|<span data-ttu-id="b3607-881">スレッド カウントが大きいことに起因する制限。</span><span class="sxs-lookup"><span data-stu-id="b3607-881">Throttling due to high thread count</span></span>|  
|<span data-ttu-id="b3607-882">10</span><span class="sxs-lookup"><span data-stu-id="b3607-882">10</span></span>|<span data-ttu-id="b3607-883">配信におけるユーザー指定に起因する制限。</span><span class="sxs-lookup"><span data-stu-id="b3607-883">Throttling due to user override on delivery</span></span>|  
  
 <span data-ttu-id="b3607-884">この分析では、これらの各値をチェックし、それぞれの特定の警告があります。</span><span class="sxs-lookup"><span data-stu-id="b3607-884">This analysis checks for each of these values and has a specific alert for each of them.</span></span>  
  
### <a name="references"></a><span data-ttu-id="b3607-885">References</span><span class="sxs-lookup"><span data-stu-id="b3607-885">References</span></span>  
  
-   <span data-ttu-id="b3607-886">ホスト制限でパフォーマンス カウンター [http://go.microsoft.com/fwlink/?LinkID=155285](http://go.microsoft.com/fwlink/?LinkID=155285)</span><span class="sxs-lookup"><span data-stu-id="b3607-886">Host Throttling Performance Counters at [http://go.microsoft.com/fwlink/?LinkID=155285](http://go.microsoft.com/fwlink/?LinkID=155285)</span></span>  
  
-   <span data-ttu-id="b3607-887">BizTalk Server がホストに制限を実装する方法 [http://go.microsoft.com/fwlink/?LinkID=155286](http://go.microsoft.com/fwlink/?LinkID=155286)</span><span class="sxs-lookup"><span data-stu-id="b3607-887">How BizTalk Server Implements Host Throttling at [http://go.microsoft.com/fwlink/?LinkID=155286](http://go.microsoft.com/fwlink/?LinkID=155286)</span></span>  
  
## <a name="biztalk-messagebox-database-connection-failures-analysis"></a><span data-ttu-id="b3607-888">BizTalk メッセージ ボックス データベースの接続の失敗の分析</span><span class="sxs-lookup"><span data-stu-id="b3607-888">BizTalk MessageBox Database Connection Failures Analysis</span></span>  
 <span data-ttu-id="b3607-889">このパフォーマンス カウンターは、ホスト インスタンスが起動されてから実行しようとしたデータベース接続の数です。</span><span class="sxs-lookup"><span data-stu-id="b3607-889">This performance counter is the number of attempted database connections that failed since the host instance started.</span></span> <span data-ttu-id="b3607-890">BizTalk データベースをホストする SQL Server サービスは、何らかの理由で利用不可になると、データベース クラスターによって、リソースが active コンピューターからパッシブ側コンピューターに転送します。</span><span class="sxs-lookup"><span data-stu-id="b3607-890">If the SQL Server service hosting the BizTalk databases becomes unavailable for any reason, the database cluster transfers resources from the active computer to the passive computer.</span></span> <span data-ttu-id="b3607-891">このフェールオーバー処理中に BizTalk Server サービスのインスタンスがデータベース接続の障害を検出すると、自動的にデータベースの再接続が実行されます。</span><span class="sxs-lookup"><span data-stu-id="b3607-891">During this failover process, the BizTalk Server service instances experience database connection failures and automatically restart to reconnect to the databases.</span></span> <span data-ttu-id="b3607-892">正常に動作しているデータベース コンピューター (先ほどまでパッシブ側であったコンピューター) が、フェールオーバーでリソースを引き継いだ後、データベース接続の処理を開始します。</span><span class="sxs-lookup"><span data-stu-id="b3607-892">The functioning database computer (previously the passive computer) begins processing the database connections after assuming the resources during failover.</span></span>  
  
 <span data-ttu-id="b3607-893">DBNetLib (データベース ネットワーク ライブラリ) エラーは、BizTalk Server ランタイムがメッセージ ボックス データベースまたは管理のいずれかのデータベースと通信できない場合に発生します。</span><span class="sxs-lookup"><span data-stu-id="b3607-893">DBNetLib (Database Network Library) errors occur when the BizTalk Server runtime is unable to communicate with either the MessageBox or management databases.</span></span> <span data-ttu-id="b3607-894">この場合、例外をキャッチする BizTalk Server ランタイム インスタンスがシャット ダウンされ、毎分をサイクル データベースが使用できるかどうかを確認してください。</span><span class="sxs-lookup"><span data-stu-id="b3607-894">When this occurs, the BizTalk Server runtime instance that catches the exception shuts down and then cycles every minute to check to see whether the database is available.</span></span> <span data-ttu-id="b3607-895">このトピックでは、詳細については、参照セクションを参照してください。</span><span class="sxs-lookup"><span data-stu-id="b3607-895">See the references section for more information on this topic.</span></span>  
  
 <span data-ttu-id="b3607-896">クライアントがサーバーとの TCP/IP ソケット接続を開始した場合、通常、そのクライアントはサーバー上の特定ポートに接続し、一時的な (短期) TCP ポートまたは UDP ポートを経由してクライアントに応答するようサーバーに要求します。</span><span class="sxs-lookup"><span data-stu-id="b3607-896">When a client initiates a TCP/IP socket connection to a server, the client typically connects to a specific port on the server and requests that the server respond to the client over an ephemeral, or short lived, TCP or UDP port.</span></span> <span data-ttu-id="b3607-897">Windows Server 2003 および Windows XP の場合は、既定のクライアント アプリケーションによって使用される一時的なポートの範囲は 1025 ~ 5000 です。</span><span class="sxs-lookup"><span data-stu-id="b3607-897">On Windows Server 2003 and Windows XP, the default range of ephemeral ports used by client applications is from 1025 through 5000.</span></span> <span data-ttu-id="b3607-898">特定の条件には既定値の範囲内で使用可能なポートが不足することが可能です。</span><span class="sxs-lookup"><span data-stu-id="b3607-898">Under certain conditions it is possible that the available ports in the default range will be exhausted.</span></span> <span data-ttu-id="b3607-899">このトピックでは、詳細については、参照セクションを参照してください。</span><span class="sxs-lookup"><span data-stu-id="b3607-899">See the references section for more information on this topic.</span></span>  
  
 <span data-ttu-id="b3607-900">この分析は、データベース接続エラーの発生に対してチェックします。</span><span class="sxs-lookup"><span data-stu-id="b3607-900">This analysis checks for any occurrence of database connection failures.</span></span> <span data-ttu-id="b3607-901">データベース接続エラーは、BizTalk データベースが存在しない機能ため重要です。</span><span class="sxs-lookup"><span data-stu-id="b3607-901">Database connection failures are critical because BizTalk cannot function without the database.</span></span> <span data-ttu-id="b3607-902">データベース接続エラーの原因が不明な場合は、以下の参照を検討してください。 や、接続エラーの原因を特定の Microsoft サポートに問い合わせてください。</span><span class="sxs-lookup"><span data-stu-id="b3607-902">If the cause of the database connection failure is unknown, then consider the references listed below and/or contact Microsoft Support to determine the nature of the connectivity failure.</span></span>  
  
### <a name="references"></a><span data-ttu-id="b3607-903">References</span><span class="sxs-lookup"><span data-stu-id="b3607-903">References</span></span>  
  
-   <span data-ttu-id="b3607-904">スケールアウト データベース</span><span class="sxs-lookup"><span data-stu-id="b3607-904">Scaled-Out Databases</span></span>  
    [http://go.microsoft.com/fwlink/?LinkId=155307](http://go.microsoft.com/fwlink/?LinkId=155307)  
  
-   <span data-ttu-id="b3607-905">DBNETLIB 例外の回避</span><span class="sxs-lookup"><span data-stu-id="b3607-905">Avoiding DBNETLIB Exceptions</span></span>  
    [http://go.microsoft.com/fwlink/?LinkId=155308](http://go.microsoft.com/fwlink/?LinkId=155308)  
  
-   <span data-ttu-id="b3607-906">使用可能な TCP/IP ポートが存在しないことの回避</span><span class="sxs-lookup"><span data-stu-id="b3607-906">Avoiding TCP/IP Port Exhaustion</span></span>  
    [http://go.microsoft.com/fwlink/?LinkId=155309](http://go.microsoft.com/fwlink/?LinkId=155309)  
  
## <a name="biztalk-messaging-publishing-throttling-state-analysis"></a><span data-ttu-id="b3607-907">BizTalk メッセージ公開の制限の状態の分析</span><span class="sxs-lookup"><span data-stu-id="b3607-907">BizTalk Messaging Publishing Throttling State Analysis</span></span>  
 <span data-ttu-id="b3607-908">BizTalk メッセージの公開の制限の状態は調整のプライマリ インジケーターです。</span><span class="sxs-lookup"><span data-stu-id="b3607-908">The BizTalk message publishing throttling state is one of the primary indicators of throttling.</span></span> <span data-ttu-id="b3607-909">これは、システムで (XLANG メッセージ処理および受信トランスポートに影響する) メッセージの公開を制限するかどうかを示すフラグです。制限の条件は、カウンターの数値で示されます。</span><span class="sxs-lookup"><span data-stu-id="b3607-909">It is a flag indicating whether the system is throttling message publishing (affecting XLANG message processing and inbound transports).The throttling condition is indicated by the numeric value of the counter.</span></span> <span data-ttu-id="b3607-910">値と、それぞれの意味の一覧を次に示します。</span><span class="sxs-lookup"><span data-stu-id="b3607-910">Here is a list of the values and their respective meaning:</span></span>  
  
|||  
|-|-|  
|<span data-ttu-id="b3607-911">0</span><span class="sxs-lookup"><span data-stu-id="b3607-911">0</span></span>|<span data-ttu-id="b3607-912">制限なし。</span><span class="sxs-lookup"><span data-stu-id="b3607-912">Not throttling</span></span>|  
|<span data-ttu-id="b3607-913">2</span><span class="sxs-lookup"><span data-stu-id="b3607-913">2</span></span>|<span data-ttu-id="b3607-914">メッセージ公開レートが不安定なことに起因する制限。入力率が出力率を超えています。</span><span class="sxs-lookup"><span data-stu-id="b3607-914">Throttling due to imbalanced message publishing rate (input rate exceeds output rate)</span></span>|  
|<span data-ttu-id="b3607-915">4</span><span class="sxs-lookup"><span data-stu-id="b3607-915">4</span></span>|<span data-ttu-id="b3607-916">プロセス メモリ不足に起因する制限。</span><span class="sxs-lookup"><span data-stu-id="b3607-916">Throttling due to process memory pressure</span></span>|  
|<span data-ttu-id="b3607-917">5</span><span class="sxs-lookup"><span data-stu-id="b3607-917">5</span></span>|<span data-ttu-id="b3607-918">システム メモリ不足に起因する制限。</span><span class="sxs-lookup"><span data-stu-id="b3607-918">Throttling due to system memory pressure</span></span>|  
|<span data-ttu-id="b3607-919">6</span><span class="sxs-lookup"><span data-stu-id="b3607-919">6</span></span>|<span data-ttu-id="b3607-920">データベース サイズの増加に起因する制限。</span><span class="sxs-lookup"><span data-stu-id="b3607-920">Throttling due to database growth</span></span>|  
|<span data-ttu-id="b3607-921">8</span><span class="sxs-lookup"><span data-stu-id="b3607-921">8</span></span>|<span data-ttu-id="b3607-922">セッション カウントが大きいこと起因する制限。</span><span class="sxs-lookup"><span data-stu-id="b3607-922">Throttling due to high session count</span></span>|  
|<span data-ttu-id="b3607-923">9</span><span class="sxs-lookup"><span data-stu-id="b3607-923">9</span></span>|<span data-ttu-id="b3607-924">スレッド カウントが大きいことに起因する制限。</span><span class="sxs-lookup"><span data-stu-id="b3607-924">Throttling due to high thread count</span></span>|  
|<span data-ttu-id="b3607-925">11</span><span class="sxs-lookup"><span data-stu-id="b3607-925">11</span></span>|<span data-ttu-id="b3607-926">公開におけるユーザー指定に起因する制限。</span><span class="sxs-lookup"><span data-stu-id="b3607-926">Throttling due to user override on publishing</span></span>|  
  
 <span data-ttu-id="b3607-927">この分析では、これらの各値をチェックし、それぞれの特定の警告があります。</span><span class="sxs-lookup"><span data-stu-id="b3607-927">This analysis checks for each of these values and has a specific alert for each of them.</span></span>  
  
### <a name="references"></a><span data-ttu-id="b3607-928">References</span><span class="sxs-lookup"><span data-stu-id="b3607-928">References</span></span>  
  
-   <span data-ttu-id="b3607-929">ホスト制限でパフォーマンス カウンター [http://go.microsoft.com/fwlink/?LinkID=155285](http://go.microsoft.com/fwlink/?LinkID=155285)</span><span class="sxs-lookup"><span data-stu-id="b3607-929">Host Throttling Performance Counters at [http://go.microsoft.com/fwlink/?LinkID=155285](http://go.microsoft.com/fwlink/?LinkID=155285)</span></span>  
  
-   <span data-ttu-id="b3607-930">BizTalk Server がホストに制限を実装する方法 [http://go.microsoft.com/fwlink/?LinkID=155286](http://go.microsoft.com/fwlink/?LinkID=155286)</span><span class="sxs-lookup"><span data-stu-id="b3607-930">How BizTalk Server Implements Host Throttling at [http://go.microsoft.com/fwlink/?LinkID=155286](http://go.microsoft.com/fwlink/?LinkID=155286)</span></span>  
  
## <a name="biztalk-orchestrations-resident-in-memory"></a><span data-ttu-id="b3607-931">メモリ内の BizTalk オーケストレーションの常駐</span><span class="sxs-lookup"><span data-stu-id="b3607-931">BizTalk Orchestrations Resident in Memory</span></span>  
 <span data-ttu-id="b3607-932">ホスト インスタンスによって現在ホストされているオーケストレーション インスタンスの数。</span><span class="sxs-lookup"><span data-stu-id="b3607-932">Number of orchestration instances currently hosted by the host instance.</span></span> <span data-ttu-id="b3607-933">スパイクの発生またはメモリに常駐しているオーケストレーションのバーストと思われる通常、中に上昇傾向は、"の積み上がりを"メモリ内のオーケストレーションである可能性があります。</span><span class="sxs-lookup"><span data-stu-id="b3607-933">While spikes or bursts of orchestrations resident in memory may be considered normal, an increasing trend could indicate a “pile up” of orchestrations in memory.</span></span> <span data-ttu-id="b3607-934">時間の経過と共に上昇傾向は、BizTalk がメッセージとオーケストレーション インスタンスを退避できない場合に発生する可能性があります。</span><span class="sxs-lookup"><span data-stu-id="b3607-934">An increasing trend over time may occur when BizTalk is unable to dehydrate messages/orchestration instances.</span></span> <span data-ttu-id="b3607-935">このカウンターを関連付ける"xlang/s Orchestrations(?) しようとしてください。このカウンターとインスタンスのカウンター \Dehydratable オーケストレーション"、疑問符 (?)、同じであります。</span><span class="sxs-lookup"><span data-stu-id="b3607-935">Try to correlate this counter with “XLANG/s Orchestrations(?)\Dehydratable orchestrations” where the question mark (?) is the same counter instance as this counter.</span></span>  
  
 <span data-ttu-id="b3607-936">オーケストレーションの数が多いがメモリ内に常駐して、オーケストレーションの数が少ないが、待避可能なかどうかは、オーケストレーションが高いをメモリ内でアイドル状態と、メモリ リークが発生条件が発生する可能性があります。</span><span class="sxs-lookup"><span data-stu-id="b3607-936">If a high number of orchestrations are resident in memory and if a low number of orchestrations are dehydratable, then your orchestrations are likely idle in memory and may cause a memory leak condition.</span></span> <span data-ttu-id="b3607-937">存在する場合は、「\XLANG/s オーケストレーション (\*) \Idle オーケストレーション」との相関関係でこの分析を使用します。</span><span class="sxs-lookup"><span data-stu-id="b3607-937">Use this analysis in correlation with “\XLANG/s Orchestrations(\*)\Idle orchestrations” if present.</span></span> <span data-ttu-id="b3607-938">BizTalk オーケストレーションをアイドル状態の上昇傾向は、オーケストレーション インスタンスを退避することができないのため、メモリ リークのより優れたインジケーターです。</span><span class="sxs-lookup"><span data-stu-id="b3607-938">An increasing trend in BizTalk Idle Orchestrations is a better indicator of memory leaks due to the inability to dehydrate orchestration instances.</span></span>  
  
 <span data-ttu-id="b3607-939">この分析では、メモリとメモリ内のオーケストレーションの 50% 以上が待避可能なはかどうかに常駐しているオーケストレーションに上昇傾向を確認します。</span><span class="sxs-lookup"><span data-stu-id="b3607-939">This analysis checks for an increasing trend in orchestrations resident in memory and if more than 50% of the orchestrations resident in memory are not dehydratable.</span></span>  
  
### <a name="references"></a><span data-ttu-id="b3607-940">References</span><span class="sxs-lookup"><span data-stu-id="b3607-940">References</span></span>  
  
-   <span data-ttu-id="b3607-941">オーケストレーション エンジンのパフォーマンス カウンター</span><span class="sxs-lookup"><span data-stu-id="b3607-941">Orchestration Engine Performance Counters</span></span>  
    [http://go.microsoft.com/fwlink/?LinkID=155290](http://go.microsoft.com/fwlink/?LinkID=155290)  
  
-   <span data-ttu-id="b3607-942">オーケストレーションの退避と復元</span><span class="sxs-lookup"><span data-stu-id="b3607-942">Orchestration Dehydration and Rehydration</span></span>  
    [http://go.microsoft.com/fwlink/?LinkID=155284](http://go.microsoft.com/fwlink/?LinkID=155284)  
  
## <a name="biztalk-private-bytes-analysis"></a><span data-ttu-id="b3607-943">BizTalk のプライベート バイトの分析</span><span class="sxs-lookup"><span data-stu-id="b3607-943">BizTalk Private Bytes Analysis</span></span>  
 <span data-ttu-id="b3607-944">これは、"\Process (\*) \Private バイト数"パフォーマンス カウンターを比較し、ホスト インスタンスの割り当て済みのプライベート メモリのメガバイト数です。</span><span class="sxs-lookup"><span data-stu-id="b3607-944">This is the megabytes of allocated private memory for the host instance and comparable to the “\Process(\*)\Private Bytes” performance counter.</span></span> <span data-ttu-id="b3607-945">Private Bytes は、(バイト単位)、プロセスによって割り当てられ、他のプロセスと共有できないメモリの現在のサイズです。</span><span class="sxs-lookup"><span data-stu-id="b3607-945">Private Bytes is the current size, in bytes, of memory that a process has allocated that cannot be shared with other processes.</span></span> <span data-ttu-id="b3607-946">この分析は、かどうか、システムのメモリのサイズが大きくを使用して、任意のホスト インスタンスは、ホスト インスタンスがメモリの消費量を時間の経過と共に増加しているかどうかを判断します。</span><span class="sxs-lookup"><span data-stu-id="b3607-946">This analysis determines whether any of the host instances are consuming a large size of the system's memory and whether the host instance is increasing in memory consumption over time.</span></span> <span data-ttu-id="b3607-947">メモリの大部分を消費してホスト インスタンスとは、it がシステムにメモリを返す限り問題ありません。</span><span class="sxs-lookup"><span data-stu-id="b3607-947">A host instance consuming large portions of memory is fine as long as the it returns the memory to the system.</span></span> <span data-ttu-id="b3607-948">グラフの傾向を増やすことを探します。</span><span class="sxs-lookup"><span data-stu-id="b3607-948">Look for increasing trends in the chart.</span></span> <span data-ttu-id="b3607-949">長期間にわたって上昇傾向は、メモリ リークである可能性があります。</span><span class="sxs-lookup"><span data-stu-id="b3607-949">An increasing trend over a long period of time could indicate a memory leak.</span></span>  
  
 <span data-ttu-id="b3607-950">この分析では、10 MB に時間の上昇傾向を確認します。</span><span class="sxs-lookup"><span data-stu-id="b3607-950">This analysis checks for a 10 MB-per-hour increasing trend.</span></span> <span data-ttu-id="b3607-951">使用可能なメモリ分析およびメモリ リークの分析との相関関係でこの分析を使用します。</span><span class="sxs-lookup"><span data-stu-id="b3607-951">Use this analysis in correlation with the Available Memory analysis and the Memory Leak analysis.</span></span> <span data-ttu-id="b3607-952">また、単に通常起動時の動作があるときに、メモリ リークとしてインスタンスが表示される最初にホストを新しく開始されることに注意してください。</span><span class="sxs-lookup"><span data-stu-id="b3607-952">Also, keep in mind that newly started host instances will initially appear as a memory leak when it is simply normal start up behavior.</span></span> <span data-ttu-id="b3607-953">メモリ リークは、プロセスを継続するにメモリを消費し、長期間にわたってメモリを解放していません。</span><span class="sxs-lookup"><span data-stu-id="b3607-953">A memory leak is when a process continues to consume memory and not releasing memory over a long period of time.</span></span> <span data-ttu-id="b3607-954">メモリ リークが発生条件が疑われる場合は、以下で参照「メモリの増加に BizTalk メッセージング」記事を参照します。</span><span class="sxs-lookup"><span data-stu-id="b3607-954">If you suspect a memory leak condition, then read the “Memory Growth in BizTalk Messaging” article referenced below.</span></span> <span data-ttu-id="b3607-955">それ以外の場合、インストールし、デバッグ診断ツールを使用します。</span><span class="sxs-lookup"><span data-stu-id="b3607-955">Otherwise, install and use the Debug Diag tool.</span></span> <span data-ttu-id="b3607-956">デバッグ診断ツールの詳細については、参照設定 セクションを参照してください。</span><span class="sxs-lookup"><span data-stu-id="b3607-956">For more information on the Debug Diag Tool, see the references section.</span></span>  
  
### <a name="references"></a><span data-ttu-id="b3607-957">References</span><span class="sxs-lookup"><span data-stu-id="b3607-957">References</span></span>  
  
-   <span data-ttu-id="b3607-958">デバッグ診断ツール v1.1</span><span class="sxs-lookup"><span data-stu-id="b3607-958">Debug Diagnostic Tool v1.1</span></span>  
    [http://go.microsoft.com/fwlink/?linkid=106784](http://go.microsoft.com/fwlink/?linkid=106784)  
  
-   <span data-ttu-id="b3607-959">BizTalk メッセージのメモリの増加</span><span class="sxs-lookup"><span data-stu-id="b3607-959">Memory Growth in BizTalk Messaging</span></span>  
    [http://go.microsoft.com/fwlink/?linkid=108788](http://go.microsoft.com/fwlink/?linkid=108788)  
  
## <a name="biztalk-virtual-bytes-analysis"></a><span data-ttu-id="b3607-960">BizTalk 仮想バイト数の分析</span><span class="sxs-lookup"><span data-stu-id="b3607-960">BizTalk Virtual Bytes Analysis</span></span>  
 <span data-ttu-id="b3607-961">これは、ホスト インスタンスの仮想メモリの予約済みのメガバイト数です。</span><span class="sxs-lookup"><span data-stu-id="b3607-961">This is the megabytes reserved for virtual memory for the host instance.</span></span> <span data-ttu-id="b3607-962">この分析は、大量のシステムのメモリを消費、任意のホスト インスタンスかどうかと、ホスト インスタンスがメモリの消費量を時間の経過と共に増加しているかどうかを判断します。</span><span class="sxs-lookup"><span data-stu-id="b3607-962">This analysis determines whether any of the host instances are consuming a large amount of the system's memory and whether the host instance is increasing in memory consumption over time.</span></span> <span data-ttu-id="b3607-963">メモリの大部分を消費してホスト インスタンスとは、システムにメモリを返す限り問題ありません。</span><span class="sxs-lookup"><span data-stu-id="b3607-963">A host instance consuming large portions of memory is fine as long as it returns the memory to the system.</span></span> <span data-ttu-id="b3607-964">グラフの傾向を増やすことを探します。</span><span class="sxs-lookup"><span data-stu-id="b3607-964">Look for increasing trends in the chart.</span></span> <span data-ttu-id="b3607-965">長期間にわたって上昇傾向は、メモリ リークである可能性があります。</span><span class="sxs-lookup"><span data-stu-id="b3607-965">An increasing trend over a long period of time could indicate a memory leak.</span></span>  
  
 <span data-ttu-id="b3607-966">この分析では、仮想バイト単位時間あたりの MB 数が 10 の上昇傾向を確認します。</span><span class="sxs-lookup"><span data-stu-id="b3607-966">This analysis checks for a 10 MB-per-hour increasing trend in virtual bytes.</span></span> <span data-ttu-id="b3607-967">使用可能なメモリ分析およびメモリ リークの分析との相関関係でこの分析を使用します。</span><span class="sxs-lookup"><span data-stu-id="b3607-967">Use this analysis in correlation with the Available Memory analysis and the Memory Leak analysis.</span></span> <span data-ttu-id="b3607-968">また、単に通常起動時の動作があるときに、メモリ リークとしてインスタンスが表示される最初にホストを新しく開始されることに注意してください。</span><span class="sxs-lookup"><span data-stu-id="b3607-968">Also, keep in mind that newly started host instances will initially appear as a memory leak when it is simply normal start up behavior.</span></span> <span data-ttu-id="b3607-969">メモリ リークは、プロセスを継続するにメモリを消費し、長期間にわたってメモリを解放していません。</span><span class="sxs-lookup"><span data-stu-id="b3607-969">A memory leak is when a process continues to consume memory and not releasing memory over a long period of time.</span></span> <span data-ttu-id="b3607-970">メモリ リークが発生条件が疑われる場合は、以下の「「メモリ増加に BizTalk メッセージング」」の記事を参照します。</span><span class="sxs-lookup"><span data-stu-id="b3607-970">If you suspect a memory leak condition, then read the “Memory Growth in BizTalk Messaging” article below.</span></span> <span data-ttu-id="b3607-971">それ以外の場合、インストールし、デバッグ診断ツールを使用します。</span><span class="sxs-lookup"><span data-stu-id="b3607-971">Otherwise, install and use the Debug Diag tool.</span></span> <span data-ttu-id="b3607-972">デバッグ診断ツールの詳細については、参照設定 セクションを参照してください。</span><span class="sxs-lookup"><span data-stu-id="b3607-972">For more information on the Debug Diag Tool, see the references section.</span></span>  
  
### <a name="references"></a><span data-ttu-id="b3607-973">References</span><span class="sxs-lookup"><span data-stu-id="b3607-973">References</span></span>  
  
-   <span data-ttu-id="b3607-974">デバッグ診断ツール v1.1</span><span class="sxs-lookup"><span data-stu-id="b3607-974">Debug Diagnostic Tool v1.1</span></span>  
    [http://go.microsoft.com/fwlink/?linkid=106784](http://go.microsoft.com/fwlink/?linkid=106784)  
  
-   <span data-ttu-id="b3607-975">BizTalk メッセージのメモリの増加</span><span class="sxs-lookup"><span data-stu-id="b3607-975">Memory Growth in BizTalk Messaging</span></span>  
    [http://go.microsoft.com/fwlink/?linkid=108788](http://go.microsoft.com/fwlink/?linkid=108788)  
  
## <a name="biztalk-message-agent-database-session-throttling-analysis"></a><span data-ttu-id="b3607-976">BizTalk メッセージ エージェント データベース セッションの分析を調整</span><span class="sxs-lookup"><span data-stu-id="b3607-976">BizTalk Message Agent Database Session Throttling Analysis</span></span>  
 <span data-ttu-id="b3607-977">これは、調整設定の各 BizTalk と比較して、メッセージ ボックスを開いているデータベース接続の数です。</span><span class="sxs-lookup"><span data-stu-id="b3607-977">This is the number of open database connections to the MessageBox compared to its respective BizTalk throttling setting.</span></span> <span data-ttu-id="b3607-978">許可される制限が適用されます (CPU ごとの) 同時実行データベース セッションの最大数は、「データベースの CPU ごとの接続」です。</span><span class="sxs-lookup"><span data-stu-id="b3607-978">“Database connection per CPU” is the maximum number of concurrent database sessions (per CPU) allowed before throttling begins.</span></span> <span data-ttu-id="b3607-979">ホストごとの一般的なセッション プールのアイドル状態のデータベース セッションは、この数に含まれません。また、この確認処理は、ホスト インスタンスによって実際に使用されるセッションの数に厳密に基づいて実行されます。</span><span class="sxs-lookup"><span data-stu-id="b3607-979">The idle database sessions in the common per-host session pool do not add to this count, and this check is made strictly on the number of sessions actually being used by the host instance.</span></span> <span data-ttu-id="b3607-980">このオプションは、既定で無効です。通常、BizTalk Server システムでデータベース サーバーがボトルネックになる場合のみ、この設定を有効にする必要があります。</span><span class="sxs-lookup"><span data-stu-id="b3607-980">This option is disabled by default; typically this setting should only be enabled if the database server is a bottleneck in the BizTalk Server system.</span></span> <span data-ttu-id="b3607-981">BizTalk:Message Agent パフォーマンス オブジェクト カテゴリの下のデータベース セッションのパフォーマンス カウンターを使用して、アクティブなデータベース接続の数を監視できます。</span><span class="sxs-lookup"><span data-stu-id="b3607-981">You can monitor the number of active database connections by using the database session performance counter under the BizTalk:Message Agent performance object category.</span></span> <span data-ttu-id="b3607-982">このパラメーターは、送信メッセージの制限だけに影響します。</span><span class="sxs-lookup"><span data-stu-id="b3607-982">This parameter only affects outbound message throttling.</span></span> <span data-ttu-id="b3607-983">データベース セッションの数に基づいた制限を無効にするには、値 0 を入力してください。</span><span class="sxs-lookup"><span data-stu-id="b3607-983">Enter a value of 0 to disable throttling that is based on the number of database sessions.</span></span> <span data-ttu-id="b3607-984">既定値は 0 です。</span><span class="sxs-lookup"><span data-stu-id="b3607-984">The default value is 0.</span></span>  
  
 <span data-ttu-id="b3607-985">MaxWorkerThreads レジストリ キーは、BizTalk に使用できるスレッドの数の影響し、BizTalk のスレッドのほとんどがデータベース接続でビジー状態である場合に役立つ場合があります。</span><span class="sxs-lookup"><span data-stu-id="b3607-985">The MaxWorkerThreads registry key has influence on the number threads available to BizTalk and may help in the case where most of BizTalk’s threads are busy with database connections.</span></span> <span data-ttu-id="b3607-986">この分析では、メッセージ ボックス データベースへの開いているデータベース接続の数が、データベース セッションの制限の設定は、制限の条件が可能性を示す、80% を超えるかどうかを確認します。</span><span class="sxs-lookup"><span data-stu-id="b3607-986">This analysis checks whether the number of open database connections to the MessageBox are greater than 80 percent of the Database Session Throttling setting, indicating a throttling condition is likely.</span></span>  
  
### <a name="references"></a><span data-ttu-id="b3607-987">References</span><span class="sxs-lookup"><span data-stu-id="b3607-987">References</span></span>  
  
-   <span data-ttu-id="b3607-988">ホスト制限でパフォーマンス カウンター [http://go.microsoft.com/fwlink/?LinkID=155285](http://go.microsoft.com/fwlink/?LinkID=155285)</span><span class="sxs-lookup"><span data-stu-id="b3607-988">Host Throttling Performance Counters at [http://go.microsoft.com/fwlink/?LinkID=155285](http://go.microsoft.com/fwlink/?LinkID=155285)</span></span>  
  
-   <span data-ttu-id="b3607-989">アダプターのパフォーマンスに影響する構成パラメーター [http://go.microsoft.com/fwlink/?LinkID=154200](http://go.microsoft.com/fwlink/?LinkID=154200)</span><span class="sxs-lookup"><span data-stu-id="b3607-989">Configuration Parameters that Affect Adapter Performance at [http://go.microsoft.com/fwlink/?LinkID=154200](http://go.microsoft.com/fwlink/?LinkID=154200)</span></span>  
  
-   <span data-ttu-id="b3607-990">スレッド、DB セッションとの調整 [http://go.microsoft.com/fwlink/?linkid=106793](http://go.microsoft.com/fwlink/?linkid=106793)</span><span class="sxs-lookup"><span data-stu-id="b3607-990">Threads, DB sessions, and throttling at [http://go.microsoft.com/fwlink/?linkid=106793](http://go.microsoft.com/fwlink/?linkid=106793)</span></span>  
  
## <a name="biztalk-message-agent-database-session-throttling-threshold-analysis"></a><span data-ttu-id="b3607-991">BizTalk メッセージ エージェントのデータベース セッションが調整のしきい値の分析</span><span class="sxs-lookup"><span data-stu-id="b3607-991">BizTalk Message Agent Database Session Throttling Threshold Analysis</span></span>  
 <span data-ttu-id="b3607-992">これは、メッセージ ボックス データベースへの開いているデータベース接続の数の現在のしきい値です。</span><span class="sxs-lookup"><span data-stu-id="b3607-992">This is the current threshold for the number of open database connections to the MessageBox.</span></span> <span data-ttu-id="b3607-993">許可される制限が適用されます (CPU ごとの) 同時実行データベース セッションの最大数は、「データベースの CPU ごとの接続」です。</span><span class="sxs-lookup"><span data-stu-id="b3607-993">“Database connection per CPU” is the maximum number of concurrent database sessions (per CPU) allowed before throttling begins.</span></span> <span data-ttu-id="b3607-994">ホストごとの一般的なセッション プールのアイドル状態のデータベース セッションは、この数に含まれません。また、この確認処理は、ホスト インスタンスによって実際に使用されるセッションの数に厳密に基づいて実行されます。</span><span class="sxs-lookup"><span data-stu-id="b3607-994">The idle database sessions in the common per-host session pool do not add to this count, and this check is made strictly on the number of sessions actually being used by the host instance.</span></span> <span data-ttu-id="b3607-995">このオプションは、既定で無効です。通常、BizTalk Server システムでデータベース サーバーがボトルネックになる場合のみ、この設定を有効にする必要があります。</span><span class="sxs-lookup"><span data-stu-id="b3607-995">This option is disabled by default; typically this setting should only be enabled if the database server is a bottleneck in the BizTalk Server system.</span></span> <span data-ttu-id="b3607-996">BizTalk:Message Agent パフォーマンス オブジェクト カテゴリの下のデータベース セッションのパフォーマンス カウンターを使用して、アクティブなデータベース接続の数を監視できます。</span><span class="sxs-lookup"><span data-stu-id="b3607-996">You can monitor the number of active database connections by using the database session performance counter under the BizTalk:Message Agent performance object category.</span></span> <span data-ttu-id="b3607-997">このパラメーターは、送信メッセージの制限だけに影響します。</span><span class="sxs-lookup"><span data-stu-id="b3607-997">This parameter only affects outbound message throttling.</span></span> <span data-ttu-id="b3607-998">データベース セッションの数に基づいた制限を無効にするには、値 0 を入力してください。</span><span class="sxs-lookup"><span data-stu-id="b3607-998">Enter a value of 0 to disable throttling that is based on the number of database sessions.</span></span> <span data-ttu-id="b3607-999">既定値は 0 です。</span><span class="sxs-lookup"><span data-stu-id="b3607-999">The default value is 0.</span></span>  
  
 <span data-ttu-id="b3607-1000">MaxWorkerThreads レジストリ キーは、BizTalk に使用できるスレッドの数の影響し、BizTalk のスレッドのほとんどがデータベース接続でビジー状態である場合に役立つ場合があります。</span><span class="sxs-lookup"><span data-stu-id="b3607-1000">The MaxWorkerThreads registry key has influence on the number threads available to BizTalk and may help in the case where most of BizTalk’s threads are busy with database connections.</span></span> <span data-ttu-id="b3607-1001">この分析では、既定の設定から変更されているかどうかを確認するには、この値を確認します。</span><span class="sxs-lookup"><span data-stu-id="b3607-1001">This analysis checks this value to see whether it has been modified from its default setting.</span></span> <span data-ttu-id="b3607-1002">既定では、この設定は 0 で、データベース セッションの調整が無効になっていることを意味です。</span><span class="sxs-lookup"><span data-stu-id="b3607-1002">By default, this setting is 0, which means throttling on database sessions is disabled.</span></span>  
  
### <a name="references"></a><span data-ttu-id="b3607-1003">References</span><span class="sxs-lookup"><span data-stu-id="b3607-1003">References</span></span>  
  
-   <span data-ttu-id="b3607-1004">ホスト制限でパフォーマンス カウンター [http://go.microsoft.com/fwlink/?LinkID=155285](http://go.microsoft.com/fwlink/?LinkID=155285)</span><span class="sxs-lookup"><span data-stu-id="b3607-1004">Host Throttling Performance Counters at [http://go.microsoft.com/fwlink/?LinkID=155285](http://go.microsoft.com/fwlink/?LinkID=155285)</span></span>  
  
-   <span data-ttu-id="b3607-1005">アダプターのパフォーマンスに影響する構成パラメーター [http://go.microsoft.com/fwlink/?LinkID=154200](http://go.microsoft.com/fwlink/?LinkID=154200)</span><span class="sxs-lookup"><span data-stu-id="b3607-1005">Configuration Parameters that Affect Adapter Performance at [http://go.microsoft.com/fwlink/?LinkID=154200](http://go.microsoft.com/fwlink/?LinkID=154200)</span></span>  
  
-   <span data-ttu-id="b3607-1006">スレッド、DB セッションとの調整 [http://go.microsoft.com/fwlink/?linkid=106793](http://go.microsoft.com/fwlink/?linkid=106793)</span><span class="sxs-lookup"><span data-stu-id="b3607-1006">Threads, DB sessions, and throttling at [http://go.microsoft.com/fwlink/?linkid=106793](http://go.microsoft.com/fwlink/?linkid=106793)</span></span>  
  
## <a name="biztalk-message-agent-in-process-message-count-throttling-analysis"></a><span data-ttu-id="b3607-1007">BizTalk メッセージ エージェント インプロセス メッセージ数の分析の調整</span><span class="sxs-lookup"><span data-stu-id="b3607-1007">BizTalk Message Agent In-process Message Count Throttling Analysis</span></span>  
 <span data-ttu-id="b3607-1008">これは、サービス クラスが処理されている同時実行のメッセージの数です。</span><span class="sxs-lookup"><span data-stu-id="b3607-1008">This is the number of concurrent messages that the service class is processing.</span></span> <span data-ttu-id="b3607-1009">ホスト制限の設定で「プロセスでは、CPU あたりメッセージ」設定は、処理されていない、エンド ポイント マネージャー (EPM) または XLANG に配信されたメッセージの最大数です。</span><span class="sxs-lookup"><span data-stu-id="b3607-1009">The “In-process messages per CPU” setting in the Host Throttling Settings is the maximum number of messages delivered to the End Point Manager (EPM) or XLANG that have not been processed.</span></span> <span data-ttu-id="b3607-1010">これは、データベースから取得されましたが、インメモリ キューに配信の待機中のメッセージには含まれません。</span><span class="sxs-lookup"><span data-stu-id="b3607-1010">This does not include the messages retrieved from the database but still waiting for delivery in the in-memory queue.</span></span> <span data-ttu-id="b3607-1011">BizTalk:Message Agent パフォーマンス オブジェクト カテゴリの下でインプロセス メッセージ数パフォーマンス カウンターを使用して、インプロセス メッセージの数を監視できます。</span><span class="sxs-lookup"><span data-stu-id="b3607-1011">You can monitor the number of in-process messages by using the In-process message count performance counter under the BizTalk:Message Agent performance object category.</span></span> <span data-ttu-id="b3607-1012">制限の条件を確認する制限メカニズムは、このパラメーターの値を参考にします。</span><span class="sxs-lookup"><span data-stu-id="b3607-1012">This parameter provides a hint to the throttling mechanism for consideration of throttling conditions.</span></span> <span data-ttu-id="b3607-1013">実際のしきい値は、自律的に調整されます。</span><span class="sxs-lookup"><span data-stu-id="b3607-1013">The actual threshold is subject to self-tuning.</span></span> <span data-ttu-id="b3607-1014">インプロセス メッセージ数パフォーマンス カウンタを監視することによって、実際のしきい値を確認できます。</span><span class="sxs-lookup"><span data-stu-id="b3607-1014">You can verify the actual threshold by monitoring the In-process message count performance counter.</span></span>  
  
 <span data-ttu-id="b3607-1015">サイズの大きいメッセージ シナリオ (ここでメッセージの平均サイズが大きい、またはメッセージの処理に大量のメッセージのことがありますが必要)、このパラメーターは、小さい値に設定することができます。</span><span class="sxs-lookup"><span data-stu-id="b3607-1015">For large message scenarios (where either the average message size is high, or the processing of messages may require a large amount of messages), this parameter can be set to a smaller value.</span></span> <span data-ttu-id="b3607-1016">メモリ ベースの制限が多すぎるためが発生した場合と、メモリのしきい値は、非常に小さい値に自動調整を取得する場合は、サイズの大きいメッセージ シナリオが示されます。</span><span class="sxs-lookup"><span data-stu-id="b3607-1016">A large message scenario is indicated if memory-based throttling occurs too often and if the memory threshold gets auto-adjusted to a substantially low value.</span></span> <span data-ttu-id="b3607-1017">このような結果は、過度のメモリ消費を避けるため、送信トランスポートで同時に処理するメッセージを少なくする必要があることを示しています。</span><span class="sxs-lookup"><span data-stu-id="b3607-1017">Such behavior would indicate that the outbound transport should process fewer messages concurrently to avoid excessive memory usage.</span></span> <span data-ttu-id="b3607-1018">また、一度にいくつかのメッセージを処理すると効率性が向上するアダプター (同時接続を制限しているサーバーに送信する場合など) を使用しているシナリオでは、このパラメーターは、既定値よりも小さい値に設定できることがあります。</span><span class="sxs-lookup"><span data-stu-id="b3607-1018">Also, for scenarios where the adapter is more efficient when processing a few messages at a time (for example, when sending to a server that limits concurrent connections), this parameter may be tuned to a lower value than the default.</span></span> <span data-ttu-id="b3607-1019">この分析では、かどうかを同じ名前で制限の設定の 80% 以上が、制限の条件を示す可能性の高い、高のインプロセス メッセージ数カウンタを確認します。</span><span class="sxs-lookup"><span data-stu-id="b3607-1019">This analysis checks the High In-Process Message Count counter to determine whether it is greater than 80 percent of its throttling setting under the same name, which indicates a throttling condition is likely.</span></span>  
  
### <a name="references"></a><span data-ttu-id="b3607-1020">References</span><span class="sxs-lookup"><span data-stu-id="b3607-1020">References</span></span>  
  
-   <span data-ttu-id="b3607-1021">ホスト制限でパフォーマンス カウンター [http://go.microsoft.com/fwlink/?LinkID=155285](http://go.microsoft.com/fwlink/?LinkID=155285)</span><span class="sxs-lookup"><span data-stu-id="b3607-1021">Host Throttling Performance Counters at [http://go.microsoft.com/fwlink/?LinkID=155285](http://go.microsoft.com/fwlink/?LinkID=155285)</span></span>  
  
-   <span data-ttu-id="b3607-1022">既定のホスト制限の設定を変更する方法 [http://go.microsoft.com/fwlink/?LinkID=155296](http://go.microsoft.com/fwlink/?LinkID=155296)</span><span class="sxs-lookup"><span data-stu-id="b3607-1022">How to Modify the Default Host Throttling Settings at [http://go.microsoft.com/fwlink/?LinkID=155296](http://go.microsoft.com/fwlink/?LinkID=155296)</span></span>  
  
## <a name="biztalkmessage-agent-in-process-message-count-throttling-threshold-analysis"></a><span data-ttu-id="b3607-1023">BizTalk:Message エージェント プロセスでメッセージの数が調整のしきい値の分析</span><span class="sxs-lookup"><span data-stu-id="b3607-1023">BizTalk:Message Agent In-process Message Count Throttling Threshold Analysis</span></span>  
 <span data-ttu-id="b3607-1024">これは、サービス クラスが処理されている同時実行のメッセージの数の現在のしきい値です。</span><span class="sxs-lookup"><span data-stu-id="b3607-1024">This is the current threshold for the number of concurrent messages that the service class is processing.</span></span> <span data-ttu-id="b3607-1025">ホスト制限の設定で「プロセスでは、CPU あたりメッセージ」設定は、処理されていない、エンド ポイント マネージャー (EPM) または XLANG に配信されたメッセージの最大数です。</span><span class="sxs-lookup"><span data-stu-id="b3607-1025">The “In-process messages per CPU” setting in the Host Throttling Settings is the maximum number of messages delivered to the End Point Manager (EPM) or XLANG that have not been processed.</span></span> <span data-ttu-id="b3607-1026">これは、データベースから取得されましたが、インメモリ キューに配信の待機中のメッセージには含まれません。</span><span class="sxs-lookup"><span data-stu-id="b3607-1026">This does not include the messages retrieved from the database but still waiting for delivery in the in-memory queue.</span></span> <span data-ttu-id="b3607-1027">BizTalk:Message Agent パフォーマンス オブジェクト カテゴリの下でインプロセス メッセージ数パフォーマンス カウンターを使用して、インプロセス メッセージの数を監視できます。</span><span class="sxs-lookup"><span data-stu-id="b3607-1027">You can monitor the number of in-process messages by using the In-process message count performance counter under the BizTalk:Message Agent performance object category.</span></span> <span data-ttu-id="b3607-1028">制限の条件を確認する制限メカニズムは、このパラメーターの値を参考にします。</span><span class="sxs-lookup"><span data-stu-id="b3607-1028">This parameter provides a hint to the throttling mechanism for consideration of throttling conditions.</span></span> <span data-ttu-id="b3607-1029">実際のしきい値は、自律的に調整されます。</span><span class="sxs-lookup"><span data-stu-id="b3607-1029">The actual threshold is subject to self-tuning.</span></span> <span data-ttu-id="b3607-1030">インプロセス メッセージ数パフォーマンス カウンタを監視することによって、実際のしきい値を確認できます。</span><span class="sxs-lookup"><span data-stu-id="b3607-1030">You can verify the actual threshold by monitoring the In-process message count performance counter.</span></span>  
  
 <span data-ttu-id="b3607-1031">サイズの大きいメッセージ シナリオ (ここでメッセージの平均サイズが大きい、またはメッセージの処理に大量のメッセージのことがありますが必要)、このパラメーターは、小さい値に設定することができます。</span><span class="sxs-lookup"><span data-stu-id="b3607-1031">For large message scenarios (where either the average message size is high, or the processing of messages may require a large amount of messages), this parameter can be set to a smaller value.</span></span> <span data-ttu-id="b3607-1032">メモリ ベースの制限が多すぎるためが発生した場合と、メモリのしきい値は、非常に小さい値に自動調整を取得する場合は、サイズの大きいメッセージ シナリオが示されます。</span><span class="sxs-lookup"><span data-stu-id="b3607-1032">A large message scenario is indicated if memory-based throttling occurs too often and if the memory threshold gets auto-adjusted to a substantially low value.</span></span> <span data-ttu-id="b3607-1033">このような結果は、過度のメモリ消費を避けるため、送信トランスポートで同時に処理するメッセージを少なくする必要があることを示しています。</span><span class="sxs-lookup"><span data-stu-id="b3607-1033">Such behavior would indicate that the outbound transport should process fewer messages concurrently to avoid excessive memory usage.</span></span> <span data-ttu-id="b3607-1034">また、一度にいくつかのメッセージを処理すると効率性が向上するアダプター (同時接続を制限しているサーバーに送信する場合など) を使用しているシナリオでは、このパラメーターは、既定値よりも小さい値に設定できることがあります。</span><span class="sxs-lookup"><span data-stu-id="b3607-1034">Also, for scenarios where the adapter is more efficient when processing a few messages at a time (for example, when sending to a server that limits concurrent connections), this parameter may be tuned to a lower value than the default.</span></span> <span data-ttu-id="b3607-1035">この分析では、既定以外の値のしきい値を調整する高インプロセス メッセージの数を確認します。</span><span class="sxs-lookup"><span data-stu-id="b3607-1035">This analysis checks the High In-Process Message Count throttling threshold for a non-default value.</span></span>  
  
### <a name="references"></a><span data-ttu-id="b3607-1036">References</span><span class="sxs-lookup"><span data-stu-id="b3607-1036">References</span></span>  
  
-   <span data-ttu-id="b3607-1037">ホスト制限でパフォーマンス カウンター [http://go.microsoft.com/fwlink/?LinkID=155285](http://go.microsoft.com/fwlink/?LinkID=155285)</span><span class="sxs-lookup"><span data-stu-id="b3607-1037">Host Throttling Performance Counters at [http://go.microsoft.com/fwlink/?LinkID=155285](http://go.microsoft.com/fwlink/?LinkID=155285)</span></span>  
  
-   <span data-ttu-id="b3607-1038">既定のホスト制限の設定を変更する方法 [http://go.microsoft.com/fwlink/?LinkID=155296](http://go.microsoft.com/fwlink/?LinkID=155296)</span><span class="sxs-lookup"><span data-stu-id="b3607-1038">How to Modify the Default Host Throttling Settings at [http://go.microsoft.com/fwlink/?LinkID=155296](http://go.microsoft.com/fwlink/?LinkID=155296)</span></span>  
  
## <a name="biztalk-message-agent-process-memory-usage-mb-throttling-analysis"></a><span data-ttu-id="b3607-1039">BizTalk メッセージ エージェント プロセス メモリ使用量 (MB) の分析の調整</span><span class="sxs-lookup"><span data-stu-id="b3607-1039">BizTalk Message Agent Process Memory Usage (MB) Throttling Analysis</span></span>  
 <span data-ttu-id="b3607-1040">これは、現在のプロセス (MB) のメモリ使用量です。</span><span class="sxs-lookup"><span data-stu-id="b3607-1040">This is the memory usage of current process (MB).</span></span> <span data-ttu-id="b3607-1041">BizTalk プロセス メモリの制限は公開するバッチの急なメモリ要件がある場合、またはメッセージを処理しているスレッドが多すぎる場合に発生します。</span><span class="sxs-lookup"><span data-stu-id="b3607-1041">BizTalk process memory throttling can occur if the batch to be published has steep memory requirements, or if too many threads are processing messages.</span></span>  <span data-ttu-id="b3607-1042">過剰に制限する、システムが表示されたら、ホストのプロセス メモリ使用率のしきい値に関連付けられている値を増やすことを検討し、ホスト インスタンスで、「メモリ不足」エラーが発生しないことを確認してください。</span><span class="sxs-lookup"><span data-stu-id="b3607-1042">If the system appears to be over-throttling, consider increasing the value associated with the process memory usage threshold for the host and verify that the host instance does not generate an "out of memory" error.</span></span> <span data-ttu-id="b3607-1043">プロセス メモリ使用率のしきい値を増やすことで、「メモリ不足」エラーが発生する場合し、内部メッセージ キュー サイズの値を減らすことを検討し、プロセス内の CPU しきい値あたりのメッセージ。</span><span class="sxs-lookup"><span data-stu-id="b3607-1043">If an "out of memory" error is raised by increasing the process memory usage threshold, then consider reducing the values for the internal message queue size and in-process messages per CPU thresholds.</span></span> <span data-ttu-id="b3607-1044">この方法は、サイズの大きいメッセージを処理するシナリオに特に関連します。</span><span class="sxs-lookup"><span data-stu-id="b3607-1044">This strategy is particularly relevant in large message processing scenarios.</span></span>  
  
 <span data-ttu-id="b3607-1045">BizTalk server は、仮想メモリが不足して定期的に実行する場合は、BizTalk Server の 64年ビットを検討します。</span><span class="sxs-lookup"><span data-stu-id="b3607-1045">If your BizTalk server regularly runs out of virtual memory, then consider BizTalk Server 64-bit.</span></span> <span data-ttu-id="b3607-1046">64 ビット サーバー上の各プロセスによる対処に最大 4 TB の仮想メモリ 2 GB の 32 ビットのです。</span><span class="sxs-lookup"><span data-stu-id="b3607-1046">Each Process on 64-bit servers can address up to 4 TB’s of virtual memory versus the 2 GB’s in 32-bit.</span></span> <span data-ttu-id="b3607-1047">一般に、BizTalk を 64 ビットおよび 64 ビット SQL Server は強くお勧めします。</span><span class="sxs-lookup"><span data-stu-id="b3607-1047">In general, 64-bit BizTalk and 64-bit SQL Server is highly recommended.</span></span> <span data-ttu-id="b3607-1048">詳細については「BizTalk Server の 64 ビットのサポート」リファレンスを参照してください。</span><span class="sxs-lookup"><span data-stu-id="b3607-1048">See the “BizTalk Server 64-bit Support” reference for more information.</span></span> <span data-ttu-id="b3607-1049">この分析では、プロセス メモリ使用量が、同じ名前の対応調整しきい値の 80% を超えるかどうかを確認します。</span><span class="sxs-lookup"><span data-stu-id="b3607-1049">This analysis checks whether the process memory usage is greater than 80 percent of its respective throttling threshold of the same name.</span></span> <span data-ttu-id="b3607-1050">既定では、調整設定、BizTalk プロセス メモリ使用量は、プロセスで使用できる仮想メモリの 25% です。</span><span class="sxs-lookup"><span data-stu-id="b3607-1050">By default, the BizTalk Process Memory Usage throttling setting is 25 percent of the virtual memory available to the process.</span></span> <span data-ttu-id="b3607-1051">3 GB スイッチは、この設定に影響を与えません。</span><span class="sxs-lookup"><span data-stu-id="b3607-1051">The /3GB switch has no effect on this setting.</span></span>  
  
### <a name="references"></a><span data-ttu-id="b3607-1052">References</span><span class="sxs-lookup"><span data-stu-id="b3607-1052">References</span></span>  
  
-   <span data-ttu-id="b3607-1053">BizTalk Server がホストに制限を実装する方法 [http://go.microsoft.com/fwlink/?LinkID=155286](http://go.microsoft.com/fwlink/?LinkID=155286)</span><span class="sxs-lookup"><span data-stu-id="b3607-1053">How BizTalk Server Implements Host Throttling at [http://go.microsoft.com/fwlink/?LinkID=155286](http://go.microsoft.com/fwlink/?LinkID=155286)</span></span>  
  
-   <span data-ttu-id="b3607-1054">既定のホスト制限の設定を変更する方法 [http://go.microsoft.com/fwlink/?LinkID=155296](http://go.microsoft.com/fwlink/?LinkID=155296)</span><span class="sxs-lookup"><span data-stu-id="b3607-1054">How to Modify the Default Host Throttling Settings at [http://go.microsoft.com/fwlink/?LinkID=155296](http://go.microsoft.com/fwlink/?LinkID=155296)</span></span>  
  
-   <span data-ttu-id="b3607-1055">メモリをリークしているは、プロセスのメモリ ダンプをキャプチャする方法 [http://go.microsoft.com/fwlink/?LinkId=155305](http://go.microsoft.com/fwlink/?LinkId=155305)</span><span class="sxs-lookup"><span data-stu-id="b3607-1055">How to Capture a Memory Dump of a Process that is Leaking Memory at [http://go.microsoft.com/fwlink/?LinkId=155305](http://go.microsoft.com/fwlink/?LinkId=155305)</span></span>  
  
-   <span data-ttu-id="b3607-1056">BizTalk Server の 64 ビット サポート [http://go.microsoft.com/fwlink/?LinkId=155306](http://go.microsoft.com/fwlink/?LinkId=155306)</span><span class="sxs-lookup"><span data-stu-id="b3607-1056">BizTalk Server 64-bit Support at [http://go.microsoft.com/fwlink/?LinkId=155306](http://go.microsoft.com/fwlink/?LinkId=155306)</span></span>  
  
## <a name="biztalkmessage-agent-process-memory-usage-mb-throttling-threshold-analysis"></a><span data-ttu-id="b3607-1057">BizTalk:Message Agent プロセス メモリ使用量 (MB) しきい値分析の調整</span><span class="sxs-lookup"><span data-stu-id="b3607-1057">BizTalk:Message Agent Process Memory Usage (MB) Throttling Threshold Analysis</span></span>  
 <span data-ttu-id="b3607-1058">これは、現在のプロセス (MB) のメモリ使用量の現在のしきい値です。</span><span class="sxs-lookup"><span data-stu-id="b3607-1058">This is the current threshold for the memory usage of current process (MB).</span></span> <span data-ttu-id="b3607-1059">このプロセスとのメモリ消費のパターンに使用可能なメモリの実際の容量に応じて、しきい値を動的に調整する可能性があります。</span><span class="sxs-lookup"><span data-stu-id="b3607-1059">The threshold may be dynamically adjusted depending on the actual amount of memory available to this process and its memory consumption pattern.</span></span> <span data-ttu-id="b3607-1060">BizTalk プロセス メモリの制限は公開するバッチの急なメモリ要件がある場合、またはメッセージを処理しているスレッドが多すぎる場合に発生します。</span><span class="sxs-lookup"><span data-stu-id="b3607-1060">BizTalk process memory throttling can occur if the batch to be published has steep memory requirements, or if too many threads are processing messages.</span></span> <span data-ttu-id="b3607-1061">過剰に制限する、システムが表示されたら、ホストのプロセス メモリ使用率のしきい値に関連付けられている値を増やすことを検討し、ホスト インスタンスで、「メモリ不足」エラーが発生しないことを確認してください。</span><span class="sxs-lookup"><span data-stu-id="b3607-1061">If the system appears to be over-throttling, consider increasing the value associated with the process memory usage threshold for the host and verify that the host instance does not generate an "out of memory" error.</span></span> <span data-ttu-id="b3607-1062">プロセス メモリ使用率のしきい値を増やすことで、「メモリ不足」エラーが発生する場合し、内部メッセージ キュー サイズの値を減らすことを検討し、プロセス内の CPU しきい値あたりのメッセージ。</span><span class="sxs-lookup"><span data-stu-id="b3607-1062">If an "out of memory" error is raised by increasing the process memory usage threshold, then consider reducing the values for the internal message queue size and in-process messages per CPU thresholds.</span></span> <span data-ttu-id="b3607-1063">この方法は、サイズの大きいメッセージを処理するシナリオに特に関連します。</span><span class="sxs-lookup"><span data-stu-id="b3607-1063">This strategy is particularly relevant in large message processing scenarios.</span></span>  
  
 <span data-ttu-id="b3607-1064">BizTalk server は、仮想メモリが不足して定期的に実行する場合は、BizTalk Server の 64年ビットを検討します。</span><span class="sxs-lookup"><span data-stu-id="b3607-1064">If your BizTalk server regularly runs out of virtual memory, then consider BizTalk Server 64-bit.</span></span> <span data-ttu-id="b3607-1065">64 ビット サーバー上の各プロセスによる対処に最大 4 TB の仮想メモリ 2 GB の 32 ビットのです。</span><span class="sxs-lookup"><span data-stu-id="b3607-1065">Each Process on 64-bit servers can address up to 4 TB’s of virtual memory versus the 2 GB’s in 32-bit.</span></span> <span data-ttu-id="b3607-1066">一般に、BizTalk を 64 ビットおよび 64 ビット SQL Server は強くお勧めします。</span><span class="sxs-lookup"><span data-stu-id="b3607-1066">In general, 64-bit BizTalk and 64-bit SQL Server is highly recommended.</span></span> <span data-ttu-id="b3607-1067">詳細については「BizTalk Server の 64 ビットのサポート」リファレンスを参照してください。</span><span class="sxs-lookup"><span data-stu-id="b3607-1067">See the “BizTalk Server 64-bit Support” reference for more information.</span></span> <span data-ttu-id="b3607-1068">この分析では、プロセス メモリの制限が既定以外の値に設定するかどうかを確認します。</span><span class="sxs-lookup"><span data-stu-id="b3607-1068">This analysis checks whether the Process memory throttling is set to a non-default value.</span></span>  
  
### <a name="references"></a><span data-ttu-id="b3607-1069">References</span><span class="sxs-lookup"><span data-stu-id="b3607-1069">References</span></span>  
  
-   <span data-ttu-id="b3607-1070">BizTalk Server がホストに制限を実装する方法 [http://go.microsoft.com/fwlink/?LinkID=155286](http://go.microsoft.com/fwlink/?LinkID=155286)</span><span class="sxs-lookup"><span data-stu-id="b3607-1070">How BizTalk Server Implements Host Throttling at [http://go.microsoft.com/fwlink/?LinkID=155286](http://go.microsoft.com/fwlink/?LinkID=155286)</span></span>  
  
-   <span data-ttu-id="b3607-1071">既定のホスト制限の設定を変更する方法 [http://go.microsoft.com/fwlink/?LinkID=155296](http://go.microsoft.com/fwlink/?LinkID=155296)</span><span class="sxs-lookup"><span data-stu-id="b3607-1071">How to Modify the Default Host Throttling Settings at [http://go.microsoft.com/fwlink/?LinkID=155296](http://go.microsoft.com/fwlink/?LinkID=155296)</span></span>  
  
-   <span data-ttu-id="b3607-1072">メモリをリークしているは、プロセスのメモリ ダンプをキャプチャする方法 [http://go.microsoft.com/fwlink/?LinkId=155305](http://go.microsoft.com/fwlink/?LinkId=155305)</span><span class="sxs-lookup"><span data-stu-id="b3607-1072">How to Capture a Memory Dump of a Process that is Leaking Memory at [http://go.microsoft.com/fwlink/?LinkId=155305](http://go.microsoft.com/fwlink/?LinkId=155305)</span></span>  
  
-   <span data-ttu-id="b3607-1073">BizTalk Server の 64 ビット サポート [http://go.microsoft.com/fwlink/?LinkId=155306](http://go.microsoft.com/fwlink/?LinkId=155306)</span><span class="sxs-lookup"><span data-stu-id="b3607-1073">BizTalk Server 64-bit Support at [http://go.microsoft.com/fwlink/?LinkId=155306](http://go.microsoft.com/fwlink/?LinkId=155306)</span></span>