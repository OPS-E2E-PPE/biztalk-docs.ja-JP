---
title: ログ (PAL) ツールのパフォーマンス分析を使用して |Microsoft Docs
ms.custom: ''
ms.date: 06/08/2017
ms.prod: biztalk-server
ms.reviewer: ''
ms.suite: ''
ms.tgt_pltfrm: ''
ms.topic: article
ms.assetid: d563aa7d-102d-4fe6-a892-66794feaf83b
caps.latest.revision: 3
author: MandiOhlinger
ms.author: mandia
manager: anneta
ms.openlocfilehash: 889cbe2a88859eec82f76d0eec309865bf727bfe
ms.sourcegitcommit: 266308ec5c6a9d8d80ff298ee6051b4843c5d626
ms.translationtype: MT
ms.contentlocale: ja-JP
ms.lasthandoff: 06/27/2018
ms.locfileid: "37024568"
---
# <a name="using-the-performance-analysis-of-logs-pal-tool"></a><span data-ttu-id="cc6b8-102">ログ (PAL) ツールのパフォーマンス分析を使用します。</span><span class="sxs-lookup"><span data-stu-id="cc6b8-102">Using the Performance Analysis of Logs (PAL) Tool</span></span>
<span data-ttu-id="cc6b8-103">PAL (パフォーマンス分析のログ) ツールでは、パフォーマンス モニター カウンター ログ (任意の既知形式) に読み取りし、(提供)、複雑なが既知のしきい値を使用してを分析します。</span><span class="sxs-lookup"><span data-stu-id="cc6b8-103">The PAL (Performance Analysis of Logs) tool reads in a performance monitor counter log (any known format) and analyzes it using complex, but known thresholds (provided).</span></span> <span data-ttu-id="cc6b8-104">ツールでは、HTML ベース レポートをグラフィカルにグラフの重要なパフォーマンス カウンターのしきい値を超えた場合にアラートをスローしますが生成されます。</span><span class="sxs-lookup"><span data-stu-id="cc6b8-104">The tool generates an HTML based report that graphically charts important performance counters and throws alerts when thresholds are exceeded.</span></span> <span data-ttu-id="cc6b8-105">しきい値がなど、マイクロソフト製品チームによって定義されたしきい値に基づく最初[!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)]Microsoft のメンバーをサポートします。</span><span class="sxs-lookup"><span data-stu-id="cc6b8-105">The thresholds are originally based on thresholds defined by the Microsoft product teams, including [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)], and members of Microsoft support.</span></span> <span data-ttu-id="cc6b8-106">このツールは、従来のパフォーマンス分析の交換ではありませんが、パフォーマンス カウンター ログのに十分な時間を節約するための分析を自動化します。</span><span class="sxs-lookup"><span data-stu-id="cc6b8-106">This tool is not a replacement of traditional performance analysis, but it automates the analysis of performance counter logs enough to help save you time.</span></span> <span data-ttu-id="cc6b8-107">PAL ツール:</span><span class="sxs-lookup"><span data-stu-id="cc6b8-107">The PAL tool:</span></span>  

- <span data-ttu-id="cc6b8-108">しきい値のパフォーマンス カウンターのログを分析します。</span><span class="sxs-lookup"><span data-stu-id="cc6b8-108">Analyzes performance counter logs for thresholds</span></span>  

- <span data-ttu-id="cc6b8-109">大きな Perfmon のログに役立ちます</span><span class="sxs-lookup"><span data-stu-id="cc6b8-109">Is helpful for large Perfmon logs</span></span>  

- <span data-ttu-id="cc6b8-110">識別[!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)]としきい値を分析することでオペレーティング システム パフォーマンス カウンターのボトルネック</span><span class="sxs-lookup"><span data-stu-id="cc6b8-110">Identifies [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] and operating system performance counter bottlenecks by analyzing for thresholds</span></span>  

- <span data-ttu-id="cc6b8-111">パフォーマンス カウンターに対して分析を実行するように拡張します。</span><span class="sxs-lookup"><span data-stu-id="cc6b8-111">Is extensible to do analysis on any performance counters</span></span>  

- <span data-ttu-id="cc6b8-112">独自のカウンターを作成する方法についても使用できます。</span><span class="sxs-lookup"><span data-stu-id="cc6b8-112">Can be used to help write your own counter</span></span>  

  <span data-ttu-id="cc6b8-113">PAL はから無償でダウンロードとして入手できます[ http://go.microsoft.com/fwlink/?linkid=98098](http://go.microsoft.com/fwlink/?linkid=98098)します。</span><span class="sxs-lookup"><span data-stu-id="cc6b8-113">PAL is available as a free download at [http://go.microsoft.com/fwlink/?linkid=98098](http://go.microsoft.com/fwlink/?linkid=98098).</span></span> <span data-ttu-id="cc6b8-114">Microsoft Log Parser が必要です。</span><span class="sxs-lookup"><span data-stu-id="cc6b8-114">It requires Microsoft Log Parser.</span></span> <span data-ttu-id="cc6b8-115">Log Parser は強力な多目的ツールなど、イベント ログ、レジストリ、ファイル システム、およびアクティブな Windows オペレーティング システムのログ ファイル、XML ファイル、および CSV ファイル、および主要なデータ ソースなどのテキスト ベースのデータへの汎用クエリ アクセスを提供します。Directory® ディレクトリ サービスです。</span><span class="sxs-lookup"><span data-stu-id="cc6b8-115">Log Parser is a powerful, versatile tool that provides universal query access to text-based data such as log files, XML files, and CSV files, as well as key data sources on the Windows operating system such as the event log, the registry, the file system, and Active Directory® directory service.</span></span> <span data-ttu-id="cc6b8-116">このツールを使用して大量のログ情報を照会する可能性があります。</span><span class="sxs-lookup"><span data-stu-id="cc6b8-116">You may want to use this tool to query a significant amount of logging information.</span></span> <span data-ttu-id="cc6b8-117">Log Parser ツールをダウンロードする[ http://go.microsoft.com/fwlink/?linkid=85574](http://go.microsoft.com/fwlink/?linkid=85574)します。</span><span class="sxs-lookup"><span data-stu-id="cc6b8-117">You can download the Log Parser tool at [http://go.microsoft.com/fwlink/?linkid=85574](http://go.microsoft.com/fwlink/?linkid=85574).</span></span>  

## <a name="using-pal-with-performance-counter-logs-in-different-languages"></a><span data-ttu-id="cc6b8-118">PAL をパフォーマンス カウンターを使用してさまざまな言語でログに記録します。</span><span class="sxs-lookup"><span data-stu-id="cc6b8-118">Using PAL with Performance Counter Logs in Different Languages</span></span>  
 <span data-ttu-id="cc6b8-119">PAL ツールでは、英語でのみのパフォーマンス カウンターのログを分析します。</span><span class="sxs-lookup"><span data-stu-id="cc6b8-119">The PAL tool analyzes performance counter logs only in English language.</span></span> <span data-ttu-id="cc6b8-120">PAL ツールを使用して、他の言語でのパフォーマンス カウンターのログで、最初英語にログを翻訳する必要があります。</span><span class="sxs-lookup"><span data-stu-id="cc6b8-120">To use the PAL tool with performance counter logs in other languages, you must first translate the logs to English language.</span></span> <span data-ttu-id="cc6b8-121">使用することができます、 **Perfmon のログのトランスレーター**ツールで使用可能な[ http://go.microsoft.com/fwlink/?LinkId=158802 ](http://go.microsoft.com/fwlink/?LinkId=158802)を英語に元のパフォーマンス カウンター ログ ファイルを変換します。</span><span class="sxs-lookup"><span data-stu-id="cc6b8-121">You can use the **Perfmon Log Translator** tool available at [http://go.microsoft.com/fwlink/?LinkId=158802](http://go.microsoft.com/fwlink/?LinkId=158802) to translate the original performance counter log files to English.</span></span>  

## <a name="understanding-the-pal-tool-report-for-microsoft-biztalk-server-2010"></a><span data-ttu-id="cc6b8-122">Microsoft BizTalk Server 2010 の PAL ツールのレポートをについてください。</span><span class="sxs-lookup"><span data-stu-id="cc6b8-122">Understanding the PAL Tool Report for Microsoft BizTalk Server 2010</span></span>  
 <span data-ttu-id="cc6b8-123">PAL ツールが、Microsoft SQL Server、Windows オペレーティング システムのしきい値の Perfmon のログ分析を提供し、[!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)]します。</span><span class="sxs-lookup"><span data-stu-id="cc6b8-123">The PAL tool provides Perfmon log analysis of thresholds for the Windows operating system, Microsoft SQL Server, and [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)].</span></span> <span data-ttu-id="cc6b8-124">このセクションでは、PAL ツールで、BizTalk Server のしきい値のレポートの分析のほとんどについて説明します。</span><span class="sxs-lookup"><span data-stu-id="cc6b8-124">This section describes most of the analyses in the BizTalk Server threshold report in the PAL tool.</span></span>  

> [!NOTE]  
>  <span data-ttu-id="cc6b8-125">PAL ツールに関する総合的な情報を簡単に参照の 1 つの場所に格納できるように、このトピックでは長表示になります。</span><span class="sxs-lookup"><span data-stu-id="cc6b8-125">This topic is long so that comprehensive information about the PAL tool can be contained in one place for easy reference.</span></span>  

 <span data-ttu-id="cc6b8-126">次の分析としきい値は、PAL ツールによって報告されます。</span><span class="sxs-lookup"><span data-stu-id="cc6b8-126">The following analysis and thresholds are reported by the PAL tool.</span></span>  


|                                <span data-ttu-id="cc6b8-127">分析の種類と名前</span><span class="sxs-lookup"><span data-stu-id="cc6b8-127">Analysis Type and Name</span></span>                                 |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                       <span data-ttu-id="cc6b8-128">解析の説明</span><span class="sxs-lookup"><span data-stu-id="cc6b8-128">Analysis Description</span></span>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        |
|---------------------------------------------------------------------------------------|---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
|                        <span data-ttu-id="cc6b8-129">ディスク: ディスクの空き領域のカーネル ダンプ</span><span class="sxs-lookup"><span data-stu-id="cc6b8-129">Disk: Disk Free Space for a Kernel Dump</span></span>                        |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  <span data-ttu-id="cc6b8-130">この分析は、オペレーティング システム ディスクにすべてのメモリ ダンプに十分な空きディスク領域があることを確認することを確認します。</span><span class="sxs-lookup"><span data-stu-id="cc6b8-130">This analysis checks to make sure there is enough free disk space for the operating system to dump all memory to disk.</span></span> <span data-ttu-id="cc6b8-131">十分なディスク空き領域がある場合、オペレーティング システムは memory.dmp、これはカーネル ダンプの根本原因を分析するために必要なファイルの作成に失敗します。</span><span class="sxs-lookup"><span data-stu-id="cc6b8-131">If insufficient disk space is available, then the operating system will fail to create a memory.dmp, file which is necessary to analyze the root cause of a kernel dump.</span></span>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  |
|                    <span data-ttu-id="cc6b8-132">ディスク: 論理/物理ディスクのインターフェイスの分析</span><span class="sxs-lookup"><span data-stu-id="cc6b8-132">Disk: Logical/Physical Disk Interface Analysis</span></span>                     |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <span data-ttu-id="cc6b8-133">この分析の各物理ディスクのアイドル時間を見ます。</span><span class="sxs-lookup"><span data-stu-id="cc6b8-133">This analysis looks at the idle time of each of the physical disks.</span></span> <span data-ttu-id="cc6b8-134">アイドル状態のディスクが、ディスクの使用は低くなります。</span><span class="sxs-lookup"><span data-stu-id="cc6b8-134">The more idle the disk is, the less the disk is being used.</span></span> <span data-ttu-id="cc6b8-135">論理ディスクで 1 つのディスクを使用する場合、このカウンターは適しています。</span><span class="sxs-lookup"><span data-stu-id="cc6b8-135">This counter is best used when one disk is used in the logical disk.</span></span> <span data-ttu-id="cc6b8-136">"% Idle Time"サンプリングの合間にディスクがアイドル状態に時間の比率を報告します。</span><span class="sxs-lookup"><span data-stu-id="cc6b8-136">“% Idle Time” reports the percentage of time during the sample interval that the disk was idle.</span></span><br /><br /> <span data-ttu-id="cc6b8-137">参照: で、ディスクの制限の問題は除きます [http://go.microsoft.com/fwlink/?linkid=50669](http://go.microsoft.com/fwlink/?linkid=50669)</span><span class="sxs-lookup"><span data-stu-id="cc6b8-137">Reference:  Ruling Out Disk-Bound Problems at [http://go.microsoft.com/fwlink/?linkid=50669](http://go.microsoft.com/fwlink/?linkid=50669)</span></span>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    |
|                <span data-ttu-id="cc6b8-138">ディスク: 論理/物理ディスクの読み取り/書き込み待機時間の分析</span><span class="sxs-lookup"><span data-stu-id="cc6b8-138">Disk: Logical/Physical Disk Read/Write Latency Analysis</span></span>                |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <span data-ttu-id="cc6b8-139">ディスク パフォーマンスのボトルネックを検出するために Windows の最も信頼性の高い方法は、その応答時間を測定することによってです。</span><span class="sxs-lookup"><span data-stu-id="cc6b8-139">The most reliable way for Windows to detect a disk performance bottleneck is by measuring its response times.</span></span> <span data-ttu-id="cc6b8-140">応答時間が安全なしきい値には、.025 (25 ミリ秒単位) を超える顕著なスローダウンとユーザーに影響を与えるパフォーマンスの問題を発生する可能性が。</span><span class="sxs-lookup"><span data-stu-id="cc6b8-140">If the response times are greater than .025 (25 milliseconds), which is a conservative threshold, then noticeable slow-downs and performance issues affecting users may be occurring.</span></span> <span data-ttu-id="cc6b8-141">詳細については、このトピックの「論理/物理ディスクの読み取り/書き込み待機時間分析を参照してください。</span><span class="sxs-lookup"><span data-stu-id="cc6b8-141">For more information, refer to Logical/Physical Disk Read/Write Latency Analysis in this topic.</span></span>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                |
|                           <span data-ttu-id="cc6b8-142">論理ディスクの転送/秒のディスク:</span><span class="sxs-lookup"><span data-stu-id="cc6b8-142">Disk: Logical Disk Transfers/sec</span></span>                            |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            <span data-ttu-id="cc6b8-143">「ディスク転送/秒」は読み取り率、ディスクに対する書き込み操作とします。</span><span class="sxs-lookup"><span data-stu-id="cc6b8-143">“Disk Transfers/sec” is the rate of read and write operations on the disk.</span></span> <span data-ttu-id="cc6b8-144">かどうかの論理ディスクのいずれかを確認するには、この分析チェックのしきい値が表示されて応答時間の低下 (I/O 操作の応答時間を 25 ミリ秒より大きい)。</span><span class="sxs-lookup"><span data-stu-id="cc6b8-144">The thresholds for this analysis check to see whether any of the logical disks are showing poor response times (greater than 25 ms response times for I/O operations).</span></span> <span data-ttu-id="cc6b8-145">これが true の場合は、80 以降で、1 秒あたりのディスクの転送はある必要があります。</span><span class="sxs-lookup"><span data-stu-id="cc6b8-145">If this is true, then the disk transfers per second should be at or above 80.</span></span> <span data-ttu-id="cc6b8-146">それ以外の場合は、ディスクのアーキテクチャを調査する必要があります。</span><span class="sxs-lookup"><span data-stu-id="cc6b8-146">If not, then the disk architecture needs to be investigated.</span></span> <span data-ttu-id="cc6b8-147">不適切なディスク I/O の最も一般的な原因は、LUN が、SAN でオーバー ロードが可能です。</span><span class="sxs-lookup"><span data-stu-id="cc6b8-147">The most common cause of poor disk I/O is LUN overloading on the SAN.</span></span> <span data-ttu-id="cc6b8-148">詳細については、このトピックの「論理ディスクの転送/秒を参照してください。</span><span class="sxs-lookup"><span data-stu-id="cc6b8-148">For more information, refer to Logical Disk Transfers/sec in this topic.</span></span>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            |
|                            <span data-ttu-id="cc6b8-149">ディスク: LogicalDisk % Free Space</span><span class="sxs-lookup"><span data-stu-id="cc6b8-149">Disk: LogicalDisk % Free Space</span></span>                             |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 <span data-ttu-id="cc6b8-150">"% の空き領域"は、選択した論理ディスク ドライブに空きが使用可能な領域の合計の割合です。</span><span class="sxs-lookup"><span data-stu-id="cc6b8-150">“% Free Space” is the percentage of total usable space that was free on the selected logical disk drive.</span></span> <span data-ttu-id="cc6b8-151">パフォーマンスは、ディスク ドライブの空き領域が 30% 未満になるまでにない影響する必要があります。</span><span class="sxs-lookup"><span data-stu-id="cc6b8-151">Performance should not be affected until the available disk drive space is less than 30 percent.</span></span> <span data-ttu-id="cc6b8-152">ディスク ドライブの 70% を使用すると、残りの空き領域が配置されている近く下位のパフォーマンス レベルで機能します。 ディスク ドライブの中央に、ディスクのスピンドルに。</span><span class="sxs-lookup"><span data-stu-id="cc6b8-152">When 70 percent of the disk drive is used, the remaining free space is located closer to the disk's spindle at the center of the disk drive, which operates at a lower performance level.</span></span> <span data-ttu-id="cc6b8-153">ディスクの空き領域がないことには、重大なディスク パフォーマンスを可能性があります。</span><span class="sxs-lookup"><span data-stu-id="cc6b8-153">Lack of free disk space can cause severe disk performance.</span></span><br /><br /> <span data-ttu-id="cc6b8-154">参照: NT Server とのディスク サブシステムのパフォーマンス [http://go.microsoft.com/fwlink/?linkid=106783](http://go.microsoft.com/fwlink/?linkid=106783)</span><span class="sxs-lookup"><span data-stu-id="cc6b8-154">Reference:  NT Server and Disk Subsystem Performance at [http://go.microsoft.com/fwlink/?linkid=106783](http://go.microsoft.com/fwlink/?linkid=106783)</span></span>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 |
|   <span data-ttu-id="cc6b8-155">ディスク: IO Data operations/sec の処理し、I/O 操作数/秒の分析の他の処理</span><span class="sxs-lookup"><span data-stu-id="cc6b8-155">Disk: Process IO Data Operations/sec and Process IO Other Operations/sec Analysis</span></span>   |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            <span data-ttu-id="cc6b8-156">これらのカウンターは、ファイル、ネットワーク デバイスの I/o など、プロセスによって生成されるすべての I/O アクティビティをカウントします。</span><span class="sxs-lookup"><span data-stu-id="cc6b8-156">These counters count all I/O activity generated by the process to include file, network and device I/Os.</span></span> <span data-ttu-id="cc6b8-157">これらの分析は、プロセスが実行されては 1,000 を超える/O が 1 秒あたりのおよび警告としてフラグを設定するときに確認します。</span><span class="sxs-lookup"><span data-stu-id="cc6b8-157">These analyses check when processes are doing more than 1,000 I/O’s per second and flag it as a warning.</span></span> <span data-ttu-id="cc6b8-158">これらの分析は、I/O アクティビティに関連するプロセスを判断する最適なディスクの分析などの他の分析との相関関係で使用されます。</span><span class="sxs-lookup"><span data-stu-id="cc6b8-158">These analyses are best used in correlation with other analyses such as disk analysis to determine which processes might be involved in the I/O activity.</span></span>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            |
|                               <span data-ttu-id="cc6b8-159">メモリ: 使用可能なメモリ</span><span class="sxs-lookup"><span data-stu-id="cc6b8-159">Memory: Available Memory</span></span>                                |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             <span data-ttu-id="cc6b8-160">この分析は、使用可能なメモリの合計が低 – 10% が使用可能な警告かどうかをチェックと 5% の使用可能な重要な。</span><span class="sxs-lookup"><span data-stu-id="cc6b8-160">This analysis checks whether the total available memory is low – Warning at 10 percent available and Critical at 5 percent available.</span></span> <span data-ttu-id="cc6b8-161">警告は 1 時間あたり 10 mb の下降傾向が検出された場合、潜在的な予定されているメモリの状態を示していることにも警告します。</span><span class="sxs-lookup"><span data-stu-id="cc6b8-161">A warning is also alerted when a decreasing trend of 10 MB’s per hour is detected, which can indicate a potential upcoming memory condition.</span></span> <span data-ttu-id="cc6b8-162">物理メモリの不足には、増加の特権モード CPU、システムが遅れる可能性があります。</span><span class="sxs-lookup"><span data-stu-id="cc6b8-162">Low physical memory can cause increased privileged mode CPU and system delays.</span></span> <span data-ttu-id="cc6b8-163">詳細については、このトピックで使用可能な MemoryAnalysis を参照してください。</span><span class="sxs-lookup"><span data-stu-id="cc6b8-163">For more information, refer to Available MemoryAnalysis in this topic.</span></span>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              |
|                        <span data-ttu-id="cc6b8-164">メモリ: 空きシステム ページ テーブル エントリ</span><span class="sxs-lookup"><span data-stu-id="cc6b8-164">Memory: Free System Page Table Entries</span></span>                         |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <span data-ttu-id="cc6b8-165">空きシステム ページ テーブル エントリ (PTE) は、システムによって使用されていないページ テーブル エントリの数です。</span><span class="sxs-lookup"><span data-stu-id="cc6b8-165">Free System Page Table Entries (PTE’s) are the number of page table entries not currently used by the system.</span></span> <span data-ttu-id="cc6b8-166">この分析は、10,000 人未満の空き PTE がある場合 5,000 名未満無料 PTE の警告が認識されているかどうかを確認して、PTE の外にシステムが実行されているかどうかを判断します。</span><span class="sxs-lookup"><span data-stu-id="cc6b8-166">This analysis determines whether the system is running out of PTE’s by checking whether there are fewer than 5,000 free PTE’s with a Warning if there are fewer than 10,000 free PTE’s.</span></span> <span data-ttu-id="cc6b8-167">十分な PTE の不足は、システム全体がハングする可能性があります。</span><span class="sxs-lookup"><span data-stu-id="cc6b8-167">Lack of enough PTE’s can result in systemwide hangs.</span></span> <span data-ttu-id="cc6b8-168">3 GB スイッチは無料の PTE の量を大幅に下げるされます。</span><span class="sxs-lookup"><span data-stu-id="cc6b8-168">Also note that the /3GB switch will lower the amount of free PTE’s significantly.</span></span> <span data-ttu-id="cc6b8-169">詳細については、このトピックの「空きシステム ページ テーブル エントリの分析を参照してください。</span><span class="sxs-lookup"><span data-stu-id="cc6b8-169">For more information, refer to Free System Page Table Entries Analysis in this topic.</span></span>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 |
|                             <span data-ttu-id="cc6b8-170">メモリ: メモリ リークの検出</span><span class="sxs-lookup"><span data-stu-id="cc6b8-170">Memory: Memory Leak Detection</span></span>                             |                                                                                                                                                                                                                                                                                                                                                                                             <span data-ttu-id="cc6b8-171">この分析は、大量のシステムのメモリを消費、プロセスのいずれかどうかと、プロセスがメモリの消費時間の経過と共に増加するかどうかを決定します。</span><span class="sxs-lookup"><span data-stu-id="cc6b8-171">This analysis determines whether any of the processes are consuming a large amount of the system's memory and whether the process is increasing in memory consumption over time.</span></span> <span data-ttu-id="cc6b8-172">メモリの大部分を消費しているプロセスは、プロセスがシステムにメモリを返す限り問題ありません。</span><span class="sxs-lookup"><span data-stu-id="cc6b8-172">A process consuming large portions of memory is fine as long as the process returns the memory back to the system.</span></span> <span data-ttu-id="cc6b8-173">グラフの傾向を高めるためになります。</span><span class="sxs-lookup"><span data-stu-id="cc6b8-173">Look for increasing trends in the chart.</span></span> <span data-ttu-id="cc6b8-174">長期間にわたって上昇傾向は、メモリ リークである可能性があります。</span><span class="sxs-lookup"><span data-stu-id="cc6b8-174">An increasing trend over a long period of time could indicate a memory leak.</span></span> <span data-ttu-id="cc6b8-175">"Private Bytes"は、このプロセスによって割り当てられ、他のプロセスと共有できないメモリのバイト単位で、現在のサイズです。</span><span class="sxs-lookup"><span data-stu-id="cc6b8-175">“Private Bytes” is the current size, in bytes, of memory that this process has allocated that cannot be shared with other processes.</span></span> <span data-ttu-id="cc6b8-176">この分析は、1 時間あたりの 10 の MB、1 時間の増加傾向 MB の 5 をチェックします。</span><span class="sxs-lookup"><span data-stu-id="cc6b8-176">This analysis checks for 10 MB’s per hour and 5 MB’s per hour increasing trends.</span></span> <span data-ttu-id="cc6b8-177">PAL で使用可能なメモリの分析との相関関係では、この分析を使用します。</span><span class="sxs-lookup"><span data-stu-id="cc6b8-177">Use this analysis in correlation with the Available Memory analysis in PAL.</span></span> <span data-ttu-id="cc6b8-178">詳細については、このトピックでメモリ リークの検出分析を参照してください。</span><span class="sxs-lookup"><span data-stu-id="cc6b8-178">For more information, refer to Memory Leak Detection Analysis in this topic.</span></span>                                                                                                                                                                                                                                                                                                                                                                                              |
|                             <span data-ttu-id="cc6b8-179">メモリ: ハンドル リークの検出</span><span class="sxs-lookup"><span data-stu-id="cc6b8-179">Memory: Handle Leak Detection</span></span>                             |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  <span data-ttu-id="cc6b8-180">この分析は、すべての各ハンドルの数を決定するプロセスが開いていると、ハンドル リークが発生するかどうかを判断するが疑われる場合を確認します。</span><span class="sxs-lookup"><span data-stu-id="cc6b8-180">This analysis checks all of the processes to determine how many handles each has open and to determine whether a handle leak is suspected.</span></span> <span data-ttu-id="cc6b8-181">ハンドルや、積極的な上昇傾向の数が多いプロセスは、ハンドル リーク、メモリ リークが通常である可能性があります。</span><span class="sxs-lookup"><span data-stu-id="cc6b8-181">A process with a large number of handles and/or an aggressive upward trend could indicate a handle leak, which typically results in a memory leak.</span></span> <span data-ttu-id="cc6b8-182">このプロセスで現在開いているハンドルの合計数は、このプロセスでは、各スレッドが現在開いているハンドルの合計に等しい。</span><span class="sxs-lookup"><span data-stu-id="cc6b8-182">The total number of handles currently open by this process is equal to the sum of the handles currently open by each thread in this process.</span></span><br /><br /> <span data-ttu-id="cc6b8-183">参照: デバッグでの診断ツール v1.1 [http://go.microsoft.com/fwlink/?linkid=106784](http://go.microsoft.com/fwlink/?linkid=106784)</span><span class="sxs-lookup"><span data-stu-id="cc6b8-183">Reference:  Debug Diagnostic Tool v1.1 at [http://go.microsoft.com/fwlink/?linkid=106784](http://go.microsoft.com/fwlink/?linkid=106784)</span></span>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  |
|                            <span data-ttu-id="cc6b8-184">メモリ: メモリ Pages input/sec</span><span class="sxs-lookup"><span data-stu-id="cc6b8-184">Memory: Memory Pages Input/sec</span></span>                             |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      <span data-ttu-id="cc6b8-185">「1 秒あたりの入力ページ」ハード ページ フォールトを解決するのにはディスクから読み取ったはページの率です。</span><span class="sxs-lookup"><span data-stu-id="cc6b8-185">“Pages Input/sec” is the rate at which pages are read from disk to resolve hard page faults.</span></span> <span data-ttu-id="cc6b8-186">ハード ページ フォールトは、プロセスが、ワーキング セットまたは物理メモリの別の場所は、ディスクから取得する必要がありますの仮想メモリ内のページを参照するときに発生します。</span><span class="sxs-lookup"><span data-stu-id="cc6b8-186">Hard page faults occur when a process refers to a page in virtual memory that is not in its working set or elsewhere in physical memory, and must be retrieved from disk.</span></span> <span data-ttu-id="cc6b8-187">この分析は、1 秒あたり 10 個を超えるページ ファイルの読み取りがあるかどうかを確認します。</span><span class="sxs-lookup"><span data-stu-id="cc6b8-187">This analysis checks whether there are more than 10 page file reads per second.</span></span>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                       |
|                               <span data-ttu-id="cc6b8-188">メモリ: メモリのページ/秒</span><span class="sxs-lookup"><span data-stu-id="cc6b8-188">Memory: Memory Pages/sec</span></span>                                |                                                                                                                                                                                                                                                                                                                                                                                <span data-ttu-id="cc6b8-189">この分析は、「ページ/秒」が高い (1,000) を上回っているかどうかを確認します。</span><span class="sxs-lookup"><span data-stu-id="cc6b8-189">This analysis checks to see whether the “Pages/sec” is high (above 1,000).</span></span> <span data-ttu-id="cc6b8-190">高い場合は、システムは可能性がありますメモリが不足ページ メモリがディスクにしようとしています。</span><span class="sxs-lookup"><span data-stu-id="cc6b8-190">If it is high, then the system is likely running out of memory by trying to page the memory to the disk.</span></span> <span data-ttu-id="cc6b8-191">「1 秒あたりのページ数」では、ページの読み取り、ハード ページ フォールトを解決するのにはディスクに書き込まれる位置の率です。</span><span class="sxs-lookup"><span data-stu-id="cc6b8-191">“Pages/sec” is the rate at which pages are read from or written to disk to resolve hard page faults.</span></span> <span data-ttu-id="cc6b8-192">このカウンターは、システム全体の遅延を引き起こすフォールトのプライマリ インジケーターです。</span><span class="sxs-lookup"><span data-stu-id="cc6b8-192">This counter is a primary indicator of the kinds of faults that cause systemwide delays.</span></span>  <span data-ttu-id="cc6b8-193">使用可能なメモリや PAL 内のメモリ リークの検出分析との相関関係では、この分析を使用します。</span><span class="sxs-lookup"><span data-stu-id="cc6b8-193">Use this analysis in correlation with Available Memory analysis and Memory Leak Detection analysis in PAL.</span></span> <span data-ttu-id="cc6b8-194">同時にすべてこれらの分析の警告をスローしている、し、この可能性があります、システムのメモリが不足し、疑いのあるプロセスが関係し、PAL でメモリ リークの検出分析に記載された手順分析。</span><span class="sxs-lookup"><span data-stu-id="cc6b8-194">If all of these analyses are throwing alerts at the same time, then this may indicate the system is running out of memory and the suspected processes involved and follow analysis steps mentioned in the Memory Leak Detection analysis in PAL.</span></span><br /><br /> <span data-ttu-id="cc6b8-195">詳細については、このトピックでのメモリ ページ数/秒の分析を参照してください。</span><span class="sxs-lookup"><span data-stu-id="cc6b8-195">For more information, refer to Memory Pages/sec Analysis in this topic.</span></span>                                                                                                                                                                                                                                                                                                                                                                                 |
|                      <span data-ttu-id="cc6b8-196">メモリ: メモリ システム キャッシュの常駐バイト数</span><span class="sxs-lookup"><span data-stu-id="cc6b8-196">Memory: Memory System Cache Resident Bytes</span></span>                       |                                                                                                                                                                                                                                                                                                                                      <span data-ttu-id="cc6b8-197">「システム キャッシュの常駐バイト」は、サイズ、ファイル システム キャッシュ内のオペレーティング システムのページング可能なコードのバイト単位です。</span><span class="sxs-lookup"><span data-stu-id="cc6b8-197">“System Cache Resident Bytes” is the size, in bytes, of the pageable operating system code in the file system cache.</span></span> <span data-ttu-id="cc6b8-198">この値は、現在の物理ページのみが含まれています、現在常駐していない仮想メモリ ページには含まれません。</span><span class="sxs-lookup"><span data-stu-id="cc6b8-198">This value includes only current physical pages and does not include any virtual memory pages not currently resident.</span></span> <span data-ttu-id="cc6b8-199">この値は、コンポーネントの"メモリ\\\System コードの常駐バイト数"を表す、物理メモリになっているすべてのオペレーティング システムのページング可能なコードです。</span><span class="sxs-lookup"><span data-stu-id="cc6b8-199">This value is a component of “Memory\\\System Code Resident Bytes” which represents all pageable operating system code that is currently in physical memory.</span></span> <span data-ttu-id="cc6b8-200">このカウンタは、最後に計測された値のみを表示します。平均ではありません。</span><span class="sxs-lookup"><span data-stu-id="cc6b8-200">This counter displays the last observed value only; it is not an average.</span></span> <span data-ttu-id="cc6b8-201">この分析は、この制限の設定が既定以外の値に設定されているかどうかを確認します。</span><span class="sxs-lookup"><span data-stu-id="cc6b8-201">This analysis checks for an increasing trend of 10 MB’s per hour.</span></span> <span data-ttu-id="cc6b8-202">論理/物理ディスク読み取り/書き込み待機時間の分析</span><span class="sxs-lookup"><span data-stu-id="cc6b8-202">Under load, a server might use the system cache in order to cache I/O activity such as disk.</span></span> <span data-ttu-id="cc6b8-203">不適切なディスクの待機時間の一般的な原因は、パフォーマンスのキャッシュ ディスクの断片化、over、SAN を飽和状態と、ディスク上の負荷が大きすぎます。</span><span class="sxs-lookup"><span data-stu-id="cc6b8-203">Use in correlation with Process IO Data Operations/sec and Process IO Other Operations/sec analyses in PAL.</span></span><br /><br /> <span data-ttu-id="cc6b8-204">SPA ツールを使用して、最上位ファイルとディスクを使用してプロセスを識別できるようにします。 [http://go.microsoft.com/fwlink/?linkid=106786](http://go.microsoft.com/fwlink/?linkid=106786)</span><span class="sxs-lookup"><span data-stu-id="cc6b8-204">Reference: File Cache Performance and Tuning at [http://go.microsoft.com/fwlink/?linkid=106786](http://go.microsoft.com/fwlink/?linkid=106786)</span></span>                                                                                                                                                                                                                                                                                                                                      |
|                             <span data-ttu-id="cc6b8-205">チェック、"プロセス IO Data operations/sec"と「プロセス IO その他の操作数/秒」も最もディスクを消費しているプロセスを表示する I/O の</span><span class="sxs-lookup"><span data-stu-id="cc6b8-205">Memory: Pool Non Paged Bytes</span></span>                              |                                                                                                                                                                                                                                                                                                                                                                             <span data-ttu-id="cc6b8-206">パフォーマンス モニター カウンターがどのファイルがかかわるを指定することがないことに留意してください。</span><span class="sxs-lookup"><span data-stu-id="cc6b8-206">“Pool Nonpaged Bytes” is the size, in bytes, of the non-paged pool, an area of system memory for objects that cannot be written to disk, but must remain in physical memory as long as they are allocated.</span></span> <span data-ttu-id="cc6b8-207">ディスクの制限の問題を取り除く</span><span class="sxs-lookup"><span data-stu-id="cc6b8-207">This analysis checks to see whether the system is coming close to the maximum pool non paged memory size.</span></span> <span data-ttu-id="cc6b8-208">は、Microsoft のサーバー パフォーマンス アドバイザー (SPA) ツールを使用してディスクのパフォーマンスのボトルネックを特定する方法</span><span class="sxs-lookup"><span data-stu-id="cc6b8-208">It does this by estimating the pool sizes taking into consideration /3GB, physical memory size, and 32-bit/64-bit, then determining whether the value is higher than 60 percent of the estimated pool size.</span></span> <span data-ttu-id="cc6b8-209">Microsoft サービス Performance Advisor (SPA) のダウンロードの詳細。</span><span class="sxs-lookup"><span data-stu-id="cc6b8-209">If the system becomes close to the maximum size, then the system could experience system wide hangs.</span></span><br /><br /> <span data-ttu-id="cc6b8-210">論理ディスク転送数/秒</span><span class="sxs-lookup"><span data-stu-id="cc6b8-210">The /3GB switch option in the boot.ini file significantly reduces the size of this memory pool.</span></span><br /><br /> <span data-ttu-id="cc6b8-211">ディスクの転送がディスクに直接的な相関関係ではありません/O のこれらの操作を行いますお聞かせディスク操作の数が発生しています。</span><span class="sxs-lookup"><span data-stu-id="cc6b8-211">For more information, refer to Pool Non-Paged Bytes Analysis in this topic.</span></span>                                                                                                                                                                                                                                                                                                                                                                             |
|                               <span data-ttu-id="cc6b8-212">シーケンシャル平均である場合は/O のランダムは O のして最終的に約 80 は/は/O あたり 2 番目の一般的な経験則として。</span><span class="sxs-lookup"><span data-stu-id="cc6b8-212">Memory: Pool Paged Bytes</span></span>                                |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      <span data-ttu-id="cc6b8-213">そのためは 80 以上を実行する SAN ドライブが予想される/の下の 2 番目の when あたり O を読み込みます。</span><span class="sxs-lookup"><span data-stu-id="cc6b8-213">This analysis checks to see whether the system is coming close to the maximum pool paged memory size.</span></span> <span data-ttu-id="cc6b8-214">は、Microsoft のサーバー パフォーマンス アドバイザー (SPA) ツールを使用してディスクのパフォーマンスのボトルネックを特定する方法</span><span class="sxs-lookup"><span data-stu-id="cc6b8-214">It does this by estimating the pool sizes taking into consideration /3GB, physical memory size, and 32-bit/64-bit, then determining whether the value is higher than 60 percent of the estimated pool size.</span></span> <span data-ttu-id="cc6b8-215">Microsoft サービス Performance Advisor (SPA) のダウンロードの詳細。</span><span class="sxs-lookup"><span data-stu-id="cc6b8-215">If the system becomes close to the maximum size, then the system could experience system wide hangs.</span></span><br /><br /> <span data-ttu-id="cc6b8-216">論理ディスク転送数/秒</span><span class="sxs-lookup"><span data-stu-id="cc6b8-216">The /3GB switch option in the boot.ini file significantly reduces the size of this memory pool.</span></span><br /><br /> <span data-ttu-id="cc6b8-217">これが true の場合は、80 以上にする 1 秒あたりのディスクの転送と予想しますされます。</span><span class="sxs-lookup"><span data-stu-id="cc6b8-217">For more information, refer to Pool Paged Bytes Analysis in this topic.</span></span>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                       |
|                             <span data-ttu-id="cc6b8-218">不適切なディスク I/O の最も一般的な原因は、論理ユニット番号 (LUN) の意味は、複数の LUN が少数の物理ディスクの配列を使用して、条件、SAN のオーバー ロードです。</span><span class="sxs-lookup"><span data-stu-id="cc6b8-218">Memory: Process Thread Count</span></span>                              |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     <span data-ttu-id="cc6b8-219">NT サーバーとディスク サブシステムのパフォーマンスに</span><span class="sxs-lookup"><span data-stu-id="cc6b8-219">This analysis checks all of the processes to determine whether a process has more than 500 threads and if the number of threads is increasing by 50 threads per hour.</span></span> <span data-ttu-id="cc6b8-220">使用可能なメモリの分析</span><span class="sxs-lookup"><span data-stu-id="cc6b8-220">A process with a large number of threads and/or an aggressive upward trend could indicate a thread leak which typically results in either a memory leak or high context switching.</span></span> <span data-ttu-id="cc6b8-221">"利用可能な Mb"では、メガバイト単位で、コンピューターで実行されているプロセスに使用できる物理メモリの量です。</span><span class="sxs-lookup"><span data-stu-id="cc6b8-221">High context switching will result in high privileged mode CPU.</span></span>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      |
|                              <span data-ttu-id="cc6b8-222">メモリ: プロセスのワーキング セット</span><span class="sxs-lookup"><span data-stu-id="cc6b8-222">Memory: Process Working Set</span></span>                              |                                                                                                                                                                                                                                                                                                                                                                                          <span data-ttu-id="cc6b8-223">「ワーキング セット」はこのプロセスのワーキング セットのバイト単位で、現在のサイズ。</span><span class="sxs-lookup"><span data-stu-id="cc6b8-223">“Working Set” is the current size, in bytes, of the working set of this process.</span></span> <span data-ttu-id="cc6b8-224">ワーキング セットは、プロセスのスレッドが最近使用したメモリ ページのセットです。</span><span class="sxs-lookup"><span data-stu-id="cc6b8-224">The working set is the set of memory pages touched recently by the threads in the process.</span></span> <span data-ttu-id="cc6b8-225">コンピューターの空きメモリのしきい値を超える場合は、ページは、使用されていない場合でも、プロセスのワーキング セットに残されます。</span><span class="sxs-lookup"><span data-stu-id="cc6b8-225">If free memory in the computer is above a threshold, pages are left in the working set of a process even if they are not in use.</span></span> <span data-ttu-id="cc6b8-226">空きメモリがしきい値を下回った場合は、ワーキング セットからページがトリミングします。</span><span class="sxs-lookup"><span data-stu-id="cc6b8-226">When free memory falls below a threshold, pages are trimmed from working sets.</span></span> <span data-ttu-id="cc6b8-227">必要な場合、されるワーキング セットに論理的なエラーとなったメイン メモリから出る前にします。</span><span class="sxs-lookup"><span data-stu-id="cc6b8-227">If they are needed they will then be soft-faulted back into the working set before leaving main memory.</span></span> <span data-ttu-id="cc6b8-228">この分析は、10 mb の上昇傾向または各プロセスの詳細をチェックします。</span><span class="sxs-lookup"><span data-stu-id="cc6b8-228">This analysis checks for an increasing trend of 10 MB’s or more in each of the processes.</span></span> <span data-ttu-id="cc6b8-229">PAL で使用可能なメモリの分析と相関関係で使用します。</span><span class="sxs-lookup"><span data-stu-id="cc6b8-229">Use in correlation with Available Memory analysis in PAL.</span></span><br /><br /> <span data-ttu-id="cc6b8-230">参照: でメモリのボトルネックの検出 [http://go.microsoft.com/fwlink/?linkid=106787](http://go.microsoft.com/fwlink/?linkid=106787)</span><span class="sxs-lookup"><span data-stu-id="cc6b8-230">Reference:  Detecting Memory Bottlenecks at [http://go.microsoft.com/fwlink/?linkid=106787](http://go.microsoft.com/fwlink/?linkid=106787)</span></span>                                                                                                                                                                                                                                                                                                                                                                                           |
|                     <span data-ttu-id="cc6b8-231">ネットワーク: ネットワーク出力キューの長さの分析</span><span class="sxs-lookup"><span data-stu-id="cc6b8-231">Network: Network Output Queue Length Analysis</span></span>                     |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      <span data-ttu-id="cc6b8-232">この分析は、ネットワーク アダプターを待機しているスレッドの数を確認します。</span><span class="sxs-lookup"><span data-stu-id="cc6b8-232">This analysis checks to see how many threads are waiting on the network adapter.</span></span> <span data-ttu-id="cc6b8-233">場合は、多くのスレッドを待機しているネットワーク アダプター、ネットワーク待ち時間またはネットワーク帯域幅のため、ネットワーク I/O はおそらく、システムに飽和します。</span><span class="sxs-lookup"><span data-stu-id="cc6b8-233">If a lot of threads are waiting on the network adapter, then the system is probably saturating the network I/O due to network latency or network bandwidth.</span></span> <span data-ttu-id="cc6b8-234">"Output Queue Length"では、パケット単位で出力パケット キューの長さです。</span><span class="sxs-lookup"><span data-stu-id="cc6b8-234">“Output Queue Length” is the length of the output packet queue (in packets).</span></span> <span data-ttu-id="cc6b8-235">遅延が示されます。 これは、2 より長い場合と、ボトルネックを見つけ、可能であれば、除去する必要があります。</span><span class="sxs-lookup"><span data-stu-id="cc6b8-235">Delays are indicated if this is longer than two, and the bottleneck should be found and eliminated, if possible.</span></span> <span data-ttu-id="cc6b8-236">ネットワーク出力キューの一般的な原因には、多数小さなネットワーク要求とネットワークの待機時間にはが含まれます。</span><span class="sxs-lookup"><span data-stu-id="cc6b8-236">Typical causes of network output queuing include high numbers of small network requests and network latency.</span></span>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      |
|                         <span data-ttu-id="cc6b8-237">ネットワーク: ネットワーク使用率の分析</span><span class="sxs-lookup"><span data-stu-id="cc6b8-237">Network: Network Utilization Analysis</span></span>                         |                                                                                                                                                                                                                                                                                                                                   <span data-ttu-id="cc6b8-238">"Bytes total/sec"では、フレーム文字を含む、各ネットワーク アダプタ上で送受信されるバイトの率です。</span><span class="sxs-lookup"><span data-stu-id="cc6b8-238">“Bytes Total/sec” is the rate at which bytes are sent and received over each network adapter, including framing characters.</span></span> <span data-ttu-id="cc6b8-239">"Network interface \bytes received/sec"は、"Network interface \bytes received/sec"および"Network interface \bytes sent/sec"の合計です。</span><span class="sxs-lookup"><span data-stu-id="cc6b8-239">“Network Interface\Bytes Received/sec” is a sum of “Network Interface\Bytes Received/sec” and “Network Interface\Bytes Sent/sec”.</span></span> <span data-ttu-id="cc6b8-240">このカウンターでは、ネットワーク アダプターでトラフィックが飽和状態にするかどうかと、別のネットワーク アダプターを追加する必要があるかどうかを把握するのに役立ちます。</span><span class="sxs-lookup"><span data-stu-id="cc6b8-240">This counter helps you know whether the traffic at your network adapter is saturated and whether you need to add another network adapter.</span></span> <span data-ttu-id="cc6b8-241">型に依存する問題を特定したどの程度の速度と帯域幅を他のアプリケーションと共有するかどうかがあるネットワークの。</span><span class="sxs-lookup"><span data-stu-id="cc6b8-241">How quickly you can identify a problem depends on the type of network you have as well as whether you share bandwidth with other applications.</span></span> <span data-ttu-id="cc6b8-242">この分析は、bits を"Bytes total/sec"に変換し、ネットワーク使用率を計算するネットワーク アダプターの現在の帯域幅を比較します。</span><span class="sxs-lookup"><span data-stu-id="cc6b8-242">This analysis converts “Bytes Total/sec” to bits and compares it to the current bandwidth of the network adapter to calculate network utilization.</span></span> <span data-ttu-id="cc6b8-243">次に、50% を超えた使用率を確認します。</span><span class="sxs-lookup"><span data-stu-id="cc6b8-243">Next, it checks for utilization above 50 percent.</span></span><br /><br /> <span data-ttu-id="cc6b8-244">参照: での .NET アプリケーション パフォーマンスを測定します。 [http://go.microsoft.com/fwlink/?linkid=106788](http://go.microsoft.com/fwlink/?linkid=106788)</span><span class="sxs-lookup"><span data-stu-id="cc6b8-244">Reference:  Measuring .NET Application Performance at [http://go.microsoft.com/fwlink/?linkid=106788](http://go.microsoft.com/fwlink/?linkid=106788)</span></span>                                                                                                                                                                                                                                                                                                                                    |
|                   <span data-ttu-id="cc6b8-245">Paging File: ページング ファイルの使用率と %usage peak カウンター</span><span class="sxs-lookup"><span data-stu-id="cc6b8-245">Paging File: Paging File % Usage and % Usage Peak</span></span>                   |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          <span data-ttu-id="cc6b8-246">% で使用されているページ ファイル インスタンスの量。</span><span class="sxs-lookup"><span data-stu-id="cc6b8-246">The amount of the page file instance in use in percent.</span></span> <span data-ttu-id="cc6b8-247">参照してください"プロセス\\\Page ファイルのバイト数"です。</span><span class="sxs-lookup"><span data-stu-id="cc6b8-247">See also “Process\\\Page File Bytes”.</span></span> <span data-ttu-id="cc6b8-248">この分析は、使用量の割合が 70% を超えるかどうかを確認します。</span><span class="sxs-lookup"><span data-stu-id="cc6b8-248">This analysis checks whether the percentage of usage is greater than 70 percent.</span></span>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           |
|  <span data-ttu-id="cc6b8-249">プロセッサ: プロセッサ使用率の分析とプロセスによって過剰なプロセッサの使用</span><span class="sxs-lookup"><span data-stu-id="cc6b8-249">Processor: Processor Utilization Analysis and Excessive Processor Use by Processes</span></span>   |                                                                                                                                                                                                                                                                                                                                                                                                                                                          <span data-ttu-id="cc6b8-250">このカウンターはプロセッサ アクティビティのプライマリ インジケーターであり、サンプリング間隔中に測定されたビジー時間の割合の平均値を表示します。</span><span class="sxs-lookup"><span data-stu-id="cc6b8-250">This counter is the primary indicator of processor activity and displays the average percentage of busy time observed during the sample interval.</span></span> <span data-ttu-id="cc6b8-251">サービスがアクティブでない時間を監視し、その値を 100% から引いて計算されます。</span><span class="sxs-lookup"><span data-stu-id="cc6b8-251">It is calculated by monitoring the time that the service is inactive and subtracting that value from 100 percent.</span></span> <span data-ttu-id="cc6b8-252">この分析は、各プロセッサの 60% を超える使用率をチェックします。</span><span class="sxs-lookup"><span data-stu-id="cc6b8-252">This analysis checks for utilization greater than 60 percent on each processor.</span></span> <span data-ttu-id="cc6b8-253">そうである場合は、高度なユーザー モード CPU または高特権モードであるかを決定します。</span><span class="sxs-lookup"><span data-stu-id="cc6b8-253">If so, determine whether it is high user mode CPU or high privileged mode.</span></span> <span data-ttu-id="cc6b8-254">高い特権モード CPU が疑われる場合、PAL 内の特権モード CPU 分析を参照してください。</span><span class="sxs-lookup"><span data-stu-id="cc6b8-254">If high privileged mode CPU is suspected, then see the Privileged Mode CPU analysis in PAL.</span></span> <span data-ttu-id="cc6b8-255">ユーザー モードのプロセッサのボトルネックが疑いがある場合は、高い CPU 消費率が発生した関数を分析するプロセスのプロファイラーを使用し、検討してください。</span><span class="sxs-lookup"><span data-stu-id="cc6b8-255">If a user-mode processor bottleneck is suspected, then consider using a process profiler to analyze the functions causing the high CPU consumption.</span></span>                                                                                                                                                                                                                                                                                                                                                                                                                                                           |
|                           <span data-ttu-id="cc6b8-256">プロセッサ: プロセッサ キューの長さ</span><span class="sxs-lookup"><span data-stu-id="cc6b8-256">Processor: Processor Queue Length</span></span>                           |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            <span data-ttu-id="cc6b8-257">この分析は、平均プロセッサ キューの長さがプロセッサの数を超えるかどうかを判断します。</span><span class="sxs-lookup"><span data-stu-id="cc6b8-257">This analysis determines whether the average processor queue length exceeds the number of processors.</span></span> <span data-ttu-id="cc6b8-258">そうである場合は、プロセッサのボトルネックをあるこの可能性があります。</span><span class="sxs-lookup"><span data-stu-id="cc6b8-258">If so, then this could indicate a processor bottleneck.</span></span> <span data-ttu-id="cc6b8-259">PAL 内のプロセスの分析での特権モードの CPU の分析とプロセッサを使いすぎるとの相関関係では、この分析を使用します。</span><span class="sxs-lookup"><span data-stu-id="cc6b8-259">Use this analysis in correlation with Privileged Mode CPU analysis and Excessive Processor Use by Process analysis in PAL.</span></span> <span data-ttu-id="cc6b8-260">詳細については、このトピックの「プロセッサ キュー長さ分析を参照してください。</span><span class="sxs-lookup"><span data-stu-id="cc6b8-260">For detailed information, refer to Processor Queue Length Analysis in this topic.</span></span>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             |
|                       <span data-ttu-id="cc6b8-261">プロセッサ: 特権モードの CPU の分析</span><span class="sxs-lookup"><span data-stu-id="cc6b8-261">Processor:  Privileged Mode CPU Analysis</span></span>                        |                                                                                                                                                                                                                                                                                                                                                                                                                                        <span data-ttu-id="cc6b8-262">このカウンターは、スレッドが特権モードで実行時間の割合を示します。</span><span class="sxs-lookup"><span data-stu-id="cc6b8-262">This counter indicates the percentage of time a thread runs in privileged mode.</span></span> <span data-ttu-id="cc6b8-263">アプリケーション (たとえば、ファイルまたはネットワーク I/O を実行する、またはメモリを割り当てるなど) のオペレーティング システム関数を呼び出すときに、これらのオペレーティング システム関数が特権モードで実行されます。</span><span class="sxs-lookup"><span data-stu-id="cc6b8-263">When your application calls operating system functions (for example to perform file or network I/O or to allocate memory), these operating system functions are executed in privileged mode.</span></span> <span data-ttu-id="cc6b8-264">この分析は、CPU の合計の 30% 以上の特権モード CPU 消費しているかどうかを確認します。</span><span class="sxs-lookup"><span data-stu-id="cc6b8-264">This analysis checks to see whether privileged mode CPU is consuming more than 30 percent of total CPU.</span></span> <span data-ttu-id="cc6b8-265">CPU 消費率が高いし、そのため場合、は、ネットワーク、メモリ、ディスク I/O など、プロセッサ以外の別のボトルネックによって発生します。</span><span class="sxs-lookup"><span data-stu-id="cc6b8-265">If so, then the CPU consumption is likely caused by another bottleneck other than the processor such as network, memory, or disk I/O.</span></span> <span data-ttu-id="cc6b8-266">プロセッサとの相関関係で使用: % Interrupt Time およびプロセッサ: PAL 内の解析の高いコンテキストの切り替え。</span><span class="sxs-lookup"><span data-stu-id="cc6b8-266">Use in correlation with Processor:  % Interrupt Time and Processor:  High Context Switching analyses in PAL.</span></span> <span data-ttu-id="cc6b8-267">詳細については、このトピックの「特権モードの CPU 分析を参照してください。</span><span class="sxs-lookup"><span data-stu-id="cc6b8-267">For more information, refer to Privileged Mode CPU Analysis in this topic.</span></span>                                                                                                                                                                                                                                                                                                                                                                                                                                         |
|                               <span data-ttu-id="cc6b8-268">割り込み時間のプロセッサ。</span><span class="sxs-lookup"><span data-stu-id="cc6b8-268">Processor: Interrupt Time</span></span>                               |                                                                                                                                                                                                                                                                        <span data-ttu-id="cc6b8-269">"% の割り込み時間の"はサンプリング間隔中にハードウェアの割り込みを受け取って、プロセッサが費やす時間します。</span><span class="sxs-lookup"><span data-stu-id="cc6b8-269">“% Interrupt Time” is the time the processor spends receiving and servicing hardware interrupts during sample intervals.</span></span> <span data-ttu-id="cc6b8-270">この値は、システム クロック、マウス、ディスク ドライバ、データ通信ライン、ネットワーク インターフェイス カードおよびその他の周辺機器など割り込みを発生するデバイスのアクティビティの間接的に示します。</span><span class="sxs-lookup"><span data-stu-id="cc6b8-270">This value is an indirect indicator of the activity of devices that generate interrupts, such as the system clock, the mouse, disk drivers, data communication lines, network interface cards and other peripheral devices.</span></span> <span data-ttu-id="cc6b8-271">これらデバイスによるプロセッサへの割り込みは、通常タスクが完了または注意を必要としたときに発生します。</span><span class="sxs-lookup"><span data-stu-id="cc6b8-271">These devices normally interrupt the processor when they have completed a task or require attention.</span></span> <span data-ttu-id="cc6b8-272">割り込みの間に通常のスレッドの実行が中断されます。</span><span class="sxs-lookup"><span data-stu-id="cc6b8-272">Normal thread execution is suspended during interrupts.</span></span> <span data-ttu-id="cc6b8-273">システム クロックのほとんどは、割り込み処理状況のバック グラウンドを作成しながら、10 ミリ秒ごと、プロセッサを中断します。</span><span class="sxs-lookup"><span data-stu-id="cc6b8-273">Most system clocks interrupt the processor every 10 milliseconds, creating a background of interrupt activity.</span></span> <span data-ttu-id="cc6b8-274">このカウンターが大幅に向上では、潜在的なハードウェアの問題を示します。</span><span class="sxs-lookup"><span data-stu-id="cc6b8-274">A dramatic increase in this counter indicates potential hardware problems.</span></span> <span data-ttu-id="cc6b8-275">この分析を確認します「% Interrupt Time」30% を超える。</span><span class="sxs-lookup"><span data-stu-id="cc6b8-275">This analysis checks for “% Interrupt Time” greater than 30 percent.</span></span> <span data-ttu-id="cc6b8-276">この場合、このアラートに関連しているハードウェアのデバイス ドライバーを更新し、検討してください。</span><span class="sxs-lookup"><span data-stu-id="cc6b8-276">If this occurs, then consider updating devices drivers for hardware that correlates to this alert.</span></span><br /><br /> <span data-ttu-id="cc6b8-277">参照: での .NET アプリケーション パフォーマンスを測定します。 [http://go.microsoft.com/fwlink/?linkid=106788](http://go.microsoft.com/fwlink/?linkid=106788)</span><span class="sxs-lookup"><span data-stu-id="cc6b8-277">Reference: Measuring .NET Application Performance at [http://go.microsoft.com/fwlink/?linkid=106788](http://go.microsoft.com/fwlink/?linkid=106788)</span></span>                                                                                                                                                                                                                                                                        |
|                          <span data-ttu-id="cc6b8-278">プロセッサ: 高コンテキストの切り替え</span><span class="sxs-lookup"><span data-stu-id="cc6b8-278">Processor:  High Context Switching</span></span>                           |                                                                                                                                                                                                                                                                                                                                                                                                                                                                         <span data-ttu-id="cc6b8-279">コンテキスト スイッチには、優先度の高いスレッドが現在実行中の優先順位の低いスレッドを横取りとき、または優先度の高いスレッドがブロックが行われます。</span><span class="sxs-lookup"><span data-stu-id="cc6b8-279">A context switch happens when a higher priority thread preempts a lower priority thread that is currently running or when a high priority thread blocks.</span></span> <span data-ttu-id="cc6b8-280">高レベルのコンテキストの切り替えは、多数のスレッドが同じ優先度レベルを共有する場合に発生します。</span><span class="sxs-lookup"><span data-stu-id="cc6b8-280">High levels of context switching can occur when many threads share the same priority level.</span></span> <span data-ttu-id="cc6b8-281">これは、多くの場合、システム上のプロセッサのスレッドが多すぎるが競合することを示します。</span><span class="sxs-lookup"><span data-stu-id="cc6b8-281">This often indicates that too many threads are competing for the processors on the system.</span></span> <span data-ttu-id="cc6b8-282">一般的な規則としては 1 プロセッサあたり 1 秒あたり 5,000 未満のコンテキスト切り替えの率はその価値について心配することができません。</span><span class="sxs-lookup"><span data-stu-id="cc6b8-282">As a general rule, context switching rates of less than 5,000 per second per processor are not worth worrying about.</span></span> <span data-ttu-id="cc6b8-283">コンテキスト切り替えの率が 1 プロセッサあたり 1 秒あたり 15,000 を超える場合、制約があります。</span><span class="sxs-lookup"><span data-stu-id="cc6b8-283">If context switching rates exceed 15,000 per second per processor, then there is a constraint.</span></span> <span data-ttu-id="cc6b8-284">詳細については、このトピックの「高コンテキスト切り替え分析を参照してください。</span><span class="sxs-lookup"><span data-stu-id="cc6b8-284">For more information, refer to High Context Switching Analysis in this topic.</span></span>                                                                                                                                                                                                                                                                                                                                                                                                                                                                         |
|              <span data-ttu-id="cc6b8-285">Microsof BizTalk サーバー: BizTalk のオーケストレーションの退避</span><span class="sxs-lookup"><span data-stu-id="cc6b8-285">Microsof BizTalk Server: BizTalk Dehydrating Orchestrations</span></span>              |                                                                                                                                                                                        <span data-ttu-id="cc6b8-286">多くの実行時間の長いビジネス プロセスを同時に実行しているときにメモリとパフォーマンスの問題は可能です。</span><span class="sxs-lookup"><span data-stu-id="cc6b8-286">When many long-running business processes are running at the same time, memory and performance issues are possible.</span></span> <span data-ttu-id="cc6b8-287">オーケストレーション エンジンでは、オーケストレーション インスタンスを "退避" および "復元" することで、これらの問題に対処します。</span><span class="sxs-lookup"><span data-stu-id="cc6b8-287">The orchestration engine addresses these issues by "dehydrating" and "rehydrating" orchestration instances.</span></span> <span data-ttu-id="cc6b8-288">退避とは、オーケストレーションの状態を SQL Server データベースにシリアル化するプロセスのことです。</span><span class="sxs-lookup"><span data-stu-id="cc6b8-288">Dehydration is the process of serializing the state of an orchestration into a SQL Server database.</span></span> <span data-ttu-id="cc6b8-289">リハイド レートは、このプロセスの逆: データベースからオーケストレーションの前回の実行状態を逆シリアル化します。</span><span class="sxs-lookup"><span data-stu-id="cc6b8-289">Rehydration is the reverse of this process: deserializing the last running state of an orchestration from the database.</span></span> <span data-ttu-id="cc6b8-290">退避は、メモリ内で一度にインスタンス化する必要があるオーケストレーションの数を減らすことによって、システム リソースの使用を最小限に抑えるために使用します。</span><span class="sxs-lookup"><span data-stu-id="cc6b8-290">Dehydration is used to minimize the use of system resources by reducing the number of orchestrations that have to be instantiated in memory at one time.</span></span> <span data-ttu-id="cc6b8-291">そのため、dehyrations はメモリ消費量を保存しますが、比較的高価な操作を実行します。</span><span class="sxs-lookup"><span data-stu-id="cc6b8-291">Therefore, dehyrations save memory consumption, but are relatively expensive operations to perform.</span></span> <span data-ttu-id="cc6b8-292">この分析は、10 個以上の dehydrations をチェックします。</span><span class="sxs-lookup"><span data-stu-id="cc6b8-292">This analysis checks for dehydrations of 10 or more.</span></span> <span data-ttu-id="cc6b8-293">場合は、[!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)]が実行されて (仮想または物理) のメモリ不足で値が高く、メッセージを待機しているオーケストレーションの数または退避設定が正しく設定されていません。</span><span class="sxs-lookup"><span data-stu-id="cc6b8-293">If so, [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] may be running out of memory (either virtual or physical), a high number of orchestrations are waiting on messages, or the dehydration settings are not set properly.</span></span><br /><br /> <span data-ttu-id="cc6b8-294">参照: オーケストレーションの退避と復元で  [http://go.microsoft.com/fwlink/?LinkId=155284](http://go.microsoft.com/fwlink/?LinkId=155284)</span><span class="sxs-lookup"><span data-stu-id="cc6b8-294">Reference:  Orchestration Dehydration and Rehydration at  [http://go.microsoft.com/fwlink/?LinkId=155284](http://go.microsoft.com/fwlink/?LinkId=155284)</span></span>                                                                                                                                                                                         |
|               <span data-ttu-id="cc6b8-295">Microsoft BizTalk Server: BizTalk 高データベース セッション</span><span class="sxs-lookup"><span data-stu-id="cc6b8-295">Microsoft BizTalk Server:  BizTalk High Database Sessions</span></span>               |                                                                                                                                                                                                                                                                                                                                                                                                               <span data-ttu-id="cc6b8-296">このカウンターは 2 つの値: normal (0) またはしきい値を超える (1)。</span><span class="sxs-lookup"><span data-stu-id="cc6b8-296">This counter has two possible values: normal (0) or exceeded (1).</span></span> <span data-ttu-id="cc6b8-297">この分析は、1 の値をチェックします。</span><span class="sxs-lookup"><span data-stu-id="cc6b8-297">This analysis checks for a value of 1.</span></span> <span data-ttu-id="cc6b8-298">そうである場合、BizTalk は許可されているデータベース セッションの数のしきい値を超えています。</span><span class="sxs-lookup"><span data-stu-id="cc6b8-298">If so, BizTalk has exceeded the threshold of the number of database sessions permitted.</span></span> <span data-ttu-id="cc6b8-299">この値は、BizTalk ホストの制限設定の [CPU ごとのデータベース接続] の値によって制御されます。</span><span class="sxs-lookup"><span data-stu-id="cc6b8-299">This value is controlled by the “Database connection per CPU” value in the BizTalk Host Throttling settings.</span></span> <span data-ttu-id="cc6b8-300">「データベースの CPU ごとの接続」は、許可の制限が適用されます (CPU) ごとの同時実行データベース セッションの最大数です。</span><span class="sxs-lookup"><span data-stu-id="cc6b8-300">“Database connection per CPU” is the maximum number of concurrent database sessions (per CPU) allowed before throttling begins.</span></span> <span data-ttu-id="cc6b8-301">[BizTalk:Message Agent] パフォーマンス オブジェクト カテゴリのデータベース セッションのパフォーマンス カウンターを使用して、アクティブなデータベース接続の数を監視できます。</span><span class="sxs-lookup"><span data-stu-id="cc6b8-301">You can monitor the number of active Database connections by using the Database session performance counter under the BizTalk:Message Agent performance object category.</span></span> <span data-ttu-id="cc6b8-302">このパラメーターは、送信メッセージの制限だけに影響します。</span><span class="sxs-lookup"><span data-stu-id="cc6b8-302">This parameter only affects outbound message throttling.</span></span> <span data-ttu-id="cc6b8-303">詳細については、このトピックの「BizTalk 高データベース セッション分析を参照してください。</span><span class="sxs-lookup"><span data-stu-id="cc6b8-303">For more information, refer to BizTalk High Database Sessions Analysis in this topic.</span></span>                                                                                                                                                                                                                                                                                                                                                                                                               |
|                 <span data-ttu-id="cc6b8-304">Microsoft BizTalk Server: BizTalk の High Database Size</span><span class="sxs-lookup"><span data-stu-id="cc6b8-304">Microsoft BizTalk Server: BizTalk High Database Size</span></span>                  |                                                                                                                                                                                                         <span data-ttu-id="cc6b8-305">このカウンターは、データベースしきい値のメッセージ カウント の条件のいずれかが発生した場合、値 1 に設定されます。</span><span class="sxs-lookup"><span data-stu-id="cc6b8-305">This counter will be set to a value of 1 if either of the conditions listed for the message count in database threshold occurs.</span></span> <span data-ttu-id="cc6b8-306">既定では、ホストのメッセージは、データベースの制限のしきい値のカウントは 50,000 で、次の状況で制限の条件はトリガーの値に設定します。</span><span class="sxs-lookup"><span data-stu-id="cc6b8-306">By default the host message count in database throttling threshold is set to a value of 50,000, which will trigger a throttling condition under the following circumstances:</span></span><br /><br /> <span data-ttu-id="cc6b8-307">-作業、状態、およびサブスクライブを行うホストの保留キューにホスト インスタンスによって公開されたメッセージの合計数が 50,000 を超えています。</span><span class="sxs-lookup"><span data-stu-id="cc6b8-307">-   The total number of messages published by the host instance to the work, state, and suspended queues of the subscribing hosts exceeds 50,000.</span></span><br /><span data-ttu-id="cc6b8-308">-スプール テーブルまたは追跡テーブル内のメッセージの数は 500,000 メッセージを超えています。</span><span class="sxs-lookup"><span data-stu-id="cc6b8-308">-   The number of messages in the spool table or the tracking table exceeds 500,000 messages.</span></span><br /><br /> <span data-ttu-id="cc6b8-309">このような場合は、データベース内のメッセージの数を軽減するアクションのコースを検討します。</span><span class="sxs-lookup"><span data-stu-id="cc6b8-309">If this occurs, then consider a course of action that will reduce the number of messages in the database.</span></span> <span data-ttu-id="cc6b8-310">たとえば、内の SQL Server のジョブを確認[!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)]エラーなしで実行しているし、グループ ハブ ページを使用、[!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)]管理コンソール、多数の保留メッセージをメッセージのビルドが生じたものかどうかを判断します。</span><span class="sxs-lookup"><span data-stu-id="cc6b8-310">For example, ensure the SQL Server jobs in [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] are running without error and use the Group Hub page in the [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] Administration console to determine whether message build up is caused by large numbers of suspended messages.</span></span> <span data-ttu-id="cc6b8-311">詳細については、このトピックの「BizTalk 高データベース サイズ分析を参照してください。</span><span class="sxs-lookup"><span data-stu-id="cc6b8-311">For more information, refer to BizTalk High Database Size Analysis in this topic.</span></span>                                                                                                                                                                                                         |
|           <span data-ttu-id="cc6b8-312">Microsoft BizTalk Server: BizTalk 高のインプロセス メッセージ数</span><span class="sxs-lookup"><span data-stu-id="cc6b8-312">Microsoft BizTalk Server:  BizTalk High In-Process Message Count</span></span>            |                                                                                                                                                                                                                                                                                                                                                                                                                                              <span data-ttu-id="cc6b8-313">この分析は、このような調整が行われているかどうかを判断する高のインプロセス メッセージ数のカウンターを確認します。</span><span class="sxs-lookup"><span data-stu-id="cc6b8-313">This analysis checks the High In-Process Message Count counter to determine whether this kind of throttling is occurring.</span></span> <span data-ttu-id="cc6b8-314">そうである場合は、「プロセスでは、CPU ごとのメッセージ」設定を調整することを検討してください。</span><span class="sxs-lookup"><span data-stu-id="cc6b8-314">If so, consider adjusting the “In-Process messages per CPU” setting.</span></span> <span data-ttu-id="cc6b8-315">このパラメーターは、送信メッセージの制限だけに影響します。</span><span class="sxs-lookup"><span data-stu-id="cc6b8-315">This parameter only affects outbound message throttling.</span></span> <span data-ttu-id="cc6b8-316">CPU あたりのインプロセス メッセージの数に基づいた制限を無効にする「プロセスでは、CPU ごとのメッセージ」設定では、値 0 を入力します。</span><span class="sxs-lookup"><span data-stu-id="cc6b8-316">Enter a value of 0 in the “In-Process messages per CPU” setting to disable throttling based on the number of in-process messages per CPU.</span></span> <span data-ttu-id="cc6b8-317">「プロセスでは、CPU ごとのメッセージ」設定の既定値は、1,000 です。</span><span class="sxs-lookup"><span data-stu-id="cc6b8-317">The default value for the “In-Process messages per CPU” setting is 1,000.</span></span> <span data-ttu-id="cc6b8-318">この値を変更することも影響する可能性がメッセージの低待機時間、または BizTalk リソースの効率性に注意してください。</span><span class="sxs-lookup"><span data-stu-id="cc6b8-318">Note that modifying this value can also have an impact on low latency of messages and/or the efficiency of BizTalk resources.</span></span> <span data-ttu-id="cc6b8-319">詳細については、このトピックの「BizTalk 高のインプロセス メッセージ数分析を参照してください。</span><span class="sxs-lookup"><span data-stu-id="cc6b8-319">For more information, refer to BizTalk High In-Process Message Count Analysis in this topic.</span></span>                                                                                                                                                                                                                                                                                                                                                                                                                                               |
|             <span data-ttu-id="cc6b8-320">Microsoft BizTalk Server: BizTalk の高いメッセージ配信率</span><span class="sxs-lookup"><span data-stu-id="cc6b8-320">Microsoft BizTalk Server:  BizTalk High Message Delivery Rate</span></span>             |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     <span data-ttu-id="cc6b8-321">この分析は、メッセージ配信率が高いカウンター内の 1 の値をチェックします。</span><span class="sxs-lookup"><span data-stu-id="cc6b8-321">This analysis checks for a value of 1 in the High Message Delivery Rate counter.</span></span> <span data-ttu-id="cc6b8-322">高い処理の複雑さ、低速の送信アダプター、またはシステム リソースの一時的な不足によって、高いメッセージ配信率可能性があります。</span><span class="sxs-lookup"><span data-stu-id="cc6b8-322">High message delivery rates can be caused by high processing complexity, slow outbound adapters, or a momentary shortage of system resources.</span></span> <span data-ttu-id="cc6b8-323">詳細については、このトピックの「BizTalk の高いメッセージ配信レート分析を参照してください。</span><span class="sxs-lookup"><span data-stu-id="cc6b8-323">For more information, refer to BizTalk High Message Delivery Rate Analysis in this topic.</span></span>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      |
|            <span data-ttu-id="cc6b8-324">Microsoft BizTalk Server: BizTalk の高いメッセージの公開のレート</span><span class="sxs-lookup"><span data-stu-id="cc6b8-324">Microsoft BizTalk Server:  BizTalk High Message Publishing Rate</span></span>            |                                                                                                                                                                                       <span data-ttu-id="cc6b8-325">受信ホスト制限は、またメッセージ公開の制限でと呼ばれる[!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)]に適用されるホスト インスタンスが含まれている受信アダプターまたはオーケストレーションがメッセージ ボックス データベースにメッセージを発行します。</span><span class="sxs-lookup"><span data-stu-id="cc6b8-325">Inbound host throttling, also known as message publishing throttling in [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)], is applied to host instances that contain receive adapters or orchestrations that publish messages to the MessageBox database.</span></span> <span data-ttu-id="cc6b8-326">この分析は、メッセージ公開率が高いカウンター内の 1 の値をチェックします。</span><span class="sxs-lookup"><span data-stu-id="cc6b8-326">This analysis checks for a value of 1 in the High Message Publishing Rate counter.</span></span> <span data-ttu-id="cc6b8-327">このような場合、データベースを維持できないメッセージの公開の割合 BizTalk メッセージ ボックス データベースにします。</span><span class="sxs-lookup"><span data-stu-id="cc6b8-327">If this occurs, then the database cannot keep up with the publishing rate of messages to the BizTalk MessageBox database.</span></span><br /><br /> <span data-ttu-id="cc6b8-328">参照:</span><span class="sxs-lookup"><span data-stu-id="cc6b8-328">References:</span></span><br /><br /> <span data-ttu-id="cc6b8-329">-ホストに制限のパフォーマンス カウンター [http://go.microsoft.com/fwlink/?LinkId=155285](http://go.microsoft.com/fwlink/?LinkId=155285)</span><span class="sxs-lookup"><span data-stu-id="cc6b8-329">-   Host Throttling Performance Counters at [http://go.microsoft.com/fwlink/?LinkId=155285](http://go.microsoft.com/fwlink/?LinkId=155285)</span></span><br /><span data-ttu-id="cc6b8-330">-[!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)]ホストで制限の実装 [http://go.microsoft.com/fwlink/?LinkId=155286](http://go.microsoft.com/fwlink/?LinkId=155286)</span><span class="sxs-lookup"><span data-stu-id="cc6b8-330">-   How [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] Implements Host Throttling at [http://go.microsoft.com/fwlink/?LinkId=155286](http://go.microsoft.com/fwlink/?LinkId=155286)</span></span><br /><span data-ttu-id="cc6b8-331">メッセージ公開の制限の設定 ダイアログ ボックスで [http://go.microsoft.com/fwlink/?LinkId=155287](http://go.microsoft.com/fwlink/?LinkId=155287)</span><span class="sxs-lookup"><span data-stu-id="cc6b8-331">-   Message Publishing Throttling Settings Dialog Box at [http://go.microsoft.com/fwlink/?LinkId=155287](http://go.microsoft.com/fwlink/?LinkId=155287)</span></span><br /><span data-ttu-id="cc6b8-332">ホスト制限とは-で [http://go.microsoft.com/fwlink/?LinkID=154694](http://go.microsoft.com/fwlink/?LinkID=154694)</span><span class="sxs-lookup"><span data-stu-id="cc6b8-332">-   What is Host Throttling? at [http://go.microsoft.com/fwlink/?LinkID=154694](http://go.microsoft.com/fwlink/?LinkID=154694)</span></span>                                                                                                                                                                                        |
|                <span data-ttu-id="cc6b8-333">Microsoft BizTalk Server: BizTalk 高プロセス メモリ</span><span class="sxs-lookup"><span data-stu-id="cc6b8-333">Microsoft BizTalk Server:  BizTalk High Process Memory</span></span>                 |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           <span data-ttu-id="cc6b8-334">BizTalk プロセスのメモリ使用量が調整のしきい値の設定は、ワーキング セットのサイズと、プロセスの使用可能な仮想メモリの合計の合計と比較した場合は 1 ~ 100 の値を入力に使用されるメモリの割合です。</span><span class="sxs-lookup"><span data-stu-id="cc6b8-334">The BizTalk Process Memory usage throttling threshold setting is the percentage of memory used compared to the sum of the working set size and total available virtual memory for the process if a value from 1 through 100 is entered.</span></span> <span data-ttu-id="cc6b8-335">比率が指定されている場合、プロセス メモリのしきい値は、定期的に再計算されます。</span><span class="sxs-lookup"><span data-stu-id="cc6b8-335">When a percentage value is specified the process memory threshold is recalculated at regular intervals.</span></span> <span data-ttu-id="cc6b8-336">この分析は、プロセス メモリ カウンターの 1 の値をチェックします。</span><span class="sxs-lookup"><span data-stu-id="cc6b8-336">This analysis checks for a value of 1 in the High Process Memory counter.</span></span> <span data-ttu-id="cc6b8-337">詳細については、このトピックの「BizTalk 高プロセス メモリ分析を参照してください。</span><span class="sxs-lookup"><span data-stu-id="cc6b8-337">For more information, refer to BizTalk High Process Memory Analysis in this topic.</span></span>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            |
|                 <span data-ttu-id="cc6b8-338">Microsoft BizTalk Server: BizTalk 高システム メモリ</span><span class="sxs-lookup"><span data-stu-id="cc6b8-338">Microsoft BizTalk Server:  BizTalk High System Memory</span></span>                 |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     <span data-ttu-id="cc6b8-339">BizTalk の物理メモリ使用量の制限しきい値の設定は、1 ~ 100 で指定する場合の使用可能な物理メモリの総量と比較してメモリ使用量の割合を入力します。</span><span class="sxs-lookup"><span data-stu-id="cc6b8-339">The BizTalk Physical Memory usage throttling threshold setting is the percentage of memory consumption compared to the total amount of available physical memory if a value from 1 through 100 is entered.</span></span> <span data-ttu-id="cc6b8-340">この設定では、100 より大きい値を入力した場合、メガバイト単位で使用可能な物理メモリの総量こともできます。</span><span class="sxs-lookup"><span data-stu-id="cc6b8-340">This setting can also be the total amount of available physical memory in megabytes if a value greater than 100 is entered.</span></span> <span data-ttu-id="cc6b8-341">物理メモリ使用量に基づいた制限を無効にするには、値 0 を入力してください。</span><span class="sxs-lookup"><span data-stu-id="cc6b8-341">Enter a value of 0 to disable throttling based on physical memory usage.</span></span> <span data-ttu-id="cc6b8-342">既定値は 0 です。</span><span class="sxs-lookup"><span data-stu-id="cc6b8-342">The default value is 0.</span></span> <span data-ttu-id="cc6b8-343">詳細については、このトピックの「BizTalk 高システム メモリ分析を参照してください。</span><span class="sxs-lookup"><span data-stu-id="cc6b8-343">For more information, refer to BizTalk High System Memory Analysis in this topic.</span></span>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     |
|                 <span data-ttu-id="cc6b8-344">Microsoft BizTalk Server: BizTalk 高スレッド数</span><span class="sxs-lookup"><span data-stu-id="cc6b8-344">Microsoft BizTalk Server:  BizTalk High Thread Count</span></span>                  |                                                                                                                                                                                                                                                                                                                                                                                                                                                                             <span data-ttu-id="cc6b8-345">「CPU あたりのスレッド」は、アダプターで使用されるスレッドを含むホスト プロセス内のスレッドの合計数です。</span><span class="sxs-lookup"><span data-stu-id="cc6b8-345">“Threads Per CPU” is the total number of threads in the host process including threads used by adapters.</span></span> <span data-ttu-id="cc6b8-346">このしきい値を超えた場合[!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)]EPM スレッド プールとメッセージ エージェント スレッド プールのサイズを小さく試みます。</span><span class="sxs-lookup"><span data-stu-id="cc6b8-346">If this threshold is exceeded, [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] will try to reduce the size of the EPM thread pool and message agent thread pool.</span></span> <span data-ttu-id="cc6b8-347">高負荷によって多くのスレッドを作成するシナリオでは、スレッド ベースの制限を有効にする必要があります。</span><span class="sxs-lookup"><span data-stu-id="cc6b8-347">Thread based throttling should be enabled in scenarios where high load can lead to the creation of a large number of threads.</span></span> <span data-ttu-id="cc6b8-348">このパラメーターは、受信制限と送信制限の両方に影響します。</span><span class="sxs-lookup"><span data-stu-id="cc6b8-348">This parameter affects both inbound and outbound throttling.</span></span> <span data-ttu-id="cc6b8-349">既定では、スレッド ベースの制限を無効になっています。</span><span class="sxs-lookup"><span data-stu-id="cc6b8-349">Thread based throttling is disabled by default.</span></span> <span data-ttu-id="cc6b8-350">詳細については、このトピックの「BizTalk 高スレッド カウント分析を参照してください。</span><span class="sxs-lookup"><span data-stu-id="cc6b8-350">For more information, refer to BizTalk High Thread Count Analysis in this topic.</span></span>                                                                                                                                                                                                                                                                                                                                                                                                                                                                              |
|                 <span data-ttu-id="cc6b8-351">Microsoft BizTalk Server: BizTalk ホスト キューの長さ</span><span class="sxs-lookup"><span data-stu-id="cc6b8-351">Microsoft BizTalk Server:  BizTalk Host Queue Length</span></span>                  |                                                                                                                                                                                                                                                                                            <span data-ttu-id="cc6b8-352">BizTalk ホスト キューの長さは、特定のホスト キュー内のメッセージの合計数を追跡します。</span><span class="sxs-lookup"><span data-stu-id="cc6b8-352">The BizTalk Host Queue Length tracks the total number of messages in the particular host queue.</span></span> <span data-ttu-id="cc6b8-353">長さサイズ (つまり、' BizTalk:MessageBox:HostCounters:Host キュー – 長 ') を使用すると、個々 のホストのキューの深さを表示することによって内部的に入れされるメッセージの数の詳細に表示します。</span><span class="sxs-lookup"><span data-stu-id="cc6b8-353">You can use length size (i.e., ‘BizTalk:MessageBox:HostCounters:Host Queue – Length’) to give a more detailed view of the number of messages being queued up internally by showing the queue depth for an individual host.</span></span> <span data-ttu-id="cc6b8-354">このカウンターは、特定のホストがボトルネックになっている場合を判断するのに役立ちます。</span><span class="sxs-lookup"><span data-stu-id="cc6b8-354">This counter can be useful in determining if a specific host is bottlenecked.</span></span> <span data-ttu-id="cc6b8-355">各トランスポートは一意のホストに使用されると仮定すると、このできる潜在的なトランスポートのボトルネックを特定するのに役立ちます。</span><span class="sxs-lookup"><span data-stu-id="cc6b8-355">Assuming unique hosts are used for each transport, this can be helpful in determining potential transport bottlenecks.</span></span> <span data-ttu-id="cc6b8-356">この分析は、キューの平均の長さが 1 より大きい値をチェックします。</span><span class="sxs-lookup"><span data-stu-id="cc6b8-356">This analysis checks for average queue lengths greater than 1.</span></span> <span data-ttu-id="cc6b8-357">ホスト キューの長さは、ターゲット ホストのすべてのキュー (作業 Q は、状態の Q Q 中断) のレコード数を集計して加重計算されるキューの長さは。</span><span class="sxs-lookup"><span data-stu-id="cc6b8-357">The Host Queue Length is a weighted Queue length by aggregating the record count of all the Queues (Work Q, State Q, Suspended Q) of the target host.</span></span><br /><br /> <span data-ttu-id="cc6b8-358">リファレンス: BizTalk Server 2006: に成功したパフォーマンス ラボを管理する[ http://go.microsoft.com/fwlink/?linkid=104152 ](http://go.microsoft.com/fwlink/?linkid=104152) **注:** このホワイト ペーパーも BizTalk Server に適用します。</span><span class="sxs-lookup"><span data-stu-id="cc6b8-358">Reference: BizTalk Server 2006: Managing a Successful Performance Lab at [http://go.microsoft.com/fwlink/?linkid=104152](http://go.microsoft.com/fwlink/?linkid=104152) **Note:**  This white paper is also applicable to BizTalk Server.</span></span>                                                                                                                                                                                                                                                                                             |
|        <span data-ttu-id="cc6b8-359">Microsoft BizTalk Server: BizTalk ホストの保留メッセージ キューの長さ</span><span class="sxs-lookup"><span data-stu-id="cc6b8-359">Microsoft BizTalk Server: BizTalk Host Suspended Messages Queue Length</span></span>         |                                                                                                                                                                                          <span data-ttu-id="cc6b8-360">このカウンターは、特定のホストの保留メッセージの合計数を追跡します。</span><span class="sxs-lookup"><span data-stu-id="cc6b8-360">This counter tracks the total number of suspended messages for the particular host.</span></span> <span data-ttu-id="cc6b8-361">中断されたメッセージは、メッセージまたはオーケストレーションのインスタンスを[!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)]エラーのため、システムまたはメッセージの処理が停止しました。</span><span class="sxs-lookup"><span data-stu-id="cc6b8-361">A suspended message is an instance of a message or orchestration that [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] has stopped processing due to an error in the system or the message.</span></span> <span data-ttu-id="cc6b8-362">通常、システム エラーによって中断されたインスタンスは、システムの問題が解決された時点で再開可能になります。</span><span class="sxs-lookup"><span data-stu-id="cc6b8-362">Generally, suspended instances caused by system errors are resumable upon resolution of the system issue.</span></span> <span data-ttu-id="cc6b8-363">多くの場合、メッセージの問題によって中断されたインスタンスは再開できないと、メッセージ自体を固定およびに再送信する必要があります、[!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)]システム。</span><span class="sxs-lookup"><span data-stu-id="cc6b8-363">Often, suspended instances due to a message problem are not resumable, and the message itself must be fixed and resubmitted to the [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] system.</span></span><br /><br /> <span data-ttu-id="cc6b8-364">保留中のメッセージ キューは、対象のエラーまたはエラーが処理中に発生した作業項目を格納するキューです。</span><span class="sxs-lookup"><span data-stu-id="cc6b8-364">The suspended message queue is a queue that contains work items for which an error or failure was encountered during processing.</span></span> <span data-ttu-id="cc6b8-365">保留キューのメッセージは最終的に、修正されて再処理されるか、削除されます。</span><span class="sxs-lookup"><span data-stu-id="cc6b8-365">A suspended queue stores the messages until they can be corrected and reprocessed, or deleted.</span></span> <span data-ttu-id="cc6b8-366">この分析は、保留メッセージの発生に対してチェックします。</span><span class="sxs-lookup"><span data-stu-id="cc6b8-366">This analysis checks for any occurrence of suspended messages.</span></span> <span data-ttu-id="cc6b8-367">上昇傾向は、処理の重大なエラーである可能性があります。</span><span class="sxs-lookup"><span data-stu-id="cc6b8-367">An increasing trend could indicate severe processing errors.</span></span><br /><br /> <span data-ttu-id="cc6b8-368">参照: BizTalk Server 2004: 監視とトラブルシューティング [http://go.microsoft.com/fwlink/?linkid=108771](http://go.microsoft.com/fwlink/?linkid=108771)</span><span class="sxs-lookup"><span data-stu-id="cc6b8-368">Reference:  BizTalk Server 2004: Monitoring and Troubleshooting at [http://go.microsoft.com/fwlink/?linkid=108771](http://go.microsoft.com/fwlink/?linkid=108771)</span></span>                                                                                                                                                                                          |
|                     <span data-ttu-id="cc6b8-369">BizTalk のアイドル状態のオーケストレーションを BizTalk Server:</span><span class="sxs-lookup"><span data-stu-id="cc6b8-369">BizTalk Server:  BizTalk Idle Orchestrations</span></span>                      |                                                                                                                    <span data-ttu-id="cc6b8-370">ホスト インスタンスが現在ホストしている、アイドル状態のオーケストレーション インスタンスの数。</span><span class="sxs-lookup"><span data-stu-id="cc6b8-370">Number of idle orchestration instances currently hosted by the host instance.</span></span> <span data-ttu-id="cc6b8-371">このカウンターは、進行状況を行わないが推定された待避可能ではないオーケストレーションを参照します。</span><span class="sxs-lookup"><span data-stu-id="cc6b8-371">This counter refers to orchestrations that are not making progress but are not dehydratable.</span></span> <span data-ttu-id="cc6b8-372">このような状況は、オーケストレーションがブロックされたときに発生する可能性が待ち受け、またはアトミックのトランザクションの遅延の受信を待機しています。</span><span class="sxs-lookup"><span data-stu-id="cc6b8-372">This situation can occur when the orchestration is blocked, waiting for a receive, listen, or delay in an atomic transaction.</span></span> <span data-ttu-id="cc6b8-373">非推定された待避可能なオーケストレーションの数が多いが累積する場合、BizTalk は、メモリ不足実行できます。</span><span class="sxs-lookup"><span data-stu-id="cc6b8-373">If a large number of non-dehydratable orchestrations accumulate, then BizTalk may run out of memory.</span></span><br /><br /> <span data-ttu-id="cc6b8-374">退避とは、オーケストレーションの状態を SQL Server データベースにシリアル化するプロセスのことです。</span><span class="sxs-lookup"><span data-stu-id="cc6b8-374">Dehydration is the process of serializing the state of an orchestration into a SQL Server database.</span></span> <span data-ttu-id="cc6b8-375">リハイド レートは、このプロセスの逆: データベースからオーケストレーションの前回の実行状態を逆シリアル化します。</span><span class="sxs-lookup"><span data-stu-id="cc6b8-375">Rehydration is the reverse of this process: deserializing the last running state of an orchestration from the database.</span></span> <span data-ttu-id="cc6b8-376">退避は、メモリ内で一度にインスタンス化する必要があるオーケストレーションの数を減らすことによって、システム リソースの使用を最小限に抑えるために使用します。</span><span class="sxs-lookup"><span data-stu-id="cc6b8-376">Dehydration is used to minimize the use of system resources by reducing the number of orchestrations that have to be instantiated in memory at one time.</span></span> <span data-ttu-id="cc6b8-377">エンジンは、状態を保存することでインスタンスを退避し、インスタンスに必要なメモリを解放します。</span><span class="sxs-lookup"><span data-stu-id="cc6b8-377">The engine dehydrates the instance by saving the state, and frees up the memory required by the instance.</span></span> <span data-ttu-id="cc6b8-378">休止しているオーケストレーション インスタンスを退避することにより、多数の長時間実行されるビジネス プロセスを単一のコンピューターで同時に実行できるようになります。</span><span class="sxs-lookup"><span data-stu-id="cc6b8-378">By dehydrating dormant orchestration instances, the engine makes it possible for a large number of long-running business processes to run concurrently on the same computer.</span></span> <span data-ttu-id="cc6b8-379">この分析は、1 時間あたり 1 つのアイドル状態のオーケストレーションの上昇傾向を確認します。</span><span class="sxs-lookup"><span data-stu-id="cc6b8-379">This analysis checks for an increasing trend of one idle orchestration per hour.</span></span><br /><br /> <span data-ttu-id="cc6b8-380">参照: オーケストレーションの退避と復元で  [http://go.microsoft.com/fwlink/?LinkId=155284](http://go.microsoft.com/fwlink/?LinkId=155284)</span><span class="sxs-lookup"><span data-stu-id="cc6b8-380">Reference: Orchestration Dehydration and Rehydration at  [http://go.microsoft.com/fwlink/?LinkId=155284](http://go.microsoft.com/fwlink/?LinkId=155284)</span></span>                                                                                                                     |
|                       <span data-ttu-id="cc6b8-381">BizTalk Server: BizTalk の受信待機時間</span><span class="sxs-lookup"><span data-stu-id="cc6b8-381">BizTalk Server:  BizTalk Inbound Latency</span></span>                        |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <span data-ttu-id="cc6b8-382">ときに、メッセージング エンジンからドキュメントを受信アダプター、メッセージ ボックス データベースにパブリッシュした時刻までのミリ秒単位の平均待機時間。</span><span class="sxs-lookup"><span data-stu-id="cc6b8-382">Average latency in milliseconds from when the messaging engine receives a document from the adapter until the time it is published to the MessageBox.</span></span> <span data-ttu-id="cc6b8-383">待機時間の削減は、BizTalk の一部のユーザーに重要なためにドキュメントが受信アダプターで費やす量を追跡が重要です。</span><span class="sxs-lookup"><span data-stu-id="cc6b8-383">Reducing latency is important to some users of BizTalk, therefore tracking how much time documents spend in the inbound adapter is important.</span></span> <span data-ttu-id="cc6b8-384">詳細については、このトピックの「BizTalk 受信待機時間分析を参照してください。</span><span class="sxs-lookup"><span data-stu-id="cc6b8-384">For more information, refer to BizTalk Inbound Latency Analysis in this topic.</span></span>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         |
|                    <span data-ttu-id="cc6b8-385">BizTalk Server: BizTalk メッセージの配信の遅延</span><span class="sxs-lookup"><span data-stu-id="cc6b8-385">BizTalk Server:  BizTalk Message Delivery Delay</span></span>                    |                                                                                                                                                                         <span data-ttu-id="cc6b8-386">これは、(メッセージ配信が制限されている場合に適用可能) メッセージ配信バッチごとに適用されるミリ秒 (ms) で現在遅延時間です。</span><span class="sxs-lookup"><span data-stu-id="cc6b8-386">This is the current delay in milliseconds (ms) imposed on each message delivery batch (applicable if the message delivery is being throttled).</span></span> <span data-ttu-id="cc6b8-387">制限を順守して、公開またはメッセージの受信および送信するかどうかに応じて、メッセージの処理に遅延が適用されます。</span><span class="sxs-lookup"><span data-stu-id="cc6b8-387">In regards to throttling, a delay is applied in the publishing or processing of the message, depending on whether the message is inbound or outbound.</span></span> <span data-ttu-id="cc6b8-388">遅延期間は、制限の条件の重大度に比例します。</span><span class="sxs-lookup"><span data-stu-id="cc6b8-388">The delay period is proportional to the severity of the throttling condition.</span></span> <span data-ttu-id="cc6b8-389">制限の条件の重大度が高い制限の条件下の重大度よりもう帯域幅調整の期間が開始されます。</span><span class="sxs-lookup"><span data-stu-id="cc6b8-389">Higher severity throttling conditions will initiate a longer throttling period than lower severity throttling conditions.</span></span> <span data-ttu-id="cc6b8-390">この遅延期間は、条件が変わるたびに制限のメカニズムによって特定の範囲内で期間が調整されます。</span><span class="sxs-lookup"><span data-stu-id="cc6b8-390">This delay period is adjusted up and down within certain ranges by the throttling mechanism as conditions change.</span></span> <span data-ttu-id="cc6b8-391">現在の遅延期間は、メッセージ配信の遅延 (ミリ秒) とメッセージ公開の BizTalk:Message Agent パフォーマンス オブジェクト カテゴリに関連付けられている遅延 (ミリ秒) パフォーマンス カウンターを通じて公開されます。</span><span class="sxs-lookup"><span data-stu-id="cc6b8-391">The current delay period is exposed through the message delivery delay (ms) and the message publishing delay (ms) performance counters associated with the BizTalk:Message Agent performance object category.</span></span> <span data-ttu-id="cc6b8-392">この分析は、5 秒以上のメッセージ配信の遅延を確認します。</span><span class="sxs-lookup"><span data-stu-id="cc6b8-392">This analysis checks for a message delivery delay of greater than 5 seconds.</span></span> <span data-ttu-id="cc6b8-393">長いメッセージ配信の遅延は、負荷の高い高負荷に起因する制限可能性があります。</span><span class="sxs-lookup"><span data-stu-id="cc6b8-393">Long message delivery delays may indicate heavy throttling due to high load.</span></span><br /><br /> <span data-ttu-id="cc6b8-394">参照: どの[!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)]ホストで制限の実装 [http://go.microsoft.com/fwlink/?LinkId=155286](http://go.microsoft.com/fwlink/?LinkId=155286)</span><span class="sxs-lookup"><span data-stu-id="cc6b8-394">Reference: How [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] Implements Host Throttling at [http://go.microsoft.com/fwlink/?LinkId=155286](http://go.microsoft.com/fwlink/?LinkId=155286)</span></span>                                                                                                                                                                         |
|              <span data-ttu-id="cc6b8-395">BizTalk Server: BizTalk メッセージの配信制限の状態</span><span class="sxs-lookup"><span data-stu-id="cc6b8-395">BizTalk Server:  BizTalk Message Delivery Throttling State</span></span>               |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           <span data-ttu-id="cc6b8-396">BizTalk メッセージの配信制限の状態では、制限の主な兆候の 1 つです。</span><span class="sxs-lookup"><span data-stu-id="cc6b8-396">The BizTalk message delivery throttling state is one of the primary indicators of throttling.</span></span> <span data-ttu-id="cc6b8-397">これは、システムで (XLANG メッセージ処理および送信トランスポートに影響を与える) メッセージ配信を制限するかどうかを示すフラグです。</span><span class="sxs-lookup"><span data-stu-id="cc6b8-397">It is a flag indicating whether the system is throttling message delivery (affecting XLANG message processing and outbound transports).</span></span> <span data-ttu-id="cc6b8-398">制限の条件は、カウンターの数値の値によって示されます。</span><span class="sxs-lookup"><span data-stu-id="cc6b8-398">The throttling condition is indicated by the numeric value of the counter.</span></span> <span data-ttu-id="cc6b8-399">詳細については、このトピックの「BizTalk メッセージの配信制限状態分析を参照してください。</span><span class="sxs-lookup"><span data-stu-id="cc6b8-399">For more information, see BizTalk Message Delivery Throttling State Analysis in this topic.</span></span>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            |
|                   <span data-ttu-id="cc6b8-400">BizTalk Server: BizTalk メッセージの公開の遅延</span><span class="sxs-lookup"><span data-stu-id="cc6b8-400">BizTalk Server:  BizTalk Message Publishing Delay</span></span>                   |                                                                                                                                                                                                    <span data-ttu-id="cc6b8-401">メッセージの公開を制限するための条件を満たす各バッチで加えられた遅延時間。</span><span class="sxs-lookup"><span data-stu-id="cc6b8-401">The delay injected in each qualifying batch for throttling the publishing of messages.</span></span> <span data-ttu-id="cc6b8-402">制限を順守して、公開またはメッセージの受信および送信するかどうかに応じて、メッセージの処理に遅延が適用されます。</span><span class="sxs-lookup"><span data-stu-id="cc6b8-402">In regards to throttling, a delay is applied in the publishing or processing of the message, depending on whether the message is inbound or outbound.</span></span> <span data-ttu-id="cc6b8-403">遅延期間は、制限の条件の重大度に比例します。</span><span class="sxs-lookup"><span data-stu-id="cc6b8-403">The delay period is proportional to the severity of the throttling condition.</span></span> <span data-ttu-id="cc6b8-404">制限の条件の重大度が高い制限の条件下の重大度よりもう帯域幅調整の期間が開始されます。</span><span class="sxs-lookup"><span data-stu-id="cc6b8-404">Higher severity throttling conditions will initiate a longer throttling period than lower severity throttling conditions.</span></span> <span data-ttu-id="cc6b8-405">この遅延期間は、条件が変わるたびに制限のメカニズムによって特定の範囲内で期間が調整されます。</span><span class="sxs-lookup"><span data-stu-id="cc6b8-405">This delay period is adjusted up and down within certain ranges by the throttling mechanism as conditions change.</span></span> <span data-ttu-id="cc6b8-406">現在の遅延期間は、メッセージ配信の遅延 (ミリ秒) とメッセージ公開の BizTalk:Message Agent パフォーマンス オブジェクト カテゴリに関連付けられている遅延 (ミリ秒) パフォーマンス カウンターを通じて公開されます。</span><span class="sxs-lookup"><span data-stu-id="cc6b8-406">The current delay period is exposed through the message delivery delay (ms) and the message publishing delay (ms) performance counters associated with the BizTalk:Message Agent performance object category.</span></span> <span data-ttu-id="cc6b8-407">この分析は、5 秒を超える遅延を公開するメッセージを確認します。</span><span class="sxs-lookup"><span data-stu-id="cc6b8-407">This analysis checks for a message publishing delay of greater than 5 seconds.</span></span> <span data-ttu-id="cc6b8-408">長いメッセージ配信の遅延は、負荷の高い高負荷に起因する制限可能性があります。</span><span class="sxs-lookup"><span data-stu-id="cc6b8-408">Long message delivery delays may indicate heavy throttling due to high load.</span></span><br /><br /> <span data-ttu-id="cc6b8-409">参照: どの[!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)]ホストで制限の実装 [http://go.microsoft.com/fwlink/?LinkId=155286](http://go.microsoft.com/fwlink/?LinkId=155286)</span><span class="sxs-lookup"><span data-stu-id="cc6b8-409">Reference: How [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] Implements Host Throttling at [http://go.microsoft.com/fwlink/?LinkId=155286](http://go.microsoft.com/fwlink/?LinkId=155286)</span></span>                                                                                                                                                                                                    |
|           <span data-ttu-id="cc6b8-410">BizTalk Server: BizTalk メッセージ ボックス データベースの接続エラー</span><span class="sxs-lookup"><span data-stu-id="cc6b8-410">BizTalk Server:  BizTalk MessageBox Database Connection Failures</span></span>            |                                                                                                                                                                                                                                                                                                                                                                                     <span data-ttu-id="cc6b8-411">このパフォーマンス カウンターでは、ホスト インスタンスが起動されてから失敗したデータベース接続エラーの数です。</span><span class="sxs-lookup"><span data-stu-id="cc6b8-411">This performance counter is the number of attempted database connections that failed since the host instance started.</span></span> <span data-ttu-id="cc6b8-412">何らかの理由で、BizTalk データベースをホストする SQL Server サービスが利用できなくなると、データベース クラスターは、パッシブ側コンピューターにアクティブなコンピューターからリソースを転送します。</span><span class="sxs-lookup"><span data-stu-id="cc6b8-412">If the SQL Server service hosting the BizTalk databases becomes unavailable for any reason, the database cluster transfers resources from the active computer to the passive computer.</span></span> <span data-ttu-id="cc6b8-413">このフェールオーバー プロセス中に、[!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)]サービス インスタンスがデータベース接続エラーが発生して、データベースへの再接続を自動的に再起動します。</span><span class="sxs-lookup"><span data-stu-id="cc6b8-413">During this failover process, the [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] service instances experience database connection failures and automatically restart to reconnect to the databases.</span></span> <span data-ttu-id="cc6b8-414">正常に動作しているデータベース コンピューター (先ほどまでパッシブ側であったコンピューター) が、フェールオーバーでリソースを引き継いだ後、データベース接続の処理を開始します。</span><span class="sxs-lookup"><span data-stu-id="cc6b8-414">The functioning database computer (previously the passive computer) begins processing the database connections after assuming the resources during failover.</span></span> <span data-ttu-id="cc6b8-415">詳細については、このトピックの「BizTalk メッセージ ボックス データベース接続エラー分析を参照してください。</span><span class="sxs-lookup"><span data-stu-id="cc6b8-415">For more information, refer to BizTalk MessageBox Database Connection Failures Analysis in this topic.</span></span>                                                                                                                                                                                                                                                                                                                                                                                      |
|         <span data-ttu-id="cc6b8-416">BizTalk Server: BizTalk の待機時間をメッセージング: 要求応答の待機時間</span><span class="sxs-lookup"><span data-stu-id="cc6b8-416">BizTalk Server:  BizTalk Messaging Latency:  Request Response Latency</span></span>         |                                                                                                                                                                                                                                                                                                                                                              <span data-ttu-id="cc6b8-417">アダプターからメッセージング エンジンへと渡された要求が、応答ドキュメントとしてアダプターに返されるまでの平均待機時間 (ミリ秒)。</span><span class="sxs-lookup"><span data-stu-id="cc6b8-417">Average latency in milliseconds from when the Messaging Engine receives a request document from the adapter until the time a response document is given back to the adapter.</span></span> <span data-ttu-id="cc6b8-418">BizTalk の受信待機時間分析でこのトピックの待機時間を測定する方法を示すグラフを参照してください。</span><span class="sxs-lookup"><span data-stu-id="cc6b8-418">Refer to the chart showing how latency is measured in BizTalk Inbound Latency Analysis in this topic.</span></span> <span data-ttu-id="cc6b8-419">低待機時間環境と仮定すると、この分析は、5 秒を超える要求-応答待機時間をチェックします。</span><span class="sxs-lookup"><span data-stu-id="cc6b8-419">Assuming a low latency environment, this analysis checks for a Request-Response Latency greater than 5 seconds.</span></span> <span data-ttu-id="cc6b8-420">受信アダプタと送信アダプターの間の処理の遅延がある可能性があります。</span><span class="sxs-lookup"><span data-stu-id="cc6b8-420">This may indicate a processing delay between the inbound adapter and the outbound adapter.</span></span><br /><br /> <span data-ttu-id="cc6b8-421">参照:</span><span class="sxs-lookup"><span data-stu-id="cc6b8-421">References:</span></span><br /><br /> <span data-ttu-id="cc6b8-422">-要求/応答メッセージングに [http://go.microsoft.com/fwlink/?LinkId=155288](http://go.microsoft.com/fwlink/?LinkId=155288)</span><span class="sxs-lookup"><span data-stu-id="cc6b8-422">-   Request/Response Messaging at [http://go.microsoft.com/fwlink/?LinkId=155288](http://go.microsoft.com/fwlink/?LinkId=155288)</span></span><br /><span data-ttu-id="cc6b8-423">BizTalk Server 2006: での BizTalk Server 2006 では、SOAP アダプターを使用して拡張性のケース スタディ [http://go.microsoft.com/fwlink/?linkid=108774](http://go.microsoft.com/fwlink/?linkid=108774)</span><span class="sxs-lookup"><span data-stu-id="cc6b8-423">-   BizTalk Server 2006: Scalability Case Study Using the SOAP Adapter in BizTalk Server 2006 at [http://go.microsoft.com/fwlink/?linkid=108774](http://go.microsoft.com/fwlink/?linkid=108774)</span></span>                                                                                                                                                                                                                                                                                                                                                              |
|            <span data-ttu-id="cc6b8-424">BizTalk Server: BizTalk のメッセージングの制限の状態を公開</span><span class="sxs-lookup"><span data-stu-id="cc6b8-424">BizTalk Server:  BizTalk Messaging Publishing Throttling State</span></span>             |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           <span data-ttu-id="cc6b8-425">BizTalk メッセージの公開の制限の状態では、制限の主な兆候の 1 つです。</span><span class="sxs-lookup"><span data-stu-id="cc6b8-425">The BizTalk message publishing throttling state is one of the primary indicators of throttling.</span></span> <span data-ttu-id="cc6b8-426">これは、システムで (XLANG メッセージ処理および受信トランスポートに影響を与える) メッセージの公開を制限するかどうかを示すフラグです。</span><span class="sxs-lookup"><span data-stu-id="cc6b8-426">It is a flag indicating whether the system is throttling message publishing (affecting XLANG message processing and inbound transports).</span></span> <span data-ttu-id="cc6b8-427">詳細については、このトピックの「BizTalk メッセージング公開の制限の状態の分析を参照してください。</span><span class="sxs-lookup"><span data-stu-id="cc6b8-427">For more information, refer to BizTalk Messaging Publishing Throttling State Analysis in this topic.</span></span>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           |
|                <span data-ttu-id="cc6b8-428">BizTalk オーケストレーションの BizTalk Server: 中断/秒</span><span class="sxs-lookup"><span data-stu-id="cc6b8-428">BizTalk Server:  BizTalk Orchestration Suspended/second</span></span>                |                                                                                                                                                                                                                                                                                                                                                                                        <span data-ttu-id="cc6b8-429">中断されたメッセージは、メッセージまたはオーケストレーションのインスタンスを[!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)]エラーのため、システムまたはメッセージの処理が停止しました。</span><span class="sxs-lookup"><span data-stu-id="cc6b8-429">A suspended message is an instance of a message or orchestration that [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] has stopped processing due to an error in the system or the message.</span></span> <span data-ttu-id="cc6b8-430">通常、システム エラーによって中断されたインスタンスは、システムの問題が解決された時点で再開可能になります。</span><span class="sxs-lookup"><span data-stu-id="cc6b8-430">Generally, suspended instances caused by system errors are resumable upon resolution of the system issue.</span></span> <span data-ttu-id="cc6b8-431">多くの場合、メッセージの問題によって中断されたインスタンスは再開できないと、メッセージ自体を固定およびに再送信する必要があります、[!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)]システム。</span><span class="sxs-lookup"><span data-stu-id="cc6b8-431">Often, suspended instances due to a message problem are not resumable, and the message itself must be fixed and resubmitted to the [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] system.</span></span> <span data-ttu-id="cc6b8-432">この分析は、中断されたメッセージ/オーケストレーションをチェックします。</span><span class="sxs-lookup"><span data-stu-id="cc6b8-432">This analysis checks for any suspended messages/orchestrations.</span></span><br /><br /> <span data-ttu-id="cc6b8-433">参照: BizTalk Server 2004: 監視とトラブルシューティング [http://go.microsoft.com/fwlink/?linkid=108771](http://go.microsoft.com/fwlink/?linkid=108771)</span><span class="sxs-lookup"><span data-stu-id="cc6b8-433">Reference:  BizTalk Server 2004: Monitoring and Troubleshooting at [http://go.microsoft.com/fwlink/?linkid=108771](http://go.microsoft.com/fwlink/?linkid=108771)</span></span>                                                                                                                                                                                                                                                                                                                                                                                        |
|               <span data-ttu-id="cc6b8-434">BizTalk オーケストレーションを BizTalk Server: 完了/秒</span><span class="sxs-lookup"><span data-stu-id="cc6b8-434">BizTalk Server:  BizTalk Orchestrations Completed/second</span></span>                |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                       <span data-ttu-id="cc6b8-435">これは、完了した BizTalk オーケストレーションの数/秒。</span><span class="sxs-lookup"><span data-stu-id="cc6b8-435">This is the number of BizTalk orchestrations that have completed per second.</span></span> <span data-ttu-id="cc6b8-436">これは、BizTalk の処理量のスループットに関する適切なインジケーターです。</span><span class="sxs-lookup"><span data-stu-id="cc6b8-436">This is a good indicator as to how much throughput BizTalk is processing.</span></span> <span data-ttu-id="cc6b8-437">この分析は、統計のみを提供します。</span><span class="sxs-lookup"><span data-stu-id="cc6b8-437">This analysis provides statistics only.</span></span><br /><br /> <span data-ttu-id="cc6b8-438">参照: BizTalk Server 2006: BizTalk Server 2006 では、SOAP アダプターを使用して拡張性のケース スタディ</span><span class="sxs-lookup"><span data-stu-id="cc6b8-438">Reference:  BizTalk Server 2006: Scalability Case Study Using the SOAP Adapter in BizTalk Server 2006</span></span> <br />[http://go.microsoft.com/fwlink/?linkid=108774](http://go.microsoft.com/fwlink/?linkid=108774)                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                       |
|                   <span data-ttu-id="cc6b8-439">BizTalk Server: BizTalk オーケストレーションの破棄</span><span class="sxs-lookup"><span data-stu-id="cc6b8-439">BizTalk Server:  BizTalk Orchestrations Discarded</span></span>                   |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          <span data-ttu-id="cc6b8-440">ホスト インスタンスの起動以降にメモリから破棄されたオーケストレーション インスタンスの数。</span><span class="sxs-lookup"><span data-stu-id="cc6b8-440">Number of orchestration instances discarded from memory since the host instance started.</span></span> <span data-ttu-id="cc6b8-441">エンジンがオーケストレーション状態の永続化に失敗した場合、そのオーケストレーションは破棄可能と見なされます。</span><span class="sxs-lookup"><span data-stu-id="cc6b8-441">An orchestration can be discarded if the engine fails to persist its state.</span></span> <span data-ttu-id="cc6b8-442">この分析は、破棄されたメッセージを確認します。</span><span class="sxs-lookup"><span data-stu-id="cc6b8-442">This analysis checks for any discarded messages.</span></span><br /><br /> <span data-ttu-id="cc6b8-443">BizTalk のコア エンジンのブログを参照します。</span><span class="sxs-lookup"><span data-stu-id="cc6b8-443">Reference:  BizTalk Core Engine's WebLog</span></span><br />[http://go.microsoft.com/fwlink/?linkid=108775](http://go.microsoft.com/fwlink/?linkid=108775)                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           |
|              <span data-ttu-id="cc6b8-444">メモリ内の BizTalk Server: BizTalk オーケストレーションの常駐</span><span class="sxs-lookup"><span data-stu-id="cc6b8-444">BizTalk Server:  BizTalk Orchestrations Resident in Memory</span></span>               |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           <span data-ttu-id="cc6b8-445">ホスト インスタンスによって現在ホストされているオーケストレーション インスタンスの数。</span><span class="sxs-lookup"><span data-stu-id="cc6b8-445">Number of orchestration instances currently hosted by the host instance.</span></span> <span data-ttu-id="cc6b8-446">この分析は、メモリとかどうかメモリに常駐しているオーケストレーションの 50% 以上でない推定された待避可能に常駐しているオーケストレーションで上昇傾向を確認します。</span><span class="sxs-lookup"><span data-stu-id="cc6b8-446">This analysis checks for an increasing trend in orchestrations resident in memory and whether more than 50 percent of the orchestrations resident in memory are not dehydratable.</span></span> <span data-ttu-id="cc6b8-447">詳細については、メモリ分析での BizTalk オーケストレーションの常駐を参照してください。</span><span class="sxs-lookup"><span data-stu-id="cc6b8-447">For more information, refer to BizTalk Orchestrations Resident in Memory Analysis.</span></span>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           |
|                   <span data-ttu-id="cc6b8-448">BizTalk Server: BizTalk 送信アダプターの待機時間</span><span class="sxs-lookup"><span data-stu-id="cc6b8-448">BizTalk Server:  BizTalk Outbound Adapter Latency</span></span>                   |                                                                                                  <span data-ttu-id="cc6b8-449">これは、ときに、アダプター ドキュメントを取得、メッセージング エンジンからアダプターによって送信されるまでの秒単位の平均待機時間です。</span><span class="sxs-lookup"><span data-stu-id="cc6b8-449">This is the average latency in seconds from when the adapter gets a document from the messaging engine until the time it is sent by the adapter.</span></span> <span data-ttu-id="cc6b8-450">BizTalk の受信待機時間分析でこのトピックの待機時間を測定する方法を示すグラフを参照してください。</span><span class="sxs-lookup"><span data-stu-id="cc6b8-450">Refer to the chart showing how latency is measured in BizTalk Inbound Latency Analysis in this topic.</span></span> <span data-ttu-id="cc6b8-451">低待機時間環境と仮定すると、この分析を確認しますを 5 秒を超える送信アダプターでの待機時間の平均。</span><span class="sxs-lookup"><span data-stu-id="cc6b8-451">Assuming a low latency environment, this analysis checks for latency in the outbound adapter of greater than 5 seconds on average.</span></span> <span data-ttu-id="cc6b8-452">このホスト インスタンスでの送信アダプターを経由してメッセージのトランスポートでの処理の遅延がある可能性があります。</span><span class="sxs-lookup"><span data-stu-id="cc6b8-452">This may indicate a processing delay in the transport of messages through outbound adapters in this host instance.</span></span> <span data-ttu-id="cc6b8-453">複数の送信アダプターは、このホスト インスタンスに存在する場合、送信アダプターが高待機時間を判断する独自のホストに分割することを検討します。</span><span class="sxs-lookup"><span data-stu-id="cc6b8-453">If multiple outbound adapters exist in this host instance, then consider separating them into their own hosts to determine which outbound adapter has high latency.</span></span><br /><br /> <span data-ttu-id="cc6b8-454">参照:</span><span class="sxs-lookup"><span data-stu-id="cc6b8-454">References:</span></span><br /><br /> <span data-ttu-id="cc6b8-455">-要求/応答メッセージングに [http://go.microsoft.com/fwlink/?LinkId=155288](http://go.microsoft.com/fwlink/?LinkId=155288)</span><span class="sxs-lookup"><span data-stu-id="cc6b8-455">-   Request/Response Messaging at [http://go.microsoft.com/fwlink/?LinkId=155288](http://go.microsoft.com/fwlink/?LinkId=155288)</span></span><br /><span data-ttu-id="cc6b8-456">BizTalk Server 2006: での BizTalk Server 2006 では、SOAP アダプターを使用して拡張性のケース スタディ [http://go.microsoft.com/fwlink/?linkid=108774](http://go.microsoft.com/fwlink/?linkid=108774)</span><span class="sxs-lookup"><span data-stu-id="cc6b8-456">-   BizTalk Server 2006: Scalability Case Study Using the SOAP Adapter in BizTalk Server 2006 at [http://go.microsoft.com/fwlink/?linkid=108774](http://go.microsoft.com/fwlink/?linkid=108774)</span></span><br /><span data-ttu-id="cc6b8-457">-で BizTalk 層のボトルネックを特定します。 [http://go.microsoft.com/fwlink/?LinkId=155289](http://go.microsoft.com/fwlink/?LinkId=155289)</span><span class="sxs-lookup"><span data-stu-id="cc6b8-457">-   Identifying Bottlenecks in the BizTalk Tier at [http://go.microsoft.com/fwlink/?LinkId=155289](http://go.microsoft.com/fwlink/?LinkId=155289)</span></span><br /><span data-ttu-id="cc6b8-458">BizTalk Server 2004: で低待機時間がメッセージングのパフォーマンス チューニング [http://go.microsoft.com/fwlink/?linkid=108777](http://go.microsoft.com/fwlink/?linkid=108777)</span><span class="sxs-lookup"><span data-stu-id="cc6b8-458">-   BizTalk Server 2004: Performance Tuning for Low Latency Messaging at [http://go.microsoft.com/fwlink/?linkid=108777](http://go.microsoft.com/fwlink/?linkid=108777)</span></span>                                                                                                   |
|                       <span data-ttu-id="cc6b8-459">BizTalk Server: BizTalk メッセージの保留中</span><span class="sxs-lookup"><span data-stu-id="cc6b8-459">BizTalk Server:  BizTalk Pending Messages</span></span>                       |                                                                                                                                                                                                        <span data-ttu-id="cc6b8-460">メッセージ ボックスに受信確認されていない受信メッセージの数。</span><span class="sxs-lookup"><span data-stu-id="cc6b8-460">The number of received messages that have not been acknowledged as received to the MessageBox.</span></span> <span data-ttu-id="cc6b8-461">保留中のメッセージをメモリに引っ張ら XLANG オーケストレーションに配信されたがまだとないメッセージされて処理されます。</span><span class="sxs-lookup"><span data-stu-id="cc6b8-461">Pending messages are messages that have been pulled into memory and delivered to the XLANG orchestration, but have not yet been processed.</span></span> <span data-ttu-id="cc6b8-462">このような状況は、データが失われるとは無関係です。</span><span class="sxs-lookup"><span data-stu-id="cc6b8-462">This circumstance has nothing to do with data loss.</span></span>  <span data-ttu-id="cc6b8-463">オーケストレーションにメッセージを配信するマルチ ステップのプロセスし、データベースにスプール テーブルに存在するメッセージのインスタンスだけです。</span><span class="sxs-lookup"><span data-stu-id="cc6b8-463">Delivering a message to an orchestration is a multi-step process and is simply an instance of the message residing in the spool table in the database.</span></span> <span data-ttu-id="cc6b8-464">保留中のメッセージのこれらのカウントとプロセス内のメッセージそのため、メモリ内でそれらの多数がある可能性がメモリ システムの制限します。</span><span class="sxs-lookup"><span data-stu-id="cc6b8-464">These pending messages count as in-process messages; therefore, having a large number of them in memory could cause memory throttling on the system.</span></span> <span data-ttu-id="cc6b8-465">内部メッセージ キューのサイズ設定を調整することを支援保留中のメッセージの数を制御する可能性があります。</span><span class="sxs-lookup"><span data-stu-id="cc6b8-465">Adjusting the Internal Message Queue Size setting could help with controlling the number of pending messages.</span></span> <span data-ttu-id="cc6b8-466">CPU あたりのインプロセス メッセージの設定は、ときに調整が呼び出す多数の保留中のメッセージが発生した場合の影響を与えます。</span><span class="sxs-lookup"><span data-stu-id="cc6b8-466">The In-Process Messages Per CPU setting has an impact on when throttling will invoke when a high number of pending messages occurs.</span></span> <span data-ttu-id="cc6b8-467">これらの設定は、BizTalk 管理コンソールでホストのプロパティで表示されます。</span><span class="sxs-lookup"><span data-stu-id="cc6b8-467">These setting are found in the Host properties in the BizTalk Administration Console.</span></span> <span data-ttu-id="cc6b8-468">この分析は、このカウンターの表示の統計情報のみをチェックします。</span><span class="sxs-lookup"><span data-stu-id="cc6b8-468">This analysis checks only shows statistics for this counter.</span></span><br /><br /> <span data-ttu-id="cc6b8-469">リファレンス: オーケストレーション エンジンのパフォーマンス カウンター [http://go.microsoft.com/fwlink/?LinkId=155290](http://go.microsoft.com/fwlink/?LinkId=155290)</span><span class="sxs-lookup"><span data-stu-id="cc6b8-469">Reference: Orchestration Engine Performance Counters at [http://go.microsoft.com/fwlink/?LinkId=155290](http://go.microsoft.com/fwlink/?LinkId=155290)</span></span>                                                                                                                                                                                                         |
|                  <span data-ttu-id="cc6b8-470">BizTalk Server: BizTalk 永続化ポイント/秒</span><span class="sxs-lookup"><span data-stu-id="cc6b8-470">BizTalk Server:  BizTalk Persistence Points/second</span></span>                   |                                                                                         <span data-ttu-id="cc6b8-471">永続化されたオーケストレーション インスタンスの 1 秒あたりの平均数。</span><span class="sxs-lookup"><span data-stu-id="cc6b8-471">Average number of orchestration instances persisted per second.</span></span> <span data-ttu-id="cc6b8-472">オーケストレーション エンジンは、さまざまな場所で実行しているオーケストレーション インスタンスの状態を保存します。</span><span class="sxs-lookup"><span data-stu-id="cc6b8-472">The orchestration engine saves the state of a running orchestration instance at various points.</span></span> <span data-ttu-id="cc6b8-473">オーケストレーション インスタンスにリハイド レートで、制御されたシャット ダウンから起動するか、または予期しないシャット ダウンから回復する必要がある場合は、最後の永続性ポイントからオーケストレーション インスタンスが実行されます。</span><span class="sxs-lookup"><span data-stu-id="cc6b8-473">If it needs to rehydrate the orchestration instance, start up from a controlled shutdown, or recover from an unexpected shutdown, it will run the orchestration instance from the last persistence point.</span></span> <span data-ttu-id="cc6b8-474">オーケストレーション インスタンスを永続化するためには、すべてのオブジェクト インスタンスを直接または間接的にオーケストレーションが参照 (同様に他のオブジェクトを介して) シリアル化可能である必要があります。</span><span class="sxs-lookup"><span data-stu-id="cc6b8-474">In order to persist an orchestration instance, all object instances that your orchestration refers to directly or indirectly (as through other objects) must be serializable.</span></span> <span data-ttu-id="cc6b8-475">メッセージ永続化 (データを永続化する必要がある時間数) の頻度増加、全体的なパフォーマンスが低下します。</span><span class="sxs-lookup"><span data-stu-id="cc6b8-475">As message-persistence frequency (the number of times that data needs to be persisted) increases, overall performance decreases.</span></span> <span data-ttu-id="cc6b8-476">各永続化ポイントのデータベースへのラウンド トリップが実際には、ので可能であれば、この永続化ポイントの頻度を回避または永続化ポイントを統合することによって減らします。</span><span class="sxs-lookup"><span data-stu-id="cc6b8-476">In effect, each persistence point is a round trip to the database, so whenever possible reduce the frequency of persistence points by avoiding or consolidating persistence points.</span></span> <span data-ttu-id="cc6b8-477">永続化ポイントが発生した場合の詳細については、以下の参照を参照してください。</span><span class="sxs-lookup"><span data-stu-id="cc6b8-477">See the references below for more information regarding when persistence points occur.</span></span> <span data-ttu-id="cc6b8-478">この分析は、平均で 1 秒あたり 10 個を超えるの永続化ポイントをチェックします。</span><span class="sxs-lookup"><span data-stu-id="cc6b8-478">This analysis checks for more than 10 persistence points per second on average.</span></span> <span data-ttu-id="cc6b8-479">これは、一般的な開始点です。</span><span class="sxs-lookup"><span data-stu-id="cc6b8-479">This is a general starting point.</span></span><br /><br /> <span data-ttu-id="cc6b8-480">参照:</span><span class="sxs-lookup"><span data-stu-id="cc6b8-480">References:</span></span><br /><br /> <span data-ttu-id="cc6b8-481">のオーケストレーションで永続化 [http://go.microsoft.com/fwlink/?LinkId=155291](http://go.microsoft.com/fwlink/?LinkId=155291)</span><span class="sxs-lookup"><span data-stu-id="cc6b8-481">-   Persistence in Orchestrations at [http://go.microsoft.com/fwlink/?LinkId=155291](http://go.microsoft.com/fwlink/?LinkId=155291)</span></span><br /><span data-ttu-id="cc6b8-482">永続化とで、オーケストレーション エンジン [http://go.microsoft.com/fwlink/?LinkId=155292](http://go.microsoft.com/fwlink/?LinkId=155292)</span><span class="sxs-lookup"><span data-stu-id="cc6b8-482">-   Persistence and the Orchestration Engine at [http://go.microsoft.com/fwlink/?LinkId=155292](http://go.microsoft.com/fwlink/?LinkId=155292)</span></span>                                                                                         |
|                        <span data-ttu-id="cc6b8-483">BizTalk Server: BizTalk Private Bytes</span><span class="sxs-lookup"><span data-stu-id="cc6b8-483">BizTalk Server:  BizTalk Private Bytes</span></span>                         |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                       <span data-ttu-id="cc6b8-484">相当し、ホスト インスタンスに割り当てられているプライベート メモリのメガバイト数これは、"\Process (\*) \Private バイト数"パフォーマンス カウンター。</span><span class="sxs-lookup"><span data-stu-id="cc6b8-484">This is the megabytes of allocated private memory for the host instance and comparable to the “\Process(\*)\Private Bytes” performance counter.</span></span> <span data-ttu-id="cc6b8-485">この分析は、システムのメモリのサイズを使用、任意のホスト インスタンスかどうかと、ホスト インスタンスがメモリの消費時間の経過と共に増加するかどうかを決定します。</span><span class="sxs-lookup"><span data-stu-id="cc6b8-485">This analysis determines whether any of the host instances are consuming a large size of the system's memory and whether the host instance is increasing in memory consumption over time.</span></span> <span data-ttu-id="cc6b8-486">詳細については、このトピックでは、BizTalk のプライベート バイトの分析を参照してください。</span><span class="sxs-lookup"><span data-stu-id="cc6b8-486">Refer to BizTalk Private Bytes Analysis in this topic for more information.</span></span>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                       |
|                       <span data-ttu-id="cc6b8-487">BizTalk Server: BizTalk スプール テーブル サイズ</span><span class="sxs-lookup"><span data-stu-id="cc6b8-487">BizTalk Server:  BizTalk Spool Table Size</span></span>                       |                                                  <span data-ttu-id="cc6b8-488">メッセージ ボックス スプール テーブルにはシステムで各メッセージのレコードが含まれています (アクティブな「ガベージ コレクション」を待機しているか)。</span><span class="sxs-lookup"><span data-stu-id="cc6b8-488">The MessageBox spool table contains a record for each message in the system (active or waiting to be "garbage collected").</span></span> <span data-ttu-id="cc6b8-489">このテーブル内の行の数とシステムの負荷の増加には、最大持続可能スループットを検索する簡単な方法が用意されています。 1 秒あたりの受信メッセージの数を監視します。</span><span class="sxs-lookup"><span data-stu-id="cc6b8-489">Monitoring the number of rows in this table and the number of messages received per second while increasing system load provides an easy way to find the maximum sustainable throughput.</span></span> <span data-ttu-id="cc6b8-490">1) のいずれかのスプール テーブルが無制限に拡大が開始されるまで入力負荷または 2) 2 つ目の安定した状態、早い方、およびは、最大持続可能スループットのあたりに受信したメッセージの数を増やすだけです。</span><span class="sxs-lookup"><span data-stu-id="cc6b8-490">Simply increase the input load until either 1) the spool table starts to grow indefinitely or 2) the number of messages received per second plateaus, whichever comes first, and that is your maximum sustainable throughput.</span></span> <span data-ttu-id="cc6b8-491">要約すると、他のインジケーターに関係なく、このメジャーが表示されますか、システムは過度がされているかどうかを評価するための早くて簡単な方法です。</span><span class="sxs-lookup"><span data-stu-id="cc6b8-491">In summary, regardless of other indicators, this measure will give you a quick and easy way to assess whether your system is being overdriven or not.</span></span> <span data-ttu-id="cc6b8-492">BizTalk スプール テーブル サイズが増加傾向には、ときに不均衡なメッセージ配信率スロットルし (入力率が出力率を超える場合) またはデータベースのサイズに起因する制限が発生した可能性があります。</span><span class="sxs-lookup"><span data-stu-id="cc6b8-492">When the BizTalk spool tables size is on an increasing trend, then throttling due to imbalanced message delivery rate (input rate exceeds output rate) or throttling due to Database size may occur.</span></span> <span data-ttu-id="cc6b8-493">この分析は、BizTalk のスプール テーブル サイズの増加の傾向を確認します。</span><span class="sxs-lookup"><span data-stu-id="cc6b8-493">This analysis checks for an increasing trend in the BizTalk Spool Table Size.</span></span><br /><br /> <span data-ttu-id="cc6b8-494">参照:</span><span class="sxs-lookup"><span data-stu-id="cc6b8-494">References:</span></span><br /><br /> <span data-ttu-id="cc6b8-495">-BizTalk Server 2004 SP1 スループットと容量を理解します。 [http://go.microsoft.com/fwlink/?linkid=108781](http://go.microsoft.com/fwlink/?linkid=108781)</span><span class="sxs-lookup"><span data-stu-id="cc6b8-495">-   Understanding BizTalk Server 2004 SP1 Throughput and Capacity at [http://go.microsoft.com/fwlink/?linkid=108781](http://go.microsoft.com/fwlink/?linkid=108781)</span></span><br /><span data-ttu-id="cc6b8-496">維持可能なロード テスト [http://go.microsoft.com/fwlink/?LinkId=155293](http://go.microsoft.com/fwlink/?LinkId=155293)</span><span class="sxs-lookup"><span data-stu-id="cc6b8-496">-   Sustainable Load Test at [http://go.microsoft.com/fwlink/?LinkId=155293](http://go.microsoft.com/fwlink/?LinkId=155293)</span></span><br /><span data-ttu-id="cc6b8-497">-推奨事項にエンジンのパフォーマンスをテストするときに [http://go.microsoft.com/fwlink/?LinkID=155294](http://go.microsoft.com/fwlink/?LinkID=155294)</span><span class="sxs-lookup"><span data-stu-id="cc6b8-497">-   Recommendations When Testing Engine Performance at [http://go.microsoft.com/fwlink/?LinkID=155294](http://go.microsoft.com/fwlink/?LinkID=155294)</span></span>                                                   |
|                      <span data-ttu-id="cc6b8-498">BizTalk Server: BizTalk の追跡データのサイズ</span><span class="sxs-lookup"><span data-stu-id="cc6b8-498">BizTalk Server:  BizTalk Tracking Data Size</span></span>                      |                                                                                                                                                                                                                                                                                                                                                                                                                                                  <span data-ttu-id="cc6b8-499">BizTalk Server では、システムの詳細と詳細データを処理すると、BizTalk 追跡データベース (BizTalkDTADb) はサイズで増え続けています。</span><span class="sxs-lookup"><span data-stu-id="cc6b8-499">As BizTalk Server processes more and more data on your system, the BizTalk Tracking database (BizTalkDTADb) continues to grow in size.</span></span> <span data-ttu-id="cc6b8-500">サイズが増加してもチェックされないので、システム パフォーマンスが低下し、TDDS (Tracking Data Delivery Service) でエラーが発生することがあります。</span><span class="sxs-lookup"><span data-stu-id="cc6b8-500">Unchecked growth decreases system performance and may generate errors in the Tracking Data Delivery Service (TDDS).</span></span> <span data-ttu-id="cc6b8-501">一般的な追跡データに加えて、追跡メッセージもメッセージ ボックス データベースに累積されます。これにより、ディスクのパフォーマンスが低下します。</span><span class="sxs-lookup"><span data-stu-id="cc6b8-501">In addition to general tracking data, tracked messages can also accumulate in the MessageBox database, causing poor disk performance.</span></span> <span data-ttu-id="cc6b8-502">この分析は 5 MB 以上の追跡に 1 時間あたりの上昇傾向のチェックのデータのサイズ。</span><span class="sxs-lookup"><span data-stu-id="cc6b8-502">This analysis checks for an increasing trend of more than 5 MB’s per hour in the tracking data size.</span></span><br /><br /> <span data-ttu-id="cc6b8-503">参照:</span><span class="sxs-lookup"><span data-stu-id="cc6b8-503">Reference:</span></span><br /><br /> <span data-ttu-id="cc6b8-504">アーカイブおよび BizTalk 追跡データベースでの削除  [http://go.microsoft.com/fwlink/?LinkID=153816](http://go.microsoft.com/fwlink/?LinkID=153816)</span><span class="sxs-lookup"><span data-stu-id="cc6b8-504">Archiving and Purging the BizTalk Tracking Database at  [http://go.microsoft.com/fwlink/?LinkID=153816](http://go.microsoft.com/fwlink/?LinkID=153816)</span></span>                                                                                                                                                                                                                                                                                                                                                                                                                                                  |
|                 <span data-ttu-id="cc6b8-505">BizTalk Server: BizTalk トランザクション スコープが中止されました</span><span class="sxs-lookup"><span data-stu-id="cc6b8-505">BizTalk Server:  BizTalk Transactional Scopes Aborted</span></span>                 |                                                                                                                                                                                                                                                                                       <span data-ttu-id="cc6b8-506">これは、ホスト インスタンスの起動以降に中止された長時間またはアトミックのスコープの数です。</span><span class="sxs-lookup"><span data-stu-id="cc6b8-506">This is the number of long-running or atomic scopes that have been aborted since the host instance started.</span></span> <span data-ttu-id="cc6b8-507">トランザクション スコープの中止は、オーケストレーション内でトランザクション スコープ内に発生するエラーです。</span><span class="sxs-lookup"><span data-stu-id="cc6b8-507">A transactional scope abort is a failure that occurs in a transaction scope within an orchestration.</span></span> <span data-ttu-id="cc6b8-508">スコープは正常に完了しますが、前後のスコープは (後のプロセスで発生した障害) により中止することにしましたので、元に戻すように必要なは場合にのみ、スコープの補正ハンドラーが呼び出されることを理解しておく必要があります。</span><span class="sxs-lookup"><span data-stu-id="cc6b8-508">It is important to understand that the compensation handler of a scope is invoked only if the scope completed successfully, but then is required to be undone because a surrounding scope has decided to abort (due to failures that may occur later in the process).</span></span> <span data-ttu-id="cc6b8-509">また、トランザクションが中断された場合、状態の「自動」ロールバックは行われません。</span><span class="sxs-lookup"><span data-stu-id="cc6b8-509">Also, no "auto" rollback of state occurs in case of a transaction abort.</span></span> <span data-ttu-id="cc6b8-510">例外処理および補正ハンドラーを使用してプログラムでこの結果を実現できます。</span><span class="sxs-lookup"><span data-stu-id="cc6b8-510">You can achieve this outcome programmatically through the exception and compensation handlers.</span></span> <span data-ttu-id="cc6b8-511">トランザクション スコープの中止は、通常、運用環境では実行しません。そのため、この分析は、中止されたトランザクション スコープのすべての発生をチェックします。</span><span class="sxs-lookup"><span data-stu-id="cc6b8-511">Transactional scope aborts should not normally occur in a production environment; therefore, this analysis checks for the occurrence of any transactional scopes aborted.</span></span><br /><br /> <span data-ttu-id="cc6b8-512">参照:</span><span class="sxs-lookup"><span data-stu-id="cc6b8-512">Reference:</span></span><br /><br /> <span data-ttu-id="cc6b8-513">BizTalk Server 2004 にまたがるトランザクション [http://go.microsoft.com/fwlink/?linkid=108784](http://go.microsoft.com/fwlink/?linkid=108784)</span><span class="sxs-lookup"><span data-stu-id="cc6b8-513">Transactions Across BizTalk Server 2004 at [http://go.microsoft.com/fwlink/?linkid=108784](http://go.microsoft.com/fwlink/?linkid=108784)</span></span>                                                                                                                                                                                                                                                                                       |
|               <span data-ttu-id="cc6b8-514">BizTalk Server: BizTalk のトランザクション スコープが補正</span><span class="sxs-lookup"><span data-stu-id="cc6b8-514">BizTalk Server:  BizTalk Transactional Scopes Compensated</span></span>               |                                                                                                                                                                                                                                                                                                                                  <span data-ttu-id="cc6b8-515">補正は、何らかのエラー状態への応答で正常にコミットされた作業の論理的に元に戻すと考えることができます。</span><span class="sxs-lookup"><span data-stu-id="cc6b8-515">Compensation can be thought of as a logical undo of the work that has been successfully committed in response to some error condition.</span></span> <span data-ttu-id="cc6b8-516">スコープは正常に完了しますが、前後のスコープは (後のプロセスで発生した障害) により中止することにしましたので、元に戻すように必要なは場合にのみ、スコープの補正ハンドラーが呼び出されることを理解しておく必要があります。</span><span class="sxs-lookup"><span data-stu-id="cc6b8-516">It is important to understand that the compensation handler of a scope is invoked only if the scope completed successfully, but then is required to be undone because a surrounding scope has decided to abort (due to failures that may occur later in the process).</span></span> <span data-ttu-id="cc6b8-517">また、トランザクションが中断された場合、状態の「自動」ロールバックは行われません。</span><span class="sxs-lookup"><span data-stu-id="cc6b8-517">Also, no "auto" rollback of state occurs in case of a transaction abort.</span></span> <span data-ttu-id="cc6b8-518">これは、例外処理および補正処理を使ったプログラムによって実現できます。</span><span class="sxs-lookup"><span data-stu-id="cc6b8-518">You can achieve this programmatically through the exception and compensation handlers.</span></span> <span data-ttu-id="cc6b8-519">トランザクション スコープの補正は、通常、運用環境では実行しません。そのため、この分析は、中止されたトランザクション スコープのすべての発生をチェックします。</span><span class="sxs-lookup"><span data-stu-id="cc6b8-519">Transactional scope compensations should not normally occur in a production environment; therefore, this analysis checks for the occurrence of any transactional scopes aborted.</span></span><br /><br /> <span data-ttu-id="cc6b8-520">BizTalk Server 2004 にまたがる参照: トランザクション [http://go.microsoft.com/fwlink/?linkid=108784](http://go.microsoft.com/fwlink/?linkid=108784)</span><span class="sxs-lookup"><span data-stu-id="cc6b8-520">Reference: Transactions Across BizTalk Server 2004 at [http://go.microsoft.com/fwlink/?linkid=108784](http://go.microsoft.com/fwlink/?linkid=108784)</span></span>                                                                                                                                                                                                                                                                                                                                   |
|                        <span data-ttu-id="cc6b8-521">BizTalk Server: BizTalk 仮想バイト</span><span class="sxs-lookup"><span data-stu-id="cc6b8-521">BizTalk Server:  BizTalk Virtual Bytes</span></span>                         |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         <span data-ttu-id="cc6b8-522">これは、ホスト インスタンスの仮想メモリの予約済みのメガバイト数です。</span><span class="sxs-lookup"><span data-stu-id="cc6b8-522">This is the megabytes reserved for virtual memory for the host instance.</span></span> <span data-ttu-id="cc6b8-523">この分析は、大量のシステムのメモリを消費、任意のホスト インスタンスかどうかと、ホスト インスタンスがメモリの消費時間の経過と共に増加するかどうかを決定します。</span><span class="sxs-lookup"><span data-stu-id="cc6b8-523">This analysis determines whether any of the host instances are consuming a large amount of the system's memory and whether the host instance is increasing in memory consumption over time.</span></span> <span data-ttu-id="cc6b8-524">詳細については、このトピックの「BizTalk 仮想バイト分析を参照してください。</span><span class="sxs-lookup"><span data-stu-id="cc6b8-524">For more information, refer to BizTalk Virtual Bytes Analysis in this topic.</span></span>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         |
|          <span data-ttu-id="cc6b8-525">BizTalk Server: BizTalk メッセージ エージェントのデータベース セッションの制限</span><span class="sxs-lookup"><span data-stu-id="cc6b8-525">BizTalk Server:  BizTalk Message Agent Database Session Throttling</span></span>           |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 <span data-ttu-id="cc6b8-526">これは、そのそれぞれ BizTalk の帯域幅の調整と比較して、メッセージ ボックスに、開いているデータベース接続の数です。</span><span class="sxs-lookup"><span data-stu-id="cc6b8-526">This is the number of open database connections to the MessageBox compared to its respective BizTalk throttling setting.</span></span> <span data-ttu-id="cc6b8-527">「データベースの CPU ごとの接続」は、許可の制限が適用されます (CPU) ごとの同時実行データベース セッションの最大数です。</span><span class="sxs-lookup"><span data-stu-id="cc6b8-527">“Database connection per CPU” is the maximum number of concurrent database sessions (per CPU) allowed before throttling begins.</span></span> <span data-ttu-id="cc6b8-528">詳細については、このトピックの「BizTalk メッセージ エージェント データベース セッションの制限の分析を参照してください。</span><span class="sxs-lookup"><span data-stu-id="cc6b8-528">For more information, refer to BizTalk Message Agent Database Session Throttling Analysis in this topic.</span></span>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 |
|     <span data-ttu-id="cc6b8-529">BizTalk Server: BizTalk メッセージ エージェント データベース セッションの制限のしきい値</span><span class="sxs-lookup"><span data-stu-id="cc6b8-529">BizTalk Server:  BizTalk Message Agent Database Session Throttling Threshold</span></span>      |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          <span data-ttu-id="cc6b8-530">これは、メッセージ ボックスに、開いているデータベース接続の数に対する現在のしきい値です。</span><span class="sxs-lookup"><span data-stu-id="cc6b8-530">This is the current threshold for the number of open database connections to the MessageBox.</span></span> <span data-ttu-id="cc6b8-531">「データベースの CPU ごとの接続」は、許可の制限が適用されます (CPU) ごとの同時実行データベース セッションの最大数です。</span><span class="sxs-lookup"><span data-stu-id="cc6b8-531">“Database connection per CPU” is the maximum number of concurrent database sessions (per CPU) allowed before throttling begins.</span></span> <span data-ttu-id="cc6b8-532">詳細については、このトピックの「BizTalk メッセージ エージェント データベース セッション スロットルしきい値分析を参照してください。</span><span class="sxs-lookup"><span data-stu-id="cc6b8-532">For more information, refer to BizTalk Message Agent Database Session Throttling Threshold Analysis in this topic.</span></span>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          |
|      <span data-ttu-id="cc6b8-533">BizTalk Server: BizTalk メッセージ エージェント インプロセス メッセージ数の調整</span><span class="sxs-lookup"><span data-stu-id="cc6b8-533">BizTalk Server:  BizTalk Message Agent In-process Message Count Throttling</span></span>       |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   <span data-ttu-id="cc6b8-534">これは、サービス クラスが処理されている同時実行のメッセージの数です。</span><span class="sxs-lookup"><span data-stu-id="cc6b8-534">This is the number of concurrent messages that the service class is processing.</span></span> <span data-ttu-id="cc6b8-535">ホスト制限の設定で、「プロセスでは、CPU ごとのメッセージ」の設定は、処理されていない、エンド ポイント マネージャー (EPM) または XLANG に配信されたメッセージの最大数です。</span><span class="sxs-lookup"><span data-stu-id="cc6b8-535">The “In-process messages per CPU” setting in the Host Throttling Settings is the maximum number of messages delivered to the End Point Manager (EPM) or XLANG that have not been processed.</span></span> <span data-ttu-id="cc6b8-536">詳細については、このトピックの「BizTalk メッセージ エージェント インプロセス メッセージ数の制限分析を参照してください。</span><span class="sxs-lookup"><span data-stu-id="cc6b8-536">For more information, refer to BizTalk Message Agent In-process Message Count Throttling Analysis in this topic.</span></span>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    |
| <span data-ttu-id="cc6b8-537">BizTalk Server: BizTalk メッセージ エージェントのインプロセス メッセージ数制限のしきい値</span><span class="sxs-lookup"><span data-stu-id="cc6b8-537">BizTalk Server:  BizTalk Message Agent In-process Message Count Throttling Threshold</span></span>  |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 <span data-ttu-id="cc6b8-538">これは、サービス クラスが処理されている同時実行のメッセージの数に対する現在のしきい値です。</span><span class="sxs-lookup"><span data-stu-id="cc6b8-538">This is the current threshold for the number of concurrent messages that the service class is processing.</span></span> <span data-ttu-id="cc6b8-539">ホスト制限の設定で、「プロセスでは、CPU ごとのメッセージ」の設定は、処理されていない、エンド ポイント マネージャー (EPM) または XLANG に配信されたメッセージの最大数です。</span><span class="sxs-lookup"><span data-stu-id="cc6b8-539">The “In-process messages per CPU” setting in the Host Throttling Settings is the maximum number of messages delivered to the End Point Manager (EPM) or XLANG that have not been processed.</span></span> <span data-ttu-id="cc6b8-540">詳細については、BizTalk メッセージ エージェント インプロセス メッセージ カウントの調整しきい値 Analysis このトピックの「を参照してください。</span><span class="sxs-lookup"><span data-stu-id="cc6b8-540">For more information, refer to BizTalk Message Agent In-process Message Count Throttling Threshold Analysis in this topic.</span></span>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  |
|      <span data-ttu-id="cc6b8-541">BizTalk Server: BizTalk メッセージ エージェント プロセス メモリ使用量 (MB) の調整</span><span class="sxs-lookup"><span data-stu-id="cc6b8-541">BizTalk Server:  BizTalk Message Agent Process Memory Usage (MB) Throttling</span></span>      |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <span data-ttu-id="cc6b8-542">これは、現在のプロセス (MB) のメモリ使用量です。</span><span class="sxs-lookup"><span data-stu-id="cc6b8-542">This is the memory usage of current process (MB).</span></span> <span data-ttu-id="cc6b8-543">BizTalk プロセス メモリの制限は公開するバッチに急なメモリの要件がある場合、またはメッセージを処理しているスレッドが多すぎる場合に発生します。</span><span class="sxs-lookup"><span data-stu-id="cc6b8-543">BizTalk process memory throttling can occur if the batch to be published has steep memory requirements, or if too many threads are processing messages.</span></span> <span data-ttu-id="cc6b8-544">詳細については、このトピックの「BizTalk メッセージ エージェント プロセス メモリ使用量 (MB) 調整分析を参照してください。</span><span class="sxs-lookup"><span data-stu-id="cc6b8-544">For more information, refer to BizTalk Message Agent Process Memory Usage (MB) Throttling Analysis in this topic.</span></span>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    |
| <span data-ttu-id="cc6b8-545">BizTalk Server: BizTalk メッセージ エージェント プロセス メモリ使用量 (MB) 制限のしきい値</span><span class="sxs-lookup"><span data-stu-id="cc6b8-545">BizTalk Server:  BizTalk Message Agent Process Memory Usage (MB) Throttling Threshold</span></span> |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         <span data-ttu-id="cc6b8-546">これは、現在のプロセス (MB) のメモリ使用量に対する現在のしきい値です。</span><span class="sxs-lookup"><span data-stu-id="cc6b8-546">This is the current threshold for the memory usage of current process (MB).</span></span> <span data-ttu-id="cc6b8-547">しきい値は、実際には、このプロセスとメモリ使用量パターンの使用可能なメモリの量に応じて動的に調整される可能性があります。</span><span class="sxs-lookup"><span data-stu-id="cc6b8-547">The threshold may be dynamically adjusted depending on the actual amount of memory available to this process and its memory consumption pattern.</span></span> <span data-ttu-id="cc6b8-548">BizTalk プロセス メモリの制限は公開するバッチに急なメモリの要件がある場合、またはメッセージを処理しているスレッドが多すぎる場合に発生します。</span><span class="sxs-lookup"><span data-stu-id="cc6b8-548">BizTalk process memory throttling can occur if the batch to be published has steep memory requirements, or if too many threads are processing messages.</span></span> <span data-ttu-id="cc6b8-549">詳細については、このトピックの「(MB) の調整のしきい値分析を BizTalk メッセージ エージェントのプロセス メモリ使用量を参照します。</span><span class="sxs-lookup"><span data-stu-id="cc6b8-549">For more information, refer to BizTalk Message Agent Process memory usage (MB) Throttling Threshold Analysis in this topic.</span></span>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          |
|            <span data-ttu-id="cc6b8-550">BizTalk Server: BizTalk メッセージ エージェント スレッド数の調整</span><span class="sxs-lookup"><span data-stu-id="cc6b8-550">BizTalk Server:  BizTalk Message Agent Thread Count Throttling</span></span>             | <span data-ttu-id="cc6b8-551">BizTalk プロセスのスレッドの合計数。</span><span class="sxs-lookup"><span data-stu-id="cc6b8-551">The total number of threads in the BizTalk process.</span></span> <span data-ttu-id="cc6b8-552">「CPU あたりのスレッド」は、アダプターで使用されるスレッドを含むホスト プロセス内のスレッドの合計数です。</span><span class="sxs-lookup"><span data-stu-id="cc6b8-552">“Threads Per CPU” is the total number of threads in the host process including threads used by adapters.</span></span> <span data-ttu-id="cc6b8-553">このしきい値を超えると、BizTalk Server は、EPM スレッド プールのサイズとメッセージ エージェント スレッド プールを減らそうとします。</span><span class="sxs-lookup"><span data-stu-id="cc6b8-553">If this threshold is exceeded, BizTalk Server will try to reduce the size of EPM thread pool and message agent thread pool.</span></span> <span data-ttu-id="cc6b8-554">高負荷によって多くのスレッドを作成するシナリオでは、スレッド ベースの制限を有効にする必要があります。</span><span class="sxs-lookup"><span data-stu-id="cc6b8-554">Thread based throttling should be enabled in scenarios where high load can lead to the creation of a large number of threads.</span></span> <span data-ttu-id="cc6b8-555">このパラメーターは、受信制限と送信制限の両方に影響します。</span><span class="sxs-lookup"><span data-stu-id="cc6b8-555">This parameter affects both inbound and outbound throttling.</span></span> <span data-ttu-id="cc6b8-556">既定では、スレッド ベースの制限を無効になっています。</span><span class="sxs-lookup"><span data-stu-id="cc6b8-556">Thread based throttling is disabled by default.</span></span> <span data-ttu-id="cc6b8-557">この分析は、BizTalk のスレッド数が制限の条件が可能性を示す調整のしきい値の 80% を超えるかどうかを確認します。</span><span class="sxs-lookup"><span data-stu-id="cc6b8-557">This analysis checks whether the BizTalk Thread count is greater than 80 percent of the throttling threshold value indicating a throttling condition is likely.</span></span><br /><br /> <span data-ttu-id="cc6b8-558">参照:</span><span class="sxs-lookup"><span data-stu-id="cc6b8-558">References:</span></span><br /><br /> <span data-ttu-id="cc6b8-559">-ホストに制限のパフォーマンス カウンター [http://go.microsoft.com/fwlink/?LinkId=155285](http://go.microsoft.com/fwlink/?LinkId=155285)</span><span class="sxs-lookup"><span data-stu-id="cc6b8-559">-   Host Throttling Performance Counters at [http://go.microsoft.com/fwlink/?LinkId=155285](http://go.microsoft.com/fwlink/?LinkId=155285)</span></span><br /><span data-ttu-id="cc6b8-560">-[!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)]ホストで制限の実装 [http://go.microsoft.com/fwlink/?LinkId=155286](http://go.microsoft.com/fwlink/?LinkId=155286)</span><span class="sxs-lookup"><span data-stu-id="cc6b8-560">-   How [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] Implements Host Throttling at [http://go.microsoft.com/fwlink/?LinkId=155286](http://go.microsoft.com/fwlink/?LinkId=155286)</span></span><br /><span data-ttu-id="cc6b8-561">-既定のホスト制限の設定を変更する方法 [http://go.microsoft.com/fwlink/?LinkId=155296](http://go.microsoft.com/fwlink/?LinkId=155296)</span><span class="sxs-lookup"><span data-stu-id="cc6b8-561">-   How to Modify the Default Host Throttling Settings at [http://go.microsoft.com/fwlink/?LinkId=155296](http://go.microsoft.com/fwlink/?LinkId=155296)</span></span><br /><span data-ttu-id="cc6b8-562">アダプターのパフォーマンスに影響する構成パラメーター [http://go.microsoft.com/fwlink/?LinkID=154200](http://go.microsoft.com/fwlink/?LinkID=154200)</span><span class="sxs-lookup"><span data-stu-id="cc6b8-562">-   Configuration Parameters that Affect Adapter Performance at [http://go.microsoft.com/fwlink/?LinkID=154200](http://go.microsoft.com/fwlink/?LinkID=154200)</span></span><br /><span data-ttu-id="cc6b8-563">スレッド数、DB のセッションとの調整 [http://go.microsoft.com/fwlink/?linkid=106793](http://go.microsoft.com/fwlink/?linkid=106793)</span><span class="sxs-lookup"><span data-stu-id="cc6b8-563">-   Threads, DB sessions, and throttling at [http://go.microsoft.com/fwlink/?linkid=106793](http://go.microsoft.com/fwlink/?linkid=106793)</span></span> |
|       <span data-ttu-id="cc6b8-564">BizTalk Server: BizTalk メッセージ エージェント スレッド数の制限のしきい値</span><span class="sxs-lookup"><span data-stu-id="cc6b8-564">BizTalk Server:  BizTalk Message Agent Thread Count Throttling Threshold</span></span>        |                    <span data-ttu-id="cc6b8-565">これは、プロセスのスレッドの合計数に対する現在のしきい値です。</span><span class="sxs-lookup"><span data-stu-id="cc6b8-565">This is the current threshold for the total number of threads in the process.</span></span> <span data-ttu-id="cc6b8-566">「CPU あたりのスレッド」は、アダプターで使用されるスレッドを含むホスト プロセス内のスレッドの合計数です。</span><span class="sxs-lookup"><span data-stu-id="cc6b8-566">“Threads Per CPU” is the total number of threads in the host process including threads used by adapters.</span></span> <span data-ttu-id="cc6b8-567">このしきい値を超えると、BizTalk Server は、EPM スレッド プールのサイズとメッセージ エージェント スレッド プールを減らそうとします。</span><span class="sxs-lookup"><span data-stu-id="cc6b8-567">If this threshold is exceeded, BizTalk Server will try to reduce the size of EPM thread pool and message agent thread pool.</span></span> <span data-ttu-id="cc6b8-568">多数のスレッドの作成に負荷が高い可能性があります、シナリオで、スレッド ベースの制限を有効にする必要があります。</span><span class="sxs-lookup"><span data-stu-id="cc6b8-568">Thread-based throttling should be enabled in scenarios where high load can lead to the creation of a large number of threads.</span></span> <span data-ttu-id="cc6b8-569">このパラメーターは、受信制限と送信制限の両方に影響します。</span><span class="sxs-lookup"><span data-stu-id="cc6b8-569">This parameter affects both inbound and outbound throttling.</span></span><br /><br /> <span data-ttu-id="cc6b8-570">この分析は、この制限の設定が既定以外の値に設定されているかどうかを確認します。</span><span class="sxs-lookup"><span data-stu-id="cc6b8-570">This analysis checks whether this throttling setting is set to a non-default value.</span></span> <span data-ttu-id="cc6b8-571">既定では、スレッド ベースの制限を無効になっています。</span><span class="sxs-lookup"><span data-stu-id="cc6b8-571">Thread based throttling is disabled by default.</span></span><br /><br /> <span data-ttu-id="cc6b8-572">参照:</span><span class="sxs-lookup"><span data-stu-id="cc6b8-572">References:</span></span><br /><br /> <span data-ttu-id="cc6b8-573">-ホストに制限のパフォーマンス カウンター [http://go.microsoft.com/fwlink/?LinkId=155285](http://go.microsoft.com/fwlink/?LinkId=155285)</span><span class="sxs-lookup"><span data-stu-id="cc6b8-573">-   Host Throttling Performance Counters at [http://go.microsoft.com/fwlink/?LinkId=155285](http://go.microsoft.com/fwlink/?LinkId=155285)</span></span><br /><span data-ttu-id="cc6b8-574">-[!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)]ホストで制限の実装 [http://go.microsoft.com/fwlink/?LinkId=155286](http://go.microsoft.com/fwlink/?LinkId=155286)</span><span class="sxs-lookup"><span data-stu-id="cc6b8-574">-   How [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] Implements Host Throttling at [http://go.microsoft.com/fwlink/?LinkId=155286](http://go.microsoft.com/fwlink/?LinkId=155286)</span></span><br /><span data-ttu-id="cc6b8-575">-既定のホスト制限の設定を変更する方法 [http://go.microsoft.com/fwlink/?LinkId=155296](http://go.microsoft.com/fwlink/?LinkId=155296)</span><span class="sxs-lookup"><span data-stu-id="cc6b8-575">-   How to Modify the Default Host Throttling Settings at [http://go.microsoft.com/fwlink/?LinkId=155296](http://go.microsoft.com/fwlink/?LinkId=155296)</span></span><br /><span data-ttu-id="cc6b8-576">アダプターのパフォーマンスに影響する構成パラメーター [http://go.microsoft.com/fwlink/?LinkID=154200](http://go.microsoft.com/fwlink/?LinkID=154200)</span><span class="sxs-lookup"><span data-stu-id="cc6b8-576">-   Configuration Parameters that Affect Adapter Performance at [http://go.microsoft.com/fwlink/?LinkID=154200](http://go.microsoft.com/fwlink/?LinkID=154200)</span></span><br /><span data-ttu-id="cc6b8-577">スレッド数、DB のセッションとの調整 [http://go.microsoft.com/fwlink/?linkid=106793](http://go.microsoft.com/fwlink/?linkid=106793)</span><span class="sxs-lookup"><span data-stu-id="cc6b8-577">-   Threads, DB sessions, and throttling at [http://go.microsoft.com/fwlink/?linkid=106793](http://go.microsoft.com/fwlink/?linkid=106793)</span></span>                    |

## <a name="logicalphysical-disk-readwrite-latency-analysis"></a><span data-ttu-id="cc6b8-578">論理/物理ディスク読み取り/書き込み待機時間の分析</span><span class="sxs-lookup"><span data-stu-id="cc6b8-578">Logical/Physical Disk Read/Write Latency Analysis</span></span>  
 <span data-ttu-id="cc6b8-579">ディスク パフォーマンスのボトルネックを検出するために Windows の最も信頼性の高い方法は、その応答時間を測定することによってです。</span><span class="sxs-lookup"><span data-stu-id="cc6b8-579">The most reliable way for Windows to detect a disk performance bottleneck is by measuring its response times.</span></span> <span data-ttu-id="cc6b8-580">応答時間が安全なしきい値には、.025 (25 ミリ秒単位) を超える顕著なスローダウンとユーザーに影響を与えるパフォーマンスの問題を発生する可能性が。</span><span class="sxs-lookup"><span data-stu-id="cc6b8-580">If the response times are greater than .025 (25 milliseconds), which is a conservative threshold, then noticeable slow-downs and performance issues affecting users may be occurring.</span></span>  

 <span data-ttu-id="cc6b8-581">不適切なディスクの待機時間の一般的な原因は、パフォーマンスのキャッシュ ディスクの断片化、over、SAN を飽和状態と、ディスク上の負荷が大きすぎます。</span><span class="sxs-lookup"><span data-stu-id="cc6b8-581">Common causes of poor disk latency are disk fragmentation, performance cache, an over saturated SAN, and too much load on the disk.</span></span> <span data-ttu-id="cc6b8-582">SPA ツールを使用して、最上位ファイルとディスクを使用してプロセスを識別できるようにします。</span><span class="sxs-lookup"><span data-stu-id="cc6b8-582">Use the SPA tool to help identify the top files and processes using the disk.</span></span> <span data-ttu-id="cc6b8-583">チェック、"プロセス IO Data operations/sec"と「プロセス IO その他の操作数/秒」も最もディスクを消費しているプロセスを表示する I/O の</span><span class="sxs-lookup"><span data-stu-id="cc6b8-583">Also check the “Process IO Data Operations/sec” and “Process IO Other Operations/sec” to see which processes are consuming the most disk I/O’s.</span></span> <span data-ttu-id="cc6b8-584">パフォーマンス モニター カウンターがどのファイルがかかわるを指定することがないことに留意してください。</span><span class="sxs-lookup"><span data-stu-id="cc6b8-584">Keep in mind that performance monitor counters are unable to specify which files are involved.</span></span>  

### <a name="references"></a><span data-ttu-id="cc6b8-585">References</span><span class="sxs-lookup"><span data-stu-id="cc6b8-585">References</span></span>  

-   <span data-ttu-id="cc6b8-586">ディスクの制限の問題を取り除く [http://go.microsoft.com/fwlink/?linkid=50669](http://go.microsoft.com/fwlink/?linkid=50669)</span><span class="sxs-lookup"><span data-stu-id="cc6b8-586">Ruling Out Disk-Bound Problems at [http://go.microsoft.com/fwlink/?linkid=50669](http://go.microsoft.com/fwlink/?linkid=50669)</span></span>  

-   <span data-ttu-id="cc6b8-587">は、Microsoft のサーバー パフォーマンス アドバイザー (SPA) ツールを使用してディスクのパフォーマンスのボトルネックを特定する方法 [http://go.microsoft.com/fwlink/?linkid=98096](http://go.microsoft.com/fwlink/?linkid=98096)</span><span class="sxs-lookup"><span data-stu-id="cc6b8-587">How to Identify a Disk Performance Bottleneck Using the Microsoft Server Performance Advisor (SPA) Tool at [http://go.microsoft.com/fwlink/?linkid=98096](http://go.microsoft.com/fwlink/?linkid=98096)</span></span>  

-   <span data-ttu-id="cc6b8-588">Microsoft サービス Performance Advisor (SPA) のダウンロードの詳細。 [http://go.microsoft.com/fwlink/?linkid=57769](http://go.microsoft.com/fwlink/?linkid=57769)</span><span class="sxs-lookup"><span data-stu-id="cc6b8-588">Download Details for Microsoft Service Performance Advisor (SPA) at: [http://go.microsoft.com/fwlink/?linkid=57769](http://go.microsoft.com/fwlink/?linkid=57769)</span></span>  

## <a name="logical-disk-transferssec"></a><span data-ttu-id="cc6b8-589">論理ディスク転送数/秒</span><span class="sxs-lookup"><span data-stu-id="cc6b8-589">Logical Disk Transfers/sec</span></span>  
 <span data-ttu-id="cc6b8-590">「ディスク転送/秒」は読み取り率、ディスクに対する書き込み操作とします。</span><span class="sxs-lookup"><span data-stu-id="cc6b8-590">“Disk Transfers/sec” is the rate of read and write operations on the disk.</span></span> <span data-ttu-id="cc6b8-591">ディスクの転送がディスクに直接的な相関関係ではありません/O のこれらの操作を行いますお聞かせディスク操作の数が発生しています。</span><span class="sxs-lookup"><span data-stu-id="cc6b8-591">While disk transfers are not a direct correlation to disk I/O's, they do tell us how many disk operations are occurring.</span></span> <span data-ttu-id="cc6b8-592">シーケンシャル平均である場合は/O のランダムは O のして最終的に約 80 は/は/O あたり 2 番目の一般的な経験則として。</span><span class="sxs-lookup"><span data-stu-id="cc6b8-592">If you average out sequential I/O’s and random I/O's, then you end up with about 80 I/O's per second as a general rule of thumb.</span></span> <span data-ttu-id="cc6b8-593">そのためは 80 以上を実行する SAN ドライブが予想される/の下の 2 番目の when あたり O を読み込みます。</span><span class="sxs-lookup"><span data-stu-id="cc6b8-593">Therefore, we should expect a SAN drive to perform more than 80 I/O's per second when under load.</span></span> <span data-ttu-id="cc6b8-594">かどうかの論理ディスクのいずれかを確認するには、この分析チェックのしきい値が表示されて応答時間の低下 (I/O 操作の応答時間を 25 ミリ秒より大きい)。</span><span class="sxs-lookup"><span data-stu-id="cc6b8-594">The thresholds for this analysis check to see whether any of the logical disks are showing poor response times (greater than 25 ms response times for I/O operations).</span></span> <span data-ttu-id="cc6b8-595">これが true の場合は、80 以上にする 1 秒あたりのディスクの転送と予想しますされます。</span><span class="sxs-lookup"><span data-stu-id="cc6b8-595">If this is true, then we should expect the disk transfers per second to be at or above 80.</span></span> <span data-ttu-id="cc6b8-596">それ以外の場合は、ディスクのアーキテクチャを調査する必要があります。</span><span class="sxs-lookup"><span data-stu-id="cc6b8-596">If not, then the disk architecture needs to be investigated.</span></span> <span data-ttu-id="cc6b8-597">不適切なディスク I/O の最も一般的な原因は、論理ユニット番号 (LUN) の意味は、複数の LUN が少数の物理ディスクの配列を使用して、条件、SAN のオーバー ロードです。</span><span class="sxs-lookup"><span data-stu-id="cc6b8-597">The most common cause of poor disk I/O is logical unit number (LUN) overloading on the SAN – meaning the condition where more than one LUN is using the small physical disk array.</span></span>  

### <a name="reference"></a><span data-ttu-id="cc6b8-598">リファレンス</span><span class="sxs-lookup"><span data-stu-id="cc6b8-598">Reference</span></span>  
 <span data-ttu-id="cc6b8-599">NT サーバーとディスク サブシステムのパフォーマンスに [http://go.microsoft.com/fwlink/?linkid=106783](http://go.microsoft.com/fwlink/?linkid=106783)</span><span class="sxs-lookup"><span data-stu-id="cc6b8-599">NT Server and Disk Subsystem Performance at [http://go.microsoft.com/fwlink/?linkid=106783](http://go.microsoft.com/fwlink/?linkid=106783)</span></span>  

## <a name="available-memory-analysis"></a><span data-ttu-id="cc6b8-600">使用可能なメモリの分析</span><span class="sxs-lookup"><span data-stu-id="cc6b8-600">Available Memory Analysis</span></span>  
 <span data-ttu-id="cc6b8-601">"利用可能な Mb"では、メガバイト単位で、コンピューターで実行されているプロセスに使用できる物理メモリの量です。</span><span class="sxs-lookup"><span data-stu-id="cc6b8-601">“Available Mbytes” is the amount of physical memory available to processes running on the computer, in megabytes.</span></span> <span data-ttu-id="cc6b8-602">仮想メモリ マネージャーは、物理メモリとディスクをオペレーティング システムおよびプロセスの使用可能なバイト数の最小数を維持するために使用されている領域を継続的に調整します。</span><span class="sxs-lookup"><span data-stu-id="cc6b8-602">The Virtual Memory Manager continually adjusts the space used in physical memory and on disk to maintain a minimum number of available bytes for the operating system and processes.</span></span> <span data-ttu-id="cc6b8-603">使用可能なバイト数が十分にある場合、プロセスのワーキング セットの拡大に伴い、仮想メモリ マネージャーを使用または追加された新しい各ページの以前のページを削除することによって、安定して保持。</span><span class="sxs-lookup"><span data-stu-id="cc6b8-603">When available bytes are plentiful, the Virtual Memory Manager lets the working sets of processes grow, or keeps them stable by removing an old page for each new page added.</span></span> <span data-ttu-id="cc6b8-604">利用可能なバイトがいくつかの場合は、仮想メモリ マネージャーは必要な最小値を維持するためにプロセスのワーキング セットをトリミングする必要があります。</span><span class="sxs-lookup"><span data-stu-id="cc6b8-604">When available bytes are few, the Virtual Memory Manager must trim the working sets of processes to maintain the minimum required.</span></span>  

 <span data-ttu-id="cc6b8-605">この分析は、合計使用可能なメモリが不足 – 10% が使用可能な警告かどうかを確認しますと 5% の使用可能な重要な。</span><span class="sxs-lookup"><span data-stu-id="cc6b8-605">This analysis checks to see whether the total available memory is low – Warning at 10 percent available and Critical at 5 percent available.</span></span> <span data-ttu-id="cc6b8-606">潜在的な予定されているメモリの状態を示す、1 時間あたり 10 mb の下降傾向が検出されたときに、警告も警告が発生します。</span><span class="sxs-lookup"><span data-stu-id="cc6b8-606">A warning is also alerted when a decreasing trend of 10 MB’s per hour is detected, indicating a potential upcoming memory condition.</span></span> <span data-ttu-id="cc6b8-607">物理メモリの不足には、増加の特権モード CPU、システムが遅れる可能性があります。</span><span class="sxs-lookup"><span data-stu-id="cc6b8-607">Low physical memory can cause increased privileged mode CPU and system delays.</span></span>  

### <a name="references"></a><span data-ttu-id="cc6b8-608">References</span><span class="sxs-lookup"><span data-stu-id="cc6b8-608">References</span></span>  

-   <span data-ttu-id="cc6b8-609">メモリのボトルネックの検出 [http://go.microsoft.com/fwlink/?linkid=106787](http://go.microsoft.com/fwlink/?linkid=106787)</span><span class="sxs-lookup"><span data-stu-id="cc6b8-609">Detecting Memory Bottlenecks at [http://go.microsoft.com/fwlink/?linkid=106787](http://go.microsoft.com/fwlink/?linkid=106787)</span></span>  

-   <span data-ttu-id="cc6b8-610">メモリ負荷の高い問題を取り除く [http://go.microsoft.com/fwlink/?linkid=62575](http://go.microsoft.com/fwlink/?linkid=62575)</span><span class="sxs-lookup"><span data-stu-id="cc6b8-610">Ruling Out Memory-Bound Problems at [http://go.microsoft.com/fwlink/?linkid=62575](http://go.microsoft.com/fwlink/?linkid=62575)</span></span>  

## <a name="memory-leak-detection-analysis"></a><span data-ttu-id="cc6b8-611">メモリ リークの検出の解析</span><span class="sxs-lookup"><span data-stu-id="cc6b8-611">Memory Leak Detection Analysis</span></span>  
 <span data-ttu-id="cc6b8-612">この分析は、大量のシステムのメモリを消費、プロセスのいずれかどうかと、プロセスがメモリの消費時間の経過と共に増加するかどうかを決定します。</span><span class="sxs-lookup"><span data-stu-id="cc6b8-612">This analysis determines whether any of the processes are consuming a large amount of the system's memory and whether the process is increasing in memory consumption over time.</span></span> <span data-ttu-id="cc6b8-613">メモリの大部分を消費しているプロセスは、プロセスがシステムにメモリを返す限り問題ありません。</span><span class="sxs-lookup"><span data-stu-id="cc6b8-613">A process consuming large portions of memory is okay as long as the process returns the memory back to the system.</span></span> <span data-ttu-id="cc6b8-614">グラフの傾向を高めるためになります。</span><span class="sxs-lookup"><span data-stu-id="cc6b8-614">Look for increasing trends in the chart.</span></span> <span data-ttu-id="cc6b8-615">長期間にわたって上昇傾向は、メモリ リークである可能性があります。</span><span class="sxs-lookup"><span data-stu-id="cc6b8-615">An increasing trend over a long period of time could indicate a memory leak.</span></span> <span data-ttu-id="cc6b8-616">Private Bytes は、このプロセスによって割り当てられ、他のプロセスと共有できないメモリのバイト単位で、現在のサイズです。</span><span class="sxs-lookup"><span data-stu-id="cc6b8-616">Private Bytes is the current size, in bytes, of memory that this process has allocated that cannot be shared with other processes.</span></span> <span data-ttu-id="cc6b8-617">この分析は、1 時間あたりの 10 の MB、1 時間の増加傾向 MB の 5 をチェックします。</span><span class="sxs-lookup"><span data-stu-id="cc6b8-617">This analysis checks for 10 MB’s per hour and 5 MB’s per hour increasing trends.</span></span> <span data-ttu-id="cc6b8-618">使用可能なメモリの分析との相関関係では、この分析を使用します。</span><span class="sxs-lookup"><span data-stu-id="cc6b8-618">Use this analysis in correlation with the Available Memory analysis.</span></span>  

 <span data-ttu-id="cc6b8-619">また、単に通常の起動の動作になる場合に、新しく起動されたプロセスがメモリ リークとして表示最初に注意してください。</span><span class="sxs-lookup"><span data-stu-id="cc6b8-619">Also, keep in mind that newly started processes will initially appear as a memory leak when it is simply normal startup behavior.</span></span> <span data-ttu-id="cc6b8-620">プロセスがメモリを消費し続けるし、長期間にわたってメモリが解放されない場合は、メモリ リークが発生します。</span><span class="sxs-lookup"><span data-stu-id="cc6b8-620">A memory leak occurs when a process continues to consume memory and does not release memory over a long period of time.</span></span>  

 <span data-ttu-id="cc6b8-621">メモリ リーク状態思われる場合は、インストールし、デバッグ診断ツールを使用します。</span><span class="sxs-lookup"><span data-stu-id="cc6b8-621">If you suspect a memory leak condition, then install and use the Debug Diag tool.</span></span> <span data-ttu-id="cc6b8-622">デバッグ診断ツールの詳細については、「参照」セクションを参照してください。</span><span class="sxs-lookup"><span data-stu-id="cc6b8-622">For more information on the Debug Diag Tool, see the references section.</span></span>  

### <a name="reference"></a><span data-ttu-id="cc6b8-623">リファレンス</span><span class="sxs-lookup"><span data-stu-id="cc6b8-623">Reference</span></span>  
 <span data-ttu-id="cc6b8-624">診断ツール v1.1 でのデバッグします。 [http://go.microsoft.com/fwlink/?linkid=106784](http://go.microsoft.com/fwlink/?linkid=106784)</span><span class="sxs-lookup"><span data-stu-id="cc6b8-624">Debug Diagnostic Tool v1.1 at [http://go.microsoft.com/fwlink/?linkid=106784](http://go.microsoft.com/fwlink/?linkid=106784)</span></span>  

## <a name="memory-pagessec-analysis"></a><span data-ttu-id="cc6b8-625">ページ/秒のメモリの分析</span><span class="sxs-lookup"><span data-stu-id="cc6b8-625">Memory Pages/sec Analysis</span></span>  
 <span data-ttu-id="cc6b8-626">この分析は、「ページ/秒」が高いかどうかを確認します。</span><span class="sxs-lookup"><span data-stu-id="cc6b8-626">This analysis checks to see whether the “Pages/sec” is high.</span></span> <span data-ttu-id="cc6b8-627">高い場合は、システムは可能性がありますメモリが不足ページ メモリがディスクにしようとしています。</span><span class="sxs-lookup"><span data-stu-id="cc6b8-627">If it is high, then the system is likely running out of memory by trying to page the memory to the disk.</span></span> <span data-ttu-id="cc6b8-628">「1 秒あたりのページ数」では、ページの読み取り、ハード ページ フォールトを解決するのにはディスクに書き込まれる位置の率です。</span><span class="sxs-lookup"><span data-stu-id="cc6b8-628">“Pages/sec” is the rate at which pages are read from or written to disk to resolve hard page faults.</span></span> <span data-ttu-id="cc6b8-629">このカウンターは、システム全体の遅延を引き起こすフォールトのプライマリ インジケーターです。</span><span class="sxs-lookup"><span data-stu-id="cc6b8-629">This counter is a primary indicator of the kinds of faults that cause system-wide delays.</span></span>  <span data-ttu-id="cc6b8-630">これは、"memory \pages input/sec"と"memory \pages output/sec"の合計です。</span><span class="sxs-lookup"><span data-stu-id="cc6b8-630">It is the sum of “Memory\Pages Input/sec” and “Memory\Pages Output/sec”.</span></span> <span data-ttu-id="cc6b8-631">それには、"memory \page faults/sec"などのページの他のカウントを比較できるように、ページの数でカウントされます。</span><span class="sxs-lookup"><span data-stu-id="cc6b8-631">It is counted in numbers of pages, so it can be compared to other counts of pages, such as “Memory\Page Faults/sec”.</span></span>  

 <span data-ttu-id="cc6b8-632">このカウンターは、1,000 未満常にあります。</span><span class="sxs-lookup"><span data-stu-id="cc6b8-632">This counter should always be below 1,000.</span></span> <span data-ttu-id="cc6b8-633">この分析は、1,000 を超える値をチェックします。</span><span class="sxs-lookup"><span data-stu-id="cc6b8-633">This analysis checks for values above 1,000.</span></span> <span data-ttu-id="cc6b8-634">使用可能なメモリの分析とメモリ リークの検出の分析との相関関係では、この分析を使用します。</span><span class="sxs-lookup"><span data-stu-id="cc6b8-634">Use this analysis in correlation with Available Memory Analysis and Memory Leak Detection analysis.</span></span> <span data-ttu-id="cc6b8-635">すべての解析と同時に警告をスローしている、し、この可能性があります、システムがメモリ不足しています。</span><span class="sxs-lookup"><span data-stu-id="cc6b8-635">If all analyses are throwing alerts at the same time, then this may indicate the system is running out of memory.</span></span> <span data-ttu-id="cc6b8-636">このトピックの「追加情報に関するメモリ リークの検出分析に記載されている分析の手順に従います。</span><span class="sxs-lookup"><span data-stu-id="cc6b8-636">Follow analysis steps mentioned in Additional Information Regarding Memory Leak Detection analysis in this topic.</span></span>  

### <a name="reference"></a><span data-ttu-id="cc6b8-637">リファレンス</span><span class="sxs-lookup"><span data-stu-id="cc6b8-637">Reference</span></span>  
 <span data-ttu-id="cc6b8-638">メモリ負荷の高い問題を取り除く [http://go.microsoft.com/fwlink/?linkid=62575](http://go.microsoft.com/fwlink/?linkid=62575)</span><span class="sxs-lookup"><span data-stu-id="cc6b8-638">Ruling Out Memory-Bound Problems at [http://go.microsoft.com/fwlink/?linkid=62575](http://go.microsoft.com/fwlink/?linkid=62575)</span></span>  

## <a name="memory-system-cache-resident-bytes-analysis"></a><span data-ttu-id="cc6b8-639">メモリ システム キャッシュの常駐バイト数の分析</span><span class="sxs-lookup"><span data-stu-id="cc6b8-639">Memory System Cache Resident Bytes Analysis</span></span>  
 <span data-ttu-id="cc6b8-640">「システム キャッシュの常駐バイト」は、サイズ、ファイル システム キャッシュ内のオペレーティング システムのページング可能なコードのバイト単位です。</span><span class="sxs-lookup"><span data-stu-id="cc6b8-640">“System Cache Resident Bytes” is the size, in bytes, of the pageable operating system code in the file system cache.</span></span> <span data-ttu-id="cc6b8-641">この値は、現在の物理ページのみが含まれています、現在常駐していない仮想メモリ ページには含まれません。</span><span class="sxs-lookup"><span data-stu-id="cc6b8-641">This value includes only current physical pages and does not include any virtual memory pages not currently resident.</span></span> <span data-ttu-id="cc6b8-642">タスク マネージャーで表示されるシステム キャッシュの値と同じです。</span><span class="sxs-lookup"><span data-stu-id="cc6b8-642">It does equal the System Cache value shown in Task Manager.</span></span> <span data-ttu-id="cc6b8-643">その結果、この値は、実際のファイル システム キャッシュが使用されている仮想メモリ量より小さくする可能性があります。</span><span class="sxs-lookup"><span data-stu-id="cc6b8-643">As a result, this value may be smaller than the actual amount of virtual memory in use by the file system cache.</span></span> <span data-ttu-id="cc6b8-644">この値は、コンポーネントの"メモリ\\\System コードの常駐バイト数"、物理メモリになっているすべてのオペレーティング システムのページング可能なコードを表します。</span><span class="sxs-lookup"><span data-stu-id="cc6b8-644">This value is a component of “Memory\\\System Code Resident Bytes”, which represents all pageable operating system code that is currently in physical memory.</span></span> <span data-ttu-id="cc6b8-645">このカウンタは、最後に計測された値のみを表示します。平均ではありません。</span><span class="sxs-lookup"><span data-stu-id="cc6b8-645">This counter displays the last observed value only; it is not an average.</span></span>  

 <span data-ttu-id="cc6b8-646">この分析は、この制限の設定が既定以外の値に設定されているかどうかを確認します。</span><span class="sxs-lookup"><span data-stu-id="cc6b8-646">This analysis checks for an increasing trend of 10 MB’s per hour.</span></span> <span data-ttu-id="cc6b8-647">論理/物理ディスク読み取り/書き込み待機時間の分析</span><span class="sxs-lookup"><span data-stu-id="cc6b8-647">Under load, a server might use the system cache in order to cache I/O activity such as disk.</span></span> <span data-ttu-id="cc6b8-648">解析を相関関係で IO データの処理操作数/秒とその他のプロセス IO 操作数/秒を使用します。</span><span class="sxs-lookup"><span data-stu-id="cc6b8-648">Use in correlation with Process IO Data Operations/sec and Process IO Other Operations/sec analyses.</span></span>  

## <a name="processor-utilization-analysis-and-excessive-processor-use-by-processes"></a><span data-ttu-id="cc6b8-649">プロセッサ使用率の分析とプロセスによって過剰なプロセッサの使用</span><span class="sxs-lookup"><span data-stu-id="cc6b8-649">Processor Utilization Analysis and Excessive Processor Use by Processes</span></span>  
 <span data-ttu-id="cc6b8-650">「% Processor Time」では、プロセッサが非アイドルのスレッドを実行するために使用する経過時間の割合です。</span><span class="sxs-lookup"><span data-stu-id="cc6b8-650">“% Processor Time” is the percentage of elapsed time that the processor spends to execute a non-idle thread.</span></span> <span data-ttu-id="cc6b8-651">サンプルの間隔でアイドル状態のスレッドがアクティブな期間を計測し、その時間間隔からを引いて計算されます。</span><span class="sxs-lookup"><span data-stu-id="cc6b8-651">It is calculated by measuring the duration the idle thread is active in the sample interval, and then subtracting that time from the interval duration.</span></span> <span data-ttu-id="cc6b8-652">(各プロセッサには、他のスレッドがない場合に実行する準備がサイクルを消費するアイドル スレッドです。)このカウンターはプロセッサ アクティビティのプライマリ インジケーターであり、サンプリング間隔中に測定されたビジー時間の割合の平均値を表示します。</span><span class="sxs-lookup"><span data-stu-id="cc6b8-652">(Each processor has an idle thread that consumes cycles when no other threads are ready to run.) This counter is the primary indicator of processor activity and displays the average percentage of busy time observed during the sample interval.</span></span> <span data-ttu-id="cc6b8-653">サービスがアクティブでない時間を監視し、その値を 100% から引いて計算されます。</span><span class="sxs-lookup"><span data-stu-id="cc6b8-653">It is calculated by monitoring the time that the service is inactive, and subtracting that value from 100 percent.</span></span>  

 <span data-ttu-id="cc6b8-654">この分析は、それぞれ個別のプロセッサに 60% を超える使用率をチェックします。</span><span class="sxs-lookup"><span data-stu-id="cc6b8-654">This analysis checks for utilization greater than 60 percent on each individual processor.</span></span> <span data-ttu-id="cc6b8-655">そうである場合は、高度なユーザー モード CPU または高特権モードであるかを決定します。</span><span class="sxs-lookup"><span data-stu-id="cc6b8-655">If so, determine whether it is high user mode CPU or high privileged mode.</span></span> <span data-ttu-id="cc6b8-656">高い特権モード CPU が疑われる場合、「特権モード CPU 分析」を参照してください。</span><span class="sxs-lookup"><span data-stu-id="cc6b8-656">If high privileged mode CPU is suspected, then see the “Privileged Mode CPU Analysis”.</span></span> <span data-ttu-id="cc6b8-657">ユーザー モードのプロセッサのボトルネックが疑いがある場合は、高い CPU 消費率が発生した関数を分析するプロセスのプロファイラーを使用し、検討してください。</span><span class="sxs-lookup"><span data-stu-id="cc6b8-657">If a user-mode processor bottleneck is suspected, then consider using a process profiler to analyze the functions causing the high CPU consumption.</span></span> <span data-ttu-id="cc6b8-658">参照してください"方法に: 関数の実稼働環境でサーバー アプリケーションの高いユーザー モード CPU ボトルネックの原因を特定"の詳細については「参照」セクションの記事。</span><span class="sxs-lookup"><span data-stu-id="cc6b8-658">See “How To: Identify Functions causing a High User-mode CPU Bottleneck for Server Applications in a Production Environment” article in the references section for more information.</span></span>  

## <a name="processor-queue-length-analysis"></a><span data-ttu-id="cc6b8-659">プロセッサ キューの長さの分析</span><span class="sxs-lookup"><span data-stu-id="cc6b8-659">Processor Queue Length Analysis</span></span>  
 <span data-ttu-id="cc6b8-660">"Processor Queue Length"は、プロセッサ キュー内のスレッドの数です。</span><span class="sxs-lookup"><span data-stu-id="cc6b8-660">“Processor Queue Length” is the number of threads in the processor queue.</span></span> <span data-ttu-id="cc6b8-661">ディスクのカウンターとは異なりは、このカウンターは、準備のスレッドのみを実行しているスレッドを示します。</span><span class="sxs-lookup"><span data-stu-id="cc6b8-661">Unlike the disk counters, this counter shows ready threads only, not threads that are running.</span></span>  <span data-ttu-id="cc6b8-662">複数のプロセッサを搭載したコンピューター上でもプロセッサ時間を 1 つのキューがあります。</span><span class="sxs-lookup"><span data-stu-id="cc6b8-662">There is a single queue for processor time even on computers with multiple processors.</span></span> <span data-ttu-id="cc6b8-663">そのため、コンピューターに複数のプロセッサがある場合は、この値をワークロードを処理するプロセッサの数で除算する必要があります。</span><span class="sxs-lookup"><span data-stu-id="cc6b8-663">Therefore, if a computer has multiple processors, you need to divide this value by the number of processors servicing the workload.</span></span> <span data-ttu-id="cc6b8-664">プロセッサあたりのスレッドの数は 10 未満の持続的なプロセッサのキューには、通常許容可能なワークロードの依存です。</span><span class="sxs-lookup"><span data-stu-id="cc6b8-664">A sustained processor queue of less than 10 threads per processor is normally acceptable, dependent of the workload.</span></span>  

 <span data-ttu-id="cc6b8-665">この分析は、平均プロセッサ キューの長さがプロセッサの数を超えるかどうかを判断します。</span><span class="sxs-lookup"><span data-stu-id="cc6b8-665">This analysis determines whether the average processor queue length exceeds the number of processors.</span></span> <span data-ttu-id="cc6b8-666">そうである場合は、プロセッサのボトルネックをあるこの可能性があります。</span><span class="sxs-lookup"><span data-stu-id="cc6b8-666">If so, then this could indicate a processor bottleneck.</span></span> <span data-ttu-id="cc6b8-667">特権モードの CPU の分析とプロセスによって過剰なプロセッサの使用との相関関係では、この分析を使用します。</span><span class="sxs-lookup"><span data-stu-id="cc6b8-667">Use this analysis in correlation with Privileged Mode CPU Analysis and Excessive Processor Use by Process.</span></span> <span data-ttu-id="cc6b8-668">プロセッサのキューは、準備しますですが、別のアクティブなスレッドが現在実行しているため、プロセッサによって実行されることができないのスレッドのコレクションです。</span><span class="sxs-lookup"><span data-stu-id="cc6b8-668">The processor queue is the collection of threads that are ready but not able to be executed by the processor because another active thread is currently executing.</span></span> <span data-ttu-id="cc6b8-669">プロセッサの数より多いスレッドの継続的または定期的なキューは、プロセッサのボトルネックの目安にします。</span><span class="sxs-lookup"><span data-stu-id="cc6b8-669">A sustained or recurring queue of more threads than number of processors is a good indication of a processor bottleneck.</span></span>  

 <span data-ttu-id="cc6b8-670">と共にこのカウンターを使用することができます、"プロセッサ\\% Processor Time"カウンターが Cpu から利用できるかどうかを判断します。</span><span class="sxs-lookup"><span data-stu-id="cc6b8-670">You can use this counter in conjunction with the “Processor\\% Processor Time” counter to determine whether your application can benefit from more CPUs.</span></span> <span data-ttu-id="cc6b8-671">1 つのキュー、プロセッサ時間のマルチプロセッサ コンピューターでも。</span><span class="sxs-lookup"><span data-stu-id="cc6b8-671">There is a single queue for processor time, even on multiprocessor computers.</span></span> <span data-ttu-id="cc6b8-672">そのため、マルチプロセッサ コンピューターでは、ワークロードを処理するプロセッサの数で"Processor Queue Length"(PQL) 値で除算します。</span><span class="sxs-lookup"><span data-stu-id="cc6b8-672">Therefore, in a multiprocessor computer, divide the “Processor Queue Length” (PQL) value by the number of processors servicing the workload</span></span>  

 <span data-ttu-id="cc6b8-673">場合は、CPU が非常にビジー状態の (90% と使用率の向上) PQL 平均プロセッサ数よりも一貫して高いしが Cpu の追加の恩恵プロセッサのボトルネックがある可能性があります。</span><span class="sxs-lookup"><span data-stu-id="cc6b8-673">If the CPU is very busy (90 percent and higher utilization) and the PQL average is consistently higher than the number of processors, then you may have a processor bottleneck that could benefit from additional CPUs.</span></span> <span data-ttu-id="cc6b8-674">または、スレッド、およびアプリケーション レベルでのキューの数を減らすことができます。</span><span class="sxs-lookup"><span data-stu-id="cc6b8-674">Or, you could reduce the number of threads and queue at the application level.</span></span> <span data-ttu-id="cc6b8-675">これにより、少ないコンテキストの切り替えの CPU 負荷を削減するために適切です。</span><span class="sxs-lookup"><span data-stu-id="cc6b8-675">This will cause less context switching, which is good for reducing CPU load.</span></span> <span data-ttu-id="cc6b8-676">CPU 使用率が低い高 PQL の一般的な理由は、プロセッサ時間の要求がランダムに到着し、スレッド、プロセッサ時間の不規則な金額を要求することができます。</span><span class="sxs-lookup"><span data-stu-id="cc6b8-676">The common reason for a high PQL with low CPU utilization is that requests for processor time arrive randomly, and threads demand irregular amounts of time from the processor.</span></span> <span data-ttu-id="cc6b8-677">これは、プロセッサがボトルネックではないことを意味します。</span><span class="sxs-lookup"><span data-stu-id="cc6b8-677">This means that the processor is not a bottleneck.</span></span> <span data-ttu-id="cc6b8-678">代わりに、スレッド処理ロジックが必要なが向上します。</span><span class="sxs-lookup"><span data-stu-id="cc6b8-678">Instead, your threading logic that needs to be improved.</span></span>  

 <span data-ttu-id="cc6b8-679">ユーザー モードのプロセッサのボトルネックが疑いがある場合は、高い CPU 消費率が発生した関数を分析するプロセスのプロファイラーを使用し、検討してください。</span><span class="sxs-lookup"><span data-stu-id="cc6b8-679">If a user-mode processor bottleneck is suspected, then consider using a process profiler to analyze the functions causing the high CPU consumption.</span></span> <span data-ttu-id="cc6b8-680">参照してください、"方法に: 関数の実稼働環境でサーバー アプリケーションの高いユーザー モード CPU ボトルネックの原因を特定"の詳細については「参照」セクションの記事。</span><span class="sxs-lookup"><span data-stu-id="cc6b8-680">See the “How To: Identify Functions causing a High User-mode CPU Bottleneck for Server Applications in a Production Environment” article in the references section for more information.</span></span>  

## <a name="privileged-mode-cpu-analysis"></a><span data-ttu-id="cc6b8-681">特権モードの CPU の分析</span><span class="sxs-lookup"><span data-stu-id="cc6b8-681">Privileged Mode CPU Analysis</span></span>  
 <span data-ttu-id="cc6b8-682">このカウンターは、スレッドが特権モードで実行時間の割合を示します。</span><span class="sxs-lookup"><span data-stu-id="cc6b8-682">This counter indicates the percentage of time a thread runs in privileged mode.</span></span> <span data-ttu-id="cc6b8-683">アプリケーション (たとえば、ファイルまたはネットワーク I/O を実行する、またはメモリを割り当てるなど) のオペレーティング システム関数を呼び出すときに、これらのオペレーティング システム関数が特権モードで実行されます。</span><span class="sxs-lookup"><span data-stu-id="cc6b8-683">When your application calls operating system functions (for example to perform file or network I/O or to allocate memory), these operating system functions are executed in privileged mode.</span></span>  

 <span data-ttu-id="cc6b8-684">CPU 高特権モードでは、コンピューターが実 (ユーザー モード) とシステムの I/O 作業の多くの時間を消費していることを示します。</span><span class="sxs-lookup"><span data-stu-id="cc6b8-684">High privileged mode CPU indicates that the computer is spending too much time in system I/O versus real (user mode) work.</span></span> <span data-ttu-id="cc6b8-685">"% 特権モード時間の"プロセスのスレッドが特権モードでコードを実行するために使用した経過時間の割合を指定します。</span><span class="sxs-lookup"><span data-stu-id="cc6b8-685">“% Privileged Time” is the percentage of elapsed time that the process threads spent executing code in privileged mode.</span></span>  <span data-ttu-id="cc6b8-686">Windows システム サービスが呼び出されると、サービス、多くの場合、システム専用データにアクセスする特権モードで実行されます。</span><span class="sxs-lookup"><span data-stu-id="cc6b8-686">When a Windows system service is called, the service will often run in privileged mode to gain access to system-private data.</span></span> <span data-ttu-id="cc6b8-687">このようなデータは、ユーザー モードで実行するスレッドによるアクセスから保護されます。</span><span class="sxs-lookup"><span data-stu-id="cc6b8-687">Such data is protected from access by threads executing in user mode.</span></span> <span data-ttu-id="cc6b8-688">システムの呼び出しには、明示的または暗黙的なページ フォールトや割り込みなどができます。</span><span class="sxs-lookup"><span data-stu-id="cc6b8-688">Calls to the system can be explicit or implicit, such as page faults or interrupts.</span></span> <span data-ttu-id="cc6b8-689">以前のオペレーティング システムとは異なり、Windows は、ユーザーおよび特権モードの従来の保護に加えて、サブシステム保護のプロセス境界を使用します。</span><span class="sxs-lookup"><span data-stu-id="cc6b8-689">Unlike some early operating systems, Windows uses process boundaries for subsystem protection in addition to the traditional protection of user and privileged modes.</span></span> <span data-ttu-id="cc6b8-690">プロセスの特権モード時間に加えて他のサブシステム プロセスで、アプリケーションに代わって Windows が行う処理があります。</span><span class="sxs-lookup"><span data-stu-id="cc6b8-690">Some work done by Windows on behalf of the application might appear in other subsystem processes in addition to the privileged time in the process.</span></span>  

 <span data-ttu-id="cc6b8-691">この分析は、CPU の合計の 30% 以上の特権モード CPU 消費しているかどうかを確認します。</span><span class="sxs-lookup"><span data-stu-id="cc6b8-691">This analysis checks to see whether privileged mode CPU is consuming more than 30 percent of total CPU.</span></span> <span data-ttu-id="cc6b8-692">CPU 消費率が高いし、そのため場合、は、ネットワーク、メモリ、ディスク I/O など、プロセッサ以外の別のボトルネックによって発生します。</span><span class="sxs-lookup"><span data-stu-id="cc6b8-692">If so, then the CPU consumption is likely caused by another bottleneck other than the processor such as network, memory, or disk I/O.</span></span> <span data-ttu-id="cc6b8-693">解析を相関関係の % Interrupt Time と高いコンテキストの切り替えを使用します。</span><span class="sxs-lookup"><span data-stu-id="cc6b8-693">Use in correlation with % Interrupt Time and High Context Switching analyses.</span></span>  

## <a name="high-context-switching-analysis"></a><span data-ttu-id="cc6b8-694">高いコンテキストの切り替えの分析</span><span class="sxs-lookup"><span data-stu-id="cc6b8-694">High Context Switching Analysis</span></span>  
 <span data-ttu-id="cc6b8-695">コンテキスト スイッチには、優先度の高いスレッドが現在実行中の優先順位の低いスレッドを横取りとき、または優先度の高いスレッドがブロックが行われます。</span><span class="sxs-lookup"><span data-stu-id="cc6b8-695">A context switch happens when a higher priority thread preempts a lower priority thread that is currently running or when a high priority thread blocks.</span></span> <span data-ttu-id="cc6b8-696">高レベルのコンテキストの切り替えは、多数のスレッドが同じ優先度レベルを共有する場合に発生します。</span><span class="sxs-lookup"><span data-stu-id="cc6b8-696">High levels of context switching can occur when many threads share the same priority level.</span></span> <span data-ttu-id="cc6b8-697">これは、多くの場合、システム上のプロセッサのスレッドが多すぎるが競合することを示します。</span><span class="sxs-lookup"><span data-stu-id="cc6b8-697">This often indicates that too many threads are competing for the processors on the system.</span></span> <span data-ttu-id="cc6b8-698">多くのプロセッサ使用率が表示されない場合、非常に低レベルのコンテキストの切り替えを参照してくださいこと、スレッドがブロックされていることを示します。</span><span class="sxs-lookup"><span data-stu-id="cc6b8-698">If you do not see much processor utilization and you see very low levels of context switching, it could indicate that threads are blocked.</span></span>  

 <span data-ttu-id="cc6b8-699">CPU と全体的な CPU の特権モードが高いとき、高いコンテキストの切り替えを調査のみ必要があります。</span><span class="sxs-lookup"><span data-stu-id="cc6b8-699">High context switching should only be investigated when privileged mode CPU and overall CPU is high.</span></span> <span data-ttu-id="cc6b8-700">一般的な規則としては 1 プロセッサあたり 1 秒あたり 5,000 未満のコンテキスト切り替えの率はその価値について心配することができません。</span><span class="sxs-lookup"><span data-stu-id="cc6b8-700">As a general rule, context switching rates of less than 5,000 per second per processor are not worth worrying about.</span></span> <span data-ttu-id="cc6b8-701">コンテキスト切り替えの率が 1 プロセッサあたり 1 秒あたり 15,000 を超える場合、制約があります。</span><span class="sxs-lookup"><span data-stu-id="cc6b8-701">If context switching rates exceed 15,000 per second per processor, then there is a constraint.</span></span>  

 <span data-ttu-id="cc6b8-702">この分析を高 CPU、高い特権モードの CPU、および高チェック (1 プロセッサあたり 5,000 を超える) すべての発生と同時に 1 秒あたりのシステム コンテキスト スイッチします。</span><span class="sxs-lookup"><span data-stu-id="cc6b8-702">This analysis checks for high CPU, high privileged mode CPU, and high (greater than 5,000 per processor) system context switches per second all occurring at the same time.</span></span> <span data-ttu-id="cc6b8-703">高いコンテキストの切り替えが発生している場合は、スレッドと、システムで実行されているプロセスの数を減らします。</span><span class="sxs-lookup"><span data-stu-id="cc6b8-703">If high context switching is occurring, then reduce the number of threads and processes running on the system.</span></span>  

## <a name="biztalk-high-database-sessions-analysis"></a><span data-ttu-id="cc6b8-704">しきい値は、実際には、このプロセスとメモリ使用量パターンの使用可能なメモリの量に応じて動的に調整される可能性があります。</span><span class="sxs-lookup"><span data-stu-id="cc6b8-704">BizTalk High Database Sessions Analysis</span></span>  
 <span data-ttu-id="cc6b8-705">この分析は、既定以外の値をプロセス メモリの制限を設定するかどうかを確認します。</span><span class="sxs-lookup"><span data-stu-id="cc6b8-705">This counter has two possible values namely normal (0) or exceeded (1).</span></span> <span data-ttu-id="cc6b8-706">この分析は、1 の値をチェックします。</span><span class="sxs-lookup"><span data-stu-id="cc6b8-706">This analysis checks for a value of 1.</span></span> <span data-ttu-id="cc6b8-707">そうである場合、BizTalk は許可されているデータベース セッションの数のしきい値を超えています。</span><span class="sxs-lookup"><span data-stu-id="cc6b8-707">If so, BizTalk has exceeded the threshold of the number of database sessions permitted.</span></span> <span data-ttu-id="cc6b8-708">この値は、BizTalk ホストの制限設定の [CPU ごとのデータベース接続] の値によって制御されます。</span><span class="sxs-lookup"><span data-stu-id="cc6b8-708">This value is controlled by the “Database connection per CPU” value in the BizTalk Host Throttling settings.</span></span>  

 <span data-ttu-id="cc6b8-709">「データベースの CPU ごとの接続」は、許可の制限が適用されます (CPU) ごとの同時実行データベース セッションの最大数です。</span><span class="sxs-lookup"><span data-stu-id="cc6b8-709">“Database connection per CPU” is the maximum number of concurrent database sessions (per CPU) allowed before throttling begins.</span></span> <span data-ttu-id="cc6b8-710">ホストごとの一般的なセッション プールのアイドル状態のデータベース セッションは、この数に含まれません。また、この確認処理は、ホスト インスタンスによって実際に使用されるセッションの数に厳密に基づいて実行されます。</span><span class="sxs-lookup"><span data-stu-id="cc6b8-710">The idle database sessions in the common per-host session pool do not add to this count, and this check is made strictly on the number of sessions actually being used by the host instance.</span></span> <span data-ttu-id="cc6b8-711">このオプションは既定では無効です。通常、この設定のみ有効にデータベース サーバーがボトルネックになっている場合、またはローエンドのデータベース サーバーへの BizTalk Server システムで。</span><span class="sxs-lookup"><span data-stu-id="cc6b8-711">This option is disabled by default; typically, this setting should only be enabled if the database server is a bottleneck or for low-end database servers in the BizTalk Server system.</span></span> <span data-ttu-id="cc6b8-712">[BizTalk:Message Agent] パフォーマンス オブジェクト カテゴリのデータベース セッションのパフォーマンス カウンターを使用して、アクティブなデータベース接続の数を監視できます。</span><span class="sxs-lookup"><span data-stu-id="cc6b8-712">You can monitor the number of active database connections by using the database session performance counter under the BizTalk:Message Agent performance object category.</span></span> <span data-ttu-id="cc6b8-713">このパラメーターは、送信メッセージの制限だけに影響します。</span><span class="sxs-lookup"><span data-stu-id="cc6b8-713">This parameter only affects outbound message throttling.</span></span> <span data-ttu-id="cc6b8-714">データベース セッションの数に基づいた制限を無効にするには、値 0 を入力してください。</span><span class="sxs-lookup"><span data-stu-id="cc6b8-714">Enter a value of 0 to disable throttling that is based on the number of database sessions.</span></span> <span data-ttu-id="cc6b8-715">既定値は 0 です。</span><span class="sxs-lookup"><span data-stu-id="cc6b8-715">The default value is 0.</span></span>  

> [!NOTE]  
>  <span data-ttu-id="cc6b8-716">"MaxWorkerThreads"レジストリ キーは、BizTalk に利用可能なスレッドの数の影響し、BizTalk のスレッドのほとんどは、データベース接続でビジー状態の場合に役立つ場合があります。</span><span class="sxs-lookup"><span data-stu-id="cc6b8-716">The “MaxWorkerThreads” registry key influences the number threads available to BizTalk and may help if most of the BizTalk threads are busy with database connections.</span></span>  

### <a name="references"></a><span data-ttu-id="cc6b8-717">References</span><span class="sxs-lookup"><span data-stu-id="cc6b8-717">References</span></span>  

-   <span data-ttu-id="cc6b8-718">ホスト制限パフォーマンス カウンターに [http://go.microsoft.com/fwlink/?LinkID=155285](http://go.microsoft.com/fwlink/?LinkID=155285)</span><span class="sxs-lookup"><span data-stu-id="cc6b8-718">Host Throttling Performance Counters at [http://go.microsoft.com/fwlink/?LinkID=155285](http://go.microsoft.com/fwlink/?LinkID=155285)</span></span>  

-   <span data-ttu-id="cc6b8-719">スレッド、DB セッション、および調整に [http://go.microsoft.com/fwlink/?linkid=106793](http://go.microsoft.com/fwlink/?linkid=106793)</span><span class="sxs-lookup"><span data-stu-id="cc6b8-719">Threads, DB sessions, and throttling at [http://go.microsoft.com/fwlink/?linkid=106793](http://go.microsoft.com/fwlink/?linkid=106793)</span></span>  

-   <span data-ttu-id="cc6b8-720">アダプターのパフォーマンスに影響する構成パラメーター [http://go.microsoft.com/fwlink/?LinkID=154200](http://go.microsoft.com/fwlink/?LinkID=154200)</span><span class="sxs-lookup"><span data-stu-id="cc6b8-720">Configuration Parameters that Affect Adapter Performance at [http://go.microsoft.com/fwlink/?LinkID=154200](http://go.microsoft.com/fwlink/?LinkID=154200)</span></span>  

-   <span data-ttu-id="cc6b8-721">既定のホスト制限の設定を変更する方法 [http://go.microsoft.com/fwlink/?LinkID=155296](http://go.microsoft.com/fwlink/?LinkID=155296)</span><span class="sxs-lookup"><span data-stu-id="cc6b8-721">How to Modify the Default Host Throttling Settings at [http://go.microsoft.com/fwlink/?LinkID=155296](http://go.microsoft.com/fwlink/?LinkID=155296)</span></span>  

## <a name="biztalk-high-database-size-analysis"></a><span data-ttu-id="cc6b8-722">BizTalk の高いデータベース サイズの分析</span><span class="sxs-lookup"><span data-stu-id="cc6b8-722">BizTalk High Database Size Analysis</span></span>  
 <span data-ttu-id="cc6b8-723">このカウンターは、このプロセスが公開したデータベース キューにメッセージの数を示します。</span><span class="sxs-lookup"><span data-stu-id="cc6b8-723">This counter refers to the number of messages in the database queues that this process has published.</span></span> <span data-ttu-id="cc6b8-724">この値は、すべてのホストのキュー テーブル内の項目数およびスプールと追跡テーブル内の項目数によって測定されます。</span><span class="sxs-lookup"><span data-stu-id="cc6b8-724">This value is measured by the number of items in the queue tables for all hosts and the number of items in the spool and tracking tables.</span></span> <span data-ttu-id="cc6b8-725">キューには、作業キュー、状態キューおよび保留キューが含まれています。</span><span class="sxs-lookup"><span data-stu-id="cc6b8-725">Queue includes the work queue, the state queue and the suspended queue.</span></span> <span data-ttu-id="cc6b8-726">プロセスが複数のキューに公開している場合、このカウンターには、すべてのキューの加重平均が反映されます。</span><span class="sxs-lookup"><span data-stu-id="cc6b8-726">If a process is publishing to multiple queues, this counter reflects the weighted average of all the queues.</span></span>  

 <span data-ttu-id="cc6b8-727">ホストが再起動すると、メモリに格納されていた統計は失われます。</span><span class="sxs-lookup"><span data-stu-id="cc6b8-727">If the host is restarted, statistics held in memory are lost.</span></span> <span data-ttu-id="cc6b8-728">いくつかのオーバーヘッドが関係しているため BizTalk Server は、合計が再起動されたホスト プロセス内で発行の 5%、100 以上に公開がある場合にのみ、統計の収集を再開します。</span><span class="sxs-lookup"><span data-stu-id="cc6b8-728">Since some overhead is involved, BizTalk Server will resume gathering statistics only when there are at least 100 publishes, with 5 percent of the total publishes within the restarted host process.</span></span>  

 <span data-ttu-id="cc6b8-729">このカウンターは、データベースしきい値のメッセージ カウント の条件のいずれかが発生した場合、値 1 に設定されます。</span><span class="sxs-lookup"><span data-stu-id="cc6b8-729">This counter will be set to a value of 1 if either of the conditions listed for the message count in database threshold occurs.</span></span> <span data-ttu-id="cc6b8-730">このしきい値は、トピックに記載されている、既定のホスト制限の設定の下の参照を変更する方法。</span><span class="sxs-lookup"><span data-stu-id="cc6b8-730">This threshold is documented in the topic How to Modify the Default Host Throttling Settings referenced below.</span></span> <span data-ttu-id="cc6b8-731">既定では、ホストのメッセージは、データベースの制限のしきい値のカウントは 50,000 で、次の状況で制限の条件はトリガーの値に設定します。</span><span class="sxs-lookup"><span data-stu-id="cc6b8-731">By default the host message count in database throttling threshold is set to a value of 50,000, which will trigger a throttling condition under the following circumstances:</span></span>  

- <span data-ttu-id="cc6b8-732">サブスクライブを行うホストの作業キュー、状態キュー、および保留キューに対しこのホスト インスタンスによって公開されるメッセージの総数が、50,000 を超えた場合</span><span class="sxs-lookup"><span data-stu-id="cc6b8-732">The total number of messages published by the host instance to the work, state, and suspended queues of the subscribing hosts exceeds 50,000.</span></span>  

- <span data-ttu-id="cc6b8-733">スプール テーブルまたは追跡テーブル内のメッセージの数が 50,000 を超えた場合</span><span class="sxs-lookup"><span data-stu-id="cc6b8-733">The number of messages in the spool table or the tracking table exceeds 500,000 messages.</span></span>  

  <span data-ttu-id="cc6b8-734">データベースの計算のメッセージ カウント には、保留中のメッセージが含まれる、ために BizTalk server が低いまたはない負荷が発生している場合でも発生メッセージ公開の制限します。</span><span class="sxs-lookup"><span data-stu-id="cc6b8-734">Since suspended messages are included in the message count in database calculation, throttling of message publishing can occur even if the BizTalk server is experiencing low or no load.</span></span>  

  <span data-ttu-id="cc6b8-735">この分析は、1 の値をチェックします。</span><span class="sxs-lookup"><span data-stu-id="cc6b8-735">This analysis checks for a value of 1.</span></span> <span data-ttu-id="cc6b8-736">このような場合は、データベース内のメッセージの数を軽減するアクションのコースを検討します。</span><span class="sxs-lookup"><span data-stu-id="cc6b8-736">If this occurs, then consider a course of action that will reduce the number of messages in the database.</span></span> <span data-ttu-id="cc6b8-737">たとえば、エラーが発生せず、BizTalk SQL Server ジョブが実行されていることを確認し、BizTalk 管理コンソールで、グループのハブを使用して、多数の保留メッセージをメッセージのビルドが生じたものかどうかを判断します。</span><span class="sxs-lookup"><span data-stu-id="cc6b8-737">For example, ensure the BizTalk SQL Server jobs are running without error and use the Group Hub in the BizTalk Administration console to determine whether message build up is caused by large numbers of suspended messages.</span></span>  

### <a name="references"></a><span data-ttu-id="cc6b8-738">References</span><span class="sxs-lookup"><span data-stu-id="cc6b8-738">References</span></span>  

-   <span data-ttu-id="cc6b8-739">保留メッセージはメッセージ カウント のデータベースでのしきい値の調整に含まれる [http://go.microsoft.com/fwlink/?LinkId=155304](http://go.microsoft.com/fwlink/?LinkId=155304)</span><span class="sxs-lookup"><span data-stu-id="cc6b8-739">Suspended Messages are Included in the Message Count in Database Throttling Threshold at [http://go.microsoft.com/fwlink/?LinkId=155304](http://go.microsoft.com/fwlink/?LinkId=155304)</span></span>  

-   <span data-ttu-id="cc6b8-740">既定のホスト制限の設定を変更する方法 [http://go.microsoft.com/fwlink/?LinkID=155296](http://go.microsoft.com/fwlink/?LinkID=155296)</span><span class="sxs-lookup"><span data-stu-id="cc6b8-740">How to Modify the Default Host Throttling Settings at [http://go.microsoft.com/fwlink/?LinkID=155296](http://go.microsoft.com/fwlink/?LinkID=155296)</span></span>  

-   <span data-ttu-id="cc6b8-741">ホスト制限パフォーマンス カウンターに [http://go.microsoft.com/fwlink/?LinkID=155285](http://go.microsoft.com/fwlink/?LinkID=155285)</span><span class="sxs-lookup"><span data-stu-id="cc6b8-741">Host Throttling Performance Counters at [http://go.microsoft.com/fwlink/?LinkID=155285](http://go.microsoft.com/fwlink/?LinkID=155285)</span></span>  

## <a name="biztalk-high-in-process-message-count-analysis"></a><span data-ttu-id="cc6b8-742">BizTalk 高インプロセス メッセージ カウントの分析</span><span class="sxs-lookup"><span data-stu-id="cc6b8-742">BizTalk High In-Process Message Count Analysis</span></span>  
 <span data-ttu-id="cc6b8-743">ホスト制限の設定で、「プロセスでは、CPU ごとのメッセージ」の設定は、処理されていない、エンド ポイント マネージャー (EPM) または XLANG に配信されたメッセージの最大数です。</span><span class="sxs-lookup"><span data-stu-id="cc6b8-743">The “In-process messages per CPU” setting in the Host Throttling Settings is the maximum number of messages delivered to the End Point Manager (EPM) or XLANG that have not been processed.</span></span> <span data-ttu-id="cc6b8-744">この番号では、まだ待機しているインメモリ キューに配信がデータベースから取得したメッセージは含まれません。</span><span class="sxs-lookup"><span data-stu-id="cc6b8-744">This number does not include the messages retrieved from database but still waiting for delivery in the in-memory queue.</span></span> <span data-ttu-id="cc6b8-745">[BizTalk:Message Agent] パフォーマンス オブジェクト カテゴリ インプロセス メッセージ数のパフォーマンス カウンターを使用して、インプロセス メッセージの数を監視できます。</span><span class="sxs-lookup"><span data-stu-id="cc6b8-745">You can monitor the number of in-Process Messages by using the In-process message count performance counter under the BizTalk:Message Agent performance object category.</span></span> <span data-ttu-id="cc6b8-746">このパラメーターは、制限の条件を検討する場合、制限メカニズムにヒントを提供します。</span><span class="sxs-lookup"><span data-stu-id="cc6b8-746">This parameter provides a hint to the throttling mechanism when considering throttling conditions.</span></span> <span data-ttu-id="cc6b8-747">実際のしきい値は、自律的に調整されます。</span><span class="sxs-lookup"><span data-stu-id="cc6b8-747">The actual threshold is subject to self-tuning.</span></span> <span data-ttu-id="cc6b8-748">インプロセス メッセージ数のパフォーマンス カウンターを監視することによって、実際のしきい値を確認できます。</span><span class="sxs-lookup"><span data-stu-id="cc6b8-748">You can verify the actual threshold by monitoring the in-process message count performance counter.</span></span>  

 <span data-ttu-id="cc6b8-749">このパラメーターは、サイズの大きいメッセージ シナリオの場合、メッセージの平均サイズが大きいか、メッセージの処理はメッセージの数が多い必要がありますより小さい値に設定できます。</span><span class="sxs-lookup"><span data-stu-id="cc6b8-749">This parameter can be set to a smaller value for large message scenarios, where either the average message size is high, or the processing of messages may require a large number of messages.</span></span> <span data-ttu-id="cc6b8-750">シナリオの多くのメモリに基づく制限が発生した場合と、メモリのしきい値を大幅に低い値に自動調整を取得する場合は明らかになります。</span><span class="sxs-lookup"><span data-stu-id="cc6b8-750">This would be evident if a scenario experiences memory-based throttling too often and if the memory threshold gets auto-adjusted to a substantially low value.</span></span> <span data-ttu-id="cc6b8-751">このような結果は、過度のメモリ消費を避けるため、送信トランスポートで同時に処理するメッセージを少なくする必要があることを示しています。</span><span class="sxs-lookup"><span data-stu-id="cc6b8-751">Such behavior would indicate that the outbound transport should process fewer messages concurrently to avoid excessive memory usage.</span></span> <span data-ttu-id="cc6b8-752">また、一度にいくつかのメッセージを処理すると効率性が向上するアダプター (同時接続を制限しているサーバーに送信する場合など) を使用しているシナリオでは、このパラメーターは、既定値よりも小さい値に設定できることがあります。</span><span class="sxs-lookup"><span data-stu-id="cc6b8-752">Also, for scenarios where the adapter is more efficient when processing a few messages at a time (for example, when sending to a server that limits concurrent connections), this parameter may be tuned to a lower value than the default.</span></span>  

 <span data-ttu-id="cc6b8-753">この分析は、このような調整が行われているかどうかを判断する高のインプロセス メッセージ数のカウンターを確認します。</span><span class="sxs-lookup"><span data-stu-id="cc6b8-753">This analysis checks the High In-Process Message Count counter to determine whether this kind of throttling is occurring.</span></span> <span data-ttu-id="cc6b8-754">そうである場合は、「プロセスでは、CPU ごとのメッセージ」設定を調整することを検討してください。</span><span class="sxs-lookup"><span data-stu-id="cc6b8-754">If so, consider adjusting the “In-Process messages per CPU” setting.</span></span> <span data-ttu-id="cc6b8-755">このパラメーターは、送信メッセージの制限だけに影響します。</span><span class="sxs-lookup"><span data-stu-id="cc6b8-755">This parameter only affects outbound message throttling.</span></span> <span data-ttu-id="cc6b8-756">CPU あたりのインプロセス メッセージの数に基づいた制限を無効にする「プロセスでは、CPU ごとのメッセージ」設定では、値 0 を入力します。</span><span class="sxs-lookup"><span data-stu-id="cc6b8-756">Enter a value of 0 in the “In-Process messages per CPU” setting to disable throttling based on the number of in-process messages per CPU.</span></span> <span data-ttu-id="cc6b8-757">「プロセスでは、CPU ごとのメッセージ」設定の既定値は、1,000 です。</span><span class="sxs-lookup"><span data-stu-id="cc6b8-757">The default value for the “In-Process messages per CPU” setting is 1,000.</span></span> <span data-ttu-id="cc6b8-758">この値を変更することも影響する可能性がメッセージの低待機時間、または BizTalk リソースの効率性に注意してください。</span><span class="sxs-lookup"><span data-stu-id="cc6b8-758">Note that modifying this value can also have an impact on low latency of messages and/or the efficiency of BizTalk resources.</span></span>  

### <a name="references"></a><span data-ttu-id="cc6b8-759">References</span><span class="sxs-lookup"><span data-stu-id="cc6b8-759">References</span></span>  

-   <span data-ttu-id="cc6b8-760">既定のホスト制限の設定を変更する方法 [http://go.microsoft.com/fwlink/?LinkID=155296](http://go.microsoft.com/fwlink/?LinkID=155296)</span><span class="sxs-lookup"><span data-stu-id="cc6b8-760">How to Modify the Default Host Throttling Settings at [http://go.microsoft.com/fwlink/?LinkID=155296](http://go.microsoft.com/fwlink/?LinkID=155296)</span></span>  

-   <span data-ttu-id="cc6b8-761">ホスト制限パフォーマンス カウンターに [http://go.microsoft.com/fwlink/?LinkID=155285](http://go.microsoft.com/fwlink/?LinkID=155285)</span><span class="sxs-lookup"><span data-stu-id="cc6b8-761">Host Throttling Performance Counters at [http://go.microsoft.com/fwlink/?LinkID=155285](http://go.microsoft.com/fwlink/?LinkID=155285)</span></span>  

## <a name="biztalk-high-message-delivery-rate-analysis"></a><span data-ttu-id="cc6b8-762">BizTalk の高いメッセージ配信率の分析</span><span class="sxs-lookup"><span data-stu-id="cc6b8-762">BizTalk High Message Delivery Rate Analysis</span></span>  
 <span data-ttu-id="cc6b8-763">ホスト インスタンスのメッセージ配信の受信速度が、メッセージ配信の送信比率を超える場合、送信 (配信) メッセージを BizTalk Server がメッセージの配信を制限 \* 指定したレート オーバー ドライブ率 (%) の値。</span><span class="sxs-lookup"><span data-stu-id="cc6b8-763">For outbound (delivered) messages, BizTalk Server throttles delivery of messages if the message delivery incoming rate for the host instance exceeds the message delivery outgoing rate \* the specified rate overdrive factor (percent) value.</span></span> <span data-ttu-id="cc6b8-764">レート オーバー ドライブ率 (%) のパラメーターは、メッセージ処理の制限の設定 ダイアログ ボックスで構成できます。</span><span class="sxs-lookup"><span data-stu-id="cc6b8-764">The rate overdrive factor (percent) parameter is configurable on the Message Processing Throttling Settings dialog box.</span></span> <span data-ttu-id="cc6b8-765">送信メッセージの割合に基づく制限は、インメモリ キューからメッセージを削除して、メッセージを処理するためのエンド ポイント マネージャー (EPM) またはオーケストレーション エンジンに配信する前に遅延を発生させるによって主に実現されます。</span><span class="sxs-lookup"><span data-stu-id="cc6b8-765">Rate-based throttling for outbound messages is accomplished primarily by inducing a delay before removing the messages from the in-memory queue and delivering the messages to the End Point Manager (EPM) or orchestration engine for processing.</span></span> <span data-ttu-id="cc6b8-766">送信メッセージの割合に基づく制限を実現するその他のアクションは行われません。</span><span class="sxs-lookup"><span data-stu-id="cc6b8-766">No other action is taken to accomplish rate-based throttling for outbound messages.</span></span>  

 <span data-ttu-id="cc6b8-767">送信制限ではメッセージの配信が遅れる場合があるため、メッセージがインメモリ キューに蓄積され、制限の条件が緩和されるまでキューから取り出すスレッドがブロックされる可能性があります。</span><span class="sxs-lookup"><span data-stu-id="cc6b8-767">Outbound throttling can cause delayed message delivery and messages may build up in the in-memory queue and cause de-queue threads to be blocked until the throttling condition is mitigated.</span></span> <span data-ttu-id="cc6b8-768">ときにキューから取り出すスレッドがブロックされる、送信の配信のため、インメモリ キューにメッセージ ボックス データベースから追加のメッセージが引き出されますありません。</span><span class="sxs-lookup"><span data-stu-id="cc6b8-768">When de-queue threads are blocked, no additional messages are pulled from the MessageBox into the in-memory queue for outbound delivery.</span></span>  

 <span data-ttu-id="cc6b8-769">この分析は、メッセージ配信率が高いカウンター内の 1 の値をチェックします。</span><span class="sxs-lookup"><span data-stu-id="cc6b8-769">This analysis checks for a value of 1 in the High Message Delivery Rate counter.</span></span> <span data-ttu-id="cc6b8-770">高い処理の複雑さ、低速の送信アダプター、またはシステム リソースの一時的な不足によって、高いメッセージ配信率可能性があります。</span><span class="sxs-lookup"><span data-stu-id="cc6b8-770">High message delivery rates can be caused by high processing complexity, slow outbound adapters, or a momentary shortage of system resources.</span></span>  

### <a name="references"></a><span data-ttu-id="cc6b8-771">References</span><span class="sxs-lookup"><span data-stu-id="cc6b8-771">References</span></span>  

-   <span data-ttu-id="cc6b8-772">ホスト制限パフォーマンス カウンターに [http://go.microsoft.com/fwlink/?LinkID=155285](http://go.microsoft.com/fwlink/?LinkID=155285)</span><span class="sxs-lookup"><span data-stu-id="cc6b8-772">Host Throttling Performance Counters at [http://go.microsoft.com/fwlink/?LinkID=155285](http://go.microsoft.com/fwlink/?LinkID=155285)</span></span>  

-   <span data-ttu-id="cc6b8-773">BizTalk Server がホストに制限を実装する方法 [http://go.microsoft.com/fwlink/?LinkID=155286](http://go.microsoft.com/fwlink/?LinkID=155286)</span><span class="sxs-lookup"><span data-stu-id="cc6b8-773">How BizTalk Server Implements Host Throttling at [http://go.microsoft.com/fwlink/?LinkID=155286](http://go.microsoft.com/fwlink/?LinkID=155286)</span></span>  

-   <span data-ttu-id="cc6b8-774">既定のホスト制限の設定を変更する方法 [http://go.microsoft.com/fwlink/?LinkID=155296](http://go.microsoft.com/fwlink/?LinkID=155296)</span><span class="sxs-lookup"><span data-stu-id="cc6b8-774">How to Modify the Default Host Throttling Settings at [http://go.microsoft.com/fwlink/?LinkID=155296](http://go.microsoft.com/fwlink/?LinkID=155296)</span></span>  

## <a name="biztalk-high-process-memory-analysis"></a><span data-ttu-id="cc6b8-775">BizTalk の高いプロセス メモリの分析</span><span class="sxs-lookup"><span data-stu-id="cc6b8-775">BizTalk High Process Memory Analysis</span></span>  
 <span data-ttu-id="cc6b8-776">BizTalk プロセスのメモリ使用量が調整のしきい値の設定は、ワーキング セットのサイズと、プロセスの使用可能な仮想メモリの合計の合計と比較した場合は 1 ~ 100 の値を入力に使用されるメモリの割合です。</span><span class="sxs-lookup"><span data-stu-id="cc6b8-776">The BizTalk Process Memory usage throttling threshold setting is the percentage of memory used compared to the sum of the working set size and total available virtual memory for the process if a value from 1 through 100 is entered.</span></span> <span data-ttu-id="cc6b8-777">既定では帯域幅の調整、BizTalk プロセス メモリ使用量は 25 です。</span><span class="sxs-lookup"><span data-stu-id="cc6b8-777">By default, the BizTalk Process Memory Usage throttling setting is 25.</span></span> <span data-ttu-id="cc6b8-778">比率が指定されている場合、プロセス メモリのしきい値は、定期的に再計算されます。</span><span class="sxs-lookup"><span data-stu-id="cc6b8-778">When a percentage value is specified the process memory threshold is recalculated at regular intervals.</span></span> <span data-ttu-id="cc6b8-779">ユーザーは、割合の値を指定する場合は、コミットと現在のプロセス メモリ使用量に使用可能なメモリに基づいて計算されます。</span><span class="sxs-lookup"><span data-stu-id="cc6b8-779">If the user specifies a percentage value, it is computed based on the available memory to commit and the current Process Memory usage.</span></span>  

 <span data-ttu-id="cc6b8-780">この分析は、プロセス メモリ カウンターの 1 の値をチェックします。</span><span class="sxs-lookup"><span data-stu-id="cc6b8-780">This analysis checks for a value of 1 in the High Process Memory counter.</span></span> <span data-ttu-id="cc6b8-781">この場合、デバッグ診断を使用してメモリの増加の原因を特定を試みます (メモリ リークの検出分析での参照を参照してください)。</span><span class="sxs-lookup"><span data-stu-id="cc6b8-781">If this occurs, then try to determine the cause of the memory increase by using Debug Diag (see references in Memory Leak Detection analysis).</span></span> <span data-ttu-id="cc6b8-782">通常の起動とこの中にメモリの大部分を消費するプロセスは最初にメモリ リークが発生として表示されますが、真のメモリ リークは、不要になった、必要量を減らすの使用可能な me メモリを解放するプロセスが失敗したときに発生します。時間の経過と共に mory します。</span><span class="sxs-lookup"><span data-stu-id="cc6b8-782">Note that is it normal for processes to consume a large portion of memory during startup and this may initially appear as a memory leak, but a true memory leak occurs when a process fails to release memory that it no longer needs, thereby reducing the amount of available memory over time.</span></span> <span data-ttu-id="cc6b8-783">Biztalk プロセスのメモリ リークを汎用的に分析する方法については、以下の「方法をキャプチャ、メモリ ダンプ、プロセスがリークしているメモリの」参照や「メモリ リークの検出」分析を PAL の詳細についてを参照してください。</span><span class="sxs-lookup"><span data-stu-id="cc6b8-783">See the “How to Capture a Memory Dump of a Process that is Leaking Memory” reference below and/or the “Memory Leak Detection” analysis in PAL for more information on how to generically analyze process memory leaks in BizTalk.</span></span>  

 <span data-ttu-id="cc6b8-784">公開するバッチに急なメモリの要件がある場合に発生することができます高プロセス メモリの制限またはメッセージの処理はスレッドが多すぎます。</span><span class="sxs-lookup"><span data-stu-id="cc6b8-784">High process memory throttling can occur if the batch to be published has steep memory requirements, or too many threads are processing messages.</span></span>  <span data-ttu-id="cc6b8-785">システムが過剰に制限する場合は、ホストのプロセス メモリ使用率のしきい値に関連付けられている値を増やすことを検討し、ホスト インスタンスに「メモリ不足」エラーが発生しないことを確認します。</span><span class="sxs-lookup"><span data-stu-id="cc6b8-785">If the system appears to be over-throttling, consider increasing the value associated with the process memory usage threshold for the host and verify that the host instance does not generate an "out of memory" error.</span></span> <span data-ttu-id="cc6b8-786">プロセス メモリ使用率のしきい値を増やすことで、「メモリ不足」エラーが発生する場合、内部メッセージ キューのサイズの値を減らすことを検討およびプロセス CPU しきい値あたりのメッセージ。</span><span class="sxs-lookup"><span data-stu-id="cc6b8-786">If an "out of memory" error is raised by increasing the process memory usage threshold, then consider reducing the values for the internal message queue size and In-process messages per CPU thresholds.</span></span> <span data-ttu-id="cc6b8-787">この方法は、サイズの大きいメッセージを処理するシナリオに特に関連します。</span><span class="sxs-lookup"><span data-stu-id="cc6b8-787">This strategy is particularly relevant in large message processing scenarios.</span></span> <span data-ttu-id="cc6b8-788">さらに、この値は、メッセージごとの大量のメモリ要件のシナリオを低い値に設定する必要があります。</span><span class="sxs-lookup"><span data-stu-id="cc6b8-788">In addition, this value should be set to a low value for scenarios having large memory requirement per message.</span></span> <span data-ttu-id="cc6b8-789">小さい値を設定、早い段階で調整が開始され、プロセス内でメモリの急増が回避されます。</span><span class="sxs-lookup"><span data-stu-id="cc6b8-789">Setting a low value will kick in throttling early on and prevent a memory explosion within the process.</span></span>  

 <span data-ttu-id="cc6b8-790">BizTalk server は、仮想メモリが不足定期的に実行、する場合は、BizTalk Server の 64年ビットを検討します。</span><span class="sxs-lookup"><span data-stu-id="cc6b8-790">If your BizTalk server regularly runs out of virtual memory, then consider BizTalk Server 64-bit.</span></span> <span data-ttu-id="cc6b8-791">64 ビット サーバー上の各プロセスが最大 4 に対応できる TB の仮想メモリ 2 GB の 32 ビットと比較します。</span><span class="sxs-lookup"><span data-stu-id="cc6b8-791">Each process on 64-bit servers can address up to 4 TB’s of virtual memory versus the 2 GB’s in 32-bit.</span></span> <span data-ttu-id="cc6b8-792">一般に、BizTalk を 64 ビットと 64 ビット SQL Server は強くお勧めします。</span><span class="sxs-lookup"><span data-stu-id="cc6b8-792">In general, 64-bit BizTalk and 64-bit SQL Server is highly recommended.</span></span> <span data-ttu-id="cc6b8-793">詳細については「BizTalk Server の 64 ビット サポート」リファレンスを参照してください。</span><span class="sxs-lookup"><span data-stu-id="cc6b8-793">See the “BizTalk Server 64-bit Support” reference for more information.</span></span>  

### <a name="references"></a><span data-ttu-id="cc6b8-794">References</span><span class="sxs-lookup"><span data-stu-id="cc6b8-794">References</span></span>  

-   <span data-ttu-id="cc6b8-795">BizTalk Server がホストに制限を実装する方法 [http://go.microsoft.com/fwlink/?LinkID=155286](http://go.microsoft.com/fwlink/?LinkID=155286)</span><span class="sxs-lookup"><span data-stu-id="cc6b8-795">How BizTalk Server Implements Host Throttling at [http://go.microsoft.com/fwlink/?LinkID=155286](http://go.microsoft.com/fwlink/?LinkID=155286)</span></span>  

-   <span data-ttu-id="cc6b8-796">既定のホスト制限の設定を変更する方法 [http://go.microsoft.com/fwlink/?LinkID=155296](http://go.microsoft.com/fwlink/?LinkID=155296)</span><span class="sxs-lookup"><span data-stu-id="cc6b8-796">How to Modify the Default Host Throttling Settings at [http://go.microsoft.com/fwlink/?LinkID=155296](http://go.microsoft.com/fwlink/?LinkID=155296)</span></span>  

-   <span data-ttu-id="cc6b8-797">時にメモリ リークが発生しているプロセスのメモリ ダンプをキャプチャする方法 [http://go.microsoft.com/fwlink/?LinkId=155305](http://go.microsoft.com/fwlink/?LinkId=155305)</span><span class="sxs-lookup"><span data-stu-id="cc6b8-797">How to Capture a Memory Dump of a Process that is Leaking Memory at [http://go.microsoft.com/fwlink/?LinkId=155305](http://go.microsoft.com/fwlink/?LinkId=155305)</span></span>  

-   <span data-ttu-id="cc6b8-798">BizTalk Server での 64 ビット サポート [http://go.microsoft.com/fwlink/?LinkId=155306](http://go.microsoft.com/fwlink/?LinkId=155306)</span><span class="sxs-lookup"><span data-stu-id="cc6b8-798">BizTalk Server 64-bit Support at [http://go.microsoft.com/fwlink/?LinkId=155306](http://go.microsoft.com/fwlink/?LinkId=155306)</span></span>  

## <a name="biztalk-high-system-memory-analysis"></a><span data-ttu-id="cc6b8-799">BizTalk の高いシステムのメモリ分析</span><span class="sxs-lookup"><span data-stu-id="cc6b8-799">BizTalk High System Memory Analysis</span></span>  
 <span data-ttu-id="cc6b8-800">BizTalk の物理メモリ使用量の制限しきい値の設定は、1 ~ 100 で指定する場合の使用可能な物理メモリの総量と比較してメモリ使用量の割合を入力します。</span><span class="sxs-lookup"><span data-stu-id="cc6b8-800">The BizTalk Physical Memory usage throttling threshold setting is the percentage of memory consumption compared to the total amount of available physical memory if a value from 1 through 100 is entered.</span></span> <span data-ttu-id="cc6b8-801">この設定では、100 より大きい値を入力した場合、メガバイト単位で使用可能な物理メモリの総量こともできます。</span><span class="sxs-lookup"><span data-stu-id="cc6b8-801">This setting can also be the total amount of available physical memory in megabytes if a value greater than 100 is entered.</span></span> <span data-ttu-id="cc6b8-802">物理メモリ使用量に基づいた制限を無効にするには、値 0 を入力してください。</span><span class="sxs-lookup"><span data-stu-id="cc6b8-802">Enter a value of 0 to disable throttling based on physical memory usage.</span></span> <span data-ttu-id="cc6b8-803">既定値は 0 です。</span><span class="sxs-lookup"><span data-stu-id="cc6b8-803">The default value is 0.</span></span>  

 <span data-ttu-id="cc6b8-804">この分析は、高のシステム メモリ カウンターの 1 の値をチェックします。</span><span class="sxs-lookup"><span data-stu-id="cc6b8-804">This analysis checks for a value of 1 in the High System Memory counter.</span></span> <span data-ttu-id="cc6b8-805">すべてのシステム メモリが測定されるので、BizTalk Server 以外のプロセスが多くのシステム メモリを使用している場合に制限の条件が発生する可能性があります。</span><span class="sxs-lookup"><span data-stu-id="cc6b8-805">Since this measures total system memory, a throttling condition may be triggered if non-BizTalk Server processes are consuming an extensive amount of system memory.</span></span> <span data-ttu-id="cc6b8-806">そのため、このような場合、最良のアプローチは、識別するプロセスの大半の物理メモリを消費や、サーバーに物理メモリを追加するためには。</span><span class="sxs-lookup"><span data-stu-id="cc6b8-806">Therefore if this occurs, the best approach is to identify which processes are consuming the most physical memory and/or add additional physical memory to the server.</span></span> <span data-ttu-id="cc6b8-807">また、EPM スレッド プールの既定のサイズやアダプター バッチのサイズを減らすことで負荷を減らすことを検討します。</span><span class="sxs-lookup"><span data-stu-id="cc6b8-807">Also, consider reducing load by reducing the default size of the EPM thread pool, and/or the size of adapter batches.</span></span> <span data-ttu-id="cc6b8-808">詳細については、PAL 内のメモリ リークの検出分析を参照してください。</span><span class="sxs-lookup"><span data-stu-id="cc6b8-808">For more information, see the Memory Leak Detection analysis in PAL.</span></span>  

### <a name="references"></a><span data-ttu-id="cc6b8-809">References</span><span class="sxs-lookup"><span data-stu-id="cc6b8-809">References</span></span>  

-   <span data-ttu-id="cc6b8-810">ホスト制限パフォーマンス カウンターに [http://go.microsoft.com/fwlink/?LinkID=155285](http://go.microsoft.com/fwlink/?LinkID=155285)</span><span class="sxs-lookup"><span data-stu-id="cc6b8-810">Host Throttling Performance Counters at [http://go.microsoft.com/fwlink/?LinkID=155285](http://go.microsoft.com/fwlink/?LinkID=155285)</span></span>  

-   <span data-ttu-id="cc6b8-811">既定のホスト制限の設定を変更する方法 [http://go.microsoft.com/fwlink/?LinkID=155296](http://go.microsoft.com/fwlink/?LinkID=155296)</span><span class="sxs-lookup"><span data-stu-id="cc6b8-811">How to Modify the Default Host Throttling Settings at [http://go.microsoft.com/fwlink/?LinkID=155296](http://go.microsoft.com/fwlink/?LinkID=155296)</span></span>  

-   <span data-ttu-id="cc6b8-812">BizTalk Server がホストに制限を実装する方法 [http://go.microsoft.com/fwlink/?LinkID=155286](http://go.microsoft.com/fwlink/?LinkID=155286)</span><span class="sxs-lookup"><span data-stu-id="cc6b8-812">How BizTalk Server Implements Host Throttling at [http://go.microsoft.com/fwlink/?LinkID=155286](http://go.microsoft.com/fwlink/?LinkID=155286)</span></span>  

## <a name="biztalk-high-thread-count-analysis"></a><span data-ttu-id="cc6b8-813">BizTalk の高いスレッド数の分析</span><span class="sxs-lookup"><span data-stu-id="cc6b8-813">BizTalk High Thread Count Analysis</span></span>  
 <span data-ttu-id="cc6b8-814">「CPU あたりのスレッド」は、アダプターで使用されるスレッドを含むホスト プロセス内のスレッドの合計数です。</span><span class="sxs-lookup"><span data-stu-id="cc6b8-814">“Threads Per CPU” is the total number of threads in the host process including threads used by adapters.</span></span> <span data-ttu-id="cc6b8-815">このしきい値を超過すると、BizTalk Server は、EPM スレッド プールとメッセージ エージェント スレッド プールのサイズを縮小しようとします。</span><span class="sxs-lookup"><span data-stu-id="cc6b8-815">If this threshold is exceeded, BizTalk Server will try to reduce the size of the EPM thread pool and message agent thread pool.</span></span> <span data-ttu-id="cc6b8-816">高負荷によって多くのスレッドを作成するシナリオでは、スレッド ベースの制限を有効にする必要があります。</span><span class="sxs-lookup"><span data-stu-id="cc6b8-816">Thread based throttling should be enabled in scenarios where high load can lead to the creation of a large number of threads.</span></span> <span data-ttu-id="cc6b8-817">このパラメーターは、受信制限と送信制限の両方に影響します。</span><span class="sxs-lookup"><span data-stu-id="cc6b8-817">This parameter affects both inbound and outbound throttling.</span></span> <span data-ttu-id="cc6b8-818">既定では、スレッド ベースの制限を無効になっています。</span><span class="sxs-lookup"><span data-stu-id="cc6b8-818">Thread based throttling is disabled by default.</span></span>  

> [!NOTE]  
>  <span data-ttu-id="cc6b8-819">なガイドラインとして、ユーザー指定の値が使用され、ホストが、メモリ使用パターンとプロセスのスレッド要件に基づいてこのしきい値を自己調整動的に可能性があります。</span><span class="sxs-lookup"><span data-stu-id="cc6b8-819">The user-specified value is used as a guideline, and the host may dynamically self-tune this threshold value based on the memory usage patterns and thread requirements of the process.</span></span>  

 <span data-ttu-id="cc6b8-820">この分析は、1、高の Thread Count カウンターの値をチェックします。</span><span class="sxs-lookup"><span data-stu-id="cc6b8-820">This analysis checks for a value of 1 in the High Thread Count counter.</span></span> <span data-ttu-id="cc6b8-821">多くのスレッドが作成されないように、異なるスレッド プール サイズを設定することを検討します。</span><span class="sxs-lookup"><span data-stu-id="cc6b8-821">Consider adjusting the different thread pool sizes to ensure that the system does not create a large number of threads.</span></span> <span data-ttu-id="cc6b8-822">この分析は、ほとんどがよりも、BizTalk server 上のバックエンド データベースの複数の競合についてスレッド カウントの原因をケースしてでは、スレッドが多すぎると、オペレーティング システムが飽和状態にするかどうかを判断する 2 つ目の分析単位コンテキスト スイッチを使用して相関できます。</span><span class="sxs-lookup"><span data-stu-id="cc6b8-822">This analysis can be correlated with Context Switches per Second analysis to determine whether the operating system is saturated with too many threads, but in most cases high thread counts cause more contention on the backend database than on the BizTalk server.</span></span> <span data-ttu-id="cc6b8-823">スレッド プールのサイズを変更する方法の詳細については、参照で既定のホスト制限設定を変更する方法を参照してください。</span><span class="sxs-lookup"><span data-stu-id="cc6b8-823">For more information about modifying the thread pool sizes see How to Modify the Default Host Throttling Settings in references.</span></span>  

### <a name="references"></a><span data-ttu-id="cc6b8-824">References</span><span class="sxs-lookup"><span data-stu-id="cc6b8-824">References</span></span>  

- <span data-ttu-id="cc6b8-825">ホスト制限パフォーマンス カウンターに [http://go.microsoft.com/fwlink/?LinkID=155285](http://go.microsoft.com/fwlink/?LinkID=155285)</span><span class="sxs-lookup"><span data-stu-id="cc6b8-825">Host Throttling Performance Counters at [http://go.microsoft.com/fwlink/?LinkID=155285](http://go.microsoft.com/fwlink/?LinkID=155285)</span></span>  

- <span data-ttu-id="cc6b8-826">BizTalk Server がホストに制限を実装する方法 [http://go.microsoft.com/fwlink/?LinkID=155286](http://go.microsoft.com/fwlink/?LinkID=155286)</span><span class="sxs-lookup"><span data-stu-id="cc6b8-826">How BizTalk Server Implements Host Throttling at [http://go.microsoft.com/fwlink/?LinkID=155286](http://go.microsoft.com/fwlink/?LinkID=155286)</span></span>  

- <span data-ttu-id="cc6b8-827">既定のホスト制限の設定を変更する方法 [http://go.microsoft.com/fwlink/?LinkID=155296](http://go.microsoft.com/fwlink/?LinkID=155296)</span><span class="sxs-lookup"><span data-stu-id="cc6b8-827">How to Modify the Default Host Throttling Settings at [http://go.microsoft.com/fwlink/?LinkID=155296](http://go.microsoft.com/fwlink/?LinkID=155296)</span></span>  

- <span data-ttu-id="cc6b8-828">アダプターのパフォーマンスに影響する構成パラメーター [http://go.microsoft.com/fwlink/?LinkID=154200](http://go.microsoft.com/fwlink/?LinkID=154200)</span><span class="sxs-lookup"><span data-stu-id="cc6b8-828">Configuration Parameters that Affect Adapter Performance at [http://go.microsoft.com/fwlink/?LinkID=154200](http://go.microsoft.com/fwlink/?LinkID=154200)</span></span>  

- <span data-ttu-id="cc6b8-829">スレッド、DB セッション、および調整に [http://go.microsoft.com/fwlink/?linkid=106793](http://go.microsoft.com/fwlink/?linkid=106793)</span><span class="sxs-lookup"><span data-stu-id="cc6b8-829">Threads, DB sessions, and throttling at [http://go.microsoft.com/fwlink/?linkid=106793](http://go.microsoft.com/fwlink/?linkid=106793)</span></span>  

  <span data-ttu-id="cc6b8-830">BizTalk の受信待機時間の AnalysisAverage 待機 (ミリ秒) ときに、メッセージング エンジンからドキュメントを受信アダプター、メッセージ ボックスにパブリッシュした時までです。</span><span class="sxs-lookup"><span data-stu-id="cc6b8-830">BizTalk Inbound Latency AnalysisAverage latency in milliseconds from when the messaging engine receives a document from the adapter until the time it is published to the message box.</span></span> <span data-ttu-id="cc6b8-831">待機時間の削減は、BizTalk の一部のユーザーに重要なためにドキュメントが受信アダプターで費やす量を追跡が重要です。</span><span class="sxs-lookup"><span data-stu-id="cc6b8-831">Reducing latency is important to some users of BizTalk, therefore tracking how much time documents spend in the inbound adapter is important.</span></span>  

  <span data-ttu-id="cc6b8-832">待機時間を測定する方法を示すグラフを次に示します。</span><span class="sxs-lookup"><span data-stu-id="cc6b8-832">Here is a chart showing how latency is measured.</span></span>  

|<span data-ttu-id="cc6b8-833">1</span><span class="sxs-lookup"><span data-stu-id="cc6b8-833">1</span></span>|<span data-ttu-id="cc6b8-834">2</span><span class="sxs-lookup"><span data-stu-id="cc6b8-834">2</span></span>|<span data-ttu-id="cc6b8-835">3</span><span class="sxs-lookup"><span data-stu-id="cc6b8-835">3</span></span>|<span data-ttu-id="cc6b8-836">4</span><span class="sxs-lookup"><span data-stu-id="cc6b8-836">4</span></span>|<span data-ttu-id="cc6b8-837">5</span><span class="sxs-lookup"><span data-stu-id="cc6b8-837">5</span></span>|<span data-ttu-id="cc6b8-838">6</span><span class="sxs-lookup"><span data-stu-id="cc6b8-838">6</span></span>|  
|-------|-------|-------|-------|-------|-------|  
|<span data-ttu-id="cc6b8-839">アダプターがメッセージを受信し、これらのパフォーマンス カウンターのキャプチャにメッセージがないエンジンに提供する前に、アダプターで実行される作業のエンジンに送信します。</span><span class="sxs-lookup"><span data-stu-id="cc6b8-839">Adapter receives message and submits it to the engine, work done in adapter before message is given to engine not captured in these perf counters</span></span>|<span data-ttu-id="cc6b8-840">エンジンがアダプターからメッセージを受信、実行される受信パイプライン、マップ、サブスクリプションの評価、DB 内のメッセージを保持します。</span><span class="sxs-lookup"><span data-stu-id="cc6b8-840">Engine receives message from adapter, executes receive pipeline, map, subscription evaluation, persist message in DB.</span></span>|<span data-ttu-id="cc6b8-841">オーケストレーションまたは送信請求-応答ポートを実行し、応答メッセージを生成します。</span><span class="sxs-lookup"><span data-stu-id="cc6b8-841">Orchestration or Solicit-Response port runs and generates a response message.</span></span>|<span data-ttu-id="cc6b8-842">メッセージング エンジンで応答メッセージがデキューされた、送信パイプラインの実行、マップできます。</span><span class="sxs-lookup"><span data-stu-id="cc6b8-842">Response message is dequeued in messaging engine, execute the send pipeline, map.</span></span>|<span data-ttu-id="cc6b8-843">メッセージング エンジンは、アダプターへの応答メッセージを提供します。</span><span class="sxs-lookup"><span data-stu-id="cc6b8-843">Messaging engine gives response message to adapter.</span></span>|<span data-ttu-id="cc6b8-844">アダプターは、エンジンのメッセージ内容がすべて完了を通知します。</span><span class="sxs-lookup"><span data-stu-id="cc6b8-844">Adapter informs engine message is all done.</span></span>|  
||<span data-ttu-id="cc6b8-845">I</span><span class="sxs-lookup"><span data-stu-id="cc6b8-845">I</span></span>|||||  
||<span data-ttu-id="cc6b8-846">RR</span><span class="sxs-lookup"><span data-stu-id="cc6b8-846">RR</span></span>|<span data-ttu-id="cc6b8-847">RR</span><span class="sxs-lookup"><span data-stu-id="cc6b8-847">RR</span></span>|<span data-ttu-id="cc6b8-848">RR</span><span class="sxs-lookup"><span data-stu-id="cc6b8-848">RR</span></span>|||  
||||<span data-ttu-id="cc6b8-849">O</span><span class="sxs-lookup"><span data-stu-id="cc6b8-849">O</span></span>|<span data-ttu-id="cc6b8-850">O</span><span class="sxs-lookup"><span data-stu-id="cc6b8-850">O</span></span>|<span data-ttu-id="cc6b8-851">O</span><span class="sxs-lookup"><span data-stu-id="cc6b8-851">O</span></span>|  
|||||<span data-ttu-id="cc6b8-852">OA</span><span class="sxs-lookup"><span data-stu-id="cc6b8-852">OA</span></span>|<span data-ttu-id="cc6b8-853">OA</span><span class="sxs-lookup"><span data-stu-id="cc6b8-853">OA</span></span>|  

 <span data-ttu-id="cc6b8-854">受信の待機時間を =</span><span class="sxs-lookup"><span data-stu-id="cc6b8-854">I = Inbound Latency</span></span>  

 <span data-ttu-id="cc6b8-855">RR = 要求応答の待機時間</span><span class="sxs-lookup"><span data-stu-id="cc6b8-855">RR = Request Response Latency</span></span>  

 <span data-ttu-id="cc6b8-856">O = 待機時間の送信</span><span class="sxs-lookup"><span data-stu-id="cc6b8-856">O = Outbound Latency</span></span>  

 <span data-ttu-id="cc6b8-857">OA 送信アダプターの待機時間を =</span><span class="sxs-lookup"><span data-stu-id="cc6b8-857">OA = Outbound Adapter Latency</span></span>  

 <span data-ttu-id="cc6b8-858">低待機時間環境と仮定すると、この分析は、ドキュメントが 5 秒以上、受信アダプターで費やされたかどうかを確認します。</span><span class="sxs-lookup"><span data-stu-id="cc6b8-858">Assuming a low latency environment, this analysis checks whether the document spent more than 5 seconds in the inbound adapter.</span></span> <span data-ttu-id="cc6b8-859">このホスト インスタンスで受信アダプターを経由してメッセージのトランスポートでの処理の遅延がある可能性があります。</span><span class="sxs-lookup"><span data-stu-id="cc6b8-859">This may indicate a processing delay in the transport of messages through inbound adapters in this host instance.</span></span> <span data-ttu-id="cc6b8-860">複数の受信アダプターは、このホスト インスタンスに存在する場合、受信アダプターが高待機時間を判断する、独自のホストに分割することを検討します。</span><span class="sxs-lookup"><span data-stu-id="cc6b8-860">If multiple inbound adapters exist in this host instance, then consider separating them into their own hosts to determine which inbound adapter has high latency.</span></span>  

### <a name="references"></a><span data-ttu-id="cc6b8-861">References</span><span class="sxs-lookup"><span data-stu-id="cc6b8-861">References</span></span>  

-   <span data-ttu-id="cc6b8-862">BizTalk Server データベースの最適化</span><span class="sxs-lookup"><span data-stu-id="cc6b8-862">BizTalk Server Database Optimization</span></span>  
    [http://go.microsoft.com/fwlink/?linkid=104427](http://go.microsoft.com/fwlink/?linkid=104427)  

-   <span data-ttu-id="cc6b8-863">要求/応答メッセージング</span><span class="sxs-lookup"><span data-stu-id="cc6b8-863">Request/Response Messaging</span></span>  
    [http://go.microsoft.com/fwlink/?LinkID=155288](http://go.microsoft.com/fwlink/?LinkID=155288)  

-   <span data-ttu-id="cc6b8-864">BizTalk 層のボトルネックの特定</span><span class="sxs-lookup"><span data-stu-id="cc6b8-864">Identifying Bottlenecks in the BizTalk Tier</span></span>  
    [http://go.microsoft.com/fwlink/?LinkID=155289](http://go.microsoft.com/fwlink/?LinkID=155289)  

## <a name="biztalk-message-delivery-throttling-state-analysis"></a><span data-ttu-id="cc6b8-865">BizTalk メッセージの配信状態の分析の調整</span><span class="sxs-lookup"><span data-stu-id="cc6b8-865">BizTalk Message Delivery Throttling State Analysis</span></span>  
 <span data-ttu-id="cc6b8-866">BizTalk メッセージの配信制限の状態では、制限の主な兆候の 1 つです。</span><span class="sxs-lookup"><span data-stu-id="cc6b8-866">The BizTalk message delivery throttling state is one of the primary indicators of throttling.</span></span> <span data-ttu-id="cc6b8-867">これは、システムで (XLANG メッセージ処理および送信トランスポートに影響を与える) メッセージ配信を制限するかどうかを示すフラグです。</span><span class="sxs-lookup"><span data-stu-id="cc6b8-867">It is a flag indicating whether the system is throttling message delivery (affecting XLANG message processing and outbound transports).</span></span> <span data-ttu-id="cc6b8-868">制限の条件は、カウンターの数値の値によって示されます。</span><span class="sxs-lookup"><span data-stu-id="cc6b8-868">The throttling condition is indicated by the numeric value of the counter.</span></span> <span data-ttu-id="cc6b8-869">それぞれの意味と値の一覧を次に示します。</span><span class="sxs-lookup"><span data-stu-id="cc6b8-869">Here is a list of the values and their respective meaning:</span></span>  

|||  
|-|-|  
|<span data-ttu-id="cc6b8-870">0</span><span class="sxs-lookup"><span data-stu-id="cc6b8-870">0</span></span>|<span data-ttu-id="cc6b8-871">制限なし。</span><span class="sxs-lookup"><span data-stu-id="cc6b8-871">Not throttling</span></span>|  
|<span data-ttu-id="cc6b8-872">1</span><span class="sxs-lookup"><span data-stu-id="cc6b8-872">1</span></span>|<span data-ttu-id="cc6b8-873">メッセージ配信レートが不安定なことに起因する制限。入力率が出力率を超えています。</span><span class="sxs-lookup"><span data-stu-id="cc6b8-873">Throttling due to imbalanced message delivery rate (input rate exceeds output rate)</span></span>|  
|<span data-ttu-id="cc6b8-874">3</span><span class="sxs-lookup"><span data-stu-id="cc6b8-874">3</span></span>|<span data-ttu-id="cc6b8-875">インプロセス メッセージ カウントが大きいことに起因する制限。</span><span class="sxs-lookup"><span data-stu-id="cc6b8-875">Throttling due to high in-process message count</span></span>|  
|<span data-ttu-id="cc6b8-876">4</span><span class="sxs-lookup"><span data-stu-id="cc6b8-876">4</span></span>|<span data-ttu-id="cc6b8-877">プロセス メモリ不足に起因する制限。</span><span class="sxs-lookup"><span data-stu-id="cc6b8-877">Throttling due to process memory pressure</span></span>|  
|<span data-ttu-id="cc6b8-878">5</span><span class="sxs-lookup"><span data-stu-id="cc6b8-878">5</span></span>|<span data-ttu-id="cc6b8-879">システム メモリ不足に起因する制限。</span><span class="sxs-lookup"><span data-stu-id="cc6b8-879">Throttling due to system memory pressure</span></span>|  
|<span data-ttu-id="cc6b8-880">9</span><span class="sxs-lookup"><span data-stu-id="cc6b8-880">9</span></span>|<span data-ttu-id="cc6b8-881">スレッド カウントが大きいことに起因する制限。</span><span class="sxs-lookup"><span data-stu-id="cc6b8-881">Throttling due to high thread count</span></span>|  
|<span data-ttu-id="cc6b8-882">10</span><span class="sxs-lookup"><span data-stu-id="cc6b8-882">10</span></span>|<span data-ttu-id="cc6b8-883">配信におけるユーザー オーバーライドに起因する制限</span><span class="sxs-lookup"><span data-stu-id="cc6b8-883">Throttling due to user override on delivery</span></span>|  

 <span data-ttu-id="cc6b8-884">この分析は、これらの各値をチェックし、それぞれの特定の警告があります。</span><span class="sxs-lookup"><span data-stu-id="cc6b8-884">This analysis checks for each of these values and has a specific alert for each of them.</span></span>  

### <a name="references"></a><span data-ttu-id="cc6b8-885">References</span><span class="sxs-lookup"><span data-stu-id="cc6b8-885">References</span></span>  

-   <span data-ttu-id="cc6b8-886">ホスト制限パフォーマンス カウンターに [http://go.microsoft.com/fwlink/?LinkID=155285](http://go.microsoft.com/fwlink/?LinkID=155285)</span><span class="sxs-lookup"><span data-stu-id="cc6b8-886">Host Throttling Performance Counters at [http://go.microsoft.com/fwlink/?LinkID=155285](http://go.microsoft.com/fwlink/?LinkID=155285)</span></span>  

-   <span data-ttu-id="cc6b8-887">BizTalk Server がホストに制限を実装する方法 [http://go.microsoft.com/fwlink/?LinkID=155286](http://go.microsoft.com/fwlink/?LinkID=155286)</span><span class="sxs-lookup"><span data-stu-id="cc6b8-887">How BizTalk Server Implements Host Throttling at [http://go.microsoft.com/fwlink/?LinkID=155286](http://go.microsoft.com/fwlink/?LinkID=155286)</span></span>  

## <a name="biztalk-messagebox-database-connection-failures-analysis"></a><span data-ttu-id="cc6b8-888">BizTalk メッセージ ボックス データベースの接続の失敗の分析</span><span class="sxs-lookup"><span data-stu-id="cc6b8-888">BizTalk MessageBox Database Connection Failures Analysis</span></span>  
 <span data-ttu-id="cc6b8-889">このパフォーマンス カウンターでは、ホスト インスタンスが起動されてから失敗したデータベース接続エラーの数です。</span><span class="sxs-lookup"><span data-stu-id="cc6b8-889">This performance counter is the number of attempted database connections that failed since the host instance started.</span></span> <span data-ttu-id="cc6b8-890">何らかの理由で、BizTalk データベースをホストする SQL Server サービスが利用できなくなると、データベース クラスターは、パッシブ側コンピューターにアクティブなコンピューターからリソースを転送します。</span><span class="sxs-lookup"><span data-stu-id="cc6b8-890">If the SQL Server service hosting the BizTalk databases becomes unavailable for any reason, the database cluster transfers resources from the active computer to the passive computer.</span></span> <span data-ttu-id="cc6b8-891">このフェールオーバー処理中に BizTalk Server サービスのインスタンスがデータベース接続の障害を検出すると、自動的にデータベースの再接続が実行されます。</span><span class="sxs-lookup"><span data-stu-id="cc6b8-891">During this failover process, the BizTalk Server service instances experience database connection failures and automatically restart to reconnect to the databases.</span></span> <span data-ttu-id="cc6b8-892">正常に動作しているデータベース コンピューター (先ほどまでパッシブ側であったコンピューター) が、フェールオーバーでリソースを引き継いだ後、データベース接続の処理を開始します。</span><span class="sxs-lookup"><span data-stu-id="cc6b8-892">The functioning database computer (previously the passive computer) begins processing the database connections after assuming the resources during failover.</span></span>  

 <span data-ttu-id="cc6b8-893">BizTalk Server ランタイムがメッセージ ボックス データベースまたは管理のいずれかのデータベースと通信できない場合、DBNetLib (データベース ネットワーク ライブラリ) エラーが発生します。</span><span class="sxs-lookup"><span data-stu-id="cc6b8-893">DBNetLib (Database Network Library) errors occur when the BizTalk Server runtime is unable to communicate with either the MessageBox or management databases.</span></span> <span data-ttu-id="cc6b8-894">この場合、例外をキャッチする BizTalk Server ランタイム インスタンスはシャット ダウンされ、毎分をサイクル データベースが利用可能かどうかを確認してください。</span><span class="sxs-lookup"><span data-stu-id="cc6b8-894">When this occurs, the BizTalk Server runtime instance that catches the exception shuts down and then cycles every minute to check to see whether the database is available.</span></span> <span data-ttu-id="cc6b8-895">このトピックの詳細については、「参照」セクションを参照してください。</span><span class="sxs-lookup"><span data-stu-id="cc6b8-895">See the references section for more information on this topic.</span></span>  

 <span data-ttu-id="cc6b8-896">クライアントがサーバーとの TCP/IP ソケット接続を開始した場合、通常、そのクライアントはサーバー上の特定ポートに接続し、一時的な (短期) TCP ポートまたは UDP ポートを経由してクライアントに応答するようサーバーに要求します。</span><span class="sxs-lookup"><span data-stu-id="cc6b8-896">When a client initiates a TCP/IP socket connection to a server, the client typically connects to a specific port on the server and requests that the server respond to the client over an ephemeral, or short lived, TCP or UDP port.</span></span> <span data-ttu-id="cc6b8-897">Windows Server 2003 および Windows XP では、クライアント アプリケーションによって使用されるエフェメラル ポートの既定の範囲は 5000 1,025 です。</span><span class="sxs-lookup"><span data-stu-id="cc6b8-897">On Windows Server 2003 and Windows XP, the default range of ephemeral ports used by client applications is from 1025 through 5000.</span></span> <span data-ttu-id="cc6b8-898">特定の状況では、既定の範囲で使用可能なポートを使い果たすことができます。</span><span class="sxs-lookup"><span data-stu-id="cc6b8-898">Under certain conditions it is possible that the available ports in the default range will be exhausted.</span></span> <span data-ttu-id="cc6b8-899">このトピックの詳細については、「参照」セクションを参照してください。</span><span class="sxs-lookup"><span data-stu-id="cc6b8-899">See the references section for more information on this topic.</span></span>  

 <span data-ttu-id="cc6b8-900">この分析は、データベース接続エラーの発生に対してチェックします。</span><span class="sxs-lookup"><span data-stu-id="cc6b8-900">This analysis checks for any occurrence of database connection failures.</span></span> <span data-ttu-id="cc6b8-901">データベース接続エラーは、BizTalk データベースが存在しない機能のために重要です。</span><span class="sxs-lookup"><span data-stu-id="cc6b8-901">Database connection failures are critical because BizTalk cannot function without the database.</span></span> <span data-ttu-id="cc6b8-902">データベース接続エラーの原因が不明な場合は、以下の参照を検討してください。 や、接続エラーの性質を特定する Microsoft サポートにお問い合わせください。</span><span class="sxs-lookup"><span data-stu-id="cc6b8-902">If the cause of the database connection failure is unknown, then consider the references listed below and/or contact Microsoft Support to determine the nature of the connectivity failure.</span></span>  

### <a name="references"></a><span data-ttu-id="cc6b8-903">References</span><span class="sxs-lookup"><span data-stu-id="cc6b8-903">References</span></span>  

-   <span data-ttu-id="cc6b8-904">スケールアウト データベース</span><span class="sxs-lookup"><span data-stu-id="cc6b8-904">Scaled-Out Databases</span></span>  
    [http://go.microsoft.com/fwlink/?LinkId=155307](http://go.microsoft.com/fwlink/?LinkId=155307)  

-   <span data-ttu-id="cc6b8-905">DBNETLIB 例外の回避</span><span class="sxs-lookup"><span data-stu-id="cc6b8-905">Avoiding DBNETLIB Exceptions</span></span>  
    [http://go.microsoft.com/fwlink/?LinkId=155308](http://go.microsoft.com/fwlink/?LinkId=155308)  

-   <span data-ttu-id="cc6b8-906">使用可能な TCP/IP ポートが存在しないことの回避</span><span class="sxs-lookup"><span data-stu-id="cc6b8-906">Avoiding TCP/IP Port Exhaustion</span></span>  
    [http://go.microsoft.com/fwlink/?LinkId=155309](http://go.microsoft.com/fwlink/?LinkId=155309)  

## <a name="biztalk-messaging-publishing-throttling-state-analysis"></a><span data-ttu-id="cc6b8-907">BizTalk メッセージ公開の制限の状態の分析</span><span class="sxs-lookup"><span data-stu-id="cc6b8-907">BizTalk Messaging Publishing Throttling State Analysis</span></span>  
 <span data-ttu-id="cc6b8-908">BizTalk メッセージの公開の制限の状態では、制限の主な兆候の 1 つです。</span><span class="sxs-lookup"><span data-stu-id="cc6b8-908">The BizTalk message publishing throttling state is one of the primary indicators of throttling.</span></span> <span data-ttu-id="cc6b8-909">これは、システムで (XLANG メッセージ処理および受信トランスポートに影響を与える) メッセージの公開を制限するかどうかを示すフラグです。制限の条件は、カウンターの数値の値によって示されます。</span><span class="sxs-lookup"><span data-stu-id="cc6b8-909">It is a flag indicating whether the system is throttling message publishing (affecting XLANG message processing and inbound transports).The throttling condition is indicated by the numeric value of the counter.</span></span> <span data-ttu-id="cc6b8-910">それぞれの意味と値の一覧を次に示します。</span><span class="sxs-lookup"><span data-stu-id="cc6b8-910">Here is a list of the values and their respective meaning:</span></span>  

|||  
|-|-|  
|<span data-ttu-id="cc6b8-911">0</span><span class="sxs-lookup"><span data-stu-id="cc6b8-911">0</span></span>|<span data-ttu-id="cc6b8-912">制限なし。</span><span class="sxs-lookup"><span data-stu-id="cc6b8-912">Not throttling</span></span>|  
|<span data-ttu-id="cc6b8-913">2</span><span class="sxs-lookup"><span data-stu-id="cc6b8-913">2</span></span>|<span data-ttu-id="cc6b8-914">メッセージ公開レートが不安定なことに起因する制限。入力率が出力率を超えています。</span><span class="sxs-lookup"><span data-stu-id="cc6b8-914">Throttling due to imbalanced message publishing rate (input rate exceeds output rate)</span></span>|  
|<span data-ttu-id="cc6b8-915">4</span><span class="sxs-lookup"><span data-stu-id="cc6b8-915">4</span></span>|<span data-ttu-id="cc6b8-916">プロセス メモリ不足に起因する制限。</span><span class="sxs-lookup"><span data-stu-id="cc6b8-916">Throttling due to process memory pressure</span></span>|  
|<span data-ttu-id="cc6b8-917">5</span><span class="sxs-lookup"><span data-stu-id="cc6b8-917">5</span></span>|<span data-ttu-id="cc6b8-918">システム メモリ不足に起因する制限。</span><span class="sxs-lookup"><span data-stu-id="cc6b8-918">Throttling due to system memory pressure</span></span>|  
|<span data-ttu-id="cc6b8-919">6</span><span class="sxs-lookup"><span data-stu-id="cc6b8-919">6</span></span>|<span data-ttu-id="cc6b8-920">データベース サイズの増加に起因する制限。</span><span class="sxs-lookup"><span data-stu-id="cc6b8-920">Throttling due to database growth</span></span>|  
|<span data-ttu-id="cc6b8-921">8</span><span class="sxs-lookup"><span data-stu-id="cc6b8-921">8</span></span>|<span data-ttu-id="cc6b8-922">セッション カウントが大きいこと起因する制限。</span><span class="sxs-lookup"><span data-stu-id="cc6b8-922">Throttling due to high session count</span></span>|  
|<span data-ttu-id="cc6b8-923">9</span><span class="sxs-lookup"><span data-stu-id="cc6b8-923">9</span></span>|<span data-ttu-id="cc6b8-924">スレッド カウントが大きいことに起因する制限。</span><span class="sxs-lookup"><span data-stu-id="cc6b8-924">Throttling due to high thread count</span></span>|  
|<span data-ttu-id="cc6b8-925">11</span><span class="sxs-lookup"><span data-stu-id="cc6b8-925">11</span></span>|<span data-ttu-id="cc6b8-926">公開におけるユーザー オーバーライドに起因する制限</span><span class="sxs-lookup"><span data-stu-id="cc6b8-926">Throttling due to user override on publishing</span></span>|  

 <span data-ttu-id="cc6b8-927">この分析は、これらの各値をチェックし、それぞれの特定の警告があります。</span><span class="sxs-lookup"><span data-stu-id="cc6b8-927">This analysis checks for each of these values and has a specific alert for each of them.</span></span>  

### <a name="references"></a><span data-ttu-id="cc6b8-928">References</span><span class="sxs-lookup"><span data-stu-id="cc6b8-928">References</span></span>  

-   <span data-ttu-id="cc6b8-929">ホスト制限パフォーマンス カウンターに [http://go.microsoft.com/fwlink/?LinkID=155285](http://go.microsoft.com/fwlink/?LinkID=155285)</span><span class="sxs-lookup"><span data-stu-id="cc6b8-929">Host Throttling Performance Counters at [http://go.microsoft.com/fwlink/?LinkID=155285](http://go.microsoft.com/fwlink/?LinkID=155285)</span></span>  

-   <span data-ttu-id="cc6b8-930">BizTalk Server がホストに制限を実装する方法 [http://go.microsoft.com/fwlink/?LinkID=155286](http://go.microsoft.com/fwlink/?LinkID=155286)</span><span class="sxs-lookup"><span data-stu-id="cc6b8-930">How BizTalk Server Implements Host Throttling at [http://go.microsoft.com/fwlink/?LinkID=155286](http://go.microsoft.com/fwlink/?LinkID=155286)</span></span>  

## <a name="biztalk-orchestrations-resident-in-memory"></a><span data-ttu-id="cc6b8-931">メモリ内の BizTalk オーケストレーションの常駐</span><span class="sxs-lookup"><span data-stu-id="cc6b8-931">BizTalk Orchestrations Resident in Memory</span></span>  
 <span data-ttu-id="cc6b8-932">ホスト インスタンスによって現在ホストされているオーケストレーション インスタンスの数。</span><span class="sxs-lookup"><span data-stu-id="cc6b8-932">Number of orchestration instances currently hosted by the host instance.</span></span> <span data-ttu-id="cc6b8-933">スパイクまたはバースト オーケストレーション メモリに常駐しているが通常として見なされます、中に上昇傾向は、"の積み上がり"メモリ内のオーケストレーションである可能性があります。</span><span class="sxs-lookup"><span data-stu-id="cc6b8-933">While spikes or bursts of orchestrations resident in memory may be considered normal, an increasing trend could indicate a “pile up” of orchestrations in memory.</span></span> <span data-ttu-id="cc6b8-934">時間の経過と共に上昇傾向は、BizTalk がメッセージ/オーケストレーション インスタンスを退避することができない場合に発生します。</span><span class="sxs-lookup"><span data-stu-id="cc6b8-934">An increasing trend over time may occur when BizTalk is unable to dehydrate messages/orchestration instances.</span></span> <span data-ttu-id="cc6b8-935">このカウンターを関連付ける"xlang/s Orchestrations(?) しようとしてください。疑問符 (?) が同じ"\Dehydratable オーケストレーションとして、このカウンター インスタンスをカウンターします。</span><span class="sxs-lookup"><span data-stu-id="cc6b8-935">Try to correlate this counter with “XLANG/s Orchestrations(?)\Dehydratable orchestrations” where the question mark (?) is the same counter instance as this counter.</span></span>  

 <span data-ttu-id="cc6b8-936">多数のオーケストレーションでは、メモリ内に常駐し、オーケストレーションの数が少ないが、待避可能なかどうかは、オーケストレーションが高いをメモリ内でアイドル状態があり、メモリ リークの条件が発生する可能性がある場合。</span><span class="sxs-lookup"><span data-stu-id="cc6b8-936">If a high number of orchestrations are resident in memory and if a low number of orchestrations are dehydratable, then your orchestrations are likely idle in memory and may cause a memory leak condition.</span></span> <span data-ttu-id="cc6b8-937">存在する場合は、「\XLANG/s オーケストレーション (\*) \Idle オーケストレーション」との相関関係でこの分析を使用します。</span><span class="sxs-lookup"><span data-stu-id="cc6b8-937">Use this analysis in correlation with “\XLANG/s Orchestrations(\*)\Idle orchestrations” if present.</span></span> <span data-ttu-id="cc6b8-938">BizTalk のアイドル状態のオーケストレーションで上昇傾向は、オーケストレーション インスタンスを退避することができないのため、メモリ リークのより優れたインジケーターです。</span><span class="sxs-lookup"><span data-stu-id="cc6b8-938">An increasing trend in BizTalk Idle Orchestrations is a better indicator of memory leaks due to the inability to dehydrate orchestration instances.</span></span>  

 <span data-ttu-id="cc6b8-939">この分析は、メモリと 50% を超えるメモリに常駐しているオーケストレーションが退避可能なないかどうかに常駐しているオーケストレーションで上昇傾向を確認します。</span><span class="sxs-lookup"><span data-stu-id="cc6b8-939">This analysis checks for an increasing trend in orchestrations resident in memory and if more than 50% of the orchestrations resident in memory are not dehydratable.</span></span>  

### <a name="references"></a><span data-ttu-id="cc6b8-940">References</span><span class="sxs-lookup"><span data-stu-id="cc6b8-940">References</span></span>  

-   <span data-ttu-id="cc6b8-941">オーケストレーション エンジンのパフォーマンス カウンター</span><span class="sxs-lookup"><span data-stu-id="cc6b8-941">Orchestration Engine Performance Counters</span></span>  
    [http://go.microsoft.com/fwlink/?LinkID=155290](http://go.microsoft.com/fwlink/?LinkID=155290)  

-   <span data-ttu-id="cc6b8-942">オーケストレーションの退避と復元</span><span class="sxs-lookup"><span data-stu-id="cc6b8-942">Orchestration Dehydration and Rehydration</span></span>  
    [http://go.microsoft.com/fwlink/?LinkID=155284](http://go.microsoft.com/fwlink/?LinkID=155284)  

## <a name="biztalk-private-bytes-analysis"></a><span data-ttu-id="cc6b8-943">BizTalk のプライベート バイトの分析</span><span class="sxs-lookup"><span data-stu-id="cc6b8-943">BizTalk Private Bytes Analysis</span></span>  
 <span data-ttu-id="cc6b8-944">これは、"バイトを \Private \Process (\*)"パフォーマンス カウンターに相当し、ホスト インスタンスの割り当てられたプライベート メモリのメガバイト数です。</span><span class="sxs-lookup"><span data-stu-id="cc6b8-944">This is the megabytes of allocated private memory for the host instance and comparable to the “\Process(\*)\Private Bytes” performance counter.</span></span> <span data-ttu-id="cc6b8-945">Private Bytes は、プロセスによって割り当てられ、他のプロセスと共有できないメモリのバイト単位で、現在のサイズです。</span><span class="sxs-lookup"><span data-stu-id="cc6b8-945">Private Bytes is the current size, in bytes, of memory that a process has allocated that cannot be shared with other processes.</span></span> <span data-ttu-id="cc6b8-946">この分析は、システムのメモリのサイズを使用、任意のホスト インスタンスかどうかと、ホスト インスタンスがメモリの消費時間の経過と共に増加するかどうかを決定します。</span><span class="sxs-lookup"><span data-stu-id="cc6b8-946">This analysis determines whether any of the host instances are consuming a large size of the system's memory and whether the host instance is increasing in memory consumption over time.</span></span> <span data-ttu-id="cc6b8-947">メモリの大部分を消費してホスト インスタンスは、it システムにメモリを返す限り、問題ありません。</span><span class="sxs-lookup"><span data-stu-id="cc6b8-947">A host instance consuming large portions of memory is fine as long as the it returns the memory to the system.</span></span> <span data-ttu-id="cc6b8-948">グラフの傾向を高めるためになります。</span><span class="sxs-lookup"><span data-stu-id="cc6b8-948">Look for increasing trends in the chart.</span></span> <span data-ttu-id="cc6b8-949">長期間にわたって上昇傾向は、メモリ リークである可能性があります。</span><span class="sxs-lookup"><span data-stu-id="cc6b8-949">An increasing trend over a long period of time could indicate a memory leak.</span></span>  

 <span data-ttu-id="cc6b8-950">この分析は、10 MB に時間の上昇傾向を確認します。</span><span class="sxs-lookup"><span data-stu-id="cc6b8-950">This analysis checks for a 10 MB-per-hour increasing trend.</span></span> <span data-ttu-id="cc6b8-951">使用可能なメモリ分析ツールとメモリ リークの分析との相関関係では、この分析を使用します。</span><span class="sxs-lookup"><span data-stu-id="cc6b8-951">Use this analysis in correlation with the Available Memory analysis and the Memory Leak analysis.</span></span> <span data-ttu-id="cc6b8-952">また、動作を単に通常の起動がある場合に、メモリ リークとしてインスタンスが表示される最初にホストを新しく開始されることに留意してください。</span><span class="sxs-lookup"><span data-stu-id="cc6b8-952">Also, keep in mind that newly started host instances will initially appear as a memory leak when it is simply normal start up behavior.</span></span> <span data-ttu-id="cc6b8-953">メモリ リークは、メモリと時間の長い期間にわたってメモリを解放していないを使用するプロセスが継続する場合です。</span><span class="sxs-lookup"><span data-stu-id="cc6b8-953">A memory leak is when a process continues to consume memory and not releasing memory over a long period of time.</span></span> <span data-ttu-id="cc6b8-954">メモリ リーク状態思われる場合は、以下の参照「メモリの増加に BizTalk メッセージング」記事を参照します。</span><span class="sxs-lookup"><span data-stu-id="cc6b8-954">If you suspect a memory leak condition, then read the “Memory Growth in BizTalk Messaging” article referenced below.</span></span> <span data-ttu-id="cc6b8-955">それ以外の場合、インストールし、デバッグ診断ツールを使用します。</span><span class="sxs-lookup"><span data-stu-id="cc6b8-955">Otherwise, install and use the Debug Diag tool.</span></span> <span data-ttu-id="cc6b8-956">デバッグ診断ツールの詳細については、「参照」セクションを参照してください。</span><span class="sxs-lookup"><span data-stu-id="cc6b8-956">For more information on the Debug Diag Tool, see the references section.</span></span>  

### <a name="references"></a><span data-ttu-id="cc6b8-957">References</span><span class="sxs-lookup"><span data-stu-id="cc6b8-957">References</span></span>  

-   <span data-ttu-id="cc6b8-958">デバッグ診断ツール v1.1</span><span class="sxs-lookup"><span data-stu-id="cc6b8-958">Debug Diagnostic Tool v1.1</span></span>  
    [http://go.microsoft.com/fwlink/?linkid=106784](http://go.microsoft.com/fwlink/?linkid=106784)  

-   <span data-ttu-id="cc6b8-959">BizTalk メッセージのメモリの増加</span><span class="sxs-lookup"><span data-stu-id="cc6b8-959">Memory Growth in BizTalk Messaging</span></span>  
    [http://go.microsoft.com/fwlink/?linkid=108788](http://go.microsoft.com/fwlink/?linkid=108788)  

## <a name="biztalk-virtual-bytes-analysis"></a><span data-ttu-id="cc6b8-960">BizTalk Virtual Bytes の分析</span><span class="sxs-lookup"><span data-stu-id="cc6b8-960">BizTalk Virtual Bytes Analysis</span></span>  
 <span data-ttu-id="cc6b8-961">これは、ホスト インスタンスの仮想メモリの予約済みのメガバイト数です。</span><span class="sxs-lookup"><span data-stu-id="cc6b8-961">This is the megabytes reserved for virtual memory for the host instance.</span></span> <span data-ttu-id="cc6b8-962">この分析は、大量のシステムのメモリを消費、任意のホスト インスタンスかどうかと、ホスト インスタンスがメモリの消費時間の経過と共に増加するかどうかを決定します。</span><span class="sxs-lookup"><span data-stu-id="cc6b8-962">This analysis determines whether any of the host instances are consuming a large amount of the system's memory and whether the host instance is increasing in memory consumption over time.</span></span> <span data-ttu-id="cc6b8-963">メモリの大部分を消費してホスト インスタンスは、システムにメモリを返す、限り問題ありません。</span><span class="sxs-lookup"><span data-stu-id="cc6b8-963">A host instance consuming large portions of memory is fine as long as it returns the memory to the system.</span></span> <span data-ttu-id="cc6b8-964">グラフの傾向を高めるためになります。</span><span class="sxs-lookup"><span data-stu-id="cc6b8-964">Look for increasing trends in the chart.</span></span> <span data-ttu-id="cc6b8-965">長期間にわたって上昇傾向は、メモリ リークである可能性があります。</span><span class="sxs-lookup"><span data-stu-id="cc6b8-965">An increasing trend over a long period of time could indicate a memory leak.</span></span>  

 <span data-ttu-id="cc6b8-966">この分析は、仮想バイト単位の時間あたりの MB 数が 10 の上昇傾向を確認します。</span><span class="sxs-lookup"><span data-stu-id="cc6b8-966">This analysis checks for a 10 MB-per-hour increasing trend in virtual bytes.</span></span> <span data-ttu-id="cc6b8-967">使用可能なメモリ分析ツールとメモリ リークの分析との相関関係では、この分析を使用します。</span><span class="sxs-lookup"><span data-stu-id="cc6b8-967">Use this analysis in correlation with the Available Memory analysis and the Memory Leak analysis.</span></span> <span data-ttu-id="cc6b8-968">また、動作を単に通常の起動がある場合に、メモリ リークとしてインスタンスが表示される最初にホストを新しく開始されることに留意してください。</span><span class="sxs-lookup"><span data-stu-id="cc6b8-968">Also, keep in mind that newly started host instances will initially appear as a memory leak when it is simply normal start up behavior.</span></span> <span data-ttu-id="cc6b8-969">メモリ リークは、メモリと時間の長い期間にわたってメモリを解放していないを使用するプロセスが継続する場合です。</span><span class="sxs-lookup"><span data-stu-id="cc6b8-969">A memory leak is when a process continues to consume memory and not releasing memory over a long period of time.</span></span> <span data-ttu-id="cc6b8-970">メモリ リーク状態思われる場合は、以下の記事「メモリの増加で BizTalk メッセージ」を読み取る。</span><span class="sxs-lookup"><span data-stu-id="cc6b8-970">If you suspect a memory leak condition, then read the “Memory Growth in BizTalk Messaging” article below.</span></span> <span data-ttu-id="cc6b8-971">それ以外の場合、インストールし、デバッグ診断ツールを使用します。</span><span class="sxs-lookup"><span data-stu-id="cc6b8-971">Otherwise, install and use the Debug Diag tool.</span></span> <span data-ttu-id="cc6b8-972">デバッグ診断ツールの詳細については、「参照」セクションを参照してください。</span><span class="sxs-lookup"><span data-stu-id="cc6b8-972">For more information on the Debug Diag Tool, see the references section.</span></span>  

### <a name="references"></a><span data-ttu-id="cc6b8-973">References</span><span class="sxs-lookup"><span data-stu-id="cc6b8-973">References</span></span>  

-   <span data-ttu-id="cc6b8-974">デバッグ診断ツール v1.1</span><span class="sxs-lookup"><span data-stu-id="cc6b8-974">Debug Diagnostic Tool v1.1</span></span>  
    [http://go.microsoft.com/fwlink/?linkid=106784](http://go.microsoft.com/fwlink/?linkid=106784)  

-   <span data-ttu-id="cc6b8-975">BizTalk メッセージのメモリの増加</span><span class="sxs-lookup"><span data-stu-id="cc6b8-975">Memory Growth in BizTalk Messaging</span></span>  
    [http://go.microsoft.com/fwlink/?linkid=108788](http://go.microsoft.com/fwlink/?linkid=108788)  

## <a name="biztalk-message-agent-database-session-throttling-analysis"></a><span data-ttu-id="cc6b8-976">BizTalk メッセージ エージェント データベース セッションの分析を調整</span><span class="sxs-lookup"><span data-stu-id="cc6b8-976">BizTalk Message Agent Database Session Throttling Analysis</span></span>  
 <span data-ttu-id="cc6b8-977">これは、そのそれぞれ BizTalk の帯域幅の調整と比較して、メッセージ ボックスに、開いているデータベース接続の数です。</span><span class="sxs-lookup"><span data-stu-id="cc6b8-977">This is the number of open database connections to the MessageBox compared to its respective BizTalk throttling setting.</span></span> <span data-ttu-id="cc6b8-978">「データベースの CPU ごとの接続」は、許可の制限が適用されます (CPU) ごとの同時実行データベース セッションの最大数です。</span><span class="sxs-lookup"><span data-stu-id="cc6b8-978">“Database connection per CPU” is the maximum number of concurrent database sessions (per CPU) allowed before throttling begins.</span></span> <span data-ttu-id="cc6b8-979">ホストごとの一般的なセッション プールのアイドル状態のデータベース セッションは、この数に含まれません。また、この確認処理は、ホスト インスタンスによって実際に使用されるセッションの数に厳密に基づいて実行されます。</span><span class="sxs-lookup"><span data-stu-id="cc6b8-979">The idle database sessions in the common per-host session pool do not add to this count, and this check is made strictly on the number of sessions actually being used by the host instance.</span></span> <span data-ttu-id="cc6b8-980">このオプションは、既定で無効です。通常、BizTalk Server システムでデータベース サーバーがボトルネックになる場合のみ、この設定を有効にする必要があります。</span><span class="sxs-lookup"><span data-stu-id="cc6b8-980">This option is disabled by default; typically this setting should only be enabled if the database server is a bottleneck in the BizTalk Server system.</span></span> <span data-ttu-id="cc6b8-981">[BizTalk:Message Agent] パフォーマンス オブジェクト カテゴリのデータベース セッションのパフォーマンス カウンターを使用して、アクティブなデータベース接続の数を監視できます。</span><span class="sxs-lookup"><span data-stu-id="cc6b8-981">You can monitor the number of active database connections by using the database session performance counter under the BizTalk:Message Agent performance object category.</span></span> <span data-ttu-id="cc6b8-982">このパラメーターは、送信メッセージの制限だけに影響します。</span><span class="sxs-lookup"><span data-stu-id="cc6b8-982">This parameter only affects outbound message throttling.</span></span> <span data-ttu-id="cc6b8-983">データベース セッションの数に基づいた制限を無効にするには、値 0 を入力してください。</span><span class="sxs-lookup"><span data-stu-id="cc6b8-983">Enter a value of 0 to disable throttling that is based on the number of database sessions.</span></span> <span data-ttu-id="cc6b8-984">既定値は 0 です。</span><span class="sxs-lookup"><span data-stu-id="cc6b8-984">The default value is 0.</span></span>  

 <span data-ttu-id="cc6b8-985">MaxWorkerThreads のレジストリ キーは、BizTalk に利用可能なスレッドの数に影響し、BizTalk のスレッドのほとんどがデータベース接続でビジー状態の場合に役立つ場合があります。</span><span class="sxs-lookup"><span data-stu-id="cc6b8-985">The MaxWorkerThreads registry key has influence on the number threads available to BizTalk and may help in the case where most of BizTalk’s threads are busy with database connections.</span></span> <span data-ttu-id="cc6b8-986">この分析は、メッセージ ボックスに、開いているデータベース接続の数が、データベース セッションの制限の設定は、制限の条件が可能性を示す、80% を超えるかどうかを確認します。</span><span class="sxs-lookup"><span data-stu-id="cc6b8-986">This analysis checks whether the number of open database connections to the MessageBox are greater than 80 percent of the Database Session Throttling setting, indicating a throttling condition is likely.</span></span>  

### <a name="references"></a><span data-ttu-id="cc6b8-987">References</span><span class="sxs-lookup"><span data-stu-id="cc6b8-987">References</span></span>  

-   <span data-ttu-id="cc6b8-988">ホスト制限パフォーマンス カウンターに [http://go.microsoft.com/fwlink/?LinkID=155285](http://go.microsoft.com/fwlink/?LinkID=155285)</span><span class="sxs-lookup"><span data-stu-id="cc6b8-988">Host Throttling Performance Counters at [http://go.microsoft.com/fwlink/?LinkID=155285](http://go.microsoft.com/fwlink/?LinkID=155285)</span></span>  

-   <span data-ttu-id="cc6b8-989">アダプターのパフォーマンスに影響する構成パラメーター [http://go.microsoft.com/fwlink/?LinkID=154200](http://go.microsoft.com/fwlink/?LinkID=154200)</span><span class="sxs-lookup"><span data-stu-id="cc6b8-989">Configuration Parameters that Affect Adapter Performance at [http://go.microsoft.com/fwlink/?LinkID=154200](http://go.microsoft.com/fwlink/?LinkID=154200)</span></span>  

-   <span data-ttu-id="cc6b8-990">スレッド、DB セッション、および調整に [http://go.microsoft.com/fwlink/?linkid=106793](http://go.microsoft.com/fwlink/?linkid=106793)</span><span class="sxs-lookup"><span data-stu-id="cc6b8-990">Threads, DB sessions, and throttling at [http://go.microsoft.com/fwlink/?linkid=106793](http://go.microsoft.com/fwlink/?linkid=106793)</span></span>  

## <a name="biztalk-message-agent-database-session-throttling-threshold-analysis"></a><span data-ttu-id="cc6b8-991">BizTalk メッセージ エージェントのデータベース セッション スロットルのしきい値の分析</span><span class="sxs-lookup"><span data-stu-id="cc6b8-991">BizTalk Message Agent Database Session Throttling Threshold Analysis</span></span>  
 <span data-ttu-id="cc6b8-992">これは、メッセージ ボックスに、開いているデータベース接続の数に対する現在のしきい値です。</span><span class="sxs-lookup"><span data-stu-id="cc6b8-992">This is the current threshold for the number of open database connections to the MessageBox.</span></span> <span data-ttu-id="cc6b8-993">「データベースの CPU ごとの接続」は、許可の制限が適用されます (CPU) ごとの同時実行データベース セッションの最大数です。</span><span class="sxs-lookup"><span data-stu-id="cc6b8-993">“Database connection per CPU” is the maximum number of concurrent database sessions (per CPU) allowed before throttling begins.</span></span> <span data-ttu-id="cc6b8-994">ホストごとの一般的なセッション プールのアイドル状態のデータベース セッションは、この数に含まれません。また、この確認処理は、ホスト インスタンスによって実際に使用されるセッションの数に厳密に基づいて実行されます。</span><span class="sxs-lookup"><span data-stu-id="cc6b8-994">The idle database sessions in the common per-host session pool do not add to this count, and this check is made strictly on the number of sessions actually being used by the host instance.</span></span> <span data-ttu-id="cc6b8-995">このオプションは、既定で無効です。通常、BizTalk Server システムでデータベース サーバーがボトルネックになる場合のみ、この設定を有効にする必要があります。</span><span class="sxs-lookup"><span data-stu-id="cc6b8-995">This option is disabled by default; typically this setting should only be enabled if the database server is a bottleneck in the BizTalk Server system.</span></span> <span data-ttu-id="cc6b8-996">[BizTalk:Message Agent] パフォーマンス オブジェクト カテゴリのデータベース セッションのパフォーマンス カウンターを使用して、アクティブなデータベース接続の数を監視できます。</span><span class="sxs-lookup"><span data-stu-id="cc6b8-996">You can monitor the number of active database connections by using the database session performance counter under the BizTalk:Message Agent performance object category.</span></span> <span data-ttu-id="cc6b8-997">このパラメーターは、送信メッセージの制限だけに影響します。</span><span class="sxs-lookup"><span data-stu-id="cc6b8-997">This parameter only affects outbound message throttling.</span></span> <span data-ttu-id="cc6b8-998">データベース セッションの数に基づいた制限を無効にするには、値 0 を入力してください。</span><span class="sxs-lookup"><span data-stu-id="cc6b8-998">Enter a value of 0 to disable throttling that is based on the number of database sessions.</span></span> <span data-ttu-id="cc6b8-999">既定値は 0 です。</span><span class="sxs-lookup"><span data-stu-id="cc6b8-999">The default value is 0.</span></span>  

 <span data-ttu-id="cc6b8-1000">MaxWorkerThreads のレジストリ キーは、BizTalk に利用可能なスレッドの数に影響し、BizTalk のスレッドのほとんどがデータベース接続でビジー状態の場合に役立つ場合があります。</span><span class="sxs-lookup"><span data-stu-id="cc6b8-1000">The MaxWorkerThreads registry key has influence on the number threads available to BizTalk and may help in the case where most of BizTalk’s threads are busy with database connections.</span></span> <span data-ttu-id="cc6b8-1001">この分析は、既定の設定から変更されているかどうかを確認するには、この値を確認します。</span><span class="sxs-lookup"><span data-stu-id="cc6b8-1001">This analysis checks this value to see whether it has been modified from its default setting.</span></span> <span data-ttu-id="cc6b8-1002">既定では、この設定は、0 で、データベース セッションでのスロットルが無効になっていることを意味です。</span><span class="sxs-lookup"><span data-stu-id="cc6b8-1002">By default, this setting is 0, which means throttling on database sessions is disabled.</span></span>  

### <a name="references"></a><span data-ttu-id="cc6b8-1003">References</span><span class="sxs-lookup"><span data-stu-id="cc6b8-1003">References</span></span>  

-   <span data-ttu-id="cc6b8-1004">ホスト制限パフォーマンス カウンターに [http://go.microsoft.com/fwlink/?LinkID=155285](http://go.microsoft.com/fwlink/?LinkID=155285)</span><span class="sxs-lookup"><span data-stu-id="cc6b8-1004">Host Throttling Performance Counters at [http://go.microsoft.com/fwlink/?LinkID=155285](http://go.microsoft.com/fwlink/?LinkID=155285)</span></span>  

-   <span data-ttu-id="cc6b8-1005">アダプターのパフォーマンスに影響する構成パラメーター [http://go.microsoft.com/fwlink/?LinkID=154200](http://go.microsoft.com/fwlink/?LinkID=154200)</span><span class="sxs-lookup"><span data-stu-id="cc6b8-1005">Configuration Parameters that Affect Adapter Performance at [http://go.microsoft.com/fwlink/?LinkID=154200](http://go.microsoft.com/fwlink/?LinkID=154200)</span></span>  

-   <span data-ttu-id="cc6b8-1006">スレッド、DB セッション、および調整に [http://go.microsoft.com/fwlink/?linkid=106793](http://go.microsoft.com/fwlink/?linkid=106793)</span><span class="sxs-lookup"><span data-stu-id="cc6b8-1006">Threads, DB sessions, and throttling at [http://go.microsoft.com/fwlink/?linkid=106793](http://go.microsoft.com/fwlink/?linkid=106793)</span></span>  

## <a name="biztalk-message-agent-in-process-message-count-throttling-analysis"></a><span data-ttu-id="cc6b8-1007">BizTalk メッセージ エージェントのインプロセス メッセージ数は分析を調整</span><span class="sxs-lookup"><span data-stu-id="cc6b8-1007">BizTalk Message Agent In-process Message Count Throttling Analysis</span></span>  
 <span data-ttu-id="cc6b8-1008">これは、サービス クラスが処理されている同時実行のメッセージの数です。</span><span class="sxs-lookup"><span data-stu-id="cc6b8-1008">This is the number of concurrent messages that the service class is processing.</span></span> <span data-ttu-id="cc6b8-1009">ホスト制限の設定で、「プロセスでは、CPU ごとのメッセージ」の設定は、処理されていない、エンド ポイント マネージャー (EPM) または XLANG に配信されたメッセージの最大数です。</span><span class="sxs-lookup"><span data-stu-id="cc6b8-1009">The “In-process messages per CPU” setting in the Host Throttling Settings is the maximum number of messages delivered to the End Point Manager (EPM) or XLANG that have not been processed.</span></span> <span data-ttu-id="cc6b8-1010">これは、データベースから取得されますが、インメモリ キューに配信を待機しているメッセージには含まれません。</span><span class="sxs-lookup"><span data-stu-id="cc6b8-1010">This does not include the messages retrieved from the database but still waiting for delivery in the in-memory queue.</span></span> <span data-ttu-id="cc6b8-1011">[BizTalk:Message Agent] パフォーマンス オブジェクト カテゴリ インプロセス メッセージ数のパフォーマンス カウンターを使用して、インプロセス メッセージの数を監視できます。</span><span class="sxs-lookup"><span data-stu-id="cc6b8-1011">You can monitor the number of in-process messages by using the In-process message count performance counter under the BizTalk:Message Agent performance object category.</span></span> <span data-ttu-id="cc6b8-1012">制限の条件を確認する制限メカニズムは、このパラメーターの値を参考にします。</span><span class="sxs-lookup"><span data-stu-id="cc6b8-1012">This parameter provides a hint to the throttling mechanism for consideration of throttling conditions.</span></span> <span data-ttu-id="cc6b8-1013">実際のしきい値は、自律的に調整されます。</span><span class="sxs-lookup"><span data-stu-id="cc6b8-1013">The actual threshold is subject to self-tuning.</span></span> <span data-ttu-id="cc6b8-1014">インプロセス メッセージ数のパフォーマンス カウンターを監視することによって、実際のしきい値を確認できます。</span><span class="sxs-lookup"><span data-stu-id="cc6b8-1014">You can verify the actual threshold by monitoring the In-process message count performance counter.</span></span>  

 <span data-ttu-id="cc6b8-1015">サイズの大きいメッセージ シナリオ (場所、メッセージの平均サイズが大きい、またはメッセージの処理が大量のメッセージを必要があります)、このパラメーターは、小さい値に設定することができます。</span><span class="sxs-lookup"><span data-stu-id="cc6b8-1015">For large message scenarios (where either the average message size is high, or the processing of messages may require a large amount of messages), this parameter can be set to a smaller value.</span></span> <span data-ttu-id="cc6b8-1016">メモリ ベースの制限が発生した頻度が高すぎる場合、およびメモリのしきい値を大幅に低い値に自動調整を取得する場合は、サイズの大きいメッセージ シナリオが示されます。</span><span class="sxs-lookup"><span data-stu-id="cc6b8-1016">A large message scenario is indicated if memory-based throttling occurs too often and if the memory threshold gets auto-adjusted to a substantially low value.</span></span> <span data-ttu-id="cc6b8-1017">このような結果は、過度のメモリ消費を避けるため、送信トランスポートで同時に処理するメッセージを少なくする必要があることを示しています。</span><span class="sxs-lookup"><span data-stu-id="cc6b8-1017">Such behavior would indicate that the outbound transport should process fewer messages concurrently to avoid excessive memory usage.</span></span> <span data-ttu-id="cc6b8-1018">また、一度にいくつかのメッセージを処理すると効率性が向上するアダプター (同時接続を制限しているサーバーに送信する場合など) を使用しているシナリオでは、このパラメーターは、既定値よりも小さい値に設定できることがあります。</span><span class="sxs-lookup"><span data-stu-id="cc6b8-1018">Also, for scenarios where the adapter is more efficient when processing a few messages at a time (for example, when sending to a server that limits concurrent connections), this parameter may be tuned to a lower value than the default.</span></span> <span data-ttu-id="cc6b8-1019">この分析は、制限の条件を示しますが可能性と同じ名前でのスロットル設定の 80% 以上であるかどうかを判断する、高のインプロセス メッセージ数カウンタをチェックします。</span><span class="sxs-lookup"><span data-stu-id="cc6b8-1019">This analysis checks the High In-Process Message Count counter to determine whether it is greater than 80 percent of its throttling setting under the same name, which indicates a throttling condition is likely.</span></span>  

### <a name="references"></a><span data-ttu-id="cc6b8-1020">References</span><span class="sxs-lookup"><span data-stu-id="cc6b8-1020">References</span></span>  

-   <span data-ttu-id="cc6b8-1021">ホスト制限パフォーマンス カウンターに [http://go.microsoft.com/fwlink/?LinkID=155285](http://go.microsoft.com/fwlink/?LinkID=155285)</span><span class="sxs-lookup"><span data-stu-id="cc6b8-1021">Host Throttling Performance Counters at [http://go.microsoft.com/fwlink/?LinkID=155285](http://go.microsoft.com/fwlink/?LinkID=155285)</span></span>  

-   <span data-ttu-id="cc6b8-1022">既定のホスト制限の設定を変更する方法 [http://go.microsoft.com/fwlink/?LinkID=155296](http://go.microsoft.com/fwlink/?LinkID=155296)</span><span class="sxs-lookup"><span data-stu-id="cc6b8-1022">How to Modify the Default Host Throttling Settings at [http://go.microsoft.com/fwlink/?LinkID=155296](http://go.microsoft.com/fwlink/?LinkID=155296)</span></span>  

## <a name="biztalkmessage-agent-in-process-message-count-throttling-threshold-analysis"></a><span data-ttu-id="cc6b8-1023">BizTalk:Message エージェント インプロセス メッセージ数のスロットルのしきい値の分析</span><span class="sxs-lookup"><span data-stu-id="cc6b8-1023">BizTalk:Message Agent In-process Message Count Throttling Threshold Analysis</span></span>  
 <span data-ttu-id="cc6b8-1024">これは、サービス クラスが処理されている同時実行のメッセージの数に対する現在のしきい値です。</span><span class="sxs-lookup"><span data-stu-id="cc6b8-1024">This is the current threshold for the number of concurrent messages that the service class is processing.</span></span> <span data-ttu-id="cc6b8-1025">ホスト制限の設定で、「プロセスでは、CPU ごとのメッセージ」の設定は、処理されていない、エンド ポイント マネージャー (EPM) または XLANG に配信されたメッセージの最大数です。</span><span class="sxs-lookup"><span data-stu-id="cc6b8-1025">The “In-process messages per CPU” setting in the Host Throttling Settings is the maximum number of messages delivered to the End Point Manager (EPM) or XLANG that have not been processed.</span></span> <span data-ttu-id="cc6b8-1026">これは、データベースから取得されますが、インメモリ キューに配信を待機しているメッセージには含まれません。</span><span class="sxs-lookup"><span data-stu-id="cc6b8-1026">This does not include the messages retrieved from the database but still waiting for delivery in the in-memory queue.</span></span> <span data-ttu-id="cc6b8-1027">[BizTalk:Message Agent] パフォーマンス オブジェクト カテゴリ インプロセス メッセージ数のパフォーマンス カウンターを使用して、インプロセス メッセージの数を監視できます。</span><span class="sxs-lookup"><span data-stu-id="cc6b8-1027">You can monitor the number of in-process messages by using the In-process message count performance counter under the BizTalk:Message Agent performance object category.</span></span> <span data-ttu-id="cc6b8-1028">制限の条件を確認する制限メカニズムは、このパラメーターの値を参考にします。</span><span class="sxs-lookup"><span data-stu-id="cc6b8-1028">This parameter provides a hint to the throttling mechanism for consideration of throttling conditions.</span></span> <span data-ttu-id="cc6b8-1029">実際のしきい値は、自律的に調整されます。</span><span class="sxs-lookup"><span data-stu-id="cc6b8-1029">The actual threshold is subject to self-tuning.</span></span> <span data-ttu-id="cc6b8-1030">インプロセス メッセージ数のパフォーマンス カウンターを監視することによって、実際のしきい値を確認できます。</span><span class="sxs-lookup"><span data-stu-id="cc6b8-1030">You can verify the actual threshold by monitoring the In-process message count performance counter.</span></span>  

 <span data-ttu-id="cc6b8-1031">サイズの大きいメッセージ シナリオ (場所、メッセージの平均サイズが大きい、またはメッセージの処理が大量のメッセージを必要があります)、このパラメーターは、小さい値に設定することができます。</span><span class="sxs-lookup"><span data-stu-id="cc6b8-1031">For large message scenarios (where either the average message size is high, or the processing of messages may require a large amount of messages), this parameter can be set to a smaller value.</span></span> <span data-ttu-id="cc6b8-1032">メモリ ベースの制限が発生した頻度が高すぎる場合、およびメモリのしきい値を大幅に低い値に自動調整を取得する場合は、サイズの大きいメッセージ シナリオが示されます。</span><span class="sxs-lookup"><span data-stu-id="cc6b8-1032">A large message scenario is indicated if memory-based throttling occurs too often and if the memory threshold gets auto-adjusted to a substantially low value.</span></span> <span data-ttu-id="cc6b8-1033">このような結果は、過度のメモリ消費を避けるため、送信トランスポートで同時に処理するメッセージを少なくする必要があることを示しています。</span><span class="sxs-lookup"><span data-stu-id="cc6b8-1033">Such behavior would indicate that the outbound transport should process fewer messages concurrently to avoid excessive memory usage.</span></span> <span data-ttu-id="cc6b8-1034">また、一度にいくつかのメッセージを処理すると効率性が向上するアダプター (同時接続を制限しているサーバーに送信する場合など) を使用しているシナリオでは、このパラメーターは、既定値よりも小さい値に設定できることがあります。</span><span class="sxs-lookup"><span data-stu-id="cc6b8-1034">Also, for scenarios where the adapter is more efficient when processing a few messages at a time (for example, when sending to a server that limits concurrent connections), this parameter may be tuned to a lower value than the default.</span></span> <span data-ttu-id="cc6b8-1035">この分析は、既定以外の値のしきい値を調整する高のインプロセス メッセージ数を確認します。</span><span class="sxs-lookup"><span data-stu-id="cc6b8-1035">This analysis checks the High In-Process Message Count throttling threshold for a non-default value.</span></span>  

### <a name="references"></a><span data-ttu-id="cc6b8-1036">References</span><span class="sxs-lookup"><span data-stu-id="cc6b8-1036">References</span></span>  

-   <span data-ttu-id="cc6b8-1037">ホスト制限パフォーマンス カウンターに [http://go.microsoft.com/fwlink/?LinkID=155285](http://go.microsoft.com/fwlink/?LinkID=155285)</span><span class="sxs-lookup"><span data-stu-id="cc6b8-1037">Host Throttling Performance Counters at [http://go.microsoft.com/fwlink/?LinkID=155285](http://go.microsoft.com/fwlink/?LinkID=155285)</span></span>  

-   <span data-ttu-id="cc6b8-1038">既定のホスト制限の設定を変更する方法 [http://go.microsoft.com/fwlink/?LinkID=155296](http://go.microsoft.com/fwlink/?LinkID=155296)</span><span class="sxs-lookup"><span data-stu-id="cc6b8-1038">How to Modify the Default Host Throttling Settings at [http://go.microsoft.com/fwlink/?LinkID=155296](http://go.microsoft.com/fwlink/?LinkID=155296)</span></span>  

## <a name="biztalk-message-agent-process-memory-usage-mb-throttling-analysis"></a><span data-ttu-id="cc6b8-1039">BizTalk メッセージ エージェント プロセス メモリ使用量 (MB) の分析の調整</span><span class="sxs-lookup"><span data-stu-id="cc6b8-1039">BizTalk Message Agent Process Memory Usage (MB) Throttling Analysis</span></span>  
 <span data-ttu-id="cc6b8-1040">これは、現在のプロセス (MB) のメモリ使用量です。</span><span class="sxs-lookup"><span data-stu-id="cc6b8-1040">This is the memory usage of current process (MB).</span></span> <span data-ttu-id="cc6b8-1041">BizTalk プロセス メモリの制限は公開するバッチに急なメモリの要件がある場合、またはメッセージを処理しているスレッドが多すぎる場合に発生します。</span><span class="sxs-lookup"><span data-stu-id="cc6b8-1041">BizTalk process memory throttling can occur if the batch to be published has steep memory requirements, or if too many threads are processing messages.</span></span>  <span data-ttu-id="cc6b8-1042">システムが過剰に制限する場合は、ホストのプロセス メモリ使用率のしきい値に関連付けられている値を増やすことを検討し、ホスト インスタンスに「メモリ不足」エラーが発生しないことを確認します。</span><span class="sxs-lookup"><span data-stu-id="cc6b8-1042">If the system appears to be over-throttling, consider increasing the value associated with the process memory usage threshold for the host and verify that the host instance does not generate an "out of memory" error.</span></span> <span data-ttu-id="cc6b8-1043">プロセス メモリ使用率のしきい値を増やすことで、「メモリ不足」エラーが発生する場合、内部メッセージ キューのサイズの値を減らすことを検討およびプロセス CPU しきい値あたりのメッセージ。</span><span class="sxs-lookup"><span data-stu-id="cc6b8-1043">If an "out of memory" error is raised by increasing the process memory usage threshold, then consider reducing the values for the internal message queue size and in-process messages per CPU thresholds.</span></span> <span data-ttu-id="cc6b8-1044">この方法は、サイズの大きいメッセージを処理するシナリオに特に関連します。</span><span class="sxs-lookup"><span data-stu-id="cc6b8-1044">This strategy is particularly relevant in large message processing scenarios.</span></span>  

 <span data-ttu-id="cc6b8-1045">BizTalk server は、仮想メモリが不足定期的に実行、する場合は、BizTalk Server の 64年ビットを検討します。</span><span class="sxs-lookup"><span data-stu-id="cc6b8-1045">If your BizTalk server regularly runs out of virtual memory, then consider BizTalk Server 64-bit.</span></span> <span data-ttu-id="cc6b8-1046">64 ビット サーバー上の各プロセスが最大 4 に対応できる TB の仮想メモリ 2 GB の 32 ビットと比較します。</span><span class="sxs-lookup"><span data-stu-id="cc6b8-1046">Each Process on 64-bit servers can address up to 4 TB’s of virtual memory versus the 2 GB’s in 32-bit.</span></span> <span data-ttu-id="cc6b8-1047">一般に、BizTalk を 64 ビットと 64 ビット SQL Server は強くお勧めします。</span><span class="sxs-lookup"><span data-stu-id="cc6b8-1047">In general, 64-bit BizTalk and 64-bit SQL Server is highly recommended.</span></span> <span data-ttu-id="cc6b8-1048">詳細については「BizTalk Server の 64 ビット サポート」リファレンスを参照してください。</span><span class="sxs-lookup"><span data-stu-id="cc6b8-1048">See the “BizTalk Server 64-bit Support” reference for more information.</span></span> <span data-ttu-id="cc6b8-1049">この分析は、プロセス メモリ使用量が同じ名前のそれぞれのスロットルのしきい値の 80% を超えるかどうかを確認します。</span><span class="sxs-lookup"><span data-stu-id="cc6b8-1049">This analysis checks whether the process memory usage is greater than 80 percent of its respective throttling threshold of the same name.</span></span> <span data-ttu-id="cc6b8-1050">既定では、帯域幅の調整、BizTalk プロセス メモリ使用量は、プロセスが利用できる仮想メモリの 25% は。</span><span class="sxs-lookup"><span data-stu-id="cc6b8-1050">By default, the BizTalk Process Memory Usage throttling setting is 25 percent of the virtual memory available to the process.</span></span> <span data-ttu-id="cc6b8-1051">/3 GB スイッチには、この設定に影響はありません。</span><span class="sxs-lookup"><span data-stu-id="cc6b8-1051">The /3GB switch has no effect on this setting.</span></span>  

### <a name="references"></a><span data-ttu-id="cc6b8-1052">References</span><span class="sxs-lookup"><span data-stu-id="cc6b8-1052">References</span></span>  

-   <span data-ttu-id="cc6b8-1053">BizTalk Server がホストに制限を実装する方法 [http://go.microsoft.com/fwlink/?LinkID=155286](http://go.microsoft.com/fwlink/?LinkID=155286)</span><span class="sxs-lookup"><span data-stu-id="cc6b8-1053">How BizTalk Server Implements Host Throttling at [http://go.microsoft.com/fwlink/?LinkID=155286](http://go.microsoft.com/fwlink/?LinkID=155286)</span></span>  

-   <span data-ttu-id="cc6b8-1054">既定のホスト制限の設定を変更する方法 [http://go.microsoft.com/fwlink/?LinkID=155296](http://go.microsoft.com/fwlink/?LinkID=155296)</span><span class="sxs-lookup"><span data-stu-id="cc6b8-1054">How to Modify the Default Host Throttling Settings at [http://go.microsoft.com/fwlink/?LinkID=155296](http://go.microsoft.com/fwlink/?LinkID=155296)</span></span>  

-   <span data-ttu-id="cc6b8-1055">時にメモリ リークが発生しているプロセスのメモリ ダンプをキャプチャする方法 [http://go.microsoft.com/fwlink/?LinkId=155305](http://go.microsoft.com/fwlink/?LinkId=155305)</span><span class="sxs-lookup"><span data-stu-id="cc6b8-1055">How to Capture a Memory Dump of a Process that is Leaking Memory at [http://go.microsoft.com/fwlink/?LinkId=155305](http://go.microsoft.com/fwlink/?LinkId=155305)</span></span>  

-   <span data-ttu-id="cc6b8-1056">BizTalk Server での 64 ビット サポート [http://go.microsoft.com/fwlink/?LinkId=155306](http://go.microsoft.com/fwlink/?LinkId=155306)</span><span class="sxs-lookup"><span data-stu-id="cc6b8-1056">BizTalk Server 64-bit Support at [http://go.microsoft.com/fwlink/?LinkId=155306](http://go.microsoft.com/fwlink/?LinkId=155306)</span></span>  

## <a name="biztalkmessage-agent-process-memory-usage-mb-throttling-threshold-analysis"></a><span data-ttu-id="cc6b8-1057">BizTalk:Message Agent プロセス メモリ使用量 (MB) しきい値分析の調整</span><span class="sxs-lookup"><span data-stu-id="cc6b8-1057">BizTalk:Message Agent Process Memory Usage (MB) Throttling Threshold Analysis</span></span>  
 <span data-ttu-id="cc6b8-1058">これは、現在のプロセス (MB) のメモリ使用量に対する現在のしきい値です。</span><span class="sxs-lookup"><span data-stu-id="cc6b8-1058">This is the current threshold for the memory usage of current process (MB).</span></span> <span data-ttu-id="cc6b8-1059">しきい値は、実際には、このプロセスとメモリ使用量パターンの使用可能なメモリの量に応じて動的に調整される可能性があります。</span><span class="sxs-lookup"><span data-stu-id="cc6b8-1059">The threshold may be dynamically adjusted depending on the actual amount of memory available to this process and its memory consumption pattern.</span></span> <span data-ttu-id="cc6b8-1060">BizTalk プロセス メモリの制限は公開するバッチに急なメモリの要件がある場合、またはメッセージを処理しているスレッドが多すぎる場合に発生します。</span><span class="sxs-lookup"><span data-stu-id="cc6b8-1060">BizTalk process memory throttling can occur if the batch to be published has steep memory requirements, or if too many threads are processing messages.</span></span> <span data-ttu-id="cc6b8-1061">システムが過剰に制限する場合は、ホストのプロセス メモリ使用率のしきい値に関連付けられている値を増やすことを検討し、ホスト インスタンスに「メモリ不足」エラーが発生しないことを確認します。</span><span class="sxs-lookup"><span data-stu-id="cc6b8-1061">If the system appears to be over-throttling, consider increasing the value associated with the process memory usage threshold for the host and verify that the host instance does not generate an "out of memory" error.</span></span> <span data-ttu-id="cc6b8-1062">プロセス メモリ使用率のしきい値を増やすことで、「メモリ不足」エラーが発生する場合、内部メッセージ キューのサイズの値を減らすことを検討およびプロセス CPU しきい値あたりのメッセージ。</span><span class="sxs-lookup"><span data-stu-id="cc6b8-1062">If an "out of memory" error is raised by increasing the process memory usage threshold, then consider reducing the values for the internal message queue size and in-process messages per CPU thresholds.</span></span> <span data-ttu-id="cc6b8-1063">この方法は、サイズの大きいメッセージを処理するシナリオに特に関連します。</span><span class="sxs-lookup"><span data-stu-id="cc6b8-1063">This strategy is particularly relevant in large message processing scenarios.</span></span>  

 <span data-ttu-id="cc6b8-1064">BizTalk server は、仮想メモリが不足定期的に実行、する場合は、BizTalk Server の 64年ビットを検討します。</span><span class="sxs-lookup"><span data-stu-id="cc6b8-1064">If your BizTalk server regularly runs out of virtual memory, then consider BizTalk Server 64-bit.</span></span> <span data-ttu-id="cc6b8-1065">64 ビット サーバー上の各プロセスが最大 4 に対応できる TB の仮想メモリ 2 GB の 32 ビットと比較します。</span><span class="sxs-lookup"><span data-stu-id="cc6b8-1065">Each Process on 64-bit servers can address up to 4 TB’s of virtual memory versus the 2 GB’s in 32-bit.</span></span> <span data-ttu-id="cc6b8-1066">一般に、BizTalk を 64 ビットと 64 ビット SQL Server は強くお勧めします。</span><span class="sxs-lookup"><span data-stu-id="cc6b8-1066">In general, 64-bit BizTalk and 64-bit SQL Server is highly recommended.</span></span> <span data-ttu-id="cc6b8-1067">詳細については「BizTalk Server の 64 ビット サポート」リファレンスを参照してください。</span><span class="sxs-lookup"><span data-stu-id="cc6b8-1067">See the “BizTalk Server 64-bit Support” reference for more information.</span></span> <span data-ttu-id="cc6b8-1068">この分析は、既定以外の値をプロセス メモリの制限を設定するかどうかを確認します。</span><span class="sxs-lookup"><span data-stu-id="cc6b8-1068">This analysis checks whether the Process memory throttling is set to a non-default value.</span></span>  

### <a name="references"></a><span data-ttu-id="cc6b8-1069">References</span><span class="sxs-lookup"><span data-stu-id="cc6b8-1069">References</span></span>  

-   <span data-ttu-id="cc6b8-1070">BizTalk Server がホストに制限を実装する方法 [http://go.microsoft.com/fwlink/?LinkID=155286](http://go.microsoft.com/fwlink/?LinkID=155286)</span><span class="sxs-lookup"><span data-stu-id="cc6b8-1070">How BizTalk Server Implements Host Throttling at [http://go.microsoft.com/fwlink/?LinkID=155286](http://go.microsoft.com/fwlink/?LinkID=155286)</span></span>  

-   <span data-ttu-id="cc6b8-1071">既定のホスト制限の設定を変更する方法 [http://go.microsoft.com/fwlink/?LinkID=155296](http://go.microsoft.com/fwlink/?LinkID=155296)</span><span class="sxs-lookup"><span data-stu-id="cc6b8-1071">How to Modify the Default Host Throttling Settings at [http://go.microsoft.com/fwlink/?LinkID=155296](http://go.microsoft.com/fwlink/?LinkID=155296)</span></span>  

-   <span data-ttu-id="cc6b8-1072">時にメモリ リークが発生しているプロセスのメモリ ダンプをキャプチャする方法 [http://go.microsoft.com/fwlink/?LinkId=155305](http://go.microsoft.com/fwlink/?LinkId=155305)</span><span class="sxs-lookup"><span data-stu-id="cc6b8-1072">How to Capture a Memory Dump of a Process that is Leaking Memory at [http://go.microsoft.com/fwlink/?LinkId=155305](http://go.microsoft.com/fwlink/?LinkId=155305)</span></span>  

-   <span data-ttu-id="cc6b8-1073">BizTalk Server での 64 ビット サポート [http://go.microsoft.com/fwlink/?LinkId=155306](http://go.microsoft.com/fwlink/?LinkId=155306)</span><span class="sxs-lookup"><span data-stu-id="cc6b8-1073">BizTalk Server 64-bit Support at [http://go.microsoft.com/fwlink/?LinkId=155306](http://go.microsoft.com/fwlink/?LinkId=155306)</span></span>