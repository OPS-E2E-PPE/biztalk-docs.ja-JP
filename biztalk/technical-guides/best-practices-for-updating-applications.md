---
title: アプリケーションの更新のベスト プラクティス |Microsoft Docs
ms.custom: ''
ms.date: 06/08/2017
ms.prod: biztalk-server
ms.reviewer: ''
ms.suite: ''
ms.tgt_pltfrm: ''
ms.topic: article
ms.assetid: 072eaf25-a1ee-4af3-b034-525a04260ef4
caps.latest.revision: 3
author: MandiOhlinger
ms.author: mandia
manager: anneta
ms.openlocfilehash: c787346ea9bce0964615b8ed1376924306dffad5
ms.sourcegitcommit: 381e83d43796a345488d54b3f7413e11d56ad7be
ms.translationtype: MT
ms.contentlocale: ja-JP
ms.lasthandoff: 05/07/2019
ms.locfileid: "65399295"
---
# <a name="best-practices-for-updating-applications"></a>アプリケーションの更新のベスト プラクティス
このトピックでは、BizTalk アプリケーションとアイテムを更新するときに使用を検討する必要がありますのベスト プラクティスについて説明します。  
  
## <a name="versioning"></a>バージョン管理  
 **バージョン管理戦略を実装します。**  
  
- 適切なバージョン管理戦略では、長時間実行されるトランザクションの使用など、BizTalk アプリケーションのアップグレードやバグ修正を行うダウンことはできません必要があります。 すべての BizTalk アイテムのバージョン管理戦略を計画する必要があります。 オーケストレーションとマップでスキーマ、マップ、カスタム アダプター、パイプライン、パイプライン コンポーネント、オーケストレーション、ビジネス ルール、BAM、およびカスタム クラスが呼び出されます。  
  
  **BizTalk 管理データベースおよびグローバル アセンブリ キャッシュ (GAC) 内のアセンブリと一致します。**  
  
- アプリケーションが正しく機能するようアセンブリの同じバージョンは、GAC のように、BizTalk 管理データベースのことを確認します。 アセンブリを展開するときに必ずしもそのアセンブリを GAC にインストールしていない場合は、GAC と BizTalk 管理データベースに異なるバージョンのアセンブリが格納されている可能性があります。  
  
  **BizTalk アセンブリ チェッカーと GAC のリモート ツールを使用してバージョン管理を確認します。**  
  
- **BizTalk アセンブリ チェッカーと GAC のリモート ツール**(BTSAssemblyChecker.exe) が BizTalk 管理データベースに展開されたアセンブリのバージョンをチェックしが、すべての BizTalk の GAC に正しく登録されていることを確認しますサーバーのコンピューター。 このツールを使用すると、特定の BizTalk アプリケーションのアイテムを含むすべてのアセンブリが BizTalk のすべてのノードにインストールされていることを確認します。 このツールは、サイド バイ サイド展開アプローチを使用する場合に特に、各 BizTalk コンピューターに、一連のアセンブリの正しいバージョンがインストールされていることを確認する solid のバージョン管理戦略を組み合わせてに特に便利です。  
  
- このツールは Support\Tools\x86\BTSAssemblyChecker.exe で BizTalk Server のインストール メディアで使用できます。  
  
  **バージョン管理製品を使用します。**  
  
- BizTalk アイテムの追跡とバージョン管理の Microsoft Visual Studio® Team Foundation Server 2010 など、バージョン管理製品を使用する必要があります。 Microsoft Visual Studio® Team Foundation Server 2010 の詳細については、次を参照してください[Microsoft Visual Studio® Team Foundation Server 2010](http://go.microsoft.com/fwlink/?LinkId=210637) (http://go.microsoft.com/fwlink/?LinkId=210637)  
  
  **複数の BizTalk アプリケーションにアイテムを要素**  
  
- BizTalk アイテムのアセンブリのバージョン管理を実行するには、BizTalk ソリューションのアセンブリ必要があります考慮する BizTalk Server のバージョン管理を許可するように (パッケージ化)。 ファクタリングに関する詳細については、次を参照してください。[アプリケーションへの成果物を追加する](../technical-guides/adding-artifacts-to-an-application.md)します。  
  
## <a name="updating-an-application"></a>アプリケーションの更新  
 **.Msi ファイルを使用してアプリケーションを更新します。**  
  
-   アプリケーションのアップグレードは、実稼働環境で操作を意図的かつ正確では通常です。 アプリケーションをアップグレードするときに通常、手動のチェックリストを使用する必要があります。 ただし、.msi ファイルを使用して特定の手順を効率化することができます。 .Msi ファイルを使用するときに再頒布可能パッケージに、アプリケーションのアイテムをラップすることができます。 .Msi ファイルは、複数のランタイム ボックスを最新の Dll にロールアウトまたはグループ レベルの展開を実行するときに特に便利です。 .Msi ファイルを作成するときに、他のすべてのリソースが変更されていないとバインドをパッケージから除外する必要があります。  
  
-   BizTalk アセンブリを更新する場合停止、参加解除、再参加させ、およびしインポートして .msi ファイルをインストールした後と前に、BizTalk アイテムを手動で開始をする必要があります。 BizTalk アセンブリの更新の詳細については、次を参照してください。[チェックリスト。アセンブリの更新](../technical-guides/checklist-updating-an-assembly.md)します。  
  
-   サイド バイ サイド バージョン管理を使用して BizTalk Server アセンブリをアップグレードする場合は前に、と後、.msi ファイルを使用して、手動の手順を実行する必要があります。 必要な手動の手順の詳細については、次を参照してください。[チェックリスト。サイド バイ サイド バージョン管理を使用してアプリケーションの更新](../technical-guides/checklist-updating-an-application-using-side-by-side-versioning.md)します。  
  
## <a name="updating-an-assembly"></a>アセンブリの更新  
 **運用環境でアセンブリのバージョンがインクリメントします。**  
  
- 実稼働環境で実行されているアセンブリを更新する場合は、常にアセンブリ バージョン番号を増やす必要があります。  
  
  **更新プログラム、更新されたアセンブリと GAC**  
  
- オーケストレーション、スキーマ、またはマップを含むアセンブリを更新するときに、新しいバージョンを含むアセンブリと GAC を更新する必要があります。 それ以外の場合、BizTalk Server は期限切れのバージョンを使用します。 これを行うには、アプリケーションが関連付けられているホストのインスタンスを実行している各コンピューターで、更新されたアイテムが含まれているアセンブリの古いバージョンを GAC からアンインストールし、新しいバージョンをインストールします。  
  
  **アセンブリを更新した後のホスト インスタンスを再起動します。**  
  
- 既存のアプリケーションでの BizTalk アセンブリが更新された場合は、変更を反映するためのホスト インスタンスを再起動する必要があります。 ホスト インスタンスを再起動すると、ホスト インスタンスで実行されているその他のすべてのアプリケーションが停止します。  
  
## <a name="updating-an-artifact"></a>アイテムの更新  
 **依存している成果物の前に、依存するアイテムを展開解除します。**  
  
- 別のアイテムが依存するアイテムの展開を解除する場合、依存するアイテムを最初に展開解除する必要があります。  
  
  > [!NOTE]  
  >  最初、依存するアイテムの展開を解除するはありません、BizTalk Server 管理コンソールは警告を表示して、間違った順序でアイテムの展開解除されないようにします。  
  
  **別のアプリケーションが依存している成果物を停止できません。**  
  
- あるアプリケーション内にあるアイテムを停止すると (アプリケーション全体を停止した場合など)、このアプリケーションに依存する別のアプリケーションが正しく機能しなくなります。 アプリケーションの停止の詳細については、次を参照してください。 [BizTalk アプリケーション開始および停止方法](http://go.microsoft.com/fwlink/?LinkID=154729)(http://go.microsoft.com/fwlink/?LinkID=154729)します。  
  
  **アイテムを移動する前にアセンブリへの参照を追加します。**  
  
- 別のアプリケーションにアイテムを移動する場合は、移動するアイテムが依存するアイテムが含まれているアプリケーションを移動先のアプリケーションが参照している場合を除き、そのアイテムが依存するその他のアイテムも移動されます。 また、移動するアイテムに依存しているアイテムも、そのようなアイテムが含まれているアプリケーションが移動先のアプリケーションを参照している場合を除き、移動先のアプリケーションに移動されます。 アイテムを移動する際には、同時に移動されるその他のアイテムの一覧が表示されます。  
  
## <a name="updating-bindings"></a>バインドを更新しています  
 **バインドの再構成を自動化します。**  
  
-   アプリケーションのアセンブリを更新すると、多くの場合、そのバインドが上書きされます。また、アセンブリがまったくバインドされず、バインドの再構成を手動で行う必要が生じることもあります。 バインド ファイルを使用して、このプロセスを自動化できます。 アセンブリの同じバージョンを更新する場合最初に、アセンブリのバインド ファイルをエクスポートし、アセンブリを更新、アプリケーションにアセンブリをインポートし、バインド ファイルをインポートすることによって、以前のバインドを適用します。 新しいバージョンのアセンブリを更新する場合は、バインド ファイルのエクスポート、アセンブリの新しいバージョンを反映、アプリケーションに新しいアセンブリをインポートおよびバインド ファイルをインポートすることによって新しいバインドを適用するファイルを編集できます。 バインド ファイルの詳細については、次を参照してください。[をバインド ファイルのバインドのエクスポート方法](../technical-guides/how-to-export-bindings-to-a-binding-file.md)します。 バインド ファイルの編集の詳細については、次を参照してください。[バインド ファイルのカスタマイズ](http://go.microsoft.com/fwlink/?LinkID=155000)(http://go.microsoft.com/fwlink/?LinkID=155000)します。  
  
## <a name="starting-or-stopping-an-application"></a>開始または停止するアプリケーション  
 **成果物を更新する、アプリケーションを停止します。**  
  
-   アプリケーションのアイテムを更新する、アプリケーションを停止しない場合は、エンドポイントを無効にして、MessageBox データベースにパブリケーションを停止、停止、および実行中のインスタンスを参加解除を一時的にする必要があります。 停止して、実行中のインスタンスを参加解除、すべての退避または中断されたインスタンス必要があります手動で再開し、完了すると、か終了します。  
  
-   アイテムを更新したり、アプリケーションをインストールするためにアプリケーションを停止する必要はありませんが、アイテムを更新する場合は常にアプリケーションを停止することをお勧めします。  
  
## <a name="see-also"></a>参照  
 [バインド ファイルにバインドをエクスポートする方法](../technical-guides/how-to-export-bindings-to-a-binding-file.md)