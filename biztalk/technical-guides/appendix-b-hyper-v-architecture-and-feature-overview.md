---
title: "付録 b: HYPER-V のアーキテクチャと機能の概要 |Microsoft ドキュメント"
ms.custom: 
ms.date: 06/08/2017
ms.prod: biztalk-server
ms.reviewer: 
ms.suite: 
ms.tgt_pltfrm: 
ms.topic: article
ms.assetid: 87b6b9a0-a470-43f7-b076-36075477cc34
caps.latest.revision: "13"
author: MandiOhlinger
ms.author: mandia
manager: anneta
ms.openlocfilehash: 9e6282b6f5a5784b80d58a1a1737389ee23e01e2
ms.sourcegitcommit: cb908c540d8f1a692d01dc8f313e16cb4b4e696d
ms.translationtype: MT
ms.contentlocale: ja-JP
ms.lasthandoff: 09/20/2017
---
# <a name="appendix-b-hyper-v-architecture-and-feature-overview"></a><span data-ttu-id="06b94-102">付録 b: HYPER-V のアーキテクチャと機能の概要</span><span class="sxs-lookup"><span data-stu-id="06b94-102">Appendix B: Hyper-V Architecture and Feature Overview</span></span>
<span data-ttu-id="06b94-103">このトピックでは、HYPER-V アーキテクチャの概要を HYPER-V の長所と短所について説明します。</span><span class="sxs-lookup"><span data-stu-id="06b94-103">This topic provides an overview of Hyper-V architecture, describes advantages and disadvantages of Hyper-V.</span></span>  
  
## <a name="hyper-v-architecture"></a><span data-ttu-id="06b94-104">HYPER-V のアーキテクチャ</span><span class="sxs-lookup"><span data-stu-id="06b94-104">Hyper-V Architecture</span></span>  
  
 <span data-ttu-id="06b94-105">HYPER-V では、ハイパーバイザー ベースの仮想化プラットフォームとテクノロジのいずれかの[!INCLUDE[btsWinSvr2k8R2](../includes/btswinsvr2k8r2-md.md)]のマーキー機能、ライブ マイグレーションします。</span><span class="sxs-lookup"><span data-stu-id="06b94-105">Hyper-V is a hypervisor-based virtualization platform and an enabling technology for one of [!INCLUDE[btsWinSvr2k8R2](../includes/btswinsvr2k8r2-md.md)]’s marquee features, Live Migration.</span></span> <span data-ttu-id="06b94-106">HYPER-V は、version 1.0、Windows Server 2008 がのクイック マイグレーションは、数秒のダウン時間のみが物理ホスト間で Vm を移動する可能性があります。</span><span class="sxs-lookup"><span data-stu-id="06b94-106">With Hyper-V version 1.0, Windows Server 2008 was capable of Quick Migration, which could move VMs between physical hosts with only a few seconds of down-time.</span></span> <span data-ttu-id="06b94-107">ライブ マイグレーションにより、物理的なターゲットの間を移動はミリ秒で、移行操作が接続されているユーザーを非表示になることを意味で行われます。</span><span class="sxs-lookup"><span data-stu-id="06b94-107">With Live Migration, moves between physical targets happen in millisecond, which means migration operations become invisible to connected users.</span></span> <span data-ttu-id="06b94-108">新機能と機能強化について調べるに[!INCLUDE[btsWinSvr2k8R2](../includes/btswinsvr2k8r2-md.md)]HYPER-V を参照してください[Windows Server 2008 R2 で HYPER-V の新](http://go.microsoft.com/fwlink/?LinkID=202427)です。</span><span class="sxs-lookup"><span data-stu-id="06b94-108">To find out new features and improvements in  [!INCLUDE[btsWinSvr2k8R2](../includes/btswinsvr2k8r2-md.md)] Hyper-V, see [What's New in Hyper-V in Windows Server 2008 R2](http://go.microsoft.com/fwlink/?LinkID=202427).</span></span>  
  
 <span data-ttu-id="06b94-109">ハイパーバイザーは、互いに分離された複数の仮想マシン (Vm) をホストできますが、プロセッサ、メモリ、および I/O デバイスの仮想化により、基になるハードウェア リソースを共有する特定のプロセッサを仮想化プラットフォームです。</span><span class="sxs-lookup"><span data-stu-id="06b94-109">The hypervisor is the processor-specific virtualization platform that can host multiple virtual machines (VMs) that are isolated from each other but share the underlying hardware resources by virtualizing the processors, memory, and I/O devices.</span></span>  
  
 <span data-ttu-id="06b94-110">HYPER-V 仮想マシンで実行されているゲスト オペレーティング システムは、物理ハードウェア上で実行されているオペレーティング システムのパフォーマンスに近づいていますパフォーマンスを提供*場合*仮想サーバーが必要なクライアント (VSC) ドライバーとサービスゲスト オペレーティング システムにインストールされます。</span><span class="sxs-lookup"><span data-stu-id="06b94-110">Guest operating systems running in a Hyper-V virtual machine provide performance approaching the performance of an operating system running on physical hardware *if* the necessary virtual server client (VSC) drivers and services are installed on the guest operating system.</span></span> <span data-ttu-id="06b94-111">HYPER-V で仮想サーバー クライアント (VSC) コード、HYPER-V とも呼ばれる I/O の対応、HYPER-V「仮想マシン バス」への直接アクセスを有効に、HYPER-V 統合サービスのインストールで使用できます。</span><span class="sxs-lookup"><span data-stu-id="06b94-111">Hyper-V virtual server client (VSC) code, also known as Hyper-V enlightened I/O, enables direct access to the Hyper-V “Virtual Machine Bus” and is available with the installation of Hyper-V integration services.</span></span> <span data-ttu-id="06b94-112">両方[!INCLUDE[btsWinSvr2k8R2](../includes/btswinsvr2k8r2-md.md)]と[!INCLUDE[btsWinVista](../includes/btswinvista-md.md)]HYPER-V のサポートは、HYPER-V 統合サービスと I/O を対応します。</span><span class="sxs-lookup"><span data-stu-id="06b94-112">Both [!INCLUDE[btsWinSvr2k8R2](../includes/btswinsvr2k8r2-md.md)] and [!INCLUDE[btsWinVista](../includes/btswinvista-md.md)] support Hyper-V enlightened I/O with Hyper-V integration services.</span></span> <span data-ttu-id="06b94-113">VSC ドライバーを提供する HYPER-V 統合サービスは、他のクライアント オペレーティング システムの使用もできます。</span><span class="sxs-lookup"><span data-stu-id="06b94-113">Hyper-V Integration services that provide VSC drivers are also available for other client operating systems.</span></span>  
  
 <span data-ttu-id="06b94-114">HYPER-V には、パーティションの観点からの分離がサポートしています。</span><span class="sxs-lookup"><span data-stu-id="06b94-114">Hyper-V supports isolation in terms of a partition.</span></span> <span data-ttu-id="06b94-115">パーティションは、オペレーティング システムが実行される、ハイパーバイザーによってサポートされる分離の論理単位です。</span><span class="sxs-lookup"><span data-stu-id="06b94-115">A partition is a logical unit of isolation, supported by the hypervisor, in which operating systems execute.</span></span> <span data-ttu-id="06b94-116">Microsoft ハイパーバイザーを実行している、少なくとも 1 つの親、またはルート パーティションが必要[!INCLUDE[btsWinSvr2k8R2](../includes/btswinsvr2k8r2-md.md)]です。</span><span class="sxs-lookup"><span data-stu-id="06b94-116">The Microsoft hypervisor must have at least one parent, or root, partition, running [!INCLUDE[btsWinSvr2k8R2](../includes/btswinsvr2k8r2-md.md)].</span></span> <span data-ttu-id="06b94-117">仮想化スタックは、親パーティションで実行され、ハードウェア デバイスに直接アクセスします。</span><span class="sxs-lookup"><span data-stu-id="06b94-117">The virtualization stack runs in the parent partition and has direct access to the hardware devices.</span></span> <span data-ttu-id="06b94-118">ゲスト オペレーティング システムをホストしているパーティションと、ルート パーティションでは、子が作成されます。</span><span class="sxs-lookup"><span data-stu-id="06b94-118">The root partition then creates the child partitions which host the guest operating systems.</span></span> <span data-ttu-id="06b94-119">ルート パーティションでは、ハイパー コール アプリケーション プログラミング インターフェイス (API) を使用して、子パーティションを作成します。</span><span class="sxs-lookup"><span data-stu-id="06b94-119">A root partition creates child partitions using the hypercall application programming interface (API).</span></span>  
  
 <span data-ttu-id="06b94-120">パーティションには、物理プロセッサへのアクセスはありません。 またプロセッサの割り込みを処理しないでください。</span><span class="sxs-lookup"><span data-stu-id="06b94-120">Partitions do not have access to the physical processor, nor do they handle the processor interrupts.</span></span> <span data-ttu-id="06b94-121">代わりに、プロセッサの仮想的な表示とゲストの各パーティションにプライベート仮想メモリのアドレス領域で実行します。</span><span class="sxs-lookup"><span data-stu-id="06b94-121">Instead, they have a virtual view of the processor and run in a virtual memory address region that is private to each guest partition.</span></span> <span data-ttu-id="06b94-122">ハイパーバイザーは、プロセッサへの割り込みを処理し、それぞれのパーティションにリダイレクトします。</span><span class="sxs-lookup"><span data-stu-id="06b94-122">The hypervisor handles the interrupts to the processor, and redirects them to the respective partition.</span></span> <span data-ttu-id="06b94-123">HYPER-V こともできますハードウェアが、入力出力メモリ管理単位 (IOMMU)、CPU で使用されるメモリ管理のハードウェアの独立した動作を使用して、さまざまなゲスト仮想アドレス空間の間でアドレス変換を高速化します。</span><span class="sxs-lookup"><span data-stu-id="06b94-123">Hyper-V can also hardware accelerate the address translation between various guest virtual address spaces by using an Input Output Memory Management Unit (IOMMU) which operates independent of the memory management hardware used by the CPU.</span></span> <span data-ttu-id="06b94-124">IOMMU を使用して、物理メモリのアドレスを子パーティションによって使用されているアドレスを再マップします。</span><span class="sxs-lookup"><span data-stu-id="06b94-124">An IOMMU is used to remap physical memory addresses to the addresses that are used by the child partitions.</span></span>  
  
 <span data-ttu-id="06b94-125">子パーティションも他のハードウェア リソースに直接アクセスできないし、仮想デバイス (仮想デバイス) として、リソースの仮想ビューが表示されます。</span><span class="sxs-lookup"><span data-stu-id="06b94-125">Child partitions also do not have direct access to other hardware resources and are presented a virtual view of the resources, as virtual devices (VDevs).</span></span> <span data-ttu-id="06b94-126">VMBus または、ハイパーバイザーは、要求を処理する親パーティション内のデバイスにいずれかの仮想デバイスへの要求がリダイレクトされます。</span><span class="sxs-lookup"><span data-stu-id="06b94-126">Requests to the virtual devices are redirected either via the VMBus or the hypervisor to the devices in the parent partition, which handles the requests.</span></span> <span data-ttu-id="06b94-127">VMBus は、論理パーティションの間の通信チャネルです。</span><span class="sxs-lookup"><span data-stu-id="06b94-127">The VMBus is a logical inter-partition communication channel.</span></span> <span data-ttu-id="06b94-128">親パーティションは、子パーティションからのデバイス アクセス要求を処理する VMBus 経由で通信する仮想化サービス プロバイダー (Vsp) をホストします。</span><span class="sxs-lookup"><span data-stu-id="06b94-128">The parent partition hosts Virtualization Service Providers (VSPs) which communicate over the VMBus to handle device access requests from child partitions.</span></span> <span data-ttu-id="06b94-129">子パーティションは、Vsp に VMBus 経由で親パーティションに、デバイスの要求をリダイレクトする仮想化サービス コンシューマー (Vsc) をホストします。</span><span class="sxs-lookup"><span data-stu-id="06b94-129">Child partitions host Virtualization Service Consumers (VSCs) which redirect device requests to VSPs in the parent partition via the VMBus.</span></span> <span data-ttu-id="06b94-130">このプロセス全体は、ゲスト オペレーティング システムに対して透過的です。</span><span class="sxs-lookup"><span data-stu-id="06b94-130">This entire process is transparent to the guest operating system.</span></span>  
  
 <span data-ttu-id="06b94-131">仮想デバイスでは、Windows Server 仮想化機能、記憶域、ネットワーク、グラフィック、および入力サブシステムの I/O の対応をという名前のも利用できます。</span><span class="sxs-lookup"><span data-stu-id="06b94-131">Virtual Devices can also take advantage of a Windows Server Virtualization feature, named Enlightened I/O, for storage, networking, graphics, and input subsystems.</span></span> <span data-ttu-id="06b94-132">対応の I/O は、任意のデバイスのエミュレーション層をバイパスして、直接 VMBus を利用する高レベルの通信プロトコル (SCSI) などの特殊な仮想化に対応する実装です。</span><span class="sxs-lookup"><span data-stu-id="06b94-132">Enlightened I/O is a specialized virtualization-aware implementation of high level communication protocols (such as SCSI) that utilize the VMBus directly, bypassing any device emulation layer.</span></span> <span data-ttu-id="06b94-133">これより効率的に通信が、ハイパーバイザーと VMBus 対応である有効化されたゲストが必要です。</span><span class="sxs-lookup"><span data-stu-id="06b94-133">This makes the communication more efficient but requires an enlightened guest that is hypervisor and VMBus aware.</span></span> <span data-ttu-id="06b94-134">HYPER-V 対応 I/O され、ハイパーバイザー対応カーネルが HYPER-V 統合サービスのインストールを使用して提供されます。</span><span class="sxs-lookup"><span data-stu-id="06b94-134">Hyper-V enlightened I/O and a hypervisor aware kernel is provided via installation of Hyper-V integration services.</span></span> <span data-ttu-id="06b94-135">仮想サーバー クライアント (VSC) ドライバーを含む、統合コンポーネントも他のクライアント オペレーティング システムを使用できます。</span><span class="sxs-lookup"><span data-stu-id="06b94-135">Integration components, which include virtual server client (VSC) drivers, are also available for other client operating systems.</span></span> <span data-ttu-id="06b94-136">HYPER-V では、ハードウェア支援による仮想化を含むようにプロセッサが Intel VT または AMD Virtualization (AMD-V) テクノロジで提供される必要があります。</span><span class="sxs-lookup"><span data-stu-id="06b94-136">Hyper-V requires a processor that includes hardware assisted virtualization, such as is provided with Intel VT or AMD Virtualization (AMD-V) technology.</span></span>  
  
 <span data-ttu-id="06b94-137">次の図は、Windows Server 2008 で実行されている HYPER-V 環境のアーキテクチャの大まかな概要を提供します。</span><span class="sxs-lookup"><span data-stu-id="06b94-137">The following diagram provides a high-level overview of the architecture of a Hyper-V environment running on Windows Server 2008.</span></span>  
  
 <span data-ttu-id="06b94-138">![ハイパー & #45 です。V アーキテクチャの概要](../technical-guides/media/eadd2a84-3936-4b48-a0e2-05b94882d848.gif "eadd2a84-3936-4b48-a0e2-05b94882d848")</span><span class="sxs-lookup"><span data-stu-id="06b94-138">![Hyper&#45;V architecture overview](../technical-guides/media/eadd2a84-3936-4b48-a0e2-05b94882d848.gif "eadd2a84-3936-4b48-a0e2-05b94882d848")</span></span>  
<span data-ttu-id="06b94-139">HYPER-V アーキテクチャの概要</span><span class="sxs-lookup"><span data-stu-id="06b94-139">Overview of Hyper-V architecture</span></span>  
  
 <span data-ttu-id="06b94-140">上記の図で使用される用語を以下に示します。</span><span class="sxs-lookup"><span data-stu-id="06b94-140">Acronyms and terms used in the diagram above are described below:</span></span>  
  
-   <span data-ttu-id="06b94-141">**APIC** – Programmable Interrupt Controller を強化します。</span><span class="sxs-lookup"><span data-stu-id="06b94-141">**APIC** – Advanced Programmable Interrupt Controller.</span></span> <span data-ttu-id="06b94-142">これにより、割り込みに割り当てられる優先度レベル、デバイスを出力します。</span><span class="sxs-lookup"><span data-stu-id="06b94-142">A device which allows priority levels to be assigned to its interrupt outputs.</span></span>  
  
-   <span data-ttu-id="06b94-143">**子パーティション**– ゲスト オペレーティング システムをホストしているパーティション。</span><span class="sxs-lookup"><span data-stu-id="06b94-143">**Child Partition** – Partition that hosts a guest operating system.</span></span> <span data-ttu-id="06b94-144">物理メモリと子パーティションごとのデバイスに対するすべてのアクセスは、仮想マシン バス (VMBus)、または、ハイパーバイザーを介して提供します。</span><span class="sxs-lookup"><span data-stu-id="06b94-144">All access to physical memory and devices by a child partition is provided via the Virtual Machine Bus (VMBus) or the hypervisor.</span></span>  
  
-   <span data-ttu-id="06b94-145">**ハイパー コール**– ハイパーバイザーとの通信用のインターフェイスです。</span><span class="sxs-lookup"><span data-stu-id="06b94-145">**Hypercall** – Interface for communication with the hypervisor.</span></span> <span data-ttu-id="06b94-146">ハイパー コール インターフェイスは、ハイパーバイザーによって提供される最適化へのアクセスに対応します。</span><span class="sxs-lookup"><span data-stu-id="06b94-146">The hypercall interface accommodates access to the optimizations provided by the hypervisor.</span></span>  
  
-   <span data-ttu-id="06b94-147">**ハイパーバイザー** – ハードウェアと 1 つまたは複数のオペレーティング システムの間に位置するソフトウェアのレイヤー。</span><span class="sxs-lookup"><span data-stu-id="06b94-147">**Hypervisor** – A layer of software that sits between the hardware and one or more operating systems.</span></span> <span data-ttu-id="06b94-148">その主な役割は、パーティションと呼ばれる独立した実行環境を提供します。</span><span class="sxs-lookup"><span data-stu-id="06b94-148">Its primary job is to provide isolated execution environments called partitions.</span></span> <span data-ttu-id="06b94-149">ハイパーバイザーは、制御し、基になるハードウェアへのアクセスを介しします。</span><span class="sxs-lookup"><span data-stu-id="06b94-149">The hypervisor controls and arbitrates access to the underlying hardware.</span></span>  
  
-   <span data-ttu-id="06b94-150">**IC** – 統合コンポーネントです。</span><span class="sxs-lookup"><span data-stu-id="06b94-150">**IC** – Integration component.</span></span> <span data-ttu-id="06b94-151">他のパーティションと、ハイパーバイザーとの通信にパーティションを子に許可するコンポーネントです。</span><span class="sxs-lookup"><span data-stu-id="06b94-151">Component that allows child partitions to communication with other partitions and the hypervisor.</span></span>  
  
-   <span data-ttu-id="06b94-152">**I/O スタック**– 入力/出力スタック。</span><span class="sxs-lookup"><span data-stu-id="06b94-152">**I/O stack** – Input/output stack.</span></span>  
  
-   <span data-ttu-id="06b94-153">**MSR** – メモリ サービス ルーチンです。</span><span class="sxs-lookup"><span data-stu-id="06b94-153">**MSR** – Memory Service Routine.</span></span>  
  
-   <span data-ttu-id="06b94-154">**ルート パーティション**– デバイス ドライバー、電源管理、およびデバイスのホット追加/削除など、コンピューター レベルの機能を管理します。</span><span class="sxs-lookup"><span data-stu-id="06b94-154">**Root Partition** – Manages machine-level functions such as device drivers, power management, and device hot addition/removal.</span></span> <span data-ttu-id="06b94-155">ルート (親) のパーティションは、物理メモリとデバイスに直接アクセス権を持つパーティションだけです。</span><span class="sxs-lookup"><span data-stu-id="06b94-155">The root (or parent) partition is the only partition that has direct access to physical memory and devices.</span></span>  
  
-   <span data-ttu-id="06b94-156">**VID** – 仮想インフラストラクチャ ドライバー。</span><span class="sxs-lookup"><span data-stu-id="06b94-156">**VID** – Virtualization Infrastructure Driver.</span></span> <span data-ttu-id="06b94-157">パーティションの管理サービス、仮想プロセッサ管理サービス、およびパーティションのメモリ管理サービスを提供します。</span><span class="sxs-lookup"><span data-stu-id="06b94-157">Provides partition management services, virtual processor management services, and memory management services for partitions.</span></span>  
  
-   <span data-ttu-id="06b94-158">**VMBus** – 複数のアクティブな仮想化されたパーティションを持つシステムでパーティションの間の通信およびデバイス列挙に使用されるチャネル ベースの通信メカニズム。</span><span class="sxs-lookup"><span data-stu-id="06b94-158">**VMBus** – Channel-based communication mechanism used for inter-partition communication and device enumeration on systems with multiple active virtualized partitions.</span></span> <span data-ttu-id="06b94-159">VMBus には、HYPER-V 統合サービスがインストールされます。</span><span class="sxs-lookup"><span data-stu-id="06b94-159">The VMBus is installed with Hyper-V Integration Services.</span></span>  
  
-   <span data-ttu-id="06b94-160">**VMMS** – 仮想マシン管理サービス。</span><span class="sxs-lookup"><span data-stu-id="06b94-160">**VMMS** – Virtual Machine Management Service.</span></span> <span data-ttu-id="06b94-161">子パーティション内のすべての仮想マシンの状態の管理を担当します。</span><span class="sxs-lookup"><span data-stu-id="06b94-161">Responsible for managing the state of all virtual machines in child partitions.</span></span>  
  
-   <span data-ttu-id="06b94-162">**VMWP** – 仮想マシン ワーカー プロセスです。</span><span class="sxs-lookup"><span data-stu-id="06b94-162">**VMWP** – Virtual Machine Worker Process.</span></span> <span data-ttu-id="06b94-163">仮想化スタックのユーザー モード コンポーネント。</span><span class="sxs-lookup"><span data-stu-id="06b94-163">A user mode component of the virtualization stack.</span></span> <span data-ttu-id="06b94-164">ワーカー プロセスからの仮想マシン管理サービスを提供する、[!INCLUDE[btsWinSvr2k8R2](../includes/btswinsvr2k8r2-md.md)]ゲスト オペレーティング システムを子パーティションの親パーティション内のインスタンス。</span><span class="sxs-lookup"><span data-stu-id="06b94-164">The worker process provides virtual machine management services from the [!INCLUDE[btsWinSvr2k8R2](../includes/btswinsvr2k8r2-md.md)] instance in the parent partition to the guest operating systems in the child partitions.</span></span> <span data-ttu-id="06b94-165">バーチャル マシン管理サービスは、実行中の仮想マシンごとに個別のワーカー プロセスを生成します。</span><span class="sxs-lookup"><span data-stu-id="06b94-165">The Virtual Machine Management Service spawns a separate worker process for each running virtual machine.</span></span>  
  
-   <span data-ttu-id="06b94-166">**VSC** – 仮想化サービスのクライアントです。</span><span class="sxs-lookup"><span data-stu-id="06b94-166">**VSC** – Virtualization Service Client.</span></span> <span data-ttu-id="06b94-167">子パーティションに存在する統合デバイス インスタンス。</span><span class="sxs-lookup"><span data-stu-id="06b94-167">A synthetic device instance that resides in a child partition.</span></span> <span data-ttu-id="06b94-168">Vsc は、仮想化サービス プロバイダー (Vsp)、親パーティションに用意されているハードウェア リソースを利用します。</span><span class="sxs-lookup"><span data-stu-id="06b94-168">VSCs utilize hardware resources that are provided by Virtualization Service Providers (VSPs) in the parent partition.</span></span> <span data-ttu-id="06b94-169">親パーティションに対応する Vsp と通信するには、子パーティションのデバイスの I/O 要求を満たすために VMBus 経由でします。</span><span class="sxs-lookup"><span data-stu-id="06b94-169">They communicate with the corresponding VSPs in the parent partition over the VMBus to satisfy a child partitions device I/O requests.</span></span>  
  
-   <span data-ttu-id="06b94-170">**VSP** – 仮想化サービス プロバイダー。</span><span class="sxs-lookup"><span data-stu-id="06b94-170">**VSP** – Virtualization Service Provider.</span></span> <span data-ttu-id="06b94-171">ルート パーティション内に存在し、仮想マシン バス (VMBus) 経由で子パーティションを統合デバイスのサポートを提供します。</span><span class="sxs-lookup"><span data-stu-id="06b94-171">Resides in the root partition and provide synthetic device support to child partitions over the Virtual Machine Bus (VMBus).</span></span>  
  
-   <span data-ttu-id="06b94-172">**WinHv** – Windows ハイパーバイザー インターフェイス ライブラリです。</span><span class="sxs-lookup"><span data-stu-id="06b94-172">**WinHv** – Windows Hypervisor Interface Library.</span></span> <span data-ttu-id="06b94-173">WinHv がパーティション分割されたオペレーティング システムのドライバーとドライバーの標準の Windows の呼び出し規約を使用して、ハイパーバイザーの呼び出しを許可するハイパーバイザー間のブリッジ本質的には</span><span class="sxs-lookup"><span data-stu-id="06b94-173">WinHv is essentially a bridge between a partitioned operating system’s drivers and the hypervisor which allows drivers to call the hypervisor using standard Windows calling conventions</span></span>  
  
-   <span data-ttu-id="06b94-174">**WMI** –、バーチャル マシン管理サービスが管理し、仮想マシンの制御の Windows Management Instrumentation WMI ベースの Api のセットを公開します。</span><span class="sxs-lookup"><span data-stu-id="06b94-174">**WMI** – The Virtual Machine Management Service exposes a set of Windows Management Instrumentation (WMI)-based APIs for managing and controlling virtual machines.</span></span>  
  
 <span data-ttu-id="06b94-175">これらの用語のほとんどがで定義されている、 [Glossary8](../technical-guides/glossary8.md)です。</span><span class="sxs-lookup"><span data-stu-id="06b94-175">Most of these terms are defined in the [Glossary8](../technical-guides/glossary8.md).</span></span>  
  
> [!NOTE]  
>  <span data-ttu-id="06b94-176">詳細については[!INCLUDE[btsWinSvr2k8R2](../includes/btswinsvr2k8r2-md.md)]HYPER-V を参照してください[http://go.microsoft.com/fwlink/?LinkID=121187](http://go.microsoft.com/fwlink/?LinkID=121187)です。</span><span class="sxs-lookup"><span data-stu-id="06b94-176">For more information about [!INCLUDE[btsWinSvr2k8R2](../includes/btswinsvr2k8r2-md.md)] Hyper-V, see [http://go.microsoft.com/fwlink/?LinkID=121187](http://go.microsoft.com/fwlink/?LinkID=121187).</span></span>  
  
## <a name="advantages-of-hyper-v"></a><span data-ttu-id="06b94-177">HYPER-V の利点</span><span class="sxs-lookup"><span data-stu-id="06b94-177">Advantages of Hyper-V</span></span>  
 <span data-ttu-id="06b94-178">HYPER-V 仮想化環境でエンタープライズ レベルのソリューションを実行する利点は次のとおりです。</span><span class="sxs-lookup"><span data-stu-id="06b94-178">The advantages of running enterprise-level solutions in a Hyper-V virtualized environment include the following:</span></span>  
  
1.  <span data-ttu-id="06b94-179">**ハードウェア リソースの統合**-複数の物理サーバーに簡単に統合できます比較的少数のサーバーに HYPER-V で仮想化を実装することによってです。</span><span class="sxs-lookup"><span data-stu-id="06b94-179">**Consolidation of hardware resources** - Multiple physical servers can be easily consolidated into comparatively fewer servers by implementing virtualization with Hyper-V.</span></span> <span data-ttu-id="06b94-180">統合は、配置済みのハードウェア リソースの使用を完全に対応します。</span><span class="sxs-lookup"><span data-stu-id="06b94-180">Consolidation accommodates full use of deployed hardware resources.</span></span> <span data-ttu-id="06b94-181">Windows Server 2008 R2 で HYPER-V ホスト コンピューターで最大 64 個の論理 Cpu にアクセスできます。</span><span class="sxs-lookup"><span data-stu-id="06b94-181">Hyper-V in Windows Server 2008 R2 can now access up to 64 logical CPUs on host computers.</span></span> <span data-ttu-id="06b94-182">この機能だけでなく活用新しいマルチコア システム、各物理ホストのバーチャル マシン統合率の大きいも意味します。</span><span class="sxs-lookup"><span data-stu-id="06b94-182">This capability not only takes advantage of new multicore systems, it also means greater virtual machine consolidation ratios per physical host.</span></span>  
  
2.  <span data-ttu-id="06b94-183">**管理の容易さ**:</span><span class="sxs-lookup"><span data-stu-id="06b94-183">**Ease of administration**:</span></span>  
  
    -   <span data-ttu-id="06b94-184">統合とリソースの集中管理を簡略化します。</span><span class="sxs-lookup"><span data-stu-id="06b94-184">Consolidation and centralization of resources simplifies administration.</span></span>  
  
    -   <span data-ttu-id="06b94-185">大きいくらい簡単にスケール アップおよびスケール アウトの実装に対応します。</span><span class="sxs-lookup"><span data-stu-id="06b94-185">Implementation of scale-up and scale out is accommodated with much greater ease.</span></span>  
  
3.  <span data-ttu-id="06b94-186">**コストの削減有効**:</span><span class="sxs-lookup"><span data-stu-id="06b94-186">**Significant cost savings**:</span></span>  
  
    -   <span data-ttu-id="06b94-187">複数の仮想マシンが単一の物理マシンで実行できるため、ハードウェアのコストが大幅に削減、そのため、独立した物理マシンはすべてのコンピューターに必要はありません。</span><span class="sxs-lookup"><span data-stu-id="06b94-187">Hardware costs are significantly reduced because multiple virtual machines can run on a single physical machine, therefore, a separate physical machine is not required for every computer.</span></span>  
  
    -   <span data-ttu-id="06b94-188">HYPER-V は、ライセンス コストは、ライセンス コストに含まれて[!INCLUDE[btsWinSvr2k8R2](../includes/btswinsvr2k8r2-md.md)]です。</span><span class="sxs-lookup"><span data-stu-id="06b94-188">Hyper-V licensing costs are included with the license cost of [!INCLUDE[btsWinSvr2k8R2](../includes/btswinsvr2k8r2-md.md)].</span></span> <span data-ttu-id="06b94-189">インストールできるスタンドアロン製品として使用する HYPER-V を購入することも[!INCLUDE[btsWinSvr2k8R2](../includes/btswinsvr2k8r2-md.md)]Server Core です。</span><span class="sxs-lookup"><span data-stu-id="06b94-189">Hyper-V can also be purchased for use as a stand-alone product that can be installed on [!INCLUDE[btsWinSvr2k8R2](../includes/btswinsvr2k8r2-md.md)] Server Core.</span></span>  
  
    -   <span data-ttu-id="06b94-190">電力要件は、物理ハードウェアが少なくて済みます「フット プリント」により、仮想化された HYPER-V 環境に既存のアプリケーションを統合することで大幅に削減可能性がありますが必要です。</span><span class="sxs-lookup"><span data-stu-id="06b94-190">Power requirements may be significantly reduced by consolidating existing applications onto a virtualized Hyper-V environment due to the reduced physical hardware “footprint” that is required.</span></span>  
  
4.  <span data-ttu-id="06b94-191">**HYPER-V クラスターの許容範囲のサポートをフォールト**– ための HYPER-V では、クラスター対応のアプリケーションでは、[!INCLUDE[btsWinSvr2k8](../includes/btswinsvr2k8-md.md)]ネイティブのホストをクラスタ リングを HYPER-V 仮想化環境で作成されたバーチャル マシンのサポートを提供します。</span><span class="sxs-lookup"><span data-stu-id="06b94-191">**Fault tolerance support through Hyper-V clustering** – Because Hyper-V is a cluster aware application, [!INCLUDE[btsWinSvr2k8](../includes/btswinsvr2k8-md.md)] provides native host clustering support for virtual machines created in a Hyper-V virtualized environment.</span></span>  
  
5.  <span data-ttu-id="06b94-192">**展開と管理の容易さ**:</span><span class="sxs-lookup"><span data-stu-id="06b94-192">**Ease of deployment and management**:</span></span>  
  
    -   <span data-ttu-id="06b94-193">少ない物理サーバーに既存のサーバーの統合には、展開が簡素化されます。</span><span class="sxs-lookup"><span data-stu-id="06b94-193">Consolidation of existing servers into fewer physical servers simplifies deployment.</span></span>  
  
    -   <span data-ttu-id="06b94-194">包括的な HYPER-V 管理ソリューションでは、System Center Virtual Machine Manager で使用することができます。</span><span class="sxs-lookup"><span data-stu-id="06b94-194">A comprehensive Hyper-V management solution is available with System Center Virtual Machine Manager.</span></span> <span data-ttu-id="06b94-195">System Center Virtual Machine Manager に関する詳細については、次を参照してください。 [http://go.microsoft.com/fwlink/?LinkID=111303](http://go.microsoft.com/fwlink/?LinkID=111303)です。</span><span class="sxs-lookup"><span data-stu-id="06b94-195">For more information about System Center Virtual Machine Manager, see [http://go.microsoft.com/fwlink/?LinkID=111303](http://go.microsoft.com/fwlink/?LinkID=111303).</span></span>  
  
6.  <span data-ttu-id="06b94-196">**キーの HYPER-V でのパフォーマンス特性**:</span><span class="sxs-lookup"><span data-stu-id="06b94-196">**Key Hyper-V performance characteristics**:</span></span>  
  
    -   <span data-ttu-id="06b94-197">**アーキテクチャの共有ハードウェア**- HYPER-V のアクセスを向上し、ネットワーク、ディスクなどの主要なリソースの使用率を提供し、ハイパーバイザーに対応するカーネルとビデオのときに実行されているゲスト オペレーティング システムが装備必要な仮想サーバーのクライアント (VSC) コードが (HYPER-V 対応 I/O と呼ばれます)。</span><span class="sxs-lookup"><span data-stu-id="06b94-197">**Improved hardware sharing architecture** - Hyper-V provides improved access and utilization of core resources, such as disk, networking, and video when running guest operating systems with a hypervisor-aware kernel and which are equipped with requisite virtual server client (VSC) code (known as Hyper-V enlightened I/O).</span></span> <span data-ttu-id="06b94-198">エンライトメントは、メモリ管理などの特定のオペレーティング システム機能のコストを減らすために、オペレーティング システムを強化します。</span><span class="sxs-lookup"><span data-stu-id="06b94-198">Enlightenments are enhancements made to the operating system to help reduce the cost of certain operating system functions like memory management.</span></span> <span data-ttu-id="06b94-199">現在、両方とも[!INCLUDE[btsWinSvr2k8R2](../includes/btswinsvr2k8r2-md.md)]と[!INCLUDE[btsWinVista](../includes/btswinvista-md.md)]I/O と HYPER-V は、integration services のインストールを使用してハイパーバイザー対応カーネルに HYPER-V のサポートが対応します。</span><span class="sxs-lookup"><span data-stu-id="06b94-199">Presently, both [!INCLUDE[btsWinSvr2k8R2](../includes/btswinsvr2k8r2-md.md)] and [!INCLUDE[btsWinVista](../includes/btswinvista-md.md)] support Hyper-V enlightened I/O and a hypervisor aware kernel via installation of Hyper-V integration services.</span></span> <span data-ttu-id="06b94-200">VSC ドライバーを含む、統合コンポーネントも他のクライアント オペレーティング システムを使用できます。</span><span class="sxs-lookup"><span data-stu-id="06b94-200">Integration components, which include VSC drivers, are also available for other client operating systems.</span></span>  
  
         <span data-ttu-id="06b94-201">ディスクのパフォーマンスは、Microsoft などのディスク I/O を集中的なエンタープライズ アプリケーションの重要な[!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)]HYPER-V に加えて対応 I/O; とHYPER-V では、物理ディスクのパフォーマンスに従ったディスクのパフォーマンスを提供する「パススルー」ディスクのサポートを提供します。</span><span class="sxs-lookup"><span data-stu-id="06b94-201">Disk performance is critical for disk I/O intensive enterprise applications such as Microsoft [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] and in addition to Hyper-V enlightened I/O; Hyper-V provides “Passthrough” disk support which provides disk performance on par with physical disk performance.</span></span> <span data-ttu-id="06b94-202">「パススルー」ディスクのサポートが利便性を小規模のコストでパフォーマンスの向上を提供することに注意してください。</span><span class="sxs-lookup"><span data-stu-id="06b94-202">Note that “Passthrough” disk support provides improved performance at a small cost to convenience.</span></span> <span data-ttu-id="06b94-203">「パススルー」ディスク本質的に物理ディスクまたは Lun は仮想マシンに関連付けられているし、一部の仮想ディスクを仮想マシンのスナップショットなどの機能をサポートしています。</span><span class="sxs-lookup"><span data-stu-id="06b94-203">“Passthrough” disks are essentially physical disks/LUNs that are attached to a virtual machine and do not support some of the functionality of virtual disks, such as Virtual Machine Snapshots.</span></span>  
  
    -   <span data-ttu-id="06b94-204">**プロセッサのハードウェア補助による仮想化サポート**: HYPER-V では、最近のプロセッサ テクノロジで使用可能なプロセッサ ハードウェア支援による仮想化サポートを最大限に活用します。</span><span class="sxs-lookup"><span data-stu-id="06b94-204">**Processor hardware-assisted virtualization support** – Hyper-V takes full advantage of processor hardware assisted virtualization support that is available with recent processor technology.</span></span>  
  
    -   <span data-ttu-id="06b94-205">**複数のコア (SMP) はゲスト オペレーティング システムのサポート**– HYPER-V により、アプリケーションを最大限に活用マルチ スレッド機能のバーチャル マシンで仮想マシン環境内で最大 4 つのプロセッサをサポートする機能を提供します。マシンです。</span><span class="sxs-lookup"><span data-stu-id="06b94-205">**Multi-core (SMP) guest operating system support** – Hyper-V provides the ability to support up to four processors in a virtual machine environment, which allows applications to take full advantage of multi-threading functionality in a virtual machine.</span></span>  
  
    -   <span data-ttu-id="06b94-206">**32 ビットおよび 64 ビットの両方のゲスト オペレーティング システムのサポート**– HYPER-V ウィンドウなど、別のサーバー プラットフォームで 32 ビットおよび 64 ビット システムを含む、オペレーティング システムのさまざまな種類を同時に実行するための広範なサポートを提供します。Linux®、およびその他。</span><span class="sxs-lookup"><span data-stu-id="06b94-206">**Both 32-bit and 64-bit guest operating system support** – Hyper-V provides broad support for simultaneously running different types of operating systems, including 32-bit and 64-bit systems across different server platforms, such as Windows, Linux®, and others.</span></span>  
  
7.  <span data-ttu-id="06b94-207">**実証済みの追跡レコード**-MSDN の Microsoft Web サイトのキー ([http://msdn.microsoft.com](http://go.microsoft.com/fwlink/?LinkId=122019)) および TechNet ([http://technet.microsoft.com](http://go.microsoft.com/fwlink/?LinkID=64380)) HYPER-V 環境でホストされています。</span><span class="sxs-lookup"><span data-stu-id="06b94-207">**Proven track record** - Key Microsoft Web sites MSDN ([http://msdn.microsoft.com](http://go.microsoft.com/fwlink/?LinkId=122019)) and TechNet ([http://technet.microsoft.com](http://go.microsoft.com/fwlink/?LinkID=64380)) are hosted in Hyper-V environments.</span></span>  
  
8.  <span data-ttu-id="06b94-208">**包括的な製品のサポート**– 展開済みで、HYPER-V で実行時に、Microsoft がこれらのアプリケーションのコード修正プログラムのサポートを提供 (Exchange Server や SQL Server) などの Microsoft のエンタープライズ アプリケーションでは、HYPER-V で実行されているテストが完全に、ため環境。</span><span class="sxs-lookup"><span data-stu-id="06b94-208">**Comprehensive product support** – Because Microsoft enterprise applications (such as Exchange Server and SQL Server) are fully tested running in Hyper-V, Microsoft provides code fix support for these applications when deployed and run in a Hyper-V environment.</span></span>  
  
9. <span data-ttu-id="06b94-209">**スケーラビリティ**– 追加処理電源、ネットワーク帯域幅、および記憶域の容量を実現するに迅速かつ簡単に分配ホスト コンピューターから、ゲスト仮想マシンに使用可能なリソースを追加します。</span><span class="sxs-lookup"><span data-stu-id="06b94-209">**Scalability** – Additional processing power, network bandwidth, and storage capacity can be accomplished quickly and easily by apportioning additional available resources from the host computer to the guest virtual machine(s).</span></span> <span data-ttu-id="06b94-210">これには、ホスト コンピューターがアップグレードされたこと、またはより高機能なホスト コンピューターに、ゲスト仮想マシンを移動することがあります。</span><span class="sxs-lookup"><span data-stu-id="06b94-210">This may require that the host computer is upgraded or that the guest virtual machines are moved to a more capable host computer.</span></span>  
  
 <span data-ttu-id="06b94-211">HYPER-V で提供される仮想化テクノロジを活用することの利点の深さについての詳細は、次を参照してください。[仮想化のメリット](http://go.microsoft.com/fwlink/?LinkID=202419)の[!INCLUDE[btsWinSvr2k8R2](../includes/btswinsvr2k8r2-md.md)]します。</span><span class="sxs-lookup"><span data-stu-id="06b94-211">For more in depth information about the benefits of leveraging virtualization technology provided with Hyper-V, see    [Virtualization Benefits](http://go.microsoft.com/fwlink/?LinkID=202419) of [!INCLUDE[btsWinSvr2k8R2](../includes/btswinsvr2k8r2-md.md)].</span></span>  
  
## <a name="disadvantages-of-hyper-v"></a><span data-ttu-id="06b94-212">HYPER-V の短所</span><span class="sxs-lookup"><span data-stu-id="06b94-212">Disadvantages of Hyper-V</span></span>  
 <span data-ttu-id="06b94-213">HYPER-V 仮想化環境でエンタープライズ レベルのソリューションを実行中の短所があります。</span><span class="sxs-lookup"><span data-stu-id="06b94-213">Some disadvantages of running enterprise-level solutions in a Hyper-V virtualized environment may include:</span></span>  
  
-   <span data-ttu-id="06b94-214">**ハードウェアの要件 –**によりサーバーの統合の確認要求を HYPER-V バーチャル マシンが複数の CPU やメモリを消費する傾向があり、比較可能なコンピューティングの読み込みを伴う物理サーバーよりも大きい値のディスク I/O 帯域幅を必要とします。</span><span class="sxs-lookup"><span data-stu-id="06b94-214">**Hardware requirements –** Due to the demands of server consolidation, Hyper-V virtual machines tend to consume more CPU and memory, and require greater disk I/O bandwidth than physical servers with comparable computing loads.</span></span> <span data-ttu-id="06b94-215">HYPER-V サーバーの役割は 64 ビット Windows Server 2008 R2 のすべてのエディションは 64 ビットのみにのみ使用可能なであるために、物理ハードウェアはハードウェア支援による仮想化をサポートする必要があります。</span><span class="sxs-lookup"><span data-stu-id="06b94-215">Because the Hyper-V server role is only available for 64-bit and all editions of Windows Server 2008 R2 are 64-bit only, the physical hardware must support hardware assisted virtualization.</span></span> <span data-ttu-id="06b94-216">つまり、プロセッサが Intel VT または AMD Virtualization (AMD-V) テクノロジと互換性がなければ、システム BIOS でデータ実行防止 (DEP) をサポートする必要があります、DEP を有効にする必要があります。</span><span class="sxs-lookup"><span data-stu-id="06b94-216">This means the processor must be compatible with Intel VT or AMD Virtualization (AMD-V) technology, the system BIOS must support Data Execution Prevention (DEP), and DEP must be enabled.</span></span>  
  
-   <span data-ttu-id="06b94-217">**ソフトウェアの要件 –** HYPER-V 仮想マシンで実行されている、ほとんどの Microsoft ソフトウェアがサポートされていること、一部の Microsoft ソフトウェアは、HYPER-V 仮想化環境との互換性を確認するテスト中の処理中です。</span><span class="sxs-lookup"><span data-stu-id="06b94-217">**Software requirements –** While most Microsoft software is supported running on Hyper-V virtual machines, some Microsoft software is still in the process of being tested to ensure compatibility with a Hyper-V virtualized environment.</span></span> <span data-ttu-id="06b94-218">たとえば、ほとんどの Microsoft エンタープライズ レベルのアプリケーション HYPER-V で実行をサポートまたは HYPER-V のサポートをテストする処理を行っています。</span><span class="sxs-lookup"><span data-stu-id="06b94-218">For example, most Microsoft enterprise level applications either support running on Hyper-V or are in the process of being tested for support on Hyper-V.</span></span> <span data-ttu-id="06b94-219">すべてのバージョンの[!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)]ため[!INCLUDE[btsBizTalkServer2004](../includes/btsbiztalkserver2004-md.md)]HYPER-V で実行されているはサポートされています。</span><span class="sxs-lookup"><span data-stu-id="06b94-219">All versions of [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] since [!INCLUDE[btsBizTalkServer2004](../includes/btsbiztalkserver2004-md.md)] are supported running on Hyper-V.</span></span> <span data-ttu-id="06b94-220">サポートの詳細については[!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)]と[!INCLUDE[btsSQLServerNoVersion](../includes/btssqlservernoversion-md.md)]、HYPER-V を参照してください。[付録 c: BizTalk Server と SQL Server の Hyper-v でサポート性](../technical-guides/appendix-c-biztalk-server-and-sql-server-hyper-v-supportability.md)です。</span><span class="sxs-lookup"><span data-stu-id="06b94-220">For more information on the supportability of [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] and [!INCLUDE[btsSQLServerNoVersion](../includes/btssqlservernoversion-md.md)] on Hyper-V, see [Appendix C: BizTalk Server and SQL Server Hyper-V Supportability](../technical-guides/appendix-c-biztalk-server-and-sql-server-hyper-v-supportability.md).</span></span>