---
title: IIS のパフォーマンスの最適化 |Microsoft Docs
ms.custom: ''
ms.date: 06/08/2017
ms.prod: biztalk-server
ms.reviewer: ''
ms.suite: ''
ms.tgt_pltfrm: ''
ms.topic: article
ms.assetid: 6722a2ee-3704-4aaa-9b0d-cef97bcb9a04
caps.latest.revision: 10
author: MandiOhlinger
ms.author: mandia
manager: anneta
ms.openlocfilehash: d1939a3cacdccf613a7665a766c952c6bc9c5e91
ms.sourcegitcommit: 381e83d43796a345488d54b3f7413e11d56ad7be
ms.translationtype: MT
ms.contentlocale: ja-JP
ms.lasthandoff: 05/07/2019
ms.locfileid: "65291392"
---
# <a name="optimizing-iis-performance"></a><span data-ttu-id="f3401-102">IIS のパフォーマンスの最適化</span><span class="sxs-lookup"><span data-stu-id="f3401-102">Optimizing IIS Performance</span></span>
## <a name="apply-iis-configuration-options-to-improve-iis-performance"></a><span data-ttu-id="f3401-103">IIS のパフォーマンスを向上させるために IIS の構成オプションを適用します。</span><span class="sxs-lookup"><span data-stu-id="f3401-103">Apply IIS configuration options to improve IIS performance</span></span>  
 <span data-ttu-id="f3401-104">インターネット インフォメーション サービス (IIS) では、IIS のパフォーマンスに影響する多数の構成パラメーターを公開します。</span><span class="sxs-lookup"><span data-stu-id="f3401-104">Internet Information Services (IIS) exposes numerous configuration parameters that affect IIS performance.</span></span> <span data-ttu-id="f3401-105">このトピックでは、これらのパラメーターのいくつかについて説明し、IIS のパフォーマンスを向上させるためにパラメーター値を設定するための一般的なガイダンスを提供します。</span><span class="sxs-lookup"><span data-stu-id="f3401-105">This topic describes several of these parameters and provides general guidance for setting the parameter values to improve IIS performance.</span></span>  
  
### <a name="log-only-essential-information-or-completely-disable-iis-logging"></a><span data-ttu-id="f3401-106">重要な情報のみを記録または IIS のログ記録を完全に無効にします。</span><span class="sxs-lookup"><span data-stu-id="f3401-106">Log only essential information or completely disable IIS logging</span></span>  
 <span data-ttu-id="f3401-107">IIS ログを最小化または運用環境でも無効にする必要があります。</span><span class="sxs-lookup"><span data-stu-id="f3401-107">IIS logging should be minimized or even disabled in a production environment.</span></span> <span data-ttu-id="f3401-108">ログ記録を無効にするには、これらの手順に従います。</span><span class="sxs-lookup"><span data-stu-id="f3401-108">To disable logging follow these steps:</span></span>  
  
1.  <span data-ttu-id="f3401-109">クリックして**開始**、 をポイント**すべてのプログラム**、 をクリックして**管理ツール**、順にクリックします**インターネット インフォメーション サービス (IIS) マネージャー**.</span><span class="sxs-lookup"><span data-stu-id="f3401-109">Click **Start**, point to **All Programs**, click **Administrative Tools**, and then click **Internet Information Services (IIS) Manager**.</span></span>  
  
2.  <span data-ttu-id="f3401-110">**接続** ウィンドウをクリックして展開**サイト**をクリックしてログ記録を無効にするをクリックして選択する Web サイトを選択**機能ビュー**、し、ダブルクリックして、**ログ**機能します。</span><span class="sxs-lookup"><span data-stu-id="f3401-110">In the **Connections** pane, click to expand **Sites**, click to select the Web site for which you would like to disable logging, click to select **Features View**, and then double-click the **Logging** feature.</span></span>  
  
3.  <span data-ttu-id="f3401-111">クリックして**を無効にする**で、**アクション**この Web サイトのログ記録を無効にするウィンドウ。</span><span class="sxs-lookup"><span data-stu-id="f3401-111">Click **Disable** in the **Actions** pane to disable logging for this Web site.</span></span>  
  
### <a name="disable-iis-asp-debugging-in-production-environments"></a><span data-ttu-id="f3401-112">運用環境で IIS ASP デバッグを無効にします。</span><span class="sxs-lookup"><span data-stu-id="f3401-112">Disable IIS ASP debugging in production environments</span></span>  
 <span data-ttu-id="f3401-113">運用環境で IIS ASP デバッグを無効にする必要があります。</span><span class="sxs-lookup"><span data-stu-id="f3401-113">IIS ASP debugging should be disabled in a production environment.</span></span> <span data-ttu-id="f3401-114">ASP デバッグを IIS を無効にするには、これらの手順に従います。**接続** ウィンドウをクリックして展開**サイト**、ASP デバッグを無効にするには、選択を web サイトを選択する をクリックします**機能ビュー**、し、。ダブルクリックして、 **ASP**機能します。</span><span class="sxs-lookup"><span data-stu-id="f3401-114">To disable IIS ASP debugging follow these steps: In the **Connections** pane, click to expand **Sites**, click to select the web site for which you would like to disable ASP debugging, click to select **Features View**, and then double-click the **ASP** feature.</span></span> <span data-ttu-id="f3401-115">クリックして展開**コンパイル**をクリックして展開**デバッグ プロパティ**、ことを確認します両方**クライアント側のデバッグを有効にする**と**サーバー側を有効にします。デバッグ**に設定されている**False**します。</span><span class="sxs-lookup"><span data-stu-id="f3401-115">Click to expand **Compilation**, click to expand **Debugging Properties**, and verify that both **Enable Client-side Debugging** and **Enable Server-side Debugging** are set to **False**.</span></span>  
  
1. <span data-ttu-id="f3401-116">クリックして**開始**、 をポイント**すべてのプログラム**、 をクリックして**管理ツール**、順にクリックします**インターネット インフォメーション サービス (IIS) マネージャー**.</span><span class="sxs-lookup"><span data-stu-id="f3401-116">Click **Start**, point to **All Programs**, click **Administrative Tools**, and then click **Internet Information Services (IIS) Manager**.</span></span>  
  
2. <span data-ttu-id="f3401-117">**接続** ウィンドウをクリックして展開**サイト**、ASP デバッグを無効にするには、選択を web サイトを選択する をクリックします**機能ビュー**、し、。ダブルクリックして、 **ASP**機能します。</span><span class="sxs-lookup"><span data-stu-id="f3401-117">In the **Connections** pane, click to expand **Sites**, click to select the web site for which you would like to disable ASP debugging, click to select **Features View**, and then double-click the **ASP** feature.</span></span>  
  
3. <span data-ttu-id="f3401-118">クリックして展開**コンパイル**をクリックして展開**デバッグ プロパティ**、ことを確認します両方**クライアント側のデバッグを有効にする**と**サーバー側を有効にします。デバッグ**に設定されている**False**します。</span><span class="sxs-lookup"><span data-stu-id="f3401-118">Click to expand **Compilation**, click to expand **Debugging Properties**, and verify that both **Enable Client-side Debugging** and **Enable Server-side Debugging** are set to **False**.</span></span>  
  
4. <span data-ttu-id="f3401-119">必要に応じて、**適用**で、**アクション**ウィンドウ。</span><span class="sxs-lookup"><span data-stu-id="f3401-119">If necessary, click **Apply** in the **Actions** pane.</span></span>  
  
   <span data-ttu-id="f3401-120">指定することで、ASP.NET アプリケーションおよび Web サービスのデバッグを無効にする、\<コンパイル デバッグ ="false"\> web アプリケーションの web.config ファイルのセクション。</span><span class="sxs-lookup"><span data-stu-id="f3401-120">Disable debugging for ASP.NET Applications and Web Services by specifying the \<compilation debug="false"\> section in the web.config file for the web application.</span></span>  
  
### <a name="tune-the-value-of-the-asp-threads-per-processor-limit-property"></a><span data-ttu-id="f3401-121">プロセッサ数あたりのスレッドの ASP 上限プロパティの値を調整します。</span><span class="sxs-lookup"><span data-stu-id="f3401-121">Tune the value of the ASP Threads Per Processor Limit property</span></span>  
 <span data-ttu-id="f3401-122">ASP**スレッドあたりプロセッサ数の上限**プロパティを IIS に作成するプロセッサあたりのワーカー スレッドの最大数を指定します。</span><span class="sxs-lookup"><span data-stu-id="f3401-122">The ASP **Threads Per Processor Limit** property specifies the maximum number of worker threads per processor that IIS creates.</span></span> <span data-ttu-id="f3401-123">プロセッサ使用率が 50% 以上を満たすまで、またはの上に、プロセッサごとのスレッド制限の値を増やします。</span><span class="sxs-lookup"><span data-stu-id="f3401-123">Increase the value for the Threads Per Processor Limit until the processor utilization meets at least 50 percent or above.</span></span> <span data-ttu-id="f3401-124">この設定に大きな影響を Web アプリケーションのスケーラビリティおよび、サーバーのパフォーマンス一般にします。</span><span class="sxs-lookup"><span data-stu-id="f3401-124">This setting can dramatically influence the scalability of your Web applications and the performance of your server in general.</span></span> <span data-ttu-id="f3401-125">このプロパティは、同時に実行可能な ASP 要求の最大数を定義するため、この設定は、ASP アプリケーションが外部コンポーネントへの拡張の呼び出しを行う場合を除いて既定値に残る必要があります。</span><span class="sxs-lookup"><span data-stu-id="f3401-125">Because this property defines the maximum number of ASP requests that can execute simultaneously, this setting should remain at the default value unless your ASP applications are making extended calls to external components.</span></span> <span data-ttu-id="f3401-126">この場合、スレッドあたりプロセッサ数の上限の値を増やすことができます。</span><span class="sxs-lookup"><span data-stu-id="f3401-126">In this case, you may increase the value of Threads Per Processor Limit.</span></span> <span data-ttu-id="f3401-127">これによりより多くの同時要求を処理する複数のスレッドを作成するサーバー。</span><span class="sxs-lookup"><span data-stu-id="f3401-127">Doing so allows the server to create more threads to handle more concurrent requests.</span></span> <span data-ttu-id="f3401-128">スレッドあたりプロセッサ数の上限の既定値は、25 です。</span><span class="sxs-lookup"><span data-stu-id="f3401-128">The default value of Threads Per Processor Limit is 25.</span></span> <span data-ttu-id="f3401-129">このプロパティの最大の推奨値は、100 です。</span><span class="sxs-lookup"><span data-stu-id="f3401-129">The maximum recommended value for this property is 100.</span></span>  
  
 <span data-ttu-id="f3401-130">プロセッサごとのスレッド制限の値を大きくには、以下の手順: で、**接続**ウィンドウで、web サーバーを選択して、クリックして選択**機能ビュー**、し、ダブルクリック、 **ASP**機能します。</span><span class="sxs-lookup"><span data-stu-id="f3401-130">To increase the value for the Threads Per Processor Limit follow these steps:In the **Connections** pane, select the web server, click to select **Features View**, and then double-click the **ASP** feature.</span></span>  
  
1. <span data-ttu-id="f3401-131">クリックして**開始**、 をポイント**すべてのプログラム**、 をクリックして**管理ツール**、順にクリックします**インターネット インフォメーション サービス (IIS) マネージャー**.</span><span class="sxs-lookup"><span data-stu-id="f3401-131">Click **Start**, point to **All Programs**, click **Administrative Tools**, and then click **Internet Information Services (IIS) Manager**.</span></span>  
  
2. <span data-ttu-id="f3401-132">**接続**ウィンドウで、web サーバーを選択して、クリックして選択**機能ビュー**、し、ダブルクリック、 **ASP**機能します。</span><span class="sxs-lookup"><span data-stu-id="f3401-132">In the **Connections** pane, select the web server, click to select **Features View**, and then double-click the **ASP** feature.</span></span>  
  
3. <span data-ttu-id="f3401-133">クリックして展開**制限プロパティ**[**動作**、] をクリックして**スレッドあたりプロセッサ数の上限**、目的の値を入力します**スレッドあたりプロセッサ数の上限。** クリック**適用**で、**アクション**ウィンドウ。</span><span class="sxs-lookup"><span data-stu-id="f3401-133">Click to expand **Limits Properties** under **Behavior**, click **Threads Per Processor Limit**, enter the desired value for **Threads Per Processor Limit** and click **Apply** in the **Actions** pane.</span></span>  
  
   <span data-ttu-id="f3401-134">プロパティを変更する方法について、\<制限\>要素 IIS 7.5 または 7.0 の\<asp\>要素を参照してください[ASP 制限\<制限\>](http://go.microsoft.com/fwlink/?LinkId=157483) (http://go.microsoft.com/fwlink/?LinkId=157483).</span><span class="sxs-lookup"><span data-stu-id="f3401-134">For more information about how to modify the properties in the \<limits\> element of the IIS 7.5/7.0 \<asp\> element, see [ASP Limits \<limits\>](http://go.microsoft.com/fwlink/?LinkId=157483) (http://go.microsoft.com/fwlink/?LinkId=157483).</span></span>  
  
> [!NOTE]  
>  <span data-ttu-id="f3401-135">このプロパティは、サーバー レベルでのみ適用できる、このプロパティの変更は、サーバー上で実行されるすべての Web サイトに影響します。</span><span class="sxs-lookup"><span data-stu-id="f3401-135">Because this property can only be applied at the server level, modification of this property affects all Web sites that run on the server.</span></span>  
  
### <a name="tune-the-value-of-the-asp-queue-length-property"></a><span data-ttu-id="f3401-136">ASP のキューの長さのプロパティの値を調整します。</span><span class="sxs-lookup"><span data-stu-id="f3401-136">Tune the value of the ASP Queue Length property</span></span>  
 <span data-ttu-id="f3401-137">このプロパティのチューニングの目的では、ASP 要求のキューがいっぱいになったとき、サーバーで HTTP 503 (サーバーがビジー状態です) エラーをクライアントに送信する頻度を最小限に抑えながら、良好な応答時間を確認します。</span><span class="sxs-lookup"><span data-stu-id="f3401-137">The goal of tuning this property is to ensure good response time while minimizing how often the server sends the HTTP 503 (Server Too Busy) error to clients when the ASP request queue is full.</span></span> <span data-ttu-id="f3401-138">ASP のキューの長さのプロパティの値が小さすぎる場合、サーバーはより高い頻度で HTTP 503 エラーを送信します。</span><span class="sxs-lookup"><span data-stu-id="f3401-138">If the value of ASP Queue Length property is too low, the server will send the HTTP 503 error with greater frequency.</span></span> <span data-ttu-id="f3401-139">ASP のキューの長さのプロパティの値が高すぎる場合、サーバーが応答していないことと実際の要求がキューで待機しているユーザーが感じる可能性があります。</span><span class="sxs-lookup"><span data-stu-id="f3401-139">If the value of ASP Queue Length property is too high, users might perceive that the server is not responding when in fact their request is waiting in the queue.</span></span> <span data-ttu-id="f3401-140">高トラフィックの期間中に、キューを視聴するには、web 要求の山と谷のパターンを識別する必要があります。</span><span class="sxs-lookup"><span data-stu-id="f3401-140">By watching the queue during periods of high traffic, you should discern a pattern of web request peaks and valleys.</span></span> <span data-ttu-id="f3401-141">ピーク時の値をメモし、ピーク時の値のすぐ上の ASP キューの長さのプロパティの値を設定します。</span><span class="sxs-lookup"><span data-stu-id="f3401-141">Make note of the peak value, and set the value of the ASP Queue Length property just above the peak value.</span></span> <span data-ttu-id="f3401-142">キューを使用して短期的な急増を処理、応答時間、ことを確認し、維持、予期しないスパイクが発生したときにオーバー ロードを回避するためにシステムを調整します。</span><span class="sxs-lookup"><span data-stu-id="f3401-142">Use the queue to handle short-term spikes, ensure response time, and throttle the system to avoid overload when sustained, unexpected spikes occur.</span></span> <span data-ttu-id="f3401-143">ASP キューの長さのプロパティを調整するためのデータがない場合、適切な開始点は、スレッドの合計にキューの 1 対 1 の比率を設定するになります。</span><span class="sxs-lookup"><span data-stu-id="f3401-143">If you do not have data for adjusting the ASP Queue Length property, a good starting point will be to set a one-to-one ratio of queues to total threads.</span></span> <span data-ttu-id="f3401-144">たとえば、4 つのプロセッサを使用して ASP スレッドごとのプロセッサ制限プロパティを 25 に設定されている場合 (4 \* 25 = 100 スレッド)、ASP キューの長さのプロパティを 100 に設定し、そこから調整します。</span><span class="sxs-lookup"><span data-stu-id="f3401-144">For example, if the ASP Threads Per Processor Limit property is set to 25 and you have four processors (4 \* 25 = 100 threads), set the ASP Queue Length property to 100 and tune from there.</span></span>  
  
 <span data-ttu-id="f3401-145">キューの長さの値を大きくプロパティは次の手順に従います。</span><span class="sxs-lookup"><span data-stu-id="f3401-145">To increase the value for the Queue Length property follow these steps:</span></span>  
  
1. <span data-ttu-id="f3401-146">クリックして**開始**、 をポイント**すべてのプログラム**、 をクリックして**管理ツール**、順にクリックします**インターネット インフォメーション サービス (IIS) マネージャー**.</span><span class="sxs-lookup"><span data-stu-id="f3401-146">Click **Start**, point to **All Programs**, click **Administrative Tools**, and then click **Internet Information Services (IIS) Manager**.</span></span>  
  
2. <span data-ttu-id="f3401-147">**接続**ウィンドウで、Web サーバーを選択して、クリックして選択**機能ビュー**、し、ダブルクリック、 **ASP**機能します。</span><span class="sxs-lookup"><span data-stu-id="f3401-147">In the **Connections** pane, select the Web server, click to select **Features View**, and then double-click the **ASP** feature.</span></span>  
  
3. <span data-ttu-id="f3401-148">クリックして展開**制限プロパティ**[**動作**、] をクリックして**キューの長さ**、目的の値を入力します**キューの長さ**し。クリックして**適用**で、**アクション**ウィンドウ。</span><span class="sxs-lookup"><span data-stu-id="f3401-148">Click to expand **Limits Properties** under **Behavior**, click **Queue Length**, enter the desired value for **Queue Length** and then click **Apply** in the **Actions** pane.</span></span>  
  
   <span data-ttu-id="f3401-149">プロパティを変更する方法について、\<制限\>要素 IIS 7.5 または 7.0 の\<asp\>要素を参照してください[ASP 制限\<制限\>](http://go.microsoft.com/fwlink/?LinkId=157483) (http://go.microsoft.com/fwlink/?LinkId=157483).</span><span class="sxs-lookup"><span data-stu-id="f3401-149">For more information about how to modify the properties in the \<limits\> element of the IIS 7.5/7.0 \<asp\> element, see [ASP Limits \<limits\>](http://go.microsoft.com/fwlink/?LinkId=157483) (http://go.microsoft.com/fwlink/?LinkId=157483).</span></span>  
  
> [!NOTE]  
>  <span data-ttu-id="f3401-150">このプロパティは、サーバー レベルでのみ適用できる、このプロパティの変更は、サーバー上で実行されるすべての Web サイトに影響します。</span><span class="sxs-lookup"><span data-stu-id="f3401-150">Because this property can only be applied at the server level, modification of this property affects all Web sites that run on the server.</span></span>  
  
### <a name="tune-the-maxpoolthreads-registry-entry"></a><span data-ttu-id="f3401-151">MaxPoolThreads のレジストリ エントリを調整します。</span><span class="sxs-lookup"><span data-stu-id="f3401-151">Tune the MaxPoolThreads registry entry</span></span>  
 <span data-ttu-id="f3401-152">この設定では、プロセッサごとに作成するプールのスレッドの数を指定します。</span><span class="sxs-lookup"><span data-stu-id="f3401-152">This setting specifies the number of pool threads to create per processor.</span></span> <span data-ttu-id="f3401-153">プールのスレッドでは、ネットワーク要求と受信要求の処理をご覧ください。</span><span class="sxs-lookup"><span data-stu-id="f3401-153">Pool threads watch the network for requests and process incoming requests.</span></span> <span data-ttu-id="f3401-154">MaxPoolThreads 数では ISAPI アプリケーションで使用されるスレッドは含まれません。</span><span class="sxs-lookup"><span data-stu-id="f3401-154">The MaxPoolThreads count does not include threads that are consumed by ISAPI applications.</span></span> <span data-ttu-id="f3401-155">一般に、プロセッサごとに 20 個を超えるスレッドを作成しないでください。</span><span class="sxs-lookup"><span data-stu-id="f3401-155">Generally, you should not create more than 20 threads per processor.</span></span> <span data-ttu-id="f3401-156">MaxPoolThreads では、既定値は 4 の HKEY_LOCAL_MACHINE\System\CurrentControlSet\Services\InetInfo\Parameters\ にある REG_DWORD レジストリ エントリです。</span><span class="sxs-lookup"><span data-stu-id="f3401-156">MaxPoolThreads is a REG_DWORD registry entry located at HKEY_LOCAL_MACHINE\System\CurrentControlSet\Services\InetInfo\Parameters\ with a default value of 4.</span></span>  
  
### <a name="disable-wcf-services-tracing"></a><span data-ttu-id="f3401-157">WCF サービスのトレースを無効にします。</span><span class="sxs-lookup"><span data-stu-id="f3401-157">Disable WCF services tracing</span></span>  
 <span data-ttu-id="f3401-158">WCF サービスの運用環境でのトレースを無効にするには、構成エディター ツール (SvcConfigEditor.exe) を使用します。</span><span class="sxs-lookup"><span data-stu-id="f3401-158">Use the Configuration Editor Tool (SvcConfigEditor.exe) to disable WCF services tracing in a production environment.</span></span> <span data-ttu-id="f3401-159">構成エディター ツールの詳細については、次を参照してください。[構成エディター ツール (SvcConfigEditor.exe)](http://go.microsoft.com/fwlink/?LinkID=127070) (http://go.microsoft.com/fwlink/?LinkID=127070)します。</span><span class="sxs-lookup"><span data-stu-id="f3401-159">For more information about the Configuration Editor Tool, see [Configuration Editor Tool (SvcConfigEditor.exe)](http://go.microsoft.com/fwlink/?LinkID=127070) (http://go.microsoft.com/fwlink/?LinkID=127070).</span></span>  
  
### <a name="configure-aspnet-20-maxconcurrentrequests-for-iis-7570-integrated-mode"></a><span data-ttu-id="f3401-160">IIS 7.5 または 7.0 統合モード用の ASP.NET 2.0 MaxConcurrentRequests の構成します。</span><span class="sxs-lookup"><span data-stu-id="f3401-160">Configure ASP.NET 2.0 MaxConcurrentRequests for IIS 7.5/7.0 Integrated mode</span></span>  
 <span data-ttu-id="f3401-161">ASP.NET 2.0 は、IIS 7.5 または 7.0 統合モードでホストされている、ときにスレッド処理が異なりますよりで IIS 7.5 または 7.0 でクラシック モード。</span><span class="sxs-lookup"><span data-stu-id="f3401-161">When ASP.NET 2.0 is hosted on IIS 7.5/7.0 in Integrated Mode, the use of threads is handled differently than on IIS 7.5/7.0 in Classic Mode.</span></span> <span data-ttu-id="f3401-162">ASP.NET 2.0 が統合モードで IIS 7.5 でホストされている場合、ASP.NET 2.0 は、同時に実行される要求を同時に実行するスレッドの数ではなく要求の数を制限します。</span><span class="sxs-lookup"><span data-stu-id="f3401-162">When ASP.NET 2.0 is hosted on IIS 7.5 in Integrated mode, ASP.NET 2.0 restricts the number of concurrently executing requests instead of the number of threads concurrently executing requests.</span></span> <span data-ttu-id="f3401-163">同期のシナリオでこれ直接制限されましていないスレッドの数ため、要求の数には、スレッドの数と同じになります。</span><span class="sxs-lookup"><span data-stu-id="f3401-163">For synchronous scenarios, this will indirectly limit the number of threads because the number of requests will be the same as the number of threads.</span></span> <span data-ttu-id="f3401-164">非同期のシナリオでは、要求とスレッドの数は可能性があります非常に異なるスレッドよりもはるかに要求する可能性があるためです。</span><span class="sxs-lookup"><span data-stu-id="f3401-164">But for asynchronous scenarios, the number of requests and threads will likely be very different because you could have far more requests than threads.</span></span> <span data-ttu-id="f3401-165">ASP.NET 2.0 を IIS 7.5 統合モードでを実行すると、minFreeThreads と machine.config ファイル内の"httpRuntime"要素の minLocalRequestFreeThreads は無視されます。</span><span class="sxs-lookup"><span data-stu-id="f3401-165">When you run ASP.NET 2.0 on IIS 7.5 in integrated mode, the minFreeThreads and minLocalRequestFreeThreads of the “httpRuntime” element in the machine.config are ignored.</span></span> <span data-ttu-id="f3401-166">IIS 7.5 統合モードでは、HKEY_LOCAL_MACHINE\SOFTWARE\Microsoft\ASP.NET\2.0.50727.0 内 MaxConcurrentRequestsPerCPU をという名前の DWORD は、CPU あたりの同時要求の数を決定します。</span><span class="sxs-lookup"><span data-stu-id="f3401-166">For IIS 7.5 Integrated mode, a DWORD named MaxConcurrentRequestsPerCPU within HKEY_LOCAL_MACHINE\SOFTWARE\Microsoft\ASP.NET\2.0.50727.0 determines the number of concurrent requests per CPU.</span></span> <span data-ttu-id="f3401-167">既定では、レジストリ キーが存在しないと、CPU あたりの要求の数は 12 に制限されます。</span><span class="sxs-lookup"><span data-stu-id="f3401-167">By default, the registry key does not exist and the number of requests per CPU is limited to 12.</span></span> <span data-ttu-id="f3401-168">.NET framework 3.5 SP1 には、aspnet.config ファイルを使用して、構成の IIS アプリケーション プールをサポートする v2.0 バイナリに更新プログラムが含まれています。</span><span class="sxs-lookup"><span data-stu-id="f3401-168">.NET Framework 3.5 SP1 includes an update to the v2.0 binaries that supports configuring IIS application pools via the aspnet.config file.</span></span> <span data-ttu-id="f3401-169">この構成は、統合モードのみに適用されます (クラシックまたは ISAPI モードでは、これらの設定を無視します)。既定値を持つ新しい aspnet.config 構成セクションは、次に示します。</span><span class="sxs-lookup"><span data-stu-id="f3401-169">This configuration applies to integrated mode only (Classic/ISAPI mode ignores these settings).The new aspnet.config config section with default values is listed below:</span></span>  
  
```  
<system.web>  
   <applicationPool maxConcurrentRequestsPerCPU="12" maxConcurrentThreadsPerCPU="0" requestQueueLimit="5000"/>  
</system.web>  
```  
  
 <span data-ttu-id="f3401-170">IIS 7.5 統合モードで、maxWorkerThreads と maxIoThreads パラメーター、machine.config ファイルの"processModel"セクションでは、本質的に、要求の実行の数を制御するのには使用されませんが、CLR スレッド プールのサイズを制御するのには使用されます。ASP.NET によって使用されます。</span><span class="sxs-lookup"><span data-stu-id="f3401-170">In IIS 7.5 Integrated Mode, the maxWorkerThreads and the maxIoThreads parameters in the “processModel” section of the machine.config file are not used to govern the number of running requests, per se, but they are still used to govern the size of the CLR thread pool used by ASP.NET.</span></span> <span data-ttu-id="f3401-171">ときに、machine.config の"processModel"セクションが"autoConfig = true"(既定の設定では、) アプリケーション プールを論理 CPU あたりの最大 100 個のワーカー スレッド (MaxWorkerThreads) この付与されます。</span><span class="sxs-lookup"><span data-stu-id="f3401-171">When the “processModel” section of the machine.config has “autoConfig=true” (which is the default setting), this will give the application pool up to 100 worker threads (MaxWorkerThreads) per logical CPU.</span></span> <span data-ttu-id="f3401-172">したがって 2 つのデュアル コア Cpu で共通の汎用的なサーバーは 400 MaxWorkerThreads になります。</span><span class="sxs-lookup"><span data-stu-id="f3401-172">So a common commodity server with 2 dual-core CPUs would have 400 MaxWorkerThreads.</span></span> <span data-ttu-id="f3401-173">要件の高いアプリケーションを除くすべてのための十分な場合があります。</span><span class="sxs-lookup"><span data-stu-id="f3401-173">This should be sufficient for all but the most demanding applications.</span></span>  
  
 <span data-ttu-id="f3401-174">IIS 7.5 で ASP.NET のスレッドの使用量を構成する方法の詳細については、次を参照してください。 [Thomas Marquardt のブログを IIS 7.0 で ASP.NET スレッドの使用に関する](http://go.microsoft.com/fwlink/?LinkId=157518)(http://go.microsoft.com/fwlink/?LinkId=157518)します。</span><span class="sxs-lookup"><span data-stu-id="f3401-174">For more information about configuring ASP.NET Thread Usage on IIS 7.5, see [Thomas Marquardt's Blog on ASP.NET Thread Usage on IIS 7.0](http://go.microsoft.com/fwlink/?LinkId=157518) (http://go.microsoft.com/fwlink/?LinkId=157518).</span></span>  
  
### <a name="configure-aspnet-4-maxconcurrentrequests-for-iis-7570-integrated-mode"></a><span data-ttu-id="f3401-175">IIS 7.5 または 7.0 統合モード用の ASP.NET 4 MaxConcurrentRequests の構成します。</span><span class="sxs-lookup"><span data-stu-id="f3401-175">Configure ASP.NET 4 MaxConcurrentRequests for IIS 7.5/7.0 Integrated mode</span></span>  
 <span data-ttu-id="f3401-176">.NET Framework 4 で maxConcurrentRequestsPerCPU の既定の設定は非常に大きい数である 5000、したがってにより、多数の非同期の要求を同時に実行します。</span><span class="sxs-lookup"><span data-stu-id="f3401-176">With .NET Framework 4, the default setting for maxConcurrentRequestsPerCPU is 5000 which is a very large number and therefore will allow plenty of asynchronous requests to execute concurrently.</span></span> <span data-ttu-id="f3401-177">詳細については、次を参照してください。 [ \<applicationPool\>要素 (Web 設定)](http://go.microsoft.com/fwlink/?LinkID=205339) (http://go.microsoft.com/fwlink/?LinkID=205339)します。</span><span class="sxs-lookup"><span data-stu-id="f3401-177">For more information, see [\<applicationPool\> Element (Web Settings)](http://go.microsoft.com/fwlink/?LinkID=205339) (http://go.microsoft.com/fwlink/?LinkID=205339).</span></span>  
  
 <span data-ttu-id="f3401-178">IIS 7.5 または 7.0 の Integrated モードの場合は、HKEY_LOCAL_MACHINE\SOFTWARE\Microsoft\ASP.NET\4.0.30319.0 内 MaxConcurrentRequestsPerCPU をという名前の DWORD は、CPU あたりの同時要求の数を決定します。</span><span class="sxs-lookup"><span data-stu-id="f3401-178">For IIS 7.5/7.0 Integrated mode, a DWORD named MaxConcurrentRequestsPerCPU within HKEY_LOCAL_MACHINE\SOFTWARE\Microsoft\ASP.NET\4.0.30319.0 determines the number of concurrent requests per CPU.</span></span> <span data-ttu-id="f3401-179">既定では、レジストリ キーが存在しないと、CPU あたりの要求の数が 5000 に制限されています。</span><span class="sxs-lookup"><span data-stu-id="f3401-179">By default, the registry key does not exist and the number of requests per CPU is limited to 5000.</span></span>  
  
### <a name="enable-iis-http-compression"></a><span data-ttu-id="f3401-180">IIS の HTTP 圧縮を有効にします。</span><span class="sxs-lookup"><span data-stu-id="f3401-180">Enable IIS HTTP compression</span></span>  
 <span data-ttu-id="f3401-181">使用できる帯域幅をより効率的に使用するには、IIS の HTTP 圧縮を有効にします。</span><span class="sxs-lookup"><span data-stu-id="f3401-181">To more efficiently use available bandwidth, enable IIS HTTP compression.</span></span> <span data-ttu-id="f3401-182">HTTP 圧縮は、ローカル ストレージまたは UNC リソースからコンテンツを提供するかどうかに関係なく圧縮が有効なブラウザーおよび IIS の間で高速化の転送時間を提供します。</span><span class="sxs-lookup"><span data-stu-id="f3401-182">HTTP compression provides faster transmission time between compression-enabled browsers and IIS, regardless of whether your content is served from local storage or a UNC resource.</span></span>  
  
-   <span data-ttu-id="f3401-183">**Web サーバー レベルで圧縮を構成します。**</span><span class="sxs-lookup"><span data-stu-id="f3401-183">**To configure compression at the Web server level:**</span></span>  
  
    1.  <span data-ttu-id="f3401-184">クリックして**開始**、 をポイント**すべてのプログラム**、 をクリックして**管理ツール**、順にクリックします**インターネット インフォメーション サービス (IIS) マネージャー**.</span><span class="sxs-lookup"><span data-stu-id="f3401-184">Click **Start**, point to **All Programs**, click **Administrative Tools**, and then click **Internet Information Services (IIS) Manager**.</span></span>  
  
    2.  <span data-ttu-id="f3401-185">**接続**ウィンドウで、Web サーバーを選択して、クリックして選択**機能ビュー**、し、ダブルクリック、**圧縮**機能します。</span><span class="sxs-lookup"><span data-stu-id="f3401-185">In the **Connections** pane, select the Web server, click to select **Features View**, and then double-click the **Compression** feature.</span></span>  
  
    3.  <span data-ttu-id="f3401-186">必要な圧縮オプションを設定し、クリックして**適用**で、**アクション**ウィンドウ。</span><span class="sxs-lookup"><span data-stu-id="f3401-186">Set the desired compression options and then click **Apply** in the **Actions** pane.</span></span>  
  
-   <span data-ttu-id="f3401-187">**Web サイト レベルで圧縮を構成します。**</span><span class="sxs-lookup"><span data-stu-id="f3401-187">**To configure compression at the Web site level:**</span></span>  
  
    1.  <span data-ttu-id="f3401-188">クリックして**開始**、 をポイント**すべてのプログラム**、 をクリックして**管理ツール**、順にクリックします**インターネット インフォメーション サービス (IIS) マネージャー**.</span><span class="sxs-lookup"><span data-stu-id="f3401-188">Click **Start**, point to **All Programs**, click **Administrative Tools**, and then click **Internet Information Services (IIS) Manager**.</span></span>  
  
    2.  <span data-ttu-id="f3401-189">**接続**] ウィンドウをクリックして展開**サイト**をクリックして圧縮を構成するには、[選択を Web サイトを選択**機能ビュー**とダブルクリックし、**圧縮**機能します。</span><span class="sxs-lookup"><span data-stu-id="f3401-189">In the **Connections** pane, click to expand **Sites**, click to select the Web site for which you would like to configure compression, click to select **Features View**, and then double-click the **Compression** feature.</span></span>  
  
    3.  <span data-ttu-id="f3401-190">必要な圧縮オプションを設定し、クリックして**適用**で、**アクション**ウィンドウ。</span><span class="sxs-lookup"><span data-stu-id="f3401-190">Set the desired compression options and then click **Apply** in the **Actions** pane.</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="f3401-191">参照</span><span class="sxs-lookup"><span data-stu-id="f3401-191">See Also</span></span>  
 [<span data-ttu-id="f3401-192">パフォーマンスの最適化</span><span class="sxs-lookup"><span data-stu-id="f3401-192">Optimizing Performance</span></span>](../technical-guides/optimizing-performance.md)