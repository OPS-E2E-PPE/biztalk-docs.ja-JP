---
title: メッセージの考慮事項 |Microsoft Docs
ms.custom: ''
ms.date: 06/08/2017
ms.prod: biztalk-server
ms.reviewer: ''
ms.suite: ''
ms.tgt_pltfrm: ''
ms.topic: article
ms.assetid: 5ca466fa-426c-46f6-a400-747ff51ff8f4
caps.latest.revision: 6
author: MandiOhlinger
ms.author: mandia
manager: anneta
ms.openlocfilehash: 9981dbce13f613afeb5c061a96d319cddd6c5c94
ms.sourcegitcommit: 381e83d43796a345488d54b3f7413e11d56ad7be
ms.translationtype: MT
ms.contentlocale: ja-JP
ms.lasthandoff: 05/07/2019
ms.locfileid: "65298444"
---
# <a name="message-considerations"></a><span data-ttu-id="03181-102">メッセージの考慮事項</span><span class="sxs-lookup"><span data-stu-id="03181-102">Message Considerations</span></span>
[!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] <span data-ttu-id="03181-103">送信、受信、変換、およびメッセージの処理には、広範な機能セットを提供します。</span><span class="sxs-lookup"><span data-stu-id="03181-103">provides an extensive set of capabilities for sending, receiving, transforming, and processing messages.</span></span> <span data-ttu-id="03181-104">これらの機能のいくつか挙げます。</span><span class="sxs-lookup"><span data-stu-id="03181-104">Some of these capabilities include:</span></span>  
  
- <span data-ttu-id="03181-105">HTTP、SMTP、FTP または FTPS、および WCF などの複数の業界標準トランスポートを使用してメッセージを送受信する機能。</span><span class="sxs-lookup"><span data-stu-id="03181-105">Ability to send and receive messages using multiple industry standard transports such as HTTP, SMTP, FTP/FTPS  and WCF.</span></span> <span data-ttu-id="03181-106">使用してメッセージを送受信するためのトランスポート レベルのサポートを実現[!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)]アダプター。</span><span class="sxs-lookup"><span data-stu-id="03181-106">Transport level support for sending and receiving messages is accomplished using [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] adapters.</span></span> <span data-ttu-id="03181-107">統合の[!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)]さまざまな「基幹業務」でメッセージの処理 (LOB) アプリケーションが使用可能な次のいずれかを使用して実現[!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)]アクセラレータまたは BizTalk Accelerator 用 HIPAA、BizTalk Accelerator for SWIFT などのアダプターまたは、BizTalk の SAP アダプターを選択します。</span><span class="sxs-lookup"><span data-stu-id="03181-107">Integration of [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] message processing with various “line of business” (LOB) applications is accomplished using one of many available [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] accelerators or adapters, such as the BizTalk Accelerator for HIPAA, BizTalk Accelerator for SWIFT, or the BizTalk SAP adapter.</span></span> <span data-ttu-id="03181-108">これらのアダプターとアクセラレータは、さらに簡単に統合に対応する業界標準に準拠している[!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)]特定業界標準に準拠しているシステムとします。</span><span class="sxs-lookup"><span data-stu-id="03181-108">These accelerators and adapters conform to industry standards which in turn accommodates straightforward integration of [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] with systems that conform to particular industry standard.</span></span>  
  
- <span data-ttu-id="03181-109">プレーン テキスト、XML、バイナリなどの複数のメッセージ形式と他のユーザーを処理する権限です。</span><span class="sxs-lookup"><span data-stu-id="03181-109">Ability to process multiple message formats, such as plain text, XML, binary, and others.</span></span> <span data-ttu-id="03181-110">この機能は、の統合を提供するために重要な[!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)]多様な取引にします。</span><span class="sxs-lookup"><span data-stu-id="03181-110">This functionality is crucial to providing integration of [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] with a broad spectrum of trading partners.</span></span>  
  
- <span data-ttu-id="03181-111">メッセージの変換またはドキュメントのマッピングをサポートします。</span><span class="sxs-lookup"><span data-stu-id="03181-111">Support for message transformation or document mapping.</span></span> <span data-ttu-id="03181-112">マッピングには、さまざまなスキーマ間のデータの変換が対応しています。</span><span class="sxs-lookup"><span data-stu-id="03181-112">Mapping accommodates the transformation of data between different schemas.</span></span> <span data-ttu-id="03181-113">たとえば、マッピングを使用して、顧客に送信する出荷通知の受信に受信した顧客の注文書の内容を変換する可能性があります。</span><span class="sxs-lookup"><span data-stu-id="03181-113">For example, mapping could be used to transform the contents of a received customer purchase order into a receipt with shipping notification to be sent back to the customer.</span></span>  
  
- <span data-ttu-id="03181-114">BizTalk Server オーケストレーションは、時間、組織、アプリケーション、およびユーザーにまたがるビジネス プロセスを作成するための機能を提供します。</span><span class="sxs-lookup"><span data-stu-id="03181-114">BizTalk Server orchestrations provide functionality for creating business processes that span time, organizations, applications, and people.</span></span> [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] <span data-ttu-id="03181-115">(従来の「アトミック」MSDTC 型、長時間トランザクションの両方)、トランザクションのサポートを含むビジネス プロセスを開発するオーケストレーション デザイナーのグラフィカル インターフェイスを提供する例外処理、デバッグ、追跡、および呼び出し元の機能拡張外部コードです。</span><span class="sxs-lookup"><span data-stu-id="03181-115">provides the Orchestration Designer graphical interface to develop business processes that include support for transactions (both traditional “atomic” MSDTC type and long running), exception handling, debugging, tracking, and extensibility for calling external code.</span></span>  
  
  > [!NOTE]
  >  <span data-ttu-id="03181-116">参照してください[オーケストレーションのパフォーマンスの最適化](../technical-guides/optimizing-orchestration-performance.md)でオーケストレーションを使用する場合に従うベスト プラクティスに関するガイダンスについては[!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)]します。</span><span class="sxs-lookup"><span data-stu-id="03181-116">See [Optimizing Orchestration Performance](../technical-guides/optimizing-orchestration-performance.md) for guidance about best practices to follow when using orchestrations in [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)].</span></span> <span data-ttu-id="03181-117">トピックを参照して[オーケストレーション デザイナーを使用してオーケストレーションを作成](http://go.microsoft.com/fwlink/?LinkId=158997)(<http://go.microsoft.com/fwlink/?LinkId=158997>) で、[!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)]オーケストレーション デザイナーの使用の詳細についてはドキュメントです。</span><span class="sxs-lookup"><span data-stu-id="03181-117">See the topic [Creating Orchestrations Using Orchestration Designer](http://go.microsoft.com/fwlink/?LinkId=158997) (<http://go.microsoft.com/fwlink/?LinkId=158997>) in the [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] documentation for in-depth information about using Orchestration Designer.</span></span>  
  
  <span data-ttu-id="03181-118">このトピックの残りの部分では、BizTalk Server 環境で処理されるメッセージのサイズ、複雑さ、および配布プロファイルに関連するパフォーマンスの考慮事項について説明します。</span><span class="sxs-lookup"><span data-stu-id="03181-118">The remainder of this topic describes performance considerations related to the size, complexity, and distribution profile of messages that are processed in a BizTalk Server environment.</span></span>  
  
## <a name="message-size-considerations"></a><span data-ttu-id="03181-119">メッセージのサイズに関する考慮事項</span><span class="sxs-lookup"><span data-stu-id="03181-119">Message size considerations</span></span>  
 <span data-ttu-id="03181-120">BizTalk Server には、メッセージのサイズに制限はありません、中に実質的な制限と依存関係を行う必要はサイズの大きいメッセージより処理リソースを必要とするために、メッセージのサイズを最小限に抑えます。</span><span class="sxs-lookup"><span data-stu-id="03181-120">While BizTalk Server imposes no restriction on message size, practical limits and dependencies might require you to minimize the size of your messages because large messages require more processing resources.</span></span> <span data-ttu-id="03181-121">同様のメッセージのサイズが増えると、全体的なスループット (1 秒あたりに処理されるメッセージ) が減少します。</span><span class="sxs-lookup"><span data-stu-id="03181-121">As message size increases, overall throughput (messages processed per second) decreases.</span></span> <span data-ttu-id="03181-122">ときにシナリオを設計し、容量計画は、メッセージの平均サイズ、メッセージの種類、および BizTalk Server で処理するメッセージの数を検討します。</span><span class="sxs-lookup"><span data-stu-id="03181-122">When designing your scenario and planning for capacity, consider the average message size, message type, and number of messages BizTalk Server processes.</span></span> <span data-ttu-id="03181-123">不必要に長い属性とタグの名前を使用しないでください。可能であれば、50 文字の長さを維持します。</span><span class="sxs-lookup"><span data-stu-id="03181-123">Do not use unnecessarily long attribute and tag names; if possible, keep the length under 50 characters.</span></span> <span data-ttu-id="03181-124">たとえば、メッセージ サイズは 1 バイトしかを 200 文字のタグ名は使用しないでください。</span><span class="sxs-lookup"><span data-stu-id="03181-124">For example, do not use a 200-character tag name for a message size of only 1 byte.</span></span>  
  
 <span data-ttu-id="03181-125">受信したメッセージのメモリ内サイズを超えるサイズの大きいメッセージのフラグメント サイズ (BizTalk Server 管理コンソールで BizTalk グループのグループのプロパティ ページで構成可能) 指定されたバイト数と、メッセージがフラグメントに分割されます。指定したサイズ。</span><span class="sxs-lookup"><span data-stu-id="03181-125">If the in-memory size of a received message exceeds the number of bytes specified for the Large message fragment size (configurable on the Group Properties page for the BizTalk Group in the BizTalk Server Administration console), the message is split into fragments of the specified size.</span></span> <span data-ttu-id="03181-126">さらに、フラグメントが書き込まれます Microsoft 分散トランザクション コーディネーター (MSDTC) トランザクションのコンテキストでメッセージ ボックスに次のようにします。</span><span class="sxs-lookup"><span data-stu-id="03181-126">Additionally, the fragments are written into the Messagebox under the context of a Microsoft Distributed Transaction Coordinator (MSDTC) transaction as follows:</span></span>  
  
1. <span data-ttu-id="03181-127">受信メッセージは、既存の MSDTC トランザクションのコンテキストで公開されているが、このトランザクションは、メッセージのフラグメントを BizTalk メッセージ ボックス データベースに書き込むときに使用されます。</span><span class="sxs-lookup"><span data-stu-id="03181-127">If the incoming message is being published in the context of an existing MSDTC transaction, this transaction is used when writing the message fragments to the BizTalk MessageBox database.</span></span> <span data-ttu-id="03181-128">たとえば、受信メッセージは、トランザクションを要求するように構成されたトランザクション アダプターによって公開されているが場合、既存のトランザクションは使用、メッセージのフラグメントをメッセージ ボックス データベースに書き込むときに。</span><span class="sxs-lookup"><span data-stu-id="03181-128">For example, if the incoming message is being published by a transactional adapter configured to require transactions, the existing transaction would be used when writing the message fragments to the MessageBox database.</span></span>  
  
2. <span data-ttu-id="03181-129">受信メッセージが既存の MSDTC トランザクションのコンテキストで公開されていない場合、メッセージのフラグメントをメッセージ ボックス データベースに書き込む新しい MSDTC トランザクションが作成されます。</span><span class="sxs-lookup"><span data-stu-id="03181-129">If the incoming message is not being published in the context of an existing MSDTC transaction, a new MSDTC transaction is created to write the message fragments to the MessageBox database.</span></span> <span data-ttu-id="03181-130">このシナリオでは、次の考慮事項が適用されます。</span><span class="sxs-lookup"><span data-stu-id="03181-130">In this scenario, the following considerations apply:</span></span>  
  
   -   <span data-ttu-id="03181-131">値を大きく**サイズの大きいメッセージのフラグメント サイズ**がサイズの大きいメッセージが断片化しているし、関連付けられた MSDTC トランザクションの作成の頻度を減らすの頻度を減らします。</span><span class="sxs-lookup"><span data-stu-id="03181-131">Increase the value for **Large message fragment size** to reduce the frequency with which large messages are fragmented and reduce the incidence of creating the associated MSDTC transactions.</span></span> <span data-ttu-id="03181-132">MSDTC トランザクションを使いすぎるとパフォーマンスの観点で無駄が多いため、この操作を実行する必要があります。</span><span class="sxs-lookup"><span data-stu-id="03181-132">This should be done because excessive use of MSDTC transactions is expensive from a performance standpoint.</span></span> <span data-ttu-id="03181-133">この値を大きくすると使用できるメモリの量も増える可能性があるので注意してください。</span><span class="sxs-lookup"><span data-stu-id="03181-133">Note that increasing this value may also increase the amount of available memory that is used.</span></span>  
  
   -   <span data-ttu-id="03181-134">最大許容される MSDTC トランザクションのタイムアウト値をメッセージ ボックスにメッセージを書き込む 60 分より長くかかるトランザクション タイムアウトし、エラーが発生すると、メッセージを書き込む試行が失敗し、ロールバックされます。</span><span class="sxs-lookup"><span data-stu-id="03181-134">If it takes longer than the maximum allowable MSDTC transaction timeout of 60 minutes to write a message to the MessageBox, the transaction times out, an error occurs, and the attempt to write the message fails and is rolled back.</span></span> <span data-ttu-id="03181-135">**サイズの大きいメッセージのフラグメント サイズ**値は非常に大きなメッセージを処理するときに、この問題を回避するために大ききます。</span><span class="sxs-lookup"><span data-stu-id="03181-135">The **Large message fragment size** value should be increased enough to avoid this problem when processing very large messages.</span></span> <span data-ttu-id="03181-136">使用できるメモリの量に応じて、この値を最大値 1000000 バイトに設定する必要があります。</span><span class="sxs-lookup"><span data-stu-id="03181-136">Depending on available memory, this value should be increased up to a maximum value of 1000000 bytes.</span></span>  
  
   -   <span data-ttu-id="03181-137">メッセージの各フラグメントは、メッセージ ボックス データベースに対して 1 つ以上の SQL Server データベース ロックを作成します。</span><span class="sxs-lookup"><span data-stu-id="03181-137">Each message fragment in a message creates one or more SQL Server database locks against the MessageBox database.</span></span> <span data-ttu-id="03181-138">ロックの数が数十万を超える場合 SQL Server が"ロック"の範囲外のエラーを生成することができます。</span><span class="sxs-lookup"><span data-stu-id="03181-138">When the number of locks exceeds several hundred thousand, it is possible that SQL Server will generate “out of lock” errors.</span></span> <span data-ttu-id="03181-139">この問題が発生した場合の値を大きく**サイズの大きいメッセージのフラグメント サイズ**(これは、メッセージ ボックス データベースに対して行われた SQL Server データベース ロックの数を減らす) フラグメントの数の削減やハウジングを検討してください、64 ビット バージョンの SQL Server でメッセージ ボックス データベースです。</span><span class="sxs-lookup"><span data-stu-id="03181-139">If this problem occurs, increase the value for **Large message fragment size** to reduce the number of fragments (which decreases the number of SQL Server database locks made against the MessageBox database) or consider housing your MessageBox database on a 64-bit version of SQL Server.</span></span> <span data-ttu-id="03181-140">使用可能なロックの数よりも SQL Server の 32 ビット バージョンの SQL Server での 64 ビット バージョンでは大幅に高くなっています。</span><span class="sxs-lookup"><span data-stu-id="03181-140">The number of available locks is significantly higher on the 64-bit version of SQL Server than on a 32-bit version of SQL Server.</span></span> <span data-ttu-id="03181-141">次の数式は、32 ビット バージョンの SQL Server にメッセージ ボックス データベースが格納されているときに、インターチェンジごとのメッセージの最大数を推定を使用できます。</span><span class="sxs-lookup"><span data-stu-id="03181-141">The following formula can be used to estimate the maximum number of messages per interchange when the MessageBox database is housed on a 32-bit version of SQL Server:</span></span>  
  
       ```  
       200,000 / (Number of CPUs * BatchSize * MessagingThreadPoolSize)  
       ```  
  
   <span data-ttu-id="03181-142">BizTalk Server がサイズの大きいメッセージを処理するためのガイドラインなど、サイズの大きいメッセージを処理する方法の詳細については、次を参照してください。[どのように BizTalk Server プロセス サイズの大きいメッセージ](http://go.microsoft.com/fwlink/?LinkID=154680)(http://go.microsoft.com/fwlink/?LinkID=154680)します。</span><span class="sxs-lookup"><span data-stu-id="03181-142">For more information about how BizTalk Server processes large messages, including guidelines for processing large messages, see [How BizTalk Server Processes Large Messages](http://go.microsoft.com/fwlink/?LinkID=154680) (http://go.microsoft.com/fwlink/?LinkID=154680).</span></span>  
  
## <a name="message-type-considerations"></a><span data-ttu-id="03181-143">メッセージの種類に関する考慮事項</span><span class="sxs-lookup"><span data-stu-id="03181-143">Message type considerations</span></span>  
 <span data-ttu-id="03181-144">2 つの主な形式のいずれかで BizTalk Server にメッセージを受信します。XML ファイルまたはフラット ファイル。</span><span class="sxs-lookup"><span data-stu-id="03181-144">Messages are received into BizTalk Server in one of two primary formats: XML files or flat files.</span></span> <span data-ttu-id="03181-145">メッセージの種類は、XML とフラット ファイル メッセージのさまざまなリソース要件のためメッセージの配布プロファイルに常にファクタリングする必要があります。</span><span class="sxs-lookup"><span data-stu-id="03181-145">Message type should always be factored into the message distribution profile because of the varying resource requirements of XML and flat file messages.</span></span>  
  
-   <span data-ttu-id="03181-146">**XML ファイル**BizTalk Server でパススルー ルーティング以外のメッセージ処理を実行するためには、メッセージは、XML ファイル形式である必要があります。</span><span class="sxs-lookup"><span data-stu-id="03181-146">**XML files** In order for BizTalk Server to perform any processing on a message other than pass-through routing, the message must be in the XML file format.</span></span>  
  
-   <span data-ttu-id="03181-147">**フラット ファイル**フラット ファイルは、BizTalk Server でパススルー ルーティング以外の処理を行う前に、XML 形式に解析する必要があります。</span><span class="sxs-lookup"><span data-stu-id="03181-147">**Flat files** Flat files must be parsed into an XML format before BizTalk Server can perform any processing other than pass-through routing.</span></span> <span data-ttu-id="03181-148">XML ファイルでフラット ファイルを解析すると、ファイルのサイズが非常に大きくなる可能性があります。</span><span class="sxs-lookup"><span data-stu-id="03181-148">Parsing a flat file into an XML file can greatly increase the size of the file.</span></span> <span data-ttu-id="03181-149">フラット ファイルには、データに関する説明情報を持つ XML タグが含まれません。</span><span class="sxs-lookup"><span data-stu-id="03181-149">Flat files do not contain XML tags with descriptive information about their data.</span></span> <span data-ttu-id="03181-150">一方、XML ファイルは、説明的な XML タグにすべてのデータを格納します。</span><span class="sxs-lookup"><span data-stu-id="03181-150">XML files, on the other hand, wrap all of their data in descriptive XML tags.</span></span> <span data-ttu-id="03181-151">一部のシナリオで解析サイズを増やし、フラット ファイルのファイルの XML タグに 10 個以上、に応じてどの程度わかりやすいデータが含まれているの倍数で。</span><span class="sxs-lookup"><span data-stu-id="03181-151">In some scenarios, parsing can increase the size of a flat file by a factor of 10 or more, depending on how much descriptive data is contained in the XML tags for the file.</span></span>  
  
-   <span data-ttu-id="03181-152">**フラット ファイル ドキュメントの XML ドキュメントの単一の CDATA セクション ノードでラップ**全体がフラット ファイル ドキュメントをラップするので、BizTalk Server に読み込む必要がありますこの種類のドキュメントが XML とフラット ファイルの両方の組み合わせですし、大量のメモリを多くの場合は、処理する前にメモリ。</span><span class="sxs-lookup"><span data-stu-id="03181-152">**Flat file documents wrapped in a single CDATA section node in an XML document** This type of document is a combination of both XML and flat file, and is often memory-intensive, since BizTalk Server must load the entire wrapped flat file document into memory before processing it.</span></span>  
  
## <a name="overload-considerations"></a><span data-ttu-id="03181-153">オーバー ロードに関する考慮事項</span><span class="sxs-lookup"><span data-stu-id="03181-153">Overload considerations</span></span>  
 <span data-ttu-id="03181-154">ほとんどの BizTalk Server アプリケーションは、特定の定数のレートでメッセージを受信しません。</span><span class="sxs-lookup"><span data-stu-id="03181-154">Most BizTalk Server applications do not receive messages at a specific, constant rate.</span></span> <span data-ttu-id="03181-155">通常、メッセージの処理は、山と谷の対象です。</span><span class="sxs-lookup"><span data-stu-id="03181-155">Typically, message processing is subject to peaks and valleys.</span></span> <span data-ttu-id="03181-156">、たとえば、オンライン銀行取引アプリケーション可能性があります処理、より大量のメッセージの最初と 1 日の最後に、1 日の中にし、午前中は、します。</span><span class="sxs-lookup"><span data-stu-id="03181-156">, For example, an online banking application may process a higher volume of messages first thing in the morning, then during the middle of the day, and at the end of the day.</span></span> <span data-ttu-id="03181-157">BizTalk Server ソリューションをテストする必要がありますを処理できることを確認するこれらのオーバー ロードのシナリオ。</span><span class="sxs-lookup"><span data-stu-id="03181-157">BizTalk Server solutions should be tested to ensure that they will be able to handle these overload scenarios.</span></span> <span data-ttu-id="03181-158">ソリューションが処理できる BizTalk Server がどの程度シナリオをオーバー ロードを確認するのには、BizTalk Server ソリューションの最大の持続スループット (MST) を決定してください。</span><span class="sxs-lookup"><span data-stu-id="03181-158">To determine how well a BizTalk Server solution can handle overload scenarios, the maximum sustainable throughput (MST) of the BizTalk Server solution should be determined.</span></span> <span data-ttu-id="03181-159">MST は、システムが実稼働環境で無制限に処理できるメッセージ トラフィックの最大負荷です。</span><span class="sxs-lookup"><span data-stu-id="03181-159">The MST is the highest load of message traffic that a system can handle indefinitely in a production environment.</span></span> <span data-ttu-id="03181-160">MST の詳細については、次を参照してください[パフォーマンス維持の計画](http://go.microsoft.com/fwlink/?LinkID=158065)(<http://go.microsoft.com/fwlink/?LinkID=158065>) と[維持可能なパフォーマンスとは何ですか?。](http://go.microsoft.com/fwlink/?LinkID=132304)</span><span class="sxs-lookup"><span data-stu-id="03181-160">For more information about MST, see [Planning for Sustained Performance](http://go.microsoft.com/fwlink/?LinkID=158065) (<http://go.microsoft.com/fwlink/?LinkID=158065>) and [What Is Sustainable Performance?](http://go.microsoft.com/fwlink/?LinkID=132304)</span></span> <span data-ttu-id="03181-161">(<http://go.microsoft.com/fwlink/?LinkID=132304>) で、[!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)]ドキュメント。</span><span class="sxs-lookup"><span data-stu-id="03181-161">(<http://go.microsoft.com/fwlink/?LinkID=132304>) in the [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] documentation.</span></span>  
  
## <a name="schema-complexity"></a><span data-ttu-id="03181-162">スキーマの複雑性</span><span class="sxs-lookup"><span data-stu-id="03181-162">Schema complexity</span></span>  
 <span data-ttu-id="03181-163">メッセージの解析 (特に、フラット ファイル解析) のスループットは、スキーマの複雑さの影響を受けます。</span><span class="sxs-lookup"><span data-stu-id="03181-163">The throughput for message parsing (especially flat-file parsing) is affected by the complexity of the schemas.</span></span> <span data-ttu-id="03181-164">スキーマの複雑さの増大に合わせて、全体的なパフォーマンスが低下します。</span><span class="sxs-lookup"><span data-stu-id="03181-164">As schema complexity increases, overall performance decreases.</span></span> <span data-ttu-id="03181-165">スキーマを設計するときは、ノード名の長さを短くし、昇格させたプロパティをスキーマの先頭に移動します。</span><span class="sxs-lookup"><span data-stu-id="03181-165">When designing schemas, reduce the length of node names, and move promoted properties to the top of the schema.</span></span> <span data-ttu-id="03181-166">これにより、検索時間が短くなり、それによってパフォーマンスが向上します。</span><span class="sxs-lookup"><span data-stu-id="03181-166">This reduces retrieval time and thereby increases performance.</span></span>  
  
## <a name="map-complexity"></a><span data-ttu-id="03181-167">マップの複雑さ</span><span class="sxs-lookup"><span data-stu-id="03181-167">Map complexity</span></span>  
 <span data-ttu-id="03181-168">マップの複雑さ、によってマップ変換にリソースを消費することができます。</span><span class="sxs-lookup"><span data-stu-id="03181-168">Depending on the complexity of the maps, map transformation can be resource-intensive.</span></span> <span data-ttu-id="03181-169">同様のマップの複雑さが増えると、全体的なパフォーマンスが低下します。</span><span class="sxs-lookup"><span data-stu-id="03181-169">As map complexity increases, overall performance decreases.</span></span> <span data-ttu-id="03181-170">全体的なパフォーマンスを向上させるのには、リンクおよび functoid の DB 検索 functoid などの外部リソースを呼び出す functoid 特に、マップで使用される数を最小限に抑えます。</span><span class="sxs-lookup"><span data-stu-id="03181-170">To improve overall performance, minimize the number of links and functoids used in your maps, especially functoids that call external resources such as the DB Lookup functoid.</span></span>  
  
## <a name="flat-file-parsing-considerations"></a><span data-ttu-id="03181-171">フラット ファイル解析の考慮事項</span><span class="sxs-lookup"><span data-stu-id="03181-171">Flat-file parsing considerations</span></span>  
 <span data-ttu-id="03181-172">フラット ファイル解析のパフォーマンスに最大の影響がある 2 つの要素は、ファイルのサイズとスキーマの複雑さです。</span><span class="sxs-lookup"><span data-stu-id="03181-172">The two factors that have the highest impact on the performance of flat-file parsing are file size and schema complexity.</span></span> <span data-ttu-id="03181-173">あいまいなスキーマは、多くの省略可能なフィールドを含むスキーマです。</span><span class="sxs-lookup"><span data-stu-id="03181-173">An ambiguous schema is a schema that contains many optional fields.</span></span> <span data-ttu-id="03181-174">大きなファイルのスキーマの異なるブランチが一致するためより大きなファイル サイズを使用している場合に、多くの省略可能なフィールドを持つスキーマでパフォーマンスが低下します。</span><span class="sxs-lookup"><span data-stu-id="03181-174">When large file sizes are used, a schema with many optional fields can degrade performance because larger files may match different branches of the schema.</span></span> <span data-ttu-id="03181-175">スキーマの複雑性より大きなファイルをより小さなファイルに以下の影響を及ぼします。</span><span class="sxs-lookup"><span data-stu-id="03181-175">Schema complexity has less impact on smaller files than on larger files.</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="03181-176">参照</span><span class="sxs-lookup"><span data-stu-id="03181-176">See Also</span></span>  
 [<span data-ttu-id="03181-177">BizTalk Server アプリケーションの最適化</span><span class="sxs-lookup"><span data-stu-id="03181-177">Optimizing BizTalk Server Applications</span></span>](../technical-guides/optimizing-biztalk-server-applications.md)