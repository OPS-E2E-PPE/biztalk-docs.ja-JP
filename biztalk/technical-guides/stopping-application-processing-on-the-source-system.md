---
title: アプリケーション ソース システムの処理の停止 |Microsoft Docs
ms.custom: ''
ms.date: 06/08/2017
ms.prod: biztalk-server
ms.reviewer: ''
ms.suite: ''
ms.tgt_pltfrm: ''
ms.topic: article
ms.assetid: cde5fc62-4bc2-4ef0-81bc-c7d39ff36cb6
caps.latest.revision: 2
author: MandiOhlinger
ms.author: mandia
manager: anneta
ms.openlocfilehash: 38f5f2fe1c3341d694b2c9ee3aeec0e2ce97bbb9
ms.sourcegitcommit: 381e83d43796a345488d54b3f7413e11d56ad7be
ms.translationtype: MT
ms.contentlocale: ja-JP
ms.lasthandoff: 05/07/2019
ms.locfileid: "65301636"
---
# <a name="stopping-application-processing-on-the-source-system"></a><span data-ttu-id="2908c-102">ソース システムで処理するアプリケーションを停止しています</span><span class="sxs-lookup"><span data-stu-id="2908c-102">Stopping Application Processing on the Source System</span></span>
<span data-ttu-id="2908c-103">ときにアプリケーションの処理を停止するか、ソース[!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)]ランタイム サーバーに既存のデータベース サーバーを使用してドキュメントの処理に参加することはできます。</span><span class="sxs-lookup"><span data-stu-id="2908c-103">Application processing should be stopped when the source [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] runtime servers are still able to participate in document processing using the existing database servers.</span></span> <span data-ttu-id="2908c-104">このシナリオでアクティビティを処理する必要があります停止するため、整合性の復元操作を行うことができます。</span><span class="sxs-lookup"><span data-stu-id="2908c-104">In this scenario, processing activity must be stopped so that a consistent restore operation can be completed.</span></span>  
  
 <span data-ttu-id="2908c-105">ソース システム上でアプリケーションの処理を停止するには、接続は運用環境の間で開かれていないことを確認[!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)]ランタイム コンピューターと[!INCLUDE[btsSQLServerNoVersion](../includes/btssqlservernoversion-md.md)]を格納しているコンピューター、[!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)]データベース。</span><span class="sxs-lookup"><span data-stu-id="2908c-105">To stop application processing on the source system, ensure that no connections are open between the production [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] runtime computers and the [!INCLUDE[btsSQLServerNoVersion](../includes/btssqlservernoversion-md.md)] computers that house the [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] databases.</span></span> <span data-ttu-id="2908c-106">運用環境でアプリケーションの処理を停止する次の手順に従って[!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)]ランタイム コンピューター。</span><span class="sxs-lookup"><span data-stu-id="2908c-106">Follow these steps to stop application processing on the production [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] runtime computers:</span></span>  
  
1. <span data-ttu-id="2908c-107">すべての受信場所を無効にする、 [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] BizTalk グループ内のコンピューター。</span><span class="sxs-lookup"><span data-stu-id="2908c-107">Disable all receive locations on the [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] computers in the BizTalk group.</span></span> <span data-ttu-id="2908c-108">すべてのメモを受信できるように、これらの受信場所を無効になっている場所は再度有効にする後でします。</span><span class="sxs-lookup"><span data-stu-id="2908c-108">Make a note of all receive locations that are disabled so that these receive locations can be re-enabled later.</span></span> <span data-ttu-id="2908c-109">停止します。[!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)]から受信メッセージを処理します。</span><span class="sxs-lookup"><span data-stu-id="2908c-109">This will stop [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] from processing incoming messages.</span></span>  
  
2. <span data-ttu-id="2908c-110">すべてのホスト インスタンスで実行されているを停止、[!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)]グループ内のコンピューター。</span><span class="sxs-lookup"><span data-stu-id="2908c-110">Stop all host instances from running on the [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] computers in the group.</span></span> <span data-ttu-id="2908c-111">これから実行できます、[!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)]管理コンソール。</span><span class="sxs-lookup"><span data-stu-id="2908c-111">This can be done from the [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] Administration console.</span></span> <span data-ttu-id="2908c-112">これらのホスト インスタンスを後で再開できるようにが停止していたすべてのホスト インスタンスをメモしておきます。</span><span class="sxs-lookup"><span data-stu-id="2908c-112">Make a note of all the host instances that were stopped so that these host instances can be restarted later.</span></span>  
  
3. <span data-ttu-id="2908c-113">すべて停止[!INCLUDE[btsSQLServerNoVersion](../includes/btssqlservernoversion-md.md)]エージェント ジョブに関連する[!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)]上、[!INCLUDE[btsSQLServerNoVersion](../includes/btssqlservernoversion-md.md)]を格納しているコンピューター[!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)]データベース。</span><span class="sxs-lookup"><span data-stu-id="2908c-113">Stop all [!INCLUDE[btsSQLServerNoVersion](../includes/btssqlservernoversion-md.md)] Agent jobs related to [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] on the [!INCLUDE[btsSQLServerNoVersion](../includes/btssqlservernoversion-md.md)] computers that house [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] databases.</span></span>  
  
4. <span data-ttu-id="2908c-114">BAM を使用している場合は、すべての BAM キューブ更新およびデータ保守 SSIS パッケージを無効にします。</span><span class="sxs-lookup"><span data-stu-id="2908c-114">If BAM is in use, disable any BAM cube update and data maintenance SSIS packages.</span></span> <span data-ttu-id="2908c-115">これを使用して行うことができます[!INCLUDE[btsSQLServerNoVersion](../includes/btssqlservernoversion-md.md)]Management Studio。</span><span class="sxs-lookup"><span data-stu-id="2908c-115">This can be done by using [!INCLUDE[btsSQLServerNoVersion](../includes/btssqlservernoversion-md.md)] Management Studio.</span></span>  
  
5. <span data-ttu-id="2908c-116">Analysis Services を停止、[!INCLUDE[btsSQLServerNoVersion](../includes/btssqlservernoversion-md.md)]を格納しているコンピューター[!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)]データベース。</span><span class="sxs-lookup"><span data-stu-id="2908c-116">Stop Analysis Services on the [!INCLUDE[btsSQLServerNoVersion](../includes/btssqlservernoversion-md.md)] computers that house [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] databases.</span></span> <span data-ttu-id="2908c-117">MSSQLServerOLAPService のすべてのインスタンスを停止することでこれは、 [!INCLUDE[btsSQLServerNoVersion](../includes/btssqlservernoversion-md.md)] Analysis Services がインストールされているコンピューター。</span><span class="sxs-lookup"><span data-stu-id="2908c-117">This can be done by stopping all instances of MSSQLServerOLAPService on the [!INCLUDE[btsSQLServerNoVersion](../includes/btssqlservernoversion-md.md)] computers where Analysis Services is installed.</span></span>  
  
6. <span data-ttu-id="2908c-118">その他の停止[!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)]サービスで実行されているサービス マネージャーで、 [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)]  グループで、エンタープライズ シングル サインオン サービスや、ルール エンジン更新サービスなどのコンピューター。</span><span class="sxs-lookup"><span data-stu-id="2908c-118">Stop any other [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] services in Services Manager that may be running on the [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] computers in the group, for example, the Enterprise Single Sign-On Service and the Rule Engine Update Service.</span></span> <span data-ttu-id="2908c-119">後で再起動するように停止しているサービスをメモしておきます。</span><span class="sxs-lookup"><span data-stu-id="2908c-119">Make a note of the services that are stopped so that they can be restarted later.</span></span>  
  
7. <span data-ttu-id="2908c-120">接続するすべてのアプリケーションを閉じて、[!INCLUDE[btsSQLServerNoVersion](../includes/btssqlservernoversion-md.md)]を格納しているコンピューター[!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)]データベース。</span><span class="sxs-lookup"><span data-stu-id="2908c-120">Close all applications that connect to the [!INCLUDE[btsSQLServerNoVersion](../includes/btssqlservernoversion-md.md)] computers that house [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] databases.</span></span> <span data-ttu-id="2908c-121">インタンスを含む、[!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)]管理コンソールで、 [!INCLUDE[btsVStudio2008](../includes/btsvstudio2008-md.md)]、その他の BizTalk アプリケーションがインストールされているとします。</span><span class="sxs-lookup"><span data-stu-id="2908c-121">This includes instances of the [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] Administration console, [!INCLUDE[btsVStudio2008](../includes/btsvstudio2008-md.md)], and any other installed BizTalk applications.</span></span>  
  
8. <span data-ttu-id="2908c-122">によって生成されたデータベースのアクティビティがないことを確認[!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)]します。</span><span class="sxs-lookup"><span data-stu-id="2908c-122">Verify that there is no database activity generated by [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)].</span></span> <span data-ttu-id="2908c-123">使用[!INCLUDE[btsSQLServerNoVersion](../includes/btssqlservernoversion-md.md)]Management Studio に接続しているどのようなプロセスを表示する、[!INCLUDE[btsSQLServerNoVersion](../includes/btssqlservernoversion-md.md)]を格納しているコンピューター[!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)]データベース。</span><span class="sxs-lookup"><span data-stu-id="2908c-123">Use [!INCLUDE[btsSQLServerNoVersion](../includes/btssqlservernoversion-md.md)] Management Studio to see what processes are connected to the [!INCLUDE[btsSQLServerNoVersion](../includes/btssqlservernoversion-md.md)] computers that house [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] databases.</span></span> <span data-ttu-id="2908c-124">これを行う展開**管理** をダブルクリックして**の利用状況モニター**で[!INCLUDE[btsSQLServerNoVersion](../includes/btssqlservernoversion-md.md)]Management Studio。</span><span class="sxs-lookup"><span data-stu-id="2908c-124">This can be done by expanding **Management** and double-clicking **Activity Monitor** in [!INCLUDE[btsSQLServerNoVersion](../includes/btssqlservernoversion-md.md)] Management Studio.</span></span> <span data-ttu-id="2908c-125">クリックして選択し、**プロセス情報**します。</span><span class="sxs-lookup"><span data-stu-id="2908c-125">Then click to select **Process Info**.</span></span> <span data-ttu-id="2908c-126">また、システム ストアド プロシージャを使用して、 **sp_who**または**sp_who2**への開いている接続を識別するために、[!INCLUDE[btsSQLServerNoVersion](../includes/btssqlservernoversion-md.md)]を格納しているコンピューター[!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)]データベース。</span><span class="sxs-lookup"><span data-stu-id="2908c-126">Alternatively use the system stored procedures **sp_who** or **sp_who2** to identify any open connections to the [!INCLUDE[btsSQLServerNoVersion](../includes/btssqlservernoversion-md.md)] computers that house [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] databases.</span></span> <span data-ttu-id="2908c-127">接続されているすべてのプロセスがある場合は、それらを検索し、それらを通常; 終了内の各プロセスを右クリックし、最後の手段として、または、**プロセス情報**ウィンドウ[!INCLUDE[btsSQLServerNoVersion](../includes/btssqlservernoversion-md.md)]Management Studio をクリックします**プロセスを強制終了**接続を終了します。</span><span class="sxs-lookup"><span data-stu-id="2908c-127">If there are any processes connected, locate them and terminate them normally; or as a last resort, right-click each process in the **Process Info** pane in [!INCLUDE[btsSQLServerNoVersion](../includes/btssqlservernoversion-md.md)] Management Studio and click **Kill process** to terminate the connection.</span></span>  
  
9. <span data-ttu-id="2908c-128">その他のデータベースの処理は、アプリケーション データベースで発生する可能性が。</span><span class="sxs-lookup"><span data-stu-id="2908c-128">Additional database processing may be occurring in application databases.</span></span> <span data-ttu-id="2908c-129">これらのデータベースが復元される場合は、すべての処理が停止したことを確認します。</span><span class="sxs-lookup"><span data-stu-id="2908c-129">If these databases will be restored, ensure that all processing is stopped.</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="2908c-130">参照</span><span class="sxs-lookup"><span data-stu-id="2908c-130">See Also</span></span>  
 [<span data-ttu-id="2908c-131">BizTalk グループの復元</span><span class="sxs-lookup"><span data-stu-id="2908c-131">Restoring the BizTalk Group</span></span>](../technical-guides/restoring-the-biztalk-group.md)