---
title: データベース テーブルの大きな成長 |Microsoft Docs
ms.custom: ''
ms.date: 06/08/2017
ms.prod: biztalk-server
ms.reviewer: ''
ms.suite: ''
ms.tgt_pltfrm: ''
ms.topic: article
ms.assetid: f30372f7-ab90-4ebb-9022-ac3ae3309459
caps.latest.revision: 3
author: MandiOhlinger
ms.author: mandia
manager: anneta
ms.openlocfilehash: e2feec96967e385272145a2c41ecff320c4c9851
ms.sourcegitcommit: 266308ec5c6a9d8d80ff298ee6051b4843c5d626
ms.translationtype: MT
ms.contentlocale: ja-JP
ms.lasthandoff: 06/27/2018
ms.locfileid: "37023016"
---
# <a name="large-growing-biztalk-server-database-tables"></a><span data-ttu-id="7fab7-102">BizTalk Server データベース テーブルの大規模な成長</span><span class="sxs-lookup"><span data-stu-id="7fab7-102">Large-growing BizTalk Server Database Tables</span></span>
<span data-ttu-id="7fab7-103">次の表、[!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)]通常最大拡大テーブル。</span><span class="sxs-lookup"><span data-stu-id="7fab7-103">The following table lists the [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] tables that typically grow the largest.</span></span> <span data-ttu-id="7fab7-104">このデータを使用すると、潜在的な問題がある可能性があります。</span><span class="sxs-lookup"><span data-stu-id="7fab7-104">You can use this data to determine where a potential problem may exist.</span></span>  

## <a name="tables-list"></a><span data-ttu-id="7fab7-105">テーブルの一覧</span><span class="sxs-lookup"><span data-stu-id="7fab7-105">Tables list</span></span>

|                               <span data-ttu-id="7fab7-106">テーブル</span><span class="sxs-lookup"><span data-stu-id="7fab7-106">Table</span></span>                                |                                                                                     <span data-ttu-id="7fab7-107">説明</span><span class="sxs-lookup"><span data-stu-id="7fab7-107">Description</span></span>                                                                                     |                                                                                                                                                                                                                                                                                                                                                                                  <span data-ttu-id="7fab7-108">コメント</span><span class="sxs-lookup"><span data-stu-id="7fab7-108">Comments</span></span>                                                                                                                                                                                                                                                                                                                                                                                  |
|--------------------------------------------------------------------|-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
|                    <span data-ttu-id="7fab7-109">*HostNameQ*_Suspended テーブル</span><span class="sxs-lookup"><span data-stu-id="7fab7-109">*HostNameQ*_Suspended table</span></span>                     | <span data-ttu-id="7fab7-110">このテーブルには、特定のホストの中断されたインスタンスに関連付けられている、スプール テーブル内のメッセージへの参照が含まれています。</span><span class="sxs-lookup"><span data-stu-id="7fab7-110">This table contains a reference to messages in the Spool table that are associated with suspended instances for the particular host.</span></span> <span data-ttu-id="7fab7-111">このテーブルは、BizTalkMsgBoxDb データベースでは。</span><span class="sxs-lookup"><span data-stu-id="7fab7-111">This table is in the BizTalkMsgBoxDb database.</span></span> |                                                                                                                                                <span data-ttu-id="7fab7-112">場合、 *HostNameQ*_Suspended テーブルの多くのレコードがある、テーブルを含むことが有効な中断されたインスタンスに表示される、**グループ ハブ**ページ。</span><span class="sxs-lookup"><span data-stu-id="7fab7-112">If the *HostNameQ*_Suspended tables have many records, the tables could be containing valid suspended instances that appear in the **Group Hub** page.</span></span> <span data-ttu-id="7fab7-113">これらのインスタンスを終了することができます。</span><span class="sxs-lookup"><span data-stu-id="7fab7-113">You can terminate these instances.</span></span> <span data-ttu-id="7fab7-114">これらのインスタンスが表示されない場合、**グループ ハブ**インスタンスはインスタンスのキャッシュ可能性がありますか、ルーティング エラー報告を孤立します。</span><span class="sxs-lookup"><span data-stu-id="7fab7-114">If these instances do not appear in the **Group Hub**, the instances are probably caching instances or orphaned routing failure reports.</span></span> <span data-ttu-id="7fab7-115">中断されたインスタンスを終了したときにこのテーブル内の項目とその関連する行をスプールとインスタンスのテーブルをクリーンアップします。</span><span class="sxs-lookup"><span data-stu-id="7fab7-115">When you terminate suspended instances, you clean up the items in this table and their associated rows in the Spool and Instances tables.</span></span>                                                                                                                                                |
|                         <span data-ttu-id="7fab7-116">*HostNameQ*テーブル</span><span class="sxs-lookup"><span data-stu-id="7fab7-116">*HostNameQ* table</span></span>                          |  <span data-ttu-id="7fab7-117">このテーブルには、特定のホストに関連付けられているし、中断されていない、スプール テーブル内のメッセージへの参照が含まれています。</span><span class="sxs-lookup"><span data-stu-id="7fab7-117">This table contains a reference to messages in the Spool table that are associated with the particular host and are not suspended.</span></span> <span data-ttu-id="7fab7-118">このテーブルは、BizTalkMsgBoxDb データベースでは。</span><span class="sxs-lookup"><span data-stu-id="7fab7-118">This table is in the BizTalkMsgBoxDb database.</span></span>  |                                                                                                                  <span data-ttu-id="7fab7-119">場合、 *HostNameQ*テーブルの多くのレコードがある、次の種類のインスタンスが存在する可能性があります。</span><span class="sxs-lookup"><span data-stu-id="7fab7-119">If the *HostNameQ* tables have many records, the following kinds of instances may exist:</span></span><br /><br /> <span data-ttu-id="7fab7-120">-すぐに実行可能インスタンス</span><span class="sxs-lookup"><span data-stu-id="7fab7-120">-   Ready-to-run instances</span></span><br /><span data-ttu-id="7fab7-121">アクティブなインスタンス</span><span class="sxs-lookup"><span data-stu-id="7fab7-121">-   Active instances</span></span><br /><span data-ttu-id="7fab7-122">-退避済みインスタンス</span><span class="sxs-lookup"><span data-stu-id="7fab7-122">-   Dehydrated instances</span></span><br /><br /> [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)]<span data-ttu-id="7fab7-123"> 「追いつく」とインスタンスの処理に時間が必要です。</span><span class="sxs-lookup"><span data-stu-id="7fab7-123"> needs time to "catch up" and process the instances.</span></span> <span data-ttu-id="7fab7-124">処理の着信レートが処理の送信速度を outpaces ときに、このテーブルを拡張できます。</span><span class="sxs-lookup"><span data-stu-id="7fab7-124">This table can grow when the incoming rate of processing outpaces the outgoing rate of processing.</span></span> <span data-ttu-id="7fab7-125">このシナリオにも大きな BizTalkDTADb データベースや SQL Server ディスク遅延のため発生します。</span><span class="sxs-lookup"><span data-stu-id="7fab7-125">This scenario can also occur due to large BizTalkDTADb database or SQL Server disk delays.</span></span>                                                                                                                  |
|                 <span data-ttu-id="7fab7-126">スプール、部品、およびテーブルのフラグメント</span><span class="sxs-lookup"><span data-stu-id="7fab7-126">Spool, Parts, and Fragments tables</span></span>                 |                                                       <span data-ttu-id="7fab7-127">これらのテーブルでは、BizTalkMsgBoxDb データベースの実際のメッセージ データを格納します。</span><span class="sxs-lookup"><span data-stu-id="7fab7-127">These tables store actual message data in the BizTalkMsgBoxDb database.</span></span>                                                       |                                                                                                                                                                                      <span data-ttu-id="7fab7-128">多数のメッセージがあることを意味する多くのレコードを持ってスプール、パーツ、およびフラグメントのテーブルは、退避、または中断されている現在アクティブです。</span><span class="sxs-lookup"><span data-stu-id="7fab7-128">The Spool, Parts, and Fragments tables having many records imply that there are a large number of messages are currently active, dehydrated, or suspended.</span></span> <span data-ttu-id="7fab7-129">によって、サイズ、パーツの数、およびこれらのテーブルの断片化の設定、1 つのメッセージは、これらすべてのテーブルを生成可能性があります。</span><span class="sxs-lookup"><span data-stu-id="7fab7-129">Depending on the size, the number of parts, and the fragmentation settings in these tables, a single message may spawn all these tables.</span></span> <span data-ttu-id="7fab7-130">各メッセージには、スプール テーブルに 1 行と Parts テーブルに少なくとも 1 つの行。</span><span class="sxs-lookup"><span data-stu-id="7fab7-130">Each message has exactly one row in the Spool table and at least one row in the Parts table.</span></span>                                                                                                                                                                                      |
|                          <span data-ttu-id="7fab7-131">インスタンス テーブル</span><span class="sxs-lookup"><span data-stu-id="7fab7-131">Instances table</span></span>                           |                                              <span data-ttu-id="7fab7-132">このテーブルには、BizTalkMsgBoxDb データベース内のすべてのインスタンスとその現在の状態が格納されます。</span><span class="sxs-lookup"><span data-stu-id="7fab7-132">This table stores all instances and their current status in the BizTalkMsgBoxDb database.</span></span>                                              |                                                                                                                                                                                         <span data-ttu-id="7fab7-133">[!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)]インスタンス テーブル内に存続する多くの中断されたインスタンスの管理者を許可しないでください。</span><span class="sxs-lookup"><span data-stu-id="7fab7-133">The [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] Administrator should not allow for many suspended instances to remain in the Instances table.</span></span> <span data-ttu-id="7fab7-134">多くの退避済みインスタンスはビジネス ロジックが実行時間の長いオーケストレーションが必要な場合にのみおきます。</span><span class="sxs-lookup"><span data-stu-id="7fab7-134">Many dehydrated instances should only remain if the business logic requires long-running orchestrations.</span></span> <span data-ttu-id="7fab7-135">その 1 つのサービス インスタンスが、スプール テーブルに多数のメッセージを関連付けることができますに注意してください。</span><span class="sxs-lookup"><span data-stu-id="7fab7-135">Remember that one service instance can be associated with many messages in the Spool table.</span></span>                                                                                                                                                                                          |
|                  <span data-ttu-id="7fab7-136">TrackingData<em>_x_x</em>テーブル</span><span class="sxs-lookup"><span data-stu-id="7fab7-136">TrackingData<em>_x_x</em> table</span></span>                   |            <span data-ttu-id="7fab7-137">このテーブルには、BizTalkMsgBoxDb データベースの Tracking Data Decode Service (TDDS) イベントを BizTalkDTADb データベースに移動するで追跡したイベントが格納されます。</span><span class="sxs-lookup"><span data-stu-id="7fab7-137">This table stores the tracked events in the BizTalkMsgBoxDb database for Tracking Data Decode Service (TDDS) to move the events to the BizTalkDTADb database.</span></span>            |                                                                                                                                                                                                                                                             <span data-ttu-id="7fab7-138">場合、TrackingData_*x_x*テーブルが大きい場合は、いずれかの TDDS が実行されていないまたはが正常に実行されていません。</span><span class="sxs-lookup"><span data-stu-id="7fab7-138">If the TrackingData_*x_x* tables are large, either the TDDS is not running or is not running successfully.</span></span> <span data-ttu-id="7fab7-139">TDDS が実行されている場合は、イベント ログとエラー情報は、BizTalkDTADb データベースで TDDS_FailedTrackingData テーブルを確認します。</span><span class="sxs-lookup"><span data-stu-id="7fab7-139">If the TDDS is running, review the event logs and the TDDS_FailedTrackingData table in the BizTalkDTADb database for error information.</span></span>                                                                                                                                                                                                                                                             |
| <span data-ttu-id="7fab7-140">Tracking_Fragments*x*、Tracking_Parts*x*、Tracking_Spool*x*テーブル</span><span class="sxs-lookup"><span data-stu-id="7fab7-140">Tracking_Fragments*x*, Tracking_Parts*x*, Tracking_Spool*x* tables</span></span> |                             <span data-ttu-id="7fab7-141">これらの各テーブルの 2 つは、BizTalkMsgBoxDb と BizTalkDTADb データベースです。</span><span class="sxs-lookup"><span data-stu-id="7fab7-141">Two of each of these tables is in the BizTalkMsgBoxDb and BizTalkDTADb databases.</span></span> <span data-ttu-id="7fab7-142">1 つがオンラインになり、もう 1 つはオフラインです。</span><span class="sxs-lookup"><span data-stu-id="7fab7-142">One is online, and the other is offline.</span></span>                              |                                                                                                                                                                                                                                                                                                           <span data-ttu-id="7fab7-143">**TrackedMessages_Copy_BizTalkMsgBoxDb** SQL Server エージェント ジョブ追跡されたメッセージ本文を BizTalkDTADb データベース内のこれらのテーブルに直接移動します。</span><span class="sxs-lookup"><span data-stu-id="7fab7-143">The **TrackedMessages_Copy_BizTalkMsgBoxDb** SQL Server Agent job moves tracked message bodies directly to these tables in the BizTalkDTADb database.</span></span>                                                                                                                                                                                                                                                                                                            |
|                     <span data-ttu-id="7fab7-144">dta_ServiceInstances テーブル</span><span class="sxs-lookup"><span data-stu-id="7fab7-144">dta_ServiceInstances table</span></span>                     |                                                <span data-ttu-id="7fab7-145">このテーブルには、BizTalkDTADb データベース内のサービス インスタンス追跡したイベントが格納されます。</span><span class="sxs-lookup"><span data-stu-id="7fab7-145">This table stores tracked events for service instances in the BizTalkDTADb database.</span></span>                                                 |                                                                                                                                                                                                                                                                                                                                                    <span data-ttu-id="7fab7-146">このテーブルのサイズが大きい場合、BizTalkDTADb データベースが大きい可能性があります。</span><span class="sxs-lookup"><span data-stu-id="7fab7-146">If this table is large, the BizTalkDTADb database is probably large.</span></span>                                                                                                                                                                                                                                                                                                                                                    |
|                        <span data-ttu-id="7fab7-147">dta_DebugTrace テーブル</span><span class="sxs-lookup"><span data-stu-id="7fab7-147">dta_DebugTrace table</span></span>                        |                                                  <span data-ttu-id="7fab7-148">このテーブルには、BizTalkDTADb データベース内のオーケストレーション デバッガーのイベントが格納されます。</span><span class="sxs-lookup"><span data-stu-id="7fab7-148">This table stores the Orchestration debugger events in the BizTalkDTADb database.</span></span>                                                  | <span data-ttu-id="7fab7-149">Dta_DebugTrace テーブルに多数のレコードがある場合は、オーケストレーション図形を追跡が使用されているかが使用されています。</span><span class="sxs-lookup"><span data-stu-id="7fab7-149">If the dta_DebugTrace table has many records, orchestration shape tracking is being used or was being used.</span></span> <span data-ttu-id="7fab7-150">オーケストレーションのデバッグでは、通常の操作は必要ありません、オーケストレーション図形のすべてのオーケストレーションの追跡を無効にします。</span><span class="sxs-lookup"><span data-stu-id="7fab7-150">If orchestration debugging is not required for regular operations, disable orchestration shape tracking for all orchestrations.</span></span> <span data-ttu-id="7fab7-151">オーケストレーション図形の追跡が既に無効になって、BizTalkMsgBoxDb データベースにバックログが存在する場合は、TDDS が引き続き dta_DebugTrace テーブルにこのデータを移動するための拡張 dta_DebugTrace テーブルが引き続き可能性があります。</span><span class="sxs-lookup"><span data-stu-id="7fab7-151">If orchestration shape tracking is already disabled and a backlog exists in the BizTalkMsgBoxDb database, the dta_DebugTrace table may continue to grow because TDDS continues to move this data into the dta_DebugTrace table.</span></span><br /><br /> <span data-ttu-id="7fab7-152">BizTalkDTADb の追跡データベースのサイズを制御するには、グローバル追跡を無効にすることができます。</span><span class="sxs-lookup"><span data-stu-id="7fab7-152">To control the size of the BizTalkDTADb tracking database, you may choose to disable global tracking.</span></span> <span data-ttu-id="7fab7-153">参照してください[グローバル追跡をオフにする](../core/how-to-turn-off-global-tracking.md)と[追跡データベースのサイズ ガイドライン](../core/tracking-database-sizing-guidelines.md)します。</span><span class="sxs-lookup"><span data-stu-id="7fab7-153">See [How to Turn Off Global Tracking](../core/how-to-turn-off-global-tracking.md) and [Tracking Database Sizing Guidelines](../core/tracking-database-sizing-guidelines.md).</span></span> |
|                    <span data-ttu-id="7fab7-154">dta_MessageInOutEvents テーブル</span><span class="sxs-lookup"><span data-stu-id="7fab7-154">dta_MessageInOutEvents table</span></span>                    |                      <span data-ttu-id="7fab7-155">このテーブルは、BizTalkDTADb データベースで追跡したイベントのメッセージを格納します。</span><span class="sxs-lookup"><span data-stu-id="7fab7-155">This table stores tracked event messages in the BizTalkDTADb database.</span></span> <span data-ttu-id="7fab7-156">これらの追跡対象のイベント メッセージには、メッセージのコンテキスト情報が含まれます。</span><span class="sxs-lookup"><span data-stu-id="7fab7-156">These tracked event messages include message context information.</span></span>                       |                                                                                                                                                      <span data-ttu-id="7fab7-157">Dta_DebugTrace テーブルと BizTalkTrackingDb データベース dta_MessageInOutEvents テーブルが大きすぎる場合は、追跡ホストを停止した後手動でテーブルを切り捨てることができます。</span><span class="sxs-lookup"><span data-stu-id="7fab7-157">If the dta_DebugTrace table and the dta_MessageInOutEvents table in the BizTalkTrackingDb database are too large, you can truncate the tables manually after you stop the tracking host.</span></span> <span data-ttu-id="7fab7-158">手順について、テーブルの切り捨てで「dta_DebugTrace テーブル」の詳細を参照してください[KB 952555: を維持し、BizTalk Server データベースのトラブルシューティング方法](https://support.microsoft.com/help/952555/how-to-maintain-and-troubleshoot-biztalk-server-databases)します。</span><span class="sxs-lookup"><span data-stu-id="7fab7-158">For instructions on how to truncate the tables, see the "dta_DebugTrace table" details in [KB 952555: How to maintain and troubleshoot BizTalk Server databases](https://support.microsoft.com/help/952555/how-to-maintain-and-troubleshoot-biztalk-server-databases).</span></span>                                                                                                                                                       |
|                <span data-ttu-id="7fab7-159">dta_ServiceInstanceExceptions テーブル</span><span class="sxs-lookup"><span data-stu-id="7fab7-159">dta_ServiceInstanceExceptions table</span></span>                 |                                        <span data-ttu-id="7fab7-160">このテーブルには、BizTalkDTADb データベースで任意の中断されたサービス インスタンスのエラー情報が格納されます。</span><span class="sxs-lookup"><span data-stu-id="7fab7-160">This table stores error information for any suspended service instance in the BizTalkDTADb database.</span></span>                                         |                                                                                                                                                                                                                                                                                                                         <span data-ttu-id="7fab7-161">通常 dta_ServiceInstanceExceptions テーブルに定期的にインスタンスが中断されている環境が大きくなります。</span><span class="sxs-lookup"><span data-stu-id="7fab7-161">The dta_ServiceInstanceExceptions table typically becomes large in an environment that regularly has suspended instances.</span></span>                                                                                                                                                                                                                                                                                                                          |

