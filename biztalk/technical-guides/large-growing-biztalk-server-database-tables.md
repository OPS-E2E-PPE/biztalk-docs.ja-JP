---
title: "大規模な拡大 BizTalk Server データベース テーブル |Microsoft ドキュメント"
ms.custom: 
ms.date: 06/08/2017
ms.prod: biztalk-server
ms.reviewer: 
ms.suite: 
ms.tgt_pltfrm: 
ms.topic: article
ms.assetid: f30372f7-ab90-4ebb-9022-ac3ae3309459
caps.latest.revision: "3"
author: MandiOhlinger
ms.author: mandia
manager: anneta
ms.openlocfilehash: f427862d90c119c831bffc59e1a6e55a25700a68
ms.sourcegitcommit: cb908c540d8f1a692d01dc8f313e16cb4b4e696d
ms.translationtype: MT
ms.contentlocale: ja-JP
ms.lasthandoff: 09/20/2017
---
# <a name="large-growing-biztalk-server-database-tables"></a><span data-ttu-id="50e1b-102">BizTalk Server データベース テーブルの大規模な成長</span><span class="sxs-lookup"><span data-stu-id="50e1b-102">Large-growing BizTalk Server Database Tables</span></span>
<span data-ttu-id="50e1b-103">次の表、[!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)]通常が大きいものを拡大するテーブル。</span><span class="sxs-lookup"><span data-stu-id="50e1b-103">The following table lists the [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] tables that typically grow the largest.</span></span> <span data-ttu-id="50e1b-104">このデータを使用すると、潜在的な問題が存在する場所を特定します。</span><span class="sxs-lookup"><span data-stu-id="50e1b-104">You can use this data to determine where a potential problem may exist.</span></span>  
  
|<span data-ttu-id="50e1b-105">テーブル</span><span class="sxs-lookup"><span data-stu-id="50e1b-105">Table</span></span>|<span data-ttu-id="50e1b-106">Description</span><span class="sxs-lookup"><span data-stu-id="50e1b-106">Description</span></span>|<span data-ttu-id="50e1b-107">コメント</span><span class="sxs-lookup"><span data-stu-id="50e1b-107">Comments</span></span>|  
|-----------|-----------------|--------------|  
|<span data-ttu-id="50e1b-108">*HostNameQ*_Suspended テーブル</span><span class="sxs-lookup"><span data-stu-id="50e1b-108">*HostNameQ*_Suspended table</span></span>|<span data-ttu-id="50e1b-109">このテーブルには、特定のホストの中断されたインスタンスに関連付けられている、スプール テーブル内のメッセージへの参照が含まれています。</span><span class="sxs-lookup"><span data-stu-id="50e1b-109">This table contains a reference to messages in the Spool table that are associated with suspended instances for the particular host.</span></span> <span data-ttu-id="50e1b-110">次の表は、BizTalkMsgBoxDb データベースでです。</span><span class="sxs-lookup"><span data-stu-id="50e1b-110">This table is in the BizTalkMsgBoxDb database.</span></span>|<span data-ttu-id="50e1b-111">場合、 *HostNameQ*_Suspended テーブルの多くのレコードがある、テーブルに有効な中断されたインスタンスに表示される可能性がありますを含んでいる、**グループ ハブ**ページ。</span><span class="sxs-lookup"><span data-stu-id="50e1b-111">If the *HostNameQ*_Suspended tables have many records, the tables could be containing valid suspended instances that appear in the **Group Hub** page.</span></span> <span data-ttu-id="50e1b-112">これらのインスタンスを終了することができます。</span><span class="sxs-lookup"><span data-stu-id="50e1b-112">You can terminate these instances.</span></span> <span data-ttu-id="50e1b-113">これらのインスタンスが表示されない場合、**グループ ハブ**インスタンスはインスタンスをキャッシュして可能性がありますまたはルーティング エラー報告を孤立します。</span><span class="sxs-lookup"><span data-stu-id="50e1b-113">If these instances do not appear in the **Group Hub**, the instances are probably caching instances or orphaned routing failure reports.</span></span> <span data-ttu-id="50e1b-114">中断されたインスタンスを終了したときに、このテーブル内の項目と、スプール テーブルおよびインスタンス テーブルに関連付けられている行をクリーンアップします。</span><span class="sxs-lookup"><span data-stu-id="50e1b-114">When you terminate suspended instances, you clean up the items in this table and their associated rows in the Spool and Instances tables.</span></span>|  
|<span data-ttu-id="50e1b-115">*HostNameQ*テーブル</span><span class="sxs-lookup"><span data-stu-id="50e1b-115">*HostNameQ* table</span></span>|<span data-ttu-id="50e1b-116">このテーブルには、特定のホストに関連付けられは中断されていないスプール テーブル内のメッセージへの参照が含まれています。</span><span class="sxs-lookup"><span data-stu-id="50e1b-116">This table contains a reference to messages in the Spool table that are associated with the particular host and are not suspended.</span></span> <span data-ttu-id="50e1b-117">次の表は、BizTalkMsgBoxDb データベースでです。</span><span class="sxs-lookup"><span data-stu-id="50e1b-117">This table is in the BizTalkMsgBoxDb database.</span></span>|<span data-ttu-id="50e1b-118">場合、 *HostNameQ*テーブルの多くのレコードがある、次の種類のインスタンスが存在する可能性があります。</span><span class="sxs-lookup"><span data-stu-id="50e1b-118">If the *HostNameQ* tables have many records, the following kinds of instances may exist:</span></span><br /><br /> <span data-ttu-id="50e1b-119">インスタンスの準備完了の実行</span><span class="sxs-lookup"><span data-stu-id="50e1b-119">-   Ready-to-run instances</span></span><br /><span data-ttu-id="50e1b-120">アクティブなインスタンス</span><span class="sxs-lookup"><span data-stu-id="50e1b-120">-   Active instances</span></span><br /><span data-ttu-id="50e1b-121">退避済みのインスタンス</span><span class="sxs-lookup"><span data-stu-id="50e1b-121">-   Dehydrated instances</span></span><br /><br /> [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)]<span data-ttu-id="50e1b-122">「遅延を解消する」とインスタンスの処理に時間が必要です。</span><span class="sxs-lookup"><span data-stu-id="50e1b-122"> needs time to "catch up" and process the instances.</span></span> <span data-ttu-id="50e1b-123">次の表に、処理の着信レート outpaces、送信速度の処理時に拡張できます。</span><span class="sxs-lookup"><span data-stu-id="50e1b-123">This table can grow when the incoming rate of processing outpaces the outgoing rate of processing.</span></span> <span data-ttu-id="50e1b-124">このシナリオにも大きな BizTalkDTADb データベースや SQL Server ディスク遅延がないのために発生します。</span><span class="sxs-lookup"><span data-stu-id="50e1b-124">This scenario can also occur due to large BizTalkDTADb database or SQL Server disk delays.</span></span>|  
|<span data-ttu-id="50e1b-125">スプール、部品、およびテーブルをフラグメント化</span><span class="sxs-lookup"><span data-stu-id="50e1b-125">Spool, Parts, and Fragments tables</span></span>|<span data-ttu-id="50e1b-126">これらのテーブルでは、BizTalkMsgBoxDb データベースの実際のメッセージ データを格納します。</span><span class="sxs-lookup"><span data-stu-id="50e1b-126">These tables store actual message data in the BizTalkMsgBoxDb database.</span></span>|<span data-ttu-id="50e1b-127">大量のメッセージがあることを意味する多数のレコードを含む Spool、パーツ、およびフラグメントのテーブルは、退避または中断している現在アクティブなです。</span><span class="sxs-lookup"><span data-stu-id="50e1b-127">The Spool, Parts, and Fragments tables having many records imply that there are a large number of messages are currently active, dehydrated, or suspended.</span></span> <span data-ttu-id="50e1b-128">サイズの部分の数およびこれらのテーブルの断片化の設定に応じて、1 つのメッセージはこれらすべてのテーブルを生成可能性があります。</span><span class="sxs-lookup"><span data-stu-id="50e1b-128">Depending on the size, the number of parts, and the fragmentation settings in these tables, a single message may spawn all these tables.</span></span> <span data-ttu-id="50e1b-129">各メッセージは、スプール テーブルに 1 行および Parts テーブルに少なくとも 1 つの行にします。</span><span class="sxs-lookup"><span data-stu-id="50e1b-129">Each message has exactly one row in the Spool table and at least one row in the Parts table.</span></span>|  
|<span data-ttu-id="50e1b-130">インスタンス テーブル</span><span class="sxs-lookup"><span data-stu-id="50e1b-130">Instances table</span></span>|<span data-ttu-id="50e1b-131">次の表は、BizTalkMsgBoxDb データベース内のすべてのインスタンスとその現在の状態を格納します。</span><span class="sxs-lookup"><span data-stu-id="50e1b-131">This table stores all instances and their current status in the BizTalkMsgBoxDb database.</span></span>|<span data-ttu-id="50e1b-132">[!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)]インスタンス テーブル内に存続する多くの中断されたインスタンスの管理者が許可する必要があります。</span><span class="sxs-lookup"><span data-stu-id="50e1b-132">The [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] Administrator should not allow for many suspended instances to remain in the Instances table.</span></span> <span data-ttu-id="50e1b-133">多くの退避済みインスタンスのみおく必要があるビジネス ロジックは、長時間のオーケストレーションを必要とする場合。</span><span class="sxs-lookup"><span data-stu-id="50e1b-133">Many dehydrated instances should only remain if the business logic requires long-running orchestrations.</span></span> <span data-ttu-id="50e1b-134">その 1 つのサービス インスタンスは、スプール テーブルに多数のメッセージを関連付けることができますに注意してください。</span><span class="sxs-lookup"><span data-stu-id="50e1b-134">Remember that one service instance can be associated with many messages in the Spool table.</span></span>|  
|<span data-ttu-id="50e1b-135">TrackingData*_x_x*テーブル</span><span class="sxs-lookup"><span data-stu-id="50e1b-135">TrackingData*_x_x* table</span></span>|<span data-ttu-id="50e1b-136">このテーブルは、BizTalkMsgBoxDb データベースの Tracking Data Decode Service (TDDS) BizTalkDTADb データベースにイベントを移動する、追跡したイベントを格納します。</span><span class="sxs-lookup"><span data-stu-id="50e1b-136">This table stores the tracked events in the BizTalkMsgBoxDb database for Tracking Data Decode Service (TDDS) to move the events to the BizTalkDTADb database.</span></span>|<span data-ttu-id="50e1b-137">場合、TrackingData_*x_x*テーブルが大きい場合、いずれか、TDDS が実行されていないかが正常に実行されていません。</span><span class="sxs-lookup"><span data-stu-id="50e1b-137">If the TrackingData_*x_x* tables are large, either the TDDS is not running or is not running successfully.</span></span> <span data-ttu-id="50e1b-138">TDDS が実行されている場合は、イベント ログとエラー情報は、BizTalkDTADb データベースに TDDS_FailedTrackingData テーブルを確認します。</span><span class="sxs-lookup"><span data-stu-id="50e1b-138">If the TDDS is running, review the event logs and the TDDS_FailedTrackingData table in the BizTalkDTADb database for error information.</span></span>|  
|<span data-ttu-id="50e1b-139">Tracking_Fragments*x*、Tracking_Parts*x*、Tracking_Spool*x*テーブル</span><span class="sxs-lookup"><span data-stu-id="50e1b-139">Tracking_Fragments*x*, Tracking_Parts*x*, Tracking_Spool*x* tables</span></span>|<span data-ttu-id="50e1b-140">これらの各テーブルの 2 つは、BizTalkMsgBoxDb と BizTalkDTADb データベースです。</span><span class="sxs-lookup"><span data-stu-id="50e1b-140">Two of each of these tables is in the BizTalkMsgBoxDb and BizTalkDTADb databases.</span></span> <span data-ttu-id="50e1b-141">1 つがオンラインで、もう一方はオフラインです。</span><span class="sxs-lookup"><span data-stu-id="50e1b-141">One is online, and the other is offline.</span></span>|<span data-ttu-id="50e1b-142">**TrackedMessages_Copy_BizTalkMsgBoxDb** SQL Server エージェント ジョブは、これらのテーブルに、BizTalkDTADb データベースに直接追跡されたメッセージ本文を移動します。</span><span class="sxs-lookup"><span data-stu-id="50e1b-142">The **TrackedMessages_Copy_BizTalkMsgBoxDb** SQL Server Agent job moves tracked message bodies directly to these tables in the BizTalkDTADb database.</span></span>|  
|<span data-ttu-id="50e1b-143">dta_ServiceInstances テーブル</span><span class="sxs-lookup"><span data-stu-id="50e1b-143">dta_ServiceInstances table</span></span>|<span data-ttu-id="50e1b-144">このテーブルは、BizTalkDTADb データベース内のサービス インスタンス追跡したイベントを格納します。</span><span class="sxs-lookup"><span data-stu-id="50e1b-144">This table stores tracked events for service instances in the BizTalkDTADb database.</span></span>|<span data-ttu-id="50e1b-145">このテーブルが大きい場合、BizTalkDTADb データベースが大きい可能性があります。</span><span class="sxs-lookup"><span data-stu-id="50e1b-145">If this table is large, the BizTalkDTADb database is probably large.</span></span>|  
|<span data-ttu-id="50e1b-146">dta_DebugTrace テーブル</span><span class="sxs-lookup"><span data-stu-id="50e1b-146">dta_DebugTrace table</span></span>|<span data-ttu-id="50e1b-147">このテーブルは、BizTalkDTADb データベース内のオーケストレーション デバッガーのイベントを格納します。</span><span class="sxs-lookup"><span data-stu-id="50e1b-147">This table stores the Orchestration debugger events in the BizTalkDTADb database.</span></span>|<span data-ttu-id="50e1b-148">Dta_DebugTrace テーブルに多数のレコードがある場合は、オーケストレーション図形の追跡が使用されているまたは使用されています。</span><span class="sxs-lookup"><span data-stu-id="50e1b-148">If the dta_DebugTrace table has many records, orchestration shape tracking is being used or was being used.</span></span> <span data-ttu-id="50e1b-149">オーケストレーションのデバッグが通常の操作に必要でない場合は、オーケストレーション図形のすべてのオーケストレーションの追跡を無効にします。</span><span class="sxs-lookup"><span data-stu-id="50e1b-149">If orchestration debugging is not required for regular operations, disable orchestration shape tracking for all orchestrations.</span></span> <span data-ttu-id="50e1b-150">オーケストレーション図形の追跡が既に無効になって、BizTalkMsgBoxDb データベースにバックログが存在する場合は、dta_DebugTrace テーブルは、TDDS が dta_DebugTrace テーブルに、このデータを移動し続けるためにを増大し続けることがあります。</span><span class="sxs-lookup"><span data-stu-id="50e1b-150">If orchestration shape tracking is already disabled and a backlog exists in the BizTalkMsgBoxDb database, the dta_DebugTrace table may continue to grow because TDDS continues to move this data into the dta_DebugTrace table.</span></span><br /><br /> <span data-ttu-id="50e1b-151">BizTalkDTADb の追跡データベースのサイズを制御するには、グローバル追跡を無効にすることもできます。</span><span class="sxs-lookup"><span data-stu-id="50e1b-151">To control the size of the BizTalkDTADb tracking database, you may choose to disable global tracking.</span></span> <span data-ttu-id="50e1b-152">詳細については、次を参照してください。[グローバル追跡を無効にする方法](http://go.microsoft.com/fwlink/p/?LinkId=153687)(http://go.microsoft.com/fwlink/p/?LinkId=153687)。</span><span class="sxs-lookup"><span data-stu-id="50e1b-152">For more information see [How to Turn Off Global Tracking](http://go.microsoft.com/fwlink/p/?LinkId=153687) (http://go.microsoft.com/fwlink/p/?LinkId=153687).</span></span> <span data-ttu-id="50e1b-153">追跡データベースのサイズ変更に関するガイドラインの詳細については、次を参照してください。[追跡データベースのサイジング ガイドライン](http://go.microsoft.com/fwlink/p/?LinkId=153688)(http://go.microsoft.com/fwlink/p/?LinkId=153688)。</span><span class="sxs-lookup"><span data-stu-id="50e1b-153">For more information about tracking database sizing guidelines, see [Tracking Database Sizing Guidelines](http://go.microsoft.com/fwlink/p/?LinkId=153688) (http://go.microsoft.com/fwlink/p/?LinkId=153688).</span></span>|  
|<span data-ttu-id="50e1b-154">dta_MessageInOutEvents テーブル</span><span class="sxs-lookup"><span data-stu-id="50e1b-154">dta_MessageInOutEvents table</span></span>|<span data-ttu-id="50e1b-155">次の表は、BizTalkDTADb データベースに追跡イベント メッセージを格納します。</span><span class="sxs-lookup"><span data-stu-id="50e1b-155">This table stores tracked event messages in the BizTalkDTADb database.</span></span> <span data-ttu-id="50e1b-156">これらの追跡対象のイベント メッセージには、メッセージのコンテキスト情報が含まれます。</span><span class="sxs-lookup"><span data-stu-id="50e1b-156">These tracked event messages include message context information.</span></span>|<span data-ttu-id="50e1b-157">Dta_DebugTrace テーブルと BizTalkTrackingDb データベースで dta_MessageInOutEvents テーブルが大きすぎる場合は、追跡ホストを停止した後に手動でテーブルを切り捨てることができます。</span><span class="sxs-lookup"><span data-stu-id="50e1b-157">If the dta_DebugTrace table and the dta_MessageInOutEvents table in the BizTalkTrackingDb database are too large, you can truncate the tables manually after you stop the tracking host.</span></span> <span data-ttu-id="50e1b-158">テーブルを切り捨てる方法についての手順で、952555、Microsoft サポート技術情報の記事のセクション"dta_DebugTrace table"の下の[を維持し、BizTalk Server データベースのトラブルシューティングを行う方法](http://go.microsoft.com/fwlink/p/?LinkId=158847)(http://go.microsoft.com/fwlink/p/ しますか。LinkId = 158847)。</span><span class="sxs-lookup"><span data-stu-id="50e1b-158">For instructions on how to truncate the tables, follow the procedures under the section "dta_DebugTrace table" of Microsoft Knowledge Base article 952555, [How to maintain and troubleshoot BizTalk Server databases](http://go.microsoft.com/fwlink/p/?LinkId=158847) (http://go.microsoft.com/fwlink/p/?LinkId=158847).</span></span>|  
|<span data-ttu-id="50e1b-159">dta_ServiceInstanceExceptions テーブル</span><span class="sxs-lookup"><span data-stu-id="50e1b-159">dta_ServiceInstanceExceptions table</span></span>|<span data-ttu-id="50e1b-160">次の表は、BizTalkDTADb データベースの中断されたサービス インスタンスのエラー情報を格納します。</span><span class="sxs-lookup"><span data-stu-id="50e1b-160">This table stores error information for any suspended service instance in the BizTalkDTADb database.</span></span>|<span data-ttu-id="50e1b-161">Dta_ServiceInstanceExceptions の表は、通常が大きくなると定期的に、インスタンスが中断された環境でします。</span><span class="sxs-lookup"><span data-stu-id="50e1b-161">The dta_ServiceInstanceExceptions table typically becomes large in an environment that regularly has suspended instances.</span></span>|