---
title: システム レベルのボトルネック |Microsoft Docs
ms.custom: ''
ms.date: 06/29/2017
ms.prod: biztalk-server
ms.reviewer: ''
ms.suite: ''
ms.tgt_pltfrm: ''
ms.topic: article
ms.assetid: 0bdff435-76eb-495f-9fb6-1f1acef3921e
caps.latest.revision: 11
author: MandiOhlinger
ms.author: mandia
manager: anneta
ms.openlocfilehash: 1c736cb7de384edadac1c7b4c0fd840e8d4e7cac
ms.sourcegitcommit: 381e83d43796a345488d54b3f7413e11d56ad7be
ms.translationtype: MT
ms.contentlocale: ja-JP
ms.lasthandoff: 05/07/2019
ms.locfileid: "65400678"
---
# <a name="system-level-bottlenecks"></a><span data-ttu-id="3415d-102">システム レベルのボトルネック</span><span class="sxs-lookup"><span data-stu-id="3415d-102">System-Level Bottlenecks</span></span>
<span data-ttu-id="3415d-103">このトピックでは、BizTalk Server ソリューションのパフォーマンスに影響する一般的なシステム レベルのボトルネックに対処する方法について説明します。</span><span class="sxs-lookup"><span data-stu-id="3415d-103">This topic describes how to address common system-level bottlenecks that can impact the performance of a BizTalk Server solution.</span></span>  
  
## <a name="creating-a-snapshot-of-the-baseline-configuration"></a><span data-ttu-id="3415d-104">ベースライン構成のスナップショットを作成します。</span><span class="sxs-lookup"><span data-stu-id="3415d-104">Creating a snapshot of the baseline configuration</span></span>  
 <span data-ttu-id="3415d-105">次の情報の収集を修正するシステム レベルのボトルネックで支援するために使用できるベースライン構成のスナップショットを提供できます。</span><span class="sxs-lookup"><span data-stu-id="3415d-105">Gathering the following information can provide you with a snapshot of the baseline configuration that you can use to assist in correcting system-level bottlenecks.</span></span>  
  
### <a name="gather-documentation"></a><span data-ttu-id="3415d-106">ドキュメントを収集します。</span><span class="sxs-lookup"><span data-stu-id="3415d-106">Gather documentation</span></span>  
 <span data-ttu-id="3415d-107">アーキテクチャとシナリオのインフラストラクチャのドキュメントを確認します。</span><span class="sxs-lookup"><span data-stu-id="3415d-107">Review the documentation of the architecture and infrastructure of your scenario.</span></span>  
  
### <a name="run-the-baseline-security-analyzer"></a><span data-ttu-id="3415d-108">Baseline Security Analyzer を実行します。</span><span class="sxs-lookup"><span data-stu-id="3415d-108">Run the Baseline Security Analyzer</span></span>  
 <span data-ttu-id="3415d-109">Baseline Security Analyzer を実行するこれらの手順に従います。</span><span class="sxs-lookup"><span data-stu-id="3415d-109">Follow these steps to run the Baseline Security Analyzer:</span></span>  
  
1.  <span data-ttu-id="3415d-110">ダウンロード、 [Microsoft Baseline Security Analyzer 2.2](http://go.microsoft.com/fwlink/?LinKID=204006) (http://go.microsoft.com/fwlink/?LinkId=204006) します。</span><span class="sxs-lookup"><span data-stu-id="3415d-110">Download the [Microsoft Baseline Security Analyzer 2.2](http://go.microsoft.com/fwlink/?LinKID=204006) (http://go.microsoft.com/fwlink/?LinkId=204006).</span></span>  
  
2.  <span data-ttu-id="3415d-111">ドメイン管理者アカウントを使用して、BizTalk Server と SQL Server コンピューターをホストしているのと同じネットワーク上のコンピューターにログオンします。</span><span class="sxs-lookup"><span data-stu-id="3415d-111">Using a domain administrator account, log on to a computer on the same network that is hosting the BizTalk Server and SQL Server computers.</span></span>  
  
3.  <span data-ttu-id="3415d-112">現在のコンピューター (たとえば、BizTalk Server コンピューターまたは別のコンピューターの 1 つ)、Microsoft Baseline Security Analyzer をインストールします。</span><span class="sxs-lookup"><span data-stu-id="3415d-112">Install the Microsoft Baseline Security Analyzer on the current computer (for example, one of the BizTalk Server computers or a separate computer).</span></span>  
  
4.  <span data-ttu-id="3415d-113">別のスキャンを実行 (**スキャンの開始**)、または BizTalk Server と SQL Server の各コンピューターの IP アドレスをパラメーターとして指定します。</span><span class="sxs-lookup"><span data-stu-id="3415d-113">Execute a separate scan (**Start Scan**), specifying as a parameter the name or the IP address of each BizTalk Server and SQL Server computer.</span></span>  
  
5.  <span data-ttu-id="3415d-114">%Userprofile%\SecurityScans ディレクトリから、各セキュリティ レポート (.mbsa ファイル) をコピーします。</span><span class="sxs-lookup"><span data-stu-id="3415d-114">Copy each security report (.mbsa files) from the %userprofile%\SecurityScans directory.</span></span>  
  
### <a name="run-the-biztalk-server-best-practices-analyzer"></a><span data-ttu-id="3415d-115">BizTalk Server のベスト プラクティス アナライザーを実行します。</span><span class="sxs-lookup"><span data-stu-id="3415d-115">Run the BizTalk Server Best Practices Analyzer</span></span>  
 <span data-ttu-id="3415d-116">BizTalk Server のベスト プラクティス アナライザーを実行するこれらの手順に従います。</span><span class="sxs-lookup"><span data-stu-id="3415d-116">Follow these steps to run the BizTalk Server Best Practices Analyzer:</span></span>  
  
1.  <span data-ttu-id="3415d-117">ダウンロード、 [BizTalk Server のベスト プラクティス アナライザー v1.2](http://go.microsoft.com/fwlink/?LinkID=83317) (http://go.microsoft.com/fwlink/?LinkID=83317) します。</span><span class="sxs-lookup"><span data-stu-id="3415d-117">Download the [BizTalk Server Best Practices Analyzer v1.2](http://go.microsoft.com/fwlink/?LinkID=83317) (http://go.microsoft.com/fwlink/?LinkID=83317).</span></span>  
  
2.  <span data-ttu-id="3415d-118">BizTalk Server 管理者セキュリティ グループの一部であるユーザー アカウントを使用して、BizTalk Server のノードにログオンします。</span><span class="sxs-lookup"><span data-stu-id="3415d-118">Using a user account that is part of the BizTalk Server Administrator security group, log on to a BizTalk Server node.</span></span>  
  
3.  <span data-ttu-id="3415d-119">現在のコンピューターで BizTalk Server のベスト プラクティス アナライザーをインストールします。</span><span class="sxs-lookup"><span data-stu-id="3415d-119">Install the BizTalk Server Best Practices Analyzer on the current computer.</span></span>  
  
4.  <span data-ttu-id="3415d-120">ツールを実行し、レポートを保存します。</span><span class="sxs-lookup"><span data-stu-id="3415d-120">Run the tool and save the report.</span></span>  
  
### <a name="run-msinfo32-and-save-the-results"></a><span data-ttu-id="3415d-121">MSInfo32 を実行し、結果の保存</span><span class="sxs-lookup"><span data-stu-id="3415d-121">Run MSInfo32 and save the results</span></span>  
 <span data-ttu-id="3415d-122">MSInfo32 を実行するこれらの手順に従います。</span><span class="sxs-lookup"><span data-stu-id="3415d-122">Follow these steps to run MSInfo32:</span></span>  
  
1.  <span data-ttu-id="3415d-123">ドメインまたはローカル管理者アカウントを使用して、各 BizTalk Server および SQL Server コンピューターにログオンします。</span><span class="sxs-lookup"><span data-stu-id="3415d-123">Using a domain or a local administrator account, log on to each BizTalk Server and SQL Server computer.</span></span>  
  
2.  <span data-ttu-id="3415d-124">コマンド プロンプトを起動し、コンピューターの %windir%\system32 ディレクトリにディレクトリを変更します。</span><span class="sxs-lookup"><span data-stu-id="3415d-124">Launch a command prompt and change directories to the %windir%\system32 directory of the computer.</span></span>  
  
3.  <span data-ttu-id="3415d-125">コマンド プロンプトから、MSinfo32.exe を実行します。</span><span class="sxs-lookup"><span data-stu-id="3415d-125">Run MSinfo32.exe from the command prompt.</span></span>  
  
4.  <span data-ttu-id="3415d-126">をクリックして、**ファイル**メニュー選択し、**エクスポート**メニュー項目をエクスポートしてコンピューターの構成を保存します。</span><span class="sxs-lookup"><span data-stu-id="3415d-126">Click the **File** menu and select the **Export** menu item to export to save the computer configuration.</span></span>  
  
### <a name="export-the-biztalk-server-and-sql-server-computer-tcpip-registry-setting-"></a><span data-ttu-id="3415d-127">BizTalk Server と SQL Server コンピューターで TCP/IP レジストリ設定のエクスポートします。</span><span class="sxs-lookup"><span data-stu-id="3415d-127">Export the BizTalk Server and SQL Server computer TCP/IP registry setting-</span></span>  
 <span data-ttu-id="3415d-128">BizTalk Server と SQL Server の TCP/IP レジストリ設定を保存する次の手順に従います。</span><span class="sxs-lookup"><span data-stu-id="3415d-128">Follow these steps to save the BizTalk Server and SQL Server TCP/IP registry settings:</span></span>  
  
1.  <span data-ttu-id="3415d-129">コマンド プロンプトを起動し、コンピューターの %windir%\system32 ディレクトリにディレクトリを変更します。</span><span class="sxs-lookup"><span data-stu-id="3415d-129">Launch a command prompt and change directories to the %windir%\system32 directory of the computer.</span></span>  
  
2.  <span data-ttu-id="3415d-130">コマンド プロンプトから、Regedit.exe を実行します。</span><span class="sxs-lookup"><span data-stu-id="3415d-130">Run Regedit.exe from the command prompt.</span></span>  
  
3.  <span data-ttu-id="3415d-131">次のレジストリ キーに移動します。</span><span class="sxs-lookup"><span data-stu-id="3415d-131">Navigate to the following key in the registry:</span></span>  
  
    ```  
    [HKEY_LOCAL_MACHINE\SYSTEM\CurrentControlSet\Services\Tcpip\Parameters] (network settings)  
    ```  
  
4.  <span data-ttu-id="3415d-132">このキーを右クリックして**エクスポート**レジストリ キーをファイルにエクスポートします。</span><span class="sxs-lookup"><span data-stu-id="3415d-132">Right-click this key and select **Export** to export the registry key to a file.</span></span>  
  
### <a name="collect-the-biztalk-configuration-files"></a><span data-ttu-id="3415d-133">BizTalk 構成ファイルを収集します。</span><span class="sxs-lookup"><span data-stu-id="3415d-133">Collect the BizTalk configuration files</span></span>  
 <span data-ttu-id="3415d-134">各 BizTalk サーバー ノードで、BizTalk Server 構成ファイル、BTSNTSvc.exe.config ファイル (または BTSNTSvc64.exe.config 64 ビットのホスト用)、BizTalk Server のインストール フォルダー (例: C:\Program files \microsoft BizTalk Server 2010) を収集します。</span><span class="sxs-lookup"><span data-stu-id="3415d-134">On each BizTalk Server node, collect the BizTalk Server configuration file, BTSNTSvc.exe.config file (or BTSNTSvc64.exe.config for 64-bit hosts), located in the BizTalk Server installation folder (e.g. C:\Program Files\Microsoft BizTalk Server 2010).</span></span>  
  
### <a name="collect-the-net-configuration-files"></a><span data-ttu-id="3415d-135">.NET 構成ファイルを収集します。</span><span class="sxs-lookup"><span data-stu-id="3415d-135">Collect the .NET configuration files</span></span>  
 <span data-ttu-id="3415d-136">各 BizTalk サーバー ノードでは、machine.config と web.config の .NET Framework 4.0 の構成ファイルを収集します。</span><span class="sxs-lookup"><span data-stu-id="3415d-136">On each BizTalk Server node, collect the machine.config and web.config .NET Framework 4.0 configuration files.</span></span> <span data-ttu-id="3415d-137">構成ファイルに次の場所にあります。</span><span class="sxs-lookup"><span data-stu-id="3415d-137">You can find the configuration files in the following location:</span></span>  
  
-   <span data-ttu-id="3415d-138">32 ビットの: %windir%\Microsoft.NET\Framework\v4.0.30319\CONFIG フォルダー</span><span class="sxs-lookup"><span data-stu-id="3415d-138">For 32-bit: %windir%\Microsoft.NET\Framework\v4.0.30319\CONFIG folder</span></span>  
  
-   <span data-ttu-id="3415d-139">64 ビットの: %windir%\Microsoft.NET\Framework64\v4.0.30319\CONFIG フォルダー</span><span class="sxs-lookup"><span data-stu-id="3415d-139">For 64-bit: %windir%\Microsoft.NET\Framework64\v4.0.30319\CONFIG folder</span></span>  
  
### <a name="use-the-biztalk-msgboxviewer-tool-to-collect-information-about-the-messagebox-database"></a><span data-ttu-id="3415d-140">BizTalk MsgBoxViewer ツールを使用して、メッセージ ボックス データベースに関する情報を収集</span><span class="sxs-lookup"><span data-stu-id="3415d-140">Use the BizTalk MsgBoxViewer tool to collect information about the MessageBox database</span></span>  
 <span data-ttu-id="3415d-141">BizTalk MsgBoxViewer ツールを使用して、メッセージ ボックス データベースについての情報を収集するこれらの手順に従います。</span><span class="sxs-lookup"><span data-stu-id="3415d-141">Follow these steps to collect information about the MessageBox database using the BizTalk MsgBoxViewer tool:</span></span>  
  
1.  <span data-ttu-id="3415d-142">ダウンロード、 [BizTalk MsgBoxViewer ツール](http://go.microsoft.com/fwlink/?LinkID=117289)(http://go.microsoft.com/fwlink/?LinkID=117289) します。</span><span class="sxs-lookup"><span data-stu-id="3415d-142">Download the [BizTalk MsgBoxViewer tool](http://go.microsoft.com/fwlink/?LinkID=117289) (http://go.microsoft.com/fwlink/?LinkID=117289).</span></span>  
  
2.  <span data-ttu-id="3415d-143">BizTalk Server 管理者セキュリティ グループの一部であるユーザー アカウントで BizTalk Server コンピューターにログオンします。</span><span class="sxs-lookup"><span data-stu-id="3415d-143">Log on to the BizTalk Server computer with a user account that is part of the BizTalk Server Administrator security group.</span></span>  
  
3.  <span data-ttu-id="3415d-144">BizTalk Server コンピューターに、MsgBoxViewer.exe をコピーします。</span><span class="sxs-lookup"><span data-stu-id="3415d-144">Copy the MsgBoxViewer.exe to the BizTalk Server computer.</span></span>  
  
4.  <span data-ttu-id="3415d-145">このツールを起動します。</span><span class="sxs-lookup"><span data-stu-id="3415d-145">Launch the tool.</span></span>  
  
5.  <span data-ttu-id="3415d-146">をクリックして、**省略可能な情報を収集する** タブをクリックして**すべての情報を選択**します。</span><span class="sxs-lookup"><span data-stu-id="3415d-146">Click the **Optional Info to Collect** tab, and then click **Select All Info**.</span></span>  
  
6.  <span data-ttu-id="3415d-147">クリックして**収集開始**します。</span><span class="sxs-lookup"><span data-stu-id="3415d-147">Click **Start to Collect**.</span></span>  
  
7.  <span data-ttu-id="3415d-148">状態ラベルが表示されたら、**エンド コレクション**メッセージ、MsgBoxViewer.exe 実行可能ファイルを含むフォルダーに切り替えます、結果として得られるレポート (.htm) をコピーしてログ ファイル。</span><span class="sxs-lookup"><span data-stu-id="3415d-148">When the Status label shows the **End Collection** message, switch to the folder containing the MsgBoxViewer.exe executable and copy the resulting report (.htm) and log files.</span></span>  
  
### <a name="collect-and-store-the-source-code-for-all-components-used-in-the-solution"></a><span data-ttu-id="3415d-149">収集し、ソリューションで使用されるすべてのコンポーネントのソース コードの格納</span><span class="sxs-lookup"><span data-stu-id="3415d-149">Collect and store the source code for all components used in the solution</span></span>  
 <span data-ttu-id="3415d-150">個別のファイル共有ですべてのコンポーネント (たとえば、オーケストレーション、カスタム パイプライン コンポーネント、およびヘルパー コンポーネントのコード) のソース コードを格納します。</span><span class="sxs-lookup"><span data-stu-id="3415d-150">Store the source code for all components (for example Orchestration, Custom Pipeline Component, and Helper components code) on a separate file share.</span></span>  
  
## <a name="initial-troubleshooting"></a><span data-ttu-id="3415d-151">初期のトラブルシューティング</span><span class="sxs-lookup"><span data-stu-id="3415d-151">Initial troubleshooting</span></span>  
 <span data-ttu-id="3415d-152">全体的なサイズに関係なくパフォーマンスの問題が発生するが有効でない場合は、BizTalk Server ソリューションの特定のコンポーネントや、BizTalk ソリューションの設計は。</span><span class="sxs-lookup"><span data-stu-id="3415d-152">There are certain components of a BizTalk Server solution which, if not enabled, will cause performance problems regardless of the overall size or design of the BizTalk solution.</span></span> <span data-ttu-id="3415d-153">BizTalk ソリューションの徹底的なボトルネックの分析を行う前に「しくみ」の一部を除外する次の事前のトラブルシューティング タスクを完了する必要があります。</span><span class="sxs-lookup"><span data-stu-id="3415d-153">The following preliminary troubleshooting tasks should be completed to rule out some of the “usual suspects” before engaging in an exhaustive bottleneck analysis of a BizTalk solution.</span></span>  
  
-   <span data-ttu-id="3415d-154">**追跡ホスト インスタンスが実行されている - 確認**BAM と HAT の両方のデータをメッセージ ボックス データベースの TrackingData テーブルから BizTalkDTADb や BAMPrimaryImport データベースのテーブルに移動するため、追跡ホスト インスタンスが担当します。</span><span class="sxs-lookup"><span data-stu-id="3415d-154">**Verify the Tracking host instance is running -** The Tracking host instance is responsible for moving both BAM and HAT data from the TrackingData table of the MessageBox database to the BizTalkDTADb and/or BAMPrimaryImport database tables.</span></span> <span data-ttu-id="3415d-155">場合は、追跡ホスト インスタンスが実行されていない、追跡データは、メッセージ ボックス データベースに蓄積され、BizTalk Server ソリューションのパフォーマンスに悪影響を与えます。</span><span class="sxs-lookup"><span data-stu-id="3415d-155">If the tracking host instance is not running, then tracking data will accumulate in the MessageBox database and negatively impact performance of the BizTalk Server solution.</span></span>  
  
-   <span data-ttu-id="3415d-156">**すべての BizTalk Server コンピューター - で、エンタープライズ シングル サインオン (ENTSSO) サービスが実行されていることを確認**BizTalk ホスト インスタンスは、ENTSSO サービスのローカルで実行中のインスタンスへの依存関係を維持します。</span><span class="sxs-lookup"><span data-stu-id="3415d-156">**Verify the Enterprise Single Sign-On (ENTSSO) service is running on all BizTalk Server computers -** BizTalk host instances maintain a dependency on a locally running instance of the ENTSSO service.</span></span> <span data-ttu-id="3415d-157">場合は、サーバー上のホスト インスタンスでは、いずれかを実行できませんし、ENTSSO サービスは、BizTalk Server で実行されていません。</span><span class="sxs-lookup"><span data-stu-id="3415d-157">If the ENTSSO service is not running on the BizTalk Server, then host instances on the server will not be able to run either.</span></span>  
  
-   <span data-ttu-id="3415d-158">**すべての SQL Server コンピューター - で、SQL Server エージェント サービスが実行されていることを確認**BizTalk SQL Server エージェント ジョブを実行するために、SQL Server エージェント サービスを実行する必要があります。</span><span class="sxs-lookup"><span data-stu-id="3415d-158">**Verify the SQL Server Agent service is running on all SQL Server computers -** The SQL Server Agent service must be running in order for the BizTalk SQL Server Agent jobs to execute.</span></span> <span data-ttu-id="3415d-159">これらのジョブでは、動作状況と状態、サーバーを保持する重要な機能を実行します。</span><span class="sxs-lookup"><span data-stu-id="3415d-159">These jobs perform important functions to keep your servers operational and healthy.</span></span>  
  
-   <span data-ttu-id="3415d-160">**BizTalk SQL Server エージェント ジョブが有効になっていることを確認し、例外 - せずに実行して**命令型のすべての既定の BizTalk SQL Server エージェント ジョブが有効であると、実行中を正常には、SQL Server エージェント サービスが実行されている場合でもです。</span><span class="sxs-lookup"><span data-stu-id="3415d-160">**Verify the BizTalk SQL Server Agent jobs are enabled and running without exceptions -** Even if the SQL Server Agent service is running, it is imperative that all of the default BizTalk SQL Server Agent jobs are enabled and running successfully.</span></span>  
  
-   <span data-ttu-id="3415d-161">**BizTalk Server と SQL Server のイベント ログ -** の BizTalk Server または SQL Server イベント ログの簡単な調査によってかなりの診断し、解決に時間がかかる場合がありますそれ以外の場合の問題を特定します。</span><span class="sxs-lookup"><span data-stu-id="3415d-161">**Check the BizTalk Server and SQL Server event logs -** A cursory examination of the BizTalk Server or SQL Server event logs may reveal a problem that could otherwise take a significant amount of time to diagnose and resolve.</span></span>  
  
-   <span data-ttu-id="3415d-162">**BizTalk Server ベスト プラクティス アナライザーの実行**BizTalk Server ベスト プラクティス アナライザーが BizTalk Server の展開に調べベスト プラクティス基準に関連する問題の一覧が生成されます。</span><span class="sxs-lookup"><span data-stu-id="3415d-162">**Run the BizTalk Server Best Practices Analyzer -** The BizTalk Server Best Practices Analyzer examines a BizTalk Server deployment and generates a list of issues pertaining to best practices standards.</span></span> <span data-ttu-id="3415d-163">ツールは、Windows Management Instrumentation (WMI) クラス、SQL Server データベース、およびレジストリ エントリなど、さまざまな情報のソースからデータを収集することにより構成レベルの検証を実行します。</span><span class="sxs-lookup"><span data-stu-id="3415d-163">The tool performs configuration-level verification by gathering data from different information sources, such as Windows Management Instrumentation (WMI) classes, SQL Server databases, and registry entries.</span></span> <span data-ttu-id="3415d-164">データは、展開構成を評価するが使用されます。</span><span class="sxs-lookup"><span data-stu-id="3415d-164">The data is then used to evaluate the deployment configuration.</span></span> <span data-ttu-id="3415d-165">ツールとレポートのみ、任意のシステム設定は変更されませんを読み取って自己調整ツールではありません。</span><span class="sxs-lookup"><span data-stu-id="3415d-165">The tool reads and reports only and does not modify any system settings, and is not a self-tuning tool.</span></span> <span data-ttu-id="3415d-166">BizTalk Server のダウンロードのベスト プラクティス アナライザー v1.2 から[BizTalk Server のベスト プラクティス アナライザー v1.2](http://go.microsoft.com/fwlink/?LinkID=83317) (http://go.microsoft.com/fwlink/?LinkID=83317) します。</span><span class="sxs-lookup"><span data-stu-id="3415d-166">Download the BizTalk Server Best Practices Analyzer v1.2 from [BizTalk Server Best Practices Analyzer v1.2](http://go.microsoft.com/fwlink/?LinkID=83317) (http://go.microsoft.com/fwlink/?LinkID=83317).</span></span>  
  
## <a name="high-level-system-bottlenecks"></a><span data-ttu-id="3415d-167">高度なシステムのボトルネック</span><span class="sxs-lookup"><span data-stu-id="3415d-167">High-level system bottlenecks</span></span>  
 <span data-ttu-id="3415d-168">このセクションでは、BizTalk Server ソリューションと軽減策の戦略に存在する可能性のあるシステム レベルのボトルネックについて説明します。</span><span class="sxs-lookup"><span data-stu-id="3415d-168">This section describes system-level bottlenecks that may be present in a BizTalk Server solution and possible mitigation strategies.</span></span>  
  
### <a name="disk-io-bottlenecks"></a><span data-ttu-id="3415d-169">ディスク I/O のボトルネック</span><span class="sxs-lookup"><span data-stu-id="3415d-169">Disk I/O bottlenecks</span></span>  
 <span data-ttu-id="3415d-170">ディスク I/O は、読み取りと物理ディスク上のアプリケーションによって実行された書き込み操作またはサーバーにインストールされている複数のディスクの数を示します。</span><span class="sxs-lookup"><span data-stu-id="3415d-170">Disk I/O refers to the number of read and write operations performed by your application on a physical disk or multiple disks installed in your server.</span></span> <span data-ttu-id="3415d-171">ディスク I/O、および関連するボトルネックを引き起こす可能性のある一般的なアクティビティには、実行時間の長いファイル I/O 操作、データの暗号化と復号化、データベース テーブル、およびページングが過剰につながる可能性が不足している、物理メモリから不要なデータの読み取りが含まれます。アクティビティ。</span><span class="sxs-lookup"><span data-stu-id="3415d-171">Common activities that can cause disk I/O and related bottlenecks include long-running file I/O operations, data encryption and decryption, reading unnecessary data from database tables, and an insufficient physical memory, which can lead to excessive paging activity.</span></span> <span data-ttu-id="3415d-172">ディスク速度は、ディスク I/O のボトルネックを評価するときに考慮すべきもう 1 つの要素高速なディスクでは、パフォーマンスが向上し、ディスク I/O のボトルネックを低減します。</span><span class="sxs-lookup"><span data-stu-id="3415d-172">Disk speed is another factor to consider when evaluating disk I/O bottlenecks; faster disks provide increased performance and help reduce disk I/O bottlenecks.</span></span>  
  
 <span data-ttu-id="3415d-173">次の表では、ディスク サブシステムの BizTalk Server ソリューションを計画する際に考慮すべき要因を示します。</span><span class="sxs-lookup"><span data-stu-id="3415d-173">The table below provides factors that should be considered when planning the disk subsystem for a BizTalk Server solution.</span></span>  
  
|<span data-ttu-id="3415d-174">ディスク サブシステム要素</span><span class="sxs-lookup"><span data-stu-id="3415d-174">Disk subsystem factor</span></span>|<span data-ttu-id="3415d-175">詳細</span><span class="sxs-lookup"><span data-stu-id="3415d-175">Details</span></span>|  
|---------------------------|-------------|  
|<span data-ttu-id="3415d-176">ディスクのメモリ キャッシュと使用可能な物理メモリ</span><span class="sxs-lookup"><span data-stu-id="3415d-176">Disk memory cache and available physical memory</span></span>|<span data-ttu-id="3415d-177">ディスクの物理メモリが少なくなるように、必ずにキャッシュされるため、使用可能なメモリのための十分な量があります。</span><span class="sxs-lookup"><span data-stu-id="3415d-177">Because memory is cached to disk as physical memory becomes limited, make sure that you have a sufficient amount of memory available.</span></span> <span data-ttu-id="3415d-178">複数のページが書き込まれたメモリが不足するより大きなディスク アクティビティの結果としてディスクにします。</span><span class="sxs-lookup"><span data-stu-id="3415d-178">When memory is scarce, more pages are written to disk, resulting in increased disk activity.</span></span> <span data-ttu-id="3415d-179">また、ページング ファイルを適切なサイズに設定することを確認してください。</span><span class="sxs-lookup"><span data-stu-id="3415d-179">Also, make sure to set the paging file to an appropriate size.</span></span> <span data-ttu-id="3415d-180">メモリ キャッシュの追加のディスクはディスク I/O 要求のピーク オフセットに役立ちます。</span><span class="sxs-lookup"><span data-stu-id="3415d-180">Additional disk memory cache will help offset peaks in disk I/O requests.</span></span> <span data-ttu-id="3415d-181">ただし、に現象は、大容量ディスクのキャッシュがめったにありませんに、十分なスピンドルがなくなるの問題を解決し、大容量ディスクのメモリ キャッシュの必要性を負数化できる十分なスピンドルを持つことに注意してください。</span><span class="sxs-lookup"><span data-stu-id="3415d-181">However, it should be noted that a large disk memory cache seldom solves the problem of not having enough spindles, and having enough spindles can negate the need for a large disk memory cache.</span></span> <span data-ttu-id="3415d-182">最適なパフォーマンスの Windows ページング ファイルの構成方法の詳細については、」の [Windows の最適なパフォーマンスのページファイルの構成] セクションを参照してください。[オペレーティング システムのパフォーマンスの最適化](~/technical-guides/optimizing-operating-system-performance.md)します。</span><span class="sxs-lookup"><span data-stu-id="3415d-182">For information on configuring the Windows paging file for optimal performance, see the section “Configure the Windows PAGEFILE for optimal performance” in the topic [Optimizing Operating System Performance](~/technical-guides/optimizing-operating-system-performance.md).</span></span>|  
|<span data-ttu-id="3415d-183">記憶域コント ローラーの種類</span><span class="sxs-lookup"><span data-stu-id="3415d-183">Storage controller type</span></span>|<span data-ttu-id="3415d-184">キャッシュのバッテリ バックアップがある場合は、書き込みがトランザクション ログ ファイルのボリュームとデータベース ボリュームのディスク書き込みのパフォーマンスを向上させるためにキャッシュを有効にします。</span><span class="sxs-lookup"><span data-stu-id="3415d-184">If you have battery-backed cache, enable write caching to improve disk write performance on the transaction log file volumes and on the database volumes.</span></span> <span data-ttu-id="3415d-185">書き込みキャッシュの書き込み I/O 要求、書き込みキャッシュが有効にすることがなく、10 ~ 20 ミリ秒の応答時間ではなく 2 ミリ秒以内の応答時間を提供します。</span><span class="sxs-lookup"><span data-stu-id="3415d-185">Write caching provides a response time of 2 ms for a write I/O request, as opposed to a response time of 10 to 20 ms without write caching enabled.</span></span> <span data-ttu-id="3415d-186">有効にする記述が大幅にキャッシュをクライアントの書き込み要求の応答性が向上します。</span><span class="sxs-lookup"><span data-stu-id="3415d-186">Enabling write caching greatly improves the responsiveness for client write requests.</span></span> <span data-ttu-id="3415d-187">読み取りキャッシュでは、便利なのでのみ順次ディスク読み取りのトランザクション ログ ファイルでのみ発生する場合は、BizTalk Server シナリオでパフォーマンスは向上しません。</span><span class="sxs-lookup"><span data-stu-id="3415d-187">Read caching does not improve performance in a BizTalk Server scenario because it is only useful for sequential disk reads, which occur only in transaction log files.</span></span><br /><br /> <span data-ttu-id="3415d-188">トランザクション ログ ファイルの読み取り元が再生されている場合にのみ、このようなデータベースの復元後に、またはサーバーは正しくシャット ダウンします。</span><span class="sxs-lookup"><span data-stu-id="3415d-188">Transaction log files are read from only when they are being played back, such as after a database restore or when a server is not properly shutdown.</span></span> <span data-ttu-id="3415d-189">サイズの大きいキャッシュより多くのデータはバッファーに格納彩度の長期間を確保できることを意味します。</span><span class="sxs-lookup"><span data-stu-id="3415d-189">Larger caches allow for more data to be buffered, meaning that longer periods of saturation can be accommodated.</span></span> <span data-ttu-id="3415d-190">コント ローラーは、キャッシュのページ サイズを構成することを許可している場合は、4 KB に設定する必要があります。</span><span class="sxs-lookup"><span data-stu-id="3415d-190">If your controller allows you to configure the cache page size, you should set it to 4 KB.</span></span> <span data-ttu-id="3415d-191">8 KB の結果より大きなサイズを無駄にキャッシュ 4 KB の I/O 要求は 8 KB のキャッシュ全体のページを半分に、使用可能なキャッシュの削減します。</span><span class="sxs-lookup"><span data-stu-id="3415d-191">A larger size, such as 8 KB, results in wasted cache because a 4 KB I/O request takes up the entire cache page of 8 KB, thereby cutting your usable cache in half.</span></span>|  
|<span data-ttu-id="3415d-192">スピンドル</span><span class="sxs-lookup"><span data-stu-id="3415d-192">Spindles</span></span>|<span data-ttu-id="3415d-193">スピンドルが容量よりもより重要で、スピンドルがサポートする多数のランダムの I/O 要求と BizTalk Server のパフォーマンスが向上します。</span><span class="sxs-lookup"><span data-stu-id="3415d-193">Spindles are more important than capacity, and BizTalk Server performance is improved if the spindles support a high number of random I/O requests.</span></span> <span data-ttu-id="3415d-194">プランのない複数の 80% のための十分な I/O がスピンドルの障害の場合でも、使用する使用率を合計します。</span><span class="sxs-lookup"><span data-stu-id="3415d-194">Plan for no more than 80 percent total utilization to ensure sufficient I/O is available, even in cases of a spindle failure.</span></span>|  
|<span data-ttu-id="3415d-195">Raid</span><span class="sxs-lookup"><span data-stu-id="3415d-195">Raid</span></span>|<span data-ttu-id="3415d-196">コストとパフォーマンスのトレードオフは、環境に適したに基づいて、RAID ソリューションを使用する必要があります。</span><span class="sxs-lookup"><span data-stu-id="3415d-196">The RAID solution you use should be based on the cost and performance trade-offs that are appropriate for your environment.</span></span> <span data-ttu-id="3415d-197">そのため、RAID ソリューションの 1 つ以上の型の場合は、特定のデータ ストレージ要件をお勧めします可能性があります。</span><span class="sxs-lookup"><span data-stu-id="3415d-197">Therefore, more than one type of RAID solution may be recommended for a particular data storage requirement.</span></span> <span data-ttu-id="3415d-198">一般的な推奨事項は次のとおりです。</span><span class="sxs-lookup"><span data-stu-id="3415d-198">General recommendations are as follows:</span></span><br /><br /> <span data-ttu-id="3415d-199">-Raid の使用-1 + 0 (ミラー化された一連のストライプ セット) の BizTalk Server データベース。</span><span class="sxs-lookup"><span data-stu-id="3415d-199">-   Use Raid-1+0 (striped sets in a mirrored set) for the BizTalk Server databases.</span></span><br /><span data-ttu-id="3415d-200">-トランザクション ログ ファイルのボリュームの Raid 1 (ミラー化されたセット パリティなし) を使用します。</span><span class="sxs-lookup"><span data-stu-id="3415d-200">-   Use Raid-1 (mirrored set without parity) for the transaction log file volumes.</span></span><br /><span data-ttu-id="3415d-201">-一般に、Raid 5 は、最適な信頼性、可用性、およびその他の Raid 構成と比べるとパフォーマンスを指定しないために、Raid 5 (分散パリティ付きストライプ セット) は推奨されません。</span><span class="sxs-lookup"><span data-stu-id="3415d-201">-   In general, Raid 5 (striped set with distributed parity) is not recommended as Raid 5 does not provide optimal reliability, availability and performance as compared to other Raid configurations.</span></span><br /><span data-ttu-id="3415d-202">-永続的なデータ損失の可能性をするため、Raid 0 (ストライプ セット パリティなし) の構成を BizTalk Server の運用環境で使用しないください。</span><span class="sxs-lookup"><span data-stu-id="3415d-202">-   Due to the possibility of permanent data loss, a Raid-0 (striped set without parity) configuration should never be used in a BizTalk Server production environment.</span></span>|  
|<span data-ttu-id="3415d-203">バスの種類</span><span class="sxs-lookup"><span data-stu-id="3415d-203">Bus type</span></span>|<span data-ttu-id="3415d-204">高いスループットでは、パフォーマンスが優れています。</span><span class="sxs-lookup"><span data-stu-id="3415d-204">Higher throughput provides better performance.</span></span> <span data-ttu-id="3415d-205">一般に、SCSI バスでは、スループットとバスの IDE または ATA よりもスケーラビリティの向上を提供します。</span><span class="sxs-lookup"><span data-stu-id="3415d-205">In general, SCSI buses provide better throughput and scalability than IDE or ATA buses.</span></span> <span data-ttu-id="3415d-206">次の式を使用して、バスの種類の理論的なスループットの上限を決定できます。</span><span class="sxs-lookup"><span data-stu-id="3415d-206">You can use the following equation to determine the theoretical throughput limit for your bus type:</span></span><br /><br /> <span data-ttu-id="3415d-207">(Bits) の「バス速度/バイトあたり 8 ビット)動作速度 (MHz) x (MB/秒) でスループットを =</span><span class="sxs-lookup"><span data-stu-id="3415d-207">(Bus speed (in bits) / 8 bits per byte) X Operating speed (in MHz) = Throughput (in MB/s)</span></span><br /><br /> <span data-ttu-id="3415d-208">複数のドライブを別の I/O バスに配置することで、ディスク I/O パフォーマンスを改善できます。</span><span class="sxs-lookup"><span data-stu-id="3415d-208">You can also improve disk I/O performance by placing multiple drives on separate I/O buses.</span></span>|  
  
#### <a name="performance-counters-for-measuring-disk-io-bottlenecks"></a><span data-ttu-id="3415d-209">ディスク I/O のボトルネックを測定するためのパフォーマンス カウンター</span><span class="sxs-lookup"><span data-stu-id="3415d-209">Performance counters for measuring disk I/O bottlenecks</span></span>  
  
> [!NOTE]
>  <span data-ttu-id="3415d-210">ディスク パフォーマンスのボトルネックを分析しようとすると、常に物理ディスク カウンターを使用する必要があります。</span><span class="sxs-lookup"><span data-stu-id="3415d-210">When attempting to analyze disk performance bottlenecks, you should always use physical disk counters.</span></span> <span data-ttu-id="3415d-211">ただし、ソフトウェア RAID を使用する場合は、論理ディスク カウンターを使用する必要があります。</span><span class="sxs-lookup"><span data-stu-id="3415d-211">However, if you use software RAID, you should use logical disk counters.</span></span> <span data-ttu-id="3415d-212">論理ディスクと物理ディスク カウンターでは、同じカウンターはの各カウンターのオブジェクトで使用できます。</span><span class="sxs-lookup"><span data-stu-id="3415d-212">As for Logical Disk and Physical Disk Counters, the same counters are available in each of these counter objects.</span></span> <span data-ttu-id="3415d-213">ボリューム マネージャー (または管理者) の論理ディスクのデータが追跡され、物理ディスクのデータは、パーティション マネージャーによって追跡されます。</span><span class="sxs-lookup"><span data-stu-id="3415d-213">Logical disk data is tracked by the volume manager (or managers), and physical disk data is tracked by the partition manager.</span></span>  
  
 <span data-ttu-id="3415d-214">システムにディスク I/O 関連のボトルネックが発生しているかどうかを判断するには、次のパフォーマンス カウンターを使用してください。</span><span class="sxs-lookup"><span data-stu-id="3415d-214">The following performance counters should be used to determine if your system is experiencing a disk I/O related bottleneck:</span></span>  
  
-   <span data-ttu-id="3415d-215">**Physicaldisk \avg.Disk Queue Length**</span><span class="sxs-lookup"><span data-stu-id="3415d-215">**PhysicalDisk\Avg. Disk Queue Length**</span></span>  
  
    -   <span data-ttu-id="3415d-216">しきい値:2 を加えたスピンドルの数よりも大きくできないする必要があります。</span><span class="sxs-lookup"><span data-stu-id="3415d-216">Threshold: Should not be higher than the number of spindles plus two.</span></span>  
  
    -   <span data-ttu-id="3415d-217">重要:このカウンターは、両方の読み取りの平均数を示すし、サンプリング間隔中に、選択したディスクのキューに置かれた要求を書き込みます。</span><span class="sxs-lookup"><span data-stu-id="3415d-217">Significance: This counter indicates the average number of both read and writes requests that were queued for the selected disk during the sample interval.</span></span> <span data-ttu-id="3415d-218">このカウンターは、データの急激な増加を含む、同時実行データを収集するために役立ちますし、ピークを読み込みます。</span><span class="sxs-lookup"><span data-stu-id="3415d-218">This counter is useful for gathering concurrency data, including data bursts and peak loads.</span></span> <span data-ttu-id="3415d-219">これらの値は、以下の統計情報の取得、ドライバーの処理中の要求の数を表します。</span><span class="sxs-lookup"><span data-stu-id="3415d-219">These values represent the number of requests in flight below the driver taking the statistics.</span></span> <span data-ttu-id="3415d-220">つまり、要求は必ずしもキュー登録されませんが、サービスに実際にある可能性がありますまたは完了し、方法でバックアップのパス。</span><span class="sxs-lookup"><span data-stu-id="3415d-220">This means the requests are not necessarily queued but could actually be in service or completed and on the way back up the path.</span></span> <span data-ttu-id="3415d-221">使用可能な実行中の場所を以下に示します。</span><span class="sxs-lookup"><span data-stu-id="3415d-221">Possible in-flight locations include the following:</span></span>  
  
        -   <span data-ttu-id="3415d-222">SCSIport または Storport のキュー</span><span class="sxs-lookup"><span data-stu-id="3415d-222">SCSIport or Storport queue</span></span>  
  
        -   <span data-ttu-id="3415d-223">OEM ドライバー キュー</span><span class="sxs-lookup"><span data-stu-id="3415d-223">OEM driver queue</span></span>  
  
        -   <span data-ttu-id="3415d-224">ディスク コント ローラーのキュー</span><span class="sxs-lookup"><span data-stu-id="3415d-224">Disk controller queue</span></span>  
  
        -   <span data-ttu-id="3415d-225">ハード ディスクのキュー</span><span class="sxs-lookup"><span data-stu-id="3415d-225">Hard disk queue</span></span>  
  
        -   <span data-ttu-id="3415d-226">アクティブにハード ディスクからの受信</span><span class="sxs-lookup"><span data-stu-id="3415d-226">Actively receiving from a hard disk</span></span>  
  
-   <span data-ttu-id="3415d-227">**Physicaldisk \avg.Disk Read Queue Length**</span><span class="sxs-lookup"><span data-stu-id="3415d-227">**PhysicalDisk\Avg. Disk Read Queue Length**</span></span>  
  
    -   <span data-ttu-id="3415d-228">しきい値:2 より小さい必要があります。</span><span class="sxs-lookup"><span data-stu-id="3415d-228">Threshold: Should be less than two.</span></span>  
  
    -   <span data-ttu-id="3415d-229">重要:このカウンターは、サンプリング間隔中に、選択したディスクのキューに入っていた読み取り要求の平均数を示します。</span><span class="sxs-lookup"><span data-stu-id="3415d-229">Significance: This counter indicates the average number of read requests that were queued for the selected disk during the sample interval.</span></span>  
  
-   <span data-ttu-id="3415d-230">**Physicaldisk \avg.Disk Write Queue Length**</span><span class="sxs-lookup"><span data-stu-id="3415d-230">**PhysicalDisk\Avg. Disk Write Queue Length**</span></span>  
  
    -   <span data-ttu-id="3415d-231">しきい値:2 より小さい必要があります。</span><span class="sxs-lookup"><span data-stu-id="3415d-231">Threshold: Should be less than two.</span></span>  
  
    -   <span data-ttu-id="3415d-232">重要:このカウンターは、サンプリング間隔中に、選択したディスクのキューに入っていた書き込み要求の平均数を示します。</span><span class="sxs-lookup"><span data-stu-id="3415d-232">Significance: This counter indicates the average number of write requests that were queued for the selected disk during the sample interval.</span></span>  
  
-   <span data-ttu-id="3415d-233">**Physicaldisk \avg.ディスク読み取り秒数**</span><span class="sxs-lookup"><span data-stu-id="3415d-233">**PhysicalDisk\Avg. Disk sec/Read**</span></span>  
  
    -   <span data-ttu-id="3415d-234">しきい値:特定の値はありません。</span><span class="sxs-lookup"><span data-stu-id="3415d-234">Threshold: No specific value.</span></span>  
  
        -   <span data-ttu-id="3415d-235">未満の 10 ミリ秒 (ms) 良い =</span><span class="sxs-lookup"><span data-stu-id="3415d-235">Less than 10 milliseconds (ms) = good</span></span>  
  
        -   <span data-ttu-id="3415d-236">15、25 ミリ秒の間で公平 =</span><span class="sxs-lookup"><span data-stu-id="3415d-236">Between 15 and 25 ms = fair</span></span>  
  
        -   <span data-ttu-id="3415d-237">25 ミリ秒を超える役に立たなかったを =</span><span class="sxs-lookup"><span data-stu-id="3415d-237">Greater than 25 ms = poor</span></span>  
  
    -   <span data-ttu-id="3415d-238">重要:このカウンターは、平均時間を秒単位の読み取り操作をディスクからデータを示します。</span><span class="sxs-lookup"><span data-stu-id="3415d-238">Significance: This counter indicates the average time, in seconds, of a data read operation from the disk.</span></span> <span data-ttu-id="3415d-239">つまり、数が 25 ミリ秒 (ms) よりも大きい場合は、ディスクから読み取るときに、ディスク システムの待機時間が発生します。</span><span class="sxs-lookup"><span data-stu-id="3415d-239">If the number is larger than 25 milliseconds (ms), that means the disk system is experiencing latency when reading from the disk.</span></span> <span data-ttu-id="3415d-240">BizTalk Server をホストするミッション クリティカルなサーバーでは、許容可能なしきい値は非常に低く、約 10 ミリ秒です。</span><span class="sxs-lookup"><span data-stu-id="3415d-240">For mission-critical servers hosting BizTalk Server, the acceptable threshold is much lower, approximately 10 ms.</span></span>  
  
-   <span data-ttu-id="3415d-241">**Physicaldisk \avg.Disk Sec/write**</span><span class="sxs-lookup"><span data-stu-id="3415d-241">**PhysicalDisk\Avg. Disk sec/Write**</span></span>  
  
    -   <span data-ttu-id="3415d-242">しきい値:特定の値はありません。</span><span class="sxs-lookup"><span data-stu-id="3415d-242">Threshold: No specific value.</span></span>  
  
        -   <span data-ttu-id="3415d-243">未満の 10 ミリ秒 (ms) 良い =</span><span class="sxs-lookup"><span data-stu-id="3415d-243">Less than 10 milliseconds (ms) = good</span></span>  
  
        -   <span data-ttu-id="3415d-244">15、25 ミリ秒の間で公平 =</span><span class="sxs-lookup"><span data-stu-id="3415d-244">Between 15 and 25 ms = fair</span></span>  
  
        -   <span data-ttu-id="3415d-245">25 ミリ秒を超える役に立たなかったを =</span><span class="sxs-lookup"><span data-stu-id="3415d-245">Greater than 25 ms = poor</span></span>  
  
    -   <span data-ttu-id="3415d-246">重要:このカウンターは、平均時間 (秒) を示す、データの操作をディスクに書き込みます。</span><span class="sxs-lookup"><span data-stu-id="3415d-246">Significance: This counter indicates the average time, in seconds, of a data write operation to the disk.</span></span> <span data-ttu-id="3415d-247">数が 25 ミリ秒よりも大きい場合は、ディスク システムにディスクに書き込むときに待ち時間が発生します。</span><span class="sxs-lookup"><span data-stu-id="3415d-247">If the number is larger than 25 ms, the disk system experiences latency when writing to the disk.</span></span> <span data-ttu-id="3415d-248">BizTalk Server をホストするミッション クリティカルなサーバーでは、許容可能なしきい値は非常に低く、約 10 ミリ秒です。</span><span class="sxs-lookup"><span data-stu-id="3415d-248">For mission-critical servers hosting BizTalk Server, the acceptable threshold is much lower, approximately 10 ms.</span></span>  
  
-   <span data-ttu-id="3415d-249">**Physicaldisk \avg.Disk sec/Transfer**</span><span class="sxs-lookup"><span data-stu-id="3415d-249">**PhysicalDisk\Avg. Disk sec/Transfer**</span></span>  
  
    -   <span data-ttu-id="3415d-250">しきい値:18 以上 (ミリ秒) することはできません。</span><span class="sxs-lookup"><span data-stu-id="3415d-250">Threshold: Should not be more than 18 milliseconds.</span></span>  
  
    -   <span data-ttu-id="3415d-251">重要:このカウンターは、時間、ディスクの平均転送秒数を示します。</span><span class="sxs-lookup"><span data-stu-id="3415d-251">Significance: This counter indicates the time, in seconds, of the average disk transfer.</span></span> <span data-ttu-id="3415d-252">大量のディスクの断片化、ディスクが遅い場合、またはディスクの障害がある可能性があります。</span><span class="sxs-lookup"><span data-stu-id="3415d-252">This may indicate a large amount of disk fragmentation, slow disks, or disk failures.</span></span> <span data-ttu-id="3415d-253">値を乗算、 **Physical disk \avg. します。ディスク転送秒数**と **\pages/sec**カウンター。</span><span class="sxs-lookup"><span data-stu-id="3415d-253">Multiply the values of the **Physical Disk\Avg. Disk sec/Transfer** and **Memory\Pages/sec** counters.</span></span> <span data-ttu-id="3415d-254">使用可能な物理メモリを必要があるためこれらのカウンターの製品が 0.1 を超える場合に、ページングでのディスク アクセス時間、10% 以上がかかっています。</span><span class="sxs-lookup"><span data-stu-id="3415d-254">If the product of these counters exceeds 0.1, paging is taking more than 10 percent of disk access time, so you need more physical memory available.</span></span>  
  
-   <span data-ttu-id="3415d-255">**PhysicalDisk\Disk Writes/sec**</span><span class="sxs-lookup"><span data-stu-id="3415d-255">**PhysicalDisk\Disk Writes/sec**</span></span>  
  
    -   <span data-ttu-id="3415d-256">しきい値:製造元の仕様に依存します。</span><span class="sxs-lookup"><span data-stu-id="3415d-256">Threshold: Depends on manufacturer’s specifications.</span></span>  
  
    -   <span data-ttu-id="3415d-257">重要:このカウンターは、ディスクの書き込み操作の速度を示します。</span><span class="sxs-lookup"><span data-stu-id="3415d-257">Significance: This counter indicates the rate of write operations on the disk.</span></span>  
  
-   <span data-ttu-id="3415d-258">**プロセッサ\\% DPC Time、% Interrupt Time および % Privileged Time -** 割り込み時間の場合、遅延プロシージャ呼び出し (DPC) の時間が特権モード時間の大部分、カーネルが大量の I/O 要求の処理時間を費やしています。</span><span class="sxs-lookup"><span data-stu-id="3415d-258">**Processor\\% DPC Time, % Interrupt Time and % Privileged Time -** If Interrupt Time and Deferred Procedure Call (DPC) time are a large portion of Privileged Time, the kernel is spending a significant amount of time processing I/O requests.</span></span> <span data-ttu-id="3415d-259">マルチプロセッサ システムで割り込みおよび DPC アフィニティの Cpu の数が少ないを構成することによってパフォーマンスが向上することができる場合によっては、キャッシュの局所性が向上します。</span><span class="sxs-lookup"><span data-stu-id="3415d-259">In some cases performance can be improved by configuring interrupts and DPC affinity to a small number of CPUs on a multiprocessor system, which improves cache locality.</span></span> <span data-ttu-id="3415d-260">それ以外の場合に最適の割り込みと Dpc がボトルネックになってから、割り込みと DPC アクティビティを保持するため、多くの Cpu 間で配布します。</span><span class="sxs-lookup"><span data-stu-id="3415d-260">In other cases, it works best to distribute the interrupts and DPCs among many CPUs, so as to keep the interrupt and DPC activity from becoming a bottleneck.</span></span> <span data-ttu-id="3415d-261">割り込みフィルターの構成ツールを使用して、ネットワーク アダプターの割り込みをマルチプロセッサ コンピューターで特定のプロセッサにバインドする方法の詳細については、"ツールを使用して、割り込みフィルターの構成にネットワーク アダプターの割り込みを特定の場所にバインドする」セクションを参照してください。内のプロセッサ マルチプロセッサ コンピューターで"[オペレーティング システムのパフォーマンスの最適化](~/technical-guides/optimizing-operating-system-performance.md)します。</span><span class="sxs-lookup"><span data-stu-id="3415d-261">For information on using the Interrupt Filter Configuration tool to bind network adapter interrupts to specific processors on multiprocessor computers, see the section “Use the Interrupt Filter Configuration tool to bind network adapter interrupts to specific processors on multiprocessor computers” in [Optimizing Operating System Performance](~/technical-guides/optimizing-operating-system-performance.md).</span></span>  
  
-   <span data-ttu-id="3415d-262">**Processor\DPCs のキューに置かれた/秒 -** Dpc に CPU 時間とカーネルのリソースを消費している方法を測定します。</span><span class="sxs-lookup"><span data-stu-id="3415d-262">**Processor\DPCs Queued / sec -** Measures how DPCs are consuming CPU time and kernel resources.</span></span>  
  
-   <span data-ttu-id="3415d-263">**Processor\Interrupts/秒 -** 割り込みに CPU 時間とカーネルのリソースを消費している方法のもう 1 つの測定値。</span><span class="sxs-lookup"><span data-stu-id="3415d-263">**Processor\Interrupts / sec -** Another measurement of how interrupts are consuming CPU time and kernel resources.</span></span> <span data-ttu-id="3415d-264">最近のディスク コント ローラーは多くの場合、結合または割り込みを 1 つの割り込みは、複数の I/O 完了の処理で結果を結合します。</span><span class="sxs-lookup"><span data-stu-id="3415d-264">Modern disk controllers often combine or coalesce interrupts so that a single interrupt results in the processing of multiple I/O completions.</span></span> <span data-ttu-id="3415d-265">もちろん、割り込み (および入力候補) を遅らせることと、CPU 処理時間を economizing 間にトレードオフがあります。</span><span class="sxs-lookup"><span data-stu-id="3415d-265">Of course, there is a trade-off between delaying interrupts (and thus completions) and economizing CPU processing time.</span></span>  
  
#### <a name="disk-io-tuning-options"></a><span data-ttu-id="3415d-266">ディスク I/O のチューニング オプション</span><span class="sxs-lookup"><span data-stu-id="3415d-266">Disk I/O tuning options</span></span>  
 <span data-ttu-id="3415d-267">ディスク I/O が環境内のボトルネックであると判断した場合は、ボトルネックを軽減するため、次の手法を使用できます。</span><span class="sxs-lookup"><span data-stu-id="3415d-267">If you determine that disk I/O is a bottleneck in your environment, the following techniques may be used to alleviate the bottleneck:</span></span>  
  
-   <span data-ttu-id="3415d-268">**ディスクの断片化を解消**で使用可能な使用[PageDefrag ユーティリティ](http://go.microsoft.com/fwlink/?LinkId=108976)(http://go.microsoft.com/fwlink/?LinkId=108976) Windows ページング ファイルの断片化を解消し、マスター ファイル テーブルを事前に割り当てます。</span><span class="sxs-lookup"><span data-stu-id="3415d-268">**Defragment your disks -** Use the available at [PageDefrag utility](http://go.microsoft.com/fwlink/?LinkId=108976) (http://go.microsoft.com/fwlink/?LinkId=108976) to defragment the Windows paging file and pre-allocate the Master File Tables.</span></span>  
  
-   <span data-ttu-id="3415d-269">**使用してストライプ セットを複数のディスクの I/O 要求を同時に処理する**ミラー化されたボリュームを使用してフォールト トレランスを提供し、I/O パフォーマンスが向上します。</span><span class="sxs-lookup"><span data-stu-id="3415d-269">**Use stripe sets to process I/O requests concurrently over multiple disks -** Use mirrored volumes to provide fault tolerance and increase I/O performance.</span></span> <span data-ttu-id="3415d-270">フォールト トレランスを必要としない場合の実装のストライプ セットが読み取りと書き込みを高速し、記憶域の容量を向上します。</span><span class="sxs-lookup"><span data-stu-id="3415d-270">If you do not require fault tolerance, implement stripe sets for fast reading and writing and improved storage capacity.</span></span> <span data-ttu-id="3415d-271">ストライプ セットを使用している場合 1 つのディスク使用率が減少ため作業は、ボリューム間で配布され、全体的なスループットが向上します。</span><span class="sxs-lookup"><span data-stu-id="3415d-271">When stripe sets are used, per disk utilization is reduced because work is distributed across the volumes, and overall throughput increases.</span></span> <span data-ttu-id="3415d-272">設定ストライプ ディスクを追加する場合は、システムにより、ディスク コント ローラーによってディスク間の競合によってボトルネックが発生する可能性があり、スループットを増加しません。</span><span class="sxs-lookup"><span data-stu-id="3415d-272">If you adding additional disks in a stripe set does not increase throughput, then your system might be experiencing a bottleneck due to contention between disks by the disk controller.</span></span> <span data-ttu-id="3415d-273">この場合、追加のディスク コント ローラーを追加することに役立つ負荷を分散し、パフォーマンスを向上させます。</span><span class="sxs-lookup"><span data-stu-id="3415d-273">In this case, adding an additional disk controller will help distribute load and increase performance.</span></span>  
  
-   <span data-ttu-id="3415d-274">**-複数のドライブ間でワークロードを分散する**Windows クラスタ リングと分散ファイル システムは、複数のディスク ドライブで負荷分散のソリューションを提供します。</span><span class="sxs-lookup"><span data-stu-id="3415d-274">**Distribute workload among multiple drives -** Windows Clustering and Distributed File System provide solutions for load balancing on multiple disk drives.</span></span>  
  
-   <span data-ttu-id="3415d-275">**ファイル圧縮や暗号化の使用を制限**O 集約型の操作をファイルの圧縮と暗号化されます。</span><span class="sxs-lookup"><span data-stu-id="3415d-275">**Limit the use of file compression or encryption -** File compression and encryption are I/O-intensive operations.</span></span> <span data-ttu-id="3415d-276">どうしても必要な場合にのみ、それらを使用しました。</span><span class="sxs-lookup"><span data-stu-id="3415d-276">You should only use them where absolutely necessary.</span></span>  
  
-   <span data-ttu-id="3415d-277">**短い名前 - の作成を無効にする**MS-DOS の Windows 3.x のクライアントをサポートしない場合は、パフォーマンスを向上させるために短い名前を無効にします。</span><span class="sxs-lookup"><span data-stu-id="3415d-277">**Disable creation of short names -** If you are not supporting MS-DOS for Windows 3.x clients, disable short names to improve performance.</span></span> <span data-ttu-id="3415d-278">短い名前の作成を無効にする方法の詳細についてを参照してください「短いファイル名 (8.3) の生成を無効にする」で[オペレーティング システムのパフォーマンスの最適化](~/technical-guides/optimizing-operating-system-performance.md)します。</span><span class="sxs-lookup"><span data-stu-id="3415d-278">For more information about disabling the creation of short names, see the section “Disable short-file-name (8.3) generation” in [Optimizing Operating System Performance](~/technical-guides/optimizing-operating-system-performance.md).</span></span>  
  
-   <span data-ttu-id="3415d-279">**アクセスの前回の更新を無効にする**ディレクトリを通過するたびに既定では、NTFS がディレクトリに最後にアクセスした日付と時刻のスタンプを更新します。</span><span class="sxs-lookup"><span data-stu-id="3415d-279">**Disable last access update -** By default, NTFS updates the date and time stamp of the last access on directories whenever it traverses the directory.</span></span> <span data-ttu-id="3415d-280">大規模な NTFS ボリュームの場合、この更新プロセスはパフォーマンスを妨げる場合があります。</span><span class="sxs-lookup"><span data-stu-id="3415d-280">For a large NTFS volume, this update process may hinder performance.</span></span> <span data-ttu-id="3415d-281">最後のアクセスの更新プログラムを無効にする方法の詳細については、セクションをご覧ください。"で"NTFS 最後のアクセスの更新プログラムを無効に[オペレーティング システムのパフォーマンスの最適化](~/technical-guides/optimizing-operating-system-performance.md)します。</span><span class="sxs-lookup"><span data-stu-id="3415d-281">For more information about disabling last access updates, see the section “Disable NTFS last access updates” in [Optimizing Operating System Performance](~/technical-guides/optimizing-operating-system-performance.md).</span></span>  
  
    > [!CAUTION]
    >  <span data-ttu-id="3415d-282">、増分バックアップ ユーティリティなど、一部のアプリケーションでは、NTFS の更新プログラムの情報に依存し、なしで適切に機能しません。</span><span class="sxs-lookup"><span data-stu-id="3415d-282">Some applications, such as incremental backup utilities, rely on the NTFS update information and will not function correctly without it.</span></span>  
  
-   <span data-ttu-id="3415d-283">**マスター ファイル テーブルに適切な領域を予約**追加、 **NtfsMftZoneReservation**には、通常、NTFS ボリュームに格納されるファイルの数に応じて、レジストリ エントリ。</span><span class="sxs-lookup"><span data-stu-id="3415d-283">**Reserve appropriate space for the master file table -** Add the **NtfsMftZoneReservation** entry to the registry depending on the number of files that are typically stored on your NTFS volumes.</span></span> <span data-ttu-id="3415d-284">このエントリをレジストリに追加すると、システムは、マスター ファイル テーブルのボリュームの領域を予約します。</span><span class="sxs-lookup"><span data-stu-id="3415d-284">When you add this entry to the registry, the system reserves space on the volume for the master file table.</span></span> <span data-ttu-id="3415d-285">この方法での領域を予約すると、最適に拡大するマスター ファイル テーブルが使用できます。</span><span class="sxs-lookup"><span data-stu-id="3415d-285">Reserving space in this manner allows the master file table to grow optimally.</span></span> <span data-ttu-id="3415d-286">一般に、NTFS ボリュームは比較的いくつかのファイルを保存する場合、は、既定値の 1 にこのレジストリ エントリの値を設定します。</span><span class="sxs-lookup"><span data-stu-id="3415d-286">If your NTFS volumes generally store relatively few files, set the value of this registry entry to the default value of 1.</span></span> <span data-ttu-id="3415d-287">通常、NTFS ボリューム、ファイルの中程度の数値を格納し、NTFS ボリュームは、比較的多数のファイルを格納する傾向がある場合は、4 (最大) の値を使用する場合は、2 または 3 の値を使用できます。</span><span class="sxs-lookup"><span data-stu-id="3415d-287">Typically you can use a value of 2 or 3 if your NTFS volumes store a moderate numbers of files, and use a value of 4 (the maximum) if your NTFS volumes tend to contain a relatively large number of files.</span></span> <span data-ttu-id="3415d-288">ただし、必ず 2 より大きいすべての設定をテストするため、これらのより大きな値により、マスター ファイル テーブルのディスクの量に大きな部分を予約するシステムです。</span><span class="sxs-lookup"><span data-stu-id="3415d-288">However, make sure to test any settings greater than 2, because these greater values cause the system to reserve a much larger portion of the disk for the master file table.</span></span> <span data-ttu-id="3415d-289">追加の詳細については、 **NtfsMftZoneReservation**をレジストリに、セクション「増加 space マスター ファイル テーブルに」を参照してください。[オペレーティング システム パフォーマンスの最適化](~/technical-guides/optimizing-operating-system-performance.md)します。</span><span class="sxs-lookup"><span data-stu-id="3415d-289">For more information about adding the **NtfsMftZoneReservation** to the registry, see the section “Increase space available for the master file table” in [Optimizing Operating System Performance](~/technical-guides/optimizing-operating-system-performance.md).</span></span>  
  
-   <span data-ttu-id="3415d-290">**-使用可能な最も効率的なディスク システムを使用して**のために使用される、物理ディスクに加えて使用されるディスク コント ローラー、ケーブル接続の種類を検討してください。</span><span class="sxs-lookup"><span data-stu-id="3415d-290">**Use the most efficient disk systems available -** In addition to the physical disk that is used, consider the type of disk controller and cabling that will be used.</span></span> <span data-ttu-id="3415d-291">効率的なディスク サブシステムには、割り込み節度またはディスク I/O によるプロセッサの割り込み処理状況を軽減するために中断を回避することをサポートするドライバーも提供する必要があります。</span><span class="sxs-lookup"><span data-stu-id="3415d-291">An efficient disk subsystem should also provide drivers that support interrupt moderation or interrupt avoidance to mitigate processor interrupt activity caused by disk I/O.</span></span>  
  
-   <span data-ttu-id="3415d-292">**適切な RAID 構成 - を使用していることを確認**最適なパフォーマンスとフォールト トレランスのための使用 RAID 10 (ストライピングとミラーリング)。</span><span class="sxs-lookup"><span data-stu-id="3415d-292">**Ensure that you are using the appropriate RAID configuration -** Use RAID 10 (striping and mirroring) for optimal performance and fault tolerance.</span></span> <span data-ttu-id="3415d-293">トレードオフは、RAID 10 を使用して高価です。</span><span class="sxs-lookup"><span data-stu-id="3415d-293">The tradeoff is that using RAID 10 is expensive.</span></span> <span data-ttu-id="3415d-294">広範な書き込み操作がある場合は、RAID 5 を使用しないでください。</span><span class="sxs-lookup"><span data-stu-id="3415d-294">Avoid using RAID 5 when you have extensive write operations.</span></span> <span data-ttu-id="3415d-295">BizTalk Server 環境での RAID の実装に関する詳細については、「ディスク インフラストラクチャ」セクションを参照してください、 [BizTalk Server データベースの最適化に関するホワイト ペーパー](http://go.microsoft.com/fwlink/?LinkID=101578) (http://go.microsoft.com/fwlink/?LinkID=101578) します。</span><span class="sxs-lookup"><span data-stu-id="3415d-295">For more information about implementing RAID in a BizTalk Server environment, see the section “Disk Infrastructure” in the [BizTalk Server Database Optimization white paper](http://go.microsoft.com/fwlink/?LinkID=101578) (http://go.microsoft.com/fwlink/?LinkID=101578).</span></span>  
  
-   <span data-ttu-id="3415d-296">**検討してください - データベースのパーティションを使用して**データベース パーティションを使用して、特定のテーブルとトランザクション ログへのディスクのマッピングをデータベースのボトルネックがある場合を検討してください。</span><span class="sxs-lookup"><span data-stu-id="3415d-296">**Consider using database partitions -** If you have a database bottleneck, consider using database partitions and mapping disks to specific tables and transaction logs.</span></span> <span data-ttu-id="3415d-297">パーティションの主な目的は、大きなテーブルのディスクのボトルネックを克服するためにです。</span><span class="sxs-lookup"><span data-stu-id="3415d-297">The primary purpose of partitions is to overcome disk bottlenecks for large tables.</span></span> <span data-ttu-id="3415d-298">多くの行を含むテーブルがあり、ボトルネックの原因があると判断した場合は、パーティションの使用を検討してください。</span><span class="sxs-lookup"><span data-stu-id="3415d-298">If you have a table with large number of rows and you determine that it is the source of a bottleneck, consider using partitions.</span></span> <span data-ttu-id="3415d-299">SQL server の I/O パフォーマンスを向上させるためにファイル グループを使用できます。</span><span class="sxs-lookup"><span data-stu-id="3415d-299">For SQL Server, you can use file groups to improve I/O performance.</span></span> <span data-ttu-id="3415d-300">ファイル グループにテーブルを関連付けるし、特定のハード ディスク ファイル グループを関連付けることができます。</span><span class="sxs-lookup"><span data-stu-id="3415d-300">You can associate tables with file groups, and then associate the file groups with a specific hard disk.</span></span> <span data-ttu-id="3415d-301">詳細については、BizTalk Server データベースの最適化ファイル グループを使用して、次を参照してください。[データベースのファイル グループを最適化する](~/technical-guides/optimizing-filegroups-for-the-databases2.md)します。</span><span class="sxs-lookup"><span data-stu-id="3415d-301">For more information about using optimizing filegroups for the BizTalk Server databases, see [Optimizing Filegroups for the Databases](~/technical-guides/optimizing-filegroups-for-the-databases2.md).</span></span>  
  
-   <span data-ttu-id="3415d-302">**物理メモリの追加を検討していれば、過度のページ フォールト -** の値が大きい、**メモリ。ページ/秒**過度なページング ディスクが増加する可能性がパフォーマンス カウンターは 0。</span><span class="sxs-lookup"><span data-stu-id="3415d-302">**Consider adding physical memory, if you have excessive page faults -** A high value for the **Memory: Pages/sec** performance counter could indicate excessive paging which will increase disk I/0.</span></span> <span data-ttu-id="3415d-303">このような場合は、ディスク I/O を削減し、パフォーマンスが向上する物理メモリを追加することを検討してください。</span><span class="sxs-lookup"><span data-stu-id="3415d-303">If this occurs, consider adding physical memory to reduce disk I/O and increase performance.</span></span>  
  
-   <span data-ttu-id="3415d-304">**評価またはストレージ エリア ネットワーク (SAN) を使用して、高い RPM ディスクを使用するデバイス -** RPM の評価の向上を使用したディスクは、RPM の評価が低いでディスクと比較してパフォーマンスの向上を提供します。</span><span class="sxs-lookup"><span data-stu-id="3415d-304">**Consider using a disk with a higher RPM rating or using a Storage Area Network (SAN) device -** Disks with higher RPM ratings offer improved performance compared to disks with lower RPM ratings.</span></span> <span data-ttu-id="3415d-305">SAN デバイスは、通常、最上位層のパフォーマンスを提供が価格重視します。</span><span class="sxs-lookup"><span data-stu-id="3415d-305">SAN devices typically offer top tier performance but at a price premium.</span></span>  
  
-   <span data-ttu-id="3415d-306">推奨事項に従い[データベースのパフォーマンスの最適化](~/technical-guides/optimizing-database-performance.md)します。</span><span class="sxs-lookup"><span data-stu-id="3415d-306">Follow the recommendations in [Optimizing Database Performance](~/technical-guides/optimizing-database-performance.md).</span></span> <span data-ttu-id="3415d-307">このトピックでは前に、と後に BizTalk Server 構成データベースのパフォーマンスを最適化するためのいくつかの推奨事項を提供します。</span><span class="sxs-lookup"><span data-stu-id="3415d-307">This topic provides several recommendations for optimizing database performance both before and after configuring BizTalk Server.</span></span>  
  
### <a name="cpu-bottlenecks"></a><span data-ttu-id="3415d-308">CPU のボトルネック</span><span class="sxs-lookup"><span data-stu-id="3415d-308">CPU bottlenecks</span></span>  
 <span data-ttu-id="3415d-309">サーバーで実行されている各アプリケーションは、CPU のタイム スライスを取得します。</span><span class="sxs-lookup"><span data-stu-id="3415d-309">Each application that runs on a server gets a time slice of the CPU.</span></span> <span data-ttu-id="3415d-310">CPU は、すべてのコンピューターで実行されているプロセスを効率的に処理できる場合があります。 またはオーバー ロードがあります。</span><span class="sxs-lookup"><span data-stu-id="3415d-310">The CPU might be able to efficiently handle all of the processes running on the computer, or it might be overloaded.</span></span> <span data-ttu-id="3415d-311">プロセッサ アクティビティとスレッドの作成、スレッドの切り替えとコンテキストの切り替えを含む個々 のプロセスのアクティビティを確認するには、プロセッサの負荷やパフォーマンスに関する洞察を得ることができます。</span><span class="sxs-lookup"><span data-stu-id="3415d-311">By examining processor activity and the activity of individual processes including thread creation, thread switching and context switching, you can gain insight into processor workload and performance.</span></span>  
  
#### <a name="you-may-have-a-cpu-bottleneck-if"></a><span data-ttu-id="3415d-312">場合は、CPU のボトルネックがあります.</span><span class="sxs-lookup"><span data-stu-id="3415d-312">You may have a CPU bottleneck if…</span></span>  
  
-   <span data-ttu-id="3415d-313">値、**プロセッサ\\% Processor Time**パフォーマンス カウンターは多くの場合、75% を超えています。</span><span class="sxs-lookup"><span data-stu-id="3415d-313">The value of the **Processor\\% Processor Time** performance counter often exceeds 75%.</span></span>  
  
-   <span data-ttu-id="3415d-314">値、**システムの Processor Queue Length**パフォーマンス カウンターは、しばらくの間の 2 つ以上。</span><span class="sxs-lookup"><span data-stu-id="3415d-314">The value of the **System\ Processor Queue Length** performance counter is 2 or more for a sustained period of time.</span></span>  
  
-   <span data-ttu-id="3415d-315">値、**プロセッサ\\% Privileged Time**または**system \context switches/sec**パフォーマンス カウンターが異常に高いです。</span><span class="sxs-lookup"><span data-stu-id="3415d-315">The value of the **Processor\\% Privileged Time** or **System\Context Switches/sec** performance counters are unusually high.</span></span>  
  
     <span data-ttu-id="3415d-316">場合の値**processor \ % Processor Time**パフォーマンス カウンターが高い、し、キューに配置、およびほとんどのシナリオでの値**システムの Processor Queue Length**も大きくなります。</span><span class="sxs-lookup"><span data-stu-id="3415d-316">If the value of **Processor\ % Processor Time** performance counter is high, then queuing occurs, and in most scenarios the value of **System\ Processor Queue Length** will also be high.</span></span>  
  
#### <a name="performance-counters-for-measuring-cpu-bottlenecks"></a><span data-ttu-id="3415d-317">CPU のボトルネックを測定するためのパフォーマンス カウンター</span><span class="sxs-lookup"><span data-stu-id="3415d-317">Performance counters for measuring CPU bottlenecks</span></span>  
 <span data-ttu-id="3415d-318">システムに関連する CPU のボトルネックが発生しているかどうかを判断するには、次のパフォーマンス カウンターを使用してください。</span><span class="sxs-lookup"><span data-stu-id="3415d-318">The following performance counters should be used to determine if your system is experiencing a CPU related bottleneck:</span></span>  
  
-   <span data-ttu-id="3415d-319">**プロセッサ\\プロセッサ時間の割合**</span><span class="sxs-lookup"><span data-stu-id="3415d-319">**Processor\\% Processor Time**</span></span>  
  
    -   <span data-ttu-id="3415d-320">しきい値:85% 未満である必要があります。</span><span class="sxs-lookup"><span data-stu-id="3415d-320">Threshold: Should be less than 85%.</span></span>  
  
    -   <span data-ttu-id="3415d-321">重要:このカウンターは、プロセッサ アクティビティのプライマリ インジケーターです。</span><span class="sxs-lookup"><span data-stu-id="3415d-321">Significance: This counter is the primary indicator of processor activity.</span></span> <span data-ttu-id="3415d-322">値が高い多く必ずしもとは限らない。</span><span class="sxs-lookup"><span data-stu-id="3415d-322">High values many not necessarily be bad.</span></span> <span data-ttu-id="3415d-323">ただし、プロセッサに関連するカウンターが次のように直線的に増加しているかどうかは**プロセッサ\\% Privileged Time**または**system \processor Queue Length**、価値の高い CPU 使用率があります調査中です。</span><span class="sxs-lookup"><span data-stu-id="3415d-323">However, if the other processor-related counters are increasing linearly such as **Processor\\% Privileged Time** or **System\Processor Queue Length**, high CPU utilization may be worth investigating.</span></span>  
  
-   <span data-ttu-id="3415d-324">**プロセッサ\\特権モード時間の割合**</span><span class="sxs-lookup"><span data-stu-id="3415d-324">**Processor\\% Privileged Time**</span></span>  
  
    -   <span data-ttu-id="3415d-325">しきい値:一貫した方法が 75% を超えるを図では、ボトルネックを示します。</span><span class="sxs-lookup"><span data-stu-id="3415d-325">Threshold: A figure that is consistently over 75 percent indicates a bottleneck.</span></span>  
  
    -   <span data-ttu-id="3415d-326">重要:このカウンターは、スレッドが特権モードで実行時間の割合を示します。</span><span class="sxs-lookup"><span data-stu-id="3415d-326">Significance: This counter indicates the percentage of time a thread runs in privileged mode.</span></span> <span data-ttu-id="3415d-327">アプリケーション (たとえば、ファイルまたはネットワーク I/O を実行する、またはメモリを割り当てるなど) のオペレーティング システム関数を呼び出すときに、これらのオペレーティング システム関数が特権モードで実行されます。</span><span class="sxs-lookup"><span data-stu-id="3415d-327">When your application calls operating system functions (for example to perform file or network I/O or to allocate memory), these operating system functions are executed in privileged mode.</span></span>  
  
-   <span data-ttu-id="3415d-328">**プロセッサ\\割り込み時間の割合**</span><span class="sxs-lookup"><span data-stu-id="3415d-328">**Processor\\% Interrupt Time**</span></span>  
  
    -   <span data-ttu-id="3415d-329">しきい値:プロセッサによって異なります。</span><span class="sxs-lookup"><span data-stu-id="3415d-329">Threshold: Depends on the processor.</span></span>  
  
    -   <span data-ttu-id="3415d-330">重要:このカウンターは、プロセッサがハードウェア割り込みを受け取ってに費やした時間の割合を示します。</span><span class="sxs-lookup"><span data-stu-id="3415d-330">Significance: This counter indicates the percentage of time the processor spends receiving and servicing hardware interrupts.</span></span> <span data-ttu-id="3415d-331">この値は、ネットワーク アダプターなど、割り込みを発生するデバイスの処理状況を間接的に示します。</span><span class="sxs-lookup"><span data-stu-id="3415d-331">This value is an indirect indicator of the activity of devices that generate interrupts, such as network adapters.</span></span> <span data-ttu-id="3415d-332">このカウンターが大幅に向上では、潜在的なハードウェアの問題を示します。</span><span class="sxs-lookup"><span data-stu-id="3415d-332">A dramatic increase in this counter indicates potential hardware problems.</span></span>  
  
-   <span data-ttu-id="3415d-333">**System\Processor Queue Length**</span><span class="sxs-lookup"><span data-stu-id="3415d-333">**System\Processor Queue Length**</span></span>  
  
    -   <span data-ttu-id="3415d-334">しきい値:2 よりも一貫して高い平均値では、ボトルネックになっていることを示します。</span><span class="sxs-lookup"><span data-stu-id="3415d-334">Threshold: An average value consistently higher than 2 indicates a bottleneck.</span></span>  
  
    -   <span data-ttu-id="3415d-335">重要:プロセッサがより多くを実行する準備がより多くのタスクがある場合は、スレッドがキューです。</span><span class="sxs-lookup"><span data-stu-id="3415d-335">Significance: If there are more tasks ready to run than there are processors, threads queue up.</span></span> <span data-ttu-id="3415d-336">プロセッサのキューは、準備しますですが、別のスレッドが現在実行しているため、プロセッサによって実行されることができないのスレッドのコレクションです。</span><span class="sxs-lookup"><span data-stu-id="3415d-336">The processor queue is the collection of threads that are ready but not able to be executed by the processor because another thread is currently executing.</span></span> <span data-ttu-id="3415d-337">複数の 2 つのスレッドの継続的または定期的なキューは、プロセッサのボトルネックを明確に示しています。</span><span class="sxs-lookup"><span data-stu-id="3415d-337">A sustained or recurring queue of more than two threads is a clear indication of a processor bottleneck.</span></span> <span data-ttu-id="3415d-338">そのような場合に並列処理を減らすことより多くのスループットを取得可能性があります。</span><span class="sxs-lookup"><span data-stu-id="3415d-338">You may get more throughput by reducing parallelism in those cases.</span></span>  
  
         <span data-ttu-id="3415d-339">と共にこのカウンターを使用することができます、**プロセッサ\\% Processor Time**カウンター Cpu からかどうか、アプリケーションを利用できます。</span><span class="sxs-lookup"><span data-stu-id="3415d-339">You can use this counter in conjunction with the **Processor\\% Processor Time** counter to determine if your application can benefit from more CPUs.</span></span> <span data-ttu-id="3415d-340">1 つのキュー、プロセッサ時間のマルチプロセッサ コンピューターでも。</span><span class="sxs-lookup"><span data-stu-id="3415d-340">There is a single queue for processor time, even on multiprocessor computers.</span></span> <span data-ttu-id="3415d-341">そのため、マルチプロセッサ コンピューターでは、ワークロードを処理するプロセッサの数でプロセッサ キューの長さ (PQL) 値で除算します。</span><span class="sxs-lookup"><span data-stu-id="3415d-341">Therefore, in a multiprocessor computer, divide the Processor Queue Length (PQL) value by the number of processors servicing the workload.</span></span>  
  
         <span data-ttu-id="3415d-342">CPU が非常にビジー状態の (90% または高い使用率) と PQL 平均が 1 プロセッサあたり 2 より一貫して高い場合、Cpu の追加の恩恵プロセッサのボトルネックがあります。</span><span class="sxs-lookup"><span data-stu-id="3415d-342">If the CPU is very busy (90 percent or higher utilization) and the PQL average is consistently higher than 2 per processor, you may have a processor bottleneck that could benefit from adding CPUs.</span></span> <span data-ttu-id="3415d-343">または、アプリケーション レベルで複数のスレッドとキューの数を減らすことができます。</span><span class="sxs-lookup"><span data-stu-id="3415d-343">Or, you could reduce the number of threads and queue more at the application level.</span></span> <span data-ttu-id="3415d-344">これにより、少ないコンテキストの切り替えと CPU 負荷を削減するための適切な少なくコンテキストの切り替えが。</span><span class="sxs-lookup"><span data-stu-id="3415d-344">This will cause less context switching, and less context switching is good for reducing CPU load.</span></span> <span data-ttu-id="3415d-345">CPU 使用率が低い 2 以上の PQL 値の一般的な理由は、プロセッサ時間の要求がランダムに到着し、スレッド、プロセッサ時間の不規則な金額を要求することです。</span><span class="sxs-lookup"><span data-stu-id="3415d-345">A common reason for a PQL value of 2 or higher with low CPU utilization is that requests for processor time arrive randomly and threads demand irregular amounts of time from the processor.</span></span> <span data-ttu-id="3415d-346">これは、ため、プロセッサがボトルネックではないことが、アプリケーションのスレッドのロジックを改善する必要があります。</span><span class="sxs-lookup"><span data-stu-id="3415d-346">This means that the processor is not a bottleneck but that the application threading logic should be improved.</span></span>  
  
-   <span data-ttu-id="3415d-347">**System\Context Switches/sec**</span><span class="sxs-lookup"><span data-stu-id="3415d-347">**System\Context Switches/sec**</span></span>  
  
    -   <span data-ttu-id="3415d-348">しきい値:一般的な規則として、コンテキストの切り替え率は心配には 1 プロセッサあたり 1 秒あたり 5,000 未満。</span><span class="sxs-lookup"><span data-stu-id="3415d-348">Threshold: As a general rule, a context switching rate less than 5,000 per second per processor is not worth worrying about.</span></span> <span data-ttu-id="3415d-349">コンテキスト切り替えの率が 1 プロセッサあたり 1 秒あたり 15,000 を超える場合、コンテキストの切り替えがボトルネックとなります。</span><span class="sxs-lookup"><span data-stu-id="3415d-349">If context switching rates exceed 15,000 per second per processor, then context switching can become a bottleneck.</span></span>  
  
    -   <span data-ttu-id="3415d-350">重要:コンテキストの切り替えには、優先度の高いスレッドが現在実行されている、または優先度の高いスレッドが他のスレッドをブロックする場合は、低い優先順位のスレッドを横取りときに発生します。</span><span class="sxs-lookup"><span data-stu-id="3415d-350">Significance: Context switching occurs when a higher priority thread preempts a lower priority thread that is currently running or when a high priority thread blocks other threads.</span></span> <span data-ttu-id="3415d-351">高レベルのコンテキストの切り替えは、多数のスレッドが同じ優先度レベルを共有する場合に発生します。</span><span class="sxs-lookup"><span data-stu-id="3415d-351">High levels of context switching can occur when many threads share the same priority level.</span></span> <span data-ttu-id="3415d-352">これは、多くの場合、システムのプロセッサを競合するスレッドが多すぎますがあることを示します。</span><span class="sxs-lookup"><span data-stu-id="3415d-352">This often indicates that there are too many threads competing for the processors on the system.</span></span> <span data-ttu-id="3415d-353">プロセッサ使用率とコンテキストの切り替えのレベルが低い場合は、これは、多くの場合、スレッドがブロックされていることを示す値です。</span><span class="sxs-lookup"><span data-stu-id="3415d-353">If both processor utilization and context switching levels are low, this is often an indication that threads are blocked.</span></span>  
  
#### <a name="resolving-cpu-bottlenecks"></a><span data-ttu-id="3415d-354">CPU のボトルネックを解決します。</span><span class="sxs-lookup"><span data-stu-id="3415d-354">Resolving CPU bottlenecks</span></span>  
 <span data-ttu-id="3415d-355">最初の手順は、どのプロセスが使用して過度なプロセッサ時間を識別するためにです。</span><span class="sxs-lookup"><span data-stu-id="3415d-355">The first step is to identify which process is consuming excessive processor time.</span></span> <span data-ttu-id="3415d-356">Windows を使用して、**タスク マネージャー**どのプロセスが調べることで高レベルの CPU を消費しているかを識別するために、 **CPU**列に、**プロセス**ページ。</span><span class="sxs-lookup"><span data-stu-id="3415d-356">Use Windows **Task Manager** to identify which process is consuming high levels of CPU by looking at the **CPU** column on the **Processes** page.</span></span> <span data-ttu-id="3415d-357">監視することによっても判断できます**プロセス\\% Processor Time**にパフォーマンス モニター、監視するプロセスを選択します。</span><span class="sxs-lookup"><span data-stu-id="3415d-357">You can also determine this by monitoring **Process\\%Processor Time** in Performance Monitor and selecting the processes you want to monitor.</span></span>  
  
 <span data-ttu-id="3415d-358">過剰な CPU 時間を消費しているプロセスを決定するための別の強力なツールでは、Visual Studio Team System (VSTS) スイートで使用できるは Visual Studio チームのシステム Profiler です。</span><span class="sxs-lookup"><span data-stu-id="3415d-358">Another powerful tool for determining which processes are consuming excessive CPU time is the Visual Studio Team System Profiler that is available with the Visual Studio Team System (VSTS) suite.</span></span> <span data-ttu-id="3415d-359">Visual Studio Team System の Profiler の使用に関する詳細については、Visual Studio Team System のドキュメントを参照してください。</span><span class="sxs-lookup"><span data-stu-id="3415d-359">For more information about using the Visual Studio Team System Profiler, see the Visual Studio Team System documentation.</span></span>  
  
 <span data-ttu-id="3415d-360">CPU がボトルネックであると決定した後、次のいくつかのオプションがあります。</span><span class="sxs-lookup"><span data-stu-id="3415d-360">After you determine that your CPU is a bottleneck you have several options, including the following:</span></span>  
  
-   <span data-ttu-id="3415d-361">マルチ スレッド アプリケーションがある場合は、複数のプロセッサを追加します。</span><span class="sxs-lookup"><span data-stu-id="3415d-361">Add multiple processors if you have multi-threaded applications.</span></span> <span data-ttu-id="3415d-362">アプリケーションがシングル スレッドの場合より強力なプロセッサにアップグレードすることを検討してください。</span><span class="sxs-lookup"><span data-stu-id="3415d-362">Consider upgrading to a more powerful processor if your application is single-threaded.</span></span>  
  
-   <span data-ttu-id="3415d-363">コンテキストの切り替えの率が高いを確認する場合は、プロセッサの数を増やす前に、プロセスのスレッド数を減らすことを検討してください。</span><span class="sxs-lookup"><span data-stu-id="3415d-363">If you observe a high rate of context switching, consider reducing the thread count for your process before increasing the number of processors.</span></span>  
  
-   <span data-ttu-id="3415d-364">分析し、高い CPU 使用率が原因となっているアプリケーションを調整します。</span><span class="sxs-lookup"><span data-stu-id="3415d-364">Analyze and tune the application that is causing high CPU utilization.</span></span> <span data-ttu-id="3415d-365">ADPLUS ユーティリティを使用して、実行中のプロセスをダンプし、Windbg を使用して原因を分析することができます。</span><span class="sxs-lookup"><span data-stu-id="3415d-365">You can dump the running process by using the ADPLUS utility and analyze the cause by using Windbg.</span></span> <span data-ttu-id="3415d-366">これらのユーティリティは、Windows のツールキットのデバッグの一部です。</span><span class="sxs-lookup"><span data-stu-id="3415d-366">These utilities are part of the Windows debugging toolkit.</span></span> <span data-ttu-id="3415d-367">これらのツールをダウンロードする[ツールを Windows のデバッグ](http://go.microsoft.com/fwlink/?LinkID=106624)(http://go.microsoft.com/fwlink/?LinkID=106624) します。</span><span class="sxs-lookup"><span data-stu-id="3415d-367">You can download these tools from [Debugging Tools for Windows](http://go.microsoft.com/fwlink/?LinkID=106624) (http://go.microsoft.com/fwlink/?LinkID=106624).</span></span>  
  
-   <span data-ttu-id="3415d-368">最長実行時間がかかっているサブシステムを分離するアプリケーションによって生成されるインストルメンテーション ログを分析します。</span><span class="sxs-lookup"><span data-stu-id="3415d-368">Analyze the instrumentation log generated by your application to isolate the subsystem that is taking the maximum amount of time for execution.</span></span> <span data-ttu-id="3415d-369">コード レビューを BizTalk Server 環境のチューニングだけよりは有益になるかどうかを決定します。</span><span class="sxs-lookup"><span data-stu-id="3415d-369">Determine whether a code review would be more beneficial than just tuning the BizTalk Server environment.</span></span>  
  
> [!NOTE]
>  <span data-ttu-id="3415d-370">使用して、アプリケーションのプロセス優先度レベルを変更できますが、**タスク マネージャー**からコマンド プロンプトで、一般に避けるべきこと、または。</span><span class="sxs-lookup"><span data-stu-id="3415d-370">Although you can change the process priority level of an application by using **Task Manager** or from a command prompt, you should generally avoid doing so.</span></span>  
  
### <a name="memory-bottlenecks"></a><span data-ttu-id="3415d-371">メモリのボトルネック</span><span class="sxs-lookup"><span data-stu-id="3415d-371">Memory bottlenecks</span></span>  
 <span data-ttu-id="3415d-372">メモリ関連のボトルネックを評価するときに、不要な割り当て、クリーンアップする非効率的で不適切なキャッシュ、および状態管理メカニズムを検討してください。</span><span class="sxs-lookup"><span data-stu-id="3415d-372">When evaluating memory-related bottlenecks, consider unnecessary allocations, inefficient clean up, and inappropriate caching and state management mechanisms.</span></span> <span data-ttu-id="3415d-373">メモリ関連のボトルネックを解決するには、これらの問題を排除し、アプリケーションに割り当てられたメモリの量を調整し、コードを最適化します。</span><span class="sxs-lookup"><span data-stu-id="3415d-373">To resolve memory-related bottlenecks, optimize your code to eliminate these issues and then tune the amount of memory allocated to your application(s).</span></span> <span data-ttu-id="3415d-374">メモリの競合と過剰なページングが発生しているサーバーに物理メモリを追加する必要がありますをチューニング中に決定します。</span><span class="sxs-lookup"><span data-stu-id="3415d-374">If you determine during tuning that memory contention and excessive paging are occurring, you may need to add additional physical memory to the server.</span></span> <span data-ttu-id="3415d-375">メモリ不足は、アプリケーションの仮想アドレス空間やディスクからのページングの増加につながります。</span><span class="sxs-lookup"><span data-stu-id="3415d-375">Low memory leads to increased paging of an application's virtual address space to and from disk.</span></span> <span data-ttu-id="3415d-376">ページングが過剰になると、ディスク I/O が増加し、システム全体のパフォーマンスに悪影響を与えます。</span><span class="sxs-lookup"><span data-stu-id="3415d-376">If paging becomes excessive, disk I/O will increase and negatively impact overall system performance.</span></span>  
  
#### <a name="you-might-have-a-memory-bottleneck-if"></a><span data-ttu-id="3415d-377">場合は、メモリのボトルネックがあります.</span><span class="sxs-lookup"><span data-stu-id="3415d-377">You might have a memory bottleneck if…</span></span>  
  
-   <span data-ttu-id="3415d-378">値、 **memory \available MBytes**パフォーマンス カウンターは、いずれかのシステム メモリの制限事項またはアプリケーションがメモリを解放していない理由は低いです。</span><span class="sxs-lookup"><span data-stu-id="3415d-378">The value of the **Memory\Available MBytes** performance counter is low, either due to system memory limitations or an application that is not releasing memory.</span></span> <span data-ttu-id="3415d-379">値を監視、 **process \working Set**を実行している各プロセスのパフォーマンス カウンター。</span><span class="sxs-lookup"><span data-stu-id="3415d-379">Monitor the value of the **Process\Working Set** performance counter for each process that is running.</span></span> <span data-ttu-id="3415d-380">場合の値、 **process \working Set**が、プロセスがメモリを解放しないことを示す値があります、プロセスがアクティブでない場合でも高のままです。</span><span class="sxs-lookup"><span data-stu-id="3415d-380">If value of the **Process\Working Set** remains high even when the process is not active, this may be an indication that the process is not releasing memory as it should.</span></span>  
  
-   <span data-ttu-id="3415d-381">値、 **\pages/sec**パフォーマンス カウンターが高い。</span><span class="sxs-lookup"><span data-stu-id="3415d-381">The value of the **Memory\Pages/sec** performance counter is high.</span></span> <span data-ttu-id="3415d-382">平均**memory \pages input/sec**の平均で割った値**memory \page reads/sec**ディスクあたりの読み取りページ数を示します。</span><span class="sxs-lookup"><span data-stu-id="3415d-382">The average of **Memory\Pages Input/sec** divided by average of **Memory\Page Reads/sec** gives the number of pages per disk read.</span></span> <span data-ttu-id="3415d-383">この値は、1 秒あたり 5 つのページを通常以下する必要があります。</span><span class="sxs-lookup"><span data-stu-id="3415d-383">This value should not generally exceed five pages per second.</span></span> <span data-ttu-id="3415d-384">1 秒あたり 5 つのページ数よりも大きい値は、システムがあまり時間のページングが取られて、(アプリケーションを最適化することを想定) より多くのメモリが必要だことを示します。</span><span class="sxs-lookup"><span data-stu-id="3415d-384">A value greater than five pages per second indicates that the system is spending too much time paging and requires more memory (assuming that the application has been optimized).</span></span>  
  
#### <a name="performance-counters-for-measuring-memory-bottlenecks"></a><span data-ttu-id="3415d-385">メモリのボトルネックを測定するためのパフォーマンス カウンター</span><span class="sxs-lookup"><span data-stu-id="3415d-385">Performance counters for measuring memory bottlenecks</span></span>  
 <span data-ttu-id="3415d-386">システムにメモリ関連のボトルネックが発生しているかどうかを判断するには、次のパフォーマンス カウンターを使用してください。</span><span class="sxs-lookup"><span data-stu-id="3415d-386">The following performance counters should be used to determine if your system is experiencing a memory related bottleneck:</span></span>  
  
-   <span data-ttu-id="3415d-387">**Memory \available Mbytes**</span><span class="sxs-lookup"><span data-stu-id="3415d-387">**Memory\Available Mbytes**</span></span>  
  
    -   <span data-ttu-id="3415d-388">しきい値:インストールされている RAM の 20 ~ 25% 未満の一貫性のある値は、メモリ不足を示す値です。</span><span class="sxs-lookup"><span data-stu-id="3415d-388">Threshold: A consistent value of less than 20 to 25 percent of installed RAM is an indication of insufficient memory.</span></span>  
  
    -   <span data-ttu-id="3415d-389">重要:これは、コンピューターで実行されているプロセスに使用できる物理メモリの量を示します。</span><span class="sxs-lookup"><span data-stu-id="3415d-389">Significance: This indicates the amount of physical memory available to processes running on the computer.</span></span> <span data-ttu-id="3415d-390">このカウンターが最後に計測された値のみを表示することに注意してください。</span><span class="sxs-lookup"><span data-stu-id="3415d-390">Note that this counter displays the last observed value only.</span></span> <span data-ttu-id="3415d-391">平均ではありません。</span><span class="sxs-lookup"><span data-stu-id="3415d-391">It is not an average.</span></span>  
  
-   <span data-ttu-id="3415d-392">**Memory\Page Reads/sec**</span><span class="sxs-lookup"><span data-stu-id="3415d-392">**Memory\Page Reads/sec**</span></span>  
  
    -   <span data-ttu-id="3415d-393">しきい値:5 つ以上の持続的な値では、読み取り要求のページ フォールトの数が多いを示します。</span><span class="sxs-lookup"><span data-stu-id="3415d-393">Threshold: Sustained values of more than five indicate a large number of page faults for read requests.</span></span>  
  
    -   <span data-ttu-id="3415d-394">重要:このカウンターは、プロセスのワーキング セットがメモリをディスクにページを原因となっている使用可能な物理メモリに対して大きすぎることを示します。</span><span class="sxs-lookup"><span data-stu-id="3415d-394">Significance: This counter indicates that the working set of a process is too large for the available physical memory which is causing memory to page to disk.</span></span> <span data-ttu-id="3415d-395">これには、各操作で取得されたページ数に関係なく、読み取り操作数が表示されます。</span><span class="sxs-lookup"><span data-stu-id="3415d-395">It shows the number of read operations, without regard to the number of pages retrieved in each operation.</span></span> <span data-ttu-id="3415d-396">高い値は、メモリのボトルネックを示します。</span><span class="sxs-lookup"><span data-stu-id="3415d-396">Higher values indicate a memory bottleneck.</span></span>  
  
         <span data-ttu-id="3415d-397">値が大きいと一致するページの読み取り操作の率が低い、かどうか**物理ディスク\\% Disk Time**と**Physical disk \avg. します。Disk Queue Length**、ディスク I/O のボトルネックの条件が存在する可能性があります。</span><span class="sxs-lookup"><span data-stu-id="3415d-397">If a low rate of page-read operations coincides with high values for **Physical Disk\\% Disk Time** and **Physical Disk\Avg. Disk Queue Length**, a disk I/O bottleneck condition may exist.</span></span> <span data-ttu-id="3415d-398">キューの長さの増加が付属ページ読み取り速度が低下していない、いる場合は、物理メモリの不足が原因メモリのボトルネックが存在します。</span><span class="sxs-lookup"><span data-stu-id="3415d-398">If an increase in queue length is not accompanied by a decrease in the pages-read rate, a memory bottleneck exists due to insufficient physical memory.</span></span>  
  
-   <span data-ttu-id="3415d-399">**Memory\Pages/sec**</span><span class="sxs-lookup"><span data-stu-id="3415d-399">**Memory\Pages/sec**</span></span>  
  
    -   <span data-ttu-id="3415d-400">しきい値:6 つ以上の持続的な値には、ボトルネックになっていることを示します。</span><span class="sxs-lookup"><span data-stu-id="3415d-400">Threshold: A sustained value of more than five indicates a bottleneck.</span></span>  
  
    -   <span data-ttu-id="3415d-401">重要:このカウンターは、ページの読み取り、ハード ページ フォールトを解決するのにはディスクに書き込まれる位置の速度を示します。</span><span class="sxs-lookup"><span data-stu-id="3415d-401">Significance: This counter indicates the rate at which pages are read from or written to disk to resolve hard page faults.</span></span> <span data-ttu-id="3415d-402">値を乗算、 **Physical disk \avg. します。ディスク転送秒数**と **\pages/sec**パフォーマンス カウンター。</span><span class="sxs-lookup"><span data-stu-id="3415d-402">Multiply the values of the **Physical Disk\Avg. Disk sec/Transfer** and **Memory\Pages/sec** performance counters.</span></span> <span data-ttu-id="3415d-403">これらの値の積を超えた場合**0.1**ページングが使用している 10% を超えるディスク アクセス時間は、十分な物理メモリが使用できることを示します。</span><span class="sxs-lookup"><span data-stu-id="3415d-403">If the product of these values exceeds **0.1**, paging is utilizing more than 10 percent of disk access time, which indicates that insufficient physical memory is available.</span></span>  
  
-   <span data-ttu-id="3415d-404">**Memory\Pool Nonpaged Bytes**</span><span class="sxs-lookup"><span data-stu-id="3415d-404">**Memory\Pool Nonpaged Bytes**</span></span>  
  
    -   <span data-ttu-id="3415d-405">しきい値:値を観察**memory \pool Nonpaged Bytes**のシステムの起動時にその値から 10% 以上増加します。</span><span class="sxs-lookup"><span data-stu-id="3415d-405">Threshold: Watch the value of **Memory\Pool Nonpaged Bytes** for an increase of 10 percent or more from its value at system startup.</span></span>  
  
    -   <span data-ttu-id="3415d-406">重要:起動時に値から 10% 以上増加には、メモリ リークを示す可能性があります。</span><span class="sxs-lookup"><span data-stu-id="3415d-406">Significance: An increase of 10 percent or more from the value at startup may be an indication of a memory leak.</span></span>  
  
-   <span data-ttu-id="3415d-407">**Server\Pool Nonpaged エラー**</span><span class="sxs-lookup"><span data-stu-id="3415d-407">**Server\Pool Nonpaged Failures**</span></span>  
  
    -   <span data-ttu-id="3415d-408">しきい値:正規表現のゼロ以外の値は、ボトルネックを示します。</span><span class="sxs-lookup"><span data-stu-id="3415d-408">Threshold: Regular nonzero values indicate a bottleneck.</span></span>  
  
    -   <span data-ttu-id="3415d-409">重要:このカウンターは、非ページ プールから割り当てが失敗した回数を示します。</span><span class="sxs-lookup"><span data-stu-id="3415d-409">Significance: This counter indicates the number of times allocations from the non-paged pool have failed.</span></span> <span data-ttu-id="3415d-410">非ページ プールには、カーネル オブジェクト テーブルの処理などのディスク上のページファイルにスワップ アウトをプロセスの仮想アドレス空間からのページが含まれています。</span><span class="sxs-lookup"><span data-stu-id="3415d-410">The non-paged pool contains pages from a process's virtual address space that are not to be swapped out to the page file on disk, such as a process kernel object table.</span></span> <span data-ttu-id="3415d-411">このようなオブジェクトを作成できます数のプロセス、スレッド、およびその他の非ページ プールの可用性を決定します。</span><span class="sxs-lookup"><span data-stu-id="3415d-411">The availability of the non-paged pool determines how many processes, threads, and other such objects can be created.</span></span> <span data-ttu-id="3415d-412">非ページ プールからの割り当てが失敗したときに、プロセッサ使用率がそれに応じて増加しない場合に特にプロセスでは、メモリ リークが原因するこのことができます。</span><span class="sxs-lookup"><span data-stu-id="3415d-412">When allocations from the non-paged pool fail, this can be due to a memory leak in a process, particularly if processor usage has not increased accordingly.</span></span>  
  
-   <span data-ttu-id="3415d-413">**Server\Pool ページ エラー**</span><span class="sxs-lookup"><span data-stu-id="3415d-413">**Server\Pool Paged Failures**</span></span>  
  
    -   <span data-ttu-id="3415d-414">しきい値:特定の値はありません。</span><span class="sxs-lookup"><span data-stu-id="3415d-414">Threshold: No specific value.</span></span>  
  
    -   <span data-ttu-id="3415d-415">重要:このカウンターは、ページ プールから割り当てが失敗した回数を示します。</span><span class="sxs-lookup"><span data-stu-id="3415d-415">Significance: This counter indicates the number of times allocations from the paged pool have failed.</span></span> <span data-ttu-id="3415d-416">このカウンターの正の値は、コンピューターの十分な物理メモリがあるか、Windows ページング ファイルが小さすぎることを示します。</span><span class="sxs-lookup"><span data-stu-id="3415d-416">A positive value for this counter is an indication that the computer has insufficient physical memory or that the Windows paging file is too small.</span></span>  
  
-   <span data-ttu-id="3415d-417">**Server\Pool 非ページのピーク**</span><span class="sxs-lookup"><span data-stu-id="3415d-417">**Server\Pool Nonpaged Peak**</span></span>  
  
    -   <span data-ttu-id="3415d-418">しきい値:特定の値はありません。</span><span class="sxs-lookup"><span data-stu-id="3415d-418">Threshold: No specific value.</span></span>  
  
    -   <span data-ttu-id="3415d-419">重要:これは、任意の時点で使用するため、サーバーが予約されている非ページ プール内のバイトの最大数です。</span><span class="sxs-lookup"><span data-stu-id="3415d-419">Significance: This is the maximum number of bytes in the non-paged pool that the server has reserved for use at any one point.</span></span> <span data-ttu-id="3415d-420">コンピューターに搭載する物理メモリの量を示します。</span><span class="sxs-lookup"><span data-stu-id="3415d-420">It indicates how much physical memory the computer should have.</span></span> <span data-ttu-id="3415d-421">あるため、非ページ プールの物理メモリに常駐している必要があるので、残された、他の操作を経験則として、コンピューターのメモリが 4 回このカウンターに対して指定された値である物理メモリをインストールが必要があります。</span><span class="sxs-lookup"><span data-stu-id="3415d-421">Because the non-paged pool must be resident in physical memory and because there has to be some memory left over for other operations, as a rule of thumb the computer should have installed physical memory that is 4 times the value indicated for this counter.</span></span>  
  
-   <span data-ttu-id="3415d-422">**Memory\Cache Bytes**</span><span class="sxs-lookup"><span data-stu-id="3415d-422">**Memory\Cache Bytes**</span></span>  
  
    -   <span data-ttu-id="3415d-423">しきい値:特定の値はありません。</span><span class="sxs-lookup"><span data-stu-id="3415d-423">Threshold: No specific value.</span></span>  
  
    -   <span data-ttu-id="3415d-424">重要:さまざまな負荷条件下でキャッシュのサイズを監視します。</span><span class="sxs-lookup"><span data-stu-id="3415d-424">Significance: Monitors the size of cache under different load conditions.</span></span> <span data-ttu-id="3415d-425">このパフォーマンス カウンターの値では、静的ファイルのキャッシュのサイズを示します。</span><span class="sxs-lookup"><span data-stu-id="3415d-425">This value of this performance counter indicates the size of the static files cache.</span></span> <span data-ttu-id="3415d-426">使用可能なメモリが圧縮する場合既定では、このカウンターが使用可能なメモリが減少の約 50% を使用するシステムのパフォーマンスに影響を与えます。</span><span class="sxs-lookup"><span data-stu-id="3415d-426">By default, this counter uses approximately 50 percent of available memory, but decreases if available memory shrinks, which affects system performance.</span></span>  
  
-   <span data-ttu-id="3415d-427">**Memory\Cache Faults/sec**</span><span class="sxs-lookup"><span data-stu-id="3415d-427">**Memory\Cache Faults/sec**</span></span>  
  
    -   <span data-ttu-id="3415d-428">しきい値:特定の値はありません。</span><span class="sxs-lookup"><span data-stu-id="3415d-428">Threshold: No specific value.</span></span>  
  
    -   <span data-ttu-id="3415d-429">重要:このカウンターは、オペレーティング システムがどのくらいの頻度は、ファイル システム キャッシュ内のデータ検索は、方が失敗した場合を示します。</span><span class="sxs-lookup"><span data-stu-id="3415d-429">Significance: This counter indicates how often the operating system looks for data in the file system cache but fails to find it.</span></span> <span data-ttu-id="3415d-430">この値は、できるだけ低い値にする必要があります。</span><span class="sxs-lookup"><span data-stu-id="3415d-430">This value should be as low as possible.</span></span>  
  
-   <span data-ttu-id="3415d-431">**Cache\MDL 読み取りヒット率**</span><span class="sxs-lookup"><span data-stu-id="3415d-431">**Cache\MDL Read Hits %**</span></span>  
  
    -   <span data-ttu-id="3415d-432">しきい値:高く値のファイル システム キャッシュのパフォーマンスは向上します。</span><span class="sxs-lookup"><span data-stu-id="3415d-432">Threshold: The higher this value, the better the performance of the file system cache.</span></span> <span data-ttu-id="3415d-433">できる限り 100% に近い値になります。</span><span class="sxs-lookup"><span data-stu-id="3415d-433">Values should be as close to 100 percent as possible.</span></span>  
  
    -   <span data-ttu-id="3415d-434">重要:このカウンターは、パーセントのメモリ記述子一覧 (MDL) ハード ディスクからの読み取りを必要とするのではなく、読み取り要求が、オブジェクトを返すキャッシュ直接、ファイル システム キャッシュを提供します。</span><span class="sxs-lookup"><span data-stu-id="3415d-434">Significance: This counter provides the percentage of Memory Descriptor List (MDL) Read requests to the file system cache, where the cache returns the object directly rather than requiring a read from the hard disk.</span></span>  
  
-   <span data-ttu-id="3415d-435">**Process \working Set**</span><span class="sxs-lookup"><span data-stu-id="3415d-435">**Process\Working Set**</span></span>  
  
    -   <span data-ttu-id="3415d-436">しきい値:特定の値はありません。</span><span class="sxs-lookup"><span data-stu-id="3415d-436">Threshold: No specific value.</span></span>  
  
    -   <span data-ttu-id="3415d-437">重要:ワーキング セットは、メモリ (物理 + 仮想) で現在読み込まれているメモリ ページのセットです。</span><span class="sxs-lookup"><span data-stu-id="3415d-437">Significance: The working set is the set of memory pages currently loaded in memory (physical + virtual).</span></span> <span data-ttu-id="3415d-438">システムに十分なメモリがある場合、ページのメモリをディスクにディスクの操作を実行する必要はありませんように、ワーキング セットに十分な領域を維持できます。</span><span class="sxs-lookup"><span data-stu-id="3415d-438">If the system has sufficient memory, it can maintain enough space in the working set so that it does not need to perform disk operations to page memory to disk.</span></span> <span data-ttu-id="3415d-439">ただし、十分なメモリがある場合、システムは作業を行うページ フォールトの増加につながりますプロセスのメモリ設定を削減しようとします。</span><span class="sxs-lookup"><span data-stu-id="3415d-439">However, if there is insufficient memory, the system tries to reduce the working set by taking away the memory from the processes which results in an increase in page faults.</span></span> <span data-ttu-id="3415d-440">ページ フォールト数が増え、システムはプロセスのワーキング セットの増加しようとします。</span><span class="sxs-lookup"><span data-stu-id="3415d-440">When the rate of page faults rises, the system tries to increase the working set of the process.</span></span> <span data-ttu-id="3415d-441">ワーキング セットの幅の変動を確認する場合、メモリが不足していることを示す場合します。</span><span class="sxs-lookup"><span data-stu-id="3415d-441">If you observe wide fluctuations in the working set, it might indicate a memory shortage.</span></span> <span data-ttu-id="3415d-442">ワーキング セットの値が大きいほどは、アプリケーションの複数のアセンブリにより場合もあります。</span><span class="sxs-lookup"><span data-stu-id="3415d-442">Higher values in the working set may also be due to multiple assemblies in an application.</span></span> <span data-ttu-id="3415d-443">アセンブリをグローバル アセンブリ キャッシュ内の共有を使用して設定する作業を向上できます。</span><span class="sxs-lookup"><span data-stu-id="3415d-443">You can improve the working set by using assemblies shared in the global assembly cache.</span></span>  
  
#### <a name="resolving-memory-bottlenecks"></a><span data-ttu-id="3415d-444">メモリのボトルネックを解決します。</span><span class="sxs-lookup"><span data-stu-id="3415d-444">Resolving memory bottlenecks</span></span>  
 <span data-ttu-id="3415d-445">そのメモリと判断した場合は、ボトルネックを解決するのには、次の方法の 1 つ以上を使用して、BizTalk Server 環境のボトルネックを示します。</span><span class="sxs-lookup"><span data-stu-id="3415d-445">If you determine that memory is a bottleneck in your BizTalk Server environment, use one or more of the following methods to resolve the bottleneck:</span></span>  
  
-   <span data-ttu-id="3415d-446">割り当てを制御する場合に割り当てられたメモリの量を調整します。</span><span class="sxs-lookup"><span data-stu-id="3415d-446">Tune the amount of memory allocated if you can control the allocation.</span></span> <span data-ttu-id="3415d-447">たとえば、BizTalk Server、ASP.NET および SQL Server のこのを調整できます。</span><span class="sxs-lookup"><span data-stu-id="3415d-447">For example, you can tune this for BizTalk Server, ASP.NET and SQL Server.</span></span>  
  
-   <span data-ttu-id="3415d-448">Windows ページング ファイルのサイズを増やすし、「Windows ページファイルの最適なパフォーマンスの構成」のセクションの手順に従って[オペレーティング システムのパフォーマンスの最適化](~/technical-guides/optimizing-operating-system-performance.md)します。</span><span class="sxs-lookup"><span data-stu-id="3415d-448">Increase the size of the Windows paging file and follow the steps in the “Configure the Windows PAGEFILE for optimal performance” section of [Optimizing Operating System Performance](~/technical-guides/optimizing-operating-system-performance.md).</span></span>  
  
-   <span data-ttu-id="3415d-449">使用されていないサービスをオフにします。</span><span class="sxs-lookup"><span data-stu-id="3415d-449">Turn off services that are not used.</span></span> <span data-ttu-id="3415d-450">定期的に使用しないサービスを停止すると、メモリを節約し、システム パフォーマンスが向上します。</span><span class="sxs-lookup"><span data-stu-id="3415d-450">Stopping services that you do not use regularly saves memory and improves system performance.</span></span> <span data-ttu-id="3415d-451">詳細については、「不要なサービスを無効にする」セクションを参照してください。[オペレーティング システムのパフォーマンスの最適化](~/technical-guides/optimizing-operating-system-performance.md)します。</span><span class="sxs-lookup"><span data-stu-id="3415d-451">For more information, see the “Disable non-essential services” section of [Optimizing Operating System Performance](~/technical-guides/optimizing-operating-system-performance.md).</span></span>  
  
-   <span data-ttu-id="3415d-452">不要なプロトコルとドライバーを削除します。</span><span class="sxs-lookup"><span data-stu-id="3415d-452">Remove unnecessary protocols and drivers.</span></span> <span data-ttu-id="3415d-453">アイドル状態のプロトコルでは、ページおよび非ページ メモリ プールの領域を使用します。</span><span class="sxs-lookup"><span data-stu-id="3415d-453">Even idle protocols use space in the paged and non-paged memory pools.</span></span> <span data-ttu-id="3415d-454">ドライバーは、不要なものを削除する必要がありますようにも、メモリを消費します。</span><span class="sxs-lookup"><span data-stu-id="3415d-454">Drivers also consume memory, so you should remove unnecessary ones.</span></span> <span data-ttu-id="3415d-455">詳細については、「不要なネットワーク プロトコルを削除する」セクションを参照してください。[オペレーティング システムのパフォーマンスの最適化](~/technical-guides/optimizing-operating-system-performance.md)します。</span><span class="sxs-lookup"><span data-stu-id="3415d-455">For more information, see the “Remove unnecessary network protocols” section of [Optimizing Operating System Performance](~/technical-guides/optimizing-operating-system-performance.md).</span></span>  
  
-   <span data-ttu-id="3415d-456">BizTalk Server 環境内のコンピューターでは、追加の物理メモリをインストールします。</span><span class="sxs-lookup"><span data-stu-id="3415d-456">Install additional physical memory on the computers in the BizTalk Server environment.</span></span>  
  
> [!NOTE]
>  <span data-ttu-id="3415d-457">32 ビット システムでには、3 GB スイッチを使用する場合に BizTalk Server 2010 以降のバージョンと 3 GB、limit も増え、BizTalk が 2 GB のメモリの最大値を使用できます。</span><span class="sxs-lookup"><span data-stu-id="3415d-457">On a 32-bit system, BizTalk can use a maximum of 2GB of memory, the limit increases to 3GB with BizTalk Server 2010 and later if the /3GB switch is used.</span></span> <span data-ttu-id="3415d-458">メモリ使用量の詳細については、次を参照してください。[メモリ制限の Windows リリース](http://go.microsoft.com/fwlink/?LinkId=118349)(http://go.microsoft.com/fwlink/?LinkId=118349) します。</span><span class="sxs-lookup"><span data-stu-id="3415d-458">For more information on memory usage, see [Memory Limits for Windows Releases](http://go.microsoft.com/fwlink/?LinkId=118349) (http://go.microsoft.com/fwlink/?LinkId=118349).</span></span>  
  
### <a name="network-io-bottlenecks"></a><span data-ttu-id="3415d-459">ネットワーク I/O のボトルネック</span><span class="sxs-lookup"><span data-stu-id="3415d-459">Network I/O bottlenecks</span></span>  
  
#### <a name="you-might-have-a-network-io-bottleneck-if"></a><span data-ttu-id="3415d-460">場合は、ネットワーク I/O のボトルネックがあります.</span><span class="sxs-lookup"><span data-stu-id="3415d-460">You might have a network I/O bottleneck if…</span></span>  
  
-   <span data-ttu-id="3415d-461">値、 **Network interface \bytes total/sec**パフォーマンス カウンターが使用可能なネットワーク帯域幅の 80% を超えています。</span><span class="sxs-lookup"><span data-stu-id="3415d-461">The value of the **Network Interface\Bytes Total/sec** performance counter exceeds 80% of available network bandwidth.</span></span>  
  
-   <span data-ttu-id="3415d-462">値、 **server \bytes total/sec**パフォーマンス カウンターが使用可能なネットワーク帯域幅の 50% より大きい。</span><span class="sxs-lookup"><span data-stu-id="3415d-462">The value of the **Server\Bytes Total/sec** performance counter is greater than 50% of available network bandwidth.</span></span>  
  
#### <a name="performance-counters-for-measuring-network-io-bottlenecks"></a><span data-ttu-id="3415d-463">ネットワーク I/O のボトルネックを測定するためのパフォーマンス カウンター</span><span class="sxs-lookup"><span data-stu-id="3415d-463">Performance counters for measuring network I/O bottlenecks</span></span>  
 <span data-ttu-id="3415d-464">次のパフォーマンス カウンターは、ネットワーク I/O を測定し、システムにネットワーク I/O 関連のボトルネックが発生しているかどうかを判断するために使用する必要があります。</span><span class="sxs-lookup"><span data-stu-id="3415d-464">The following performance counters should be used to measure network I/O and determine if your system is experiencing a network I/O related bottleneck:</span></span>  
  
-   <span data-ttu-id="3415d-465">**Network interface \bytes total/sec**</span><span class="sxs-lookup"><span data-stu-id="3415d-465">**Network Interface\Bytes Total/sec**</span></span>  
  
    -   <span data-ttu-id="3415d-466">しきい値:ネットワーク容量の 80% 以上の持続的な値です。</span><span class="sxs-lookup"><span data-stu-id="3415d-466">Threshold: Sustained value of more than 80 percent of network capacity.</span></span>  
  
    -   <span data-ttu-id="3415d-467">重要:このカウンターは、各ネットワーク アダプタ上で送受信されるバイトの率を示します。</span><span class="sxs-lookup"><span data-stu-id="3415d-467">Significance: This counter indicates the rate at which bytes are sent and received over each network adapter.</span></span> <span data-ttu-id="3415d-468">このカウンターは、ネットワーク アダプターが飽和状態にし、使用可能なネットワーク帯域幅を増やす 1 つまたは複数のネットワーク アダプターを追加する必要があるかどうかを判断するのに役立ちます。</span><span class="sxs-lookup"><span data-stu-id="3415d-468">This counter helps determine if a network adapter is saturated and whether you should add one or more network adapters to increase available network bandwidth.</span></span>  
  
-   <span data-ttu-id="3415d-469">**Network interface \bytes received/sec**</span><span class="sxs-lookup"><span data-stu-id="3415d-469">**Network Interface\Bytes Received/sec**</span></span>  
  
    -   <span data-ttu-id="3415d-470">しきい値:特定の値はありません。</span><span class="sxs-lookup"><span data-stu-id="3415d-470">Threshold: No specific value.</span></span>  
  
    -   <span data-ttu-id="3415d-471">重要:このカウンターは、各ネットワーク アダプタ上でデータ バイトが受信される速度を示します。</span><span class="sxs-lookup"><span data-stu-id="3415d-471">Significance: This counter indicates the rate at which bytes are received over each network adapter.</span></span> <span data-ttu-id="3415d-472">使用可能な帯域幅の合計の割合としての受信データの割合を計算するのにには、このカウンターの値を使用します。</span><span class="sxs-lookup"><span data-stu-id="3415d-472">Use the value of this counter to calculate the rate of incoming data as a percentage of total available bandwidth.</span></span> <span data-ttu-id="3415d-473">BizTalk Server または BizTalk Server コンピューター自体にネットワーク帯域幅を増やす必要があるかどうかにデータを送信しているクライアントのネットワーク帯域幅を増やす必要があるかどうかができます。</span><span class="sxs-lookup"><span data-stu-id="3415d-473">This will help determine if network bandwidth should be increased on the client sending data to BizTalk Server or if network bandwidth should be increased on the BizTalk Server computer itself.</span></span>  
  
-   <span data-ttu-id="3415d-474">**Network interface \bytes sent/sec**</span><span class="sxs-lookup"><span data-stu-id="3415d-474">**Network Interface\Bytes Sent/sec**</span></span>  
  
    -   <span data-ttu-id="3415d-475">しきい値:特定の値はありません。</span><span class="sxs-lookup"><span data-stu-id="3415d-475">Threshold: No specific value.</span></span>  
  
    -   <span data-ttu-id="3415d-476">重要:このカウンターは、各ネットワーク アダプタ上でバイトが送信される速度を示します。</span><span class="sxs-lookup"><span data-stu-id="3415d-476">Significance: This counter indicates the rate at which bytes are sent over each network adapter.</span></span> <span data-ttu-id="3415d-477">使用可能な帯域幅の合計の割合として送信されるデータの割合を計算するのにには、このカウンターの値を使用します。</span><span class="sxs-lookup"><span data-stu-id="3415d-477">Use the value of this counter to calculate the rate of outgoing data as a percentage of total available bandwidth.</span></span> <span data-ttu-id="3415d-478">これにより、クライアントにデータを送信している BizTalk Server でネットワーク帯域幅を増やす必要がありますか場合は、BizTalk Server からクライアント コンピューターの受信データのネットワーク帯域幅を増やす必要がありますかを判断できます。</span><span class="sxs-lookup"><span data-stu-id="3415d-478">This will help determine if network bandwidth should be increased on the BizTalk Server sending data to a client or if network bandwidth should be increased on the client computer receiving data from BizTalk Server.</span></span>  
  
-   <span data-ttu-id="3415d-479">**Server \bytes total/sec**</span><span class="sxs-lookup"><span data-stu-id="3415d-479">**Server\Bytes Total/sec**</span></span>  
  
    -   <span data-ttu-id="3415d-480">しきい値:ネットワーク容量の 50% 以上の持続的な値です。</span><span class="sxs-lookup"><span data-stu-id="3415d-480">Threshold: Sustained value of more than 50 percent of network capacity.</span></span>  
  
    -   <span data-ttu-id="3415d-481">重要:このカウンターは、ネットワーク経由で送受信されたバイト数を示します。</span><span class="sxs-lookup"><span data-stu-id="3415d-481">Significance: This counter indicates the number of bytes sent and received over the network.</span></span> <span data-ttu-id="3415d-482">高い値は、ネットワーク I/O のボトルネックを示します。</span><span class="sxs-lookup"><span data-stu-id="3415d-482">Higher values indicate a network I/O bottleneck.</span></span> <span data-ttu-id="3415d-483">場合の合計**Bytes total/sec**すべてのサーバーがネットワークの最大転送速度をほぼ等しくなければならないのは、パフォーマンスを向上させるために、ネットワークのサブネットを検討してください。</span><span class="sxs-lookup"><span data-stu-id="3415d-483">If the sum of **Bytes Total/sec** for all servers is roughly equal to the maximum transfer rate of your network, consider subnetting the network to improve performance.</span></span> <span data-ttu-id="3415d-484">パフォーマンスを向上させるために、ネットワークのサブネットの詳細については、次を参照してください。、**サブネット**のセクション、 [BizTalk Server データベースの最適化に関するホワイト ペーパー](http://go.microsoft.com/fwlink/?LinkID=101578) (http://go.microsoft.com/fwlink/?LinkID=101578) します。</span><span class="sxs-lookup"><span data-stu-id="3415d-484">For more information about subnetting a network to improve performance, see the **Subnets** section of the [BizTalk Server Database Optimization white paper](http://go.microsoft.com/fwlink/?LinkID=101578) (http://go.microsoft.com/fwlink/?LinkID=101578).</span></span>  
  
#### <a name="resolving-network-io-bottlenecks"></a><span data-ttu-id="3415d-485">ネットワーク I/O のボトルネックを解決します。</span><span class="sxs-lookup"><span data-stu-id="3415d-485">Resolving network I/O bottlenecks</span></span>  
 <span data-ttu-id="3415d-486">ネットワーク I/O が環境内のボトルネックであると判断した場合は、ボトルネックを解決するのには、次の方法の 1 つ以上を使用します。</span><span class="sxs-lookup"><span data-stu-id="3415d-486">If you determine that network I/O is a bottleneck in your environment, use one or more of the following methods to resolve the bottleneck:</span></span>  
  
-   <span data-ttu-id="3415d-487">「ネットワークのパフォーマンスを向上させるための一般的なガイドライン」のセクションで推奨事項に従って[ネットワークのパフォーマンスの最適化](~/technical-guides/optimizing-network-performance.md)します。</span><span class="sxs-lookup"><span data-stu-id="3415d-487">Follow the recommendations in the “General guidelines for improving network performance” section of [Optimizing Network Performance](~/technical-guides/optimizing-network-performance.md).</span></span>  
  
-   <span data-ttu-id="3415d-488">トピックで説明されている Windows Powershell のネットワーク最適化スクリプトを実行[ネットワークのパフォーマンスの最適化](~/technical-guides/optimizing-network-performance.md)BizTalk Server 環境内の各コンピューターにします。</span><span class="sxs-lookup"><span data-stu-id="3415d-488">Run the Windows Powershell network optimization script described in the topic [Optimizing Network Performance](~/technical-guides/optimizing-network-performance.md) on each computer in the BizTalk Server environment.</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="3415d-489">参照</span><span class="sxs-lookup"><span data-stu-id="3415d-489">See Also</span></span>  
 [<span data-ttu-id="3415d-490">ボトルネックの検索と解消</span><span class="sxs-lookup"><span data-stu-id="3415d-490">Finding and Eliminating Bottlenecks</span></span>](~/technical-guides/finding-and-eliminating-bottlenecks.md)