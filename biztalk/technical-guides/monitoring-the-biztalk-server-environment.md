---
title: BizTalk Server 環境の監視 |Microsoft Docs
ms.custom: ''
ms.date: 06/08/2017
ms.prod: biztalk-server
ms.reviewer: ''
ms.suite: ''
ms.tgt_pltfrm: ''
ms.topic: article
ms.assetid: baae51cf-0284-429b-8335-bc1ac3e63f4c
caps.latest.revision: 4
author: MandiOhlinger
ms.author: mandia
manager: anneta
ms.openlocfilehash: 8bf9e8702fb8d01de602b9b0da49fbfd9ba59776
ms.sourcegitcommit: 266308ec5c6a9d8d80ff298ee6051b4843c5d626
ms.translationtype: MT
ms.contentlocale: ja-JP
ms.lasthandoff: 06/27/2018
ms.locfileid: "36987555"
---
# <a name="monitoring-the-biztalk-server-environment"></a>BizTalk Server 環境を監視します。
監視することができます[!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)]インフラストラクチャとアプリケーションを手動または自動のプロセスやツールを使用して次の表に示すように、2 つのメソッドの組み合わせ。  


| 手動または自動の監視 |                                                                                                       ツール                                                                                                        |
|--------------------------------|--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
|      自動監視      |                                                                        Microsoft System Center Operations Manager (Operations Manager)                                                                         |
|       手動による監視        | -**グループ ハブ**ページで、[!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)]管理コンソール<br />ログ (PAL) ツールのパフォーマンス分析<br />イベント ビューアー |

 監視アプリケーションを実装するかどうかを使用してください、[!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)]管理コンソールのヘルスを監視、[!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)]アプリケーションの問題の根本原因を識別するために、根本原因分析を実行します。  

 監視と[!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)]、これらの点に留意します。  

-   インフラストラクチャが正常でもアプリケーションは正常でない場合があります (アプリケーションが無効なメッセージを受信して処理できない場合など)。  

-   インフラストラクチャに異常があってもアプリケーションは正常に実行されている場合もあります (サーバーがダウンしても負荷を引き継ぐのに十分なサーバーがホストに割り当てられている場合など)。  

-   インフラストラクチャの問題がアプリケーションの問題のように見える場合があります (サーバーがダウンしているためにメッセージの処理が遅れている場合など)。  

## <a name="monitoring-types"></a>監視の種類  
 監視、[!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)]し、アプリケーションは、次の 4 つの主なカテゴリに分類されます。  

-   可用性の監視  

-   正常性の監視  

-   パフォーマンスの監視  

-   しきい値の監視  

### <a name="availability-monitoring"></a>可用性の監視  
 質問に回答の可用性の監視"は、システムまたはアプリケーション リソースのために使用できないこと、[!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)]最適に実行されるアプリケーションでしょうか"。 こうした問題は、ほぼ例外なくシステム レベルの問題 (サービスや接続の可用性の問題など) です。 たとえば、エンタープライズ シングル サインオン サービスが停止しているためにアダプターがエラーになる場合、それは可用性の問題です。 ホストに割り当てられているサーバーのいずれかでエラーが発生して、アプリケーションのメッセージ処理が遅れている場合も可用性の問題です。 同様に、アプリケーションが停止してメッセージを処理できない場合も可用性の問題です。 次の表は、可用性の監視ツールを一覧表示します。  


|                                                   ツール                                                    |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             タスク                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             |
|-----------------------------------------------------------------------------------------------------------|------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] 管理コンソール |                                                                                                                                                                                                                                                                                                                                                                                                 チェック、**グループ ハブ**ページで、[!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)]管理コンソールをアプリケーションやそのコンポーネント (ポート/オーケストレーション) が停止したかどうかを参照してください。                                                                                                                                                                                                                                                                                                                                                                                                 |
|                                          Operations Manager 2007                                          | [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)]アダプターなどの重要な低レベル サービスが利用できない場合の管理パックと Operations Manager オペレーション コンソールのアラートが表示されます。 効果的に監視[!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)]、監視する必要があります以外[!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)]データベースやサーバーなど、アプリケーションが依存するリソース。 さらに、インストールして、SQL Server、インターネット インフォメーション サービス、および Windows ベース オペレーティング システム管理パックを使用する必要がありますもします。 Operations Manager では、イベント ログ、WMI、およびその他のイベント プロバイダーから関心のあるイベントを統合します。 すべての関連する管理パックのインストールの詳細については、次を参照してください。[チェックリスト: BizTalk Server の Operations Manager 2007 で監視](../technical-guides/checklist-monitoring-biztalk-server-with-operations-manager-2007.md)します。 |
|                                               イベント ビューアー                                                |                                                                                                                                                                                                                                                                                                                                                                                                                                                                               アダプターの接続の問題やサービスの停止などをチェックします。                                                                                                                                                                                                                                                                                                                                                                                                                                                                               |

### <a name="health-monitoring"></a>ヘルス状態の監視  
 稼働状況の監視では、"正常でないアプリケーションやリソースがないかどうか" を確認できます。 たとえば、アプリケーションやその構成アイテムで現在例外的な状態が発生していないかどうかや、 メッセージ ペイロードのデータが無効なために保留されているメッセージがないかどうかを確認できます。 次の表に、稼働状況の監視のためのツールを示します。  


|                                                   ツール                                                    |                                                                                                                                                                                                                                                                     タスク                                                                                                                                                                                                                                                                     |
|-----------------------------------------------------------------------------------------------------------|----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] 管理コンソール |                                                                                                                                                     使用する、**グループ ハブ**ページとクエリ ページで、[!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)]管理コンソールをアプリケーションの正常性の問題を特定し、その原因を分析します。                                                                                                                                                      |
|                                            Operations Manager                                             | [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)]管理パックは、最初の行 1 の防御が中断されたメッセージや、サービス インスタンスのことを通知するように、[!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)]アプリケーション。 Operations Manager から通知を受信した後に移行することができます、[!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)]管理コンソール、問題をトラブルシューティングします。 |
|                                               イベント ビューアー                                                |                                                                                                                                                                                                                               メッセージやオーケストレーションの処理の間に発生した問題を検出します。                                                                                                                                                                                                                               |

### <a name="performance-monitoring"></a>パフォーマンス監視  
 パフォーマンス監視では、"システムの処理がどのくらい効率的に行われているか" を確認できます。 この種の監視では、主にデータベースやディスクのような物理的リソースへの負荷が焦点になります。 たとえば、CPU 使用率が常に 90 ～ 100% になっていて、メッセージのバックログが発生している場合は、コンピューター レベルのパフォーマンスに問題があります。 次の表に、パフォーマンス監視のためのツールを示します。  


|                                                   ツール                                                    |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    タスク                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     |
|-----------------------------------------------------------------------------------------------------------|-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
|                                            SQL クエリ アナライザー                                             |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                       データベースのサイズと内容を監視して、システムの問題を診断します。                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        |
|                                            Operations Manager                                             | [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)]重要な場合にアラートを表示する管理パックと Operations Manager オペレーション コンソールを構成できます[!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)]メッセージ ボックス キュー サイズやホスト キュー サイズなどのパフォーマンス カウンターは、定義されたしきい値を超えています。 以外のパフォーマンスを監視する[!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)]リソース、アプリケーションが依存しているデータベースおよびサーバーの場合もインストールして、SQL Server、インターネット インフォメーション サービス、および Windows ベース OS 管理パックを使用する必要があります。 すべての関連する管理パックのインストールの詳細については、次を参照してください。[チェックリスト: BizTalk Server の Operations Manager 2007 で監視](../technical-guides/checklist-monitoring-biztalk-server-with-operations-manager-2007.md)します。<br /><br /> パフォーマンス分析のログ (PAL) ツールを使用して、スループットのしきい値規則で使用するテストのしきい値の値をキャプチャする、[!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)]管理パック。 PAL ツールの詳細については、次を参照してください。[パフォーマンス分析のログ (PAL) ツールを使用して](../technical-guides/using-the-performance-analysis-of-logs-pal-tool.md)します。 |
| [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] 管理コンソール |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                **グループ ハブ**などに退避された、準備ができたらを実行するスケジュール設定を中断するには、ページが、現在アクティブなサービス インスタンスの数などの主要なパフォーマンス メトリックを表示、[!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)]アプリケーション。                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 |
|                                    ビジネス アクティビティ監視 (BAM)                                     |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     ビジネス アプリケーションに関係する主要業績評価指標を追跡するビジネス プロセスの特定のステージを指定できます。 BAM を使用して IT のメトリック (たとえばの SLA と実行時間) とビジネス メトリックを監視できます。                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     |

### <a name="threshold-monitoring"></a>しきい値の監視  
 カスタマイズしたしきい値規則は、成熟した運用環境で不可欠な要素です。 これらのしきい値ルールの多くは、Operations Manager で作成できます。 これらのしきい値ルールは通常、BizTalk アプリケーションの要件に基づいています。 パフォーマンス分析のログ (PAL) ツールには、環境内のこれらのしきい値の正しい値を決定するプロセスを合理化できます。 Microsoft System Center Operations Manager に使用されるデータの中核として使用できる一部の基本のしきい値の値に、PAL ツールが付属します。 Operations Manager でこれらのしきい値規則を実装する自動化された監視をできます。 さらに、管理者は、通知規則をセットアップすることができ、スクリプトを実行して、.NET コードの呼び出しなどの電子メールを送信する) などのしきい値ルールのトリガーに基づくアクションを実行できます。 次の表では、しきい値の監視ツールを示します。  


|                  ツール                   |                                                                                                                                                                                                                               タスク                                                                                                                                                                                                                                |
|-----------------------------------------|-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| パフォーマンスの分析ログ (PAL) ツール | PAL ツールでは、パフォーマンス カウンターは、しきい値を超えるときに自動的に報告します。 しきい値は、サーバーの環境に適したものを動的に変更します。 たとえば、カーネル メモリ プールがしきい値を変更は、ユーザーは、32 ビット/64 ビット アーキテクチャでは、物理メモリは、/3 GB スイッチの金額についての回答に基づいています。 PAL ツールを無料でダウンロードできます[ http://www.codeplex.com/PAL](http://www.codeplex.com/PAL)します。 |
|           Operations Manager            |                                                                                                      BizTalk Server 管理パックと Operation Manager のオペレーション コンソールを構成して、重要な場合にアラートを表示[!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)]カウンターは、定義されたしきい値を超えます。                                                                                                       |

## <a name="troubleshooting"></a>トラブルシューティング  
 正常性の問題を把握しておけば、[!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)]使用するアプリケーション、**グループ ハブ**ページと**クエリ**ページで、[!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)]問題を分析して管理コンソール。 [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)]管理コンソールでは、統合の構成、展開およびトラブルシューティングのエクスペリエンスと、構成とデプロイを修正する特定した後、管理コンソール内の問題に関連します。 一般に、アプリケーションの問題のほとんどは、正しく処理されないメッセージに起因しています (中断されたサービス インスタンス、再試行中のポート、再アクティブ化されていない退避済みインスタンスなどとして現れる場合もあります)。  

 使用することができます、**グループ ハブ**ページと**クエリ**サービス インスタンスをグループ化するページ (どのような状態: 実行、中断、退避済みなど) エラーの種類のアプリケーションによってサービスの種類、ホストなど、。で、さまざまなエラーを特定するのには、1 つずつ、を調査し、それらを修正します。