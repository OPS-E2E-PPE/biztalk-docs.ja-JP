---
title: アプリケーションとアイテムの更新に関する既知の問題 |Microsoft Docs
ms.custom: ''
ms.date: 06/08/2017
ms.prod: biztalk-server
ms.reviewer: ''
ms.suite: ''
ms.tgt_pltfrm: ''
ms.topic: article
ms.assetid: 220ea03c-d453-40cc-8ddb-18a96f8ddfe5
caps.latest.revision: 2
author: MandiOhlinger
ms.author: mandia
manager: anneta
ms.openlocfilehash: a5c322006393b0571b64eaace05a67626f31fb58
ms.sourcegitcommit: 381e83d43796a345488d54b3f7413e11d56ad7be
ms.translationtype: MT
ms.contentlocale: ja-JP
ms.lasthandoff: 05/07/2019
ms.locfileid: "65401222"
---
# <a name="known-issues-with-updating-applications-and-artifacts"></a><span data-ttu-id="bb04d-102">アプリケーションの更新とアイテムに関する既知の問題</span><span class="sxs-lookup"><span data-stu-id="bb04d-102">Known Issues with Updating Applications and Artifacts</span></span>
## <a name="updating-an-application"></a><span data-ttu-id="bb04d-103">アプリケーションの更新</span><span class="sxs-lookup"><span data-stu-id="bb04d-103">Updating an Application</span></span>  
 <span data-ttu-id="bb04d-104">**削除または成果物の削除は削除されませんすべての場所から**</span><span class="sxs-lookup"><span data-stu-id="bb04d-104">**Removing or deleting an artifact does not remove it from all locations**</span></span>  
  
 <span data-ttu-id="bb04d-105">削除または成果物の削除は、管理コンソールまたは BTSTask ListApp コマンドによって生成されたアプリケーションのアイテムの一覧に表示されないように、BizTalk Server データベースから削除します。</span><span class="sxs-lookup"><span data-stu-id="bb04d-105">Removing or deleting an artifact deletes it from the BizTalk Server databases, so that it no longer appears in the administration console or in the list of artifacts for an application generated by the BTSTask ListApp command.</span></span> <span data-ttu-id="bb04d-106">これらの場所のいずれかに存在する場合、成果物、Windows レジストリ、グローバル アセンブリ キャッシュ (GAC)、仮想ディレクトリ、または、ファイル システムから削除されません。</span><span class="sxs-lookup"><span data-stu-id="bb04d-106">It does not remove the artifact from the Windows registry, the global assembly cache (GAC), a virtual directory, or the file system, if it exists in any of these locations.</span></span> <span data-ttu-id="bb04d-107">送信ポートの場合は、送信ポート グループ、受信ポート、および場所で、削除を BizTalk 管理データベース、この操作にのみ存在、成果物をまったく受信します。</span><span class="sxs-lookup"><span data-stu-id="bb04d-107">In the case of send ports, send port groups, receive ports, and receive locations, which exist only in the BizTalk Management database, this operation deletes the artifact entirely.</span></span>  
  
## <a name="updating-an-artifact"></a><span data-ttu-id="bb04d-108">アイテムの更新</span><span class="sxs-lookup"><span data-stu-id="bb04d-108">Updating an Artifact</span></span>  
 <span data-ttu-id="bb04d-109">**削除するか、成果物の状態の変更によって、アプリケーションの動作**</span><span class="sxs-lookup"><span data-stu-id="bb04d-109">**Removing or changing the state of an artifact can cause an application not to work**</span></span>  
  
 <span data-ttu-id="bb04d-110">別のアプリケーションへの参照を追加して、別のアプリケーションが依存または成果物を削除するには、成果物の状態に変更を加えるときに、依存関係を持つアプリケーションは正しく機能しません。</span><span class="sxs-lookup"><span data-stu-id="bb04d-110">When you add a reference from one application to another and make any changes to the state of an artifact on which another application depends, or you remove the artifact, the application that has the dependency will not function correctly.</span></span> <span data-ttu-id="bb04d-111">成果物の状態を変更する方法についての詳細についてで適切な成果物のセクションをご覧ください。[管理成果物](http://go.microsoft.com/fwlink/?LinkID=154725)(http://go.microsoft.com/fwlink/?LinkID=154725)します。</span><span class="sxs-lookup"><span data-stu-id="bb04d-111">For more information about changing the state of an artifact, see the section on the appropriate artifact in [Managing Artifacts](http://go.microsoft.com/fwlink/?LinkID=154725) (http://go.microsoft.com/fwlink/?LinkID=154725).</span></span>  
  
 <span data-ttu-id="bb04d-112">**.NET ポリシー ファイルはサポートされていません**</span><span class="sxs-lookup"><span data-stu-id="bb04d-112">**.NET policy files are not supported**</span></span>  
  
 <span data-ttu-id="bb04d-113">BizTalk Server では、.NET ポリシー ファイルの使用がサポートされていません。</span><span class="sxs-lookup"><span data-stu-id="bb04d-113">The use of .NET policy files is not supported in BizTalk Server.</span></span> <span data-ttu-id="bb04d-114">これは、ポリシー ファイルが、期待どおりに機能しないためにです。</span><span class="sxs-lookup"><span data-stu-id="bb04d-114">This is because a policy file may not work as expected.</span></span> <span data-ttu-id="bb04d-115">ポリシー ファイルを GAC に指定したアセンブリ バージョンの .NET のリダイレクトが[!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)]多くの場合、キャッシュまたは BizTalk 管理データベースからアセンブリおよびアイテムのデータにアクセスします。</span><span class="sxs-lookup"><span data-stu-id="bb04d-115">Policy files redirect .NET to a specified assembly version in the GAC, but [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] often accesses assemblies and artifact data from a cache or the BizTalk Management database.</span></span> <span data-ttu-id="bb04d-116">によってキャッシュ状況、成果物の種類とホスト インスタンスが再起動されたかどうか、ポリシー ファイルできない操作が必要なものです。</span><span class="sxs-lookup"><span data-stu-id="bb04d-116">Depending on the artifact type, caching situation, and whether host instances are restarted, the policy file may not do what is desired.</span></span>  
  
## <a name="updating-an-assembly"></a><span data-ttu-id="bb04d-117">アセンブリの更新</span><span class="sxs-lookup"><span data-stu-id="bb04d-117">Updating an Assembly</span></span>  
 <span data-ttu-id="bb04d-118">**ホストが停止していない場合、アセンブリへの変更が有効になりません**</span><span class="sxs-lookup"><span data-stu-id="bb04d-118">**Changes to an assembly may not take effect if the host is not stopped**</span></span>  
  
 <span data-ttu-id="bb04d-119">BizTalk アセンブリは、.NET のバージョン管理規則に従う必要があります。</span><span class="sxs-lookup"><span data-stu-id="bb04d-119">BizTalk assemblies must follow .NET versioning rules.</span></span> <span data-ttu-id="bb04d-120">これの主な影響は、別の .NET プロジェクトまたはアセンブリ (BizTalk プロジェクトを含む) の特定のバージョンに対して構築されると、BizTalk プロジェクトは、そのバージョンを使用して、新しいバージョンに対して再構築されるまでは引き続きです。</span><span class="sxs-lookup"><span data-stu-id="bb04d-120">The main implication of this is that a BizTalk project, once built against a particular version of another .NET project or assembly (including BizTalk projects), continues to use that version until it has been rebuilt against a newer version.</span></span>  
  
 <span data-ttu-id="bb04d-121">一般的な問題は、BizTalk プロジェクトのバージョン番号が変更されていないと、アセンブリを停止してに、型が読み込まれている BizTalk ホスト インスタンスを開始することがなく再展開は、.NET のバージョン管理に関連する開発中に発生します。</span><span class="sxs-lookup"><span data-stu-id="bb04d-121">A common problem occurs during development related to .NET versioning when the version numbers on a BizTalk project are not changed and the assembly is redeployed without stopping and starting the BizTalk host instance that the types are loaded into.</span></span>  
  
 <span data-ttu-id="bb04d-122">プロセスを再度実行すると、ときに、変更は有効になりません。</span><span class="sxs-lookup"><span data-stu-id="bb04d-122">When the process is run again, the changes do not take effect.</span></span> <span data-ttu-id="bb04d-123">これは .NET アセンブリがメモリに読み込まれる方法です。</span><span class="sxs-lookup"><span data-stu-id="bb04d-123">This is due to the way in which .NET assemblies are loaded into memory.</span></span> <span data-ttu-id="bb04d-124">ホストでは、アセンブリのメモリ内コピーを既に持っているために、新しいコピーがグローバル アセンブリ キャッシュ (GAC) に切り替わるときに、アセンブリは読み込むしません。</span><span class="sxs-lookup"><span data-stu-id="bb04d-124">Because the host already has an in-memory copy of the assembly, it does not reload the assembly when a new copy is put into the global assembly cache (GAC).</span></span> <span data-ttu-id="bb04d-125">たとえば、オーケストレーションでのアセンブリのバージョン 1.0.0.0 を配置して実行、および変更は、オーケストレーションに加え、バージョン番号は変更されません、し変更は有効になりません。</span><span class="sxs-lookup"><span data-stu-id="bb04d-125">For example, if version 1.0.0.0 of an assembly with an orchestration is deployed and running, and changes are made to the orchestration but the version number is not changed, then the changes do not take effect.</span></span> <span data-ttu-id="bb04d-126">アセンブリのインメモリ コピーがリリースされた後、ホスト インスタンスを停止すると、およびホスト インスタンスの開始時にもう一度アセンブリの新しいコピーを再読み込みして変更を取得します。</span><span class="sxs-lookup"><span data-stu-id="bb04d-126">After the host instance is stopped, the in-memory copy of the assembly is released and when the host instance starts again it reloads the new copy of the assembly and gets the changes.</span></span> <span data-ttu-id="bb04d-127">新しいバージョンが展開された場合などバージョン 2.0.0.0 以降、およびそれが読み込まれた、変更は有効にし、します。</span><span class="sxs-lookup"><span data-stu-id="bb04d-127">If a new version was deployed, for example version 2.0.0.0, and it was loaded, then the changes would take effect.</span></span>  
  
 <span data-ttu-id="bb04d-128">**アセンブリとバージョンでそれを参照する項目の間の関係が壊れる可能性がありますアセンブリのバージョンを変更します。**</span><span class="sxs-lookup"><span data-stu-id="bb04d-128">**Changing the assembly version may break the relationship between an assembly and items that reference it by version**</span></span>  
  
 <span data-ttu-id="bb04d-129">.NET Framework の開発、ビルドが行われるときに、現在のビルド番号をアセンブリのバージョン番号を更新する一般的なです。</span><span class="sxs-lookup"><span data-stu-id="bb04d-129">In .NET Framework development it is typical to update the assembly version number to the current build number when a build takes place.</span></span> <span data-ttu-id="bb04d-130">ただし、BizTalk ソリューションを開発する場合は、アセンブリ バージョン番号を変更すると、アセンブリと、そのアセンブリ バージョン番号を使って DLL を参照する依存アイテムの間の関係が壊れることがあります。</span><span class="sxs-lookup"><span data-stu-id="bb04d-130">However, when developing a BizTalk solution, changing the assembly version number can break the relationship between an assembly and the dependent items that reference the DLL by its assembly version number.</span></span> <span data-ttu-id="bb04d-131">次の表には、そのバージョン番号とアセンブリのバージョン番号を変更した効果を使用して、BizTalk Server アセンブリを参照する項目が表示されます。</span><span class="sxs-lookup"><span data-stu-id="bb04d-131">The following table lists items that refer to a BizTalk Server assembly by using its version number and the effect of changing an assembly version number.</span></span>  
  
|<span data-ttu-id="bb04d-132">Entity</span><span class="sxs-lookup"><span data-stu-id="bb04d-132">Entity</span></span>|<span data-ttu-id="bb04d-133">アセンブリ バージョン番号を変更することによる影響</span><span class="sxs-lookup"><span data-stu-id="bb04d-133">Effect of changing assembly version number</span></span>|  
|------------|------------------------------------------------|  
|<span data-ttu-id="bb04d-134">バインド ファイル</span><span class="sxs-lookup"><span data-stu-id="bb04d-134">Binding files</span></span>|<span data-ttu-id="bb04d-135">アセンブリ バージョン番号を変更すると、そのアセンブリを参照するすべてのバインド ファイルは失敗します。</span><span class="sxs-lookup"><span data-stu-id="bb04d-135">Changing the assembly version number causes any existing binding files that reference the assembly to fail.</span></span> <span data-ttu-id="bb04d-136">この理由は、バインド ファイルはアセンブリの参照に、バージョン番号を含む属性を使用するためです。</span><span class="sxs-lookup"><span data-stu-id="bb04d-136">This is because the binding file references the assembly by attributes including its version number.</span></span><br /><br /> <span data-ttu-id="bb04d-137">メモ帳などのエディターを使用して、バインド ファイルのバージョン情報を更新できます。</span><span class="sxs-lookup"><span data-stu-id="bb04d-137">You can update the version information in the binding file by using Notepad or another editor.</span></span> <span data-ttu-id="bb04d-138">ソリューションを再デプロイし、BizTalk Server 管理コンソールを使用して、バインド ファイルを再生成できます。</span><span class="sxs-lookup"><span data-stu-id="bb04d-138">You can also redeploy the solution and then regenerate the binding file by using the BizTalk Server Administration console.</span></span> <span data-ttu-id="bb04d-139">スクリプトを使用して、展開とバージョン管理を自動化することもできます。</span><span class="sxs-lookup"><span data-stu-id="bb04d-139">Finally, you can use scripts to automate deployment and versioning.</span></span> <span data-ttu-id="bb04d-140">展開の詳細については、次を参照してください。 [Deploying and Managing BizTalk Applications](http://go.microsoft.com/fwlink/?LinkID=154210) (http://go.microsoft.com/fwlink/?LinkID=154210)します。</span><span class="sxs-lookup"><span data-stu-id="bb04d-140">For more information about deployment, see [Deploying and Managing BizTalk Applications](http://go.microsoft.com/fwlink/?LinkID=154210) (http://go.microsoft.com/fwlink/?LinkID=154210).</span></span>|  
|<span data-ttu-id="bb04d-141">BAM 追跡プロファイル定義 (.btt) ファイル</span><span class="sxs-lookup"><span data-stu-id="bb04d-141">BAM tracking profile definition (.btt) files</span></span>|<span data-ttu-id="bb04d-142">アセンブリ バージョン番号を変更すると、既存の BAM 追跡プロファイルの定義ファイルは失敗します。</span><span class="sxs-lookup"><span data-stu-id="bb04d-142">Changing the assembly version number causes any existing BAM tracking profile definition files to fail.</span></span> <span data-ttu-id="bb04d-143">BAM 追跡ファイルはバイナリ ファイル形式であり編集できないので、再生成する必要があります。</span><span class="sxs-lookup"><span data-stu-id="bb04d-143">The BAM tracking files are in a binary file format so they cannot be edited and instead must be regenerated.</span></span> <span data-ttu-id="bb04d-144">BAM 追跡プロファイルが必須の場合は、次のいずれかの操作を行う必要があります。</span><span class="sxs-lookup"><span data-stu-id="bb04d-144">If BAM tracking profiles are required it may be necessary to do either of the following:</span></span><br /><br /> <span data-ttu-id="bb04d-145">-ビルド プロセス中にバージョン番号を頻繁に更新を回避します。</span><span class="sxs-lookup"><span data-stu-id="bb04d-145">-   Avoid frequently updating version numbers during the build process</span></span><br /><span data-ttu-id="bb04d-146">-遅延、BAM 追跡プロファイルのバージョン番号が不安定になるまでの構築</span><span class="sxs-lookup"><span data-stu-id="bb04d-146">-   Delay building BAM tracking profiles until version numbers are stable</span></span>|  
|<span data-ttu-id="bb04d-147">Web サービス公開ウィザードを使って公開された Web サービス</span><span class="sxs-lookup"><span data-stu-id="bb04d-147">Web services published by using the Web Services Publishing Wizard</span></span>|<span data-ttu-id="bb04d-148">Web サービス公開ウィザードは、ASP.NET Web インターフェイスを生成するために使用する場合は、BizTalk Server アセンブリのアセンブリのバージョンが ASP.NET ソース コードに含まれます。</span><span class="sxs-lookup"><span data-stu-id="bb04d-148">When the Web Services Publishing Wizard is used to produce an ASP.NET Web interface, the assembly version of the BizTalk Server assembly is included in the ASP.NET source code.</span></span> <span data-ttu-id="bb04d-149">アセンブリのバージョン番号は、Web サービス操作の bodyTypeAssemblyQualifiedName プロパティの一部として ASP.NET インターフェイスによって実行時に使用されます。</span><span class="sxs-lookup"><span data-stu-id="bb04d-149">The assembly version number is used at runtime by the ASP.NET interface as part of the bodyTypeAssemblyQualifiedName property of the Web service operation.</span></span> <span data-ttu-id="bb04d-150">BodyTypeAssemblyQualifiedName プロパティを更新することがなく、BizTalk Server アセンブリのバージョン番号が変更された場合、後続の Web サービス操作は BizTalk Server によって拒否されます。</span><span class="sxs-lookup"><span data-stu-id="bb04d-150">If the version number of the BizTalk Server assembly changes without updating the bodyTypeAssemblyQualifiedName property, then subsequent Web service operations will be rejected by BizTalk Server.</span></span><br /><br /> <span data-ttu-id="bb04d-151">受信場所で XmlDefaultPipeline を使用する場合、サブスクリプションはドキュメントの種類に依存します。</span><span class="sxs-lookup"><span data-stu-id="bb04d-151">If the receive location uses the XmlDefaultPipeline, the subscription relies on the document type.</span></span> <span data-ttu-id="bb04d-152">サブスクリプションでは埋め込みアセンブリ情報が使用され、アセンブリが存在しない場合は失敗します。</span><span class="sxs-lookup"><span data-stu-id="bb04d-152">It uses the embedded assembly information and will fail if the assembly does not exist.</span></span> <span data-ttu-id="bb04d-153">PassThruPipeline を使用する場合、サブスクリプションではこの埋め込みアセンブリ情報が無視されます。PassThruPipeline は、ポートを公開し、ウィザードで受信場所を作成する場合の既定のパイプラインです。</span><span class="sxs-lookup"><span data-stu-id="bb04d-153">If you use the PassThruPipeline (which is the default if you expose a port and let the wizard create the receive location), the subscription ignores this embedded assembly information.</span></span>|