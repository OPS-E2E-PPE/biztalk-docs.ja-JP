---
title: "オペレーティング システムのパフォーマンスを向上させるための一般的なガイドライン |Microsoft ドキュメント"
ms.custom: 
ms.date: 06/08/2017
ms.prod: biztalk-server
ms.reviewer: 
ms.suite: 
ms.tgt_pltfrm: 
ms.topic: article
ms.assetid: bc9ca38e-1feb-4f34-a64b-d04566e85db9
caps.latest.revision: "11"
author: MandiOhlinger
ms.author: mandia
manager: anneta
ms.openlocfilehash: e7be3f8060bba20bc0ba127443095c228f954bba
ms.sourcegitcommit: 5abd0ed3f9e4858ffaaec5481bfa8878595e95f7
ms.translationtype: MT
ms.contentlocale: ja-JP
ms.lasthandoff: 11/28/2017
---
# <a name="general-guidelines-for-improving-operating-system-performance"></a>オペレーティング システムのパフォーマンスを向上させるための一般的なガイドライン
オペレーティング システムのパフォーマンスを向上させるために、次の一般的なガイドラインに従ってください。  
  
## <a name="install-the-latest-bios-storage-area-network-san-drivers-network-adapter-firmware-and-network-adapter-drivers"></a>最新の BIOS、記憶域エリア ネットワーク (SAN) ドライバー、ネットワーク アダプターのファームウェアおよびネットワーク アダプター ドライバーをインストールします。  
 ハードウェアの製造元によっては、BIOS、ファームウェア、およびドライバーの更新対応するハードウェアのパフォーマンスと可用性を向上させることができますを定期的に解放します。 ダウンロードして、BizTalk Server 環境内の各コンピューターで、次のハードウェア コンポーネントの更新プログラムを適用するハードウェアの製造元の Web サイトを参照してください。  
  
1.  BIOS の更新プログラム  
  
2.  SAN ドライバー (場合は、SAN の使用)  
  
3.  ファームウェアの NIC  
  
4.  NIC ドライバー  
  
## <a name="enable-the-high-performance-power-plan-on-all-biztalk-server-and-sql-server-computers"></a>「高パフォーマンス」を有効にするすべての BizTalk Server と SQL Server コンピューターの電源プランします。  
 既定では、Windows Server 2008/2008 R2 セット (推奨) バランス電源プランで、電力の節約を有効にしていることができます待機時間の増加 (一部のタスクの低速の応答時間) が発生して CPU を消費するアプリケーションでパフォーマンスの問題が発生します。  
  
 待機時間を短縮するために BizTalk Server を実行しているすべてのサーバーと SQL Server、Windows であることを確認する必要があります**電源プラン**'éý'**高パフォーマンス**です。 切り替える方法について、**高パフォーマンス**電源プランが、サポート技術情報の記事を参照してください: 2207548 [Windows Server 2008 R2 での全体的なパフォーマンスの低下](http://go.microsoft.com/fwlink/?LinkID=219677)(http://go.microsoft.com/fwlink/?LinkID=219677)。  
  
## <a name="evaluate-the-usage-of-intel-hyper-threading-on-biztalk-server-and-sql-server-computers"></a>Intel ハイパー スレッディングの BizTalk Server と SQL Server のコンピューターで使用状況を評価します。  
  
-   **プレ Nehalem ハイパー スレッディング**:  
  
    -   ハイパー スレッディングをオフにする BizTalk Server コンピューターにします。 これは、通常、BIOS setup のプロセッサの設定にある、BIOS 設定です。 ハイパー スレッディングによって; は実際にはよりも多くのプロセッサ/プロセッサ コアが表示されるサーバーただし、ハイパー スレッド プロセッサは、物理プロセッサまたはプロセッサのコアのパフォーマンスの 20 ~ 30% 通常提供します。 BizTalk Server では、その自己調整アルゴリズムを調整するプロセッサの数をカウント、ハイパー スレッド プロセッサでは、これらの調整が歪曲される、全体的なパフォーマンスを負の値になることができますが発生します。  
  
    -   ハイパー スレッディングをオフにする SQL Server コンピュータ上の高レベル (BizTalk Server など) の競合の可能性があるアプリケーションでは、SQL Server コンピューターのハイパー スレッド環境でパフォーマンスの低下が生じるためです。  
  
-   **Nehalem ハイパー スレッディング**: とは異なり古いアーキテクチャでは、Intel のマイクロ アーキテクチャ"Nehalem"プロセッサでハイパー スレッディングの有効化を提供できますまでほぼ線形の容量が増加します。 最適なパフォーマンスの結果、"Nehalem"プロセッサを展開するときをお勧めスループットが大幅に増加するためのテクノロジの Intel ハイパー スレッディング (H T) を有効にすると、コンピューターの BIOS を構成することです。  
  
-   **ハードウェア仮想化**: 仮想マシンが仮想プロセッサを使用してハードウェア仮想化を使用する場合。 利用可能な Cpu の数は、仮想マシンを構成するときに選択した設定に基づきます。 ハードウェアがハイパー スレッドの場合、仮想マシンはわかりませんハイパー スレッドであります。  
  
## <a name="assign-the-msdtc-log-file-directory-to-a-separate-dedicated-drive"></a>MSDTC ログ ファイルのディレクトリを別の専用のドライブに割り当てる  
 別の SQL Server コンピューターに複数のメッセージ ボックス データベースを使用する BizTalk Server 環境では、Microsoft 分散トランザクション コーディネーター (MSDTC) に関連付けられている追加のオーバーヘッドが発生します。 既定では、MSDTC ログ ファイルは、DTC サービスを実行しているコンピューターの %systemdrive%\windows\system32\msdtc ディレクトリに配置します。 DTC ログがパフォーマンスのボトルネックになる可能性があります可能性を軽減するのには、MSDTC ログ ファイルのディレクトリを高速なディスク ドライブに移動を検討してください。  
  
 MSDTC ログ ファイルのディレクトリを変更するを参照してください。 [DTC ログを構成する](http://go.microsoft.com/fwlink/?LinkID=204107)(http://go.microsoft.com/fwlink/?LinkID=204107)。  
  
## <a name="configure-antivirus-software-to-avoid-real-time-scanning-of-biztalk-server-executables-and-file-drops"></a>BizTalk Server 実行可能ファイルのリアルタイム スキャンしないようにするウイルス対策ソフトウェアを構成し、ファイルの削除  
 ウイルス対策ソフトウェアの BizTalk Server 実行可能ファイルおよびフォルダーやファイルのリアルタイム スキャンの受信場所を BizTalk Server によって監視される共有 BizTalk Server のパフォーマンスが低下することができます。 ウイルス対策ソフトウェアが BizTalk Server コンピューターにインストールされている場合の BizTalk Server によって参照される非実行可能ファイルの種類のリアルタイム スキャンを無効にする受信場所 (通常はします。XML、.csv、.txt などこともできます)。BizTalk Server 実行可能ファイルのスキャンを除外するウイルス対策ソフトウェアと構成  
  
## <a name="disable-intrusion-detection-network-scanning-between-computers-in-the-biztalk-server-environment"></a>侵入検出のネットワークが、BizTalk Server 環境内のコンピューター間でスキャンを無効にします。  
 侵入検知ソフトウェアでは、速度が低下したり、でもネットワーク経由で有効な通信を防止することができます。 侵入検知ソフトウェアがインストールされている場合は、BizTalk Server コンピューターと外部データ リポジトリ (SQL Server) コンピューターのスキャンやメッセージング サービス (メッセージ キューは、WebSphere MQSeries) などのコンピューターのネットワークを無効にします。  
  
## <a name="defragment-all-disks-in-the-biztalk-server-environment-on-a-regular-basis"></a>定期的に BizTalk Server 環境のすべてのディスクの断片化を解消します。  
 BizTalk Server 環境でディスクの過剰な断片化がパフォーマンスに悪影響です。 BizTalk Server 環境のディスクの断片化を解消するこれらの手順に従います。  
  
1.  すべてのディスクの断片化を解消 (ローカルと SAN/NAS) 営業時間外のディスクの最適化をスケジュールすることによって定期的にします。  
  
2.  Windows ページファイルの断片化を解消し、システム全体のパフォーマンスを向上させるため、BizTalk Server 環境内の各ディスクのマスター ファイル テーブルを事前に割り当てできます。  
  
    > [!NOTE]  
    >  マスター ファイル テーブルを事前に割り当て、サポート技術情報の記事 961095 を参照してください[「マスター ファイル テーブルのゾーンの Windows Vista および Windows Server 2008 で予約」](http://go.microsoft.com/fwlink/?LinkID=204563) (http://go.microsoft.com/fwlink/?LinkID=204563)。  
  
## <a name="if-antivirus-software-is-installed-on-the-sql-server-computer-disable-real-time-scanning-of-data-and-transaction-files"></a>ウイルス対策ソフトウェアが、SQL Server コンピューターにインストールされている場合は、データ ファイルとトランザクションのファイルのリアルタイム スキャンを無効にします。  
 SQL Server データ ファイルとトランザクション ファイル (.mdf、.ndf、.ldf、.mdb ファイル) のリアルタイム スキャン、ディスク I/O の競合が増えるし、SQL Server のパフォーマンスが低下することができます。 SQL Server データ ファイルとトランザクションのファイルの名前は、BizTalk Server 環境間で異なる場合がありますに注意してください。 既定の BizTalk Server 構成で作成されたデータとトランザクションのファイルの詳細については、次を参照してください。 [、Databases2 のファイル グループを最適化する](../technical-guides/optimizing-filegroups-for-the-databases2.md)です。  
  
## <a name="configure-msdtc-for-biztalk-server-and-sql-server"></a>BizTalk Server と SQL Server の MSDTC を構成します。  
 SQL Server と BizTalk Server の間でトランザクションを容易にするため、Microsoft 分散トランザクション コーディネーター (MSDTC) を有効にする必要があります。  
  
#### <a name="to-configure-distributed-transaction-coordinator-dtc"></a>分散トランザクション コーディネーター (DTC) を構成するには  
  
1.  をクリックして**開始**、 をクリックして**実行**、型**dcomcnfg**、クリックして**ok**を開くには**コンポーネント サービス**.  
  
2.  コンソール ツリーで、**[コンポーネント サービス]**、**[コンピューター]**、**[マイ コンピューター]**、**[分散トランザクション コーディネーター]** の順に展開し、**[ローカル DTC]** をクリックします。  
  
3.  右クリック**ローカル DTC**、クリックして**プロパティ**を表示する、**ローカル DTC のプロパティ** ダイアログ ボックス。  
  
4.  **トレース** タブの **出力オプション** セクションで、クリア、**トレース出力**ボックス。  
  
5.  **[セキュリティ]** タブをクリックします。  
  
6.  次の 4 つのオプションが選択されていることと、それ以外はすべて選択が解除されていることを確認してください。  
  
    -   **ネットワーク DTC アクセス**  
  
    -   **受信を許可する**  
  
    -   **送信を許可する**  
  
    -   **認証を必要としない**  
  
7.  をクリックして**OK**を閉じる、**ローカル DTC のプロパティ** ダイアログ ボックス。 MSDTC サービスを再起動するメッセージが表示されたら、クリックして**はい**です。  
  
8.  **[コンポーネント サービス]** を閉じます。  
  
9. をクリックして**開始**、 をポイント**管理ツール**、順にクリック**セキュリティが強化された Windows ファイアウォール**です。  
  
10. セキュリティが強化された Windows ファイアウォールでクリックして**受信の規則**です。  
  
11. **受信の規則** ウィンドウを右クリックして**分散トランザクション コーディネーター*** (必要に応じて)、をクリックして**規則の有効化**です。  
  
12. セキュリティが強化された Windows ファイアウォールでクリックして**送信の規則**です。  
  
13. **送信の規則** ウィンドウを右クリックして**分散トランザクション コーディネーター*** (必要に応じて)、をクリックして**規則の有効化**です。  
  
14. **コントロール パネルの** をダブルクリックして**管理ツール**です。  
  
15. 右側のペインで、ダブルクリック**Services**です。  
  
16. 右側のペインで**サービス (ローカル)**を右クリックして**COM + システム アプリケーション**、 をクリックして**再起動**サービスが再起動するまで待機します。  
  
17. **[分散トランザクション コーディネーター]** サービスを右クリックして再起動します。  
  
18. **[SQL Server (MSSQLSERVER)]** サービスを右クリックして再起動します。  
  
19. **[サービス (ローカル)]** を閉じ、**[管理ツール]** を閉じます。  
  
## <a name="configure-firewalls-for-biztalk-server"></a>BizTalk server 上を構成します。  
  
> [!NOTE]  
>  のみ、この手順は必要なかどうかは 1 つまたは複数のファイアウォール BizTalk Server 環境内で発生します。  
  
 BizTalk server 上の構成を次の情報を確認します。  
  
-   [BizTalk Server のポートに必要な](http://go.microsoft.com/fwlink/?LinkID=153238)(http://go.microsoft.com/fwlink/?LinkID=153238)。  
  
-   ファイアウォールで動作する RPC 動的ポート割り当てを構成するには、サポート技術情報の記事 929851 を参照してください["TCP/IP の既定の動的なポート範囲が、Windows Vista、Windows Server 2008 で変更された"](http://go.microsoft.com/fwlink/?LinkID=204568) (ハイパーリンク"http://。go.microsoft.com/fwlink/ しますか。LinkID 204568"http://go.microsoft.com/fwlink/? を =LinkID = 204568)。 必要なポートに対応するための Windows ファイアウォールを構成する方法については、次を参照してください。 [Windows ファイアウォールと IPsec ポリシーの展開のステップ バイ ステップ ガイド](http://go.microsoft.com/fwlink/?LinkID=204569)(http://go.microsoft.com/fwlink/?LinkID=204569)。  
  
## <a name="install-appropriate-com-and-msdtc-hotfix-rollup-packages"></a>COM +、MSDTC の適切な修正プログラムのロールアップ パッケージをインストールします。  
 適切な COM +、MS DTC の修正プログラム ロールアップ パッケージをインストールする次の情報を確認します。  
  
-   MS DTC の修正プログラムは、Microsoft サポート技術情報 article978476 で確認できます[「は、Windows Server 2008 R2 MS DTC の修正プログラム ロールアップ パッケージ 1 で修正 MS DTC の問題」](http://go.microsoft.com/fwlink/?LinkID=204109) (http://go.microsoft.com/fwlink/?LinkID=204109)。  
  
-   最新の DTC の修正プログラム ロールアップ パッケージ サポート技術情報の記事を検索によって見つかりますできます[http://support.microsoft.com](http://go.microsoft.com/fwlink/?LinkID=96185) (http://go.microsoft.com/fwlink/?LinkID=96185) (引用符を含む)、句。  
  
    ```  
    "MS DTC Hotfix Rollup Package"  
    ```  
  
     この検索では、次のクエリ。 最新のものを選択します。   
    [http://support.microsoft.com/search/default.aspx?query=「MS + DTC + 修正プログラム + ロールアップ + パッケージ」](http://support.microsoft.com/search/default.aspx?query="MS+DTC+Hotfix+Rollup+Package")  
  
## <a name="use-the-interrupt-affinity-policy-tool-to-bind-network-adapter-interrupts-to-specific-processors-on-multiprocessor-computers"></a>Interrupt-affinity ポリシー ツールを使用して、ネットワーク アダプターの割り込みをマルチプロセッサ コンピューターで特定のプロセッサにバインドするには  
 Interrupt-affinity ポリシー (IntPolicy) は、特定のプロセッサまたはマルチプロセッサ コンピューター上のプロセッサに「バインド」または (ネットワーク アダプター) などの特定のデバイスに対する割り込みの CPU 関係を変更できるようにするツールです。 このバインディングは、パーティション分割とも呼ばれます。 特定のネットワーク アダプターからの割り込みマルチプロセッサ コンピューターで特定のプロセッサをバインドは、長時間の遅延プロシージャ呼び出し (Dpc) と指定されたプロセッサ上のネットワーク アダプターの割り込みサービス ルーチン (Isr) を適用します。 シングル プロセッサ コンピューター割り込みアフィニティを構成できないことに注意してください。  
  
> [!NOTE]  
>  DPC はキューに置かれた後で実行される通常カーネル モード関数呼び出しとして定義されます。 ISR は、その目的は、割り込みを生成するときに、デバイスのサービスを提供するルーチンとして定義されます。 遅延プロシージャ呼び出しと割り込みサービス ルーチンに関する詳細については、次を参照してください。、 [Windows Driver Kit ドキュメント](http://go.microsoft.com/fwlink/?LinkId=84418)(http://go.microsoft.com/fwlink/?LinkId=84418)。  
  
 ![割り込み &#45;アフィニティ ポリシー ツール](../technical-guides/media/interrupt-affinitypolicytool.gif "割り込み AffinityPolicyTool")  
Interrupt-Affinity Policy ツール  
  
 Windows Server 2008 をベース マルチプロセッサのコンピューターでは、割り込みコント ローラーの既定の動作を使用可能なプロセッサに装置の割り込みを割り当てます。 ときにネットワーク接続および指定したネットワーク アダプターのファイル サーバーのセッションでは、バインド/パーティション分割されている特定のプロセッサ、セットで実行するではなく使用可能なプロセッサ、パフォーマンス、および関連付けられているネットワーク処理のスケーラビリティが向上します。 大規模な BizTalk Server ソリューションは、多くの場合、複数のネットワーク アダプターが割り込みバインドすることがありますは特に有用でマルチ プロセッサの SQL Server コンピューターの使用を使用します。   
割り込みバインディング IntPolicy を使用して評価が必要常に、テスト環境で実稼働環境で使用する前にします。 ハードウェア、オペレーティング システムおよびテスト環境のアプリケーションの構成に近い設定に、実稼働環境にできるだけです。 これによって、割り込みバインディングのさまざまな順列をテストして、範囲を調べるためにその割り込みバインドはパフォーマンスが向上します。  
 ハイパー スレッディングをサポートする cpu を搭載したコンピューターで IntPolicy を構成する前にハイパー スレッディングを無効にすることをお勧めします。 論理プロセッサではなく、物理プロセッサの割り込みが割り当てられているようになります。 同一の物理プロセッサを参照している論理プロセッサに割り当ての割り込みアフィニティでは、パフォーマンスは向上せず、システム パフォーマンスが低下することもできます。    ハイパーリンク"The"、 [Interrupt-affinity ポリシー ツール](http://go.microsoft.com/fwlink/?LinkID=204111)(http://go.microsoft.com/fwlink/?LinkID=204111) は WHDC web サイトからダウンロードできます。  
  
## <a name="use-the-ntfs-file-system-on-all-volumes"></a>すべてのボリューム上に NTFS ファイル システムの使用  
 Windows Server は、NTFS、FAT を含むドライブおよび FAT32 を書式設定するための複数のファイル システムの種類を提供します。 NTFS では、サーバーの任意のファイル システムを常にある必要があります。  
NTFS では、FAT および FAT32 ファイル システムよりも大きなパフォーマンス上の利点を提供し、Windows サーバーでのみ使用する必要があります。 さらに、NTFS では、FAT および FAT32 経由で多くのセキュリティ、スケーラビリティ、安定性と復旧の利点を備えています。  
以前のバージョンの Windows では、FAT および FAT32 多くの場合、実装された小さいボリュームの (たとえば < 500 MB) が多くの場合、このような状況で高速なためです。 比較的安価な現在のディスク記憶域とオペレーティング システム ドライブの容量を最大にプッシュするアプリケーションと、このような小さいボリュームが使用される可能性はありません。 FAT32 では、FAT より大きなボリュームにスケールを設定が、まだに適切なファイル システムの Windows サーバーにありません。  
FAT および FAT32 多くの場合に実装されている過去ようそれらがより簡単に回復可能なボリュームに問題が発生した場合のネイティブの DOS ツールを使用して管理しやすいとして。 今日では、NTFS 回復性のさまざまなツール ビルド両方のオペレーティング システムをネイティブに使用可能なサード パーティのユーティリティと使用可能なありますがあり、不要になったファイル システムを NTFS を使用していないに対して有効な引数。  
  
## <a name="do-not-use-ntfs-file-compression"></a>NTFS ファイル圧縮を使用しないでください。  
 ボリューム上の領域を削減する簡単な方法は、NTFS ファイル システム圧縮を使用してではない enterprise ファイル サーバーの適切です。 圧縮の実装のすべてのディスク操作、CPU 上余分なオーバーヘッドを配置し、避けることが最善です。 追加のディスクを追加するためのオプションについて検討、行の近くの記憶域またはファイル システム圧縮を真剣に検討する前にデータをアーカイブすることもできます。  
  
## <a name="review-disk-controller-stripe-size-and-volume-allocation-units"></a>レビュー ディスク コント ローラー ストライプ サイズおよびボリューム アロケーション ユニット  
 構成のドライブ アレイとハードウェア ドライブ コント ローラー内の論理ドライブを確認してください。 ボリュームのフォーマットに使用した、アロケーション ユニット サイズでコント ローラー ストライプ サイズが反映されます。 これはディスクの読み取りを確認してください読み書きパフォーマンスが最適をサーバーの全体的なパフォーマンスの向上を提供します。  
アロケーション ユニット (クラスターまたはブロック) サイズを大きくの構成によって、小さく効率的に使用するディスク領域はもディスク I/O パフォーマンスを向上させるように各読み取り操作中に別のデータ ディスク ヘッドが読み取ることができます。  
コント ローラーを構成およびでディスクをフォーマットする最適な設定を調べるには、平均ディスク転送サイズでは、ファイル システムのような特性を持つサーバーのディスク サブシステムを確認します。 Windows パフォーマンス モニタ ツールを使用して、平均の論理ディスク オブジェクトのカウンターを監視するにはディスク読み取りバイト数/と avg.ディスク バイト数/書き込みの通常のアクティビティの期間にわたって使用する最適な値を特定するため。  
アロケーション ユニット サイズが小さい場合があるが保証されているかどうか、システムは多くの小さなファイルまたはレコードにアクセスにが 64 kb アロケーション ユニット サイズは、サウンドのパフォーマンスとほとんどの状況下で I/O のスループットを実現します。 チューニングされたアロケーション ユニット サイズではパフォーマンスの向上は、ディスク負荷が増えたときに特に注意することができます。  
  
> [!NOTE]  
>  ボリュームをフォーマットするときに 4096 バイト (4 KB) を超えるアロケーション ユニット サイズを指定するには、形式のコマンド ライン ツールまたはディスクの管理ツールのいずれかが必要です。 Windows エクスプ ローラーは、このしきい値まで書式がのみです。 (各アロケーション ユニットでは、バイト列として表示)、必要な情報が表示される前に、ボリューム全体をスキャンする必要があるボリュームの現在のアロケーション ユニット サイズを確認する CHKDSK コマンドを使用できます。  
  
## <a name="monitor-drive-space-utilization"></a>ドライブの領域使用率を監視します。  
 データは少なく、ディスクになっています、動作速度が向上します。 これは、外側のエッジをディスクの近くにも最適化済みのドライブにデータが書き込まれるため、可能であれば、これは、ディスクが高速で回転し、最高のパフォーマンスが得られます。  
ディスクのシーク時間よりも通常かなり長い読み取りまたは書き込み操作です。 前述のように、データが最初に、ディスクの外側の端に書き込まれます。 ように、ディスク ストレージが増加し、空き領域の要求が減少、ディスクの中央にデータが近い書き込まれます。 ディスクのシーク、読み取りに時間がかかります、時間が、端から離れた場所ヘッドの移動するとき、データを検索するが増加し、検出されたときにディスク I/O パフォーマンスを低下させてです。  
これはディスク領域使用率の監視が、重要なだけでなく容量上の理由から、パフォーマンスもします。  
原則として、ディスクの空き領域の間で 20 ~ 25% の合計ディスク領域を保持するための目標達成に向けた作業します。 かどうかはディスクの空き容量を下回るこのしきい値をディスク I/O パフォーマンスが低下します。  
  
## <a name="implement-a-strategy-to-avoid-disk-fragmentation"></a>ディスクの断片化を回避するための戦略を実装します。  
 パフォーマンスの低下を防ぐために、ルート ドライブを含む、ディスク上、デフラグ ユーティリティを定期的に実行します。 この毎週ビジー状態のディスク上の操作を行います。 ディスク デフラグ ツールは、Windows と共にインストールされ、指定した間隔でスケジュールされたタスクから実行することができます。  
  
## <a name="optimize-windows-server-performance-for-background-services"></a>バック グラウンド サービスの Windows Server のパフォーマンスを最適化します。  
 BizTalk Server プロセス (BTSNTSVC.exe) は、バック グラウンド サービスとして実行されます。   
Windows Server 2008 は、preemptive マルチタスクを使用して、cpu に出席はプロセスのスレッドの優先順位を設定します。 それにより、プロセスの実行は停止され、別のプロセスが開始されているオペレーティング システムの判断での手法は、preemptive マルチタスクです。 このスキームでは、1 つのスレッドが CPU を占有していることを防止します。  
次の 1 つのプロセスの実行から、CPU の切り替えは、コンテキストの切り替えと呼ばれます。 Windows オペレーティング システムには、コンテキストの切り替えが発生し、次のスレッドが処理される前に、CPU 上で実行する個別のスレッドを許可する時間を決定する設定が含まれています。 この時間数が、クォンタムと呼ばれます。 この設定では、プロセッサのクォンタムをフォア グラウンド プログラムとバック グラウンド サービスの間で共有する方法を選択できます。 通常、サーバーのバック グラウンド サービスよりも割り当てられているより多くの CPU 時間をフォア グラウンド プログラムを許可することが望ましいはありません。 つまり、CPU 時間を等しく考慮の対象がすべてのアプリケーションや、サーバーで実行されているプロセスから指定してください。  
 BizTalk ホスト インスタンスのようなバック グラウンド サービスのパフォーマンスを向上させるには、次の手順に従います。  
  
1.  をクリックして**開始**、] をクリックして**コントロール パネルの [**、順にクリック**システム**です。  
  
2.  をクリックして、**詳細**] タブをクリックして**設定**[**パフォーマンス**です。  
  
3.  をクリックして、 **詳細設定**  タブで、をクリックして**バック グラウンド サービス**、順にクリック**ok** 2 回クリックします。  
  
## <a name="disable-non-essential-services"></a>不要なサービスを無効にします。  
 Windows Server 2008 の既定のインストールでは、必要でない場合、BizTalk Server 環境でいくつかのサービスを使用できます。 各実行中のサービスがシステム リソースを消費し、全体的なパフォーマンスを向上させるために不要なサービスを無効にする必要があります。  
サービスを無効にすると、十分に注意してください。 について十分に特定のサービスを実行している Windows Server の必要に応じて、サービスを無効にする前に、サービスの目的を調査します。 Windows Server 2008 に必要なサービスが無効になっている、オペレーティング システムは、操作やブートする可能性がありますもできません。 になる可能性があります。  
専用の BizTalk Server で不要な Windows Server 2008 サービスを無効にするには、次の手順を実行します。  
  
1.  をクリックして**開始**、 をポイント**管理ツール**、順にクリック**コンピューターの管理**です。  
  
2.  **コンピューターの管理 (ローカル)**、展開**サービスとアプリケーション**、順にクリック**Services**です。  
    **ステータス**列で、実行されている各サービスのラベルは「開始」 停止し、不必要に開始される任意のサービスを無効にするたとえば、次のサービスは、専用の BizTalk サーバーで必要はありません。  
  
    -   警告  
  
    -   クリップ  
  
    -   DHCP サーバー  
  
    -   Fax サービス  
  
    -   ファイル レプリケーション  
  
    -   赤外線モニター  
  
    -   インターネット接続の共有  
  
    -   メッセンジャー  
  
    -   NetMeeting のリモート デスクトップの共有  
  
    -   ネットワーク DDE  
  
    -   ネットワーク DDE DSDM  
  
    -   NWLink NetBIOS  
  
    -   NWLink IPX/SP  
  
    -   印刷スプーラー  
  
    -   Telephony  
  
    -   Telnet  
  
    -   無停電電源装置  
  
3.  無効にする各サービスに依存するサービスに注意してください。 これを行うには、次の手順を実行します。  
  
    1.  無効にサービスをダブルクリックします。  
  
    2.  クリックして、**の依存関係**タブです。  
  
    3.  **このサービスは、次のシステム コンポーネントによって異なります。**一覧で、このサービスに依存するサービスに注意してください。  
  
    4.  **、次のシステム コンポーネントがこのサービスに依存**一覧で、サービスをクリックして、このサービスなしで開始できません**OK**です。  
  
4.  1 つずつには、選択した各サービスが無効にします。 これを行うには、次の手順を実行します。  
  
    1.  無効化、およびをクリックするサービスを右クリックして**プロパティ**です。  
  
    2.  **スタートアップの種類**一覧で、クリックして**無効になっている**です。  
  
    3.  直ちにサービスを停止する場合は、クリックして**停止**です。  
  
         場合、**その他のサービスの停止**注されるその他の依存サービスは停止しても、クリックして、ダイアログ ボックスが表示されます**[はい]**、順にクリック**OK**です。  
  
5.  手順 4 を他の不要なサービスを無効にする.  
  
> [!NOTE]  
>  引き続き使用するサービスを無効にしなかったことを確認するには、各サービスを無効にした後、サーバーの正しい動作をテストします。   
> サーバーが BizTalk Server は多くの場合は、Windows Server 2008 のドメインのメンバーである場合は、グループ ポリシーがコンピューターに正しく適用するために TCP/IP helper サービスが必要です。   
> DHCP クライアントを無効にすると、DHCP クライアントが DNS 動的更新プロトコルの登録を停止して、手動の DNS レコードを DNS サーバーにこのクライアント用に追加する必要があります。  
  
## <a name="manually-load-microsoft-certificate-revocation-lists"></a>Microsoft 証明書失効リストを手動で読み込む  
 .NET アプリケーションを開始するときに、.NET Framework は、署名されたアセンブリ用の証明書失効リスト (CRL) をダウンロードしようとします。 場合は、システムは、インターネットに直接アクセスがないか、Microsoft.com ドメインへのアクセス制限は、BizTalk Server の起動を遅らせるこの可能性があります。 アプリケーションの起動時にこの遅延を避けるためには、手動でダウンロードして、コード署名のシステムに証明書失効リストをインストールする次の手順を使用することができます。  
  
1.  最新の CRL の更新プログラムをダウンロード[http://crl.microsoft.com/pki/crl/products/CodeSignPCA.crl](http://go.microsoft.com/fwlink/?LinkID=117794) (http://go.microsoft.com/fwlink/?LinkID = 117794) および[http://crl.microsoft.com/pki/crl/products/CodeSignPCA2.crl](http://go.microsoft.com/fwlink/?LinkId=117795) (http://go.microsoft.com/fwlink/?LinkId = 117795)。  
  
2.  CodeSignPCA.crl と CodeSignPCA2.crl ファイルを分離されたシステムに移動します。  
  
3.  コマンド プロンプトで、certutil ユーティリティを使用して、手順 1. でダウンロードした CRL のローカル証明書ストアを更新する次のコマンドを入力します。  
  
     certutil – addstore CA c:\CodeSignPCA.crl  
  
 CRL ファイルは、ダウンロードの繰り返し実行タスクを設定する必要があり、更新の CRL をインストールするように、定期的に更新されます。 表示する、次回の更新プログラムで .crl ファイルをダブルクリックし、値を表示、 **[次へ] を更新**フィールドです。  
  
## <a name="synchronize-time-on-all-servers"></a>すべてのサーバー上の時刻と同期します。  
 チケットに関連するさまざまな操作、配信確認メッセージやログ記録は、正確なされているローカル システム クロックに依存します。 これは、システム間の誤差の時間によるログの同期をまたは期限切れとして別に拒否される 1 つのシステムによって発行されたチケット、分散環境で特にまたはまだ有効ではありません。  
  
 時間を自動的に同期するためにサーバーを構成する方法については、次を参照してください。[自動ドメイン時刻同期のためのクライアント コンピューターの構成](http://go.microsoft.com/fwlink/?LinkId=99420)(http://go.microsoft.com/fwlink/?LinkId=99420)。  
  
## <a name="configure-the-windows-pagefile-for-optimal-performance"></a>パフォーマンスを最適に Windows ページファイルを構成します。  
 最適なパフォーマンスを Windows ページファイル (ページング ファイル) を構成する次のガイドラインに従います。  
  
1.  **ディスクの競合を削減し、ディスクのパフォーマンスを向上させるオペレーティング システムがインストールされている物理ドライブから別の物理ボリュームに、ページング ファイルを移動**移動に関連するパフォーマンスの向上の BizTalk Server コンピューターで、ページング ファイルは、ドキュメントの処理負荷によって異なります。 SQL Server コンピューターで、別のボリュームに、ページング ファイルの移動が、SQL Server のディスクの処理を要する性質により、すべてのシナリオではベスト プラクティスと見なされます。  
  
2.  **1 つまたは複数専用物理ドライブには、RAID 0 (ストライプ) または raid-1 (ミラー) 配列のいずれかとして、または RAID でない 1 つのディスク上に構成されているページング ファイルの分離**専用のディスクまたはドライブ アレイを使用して、ページファイルです。SYS が唯一のファイル ボリューム全体で、ページング ファイルが断片化するパフォーマンスが向上します。 ほとんどのディスク配列とは、配列内の物理ディスクの数が増加するにつれて、配列のパフォーマンスが向上します。 ページング ファイルは、ディスク アレイ内の複数の物理ドライブ上の複数のボリュームの間で分散している場合、ページング ファイルのサイズは、配列内の各ドライブ上の同じサイズをする必要があります。 ディスク アレイを構成する場合にもお勧め能力と速度が同じである物理ドライブを使用します。 冗長性がページング ファイルの通常必要ないことに注意してください。  
  
3.  **RAID 5 アレイ上のページング ファイルを構成しない**-ページング ファイルの活動の能力と raid-5 アレイがより適して読み取りパフォーマンス書き込みのパフォーマンスよりも書き込みでは、raid-5 アレイ上のページング ファイルの構成は推奨されません。  
  
4.  **オペレーティング システムがインストールされている場合を除いて、ページング ファイルを物理的なボリュームに移動するためのリソースがあるない場合は、オペレーティング システムと同じ論理ボリューム上に存在するページング ファイルを構成する**-上に存在するページング ファイルの構成にはオペレーティング システムがディスクを増やして、同じ物理ディスク上にある別の論理ボリューム シーク時間およびディスク プラッター ヘッドが継続的に、ページ ファイルにアクセスする代わりに、ボリューム間で移動すると、システムのパフォーマンスを低下オペレーティング システム ファイル、アプリケーション ファイル、およびデータ ファイル。 また、オペレーティング システムは通常、これは通常、最も近い物理ディスクの外側の物理ディスクの最初のパーティションにインストールし、ディスク速度がここでは、関連するパフォーマンスは最適では、ディスクのです。  
  
    > [!IMPORTANT]  
    >  削除した場合は、ページング ファイルがブート パーティションから、作成できません、クラッシュ ダンプ ファイル (メモリです。DMP) すると、カーネル モードを停止した場合にデバッグ情報の書き込みでエラーが発生します。 クラッシュ ダンプ ファイルが必要なかどうかは、少なくとものページング ファイルのままにする、オプションはありません、ブート パーティションには、物理メモリ + 1 MB のサイズ。  
  
5.  **ページング ファイルのサイズを手動で設定**– 手動でによりサーバーが自動的にサイズを変更または持たないページング ファイルによりも優れたパフォーマンスは、通常、ページング ファイルのサイズを設定します。 チューニングのベスト プラクティスは、同じ値に初期 (最小) と、ページング ファイルの最大サイズ設定を設定します。 これにより、処理リソースがかかることができる、ページング ファイルの動的なサイズ変更に失われないこと。 これは、このサイズのアクティビティは、通常、システムでメモリ リソースが既に制限になるときに発生する考えるに特に当てはまります。 またの値では、ディスク上のページング領域は、1 つの連続した領域、ディスクを向上させることを確認、同一の最小と最大ページ ファイル サイズのシークの時刻を設定します。 Windows Server 2008 には、インストールされている RAM の容量の 1.5 倍に等しい総ページング ファイル サイズが自動的にお勧めします。 サーバーでは十分なディスク領域、最大で 2 倍のパフォーマンスを最適に物理メモリ、組み合わせるすべてのディスク上のページング ファイルを構成してください。  
  
## <a name="remove-cpu-intensive-screen-savers"></a>CPU を消費するスクリーン セーバーを削除します。  
 3D または OpenGL スクリーン セーバーは既知の CPU 負荷の高いを実行しているときに、重要なシステム リソースを使用します。 または、オプションとして、サーバー ビルド時に、これらすべてのインストールを避けるために、インストールされている場合、削除をお勧めします。 基本的な"Windows Server 2008"または空のスクリーン セーバーは CPU を消費するスクリーン セーバーを使用する代わりに優れたです。  
  
## <a name="see-also"></a>参照  
 [オペレーティング システムのパフォーマンスの最適化](../technical-guides/optimizing-operating-system-performance.md)