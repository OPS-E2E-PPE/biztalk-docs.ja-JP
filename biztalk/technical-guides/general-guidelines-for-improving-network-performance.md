---
title: ネットワーク パフォーマンスを向上させるための一般的なガイドライン |Microsoft Docs
ms.custom: ''
ms.date: 06/08/2017
ms.prod: biztalk-server
ms.reviewer: ''
ms.suite: ''
ms.tgt_pltfrm: ''
ms.topic: article
ms.assetid: 286c10d2-9262-4e3c-adde-f7b5780c2736
caps.latest.revision: 4
author: MandiOhlinger
ms.author: mandia
manager: anneta
ms.openlocfilehash: b8cc4c27ef977a4bd8789adc569f9d8d78aa11ce
ms.sourcegitcommit: 266308ec5c6a9d8d80ff298ee6051b4843c5d626
ms.translationtype: MT
ms.contentlocale: ja-JP
ms.lasthandoff: 06/27/2018
ms.locfileid: "36997003"
---
# <a name="general-guidelines-for-improving-network-performance"></a>ネットワーク パフォーマンスを向上させるための一般的なガイドライン
最適な値へのネットワーク設定を調整することが示されている効果的にネットワークのボトルネックに対処し、BizTalk Server ソリューションの全体的なネットワーク パフォーマンスが向上します。 これは、BizTalk Server コンピューター、SQL Server コンピューター、およびその他のサーバー コンピューターを含む、ソリューションに関連するすべてのコンピューターで実行する必要があります。  
  
> [!NOTE]  
>  ネットワーク IO が BizTalk Server 環境でのボトルネックである最も一般的なインジケーター カウンターは、「SQL Server: Wait Statistics\Network IO 待機」。 ときの値は、**平均待機時間**このカウンターの値がより大きい 0 個の 1 つ以上、SQL Server コンピューターのネットワークの IO がボトルネックになっています。  
  
 ネットワーク パフォーマンスを向上させるのには、次の推奨事項を使用できます。  
  
## <a name="add-additional-network-cards-to-computers-in-the-biztalk-server-environment"></a>BizTalk Server 環境内のコンピューターに追加のネットワーク カードを追加します。  
 だけに追加する追加のハード ドライブは、ディスクのパフォーマンスを向上させることができます、追加のネットワーク カードを追加するには、ネットワーク パフォーマンスが向上します。 BizTalk Server 環境内のコンピューター上のネットワーク カードが飽和状態し、カードは、ボトルネック、パフォーマンスを向上させるために 1 つまたは複数のネットワーク カードを追加することを検討してください。  
  
## <a name="implement-network-segmentation"></a>ネットワークのセグメント化を実装します。  
 推奨事項に従い、**サブネット**のセクション、 [「BizTalk Server データベースの最適化」ホワイト ペーパー](http://go.microsoft.com/fwlink/?LinkID=101578) (http://go.microsoft.com/fwlink/?LinkID=101578)します。  
  
## <a name="where-possible-replace-hubs-with-switches"></a>可能であれば、スイッチを使用してハブを置き換えます  
 スイッチには、直接ハブを使用して、トラフィックをルーティングするブロードキャスト モデルは、ソースと宛先の間のトラフィックをルーティングするためのロジックが含まれています。 そのためスイッチは効率的で、パフォーマンスが向上します。  
  
## <a name="remove-unnecessary-network-protocols"></a>不要なネットワーク プロトコルを削除します。  
 Windows Server コンピューターでは、多くのネットワーク サービスと実際に必要とされる以上がインストールされているプロトコルがある場合があります。 各追加ネットワーク クライアント、サービスまたはプロトコルを配置追加オーバーヘッドのシステム リソース。  
さらに、インストールされている各プロトコルは、ネットワーク トラフィックを生成します。 不要なネットワーク クライアント、サービス、およびプロトコルを削除すると、他のプロセスの使用可能なシステム リソース、過剰なネットワーク トラフィックを避け、ネゴシエートする必要がありますネットワーク バインドの数が最小限に減らします。  
プロトコルとサービスを現在インストールされているネットワーク クライアントを表示するには、これらの手順に従います。  
  
1. クリックして**開始**、順にクリックします**コントロール パネルの **します。  
  
2. コントロール パネルで、次のいずれかの操作を行います  
  
   1.  **、コンピューターの設定を調整**設定**によって表示**に**カテゴリ**、 をクリックして**ネットワークとインターネット**、順にクリックします**ネットワークと共有センター**します。  
  
   2.  **、コンピューターの設定を調整**設定**によって表示**いずれかに**大きいアイコン**または**小さいアイコン**、順にクリックします**ネットワークと共有センター**します。  
  
3. [タスク] ウィンドウで、次のようにクリックします。**アダプター設定を変更する**します。  
  
4. 右クリック**Local Area Connection** (または、ネットワーク接続のエントリ) をクリックして**プロパティ**ネットワーク接続のプロパティ ダイアログ ボックスを表示します。  
  
5. 不要な項目を削除するを選択し、クリックして**アンインストール**します。 項目を無効にするには、単に、アイテムに関連付けられているチェック ボックスをオフにします。  
  
   接続の項目のアンインストールの影響について確信できない場合はアンインストールするのではなく、項目を無効にします。 項目を無効にすると、どのサービス、プロトコル、およびクライアントがシステムで必要な実際に決定できます。 項目を無効にしていない影響を及ぼす場合、サーバー上と特定されて、ときに、項目をアンインストールし、できます。  
   多くの場合は、次の 3 つのコンポーネントのみが、標準の TCP/IP ベース ネットワーク上の操作必要です。  
  
-   Microsoft ネットワーク用クライアント  
  
-   ファイル サービスおよび Microsoft ネットワーク用のプリンターの共有  
  
-   インターネット プロトコル (TCP/IP)  
  
## <a name="network-adapter-drivers-on-all-computers-in-the-biztalk-server-environment-should-be-tuned-for-performance"></a>BizTalk Server 環境のすべてのコンピューター上のネットワーク アダプター ドライバーがパフォーマンスに合わせて調整する必要があります。  
  
> [!IMPORTANT]  
>  ネットワーク アダプターのドライバーを常に調整を適用する前に、環境内のネットワーク カードの最新のネットワーク アダプター デバイス ドライバーをインストールします。  
  
 受信と送信の両方のパケットは、バッファリングの使用可能なメモリの量を最大化するには、ネットワーク アダプター デバイス ドライバーを調整します。 バッファー数を最大化、特に転送バッファーおよびバッファーを結合します。 既定では、これらのパラメーターの値され、製造元とバージョンのドライバーの間、でも提供されるかどうかが変化します。 目標は、ネットワーク アダプターのハードウェアによって実行された作業を最大化して、ネットワーク トラフィックの急激な増加と関連付けられている輻輳を軽減するためにネットワーク操作の最大の可能なバッファー領域を確保します。  
  
> [!NOTE]  
>  ネットワーク アダプターのドライバーをチューニングする手順は、製造元によって異なります。  
  
 ネットワーク アダプターの設定にアクセスする次の手順に従います。  
  
1. クリックして**開始**順にクリックします**コントロール パネルの **します。  
  
2. コントロール パネルで、次のいずれかの操作を行います。  
  
   1.  **、コンピューターの設定を調整**設定**によって表示**に**カテゴリ**、 をクリックして**ネットワークとインターネット**、順にクリックします**ネットワークと共有センター**します。  
  
   2.  **、コンピューターの設定を調整**設定**によって表示**いずれかに**大きいアイコン**または**小さいアイコン**、順にクリックします**ネットワークと共有センター**します。  
  
3. [タスク] ウィンドウで、次のようにクリックします。**アダプター設定を変更する**します。  
  
4. 右クリック**Local Area Connection** (または、ネットワーク接続の名前) をクリックし、**プロパティ**します。  
  
5. **ネットワーク**] タブで [**構成**します。  
  
6. をクリックして、**詳細**ネットワーク アダプターに対して構成できるプロパティにアクセスするには、タブ。  
  
   次のプロパティは、BizTalk Server 環境でのネットワーク アダプターごとに構成する必要があります。  
  
> [!NOTE]  
>  集計、負荷分散、またはフォールト トレランス用に構成されたネットワーク アダプターのチーミングされたセット内の個々 のネットワーク アダプターを含む、物理ネットワーク アダプターごとにこれらの設定が適用されます。 チーミング ソフトウェアをチームにもこれらの設定を適用する必要があります。 一部のネットワーク アダプターが自動調整し、パラメーターを手動で構成するオプションがない可能性がありますに注意してください。  
  
- **電源オプション**– 電源管理機能が電力を節約するネットワーク アダプターをオフにすることを防ぐためにネットワーク アダプター ドライバーを構成します。 この機能はクライアント コンピューターに役立つことはめったにありません必要がありますが、BizTalk Server または SQL Server コンピューターで使用します。  
  
- **速度、双方向の固定 (自動を使用しない)** -は非常に重要なは、スイッチの設定に対応する、ネットワーク速度、二重モード、およびフロー制御パラメーターが設定されている接続先にします。 これは、定期的な「自動同期」オフライン接続を一時的にかかる場合があります出現で軽減されます。  
  
- **Coalesce バッファーの最大**-マップのレジスタがシステム リソースの仮想アドレス バス マスターをサポートするネットワーク アダプターを物理アドレスに変換するために使用します。 Coalesce バッファーが既にドライバー マップ レジスタが不足した場合、ネットワーク ドライバーを使用します。 この値が最高のパフォーマンスをできるだけ高く設定します。 物理メモリの制限付きのサーバーで、負の値があります coalesce バッファーと影響がシステム メモリを消費します。 ほとんどのシステムでただし、最大設定適用できますせず、使用可能なメモリが大幅に削減します。  
  
- **最大送信/送信記述子および送信バッファー** -この設定を指定数の転送コントロール バッファーのネットワーク インターフェイスで使用するドライバーを割り当てます。 これにより、「送信」キューに持つことができます、ドライバー、未処理のパケットの数が直接反映されます。 この値が最高のパフォーマンスをできるだけ高く設定します。 物理メモリの制限付きのサーバーでは、システム メモリを消費する送信バッファーとして悪影響を及ぼすこの可能性があります。 ほとんどのシステムでただし、最大設定適用できますせず、使用可能なメモリが大幅に削減します。  
  
- **受信バッファーの最大**-この設定は、プロトコルのメモリにデータをコピーするときに、ネットワーク インターフェイスのドライバーで使用されるメモリ バッファーの量を指定します。 通常、既定では、比較的低い値に設定されます。 この値が最高のパフォーマンスをできるだけ高く設定します。 物理メモリの制限付きのサーバーで、負の値がありますと受信バッファーへの影響は、システム メモリを消費します。 ほとんどのシステムでただし、最大設定適用できますせず、使用可能なメモリが大幅に削減します。  
  
- **オプションをオフロードすべて**- ほとんどの場合のネットワーク インターフェイス オフロード機能を有効にする場合のパフォーマンスが向上します。 一部のネットワーク アダプターを有効にするまたは送信のオフロードを無効にして、トラフィックを受信する別のパラメーターを提供します。 ネットワーク アダプターに、CPU からタスクをオフロードすると、システム全体のパフォーマンスを改善するサーバーの CPU 使用量を削減できます。 Microsoft TCP/IP トランスポートは、適切な機能を備えたネットワーク アダプターに次のタスクの 1 つ以上オフロードできます。  
  
  -   **チェックサム タスク**- TCP/IP トランスポートは、計算をオフロードできますの ip アドレスと TCP チェックサムの検証で送受信するネットワーク アダプターがあり、ネットワーク アダプター ドライバーがこの機能を提供する場合は、このオプションを有効にします。  
  
  -   **IP セキュリティ タスク**-TCP/IP トランスポートは、計算との認証ヘッダー (AH) およびネットワーク アダプターにセキュリティ ペイロード (ESP) をカプセル化する暗号化チェックサムの検証をオフロードできます。 TCP/IP トランスポートは、暗号化と復号化、ネットワーク アダプターに ESP ペイロードのもオフロードできます。 ネットワーク アダプター ドライバーがこの機能を提供する場合は、これらのオプションを有効にします。  
  
  -   **大きな TCP パケットのセグメント化**-TCP/IP トランスポートは、大量送信オフロード (LSO) をサポートしています。 Lso により、TCP/IP トランスポートは大きな TCP パケットのセグメント化をオフロードできます。  
  
  -   **スタック オフロード**– ネットワーク スタック全体を適切な機能を備えたネットワーク アダプターにオフロードできます。 ネットワーク アダプター ドライバーがこの機能を提供する場合は、このオプションを有効にします。  
  
- **Wake On LAN (使用されている) 場合を除き、無効になっている**– lan でウェイク アップの機能を無効にするネットワーク アダプター ドライバーを構成します。 この機能がクライアント コンピューターの便利ですが、必要がありますほとんどもしコンピューターで使用する、BizTalk Server または SQL Server。  
  
  ネットワーク アダプターのパフォーマンスのチューニングの詳細については、、**ネットワーク デバイスの設定**のセクション、 ["BizTalk Server データベースの最適化"ホワイト ペーパー](http://go.microsoft.com/fwlink/?LinkID=101578) (http://go.microsoft.com/fwlink/?LinkID=101578)を参照してください。  
  
## <a name="see-also"></a>参照  
 [ネットワーク パフォーマンスを向上するために変更できる設定](../technical-guides/settings-that-can-be-modified-to-improve-network-performance.md)