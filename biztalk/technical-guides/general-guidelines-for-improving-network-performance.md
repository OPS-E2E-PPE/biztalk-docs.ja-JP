---
title: ネットワーク パフォーマンスを向上させるための一般的なガイドライン |Microsoft ドキュメント
ms.custom: ''
ms.date: 06/08/2017
ms.prod: biztalk-server
ms.reviewer: ''
ms.suite: ''
ms.tgt_pltfrm: ''
ms.topic: article
ms.assetid: 286c10d2-9262-4e3c-adde-f7b5780c2736
caps.latest.revision: 4
author: MandiOhlinger
ms.author: mandia
manager: anneta
ms.openlocfilehash: 67b76a7e488610a72952832d2a84526ca60d6989
ms.sourcegitcommit: cb908c540d8f1a692d01dc8f313e16cb4b4e696d
ms.translationtype: MT
ms.contentlocale: ja-JP
ms.lasthandoff: 09/20/2017
ms.locfileid: "22298450"
---
# <a name="general-guidelines-for-improving-network-performance"></a>ネットワークのパフォーマンスを向上させるための一般的なガイドライン
最適な値にネットワーク設定を調整することが表示を効果的にネットワークのボトルネックを解決し、BizTalk Server ソリューションの全体的なネットワーク パフォーマンスが向上します。 これは、BizTalk Server コンピューター、SQL Server コンピューター、およびその他のサーバー コンピューターを含む、ソリューションに関連するすべてのコンピューターで行う必要があります。  
  
> [!NOTE]  
>  ネットワーク IO が BizTalk Server 環境でのボトルネックである最も一般的なインジケーター カウンターは、「SQL Server: Wait Statistics\Network IO 待機」です。 ときの値は、**平均待機時間**でこのカウンターはゼロに 1 つ以上の SQL Server コンピューターよりも大きい順ネットワーク IO がボトルネックです。  
  
 次の推奨事項は、ネットワーク パフォーマンスを向上させるを使用できます。  
  
## <a name="add-additional-network-cards-to-computers-in-the-biztalk-server-environment"></a>BizTalk Server 環境内のコンピューターに追加のネットワーク カードを追加します。  
 追加する追加のハード ドライブは、ディスクのパフォーマンスを向上させることができます、追加のネットワーク カードがネットワーク パフォーマンスを向上させることができます。 BizTalk Server 環境内のコンピューター上のネットワーク カードが飽和状態になり、カードがボトルネックになっている場合は、パフォーマンスを向上させるために 1 つまたは複数のネットワーク カードを追加することを検討してください。  
  
## <a name="implement-network-segmentation"></a>ネットワークのセグメント化を実装します。  
 推奨事項に従い、**サブネット**のセクションで、 [「BizTalk Server データベースの最適化」ホワイト ペーパー](http://go.microsoft.com/fwlink/?LinkID=101578) (http://go.microsoft.com/fwlink/?LinkID=101578).  
  
## <a name="where-possible-replace-hubs-with-switches"></a>可能であれば、スイッチを使用してハブを置き換えます  
 スイッチには、直接はハブ ブロードキャスト トラフィックをルーティングするモデルを使用して、ソースと移行先の間のトラフィックをルーティングするロジックが含まれます。 したがってスイッチは効率的で、パフォーマンスが向上します。  
  
## <a name="remove-unnecessary-network-protocols"></a>不要なネットワーク プロトコルを削除します。  
 Windows Server コンピューターでは、ネットワーク サービスと実際に必要とされる以上がインストールされているプロトコルの詳細がある場合があります。 各追加ネットワーク クライアント、サービスまたはプロトコル、追加オーバーヘッドがシステム リソースにします。  
さらに、各インストールされているプロトコルは、ネットワーク トラフィックを生成します。 不要なネットワーク クライアント、サービス、およびプロトコルを削除すると、他のプロセスの使用可能なシステム リソース、過剰なネットワーク トラフィックを回避でき、ネゴシエートする必要がありますネットワーク バインドの数が最小限に減らします。  
プロトコルおよびサービスを現在インストールされているネットワーク クライアントを表示するには、これらの手順に従います。  
  
1.  をクリックして**開始**、順にクリック**コントロール パネルの** です。  
  
2.  コントロール パネル で、次のいずれかの操作を行います  
  
    1.  **、コンピューターの設定を調整**設定、**によって表示**に**カテゴリ**、 をクリックして**ネットワークとインターネット**、順にクリック**ネットワークと共有センター**です。  
  
    2.  **、コンピューターの設定を調整**設定、**によって表示**いずれかに**大きいアイコン**または**小さいアイコン**、順にクリック**ネットワークと共有センター**です。  
  
3.  [タスク] ウィンドウで、をクリックして**アダプター設定を変更する**です。  
  
4.  右クリック**ローカル エリア接続**(または、ネットワーク接続のエントリ) をクリックし、**プロパティ**ネットワーク接続のプロパティ ダイアログ ボックスを表示します。  
  
5.  不要な項目を削除するには、選択してをクリックして**アンインストール**です。 項目を無効にするには、単に、アイテムに関連付けられているチェック ボックスをオフにします。  
  
 この接続の項目をアンインストールする場合の影響がわからないをアンインストールするのではなく、項目を無効にするとします。 場合、 項目を無効にするには、サービス、プロトコルおよびクライアントがシステムで実際に必要か決定することができます。 これが特定されたら、項目を無効にしていない影響を及ぼす場合、サーバーで、ときに、項目をアンインストールし、できます。  
多くの場合は、次の 3 つのコンポーネントのみが、標準の TCP/IP ベース ネットワーク上の操作の必要です。  
  
-   Microsoft ネットワーク用クライアント  
  
-   ファイル サービスおよび Microsoft ネットワーク用のプリンターの共有  
  
-   インターネット プロトコル (TCP/IP)  
  
## <a name="network-adapter-drivers-on-all-computers-in-the-biztalk-server-environment-should-be-tuned-for-performance"></a>BizTalk Server 環境のすべてのコンピューター上のネットワーク アダプター ドライバーがパフォーマンスに合わせて調整する必要があります。  
  
> [!IMPORTANT]  
>  ネットワーク アダプターのドライバーを常にチューニングを適用する前に、環境内のネットワーク カードの最新のネットワーク アダプター デバイス ドライバーをインストールします。  
  
 受信および送信の両方、パケットがバッファリングの使用可能なメモリの量を最大化するネットワーク アダプター デバイス ドライバーを調整します。 バッファー カウントを最大化、特に転送バッファーおよびバッファーを結合します。 既定値は、これらのパラメーターの値しにも用意されているかどうかは、製造元およびドライバーのバージョン間で異なる場合します。 目標は、ネットワーク アダプターのハードウェアで実行された作業を最大化して、ネットワーク トラフィックの増加および関連付けられている輻輳を軽減するためにネットワーク操作の最大の可能なバッファー領域が確保されます。  
  
> [!NOTE]  
>  ネットワーク アダプターのドライバーを調整する手順は、製造元によって異なります。  
  
 ネットワーク アダプターの設定にアクセスする次の手順に従います。  
  
1.  をクリックして**開始**] をクリックし、**コントロール パネルの [** です。  
  
2.  コントロール パネルで、次のいずれかの操作を行います。  
  
    1.  **、コンピューターの設定を調整**設定、**によって表示**に**カテゴリ**、 をクリックして**ネットワークとインターネット**、順にクリック**ネットワークと共有センター**です。  
  
    2.  **、コンピューターの設定を調整**設定、**によって表示**いずれかに**大きいアイコン**または**小さいアイコン**、順にクリック**ネットワークと共有センター**です。  
  
3.  [タスク] ウィンドウで、をクリックして**アダプター設定を変更する**です。  
  
4.  右クリック**ローカル エリア接続**(または、ネットワーク接続の名前) をクリックし、**プロパティ**です。  
  
5.  **ネットワーク** タブで、をクリックして**構成**です。  
  
6.  クリックして、 **[詳細設定]** タブ プロパティにアクセスするネットワーク アダプターに構成することができます。  
  
 次のプロパティは、BizTalk Server 環境の各ネットワーク アダプターを構成してください。  
  
> [!NOTE]  
>  集約、負荷分散、またはフォールト トレランスが構成されているネットワーク アダプターのチーミングされたセット内の個々 のネットワーク アダプターを含む、物理ネットワーク アダプターごとにこれらの設定が適用されます。 一部のチーミング ソフトウェアも、チームにこれらの設定を適用する必要があります。 一部のネットワーク アダプターが自己調整は、パラメーターを手動で構成するオプションがありますいないことに注意してください。  
  
-   **オプションの電源を**– を電源管理機能の電力を節約するネットワーク アダプターを無効にすることを防ぐために、ネットワーク アダプター ドライバーを構成します。 この機能は、クライアント コンピューターに適している可能性がありますが、ことはほとんど必要があります、BizTalk Server または SQL Server コンピューターで使用できます。  
  
-   **速度または二重の固定 (自動を使用しない)** -ネットワーク速度、二重モード、およびフロー制御パラメーターが設定をスイッチの設定に対応することが非常に重要である接続先。 これにより、定期的な「自動同期」かかる場合があります一時的にオフラインの接続の発生が軽減されます。  
  
-   **合体バッファーの最大**-マップ レジスタは、システム リソースの物理アドレスをバス マスターをサポートするネットワーク アダプターの仮想アドレスに変換するために使用します。 合体ドライバー マップ レジスタ不足した場合、バッファーは、ネットワーク ドライバーを使用できます。 この値が最大のパフォーマンスをできるだけ高く設定します。 サーバーで物理メモリの制限と、このあります、負の値のバッファーをまとめるようへの影響がシステム メモリを消費します。 ほとんどのシステムでただし、設定されている最大適用できますせず、使用可能なメモリを大幅に削減します。  
  
-   **最大転送/送信記述子および送信バッファー** -この設定を指定数の転送コントロール バッファーのネットワーク インターフェイスで使用するドライバーを割り当てます。 これにより、ドライバーは、"send"キューに持つことができます未処理のパケットの数が直接反映されます。 この値が最大のパフォーマンスをできるだけ高く設定します。 物理メモリの制限、サーバーでは、システム メモリを消費するマイナスの影響の送信バッファーとしてこのがあります。 ほとんどのシステムでただし、設定されている最大適用できますせず、使用可能なメモリを大幅に削減します。  
  
-   **受信バッファーの最大**-この設定は、プロトコルのメモリにデータをコピーするときに、ネットワーク インターフェイスのドライバーで使用されるメモリ バッファーの量を指定します。 これは通常、既定では、比較的小さい値に設定されます。 この値が最大のパフォーマンスをできるだけ高く設定します。 サーバーで物理メモリの制限と、このあります、負の値のバッファーを受信したときの影響は、システム メモリを消費します。 ほとんどのシステムでただし、設定されている最大適用できますせず、使用可能なメモリを大幅に削減します。  
  
-   **オプションをオフロードすべて**- ネットワーク インターフェイス オフロード機能を有効にすると、パフォーマンスが向上はほとんどの場合。 一部のネットワーク アダプターを有効にする、オフロード送信を無効にするにまたはトラフィックを受信して個別のパラメーターを提供します。 CPU からネットワーク アダプターにタスクをオフロードすることと、システム全体のパフォーマンスが向上しているサーバーの CPU 使用量を削減できます。 Microsoft TCP/IP トランスポートには、1 つ以上の適切な機能を備えているネットワーク アダプターに次のタスクをオフロードできます。  
  
    -   **チェックサム タスク**- TCP/IP トランスポートが、計算の負荷を軽減しの ip アドレスと TCP チェックサムの検証を送信および受信ネットワーク アダプターに以外の場合は、ネットワーク アダプター ドライバーは、この機能を提供する場合は、このオプションを有効にします。  
  
    -   **IP セキュリティ タスク**-TCP/IP トランスポートは、計算と認証ヘッダー (AH) およびカプセル化セキュリティ ペイロード (ESP) ネットワーク アダプターへの暗号化チェックサムの検証をオフロードできます。 TCP/IP トランスポートは、暗号化と復号化、ネットワーク アダプターに ESP ペイロードのオフロードもできます。 ネットワーク アダプター ドライバーは、この機能を提供する場合は、これらのオプションを有効にします。  
  
    -   **大量の TCP パケットのセグメント化**-TCP/IP トランスポートは、多数の送信オフロード (LSO) をサポートしています。 Lso により、TCP/IP トランスポートは、大量の TCP パケットのセグメント化をオフロードできます。  
  
    -   **スタックのオフロード**– ネットワーク スタック全体は、適切な機能を備えているネットワーク アダプターにオフロードできます。 ネットワーク アダプター ドライバーは、この機能を提供する場合は、このオプションを有効にします。  
  
-   **Wake On LAN (使用されている) 場合を除き、無効になっている**– wake on lan 機能を無効にするネットワーク アダプター ドライバーを構成します。 この機能がクライアント コンピューターに便利ですが、ほとんどありませんもしに対して使用するか、BizTalk Server または SQL Server コンピューター。  
  
 ネットワーク アダプターのパフォーマンスをチューニングの詳細については、次を参照してください。、**ネットワーク デバイスの設定**のセクションで、 ["BizTalk Server データベースの最適化」ホワイト ペーパー](http://go.microsoft.com/fwlink/?LinkID=101578) (http://go.microsoft.com/fwlink/?LinkID=101578)。  
  
## <a name="see-also"></a>参照  
 [ネットワーク パフォーマンスを向上するように変更する設定](../technical-guides/settings-that-can-be-modified-to-improve-network-performance.md)