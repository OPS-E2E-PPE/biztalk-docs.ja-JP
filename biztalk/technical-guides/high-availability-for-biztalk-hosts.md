---
title: BizTalk ホストの高可用性 |Microsoft Docs
ms.custom: ''
ms.date: 06/08/2017
ms.prod: biztalk-server
ms.reviewer: ''
ms.suite: ''
ms.tgt_pltfrm: ''
ms.topic: article
ms.assetid: 3153f7f7-7e82-4b0c-9b48-e9f871de285d
caps.latest.revision: 2
author: MandiOhlinger
ms.author: mandia
manager: anneta
ms.openlocfilehash: 959160bdf8e4e81715c77946663a9e4fc70fb077
ms.sourcegitcommit: 266308ec5c6a9d8d80ff298ee6051b4843c5d626
ms.translationtype: MT
ms.contentlocale: ja-JP
ms.lasthandoff: 06/27/2018
ms.locfileid: "36978667"
---
# <a name="high-availability-for-biztalk-hosts"></a><span data-ttu-id="a0e7f-102">BizTalk ホストの高可用性</span><span class="sxs-lookup"><span data-stu-id="a0e7f-102">High Availability for BizTalk Hosts</span></span>
<span data-ttu-id="a0e7f-103">BizTalk Server は、受信メッセージを送信して、物理的には、オーケストレーションの処理などの機能の特定の領域を実行するホストが論理を戦略的に割り当てることができますので、高可用性をアドレス指定の柔軟性を提供します。複数のサーバーに配置されます。</span><span class="sxs-lookup"><span data-stu-id="a0e7f-103">BizTalk Server provides great flexibility in addressing high availability because you can strategically dedicate logical hosts to run specific areas of functionality, such as receiving and sending messages or processing orchestrations, that can be physically deployed to multiple servers.</span></span>  
  
 <span data-ttu-id="a0e7f-104">内の論理コンテナーされた BizTalk ホストは、[!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)]収容でき、グループ[!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)]アダプターなどの項目の送信ハンドラー (パイプラインを含む)、受信場所、オーケストレーションします。</span><span class="sxs-lookup"><span data-stu-id="a0e7f-104">A BizTalk Host is a logical container within a [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] group that can house [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] items such as adapter send handlers (including pipelines), receive locations, and orchestrations.</span></span> <span data-ttu-id="a0e7f-105">通常は、拡張性の観点から似た特性を持つアイテムを特定のホストにグループ化します。</span><span class="sxs-lookup"><span data-stu-id="a0e7f-105">You typically group items that have similar scale properties into a particular host.</span></span>  
  
 <span data-ttu-id="a0e7f-106">ホストを作成した後は、物理的にデプロイできます[!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)]ホスト インスタンスとコンピューター。</span><span class="sxs-lookup"><span data-stu-id="a0e7f-106">After you create a host, you can deploy it to a physical [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] computer as a host instance.</span></span> <span data-ttu-id="a0e7f-107">指定したホスト インスタンスが、BTSNTSvc.exe (または 64 ビット ホスト インスタンスの BTSNTSvc64.exe) Windows サービスとして実行[!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)]コンピューター。</span><span class="sxs-lookup"><span data-stu-id="a0e7f-107">A host instance runs as a Windows service, BTSNTSvc.exe (or BTSNTSvc64.exe for 64-bit host instance), on the designated [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] computer.</span></span> <span data-ttu-id="a0e7f-108">各ホストでは、特定の 1 つだけのインスタンスがあることができます[!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)]コンピューター。</span><span class="sxs-lookup"><span data-stu-id="a0e7f-108">For each host, you can have only one instance on a particular [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] computer.</span></span> <span data-ttu-id="a0e7f-109">ただし、1 つ以上の特定のホストのインスタンスを設定できます[!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)]して、コンピューターは、特定のさまざまなホストのインスタンスを配置できます[!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)]コンピューター。</span><span class="sxs-lookup"><span data-stu-id="a0e7f-109">However, you can have instances of a particular host on one or more [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] computers, and you can have instances of different hosts on a particular [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] computer.</span></span>  
  
 <span data-ttu-id="a0e7f-110">BizTalk ホスト内に含まれる項目は、次の関数を実行できます。</span><span class="sxs-lookup"><span data-stu-id="a0e7f-110">Items that are contained in BizTalk Hosts can perform the following functions:</span></span>  
  
- <span data-ttu-id="a0e7f-111">**受信**します。</span><span class="sxs-lookup"><span data-stu-id="a0e7f-111">**Receiving**.</span></span> <span data-ttu-id="a0e7f-112">受信場所から取得された後のメッセージに対して初期処理を実行します。</span><span class="sxs-lookup"><span data-stu-id="a0e7f-112">These items do the initial processing of messages after they are picked up in a receive location.</span></span> <span data-ttu-id="a0e7f-113">ホストには、(パイプライン) を持つ受信場所などの受信側の項目が含まれている場合、メッセージのデコードや復号化は、ホスト内のパイプラインで発生します。</span><span class="sxs-lookup"><span data-stu-id="a0e7f-113">When a host contains a receiving item, such as a receive location (with a pipeline), the message decoding and decrypting occurs in a pipeline within the host.</span></span>  
  
- <span data-ttu-id="a0e7f-114">**送信**します。</span><span class="sxs-lookup"><span data-stu-id="a0e7f-114">**Sending**.</span></span> <span data-ttu-id="a0e7f-115">送信ポートに送られる前のメッセージに対して最終処理を実行します。</span><span class="sxs-lookup"><span data-stu-id="a0e7f-115">These items do the final processing of messages before they are sent out to the send port.</span></span> <span data-ttu-id="a0e7f-116">ホストには、送信ポートなどの送信元の項目が含まれている場合は、ホスト内のパイプラインでメッセージの署名と暗号化が発生します。</span><span class="sxs-lookup"><span data-stu-id="a0e7f-116">When a host contains a sending item, such as a send port, the message signing and encryption occurs in a pipeline within the host.</span></span>  
  
- <span data-ttu-id="a0e7f-117">**処理**します。</span><span class="sxs-lookup"><span data-stu-id="a0e7f-117">**Processing**.</span></span> <span data-ttu-id="a0e7f-118">これらの項目は、オーケストレーションでの指示に基づくメッセージを処理します。</span><span class="sxs-lookup"><span data-stu-id="a0e7f-118">These items process messages based on the instructions in orchestrations.</span></span>  
  
  <span data-ttu-id="a0e7f-119">1 つの BizTalk ホストに、メッセージの受信、送信、および処理の機能をすべて割り当てることもできます。</span><span class="sxs-lookup"><span data-stu-id="a0e7f-119">One BizTalk Host can contain items that receive, send, and process messages.</span></span> <span data-ttu-id="a0e7f-120">管理とスケーラビリティが容易に、各関数の指定された別のホストを作成することをお勧めします。</span><span class="sxs-lookup"><span data-stu-id="a0e7f-120">For easier management and scalability, we recommend that you create different hosts designated for each function.</span></span> <span data-ttu-id="a0e7f-121">具体的には、処理および受信/送信操作は、さまざまなホストを使用することをお勧めします。</span><span class="sxs-lookup"><span data-stu-id="a0e7f-121">In particular, we recommend that you use different hosts for processing and for receive/send operations.</span></span>  
  
  <span data-ttu-id="a0e7f-122">たとえば、1 つのメッセージを受け取って、オーケストレーションを実行し、10 個のメッセージを送信する場合、送信には受信と比べて 10 倍のトラフィックが発生するため、受信機能と送信機能は 2 つのホストに分ける必要があります。</span><span class="sxs-lookup"><span data-stu-id="a0e7f-122">For example, if you receive one message, run an orchestration, and send ten messages, you want to separate the receive and send functionality into two separate hosts because the send items will have ten times more traffic than the receive items.</span></span> <span data-ttu-id="a0e7f-123">1 つのメッセージを受信し、オーケストレーションを実行して、1 つのメッセージを送信する場合は、3 つの機能を 1 つの作業単位と捉え、単一のホストとしてグループ化することができます。</span><span class="sxs-lookup"><span data-stu-id="a0e7f-123">If you receive one message, run an orchestration, and send one message, you can think of these items as a unit of work and group them into one single host.</span></span> <span data-ttu-id="a0e7f-124">また、管理コストは高くなりますが、3 つの機能を別々のホストに分ければ、パフォーマンスと柔軟性を高めることができます。</span><span class="sxs-lookup"><span data-stu-id="a0e7f-124">Alternatively, you can separate them into three different hosts to increase performance and flexibility, although this also increases the management cost.</span></span>  
  
  <span data-ttu-id="a0e7f-125">BizTalk ホストは、2 つの型の 1 つ*インプロセス*または*Isolated*します。</span><span class="sxs-lookup"><span data-stu-id="a0e7f-125">BizTalk Hosts are one of two types, *In-process* or *Isolated*.</span></span> <span data-ttu-id="a0e7f-126">内のインプロセス ホストの実行、[!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)]ランタイム プロセス (BTSNTSvc.exe または BTSNTSvc64.exe) と分離ホスト実行しないでください、[!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)]ランタイム プロセス。</span><span class="sxs-lookup"><span data-stu-id="a0e7f-126">In-process hosts run inside of the [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] runtime process (BTSNTSvc.exe  or BTSNTSvc64.exe) and Isolated hosts do not run in the [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] runtime process.</span></span> <span data-ttu-id="a0e7f-127">分離ホストは、分離受信アダプターの受信側でのみ使用します。</span><span class="sxs-lookup"><span data-stu-id="a0e7f-127">Isolated hosts are only used on the receiving side for the isolated receive adapters.</span></span> <span data-ttu-id="a0e7f-128">次の表は、2 種類のホストに割り当てることのできる機能をまとめたものです。</span><span class="sxs-lookup"><span data-stu-id="a0e7f-128">The following table lists the items that each of these host types may contain.</span></span>  
  
|<span data-ttu-id="a0e7f-129">ホストの種類</span><span class="sxs-lookup"><span data-stu-id="a0e7f-129">Host type</span></span>|<span data-ttu-id="a0e7f-130">論理コンテナーに割り当てることのできる機能</span><span class="sxs-lookup"><span data-stu-id="a0e7f-130">Logical container for</span></span>|  
|---------------|---------------------------|  
|<span data-ttu-id="a0e7f-131">インプロセス</span><span class="sxs-lookup"><span data-stu-id="a0e7f-131">In-process</span></span>|<span data-ttu-id="a0e7f-132">オーケストレーション</span><span class="sxs-lookup"><span data-stu-id="a0e7f-132">-   Orchestrations</span></span><br /><span data-ttu-id="a0e7f-133">のアダプター送信ハンドラー</span><span class="sxs-lookup"><span data-stu-id="a0e7f-133">-   Adapter send handlers</span></span><br /><span data-ttu-id="a0e7f-134">・ インプロセス アダプターの受信ハンドラー</span><span class="sxs-lookup"><span data-stu-id="a0e7f-134">-   In-process adapter receive handlers</span></span>|  
|<span data-ttu-id="a0e7f-135">分離されます。</span><span class="sxs-lookup"><span data-stu-id="a0e7f-135">Isolated</span></span>|<span data-ttu-id="a0e7f-136">HTTP、SOAP の受信ハンドラー</span><span class="sxs-lookup"><span data-stu-id="a0e7f-136">-   HTTP, SOAP receive handlers</span></span><br /><span data-ttu-id="a0e7f-137">-その他の分離アダプターの受信ハンドラー</span><span class="sxs-lookup"><span data-stu-id="a0e7f-137">-   Any other isolated adapter receive handlers</span></span>|  
  
 <span data-ttu-id="a0e7f-138">BizTalk ホストとホスト インスタンスの管理に関する詳細については、次を参照してください。 [BizTalk ホストの管理およびホスト インスタンス](http://go.microsoft.com/fwlink/?LinkID=154191)(http://go.microsoft.com/fwlink/?LinkID=154191) BizTalk Server のヘルプ。</span><span class="sxs-lookup"><span data-stu-id="a0e7f-138">For more information about managing BizTalk Hosts and host instances, see [Managing BizTalk Hosts and Host Instances](http://go.microsoft.com/fwlink/?LinkID=154191) (http://go.microsoft.com/fwlink/?LinkID=154191) in BizTalk Server Help.</span></span>  
  
 <span data-ttu-id="a0e7f-139">BizTalk ホストの高可用性を実現するには、2 つ以上のホスト インスタンスを環境内の各ホスト (の 2 つ以上のコンピューター) が必要です。</span><span class="sxs-lookup"><span data-stu-id="a0e7f-139">To provide high availability for BizTalk Hosts, you must have two or more host instances for each host (on two or more computers) in your environment.</span></span> <span data-ttu-id="a0e7f-140">1 つ以上のホスト インスタンスの 1 つのホスト インスタンスが使用できなくなった場合、同じホストのインスタンスを実行する他のコンピューターで、ホストがインスタンスを確認する各ホストが、問題または障害が発生したホスト インスタンスの機能を再開することで、システム全体が最小限の中断処理を続行することができます。</span><span class="sxs-lookup"><span data-stu-id="a0e7f-140">By having more than one host instance for each host you make sure that if one host instance becomes unavailable, the host instances on other computers that are running instances of the same host can resume the functions of the problematic or failed host instance, and that the overall system can continue performing with minimal disruption.</span></span>  
  
## <a name="disadvantages-of-additional-hosts"></a><span data-ttu-id="a0e7f-141">追加のホストの短所</span><span class="sxs-lookup"><span data-stu-id="a0e7f-141">Disadvantages of Additional Hosts</span></span>  
 <span data-ttu-id="a0e7f-142">追加のホスト インスタンスを作成する利点はありますも潜在的な欠点が多すぎるのホスト インスタンスが作成された場合です。</span><span class="sxs-lookup"><span data-stu-id="a0e7f-142">While there are benefits of creating additional host instances, there are also potential drawbacks if too many host instances are created.</span></span> <span data-ttu-id="a0e7f-143">各ホスト インスタンスは、メッセージ ボックス データベースに対して追加の負荷を生成し、CPU、メモリ、およびスレッドなどのコンピューター リソースを消費する Windows サービス (BTSNTSvc.exe または BTSNTSvc64.exe) です。</span><span class="sxs-lookup"><span data-stu-id="a0e7f-143">Each host instance is a Windows service (BTSNTSvc.exe or BTSNTSvc64.exe), which generates additional load against the MessageBox database and consumes computer resources, such as CPU, memory, and threads.</span></span> <span data-ttu-id="a0e7f-144">これら以外には、いない多数の追加のホスト インスタンスを構成するために、次の理由があります。</span><span class="sxs-lookup"><span data-stu-id="a0e7f-144">Other than these, you have the following reasons for not configuring too many additional host instances:</span></span>  
  
-   <span data-ttu-id="a0e7f-145">いくつかのパフォーマンス カウンターは、1 つのホストが多すぎるの粒度で報告されます。</span><span class="sxs-lookup"><span data-stu-id="a0e7f-145">Several performance counters are reported per host with too much granularity.</span></span> <span data-ttu-id="a0e7f-146">これにより、管理者は、大量のデータをスキャンする必要がありますにとって使いやすさが影響します。</span><span class="sxs-lookup"><span data-stu-id="a0e7f-146">This affects the usability for the administrator who would need to traverse through a lot of data.</span></span> <span data-ttu-id="a0e7f-147">これは、管理者は全体的なビューに悪影響を及ぼします。</span><span class="sxs-lookup"><span data-stu-id="a0e7f-147">This has a negative impact on the overall view the administrator has.</span></span>  
  
-   <span data-ttu-id="a0e7f-148">各ホストでは、相当量の制限のような状況が生じるし、パフォーマンスが低下するメモリを消費します。</span><span class="sxs-lookup"><span data-stu-id="a0e7f-148">Each host consumes considerable amount of memory that might lead to a situation of throttling and reduced performance.</span></span>  
  
-   <span data-ttu-id="a0e7f-149">ホストがポーリングを継続的に実行するアダプターを受信した場合の各ホストは、データベースにポーリング、短い間隔でパフォーマンスの低下になります。</span><span class="sxs-lookup"><span data-stu-id="a0e7f-149">If the hosts have receive adapters that continuously perform polling, each host will poll the database at short intervals, thereby resulting in degraded performance.</span></span>  
  
## <a name="in-this-section"></a><span data-ttu-id="a0e7f-150">このセクションの内容</span><span class="sxs-lookup"><span data-stu-id="a0e7f-150">In This Section</span></span>  
  
-   [<span data-ttu-id="a0e7f-151">受信ホストのスケールアウト</span><span class="sxs-lookup"><span data-stu-id="a0e7f-151">Scaling Out Receiving Hosts</span></span>](../technical-guides/scaling-out-receiving-hosts.md)  
  
-   [<span data-ttu-id="a0e7f-152">受信ホストのクラスタリング</span><span class="sxs-lookup"><span data-stu-id="a0e7f-152">Clustering Receiving Hosts</span></span>](../technical-guides/clustering-receiving-hosts.md)  
  
-   [<span data-ttu-id="a0e7f-153">処理ホストのスケールアウト</span><span class="sxs-lookup"><span data-stu-id="a0e7f-153">Scaling Out Processing Hosts</span></span>](../technical-guides/scaling-out-processing-hosts.md)  
  
-   [<span data-ttu-id="a0e7f-154">送信ホストのスケールアウト</span><span class="sxs-lookup"><span data-stu-id="a0e7f-154">Scaling Out Sending Hosts</span></span>](../technical-guides/scaling-out-sending-hosts.md)  
  
## <a name="see-also"></a><span data-ttu-id="a0e7f-155">参照</span><span class="sxs-lookup"><span data-stu-id="a0e7f-155">See Also</span></span>  
 <span data-ttu-id="a0e7f-156">[ホストとホスト インスタンスを構成します。](../technical-guides/configuring-hosts-and-host-instances.md) </span><span class="sxs-lookup"><span data-stu-id="a0e7f-156">[Configuring Hosts and Host Instances](../technical-guides/configuring-hosts-and-host-instances.md) </span></span>  
 <span data-ttu-id="a0e7f-157">[専用の追跡ホストの構成](../technical-guides/configuring-a-dedicated-tracking-host.md) </span><span class="sxs-lookup"><span data-stu-id="a0e7f-157">[Configuring a Dedicated Tracking Host](../technical-guides/configuring-a-dedicated-tracking-host.md) </span></span>  
 <span data-ttu-id="a0e7f-158">[高 Availability2 の計画](../technical-guides/planning-for-high-availability2.md) </span><span class="sxs-lookup"><span data-stu-id="a0e7f-158">[Planning for High Availability2](../technical-guides/planning-for-high-availability2.md) </span></span>  
 <span data-ttu-id="a0e7f-159">[データベースの高可用性](../technical-guides/high-availability-for-databases.md) </span><span class="sxs-lookup"><span data-stu-id="a0e7f-159">[High Availability for Databases](../technical-guides/high-availability-for-databases.md) </span></span>  
 [<span data-ttu-id="a0e7f-160">マスター シークレット サーバーの高可用性</span><span class="sxs-lookup"><span data-stu-id="a0e7f-160">High Availability for the Master Secret Server</span></span>](../technical-guides/high-availability-for-the-master-secret-server.md)