---
title: InterAct アダプター ストア アンド フォワード |Microsoft Docs
ms.custom: ''
ms.date: 06/08/2017
ms.prod: biztalk-server
ms.reviewer: ''
ms.suite: ''
ms.tgt_pltfrm: ''
ms.topic: article
ms.assetid: d596780a-085d-48db-be44-a3ae58f591d0
caps.latest.revision: 6
author: MandiOhlinger
ms.author: mandia
manager: anneta
ms.openlocfilehash: 2f3ce047de1c926e6e144b1351954774c1d3edb5
ms.sourcegitcommit: 266308ec5c6a9d8d80ff298ee6051b4843c5d626
ms.translationtype: MT
ms.contentlocale: ja-JP
ms.lasthandoff: 06/27/2018
ms.locfileid: "37022592"
---
# <a name="interact-adapter-store-and-forward"></a><span data-ttu-id="96283-102">InterAct アダプター ストア アンド フォワード</span><span class="sxs-lookup"><span data-stu-id="96283-102">InterAct Adapter Store and Forward</span></span>
<span data-ttu-id="96283-103">ストアにし、転送 (SnF) モードでは、メッセージが送信時に、キューに配信され、変換先にキューから取得されます。</span><span class="sxs-lookup"><span data-stu-id="96283-103">In Store and Forward (SnF) mode, messages are delivered to a queue at send time, and are retrieved from the queue by the destination.</span></span> <span data-ttu-id="96283-104">SnF を使用して、応答は SWIFTNet SnF 自体に由来し、応答側からのフィードバックが含まれていません。</span><span class="sxs-lookup"><span data-stu-id="96283-104">When using SnF, the response comes from SWIFTNet SnF itself, and does not contain any feedback from the Responder.</span></span>  
  
 <span data-ttu-id="96283-105">メッセージとファイルは、SnF を使用しない場合は、サーバー プロセスにルーティングされたメッセージと同様の柔軟性をキューにルーティングできます。</span><span class="sxs-lookup"><span data-stu-id="96283-105">Messages and files can be routed into queues with the same flexibility as a message routed to a server process when not using SnF.</span></span> <span data-ttu-id="96283-106">この定義では、(SWIFTNet) の内部で MRR 内です。</span><span class="sxs-lookup"><span data-stu-id="96283-106">This definition is within MRR (inside of SWIFTNet).</span></span> <span data-ttu-id="96283-107">受信側キューでメッセージやファイルが配置されますは、送信側が送信後かを決定することをお勧めします。</span><span class="sxs-lookup"><span data-stu-id="96283-107">It is the Receiver who decides in which queue a message or file will be put after it is sent by the Sender.</span></span> <span data-ttu-id="96283-108">キューにメッセージまたはファイルを配置することは SnF の配信モード (RequestControl) 内のメッセージにフラグを設定して行われます。</span><span class="sxs-lookup"><span data-stu-id="96283-108">Putting a message or file in a queue is done by flagging the message for SnF delivery mode (within the RequestControl).</span></span>  
  
 <span data-ttu-id="96283-109">キューからメッセージを取得すると、アプリケーション デザイナーで行った選択によって、2 つの異なるモードでは発生します。</span><span class="sxs-lookup"><span data-stu-id="96283-109">Retrieving a message from a queue can occur in two different modes, depending on the choice made by the application designer.</span></span> <span data-ttu-id="96283-110">これらのモードは、プッシュとプルと呼ばれます。</span><span class="sxs-lookup"><span data-stu-id="96283-110">These modes are called push and pull.</span></span>  
  
 <span data-ttu-id="96283-111">プッシュ モードを使用する場合、メッセージを配信するため、イニシアチブは SWIFTNet SnF で存在します。</span><span class="sxs-lookup"><span data-stu-id="96283-111">When using the push mode, the initiative to deliver a message resides with SWIFTNet SnF.</span></span> <span data-ttu-id="96283-112">メッセージは、「プッシュ」SWIFTNet SnF からされ SWIFTNet リンクをアプリケーション サーバーを受け取ります。</span><span class="sxs-lookup"><span data-stu-id="96283-112">The message is then “pushed” from SWIFTNet SnF and is received by an application server on SWIFTNet Link.</span></span> <span data-ttu-id="96283-113">サーバー アプリケーションでは、メッセージの受信確認で応答する前に safestored があることを確認します。</span><span class="sxs-lookup"><span data-stu-id="96283-113">The server application has to ensure that the message is safestored before responding with an acknowledgement.</span></span> <span data-ttu-id="96283-114">この受信確認は SWIFTNet SnF をどのようにメッセージを受信したことを示します。</span><span class="sxs-lookup"><span data-stu-id="96283-114">This acknowledgement indicates to SWIFTNet SnF how the message was received.</span></span> <span data-ttu-id="96283-115">受信確認では、その他の追加"business"のロジックは含まれません。</span><span class="sxs-lookup"><span data-stu-id="96283-115">An acknowledgement does not contain any other additional “business” logic.</span></span>  
  
## <a name="queues-in-swiftnet"></a><span data-ttu-id="96283-116">SWIFTNet のキュー</span><span class="sxs-lookup"><span data-stu-id="96283-116">Queues in SWIFTNet</span></span>  
 <span data-ttu-id="96283-117">キューには、メッセージおよび指定された受信者に配信される、送信側から送信されたファイルが含まれます。</span><span class="sxs-lookup"><span data-stu-id="96283-117">Queues contain the messages and files that were sent by the Sender to be delivered to the specified Receiver.</span></span> <span data-ttu-id="96283-118">キューがも SWIFTNet SnF によって生成される配信通知に含まれます。</span><span class="sxs-lookup"><span data-stu-id="96283-118">Queues contain as well the delivery notifications that are generated by SWIFTNet SnF.</span></span>  
  
 <span data-ttu-id="96283-119">キューが定義され、受信側の組織で構成されています。</span><span class="sxs-lookup"><span data-stu-id="96283-119">Queues are defined and configured by the Receiver’s organization.</span></span> <span data-ttu-id="96283-120">キューの実際の作成は、ユーザーの要求で SWIFT によって実行されます。</span><span class="sxs-lookup"><span data-stu-id="96283-120">The actual creation of a queue is done by SWIFT on request of the user.</span></span> <span data-ttu-id="96283-121">送信者は、キューでメッセージが配置最終的には何も知りません。</span><span class="sxs-lookup"><span data-stu-id="96283-121">The Sender does not know anything about the queue in which the message will ultimately be put.</span></span> <span data-ttu-id="96283-122">受信側の制御下で完全です。</span><span class="sxs-lookup"><span data-stu-id="96283-122">That is entirely under control of the Receiver.</span></span>  
  
 <span data-ttu-id="96283-123">キューのウィンドウ サイズ属性では、受信確認をキューから SWIFTNet SnF を取得するメッセージの最大数を制御します。</span><span class="sxs-lookup"><span data-stu-id="96283-123">The queue Window Size attribute controls the maximum number of messages SWIFTNet SnF retrieves from a queue without acknowledgement.</span></span> <span data-ttu-id="96283-124">受信側はまだ ウィンドウで、スロットを解放する前にメッセージを確認します。</span><span class="sxs-lookup"><span data-stu-id="96283-124">The receiver still has to acknowledge the message before the slot in the window is freed up.</span></span>  
  
### <a name="delivery-into-a-queue"></a><span data-ttu-id="96283-125">キューに配信</span><span class="sxs-lookup"><span data-stu-id="96283-125">Delivery into a Queue</span></span>  
 <span data-ttu-id="96283-126">ストア アンド フォワードを使用してサービスの受信側は、ストア アンド フォワード モードで送信されたメッセージの格納に使用するキューを決定します。</span><span class="sxs-lookup"><span data-stu-id="96283-126">For services using store-and-forward the Receiver decides which queue will be used to store the message that was sent in store-and-forward mode.</span></span>  
  
 <span data-ttu-id="96283-127">配信通知は、送信者教育機関の送信者に送信されたメッセージの配信ステータスを通知するためにキューに配置されます。</span><span class="sxs-lookup"><span data-stu-id="96283-127">Delivery notifications are put into a queue of the Senders institution, to inform the Sender about the delivery status of a message sent.</span></span> <span data-ttu-id="96283-128">これは、送信アダプターのプロパティで構成できます。</span><span class="sxs-lookup"><span data-stu-id="96283-128">This is configurable with the send adapter properties.</span></span>  
  
## <a name="sessions"></a><span data-ttu-id="96283-129">セッション</span><span class="sxs-lookup"><span data-stu-id="96283-129">Sessions</span></span>  
 <span data-ttu-id="96283-130">キューを取得する際に、セッションが開始されます。</span><span class="sxs-lookup"><span data-stu-id="96283-130">When acquiring a queue, a session is started.</span></span> <span data-ttu-id="96283-131">Sw:SnFSessionId SWIFTNet SnF によって配信されるすべてのメッセージが返されます。</span><span class="sxs-lookup"><span data-stu-id="96283-131">The Sw:SnFSessionId is returned for every message that is delivered by SWIFTNet SnF.</span></span> <span data-ttu-id="96283-132">キュー名、セッション モードを含む、Sw:SnFSessionId: プッシュ、およびセッションの数。</span><span class="sxs-lookup"><span data-stu-id="96283-132">The Sw:SnFSessionId contains the queue name, the session mode: push, and a session number.</span></span> <span data-ttu-id="96283-133">すべてのセッションのセッションの数は増加します。</span><span class="sxs-lookup"><span data-stu-id="96283-133">The session number is incremented for every session.</span></span> <span data-ttu-id="96283-134">例を示します。</span><span class="sxs-lookup"><span data-stu-id="96283-134">An example is:</span></span>  
  
 <span data-ttu-id="96283-135">**\<Sw:SnFSessionId\>bankwxyz_applicq1:p:000458\</Sw:SnFSessionId\>**</span><span class="sxs-lookup"><span data-stu-id="96283-135">**\<Sw:SnFSessionId\>bankwxyz_applicq1:p:000458\</Sw:SnFSessionId\>**</span></span>  
  
 <span data-ttu-id="96283-136">"P"では、プッシュ セッションを示します。</span><span class="sxs-lookup"><span data-stu-id="96283-136">The “p” indicates a push session.</span></span> <span data-ttu-id="96283-137">セッションは、権限付与者で、キューの予約としても確認できます。</span><span class="sxs-lookup"><span data-stu-id="96283-137">A session can also be seen as a reservation of the queue by an Authorizer.</span></span> <span data-ttu-id="96283-138">後続のメッセージは、同じ承認者によって確認する必要があります。</span><span class="sxs-lookup"><span data-stu-id="96283-138">The subsequent messages have to be acknowledged by the same Authorizer.</span></span>  
  
 <span data-ttu-id="96283-139">ストア アンド フォワードにメッセージを送信するときに、セッションは適用されません。</span><span class="sxs-lookup"><span data-stu-id="96283-139">Sessions are not applicable when sending messages to store-and-forward.</span></span>  
  
### <a name="push-session-snf"></a><span data-ttu-id="96283-140">プッシュ セッション SnF</span><span class="sxs-lookup"><span data-stu-id="96283-140">Push session SnF</span></span>  
 <span data-ttu-id="96283-141">SnF シーケンスには、次の前提としています。</span><span class="sxs-lookup"><span data-stu-id="96283-141">The SnF sequence assumes the following:</span></span>  
  
- <span data-ttu-id="96283-142">クライアント プロセスでは、そのジョブで実行され、終了するようになりました。</span><span class="sxs-lookup"><span data-stu-id="96283-142">The client process has done its job and can now terminate.</span></span> <span data-ttu-id="96283-143">これを行うには、オープンなセキュリティ コンテキストを SwSec:DestroyContextRequest を発行してクリーンアップする必要があります。</span><span class="sxs-lookup"><span data-stu-id="96283-143">To do this, the open security contexts must be cleaned up by issuing an SwSec:DestroyContextRequest.</span></span> <span data-ttu-id="96283-144">Sw:TermRequest 後は、プロセスには、exit() が可能性があります。</span><span class="sxs-lookup"><span data-stu-id="96283-144">After the Sw:TermRequest, the process may exit().</span></span>  
  
- <span data-ttu-id="96283-145">別のクライアントが開始されます。</span><span class="sxs-lookup"><span data-stu-id="96283-145">Another client is started.</span></span> <span data-ttu-id="96283-146">初期化の手順は、最初のクライアントの場合と同じです。</span><span class="sxs-lookup"><span data-stu-id="96283-146">The initialization steps are the same as for the first client.</span></span> <span data-ttu-id="96283-147">キューのリリースでは、SwCall 入力プリミティブとして Sw:ReleaseSnFQueueRequest でを実行することです。</span><span class="sxs-lookup"><span data-stu-id="96283-147">The release of the queue is by performing an SwCall with the Sw:ReleaseSnFQueueRequest as input primitive.</span></span>  
  
   <span data-ttu-id="96283-148">SWIFTNet は、キューのリリースを正常に処理すると、すぐにキューからメッセージの配信を停止します。</span><span class="sxs-lookup"><span data-stu-id="96283-148">SWIFTNet stops delivery of messages from the queue as soon as it successfully processes the release of the queue.</span></span>  
  
  <span data-ttu-id="96283-149">サーバーは、時に 1 つの要求を処理します。</span><span class="sxs-lookup"><span data-stu-id="96283-149">The server processes one request at the time.</span></span> <span data-ttu-id="96283-150">SWIFTNet SnF では、キューからの複数の要求を提供します。</span><span class="sxs-lookup"><span data-stu-id="96283-150">SWIFTNet SnF delivers several requests out of the queue.</span></span> <span data-ttu-id="96283-151">これらは、サーバーが応答するか、タイムアウトが発生するまでネットワークに SWIFTNet リンク内でバッファリングされます。</span><span class="sxs-lookup"><span data-stu-id="96283-151">These are buffered within the network and SWIFTNet Link until the server responds, or a timeout occurs.</span></span>  
  
  <span data-ttu-id="96283-152">一部の要求が既に配信されている、キューをリリースする前にまだ確認されたが、可能性があります。</span><span class="sxs-lookup"><span data-stu-id="96283-152">It is possible that some requests were already being delivered, but not yet acknowledged before releasing the queue.</span></span> <span data-ttu-id="96283-153">SWIFTNet SnF は、キューが解放されるまで、これらのメッセージの複数の受信確認を処理しません。</span><span class="sxs-lookup"><span data-stu-id="96283-153">SWIFTNet SnF does not process any more acknowledgements for these messages until the queue is released.</span></span> <span data-ttu-id="96283-154">これらのメッセージは、後続のセッションで再配信されます。</span><span class="sxs-lookup"><span data-stu-id="96283-154">These messages will be re-delivered in a subsequent session.</span></span>  
  
  <span data-ttu-id="96283-155">サーバー アプリケーションにも通常が表示されない場合、クライアントがそのキューでは、リリースを発行した後、キューから配信される要求の肯定応答で応答するかどうかは、ローカルの実装にままです。</span><span class="sxs-lookup"><span data-stu-id="96283-155">It is left to the local implementation whether the server application still responds with a positive acknowledgement for requests delivered from a queue after the client has issued the release of that queue, but typically this would not be the case.</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="96283-156">参照</span><span class="sxs-lookup"><span data-stu-id="96283-156">See Also</span></span>  
 <span data-ttu-id="96283-157">[InterAct アダプターのアーキテクチャ](../../adapters-and-accelerators/fileact-interact/interact-adapter-architecture.md) </span><span class="sxs-lookup"><span data-stu-id="96283-157">[InterAct Adapter Architecture](../../adapters-and-accelerators/fileact-interact/interact-adapter-architecture.md) </span></span>  
 <span data-ttu-id="96283-158">[InterAct アダプターのコンポーネント](../../adapters-and-accelerators/fileact-interact/interact-adapter-components.md) </span><span class="sxs-lookup"><span data-stu-id="96283-158">[InterAct Adapter Components](../../adapters-and-accelerators/fileact-interact/interact-adapter-components.md) </span></span>  
 <span data-ttu-id="96283-159">[業務用 Exchange 用の interAct アダプターのメッセージ](../../adapters-and-accelerators/fileact-interact/interact-adapter-messages-for-business-exchange.md) </span><span class="sxs-lookup"><span data-stu-id="96283-159">[InterAct Adapter Messages for Business Exchange](../../adapters-and-accelerators/fileact-interact/interact-adapter-messages-for-business-exchange.md) </span></span>  
 <span data-ttu-id="96283-160">[InterAct アダプターのクライアント アプリケーション](../../adapters-and-accelerators/fileact-interact/interact-adapter-client-application.md) </span><span class="sxs-lookup"><span data-stu-id="96283-160">[InterAct Adapter Client Application](../../adapters-and-accelerators/fileact-interact/interact-adapter-client-application.md) </span></span>  
 <span data-ttu-id="96283-161">[InterAct アダプタ サーバー アプリケーション](../../adapters-and-accelerators/fileact-interact/interact-adapter-server-application.md) </span><span class="sxs-lookup"><span data-stu-id="96283-161">[InterAct Adapter Server Application](../../adapters-and-accelerators/fileact-interact/interact-adapter-server-application.md) </span></span>  
 <span data-ttu-id="96283-162">[InterAct アダプターのセキュリティ アーキテクチャ](../../adapters-and-accelerators/fileact-interact/interact-adapter-security-architecture.md) </span><span class="sxs-lookup"><span data-stu-id="96283-162">[InterAct Adapter Security Architecture](../../adapters-and-accelerators/fileact-interact/interact-adapter-security-architecture.md) </span></span>  
 <span data-ttu-id="96283-163">[アダプターのエンド ツー エンドの信頼性の高い配信を操作します。](../../adapters-and-accelerators/fileact-interact/interact-adapter-end-to-end-reliable-delivery.md) </span><span class="sxs-lookup"><span data-stu-id="96283-163">[InterAct Adapter End-to-End Reliable Delivery](../../adapters-and-accelerators/fileact-interact/interact-adapter-end-to-end-reliable-delivery.md) </span></span>  
 <span data-ttu-id="96283-164">[InterAct アダプターの状態の監視](../../adapters-and-accelerators/fileact-interact/interact-adapter-status-monitoring.md) </span><span class="sxs-lookup"><span data-stu-id="96283-164">[InterAct Adapter Status Monitoring](../../adapters-and-accelerators/fileact-interact/interact-adapter-status-monitoring.md) </span></span>  
 [<span data-ttu-id="96283-165">InterAct アダプターの否認不可</span><span class="sxs-lookup"><span data-stu-id="96283-165">InterAct Adapter Non-Repudiation</span></span>](../../adapters-and-accelerators/fileact-interact/interact-adapter-non-repudiation.md)