---
title: "SQL アダプタと BizTalk Server でのセキュリティ |Microsoft ドキュメント"
ms.custom: 
ms.date: 06/08/2017
ms.prod: biztalk-server
ms.reviewer: 
ms.suite: 
ms.tgt_pltfrm: 
ms.topic: article
ms.assetid: cc439d65-1d7e-4e6e-bb0d-a8cb9f0607b8
caps.latest.revision: "11"
author: MandiOhlinger
ms.author: mandia
manager: anneta
ms.openlocfilehash: b0bc410a651c179daf43c47fb573d1772f6c1e01
ms.sourcegitcommit: cb908c540d8f1a692d01dc8f313e16cb4b4e696d
ms.translationtype: MT
ms.contentlocale: ja-JP
ms.lasthandoff: 09/20/2017
---
# <a name="security-with-the-sql-adapter-and-biztalk-server"></a><span data-ttu-id="654fe-102">SQL アダプタと BizTalk Server でのセキュリティ</span><span class="sxs-lookup"><span data-stu-id="654fe-102">Security with the SQL adapter and BizTalk Server</span></span>
<span data-ttu-id="654fe-103">BizTalk Server 管理コンソールを使用して、コンソールまたはを使用して、送信ポートまたは受信ポート (場所) を構成するときに、 [!INCLUDE[consumeadapterservlong](../../includes/consumeadapterservlong-md.md)] BizTalk ソリューションのメッセージ スキーマを取得する SQL Server データベースの資格情報を指定する必要があります。</span><span class="sxs-lookup"><span data-stu-id="654fe-103">When you configure a send port or a receive port (location) by using the BizTalk Server Administration console or use the [!INCLUDE[consumeadapterservlong](../../includes/consumeadapterservlong-md.md)] to retrieve message schemas for a BizTalk solution, you must provide credentials for the SQL Server database.</span></span> <span data-ttu-id="654fe-104">悪意のある相手に公開されるを防ぐためにセキュリティで保護された方法でこれらの資格情報を提供する重要です。</span><span class="sxs-lookup"><span data-stu-id="654fe-104">It is important to supply these credentials in a secure way to help prevent them from being revealed to potentially malicious actors.</span></span> <span data-ttu-id="654fe-105">このトピックで最も安全に資格情報を指定する方法について説明します、[!INCLUDE[adaptersql](../../includes/adaptersql-md.md)]の BizTalk Server ソリューションです。</span><span class="sxs-lookup"><span data-stu-id="654fe-105">This topic discusses how to most securely supply credentials for the [!INCLUDE[adaptersql](../../includes/adaptersql-md.md)] for BizTalk Server solutions.</span></span>  
  
 <span data-ttu-id="654fe-106">BizTalk ソリューションのコンテキストでのセキュリティの一般的な詳細については、拡張性のあるトピックではこのドキュメントの範囲外です。</span><span class="sxs-lookup"><span data-stu-id="654fe-106">A more general discussion of security in the context of BizTalk solutions is an expansive topic and is beyond the scope of this documentation.</span></span> <span data-ttu-id="654fe-107">作成する方法、BizTalk ソリューションより安全な方法については、次を参照してください。[セキュリティで保護し、BizTalk メッセージを保護](../../core/secure-and-protect-your-biztalk-messages.md)です。</span><span class="sxs-lookup"><span data-stu-id="654fe-107">For information about how you can make your BizTalk solutions more secure, see [Secure and protect your BizTalk messages](../../core/secure-and-protect-your-biztalk-messages.md).</span></span>
  
## <a name="how-do-i-protect-credentials-when-i-use-the-consume-adapter-service-biztalk-project-add-in"></a><span data-ttu-id="654fe-108">どのように保護する資格情報を使用する場合、アダプターを使用する BizTalk プロジェクト アドインでは、サービスを提供しますか?</span><span class="sxs-lookup"><span data-stu-id="654fe-108">How Do I Protect Credentials When I Use the Consume Adapter Service BizTalk Project Add-in?</span></span>  
 <span data-ttu-id="654fe-109">使用すると、 [!INCLUDE[consumeadapterservshort_md](../../includes/consumeadapterservshort-md.md)] BizTalk ソリューションのメッセージ スキーマを取得するユーザー名とパスワードを指定する必要があります、**セキュリティ**タブで、**アダプターの構成** ダイアログ ボックス。</span><span class="sxs-lookup"><span data-stu-id="654fe-109">When you use the [!INCLUDE[consumeadapterservshort_md](../../includes/consumeadapterservshort-md.md)] to retrieve message schemas for a BizTalk solution, you must supply the user name and password from the **Security** tab on the **Configure Adapter** dialog box.</span></span> <span data-ttu-id="654fe-110">[!INCLUDE[consumeadapterservshort](../../includes/consumeadapterservshort-md.md)]で資格情報を設定することはできません、 **URI の構成**フィールドです。</span><span class="sxs-lookup"><span data-stu-id="654fe-110">The [!INCLUDE[consumeadapterservshort](../../includes/consumeadapterservshort-md.md)] will not allow you to set credentials in the **Configure a URI** field.</span></span> <span data-ttu-id="654fe-111">これにより、資格情報がクリア テキストで表示されるようにすることでセキュリティが向上します。</span><span class="sxs-lookup"><span data-stu-id="654fe-111">This improves security by preventing credentials from appearing in clear text.</span></span> <span data-ttu-id="654fe-112">使用してメッセージ スキーマを取得する方法について、[!INCLUDE[consumeadapterservshort](../../includes/consumeadapterservshort-md.md)]を参照してください、SQL Server データベースのユーザー名とパスワードを入力する方法を含む[SQLアダプターを使用してVisualStudioでのSQLServer操作のメタデータを取得](../../adapters-and-accelerators/adapter-sql/get-metadata-for-sql-server-operations-in-visual-studio-using-the-sql-adapter.md).</span><span class="sxs-lookup"><span data-stu-id="654fe-112">For more information about how to retrieve message schemas by using the [!INCLUDE[consumeadapterservshort](../../includes/consumeadapterservshort-md.md)], including how to enter a user name and password for the SQL Server database, see [Get metadata for SQL Server operations in Visual Studio using the SQL adapter](../../adapters-and-accelerators/adapter-sql/get-metadata-for-sql-server-operations-in-visual-studio-using-the-sql-adapter.md).</span></span>  
  
## <a name="how-do-i-protect-credentials-when-i-configure-a-send-port-or-a-receive-location"></a><span data-ttu-id="654fe-113">資格情報を保護する方法、送信ポートを構成する場合は、または受信場所ですか?</span><span class="sxs-lookup"><span data-stu-id="654fe-113">How Do I Protect Credentials When I Configure a Send Port or a Receive Location?</span></span>  
 <span data-ttu-id="654fe-114">BizTalk ソリューションでは、Microsoft BizTalk Wcf-custom アダプターを使用して、WCF サービスを使用します。</span><span class="sxs-lookup"><span data-stu-id="654fe-114">BizTalk solutions use the Microsoft BizTalk WCF-Custom adapter to consume WCF services.</span></span> <span data-ttu-id="654fe-115">[!INCLUDE[adaptersqlshort](../../includes/adaptersqlshort-md.md)]は、WCF のカスタム バインドを WCF サービスの場合と同様に、SQL Server データベースを使用するクライアントを有効にします。</span><span class="sxs-lookup"><span data-stu-id="654fe-115">The [!INCLUDE[adaptersqlshort](../../includes/adaptersqlshort-md.md)] is a WCF custom binding that enables clients to consume the SQL Server database as if it were a WCF service.</span></span> <span data-ttu-id="654fe-116">BizTalk ソリューションの使用、[!INCLUDE[adaptersqlshort](../../includes/adaptersqlshort-md.md)]を通じて送信ポートと WCF カスタム アダプターを使用して構成されている場所を受信します。</span><span class="sxs-lookup"><span data-stu-id="654fe-116">BizTalk solutions consume the [!INCLUDE[adaptersqlshort](../../includes/adaptersqlshort-md.md)] through send ports and receive locations that are configured to use the WCF-Custom adapter.</span></span> <span data-ttu-id="654fe-117">WCF カスタム アダプターを使用するように構成は、さらに、[!INCLUDE[adaptersqlshort](../../includes/adaptersqlshort-md.md)]トランスポートとして。</span><span class="sxs-lookup"><span data-stu-id="654fe-117">The WCF-Custom adapter is, in turn, configured to use the [!INCLUDE[adaptersqlshort](../../includes/adaptersqlshort-md.md)] as its transport.</span></span> <span data-ttu-id="654fe-118">受信ポート (受信場所)、Wcf-custom アダプターを構成する方法を含む送信ポートを構成する方法の詳細については、次を参照してください。 [SQL アダプターを物理ポートのバインドを手動で構成](../../adapters-and-accelerators/adapter-sql/manually-configure-a-physical-port-binding-to-the-sql-adapter.md)です。</span><span class="sxs-lookup"><span data-stu-id="654fe-118">For more information about how to configure send ports and receive ports (receive locations), including how to configure the WCF-Custom adapter, see [Manually configure a physical port binding to the SQL adapter](../../adapters-and-accelerators/adapter-sql/manually-configure-a-physical-port-binding-to-the-sql-adapter.md).</span></span>
  
 <span data-ttu-id="654fe-119">SQL Server データベースの資格情報を構成する、**資格情報**のタブ、 **Wcf-custom トランスポートのプロパティ** ダイアログ ボックスの送信ポートまたはから、**他**のタブ**Wcf-custom トランスポートのプロパティ**のダイアログ ボックスの受信場所。</span><span class="sxs-lookup"><span data-stu-id="654fe-119">You configure the SQL Server database credentials from the **Credentials** tab of the **WCF-Custom Transport Properties** dialog box for send ports or from the **Other** tab of the **WCF-Custom Transport Properties** dialog box for receive locations.</span></span> <span data-ttu-id="654fe-120">WCF カスタム アダプターでは、エンタープライズ シングル サインオン (SSO) をサポートするためにこれらのタブのいずれかのいずれかのユーザー名とパスワード、または SSO 関連アプリケーションを提供することもできます。</span><span class="sxs-lookup"><span data-stu-id="654fe-120">Because the WCF-Custom adapter supports Enterprise Single Sign-On (SSO), you can also choose to provide either a user name and password or an SSO affiliate application on either of these tabs.</span></span> <span data-ttu-id="654fe-121">次のトピックでは、両方のオプションについて説明します。</span><span class="sxs-lookup"><span data-stu-id="654fe-121">The following topics discuss both options.</span></span>  
  
### <a name="user-name-password-credentials"></a><span data-ttu-id="654fe-122">ユーザー名パスワードの資格情報</span><span class="sxs-lookup"><span data-stu-id="654fe-122">User Name Password Credentials</span></span>  
 <span data-ttu-id="654fe-123">ユーザー名とパスワードを指定する必要がありますのみ、**資格情報** タブ (送信ポート) または**他の** タブ (受信場所) で、 **WCF カスタム トランスポート プロパティ** ダイアログ ボックス。</span><span class="sxs-lookup"><span data-stu-id="654fe-123">You should only supply a user name and password from the **Credentials** tab (for send ports) or the **Other** tab (for receive locations) in the **WCF-Custom Transport Properties** dialog box.</span></span> <span data-ttu-id="654fe-124">これにより、次に。</span><span class="sxs-lookup"><span data-stu-id="654fe-124">This ensures the following:</span></span>  
  
-   <span data-ttu-id="654fe-125">資格情報は表示されません、**アドレス (URI)**  ダイアログ ボックスのフィールドです。</span><span class="sxs-lookup"><span data-stu-id="654fe-125">Your credentials will not be displayed in the **Address (URI)** field of the dialog box.</span></span> <span data-ttu-id="654fe-126">これを防止を画面にアクセス権を持つユーザー (または送信ポートを表示または受信場所のプロパティを可能にするアクセス許可を持っている)、資格情報を表示します。</span><span class="sxs-lookup"><span data-stu-id="654fe-126">This prevents those who have access to your screen (or who have permissions that enable them to view the send port or receive location properties) from seeing your credentials.</span></span>  
  
-   <span data-ttu-id="654fe-127">送信ポートをエクスポートまたはポートのバインドを受信する場合、パスワードは、バインド ファイルには書き込まれません。</span><span class="sxs-lookup"><span data-stu-id="654fe-127">Your password will not be written to the binding file if you export the send port or receive port binding.</span></span> <span data-ttu-id="654fe-128">これによりすべてのユーザー アクセス権を持つファイルにパスワードを表示します。</span><span class="sxs-lookup"><span data-stu-id="654fe-128">This prevents anyone with access to the file from viewing your password.</span></span>  
  
### <a name="enterprise-single-sign-on-and-sso-affiliate-applications"></a><span data-ttu-id="654fe-129">エンタープライズ シングル サインオンと SSO 関連アプリケーション</span><span class="sxs-lookup"><span data-stu-id="654fe-129">Enterprise Single Sign-On and SSO Affiliate Applications</span></span>  
 <span data-ttu-id="654fe-130">SQL Server データベースの資格情報を取得するエンタープライズ シングル サインオン (SSO) を使用するように Wcf-custom アダプターを構成できます。</span><span class="sxs-lookup"><span data-stu-id="654fe-130">You can configure the WCF-Custom adapter so that it uses Enterprise Single Sign-on (SSO) to get the credentials for the SQL Server database.</span></span> <span data-ttu-id="654fe-131">SSO では、データベースとマスター シークレットを使用して暗号化およびユーザーの資格情報を格納します。</span><span class="sxs-lookup"><span data-stu-id="654fe-131">SSO uses a database and a master secret to encrypt and store user credentials.</span></span> <span data-ttu-id="654fe-132">Microsoft Windows アカウントをバックエンド システムへのアクセスに使用される資格情報にマップするサービスも提供します。</span><span class="sxs-lookup"><span data-stu-id="654fe-132">It also provides services to map Microsoft Windows accounts to secondary credentials that are used to access a back-end system.</span></span> <span data-ttu-id="654fe-133">SSO を使用すると、ユーザー名と SQL Server データベースにパスワードを Windows アカウントをマップできます。</span><span class="sxs-lookup"><span data-stu-id="654fe-133">By using SSO, you can map a Windows account to a user name and password on the SQL Server database.</span></span>  
  
 <span data-ttu-id="654fe-134">SSO を使用して*関連アプリケーション*と*SSO マッピング*にバックエンド システムへの資格情報をマップします。</span><span class="sxs-lookup"><span data-stu-id="654fe-134">SSO uses *affiliate applications* and *SSO mappings* to map credentials to the back-end system.</span></span> <span data-ttu-id="654fe-135">関連アプリケーションは、システムまたはセカンダリの資格情報を必要とするアプリケーションを参照する SSO の論理エンティティです。</span><span class="sxs-lookup"><span data-stu-id="654fe-135">An affiliate application is a logical entity in SSO that refers to a system or an application that requires secondary credentials.</span></span> <span data-ttu-id="654fe-136">SSO マッピングは、関連アプリケーションに関連付けられます。</span><span class="sxs-lookup"><span data-stu-id="654fe-136">An SSO mapping is associated with an affiliate application.</span></span> <span data-ttu-id="654fe-137">これは、セカンダリ資格情報をそのアカウント関連システムまたはアプリケーションにアクセスするために使用する Windows アカウントをマップします。</span><span class="sxs-lookup"><span data-stu-id="654fe-137">It maps a Windows account to the secondary credentials used by that account to access the affiliate system or application.</span></span> <span data-ttu-id="654fe-138">SSO マッピングは、Windows ユーザー アカウントまたはグループに関連付けることができます。</span><span class="sxs-lookup"><span data-stu-id="654fe-138">An SSO mapping can be associated with a Windows user account or with a group.</span></span>  
  
 <span data-ttu-id="654fe-139">SSO を使用する、[!INCLUDE[adaptersqlshort](../../includes/adaptersqlshort-md.md)]次を行う必要があります。</span><span class="sxs-lookup"><span data-stu-id="654fe-139">To use SSO with the [!INCLUDE[adaptersqlshort](../../includes/adaptersqlshort-md.md)], you must do the following.</span></span>  
  
1.  <span data-ttu-id="654fe-140">ユーザーに、SQL Server データベースのパスワードの資格情報の名前を保持するために sso 関連アプリケーションを作成します。</span><span class="sxs-lookup"><span data-stu-id="654fe-140">Create an affiliate application in SSO to hold the user name password credentials for the SQL Server database.</span></span> <span data-ttu-id="654fe-141">この手順は多くの場合、特別な種類の SSO 管理者特権を持つユーザーによって実行します。</span><span class="sxs-lookup"><span data-stu-id="654fe-141">This step is often performed by someone with special types of SSO administrative privileges.</span></span>  
  
2.  <span data-ttu-id="654fe-142">ユーザーまたはグループのユーザー名と SQL Server データベースとの接続を確立するために使用されるパスワードを使用する Windows アカウントにマップする関連アプリケーションのマッピングを作成します。</span><span class="sxs-lookup"><span data-stu-id="654fe-142">Create a user or group mapping for the affiliate application that maps your Windows account to the user name and password that are used to establish a connection with the SQL Server database.</span></span> <span data-ttu-id="654fe-143">インストールに応じて、ユーザーは、この手順を実行できる場合があります。 または特別な種類の SSO 管理者特権を持つユーザーが必要な場合があります。</span><span class="sxs-lookup"><span data-stu-id="654fe-143">Depending on your installation, a user might be able to perform this step, or it might require someone with special types of SSO administrative privileges.</span></span>  
  
> [!NOTE]
>  <span data-ttu-id="654fe-144">SSO で構成された場合、WCF カスタム アダプターは SSO データベースから SQL Server のユーザー名とパスワードを取得する SSO によって提供されるサービスを使用します。</span><span class="sxs-lookup"><span data-stu-id="654fe-144">When configured for SSO, the WCF-Custom adapter uses services provided by SSO to get the SQL Server user name and password from the SSO database.</span></span> <span data-ttu-id="654fe-145">これには、これら (暗号化されていない)、[!INCLUDE[adaptersqlshort](../../includes/adaptersqlshort-md.md)]アダプターは、SQL Server データベースへの接続を開くことができます。</span><span class="sxs-lookup"><span data-stu-id="654fe-145">It provides these (unencrypted) to the [!INCLUDE[adaptersqlshort](../../includes/adaptersqlshort-md.md)], so that the adapter can open a connection to the SQL Server database.</span></span> <span data-ttu-id="654fe-146">SSO はない暗号化または保護全体にわたる間の接続、[!INCLUDE[adaptersqlshort](../../includes/adaptersqlshort-md.md)]と SQL Server データベース。</span><span class="sxs-lookup"><span data-stu-id="654fe-146">SSO provides no encryption or protection across the connection between the [!INCLUDE[adaptersqlshort](../../includes/adaptersqlshort-md.md)] and the SQL Server database.</span></span>  
  
 <span data-ttu-id="654fe-147">関連アプリケーションと SSO マッピングを作成する方法に関する情報など、SSO を使用する方法については、次を参照してください。[を使用して SSO](../../core/using-sso.md)です。</span><span class="sxs-lookup"><span data-stu-id="654fe-147">For information about how to use SSO, including information about how to create affiliate applications and SSO mappings, see [Using SSO](../../core/using-sso.md).</span></span> <span data-ttu-id="654fe-148">SSO の概要については、次を参照してください。[を実装するエンタープライズ シングル サインオン](../../core/implementing-enterprise-single-sign-on.md)です。</span><span class="sxs-lookup"><span data-stu-id="654fe-148">For more general information about SSO, see [Implementing Enterprise Single Sign-On](../../core/implementing-enterprise-single-sign-on.md).</span></span>
  
## <a name="the-acceptcredentialsinuri-binding-property"></a><span data-ttu-id="654fe-149">AcceptCredentialsInUri バインディング プロパティ</span><span class="sxs-lookup"><span data-stu-id="654fe-149">The AcceptCredentialsInUri Binding Property</span></span>  
 <span data-ttu-id="654fe-150">[!INCLUDE[adaptersqlshort](../../includes/adaptersqlshort-md.md)]はサポートしていません**AcceptCredentialsInUri**プロパティをバインドします。</span><span class="sxs-lookup"><span data-stu-id="654fe-150">The [!INCLUDE[adaptersqlshort](../../includes/adaptersqlshort-md.md)] does not support **AcceptCredentialsInUri** binding property.</span></span> <span data-ttu-id="654fe-151">資格情報は、接続 URI では使用されません。</span><span class="sxs-lookup"><span data-stu-id="654fe-151">Credentials are never permitted in the connection URI.</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="654fe-152">参照</span><span class="sxs-lookup"><span data-stu-id="654fe-152">See Also</span></span>  
[<span data-ttu-id="654fe-153">SQL アプリケーションのセキュリティ保護します。</span><span class="sxs-lookup"><span data-stu-id="654fe-153">Secure your SQL applications</span></span>](../../adapters-and-accelerators/adapter-sql/secure-your-sql-applications.md)  
[<span data-ttu-id="654fe-154">SQL アダプタをセキュリティで保護するベスト プラクティス</span><span class="sxs-lookup"><span data-stu-id="654fe-154">Best practices to secure the SQL adapter</span></span>](../../adapters-and-accelerators/adapter-sql/best-practices-to-secure-the-sql-adapter.md)