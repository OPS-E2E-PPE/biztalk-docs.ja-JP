---
title: BizTalk Server を使用して SQL クエリ通知を受け取る |Microsoft Docs
ms.custom: ''
ms.date: 06/08/2017
ms.prod: biztalk-server
ms.reviewer: ''
ms.suite: ''
ms.tgt_pltfrm: ''
ms.topic: article
ms.assetid: 69444df7-f2ae-4d1a-9b49-817b437517d8
caps.latest.revision: 13
author: MandiOhlinger
ms.author: mandia
manager: anneta
ms.openlocfilehash: cc64165dcdf642e1ce9a0166b4f38c1c229e391f
ms.sourcegitcommit: 381e83d43796a345488d54b3f7413e11d56ad7be
ms.translationtype: MT
ms.contentlocale: ja-JP
ms.lasthandoff: 05/07/2019
ms.locfileid: "65368235"
---
# <a name="receive-sql-query-notifications-using-biztalk-server"></a><span data-ttu-id="c1cd7-102">BizTalk Server を使用して SQL クエリ通知を受け取る</span><span class="sxs-lookup"><span data-stu-id="c1cd7-102">Receive SQL Query Notifications using BizTalk Server</span></span>
<span data-ttu-id="c1cd7-103">構成することができます、 [!INCLUDE[adaptersqlshort](../../includes/adaptersqlshort-md.md)] SQL Server テーブルまたはビューの通知メッセージを受信します。</span><span class="sxs-lookup"><span data-stu-id="c1cd7-103">You can configure the [!INCLUDE[adaptersqlshort](../../includes/adaptersqlshort-md.md)] to receive notification messages for SQL Server tables or views.</span></span> <span data-ttu-id="c1cd7-104">アダプターが SQL Server を使用した通知の登録に使用する SQL ステートメントを指定することができます。</span><span class="sxs-lookup"><span data-stu-id="c1cd7-104">You can specify a SQL statement that the adapter uses to register for notifications with SQL Server.</span></span> <span data-ttu-id="c1cd7-105">通知のステートメントには、SELECT ステートメントまたはストアド プロシージャを返す結果セットを使用できます。</span><span class="sxs-lookup"><span data-stu-id="c1cd7-105">The notification statement can be a SELECT statement or a stored procedure that returns a result set.</span></span> <span data-ttu-id="c1cd7-106">クエリ通知の詳細についてを参照してください「を使用してクエリ通知」 [ http://go.microsoft.com/fwlink/?LinkId=122159](http://go.microsoft.com/fwlink/?LinkId=122159)します。</span><span class="sxs-lookup"><span data-stu-id="c1cd7-106">For more information about query notifications, see “Using Query Notifications” at  [http://go.microsoft.com/fwlink/?LinkId=122159](http://go.microsoft.com/fwlink/?LinkId=122159).</span></span> <span data-ttu-id="c1cd7-107">クエリ通知の使用できるクエリについてを参照してください「を作成するクエリ通知の」 [ http://go.microsoft.com/fwlink/?LinkId=122160](http://go.microsoft.com/fwlink/?LinkId=122160)します。</span><span class="sxs-lookup"><span data-stu-id="c1cd7-107">For information about queries that can be used for query notifications, see “Creating a Query for Notification” at [http://go.microsoft.com/fwlink/?LinkId=122160](http://go.microsoft.com/fwlink/?LinkId=122160).</span></span>  
  
 <span data-ttu-id="c1cd7-108">SQL Server からクエリ通知を受信することは、いくつかの主な相違点と、SQL Server をポーリングに似ています。</span><span class="sxs-lookup"><span data-stu-id="c1cd7-108">Receiving query notifications from SQL Server is similar to polling SQL Server, with a few key differences.</span></span> <span data-ttu-id="c1cd7-109">相違点の一覧で、次を参照してください。[に関する考慮事項を受け取るクエリ通知を使用して、SQL アダプター](../../adapters-and-accelerators/adapter-sql/considerations-for-receiving-query-notifications-using-the-sql-adapter.md)します。</span><span class="sxs-lookup"><span data-stu-id="c1cd7-109">For the list of differences, see [Considerations Receiving Query Notifications Using the SQL adapter](../../adapters-and-accelerators/adapter-sql/considerations-for-receiving-query-notifications-using-the-sql-adapter.md).</span></span>  
  
 <span data-ttu-id="c1cd7-110">構成することがいくつかのシナリオを次に、[!INCLUDE[adaptersqlshort](../../includes/adaptersqlshort-md.md)]で[!INCLUDE[btsBizTalkServerNoVersion](../../includes/btsbiztalkservernoversion-md.md)]SQL Server から通知を受け取る。</span><span class="sxs-lookup"><span data-stu-id="c1cd7-110">Following are some scenarios in which you can configure the [!INCLUDE[adaptersqlshort](../../includes/adaptersqlshort-md.md)] with [!INCLUDE[btsBizTalkServerNoVersion](../../includes/btsbiztalkservernoversion-md.md)] to receive notifications from SQL Server:</span></span>  
  
- <span data-ttu-id="c1cd7-111">アダプター クライアントの最後の通知以降、データベース テーブルに加えられたこれらの変更だけなど「インクリメント」の通知のみを取得します。</span><span class="sxs-lookup"><span data-stu-id="c1cd7-111">Adapter clients get only “incremental” notification, for example, only for those changes that were made to a database table since the last notification.</span></span>  
  
- <span data-ttu-id="c1cd7-112">アダプター クライアントが複数を構成する場合は、データベース テーブルに多数の行を挿入して、受信負荷分散通知を受信する場所。</span><span class="sxs-lookup"><span data-stu-id="c1cd7-112">If many rows are inserted into a database table, the adapter clients can configure multiple receive locations to load-balance receiving notifications.</span></span>  
  
- <span data-ttu-id="c1cd7-113">アダプター クライアントが通知を受信、受信場所がダウンした場合、アダプターのクライアントは、通知が受信されるとすぐに、受信場所をもう一度アダプターを構成できます。</span><span class="sxs-lookup"><span data-stu-id="c1cd7-113">If the receive location on which the adapter clients are receiving notifications goes down, the adapter clients can configure the adapter to receive a notification as soon as the receive location is up again.</span></span> <span data-ttu-id="c1cd7-114">クライアントでは、する可能性がありますが挿入、更新、または削除された受信場所がダウンしていたときにレコードを処理するには、そのアプリケーション内でまた、ロジックを実装する必要があります。</span><span class="sxs-lookup"><span data-stu-id="c1cd7-114">The clients must also implement the logic in their application to process the records that may have been inserted, updated, or deleted while the receive location was down.</span></span>  
  
  <span data-ttu-id="c1cd7-115">アダプターのクライアントは、通知メッセージを受信、受信した通知の種類に基づいて特定のタスクを実行できます。</span><span class="sxs-lookup"><span data-stu-id="c1cd7-115">Once the adapter clients receive a notification message, they can perform specific tasks based on the kind of notification received.</span></span> <span data-ttu-id="c1cd7-116">たとえばが実行される挿入の通知を受信した場合、タスクの 1 つのセットと別の一連のタスク、更新通知を受信した場合は、このような方法で、BizTalk オーケストレーションを設計できます。</span><span class="sxs-lookup"><span data-stu-id="c1cd7-116">For example, a BizTalk orchestration can be designed in such a way that it performs one set of tasks if an insert notification is received and another set of tasks if an update notification is received.</span></span>  
  
  <span data-ttu-id="c1cd7-117">このセクションのトピックでは、これらの各シナリオのアダプターを構成する方法に関する情報を提供します。</span><span class="sxs-lookup"><span data-stu-id="c1cd7-117">The topics in this section provide information about how to configure the adapter for each of these scenarios.</span></span> <span data-ttu-id="c1cd7-118">使用して SQL Server からの通知の取得を開始する、 [!INCLUDE[adaptersqlshort](../../includes/adaptersqlshort-md.md)]、特定のバインド プロパティを指定する必要があります。</span><span class="sxs-lookup"><span data-stu-id="c1cd7-118">To start getting notifications from SQL Server using the [!INCLUDE[adaptersqlshort](../../includes/adaptersqlshort-md.md)], you must specify certain binding properties.</span></span> <span data-ttu-id="c1cd7-119">アダプターがメッセージの受信がサポートする方法の詳細については、次を参照してください。[に関する考慮事項を受け取るクエリ通知を使用して、SQL アダプター](../../adapters-and-accelerators/adapter-sql/considerations-for-receiving-query-notifications-using-the-sql-adapter.md)します。</span><span class="sxs-lookup"><span data-stu-id="c1cd7-119">For more information about how the adapter supports receiving messages, see [Considerations Receiving Query Notifications Using the SQL adapter](../../adapters-and-accelerators/adapter-sql/considerations-for-receiving-query-notifications-using-the-sql-adapter.md).</span></span> <span data-ttu-id="c1cd7-120">通知に関連するバインド プロパティの詳細については、次を参照してください。 [for SQL Server のアダプターのバインド プロパティの BizTalk アダプターについて](../../adapters-and-accelerators/adapter-sql/read-about-the-biztalk-adapter-for-sql-server-adapter-binding-properties.md)します。</span><span class="sxs-lookup"><span data-stu-id="c1cd7-120">For more information about the binding properties related to notifications, see [Read about the BizTalk Adapter for SQL Server adapter Binding Properties](../../adapters-and-accelerators/adapter-sql/read-about-the-biztalk-adapter-for-sql-server-adapter-binding-properties.md).</span></span> <span data-ttu-id="c1cd7-121">通知メッセージの構造の詳細については、次を参照してください。[クエリ通知のメッセージ スキーマ](../../adapters-and-accelerators/adapter-sql/message-schemas-for-query-notification.md)します。</span><span class="sxs-lookup"><span data-stu-id="c1cd7-121">For more information about the structure of notification messages, see [Message Schemas for Query Notification](../../adapters-and-accelerators/adapter-sql/message-schemas-for-query-notification.md).</span></span>  
  
  <span data-ttu-id="c1cd7-122">クエリ通知を有効にする SQL Server で、次のタスクを実行することも必要があります。</span><span class="sxs-lookup"><span data-stu-id="c1cd7-122">You must also perform the following tasks on SQL Server to enable query notifications.</span></span>  
  
- <span data-ttu-id="c1cd7-123">Service Broker は、SQL Server データベースを有効にする必要があります。</span><span class="sxs-lookup"><span data-stu-id="c1cd7-123">You must enable Service Broker for the SQL Server database.</span></span>  
  
- <span data-ttu-id="c1cd7-124">アダプターのクライアントが通知を要求するためのコマンドを実行するために必要な権限を持っていることを確認する必要があります。</span><span class="sxs-lookup"><span data-stu-id="c1cd7-124">You must ensure that the adapter client has the necessary permissions to execute commands to request notification.</span></span>  
  
  <span data-ttu-id="c1cd7-125">これらのタスクの詳細についてを参照してください「のクエリ通知を有効にする」 [ http://go.microsoft.com/fwlink/?LinkID=122323](http://go.microsoft.com/fwlink/?LinkID=122323)します。</span><span class="sxs-lookup"><span data-stu-id="c1cd7-125">For more information about these tasks, see “Enabling Query Notifications” at [http://go.microsoft.com/fwlink/?LinkID=122323](http://go.microsoft.com/fwlink/?LinkID=122323).</span></span>  
  
## <a name="in-this-section"></a><span data-ttu-id="c1cd7-126">このセクションの内容</span><span class="sxs-lookup"><span data-stu-id="c1cd7-126">In This Section</span></span>  
  
-   [<span data-ttu-id="c1cd7-127">に関する考慮事項を受け取るクエリ通知を使用して、SQL アダプター</span><span class="sxs-lookup"><span data-stu-id="c1cd7-127">Considerations Receiving Query Notifications Using the SQL adapter</span></span>](../../adapters-and-accelerators/adapter-sql/considerations-for-receiving-query-notifications-using-the-sql-adapter.md)  
  
-   [<span data-ttu-id="c1cd7-128">BizTalk Server を使用して SQL の特定のタスクを実行するプロセスの通知メッセージ</span><span class="sxs-lookup"><span data-stu-id="c1cd7-128">Process Notification Messages to complete Specific Tasks in SQL using BizTalk Server</span></span>](../../adapters-and-accelerators/adapter-sql/process-notification-messages-to-complete-specific-tasks-in-sql-using-biztalk.md)  
  
-   [<span data-ttu-id="c1cd7-129">BizTalk Server を使用して SQL から段階的クエリ通知を受け取る</span><span class="sxs-lookup"><span data-stu-id="c1cd7-129">Receive Query Notifications Incrementally from SQL using BizTalk Server</span></span>](../../adapters-and-accelerators/adapter-sql/receive-query-notifications-incrementally-from-sql-using-biztalk-server.md)  
  
-   [<span data-ttu-id="c1cd7-130">BizTalk Server を使用して SQL からのクエリ通知で複数受信場所の受信します。</span><span class="sxs-lookup"><span data-stu-id="c1cd7-130">Receive Query Notifications On Multiple Receive Locations from SQL using BizTalk Server</span></span>](../../adapters-and-accelerators/adapter-sql/receive-query-notifications-on-receive-locations-from-sql-server-using-biztalk.md)  
  
-   [<span data-ttu-id="c1cd7-131">BizTalk Server を使用した SQL でクエリ通知した後、受信場所のブレーク ダウンを受け取る</span><span class="sxs-lookup"><span data-stu-id="c1cd7-131">Receive Query Notifications After a Receive Location Breakdown in SQL using BizTalk Server</span></span>](../../adapters-and-accelerators/adapter-sql/receive-query-notifications-after-a-sql-receive-location-stops-in-biztalk.md)  
  
## <a name="see-also"></a><span data-ttu-id="c1cd7-132">参照</span><span class="sxs-lookup"><span data-stu-id="c1cd7-132">See Also</span></span>  
[<span data-ttu-id="c1cd7-133">SQL アダプターを使用して BizTalk アプリケーションを開発する</span><span class="sxs-lookup"><span data-stu-id="c1cd7-133">Develop BizTalk applications using the SQL adapter</span></span>](../../adapters-and-accelerators/adapter-sql/develop-biztalk-applications-using-the-sql-adapter.md)