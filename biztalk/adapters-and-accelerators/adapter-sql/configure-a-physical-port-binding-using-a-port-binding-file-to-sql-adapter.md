---
title: SQL アダプターを使用するポートのバインド ファイルを使用して物理的なポート バインドの構成 |Microsoft Docs
ms.custom: ''
ms.date: 06/08/2017
ms.prod: biztalk-server
ms.reviewer: ''
ms.suite: ''
ms.tgt_pltfrm: ''
ms.topic: article
ms.assetid: 95b54357-b23d-4ed7-8e31-bd60ed3e625f
caps.latest.revision: 13
author: MandiOhlinger
ms.author: mandia
manager: anneta
ms.openlocfilehash: 631914f72287b9fbd48a6695a4edf79e88d28182
ms.sourcegitcommit: 266308ec5c6a9d8d80ff298ee6051b4843c5d626
ms.translationtype: MT
ms.contentlocale: ja-JP
ms.lasthandoff: 06/27/2018
ms.locfileid: "37014203"
---
# <a name="configure-a-physical-port-binding-using-a-port-binding-file-to-use-the-sql-adapter"></a><span data-ttu-id="9aa79-102">SQL アダプターを使用するポートのバインド ファイルを使用して物理的なポート バインドを構成します。</span><span class="sxs-lookup"><span data-stu-id="9aa79-102">Configure a physical port binding using a port binding file to use the SQL adapter</span></span>
<span data-ttu-id="9aa79-103">使用すると、[!INCLUDE[consumeadapterservlong](../../includes/consumeadapterservlong-md.md)]メタデータ スキーマ ファイル以外の SQL Server 成果物を生成する、[!INCLUDE[consumeadapterservshort](../../includes/consumeadapterservshort-md.md)]ポートのバインド ファイルも生成されます。</span><span class="sxs-lookup"><span data-stu-id="9aa79-103">When you use the [!INCLUDE[consumeadapterservlong](../../includes/consumeadapterservlong-md.md)] to generate metadata for a SQL Server artifact, other than the schema files, the [!INCLUDE[consumeadapterservshort](../../includes/consumeadapterservshort-md.md)] also generates a port binding file.</span></span> <span data-ttu-id="9aa79-104">BizTalk アプリケーションを作成する物理送信ポートまたは受信ポートには、このバインド ファイルをインポートできます。</span><span class="sxs-lookup"><span data-stu-id="9aa79-104">You can import this binding file into your BizTalk application to create a physical send or receive port.</span></span> <span data-ttu-id="9aa79-105">バインド ファイルをインポートする手順については、[アダプターのバインドを再利用](../../adapters-and-accelerators/adapter-sql/reuse-sql-adapter-bindings.md)を参照してください。</span><span class="sxs-lookup"><span data-stu-id="9aa79-105">For instructions on importing binding files, see [Reuse adapter bindings](../../adapters-and-accelerators/adapter-sql/reuse-sql-adapter-bindings.md).</span></span> <span data-ttu-id="9aa79-106">このバインド ファイルをインポートする場合は、手動で作成する物理送信ポートまたは受信ポートをする必要はありません。</span><span class="sxs-lookup"><span data-stu-id="9aa79-106">If you import this binding file, you do not have to manually create a physical send or receive port.</span></span>  
  
> [!IMPORTANT]
>  <span data-ttu-id="9aa79-107">使用しているときに、[!INCLUDE[consumeadapterservshort](../../includes/consumeadapterservshort-md.md)]文字列型のバインド プロパティの値を指定しないし、既定値は null し、プロパティのバインドが使用できないこと、バインド ファイルの場合は、します。</span><span class="sxs-lookup"><span data-stu-id="9aa79-107">While using the [!INCLUDE[consumeadapterservshort](../../includes/consumeadapterservshort-md.md)], if you do not specify a value for a binding property of type string and whose default value is null then that binding property will not be available in the binding file.</span></span> <span data-ttu-id="9aa79-108">必要があります手動で追加するバインドのプロパティとその値、バインド ファイルに必要な場合。</span><span class="sxs-lookup"><span data-stu-id="9aa79-108">You must manually add the binding property and its value in the binding file, if required.</span></span>  
  
 <span data-ttu-id="9aa79-109">双方向送信ポートを作成し、ポートのバインド ファイルを常に使用するポートを作成するか、一方向の受信ポート。</span><span class="sxs-lookup"><span data-stu-id="9aa79-109">Creating a port using the port binding file always creates a two-way send port or a one-way receive port.</span></span> <span data-ttu-id="9aa79-110">手順を使用して手動で作成できます一方向の送信ポートを作成する場合は、 [SQL アダプターを物理ポートのバインドを手動で構成](../../adapters-and-accelerators/adapter-sql/manually-configure-a-physical-port-binding-to-the-sql-adapter.md)します。</span><span class="sxs-lookup"><span data-stu-id="9aa79-110">If you want to create a one-way send port, you can create it manually using the steps at [Manually configure a physical port binding to the SQL adapter](../../adapters-and-accelerators/adapter-sql/manually-configure-a-physical-port-binding-to-the-sql-adapter.md).</span></span> <span data-ttu-id="9aa79-111">または、一方向の送信ポートを作成するポートのバインド ファイルを変更するには、このトピックに記載されている回避策を利用できます。</span><span class="sxs-lookup"><span data-stu-id="9aa79-111">Or, you can follow the workarounds documented in this topic to modify the port binding file to create one-way send ports.</span></span>  
  
> [!NOTE]
>  <span data-ttu-id="9aa79-112">ポートのバインド ファイルの受信操作の作成は常に一方向の受信ポート。</span><span class="sxs-lookup"><span data-stu-id="9aa79-112">For inbound operations, the port binding file will always create a one-way receive port.</span></span> <span data-ttu-id="9aa79-113">これは、ため、[!INCLUDE[adaptersqlshort](../../includes/adaptersqlshort-md.md)]サポートの一方向受信ポートの受信操作ののみ。</span><span class="sxs-lookup"><span data-stu-id="9aa79-113">This is because the [!INCLUDE[adaptersqlshort](../../includes/adaptersqlshort-md.md)] only supports one-way receive port for inbound operations.</span></span>  
> 
> [!IMPORTANT]
>  <span data-ttu-id="9aa79-114">使用して、 [!INCLUDE[addadapterwiz](../../includes/addadapterwiz-md.md)] WCF SQL ポートを作成することができますを使用してポートのバインド ファイルを作成しません。</span><span class="sxs-lookup"><span data-stu-id="9aa79-114">Using the [!INCLUDE[addadapterwiz](../../includes/addadapterwiz-md.md)] does not create a port binding file using which you can create a WCF-SQL port.</span></span> <span data-ttu-id="9aa79-115">ただし、によって生成されたポートのバインド ファイルにいくつかの変更を加える可能性があります、 [!INCLUDE[consumeadapterservshort](../../includes/consumeadapterservshort-md.md)] WCF SQL ポートの作成に使用します。</span><span class="sxs-lookup"><span data-stu-id="9aa79-115">However, you could make some changes to the port binding file generated by the [!INCLUDE[consumeadapterservshort](../../includes/consumeadapterservshort-md.md)] and use it to create a WCF-SQL port.</span></span> <span data-ttu-id="9aa79-116">詳細については、[ポートのバインド ファイルが生成を使用して Consume Adapter Service アドインを使用して WCF SQL ポートを構成する](#BKMK_Create_WCF_SQL)を参照してください。</span><span class="sxs-lookup"><span data-stu-id="9aa79-116">For more information, see [Configuring a WCF-SQL Port Using the Port Binding File Generated Using Consume Adapter Service Add-in](#BKMK_Create_WCF_SQL).</span></span>  
  
 <span data-ttu-id="9aa79-117">ファイルのバインドに関して理解していることの重要な点を次に、[!INCLUDE[consumeadapterservshort](../../includes/consumeadapterservshort-md.md)]が生成されます。</span><span class="sxs-lookup"><span data-stu-id="9aa79-117">Following are some key points that you must understand with respect to the binding file that the [!INCLUDE[consumeadapterservshort](../../includes/consumeadapterservshort-md.md)] generates:</span></span>  
  
- <span data-ttu-id="9aa79-118">ファイルは、特定の名前付け規則で作成されます。</span><span class="sxs-lookup"><span data-stu-id="9aa79-118">The files are created with a specific naming convention.</span></span> <span data-ttu-id="9aa79-119">送信操作のメタデータを生成した場合は、SQL Server にメッセージを送信するファイルの名前は WcfSendPort_SqlAdapterBinding_Custom.bindinginfo.xml します。</span><span class="sxs-lookup"><span data-stu-id="9aa79-119">If you generated metadata for outbound operations, that is, to send messages to SQL Server, the name of the file is WcfSendPort_SqlAdapterBinding_Custom.bindinginfo.xml.</span></span>  
  
   <span data-ttu-id="9aa79-120">受信操作のメタデータを生成した場合は、SQL Server からメッセージを受信するファイルの名前は WcfReceivePort_SqlAdapterBinding_Custom.bindinginfo.xml。</span><span class="sxs-lookup"><span data-stu-id="9aa79-120">If you generated metadata for inbound operations, that is, to receive messages from SQL Server, the name of the file is WcfReceivePort_SqlAdapterBinding_Custom.bindinginfo.xml.</span></span>  
  
- <span data-ttu-id="9aa79-121">ファイルには、バインド構成、バインディングの種類、エンドポイントの URI、およびメタデータの生成対象の操作に基づき、ポートのアクションに関する情報が含まれています。</span><span class="sxs-lookup"><span data-stu-id="9aa79-121">The file contains information about the binding configuration, the binding type, the endpoint URI, and the port action based on the operations for which metadata was generated.</span></span> <span data-ttu-id="9aa79-122">ポートを作成する BizTalk アプリケーションにこのバインド ファイルをインポートするときに物理ポートを構成するために必要なすべての関連情報がポートで自動的に設定します。</span><span class="sxs-lookup"><span data-stu-id="9aa79-122">When you import this binding file into your BizTalk application to create a port, all the relevant information required to configure a physical port is automatically set on the port.</span></span>  
  
  > [!IMPORTANT]
  >  <span data-ttu-id="9aa79-123">既定では、送信ポートのアクションは、メタデータを生成する操作名にマップされます。</span><span class="sxs-lookup"><span data-stu-id="9aa79-123">By default, the action on the send port is mapped to the operation name for which you generated metadata.</span></span> <span data-ttu-id="9aa79-124">たとえば、Customer テーブルに対する挿入操作のメタデータを生成する場合、ポートのアクションに設定されて`<Operation Name="Insert" Action="TableOp/Insert/dbo/CustomerTable" />`します。</span><span class="sxs-lookup"><span data-stu-id="9aa79-124">For example, if you generate metadata for the Insert operation on the Customer table, the action on the port is set to `<Operation Name="Insert" Action="TableOp/Insert/dbo/CustomerTable" />`.</span></span> <span data-ttu-id="9aa79-125">ただし、BizTalk オーケストレーションで作成する論理送信ポートでの操作名が同じになりません。</span><span class="sxs-lookup"><span data-stu-id="9aa79-125">However, the operation name on the logical send port you create in the BizTalk orchestration might not be the same.</span></span> <span data-ttu-id="9aa79-126">論理操作名の送信 (BizTalk オーケストレーション) のポートを物理送信ポートのことを確認する必要があります (で[!INCLUDE[btsBizTalkServerNoVersion](../../includes/btsbiztalkservernoversion-md.md)]管理コンソール) は、同じです。</span><span class="sxs-lookup"><span data-stu-id="9aa79-126">You must ensure that the operation name in the logical send port (in the BizTalk orchestration) and the physical send port (in [!INCLUDE[btsBizTalkServerNoVersion](../../includes/btsbiztalkservernoversion-md.md)] Administration console) are the same.</span></span> <span data-ttu-id="9aa79-127">それ以外の場合は、SQL Server に送信ポートを通じてメッセージを送信中にエラーが表示されます。</span><span class="sxs-lookup"><span data-stu-id="9aa79-127">If not, you will receive an error while sending messages to SQL Server through the send port.</span></span>  
  
- <span data-ttu-id="9aa79-128">SQL Server に接続するポートの資格情報を提供するだけです。</span><span class="sxs-lookup"><span data-stu-id="9aa79-128">You only need to provide the credentials for the port to connect to SQL Server.</span></span> <span data-ttu-id="9aa79-129">バインド ファイルには、接続先となるユーザー名を保持は、セキュリティ上の理由から、バインド ファイルは含まれませんパスワード。</span><span class="sxs-lookup"><span data-stu-id="9aa79-129">Although the binding file does retain the user name with which to connect, for security reasons the binding file does not contain the password.</span></span>  
  
## <a name="key-considerations-for-using-the-port-binding-file"></a><span data-ttu-id="9aa79-130">ポートのバインド ファイルを使用するための重要な考慮事項</span><span class="sxs-lookup"><span data-stu-id="9aa79-130">Key Considerations for Using the Port Binding File</span></span>  
  
- <span data-ttu-id="9aa79-131">バインド ファイルをインポートすると、バインド ファイル内の BizTalk アプリケーション名が、バインド ファイルをインポートするアプリケーション名と一致しないことを通知ダイアログ メッセージを取得可能性があります。</span><span class="sxs-lookup"><span data-stu-id="9aa79-131">When you import the binding file, you might get a dialog message informing that the BizTalk application name in the binding file does not match the application name to which you are importing the binding file.</span></span> <span data-ttu-id="9aa79-132">安全に、このメッセージは無視し、続行できます。</span><span class="sxs-lookup"><span data-stu-id="9aa79-132">You can safely ignore this message and continue.</span></span>  
  
- <span data-ttu-id="9aa79-133">バインド ファイルは、ポートの名前を含むもと受信場所。</span><span class="sxs-lookup"><span data-stu-id="9aa79-133">The binding file also contains names of ports and receive locations.</span></span> <span data-ttu-id="9aa79-134">バインド ファイルをインポートする BizTalk アプリケーションでは、ポート、または、同じ BizTalk アプリケーションに既に既存のポートと同じ名前を持つ受信場所を作成する場合は、エラーが発生します。</span><span class="sxs-lookup"><span data-stu-id="9aa79-134">If the BizTalk application to which you are importing the binding file creates a port or a receive location that has the same name as an already existing port in the same BizTalk application, you will get an error.</span></span> <span data-ttu-id="9aa79-135">ポートの一意の名前を指定するか、受信場所のバインド ファイルを手動で編集する必要があります。</span><span class="sxs-lookup"><span data-stu-id="9aa79-135">You must manually edit the binding file to specify a unique name for the ports or receive locations.</span></span>  
  
- <span data-ttu-id="9aa79-136">バインド ファイルには、接続 URI に関する情報も含まれています。</span><span class="sxs-lookup"><span data-stu-id="9aa79-136">The binding file also contains information about the connection URI.</span></span> <span data-ttu-id="9aa79-137">バインド ファイルを同じ BizTalk アプリケーション内の既存の受信場所として、同じ受信 URI を持つ受信場所を作成した場合は、エラーが発生します。</span><span class="sxs-lookup"><span data-stu-id="9aa79-137">If the binding file creates a receive location that has the same receive URI as an already existing receive location in the same BizTalk application, you will get an error.</span></span> <span data-ttu-id="9aa79-138">一意の URI を指定するバインド ファイルを手動で編集する必要があります。</span><span class="sxs-lookup"><span data-stu-id="9aa79-138">You must manually edit the binding file to specify a unique URI.</span></span>  
  
- <span data-ttu-id="9aa79-139">既定では、送信操作用のポートのバインド ファイルには、双方向送信ポートの定義が常に含まれます。</span><span class="sxs-lookup"><span data-stu-id="9aa79-139">By default, the port binding file for outbound operations always contains definitions for a two-way send port.</span></span> <span data-ttu-id="9aa79-140">BizTalk アプリケーションでは、このファイルをインポートするときに、双方向送信ポートを作成します。</span><span class="sxs-lookup"><span data-stu-id="9aa79-140">When you import this file in a BizTalk application, it creates a two-way send port.</span></span> <span data-ttu-id="9aa79-141">ただし、一方向の送信ポートを持つオーケストレーションがあります。</span><span class="sxs-lookup"><span data-stu-id="9aa79-141">However, you may have an orchestration that has a one-way send port.</span></span> <span data-ttu-id="9aa79-142">そのため、このようなオーケストレーションを構成して、バインド ファイルをインポートすることによって作成されたポートを使用するときに、ポートは、一覧では使用できません。</span><span class="sxs-lookup"><span data-stu-id="9aa79-142">So, when you configure such an orchestration and use the port created by importing the binding file, the port is not available in the list.</span></span> <span data-ttu-id="9aa79-143">これは、オーケストレーションの一部として作成した論理ポートは一方向のポート、オーケストレーション内に作成する物理ポートは双方向のポートのために発生します。</span><span class="sxs-lookup"><span data-stu-id="9aa79-143">This happens because the logical port you created as part of the orchestration is a one-way port while the physical port created in the orchestration is a two-way port.</span></span> <span data-ttu-id="9aa79-144">このような場合は、次の変更をバインド ファイルを編集できます。</span><span class="sxs-lookup"><span data-stu-id="9aa79-144">In such cases, you can edit the binding file to make the following changes:</span></span>  
  
  |<span data-ttu-id="9aa79-145">こちらは</span><span class="sxs-lookup"><span data-stu-id="9aa79-145">For this</span></span>|<span data-ttu-id="9aa79-146">方法</span><span class="sxs-lookup"><span data-stu-id="9aa79-146">Do this</span></span>|  
  |--------------|-------------|  
  |<span data-ttu-id="9aa79-147">構成するポートのバインド ファイルを編集するには、一方向送信ポート</span><span class="sxs-lookup"><span data-stu-id="9aa79-147">To edit the port binding file to configure a one-way send port</span></span>|<span data-ttu-id="9aa79-148">1.次の例では、値を変更、 **IsTwoWay**プロパティを**false**します。</span><span class="sxs-lookup"><span data-stu-id="9aa79-148">1.  In the following excerpt, change the value of the **IsTwoWay** property to **false**.</span></span> <span data-ttu-id="9aa79-149">設定されていた、 **true**します。</span><span class="sxs-lookup"><span data-stu-id="9aa79-149">Originally, this is set to **true**.</span></span><br />     `<SendPort Name="port_name" IsStatic="true" IsTwoWay="false" BindingOption="0">`<br /><span data-ttu-id="9aa79-150">2.次の抜粋をコメント化します。</span><span class="sxs-lookup"><span data-stu-id="9aa79-150">2.  Comment out the following excerpts:</span></span><br />     `<ReceivePipeline Name="Microsoft.BizTalk.DefaultPipelines.XMLReceive"    FullyQualifiedName="Microsoft.BizTalk.DefaultPipelines.XMLReceive,    Microsoft.BizTalk.DefaultPipelines, Version=3.0.1.0, Culture=neutral,    PublicKeyToken=token" Type="1" TrackingOption="None" Description=""/>`<br />     `<ReceivePipelineData xsi:nil="true" />`|  
  
  > [!IMPORTANT]
  >  <span data-ttu-id="9aa79-151">ポートのバインド ファイルの受信操作の作成は常に一方向の受信ポート。</span><span class="sxs-lookup"><span data-stu-id="9aa79-151">For inbound operations, the port binding file will always create a one-way receive port.</span></span> <span data-ttu-id="9aa79-152">これは、ため、[!INCLUDE[adaptersqlshort](../../includes/adaptersqlshort-md.md)]サポートの一方向受信ポートの受信操作ののみ。</span><span class="sxs-lookup"><span data-stu-id="9aa79-152">This is because the [!INCLUDE[adaptersqlshort](../../includes/adaptersqlshort-md.md)] only supports one-way receive port for inbound operations.</span></span>  
  
##  <a name="BKMK_Create_WCF_SQL"></a> <span data-ttu-id="9aa79-153">使用を使用して生成されたポートのバインド ファイルを使用して WCF SQL ポートを構成するアダプターのサービスの追加</span><span class="sxs-lookup"><span data-stu-id="9aa79-153">Configure a WCF-SQL Port Using the Port Binding File Generated Using Consume Adapter Service Add-in</span></span>  
 <span data-ttu-id="9aa79-154">[!INCLUDE[consumeadapterservshort](../../includes/consumeadapterservshort-md.md)]でインポートできるポートのバインド ファイルも作成[!INCLUDE[btsBizTalkServerNoVersion](../../includes/btsbiztalkservernoversion-md.md)]管理コンソール。</span><span class="sxs-lookup"><span data-stu-id="9aa79-154">The [!INCLUDE[consumeadapterservshort](../../includes/consumeadapterservshort-md.md)] also creates a port binding file that you can import in [!INCLUDE[btsBizTalkServerNoVersion](../../includes/btsbiztalkservernoversion-md.md)] Administration console.</span></span> <span data-ttu-id="9aa79-155">同じポートのバインド ファイルを使用してもに、BizTalk WCF SQL ポートを作成することができます[!INCLUDE[btsBizTalkServerNoVersion](../../includes/btsbiztalkservernoversion-md.md)]管理コンソール。</span><span class="sxs-lookup"><span data-stu-id="9aa79-155">You can use the same port binding file to also create the BizTalk WCF-SQL port in [!INCLUDE[btsBizTalkServerNoVersion](../../includes/btsbiztalkservernoversion-md.md)] Administration console.</span></span> <span data-ttu-id="9aa79-156">ただし、WCF SQL ポートを作成する前に、ポートのバインド ファイルを変更するのには、次のタスクを実行する必要があります。</span><span class="sxs-lookup"><span data-stu-id="9aa79-156">However, before creating WCF-SQL port you must perform the following tasks to modify the port binding file.</span></span>  
  
1. <span data-ttu-id="9aa79-157">ポートのバインド ファイルをテキスト エディターで開きます。</span><span class="sxs-lookup"><span data-stu-id="9aa79-157">Open the port binding file in a text editor.</span></span>  
  
2. <span data-ttu-id="9aa79-158">検索し、使用の WCF-SQL アダプターを追加した名前の"Wcf-custom"を置換[!INCLUDE[btsBizTalkServerNoVersion](../../includes/btsbiztalkservernoversion-md.md)]管理コンソール。</span><span class="sxs-lookup"><span data-stu-id="9aa79-158">Search and replace “WCF-Custom” with the name with which you added the WCF-SQL adapter in [!INCLUDE[btsBizTalkServerNoVersion](../../includes/btsbiztalkservernoversion-md.md)] Administration console.</span></span> <span data-ttu-id="9aa79-159">たとえば、"SQLAdapter"として WCF-SQL アダプターを追加した場合は、「SQLAdapter」と"Wcf-custom"を置き換えます。</span><span class="sxs-lookup"><span data-stu-id="9aa79-159">For example, if you added the WCF-SQL adapter as “SQLAdapter”, replace “WCF-Custom” with “SQLAdapter”.</span></span>  
  
3. <span data-ttu-id="9aa79-160">"ConfigurationClsid"属性を検索し、既存の属性の値を"59B35D03-6A06-4734-A249-EF561254ECF7"に置き換えます。</span><span class="sxs-lookup"><span data-stu-id="9aa79-160">Search for the “ConfigurationClsid” attribute, and replace the existing value of the attribute with “59B35D03-6A06-4734-A249-EF561254ECF7”.</span></span>  
  
4. <span data-ttu-id="9aa79-161">保存して、バインド ファイルを閉じます。</span><span class="sxs-lookup"><span data-stu-id="9aa79-161">Save and close the binding file.</span></span>  
  
5. <span data-ttu-id="9aa79-162">バインド ファイル インポート[!INCLUDE[btsBizTalkServerNoVersion](../../includes/btsbiztalkservernoversion-md.md)]管理コンソール。</span><span class="sxs-lookup"><span data-stu-id="9aa79-162">Import the binding file in [!INCLUDE[btsBizTalkServerNoVersion](../../includes/btsbiztalkservernoversion-md.md)] Administration console.</span></span> <span data-ttu-id="9aa79-163">バインド ファイルをインポートする方法については、[アダプターのバインドを再利用](../../adapters-and-accelerators/adapter-sql/reuse-sql-adapter-bindings.md)を参照してください。</span><span class="sxs-lookup"><span data-stu-id="9aa79-163">For instructions on how to import the binding file, see [Reuse adapter bindings](../../adapters-and-accelerators/adapter-sql/reuse-sql-adapter-bindings.md).</span></span>
  
## <a name="see-also"></a><span data-ttu-id="9aa79-164">参照</span><span class="sxs-lookup"><span data-stu-id="9aa79-164">See Also</span></span>  
[<span data-ttu-id="9aa79-165">SQL アダプターを使用した BizTalk アプリケーションを開発する構成要素</span><span class="sxs-lookup"><span data-stu-id="9aa79-165">Building blocks to develop BizTalk applications with the SQL adapter</span></span>](../../adapters-and-accelerators/adapter-sql/building-blocks-to-develop-biztalk-applications-with-the-sql-adapter.md)