---
title: BizTalk Server を使用して SQL Server からのポーリングに基づいたデータ変更メッセージを厳密に型指定の受信 |Microsoft Docs
ms.custom: ''
ms.date: 06/08/2017
ms.prod: biztalk-server
ms.reviewer: ''
ms.suite: ''
ms.tgt_pltfrm: ''
ms.topic: article
ms.assetid: e6e6ba7e-9e13-4e28-b57d-d24569277bbc
caps.latest.revision: 21
author: MandiOhlinger
ms.author: mandia
manager: anneta
ms.openlocfilehash: a73916c93caec06870ffeca0ad33ffe837d38a14
ms.sourcegitcommit: 381e83d43796a345488d54b3f7413e11d56ad7be
ms.translationtype: MT
ms.contentlocale: ja-JP
ms.lasthandoff: 05/07/2019
ms.locfileid: "65368270"
---
# <a name="receive-strongly-typed-polling-based-data-changed-messages-from-sql-server-using-biztalk-server"></a><span data-ttu-id="ac0ee-102">BizTalk Server を使用して SQL Server からのポーリングに基づいたデータ変更メッセージを厳密に型指定の受信します。</span><span class="sxs-lookup"><span data-stu-id="ac0ee-102">Receive strongly-typed polling-based data-changed messages from SQL Server using BizTalk Server</span></span>
<span data-ttu-id="ac0ee-103">構成することができます、 [!INCLUDE[adaptersqlshort](../../includes/adaptersqlshort-md.md)] SQL Server から厳密に型指定されたポーリング メッセージを受信します。</span><span class="sxs-lookup"><span data-stu-id="ac0ee-103">You can configure the [!INCLUDE[adaptersqlshort](../../includes/adaptersqlshort-md.md)] to receive strongly-typed polling messages from SQL Server.</span></span> <span data-ttu-id="ac0ee-104">データベースをポーリングするアダプターを実行するポーリング ステートメントを指定することができます。</span><span class="sxs-lookup"><span data-stu-id="ac0ee-104">You can specify a polling statement that the adapter executes to poll the database.</span></span> <span data-ttu-id="ac0ee-105">ポーリング ステートメントには、SELECT ステートメントまたはストアド プロシージャを返す結果セットを使用できます。</span><span class="sxs-lookup"><span data-stu-id="ac0ee-105">The polling statement can be a SELECT statement or a stored procedure that returns a result set.</span></span>  
  
 <span data-ttu-id="ac0ee-106">厳密に型指定されたポーリングは、ポーリング メッセージ内の要素を他の任意のスキーマにマップするシナリオで使用する必要があります。</span><span class="sxs-lookup"><span data-stu-id="ac0ee-106">You must use strongly-typed polling in a scenario where you want to map the elements in the polling message to any other schema.</span></span> <span data-ttu-id="ac0ee-107">マップするスキーマは、SQL Server で別の操作の可能性があります。</span><span class="sxs-lookup"><span data-stu-id="ac0ee-107">The schema you want to map to could be for another operation on SQL Server.</span></span> <span data-ttu-id="ac0ee-108">たとえば、別のテーブルで挿入操作のスキーマにポーリング メッセージの特定の要素をマップする可能性があります。</span><span class="sxs-lookup"><span data-stu-id="ac0ee-108">For example, you could map certain elements in the polling message to the schema for an Insert operation on another table.</span></span> <span data-ttu-id="ac0ee-109">そのため、ポーリング メッセージ内の値は、挿入操作のパラメーターとして機能します。</span><span class="sxs-lookup"><span data-stu-id="ac0ee-109">So, the values in the polling message serve as parameters for the Insert operation.</span></span> <span data-ttu-id="ac0ee-110">単純なシナリオでは、だけ情報を格納するスキーマ ファイルを厳密に型指定されたポーリング メッセージのスキーマをマップする可能性があります。</span><span class="sxs-lookup"><span data-stu-id="ac0ee-110">In a simpler scenario, you could map the schema for strongly-typed polling message to a schema file that just stores information.</span></span>  
  
> [!IMPORTANT]
>  <span data-ttu-id="ac0ee-111">1 つの BizTalk アプリケーションでは、複数のポーリング操作を必要するかどうか、指定する必要あります、 **InboundID**接続して一意の URI の一部として接続プロパティです。</span><span class="sxs-lookup"><span data-stu-id="ac0ee-111">If you want to have more than one polling operation in a single BizTalk application, you must specify an **InboundID** connection property as part of the connection URI to make it unique.</span></span> <span data-ttu-id="ac0ee-112">一意接続 URI を複数作成できます、同じデータベースまたはデータベースでも同じテーブルをポーリングするポートを受信します。</span><span class="sxs-lookup"><span data-stu-id="ac0ee-112">With a unique connection URI, you can create multiple receive ports that poll the same database, or even the same table in a database.</span></span> <span data-ttu-id="ac0ee-113">詳細については、次を参照してください。[受信ポーリング メッセージ間で複数受信ポートから Biztalk Server を使用して SQL](../../adapters-and-accelerators/adapter-sql/receive-polling-messages-across-multiple-receive-ports-from-sql-using-biztalk.md)します。</span><span class="sxs-lookup"><span data-stu-id="ac0ee-113">For more information, see [Receive Polling Messages Across Multiple Receive Ports from SQL using Biztalk Server](../../adapters-and-accelerators/adapter-sql/receive-polling-messages-across-multiple-receive-ports-from-sql-using-biztalk.md).</span></span>  
  
 <span data-ttu-id="ac0ee-114">アダプターが厳密に型指定されたポーリングをサポートする方法の詳細については、次を参照してください。[のポーリング サポート](https://msdn.microsoft.com/library/dd788416.aspx)します。</span><span class="sxs-lookup"><span data-stu-id="ac0ee-114">For more information about how the adapter supports strongly-typed polling, see [Support for Polling](https://msdn.microsoft.com/library/dd788416.aspx).</span></span> <span data-ttu-id="ac0ee-115">メッセージのスキーマを厳密に型指定されたポーリングの詳細については、次を参照してください。 [Polling 操作と TypedPolling 操作のメッセージ スキーマ](../../adapters-and-accelerators/adapter-sql/message-schemas-for-the-polling-and-typedpolling-operations.md)します。</span><span class="sxs-lookup"><span data-stu-id="ac0ee-115">For more information about the message schema for strongly-typed polling, see [Message Schemas for the Polling and TypedPolling Operations](../../adapters-and-accelerators/adapter-sql/message-schemas-for-the-polling-and-typedpolling-operations.md).</span></span>  
  
## <a name="how-this-topic-demonstrates-strongly-typed-polling"></a><span data-ttu-id="ac0ee-116">このトピックの「厳密に型指定されたポーリングしていますか</span><span class="sxs-lookup"><span data-stu-id="ac0ee-116">How this Topic Demonstrates Strongly-typed Polling</span></span>  
 <span data-ttu-id="ac0ee-117">このトピックでは、厳密に型指定されたポーリングを使用してポーリング メッセージを別のスキーマにマップする方法を示します。</span><span class="sxs-lookup"><span data-stu-id="ac0ee-117">This topic demonstrates how to use strongly-typed polling to map the polling message to another schema.</span></span> <span data-ttu-id="ac0ee-118">このトピックでは、BizTalk プロジェクトを作成し、スキーマを生成する方法を示しています。 **TypedPolling**操作。</span><span class="sxs-lookup"><span data-stu-id="ac0ee-118">This topic shows how to create a BizTalk project and generate schema for **TypedPolling** operation.</span></span> <span data-ttu-id="ac0ee-119">スキーマを生成する前に**TypedPolling**操作では、次を行う必要があります。</span><span class="sxs-lookup"><span data-stu-id="ac0ee-119">Before generating schema for **TypedPolling** operation, you must do the following:</span></span>  
  
- <span data-ttu-id="ac0ee-120">指定する必要があります、 **InboundID**接続 URI の一部として。</span><span class="sxs-lookup"><span data-stu-id="ac0ee-120">You must specify an **InboundID** as part of the connection URI.</span></span>  
  
- <span data-ttu-id="ac0ee-121">ポーリング ステートメントを指定する必要があります、 **PollingStatement**プロパティをバインドします。</span><span class="sxs-lookup"><span data-stu-id="ac0ee-121">You must specify a polling statement for the **PollingStatement** binding property.</span></span>  
  
  <span data-ttu-id="ac0ee-122">ポーリング ステートメントの一部として、次の操作を実行します。</span><span class="sxs-lookup"><span data-stu-id="ac0ee-122">As part of the polling statement, perform the following operations:</span></span>  
  
- <span data-ttu-id="ac0ee-123">Employee テーブルからすべての行を選択します。</span><span class="sxs-lookup"><span data-stu-id="ac0ee-123">Select all the rows from the Employee table.</span></span>  
  
- <span data-ttu-id="ac0ee-124">ストアド プロシージャ、EmployeeHistory テーブルに、Employee テーブルからすべてのレコードを移動するには、(MOVE_EMP_DATA) を実行します。</span><span class="sxs-lookup"><span data-stu-id="ac0ee-124">Execute a stored procedure (MOVE_EMP_DATA) to move all the records from the Employee table to an EmployeeHistory table.</span></span>  
  
- <span data-ttu-id="ac0ee-125">Employee テーブルに新しいレコードを追加するには、(ADD_EMP_DETAILS) ストアド プロシージャを実行します。</span><span class="sxs-lookup"><span data-stu-id="ac0ee-125">Execute a stored procedure (ADD_EMP_DETAILS) to add a new record to the Employee table.</span></span> <span data-ttu-id="ac0ee-126">この手順は、従業員の名前、表記、および給与をパラメーターとして受け取ります。</span><span class="sxs-lookup"><span data-stu-id="ac0ee-126">This procedure takes the employee name, designation, and salary as parameters.</span></span>  
  
  <span data-ttu-id="ac0ee-127">これらの操作を実行するは、次を指定する必要があります、 **PollingStatement**プロパティをバインドします。</span><span class="sxs-lookup"><span data-stu-id="ac0ee-127">To perform these operations, you must specify the following for the **PollingStatement** binding property:</span></span>  
  
```  
SELECT * FROM Employee;EXEC MOVE_EMP_DATA;EXEC ADD_EMP_DETAILS John, Tester, 100000   
```  
  
 <span data-ttu-id="ac0ee-128">スキーマを生成するため、 **TypedPolling**操作、スキーマは厳密に型指定され、ポーリング メッセージに含まれるすべての要素が含まれています。</span><span class="sxs-lookup"><span data-stu-id="ac0ee-128">Because you generate schema for the **TypedPolling** operation, the schema is strongly-typed and contains all the elements that will be included in the polling message.</span></span>  
  
 <span data-ttu-id="ac0ee-129">同じ BizTalk プロジェクトの一環として、たとえば EmployeeDetails.xsd 別のスキーマ ファイルを追加します。</span><span class="sxs-lookup"><span data-stu-id="ac0ee-129">As part of the same BizTalk project, you add another schema file, for example EmployeeDetails.xsd.</span></span> <span data-ttu-id="ac0ee-130">EmployeeDetails.xsd のスキーマには、次のようになります。</span><span class="sxs-lookup"><span data-stu-id="ac0ee-130">The schema for EmployeeDetails.xsd resembles the following:</span></span>  
  
```  
<?xml version="1.0" encoding="utf-16" ?>   
<xs:schema xmlns:b="http://schemas.microsoft.com/BizTalk/2003" xmlns="http://Typed_Polling.EmployeeDetails" elementFormDefault="qualified" targetNamespace="http://Typed_Polling.EmployeeDetails" xmlns:xs="http://www.w3.org/2001/XMLSchema">  
  <xs:element name="EmployeeDetails">  
    <xs:complexType>  
      <xs:sequence>  
        <xs:element name="Employee_Info" type="xs:string" />   
        <xs:element name="Employee_Profile" type="xs:string" />   
        <xs:element name="Employee_Performance" type="xs:string" />   
      </xs:sequence>  
    </xs:complexType>  
  </xs:element>  
</xs:schema>  
```  
  
 <span data-ttu-id="ac0ee-131">BizTalk マッパーは、EmployeeDetails.xsd スキーマ内の要素には、Employee テーブル (ポーリング メッセージとして受信済み) からの要素をマップするプロジェクトに追加します。</span><span class="sxs-lookup"><span data-stu-id="ac0ee-131">You also add a BizTalk Mapper to the project to map the elements from the Employee table (received as polling message) to the elements in the EmployeeDetails.xsd schema.</span></span> <span data-ttu-id="ac0ee-132">マップの一部として、ポーリング メッセージから要素を 1 つまたは複数を組み合わせるし、EmployeeDetails スキーマ内の単一の要素にマップします。</span><span class="sxs-lookup"><span data-stu-id="ac0ee-132">As part of the map, you combine one or more elements from the polling message and map it to a single element in the EmployeeDetails schema.</span></span> <span data-ttu-id="ac0ee-133">使用して行うことができます、**文字列連結**functoid。</span><span class="sxs-lookup"><span data-stu-id="ac0ee-133">You can do so by using the **String Concatenate** functoid.</span></span>  
  
 <span data-ttu-id="ac0ee-134">最後に、BizTalk プロジェクトの一部として EmployeeDetails.xsd スキーマに準拠しているファイルは、ファイル送信ポートに削除されます。</span><span class="sxs-lookup"><span data-stu-id="ac0ee-134">Finally, as part of the BizTalk project, a file conforming to the EmployeeDetails.xsd schema is dropped to a FILE send port.</span></span>  
  
## <a name="configure-typed-polling-with-the-sql-adapter-binding-properties"></a><span data-ttu-id="ac0ee-135">型指定されたポーリングを SQL アダプターのプロパティのバインド構成します。</span><span class="sxs-lookup"><span data-stu-id="ac0ee-135">Configure Typed Polling with the SQL Adapter Binding Properties</span></span>  
 <span data-ttu-id="ac0ee-136">次の表にまとめたものです、[!INCLUDE[adaptersqlshort](../../includes/adaptersqlshort-md.md)]バインドのプロパティのデータ変更メッセージを受信するアダプターを構成するために使用します。</span><span class="sxs-lookup"><span data-stu-id="ac0ee-136">The following table summarizes the [!INCLUDE[adaptersqlshort](../../includes/adaptersqlshort-md.md)] binding properties that you use to configure the adapter to receive data-change messages.</span></span> <span data-ttu-id="ac0ee-137">他にも、 **PollingStatement**バインド プロパティでは、すべて、他のバインド プロパティこのセクションに記載が必要で受信ポートを構成するときに、[!INCLUDE[btsBizTalkServerNoVersion](../../includes/btsbiztalkservernoversion-md.md)]管理コンソール。</span><span class="sxs-lookup"><span data-stu-id="ac0ee-137">Other than the **PollingStatement** binding property, all the other binding properties listed in this section are required while configuring the receive port in the [!INCLUDE[btsBizTalkServerNoVersion](../../includes/btsbiztalkservernoversion-md.md)] Administration console.</span></span> <span data-ttu-id="ac0ee-138">指定する必要があります、 **PollingStatement**プロパティのバインドのスキーマを生成する前に、 **TypedPolling**操作。</span><span class="sxs-lookup"><span data-stu-id="ac0ee-138">You must specify the **PollingStatement** binding property before generating schema for the **TypedPolling** operation.</span></span>  
  
> [!NOTE]
>  <span data-ttu-id="ac0ee-139">型指定されたポーリングは、指定する必要があります、 **PollingStatement**スキーマの生成中にプロパティをバインドします。</span><span class="sxs-lookup"><span data-stu-id="ac0ee-139">For typed polling, you must specify the **PollingStatement** biding property while generating the schema.</span></span> <span data-ttu-id="ac0ee-140">必須しないにもかかわらず、スキーマの生成中に他のバインドのプロパティもを指定することができます。</span><span class="sxs-lookup"><span data-stu-id="ac0ee-140">You can choose to specify the other binding properties as well while generating the schema, even though they are not mandatory.</span></span> <span data-ttu-id="ac0ee-141">ポートのバインド ファイルをバインドのプロパティを指定する場合、[!INCLUDE[consumeadapterservshort](../../includes/consumeadapterservshort-md.md)]メタデータの生成の一部にもバインドのプロパティで指定する値が含まれているが生成されます。</span><span class="sxs-lookup"><span data-stu-id="ac0ee-141">If you do specify the binding properties, the port binding file that the [!INCLUDE[consumeadapterservshort](../../includes/consumeadapterservshort-md.md)] generates as part of the metadata generation also contains the values you specify for the binding properties.</span></span> <span data-ttu-id="ac0ee-142">後でこのバインド ファイルをインポートすることができます、[!INCLUDE[btsBizTalkServerNoVersion](../../includes/btsbiztalkservernoversion-md.md)]プロパティは既に設定されています。 バインドで wcf-custom または WCF SQL を作成する管理コンソールの受信ポート。</span><span class="sxs-lookup"><span data-stu-id="ac0ee-142">You can later import this binding file in the [!INCLUDE[btsBizTalkServerNoVersion](../../includes/btsbiztalkservernoversion-md.md)] Administration console to create the WCF-custom or WCF-SQL receive port with the binding properties already set.</span></span> <span data-ttu-id="ac0ee-143">バインド ファイルを使用してポートを作成する方法の詳細については、次を参照してください。 [SQL アダプターを使用するポートのバインド ファイルを使用して物理的なポート バインドを構成する](../../adapters-and-accelerators/adapter-sql/configure-a-physical-port-binding-using-a-port-binding-file-to-sql-adapter.md)します。</span><span class="sxs-lookup"><span data-stu-id="ac0ee-143">For more information about creating a port using the binding file, see [Configure a physical port binding using a port binding file to use the SQL adapter](../../adapters-and-accelerators/adapter-sql/configure-a-physical-port-binding-using-a-port-binding-file-to-sql-adapter.md).</span></span>  
  
|         <span data-ttu-id="ac0ee-144">プロパティのバインド</span><span class="sxs-lookup"><span data-stu-id="ac0ee-144">Binding Property</span></span>         |                                                                                                                                                                                                                                                                                                   <span data-ttu-id="ac0ee-145">説明</span><span class="sxs-lookup"><span data-stu-id="ac0ee-145">Description</span></span>                                                                                                                                                                                                                                                                                                    |
|----------------------------------|------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
|     <span data-ttu-id="ac0ee-146">**InboundOperationType**</span><span class="sxs-lookup"><span data-stu-id="ac0ee-146">**InboundOperationType**</span></span>     |                                                                                                                                                                                                  <span data-ttu-id="ac0ee-147">実行するかどうかを指定します**ポーリング**、 **TypedPolling**、または**通知**操作を受信します。</span><span class="sxs-lookup"><span data-stu-id="ac0ee-147">Specifies whether you want to perform **Polling**, **TypedPolling**, or **Notification** inbound operation.</span></span> <span data-ttu-id="ac0ee-148">既定値は**ポーリング**します。</span><span class="sxs-lookup"><span data-stu-id="ac0ee-148">Default is **Polling**.</span></span> <span data-ttu-id="ac0ee-149">設定を厳密に型指定されたポーリング メッセージを受信する**TypedPolling**します。</span><span class="sxs-lookup"><span data-stu-id="ac0ee-149">To receive strongly-typed polling messages, set this to **TypedPolling**.</span></span>                                                                                                                                                                                                   |
| <span data-ttu-id="ac0ee-150">**PolledDataAvailableStatement**</span><span class="sxs-lookup"><span data-stu-id="ac0ee-150">**PolledDataAvailableStatement**</span></span> |                                                                                                                                                 <span data-ttu-id="ac0ee-151">すべてのデータがポーリングに使用できるかどうかを判断するアダプターを実行する SQL ステートメントを指定します。</span><span class="sxs-lookup"><span data-stu-id="ac0ee-151">Specifies the SQL statement that the adapter executes to determine whether any data is available for polling.</span></span> <span data-ttu-id="ac0ee-152">SQL ステートメントには、結果の行と列で構成されるセットを返す必要があります。</span><span class="sxs-lookup"><span data-stu-id="ac0ee-152">The SQL statement must return a result set consisting of rows and columns.</span></span> <span data-ttu-id="ac0ee-153">SQL ステートメントが指定した行を使用できる場合のみ、 **PollingStatement**プロパティのバインドが実行されます。</span><span class="sxs-lookup"><span data-stu-id="ac0ee-153">Only if a row is available, the SQL statement specified for the **PollingStatement** binding property will be executed.</span></span>                                                                                                                                                 |
|   <span data-ttu-id="ac0ee-154">**PollingIntervalInSeconds**</span><span class="sxs-lookup"><span data-stu-id="ac0ee-154">**PollingIntervalInSeconds**</span></span>   |                                                                                   <span data-ttu-id="ac0ee-155">秒単位で間隔を指定、[!INCLUDE[adaptersqlshort](../../includes/adaptersqlshort-md.md)]に指定されたステートメントが実行される、 **PolledDataAvailableStatement**プロパティをバインドします。</span><span class="sxs-lookup"><span data-stu-id="ac0ee-155">Specifies the interval, in seconds, at which the [!INCLUDE[adaptersqlshort](../../includes/adaptersqlshort-md.md)] executes the statement specified for the **PolledDataAvailableStatement** binding property.</span></span> <span data-ttu-id="ac0ee-156">既定値は 30 秒です。</span><span class="sxs-lookup"><span data-stu-id="ac0ee-156">The default is 30 seconds.</span></span> <span data-ttu-id="ac0ee-157">ポーリング間隔は、連続するポーリングの間隔を決定します。</span><span class="sxs-lookup"><span data-stu-id="ac0ee-157">The polling interval determines the time interval between successive polls.</span></span> <span data-ttu-id="ac0ee-158">ステートメントは、指定した期間内で実行される、アダプターは、残りの時間間隔での待機します。</span><span class="sxs-lookup"><span data-stu-id="ac0ee-158">If the statement is executed within the specified interval, the adapter waits for the remaining time in the interval.</span></span>                                                                                    |
|       <span data-ttu-id="ac0ee-159">**PollingStatement**</span><span class="sxs-lookup"><span data-stu-id="ac0ee-159">**PollingStatement**</span></span>       | <span data-ttu-id="ac0ee-160">SQL Server データベースのテーブルをポーリングする SQL ステートメントを指定します。</span><span class="sxs-lookup"><span data-stu-id="ac0ee-160">Specifies the SQL statement to poll the SQL Server database table.</span></span> <span data-ttu-id="ac0ee-161">単純な SELECT ステートメントまたはストアド プロシージャのポーリング ステートメントを指定することができます。</span><span class="sxs-lookup"><span data-stu-id="ac0ee-161">You can specify a simple SELECT statement or a stored procedure for the polling statement.</span></span> <span data-ttu-id="ac0ee-162">既定値は null です。</span><span class="sxs-lookup"><span data-stu-id="ac0ee-162">The default is null.</span></span> <span data-ttu-id="ac0ee-163">値を指定する必要があります**PollingStatement**ポーリングを有効にします。</span><span class="sxs-lookup"><span data-stu-id="ac0ee-163">You must specify a value for **PollingStatement** to enable polling.</span></span> <span data-ttu-id="ac0ee-164">ポーリング ステートメントの実行によって決定される、ポーリングに使用できるデータが場合にのみ、 **PolledDataAvailableStatement**プロパティをバインドします。</span><span class="sxs-lookup"><span data-stu-id="ac0ee-164">The polling statement is executed only if there is data available for polling, which is determined by the **PolledDataAvailableStatement** binding property.</span></span> <span data-ttu-id="ac0ee-165">セミコロンで区切られた SQL ステートメントの任意の数を指定できます。</span><span class="sxs-lookup"><span data-stu-id="ac0ee-165">You can specify any number of SQL statements separated by a semi-colon.</span></span><br /><br /> <span data-ttu-id="ac0ee-166">**重要:\*\*\*\*TypedPolling**メタデータを生成する前にこのバインドのプロパティを指定する必要があります。</span><span class="sxs-lookup"><span data-stu-id="ac0ee-166">**Important:** For **TypedPolling**, you must specify this binding property before generating metadata.</span></span> |
|      <span data-ttu-id="ac0ee-167">**PollWhileDataFound**</span><span class="sxs-lookup"><span data-stu-id="ac0ee-167">**PollWhileDataFound**</span></span>      |                                                                                      <span data-ttu-id="ac0ee-168">指定するかどうか、[!INCLUDE[adaptersqlshort](../../includes/adaptersqlshort-md.md)]ポーリング間隔を無視し、継続的に指定された SQL ステートメントを実行、 **PolledDataAvailableStatement**データがポーリングされるテーブルで使用できる場合は、プロパティをバインドします。</span><span class="sxs-lookup"><span data-stu-id="ac0ee-168">Specifies whether the [!INCLUDE[adaptersqlshort](../../includes/adaptersqlshort-md.md)] ignores the polling interval and continuously executes the SQL statement specified for the **PolledDataAvailableStatement** binding property, if data is available in the table being polled.</span></span> <span data-ttu-id="ac0ee-169">テーブルのデータがない場合は、アダプターは、指定されたポーリング間隔で SQL ステートメントを実行する元に戻します。</span><span class="sxs-lookup"><span data-stu-id="ac0ee-169">If no data is available in the table, the adapter reverts to execute the SQL statement at the specified polling interval.</span></span> <span data-ttu-id="ac0ee-170">既定値は**false**します。</span><span class="sxs-lookup"><span data-stu-id="ac0ee-170">Default is **false**.</span></span>                                                                                       |
  
 <span data-ttu-id="ac0ee-171">これらのプロパティの詳細については、次を参照してください。 [for SQL Server アダプターのバインドのプロパティの BizTalk アダプターについて](../../adapters-and-accelerators/adapter-sql/read-about-the-biztalk-adapter-for-sql-server-adapter-binding-properties.md)します。</span><span class="sxs-lookup"><span data-stu-id="ac0ee-171">For a more complete description of these properties, see [Read about the BizTalk Adapter for SQL Server adapter Binding Properties](../../adapters-and-accelerators/adapter-sql/read-about-the-biztalk-adapter-for-sql-server-adapter-binding-properties.md).</span></span> <span data-ttu-id="ac0ee-172">使用する方法の詳細については、[!INCLUDE[adaptersqlshort](../../includes/adaptersqlshort-md.md)]を SQL Server をポーリングするには、さらに読み進める。</span><span class="sxs-lookup"><span data-stu-id="ac0ee-172">For a complete description of how to use the [!INCLUDE[adaptersqlshort](../../includes/adaptersqlshort-md.md)] to poll SQL Server, read further.</span></span>  
  
## <a name="how-to-receive-strongly-typed-data-change-messages-from-the-sql-server-database"></a><span data-ttu-id="ac0ee-173">SQL Server データベースからデータの変化を厳密に型指定されたメッセージを受信する方法</span><span class="sxs-lookup"><span data-stu-id="ac0ee-173">How to Receive Strongly-typed Data-change Messages from the SQL Server Database</span></span>  
 <span data-ttu-id="ac0ee-174">SQL Server データベースを使用して、操作を実行[!INCLUDE[adaptersqlshort](../../includes/adaptersqlshort-md.md)]で[!INCLUDE[btsBizTalkServerNoVersion](../../includes/btsbiztalkservernoversion-md.md)]で説明されている手順のタスクが含まれます[SQL アダプターを使用した BizTalk アプリケーションを開発する構成要素](../../adapters-and-accelerators/adapter-sql/building-blocks-to-develop-biztalk-applications-with-the-sql-adapter.md)します。</span><span class="sxs-lookup"><span data-stu-id="ac0ee-174">Performing an operation on the SQL Server database using [!INCLUDE[adaptersqlshort](../../includes/adaptersqlshort-md.md)] with [!INCLUDE[btsBizTalkServerNoVersion](../../includes/btsbiztalkservernoversion-md.md)] involves the procedural tasks described in [Building blocks to develop BizTalk applications with the SQL adapter](../../adapters-and-accelerators/adapter-sql/building-blocks-to-develop-biztalk-applications-with-the-sql-adapter.md).</span></span> <span data-ttu-id="ac0ee-175">これらのタスクは厳密に型指定のデータ変更メッセージを受信するアダプターを構成するには。</span><span class="sxs-lookup"><span data-stu-id="ac0ee-175">To configure the adapter to receive strongly-typed data-change messages, these tasks are:</span></span>  
  
1. <span data-ttu-id="ac0ee-176">BizTalk プロジェクトを作成しのスキーマを生成し、 **TypedPolling**操作。</span><span class="sxs-lookup"><span data-stu-id="ac0ee-176">Create a BizTalk project, and then generate schema for the **TypedPolling** operation.</span></span> <span data-ttu-id="ac0ee-177">指定する必要があります、 **InboundID**接続プロパティと**PollingStatement**スキーマの生成中にプロパティをバインドします。</span><span class="sxs-lookup"><span data-stu-id="ac0ee-177">You must specify the **InboundID** connection property and the **PollingStatement** binding property while generating schema.</span></span> <span data-ttu-id="ac0ee-178">たとえば、次のよう受信 ID が指定された URI の接続。</span><span class="sxs-lookup"><span data-stu-id="ac0ee-178">For example, a connection URI with the inbound ID specified resembles the following:</span></span>  
  
   ```  
   mssql://mysqlserver//mysqldatabase?InboundID=mydatabaseId  
   ```  
  
2. <span data-ttu-id="ac0ee-179">SQL Server データベースからメッセージを受信するための BizTalk プロジェクトでは、メッセージを作成します。</span><span class="sxs-lookup"><span data-stu-id="ac0ee-179">Create a message in the BizTalk project for receiving messages from the SQL Server database.</span></span>  
  
3. <span data-ttu-id="ac0ee-180">SQL Server データベースからメッセージを受信して、フォルダーに保存するオーケストレーションを作成します。</span><span class="sxs-lookup"><span data-stu-id="ac0ee-180">Create an orchestration to receive messages from the SQL Server database and to save them to a folder.</span></span>  
  
4. <span data-ttu-id="ac0ee-181">BizTalk プロジェクトで EmployeeDetails.xsd など、スキーマを追加します。</span><span class="sxs-lookup"><span data-stu-id="ac0ee-181">Add a schema, for example, EmployeeDetails.xsd, in the BizTalk project.</span></span>  
  
5. <span data-ttu-id="ac0ee-182">ポーリング メッセージのスキーマをスキーマにマップ EmployeeDetails.xsd BizTalk マッパーを追加します。</span><span class="sxs-lookup"><span data-stu-id="ac0ee-182">Add a BizTalk Mapper to map the schema for the polling message to EmployeeDetails.xsd schema.</span></span>  
  
6. <span data-ttu-id="ac0ee-183">ビルドし、BizTalk プロジェクトを配置します。</span><span class="sxs-lookup"><span data-stu-id="ac0ee-183">Build and deploy the BizTalk project.</span></span>  
  
7. <span data-ttu-id="ac0ee-184">BizTalk 物理を作成してアプリケーションの送信および受信ポートを構成します。</span><span class="sxs-lookup"><span data-stu-id="ac0ee-184">Configure the BizTalk application by creating physical send and receive ports.</span></span>  
  
   > [!IMPORTANT]
   >  <span data-ttu-id="ac0ee-185">受信のポーリングのシナリオは、Wcf-custom の一方向常に構成する必要があります。 または WCF SQL 受信ポート。</span><span class="sxs-lookup"><span data-stu-id="ac0ee-185">For inbound polling scenarios you must always configure a one-way WCF-Custom or WCF-SQL receive port.</span></span> <span data-ttu-id="ac0ee-186">Wcf-custom または WCF-SQL の双方向受信ポートの受信操作はサポートされていません。</span><span class="sxs-lookup"><span data-stu-id="ac0ee-186">Two-way WCF-Custom or WCF-SQL receive ports are not supported for inbound operations.</span></span>  
  
8. <span data-ttu-id="ac0ee-187">BizTalk アプリケーションを起動します。</span><span class="sxs-lookup"><span data-stu-id="ac0ee-187">Start the BizTalk application.</span></span>  
  
   <span data-ttu-id="ac0ee-188">このトピックでは、これらのタスクを実行する手順を説明します。</span><span class="sxs-lookup"><span data-stu-id="ac0ee-188">This topic provides instructions to perform these tasks.</span></span>  
  
## <a name="sample-based-on-this-topic"></a><span data-ttu-id="ac0ee-189">このトピックに基づくサンプル</span><span class="sxs-lookup"><span data-stu-id="ac0ee-189">Sample Based on This Topic</span></span>  
 <span data-ttu-id="ac0ee-190">サンプル TypedPolling、このトピックの「に基づいてが付属、[!INCLUDE[adapterpacknoversion](../../includes/adapterpacknoversion-md.md)]します。</span><span class="sxs-lookup"><span data-stu-id="ac0ee-190">A sample, TypedPolling, based on this topic is provided with the [!INCLUDE[adapterpacknoversion](../../includes/adapterpacknoversion-md.md)].</span></span> <span data-ttu-id="ac0ee-191">詳細については、次を参照してください。 [SQL アダプタのサンプル](../../adapters-and-accelerators/adapter-sql/samples-for-the-sql-adapter.md)します。</span><span class="sxs-lookup"><span data-stu-id="ac0ee-191">For more information, see [Samples for the SQL adapter](../../adapters-and-accelerators/adapter-sql/samples-for-the-sql-adapter.md).</span></span>  
  
## <a name="generate-schema"></a><span data-ttu-id="ac0ee-192">スキーマを生成します。</span><span class="sxs-lookup"><span data-stu-id="ac0ee-192">Generate Schema</span></span>  
 <span data-ttu-id="ac0ee-193">スキーマを生成する必要があります、 **TypedPolling**操作。</span><span class="sxs-lookup"><span data-stu-id="ac0ee-193">You must generate the schema for the **TypedPolling** operation.</span></span> <span data-ttu-id="ac0ee-194">参照してください[SQL アダプターを使用して Visual Studio での SQL Server 操作のメタデータを取得する](../../adapters-and-accelerators/adapter-sql/get-metadata-for-sql-server-operations-in-visual-studio-using-the-sql-adapter.md)スキーマを生成する方法の詳細について。</span><span class="sxs-lookup"><span data-stu-id="ac0ee-194">See [Retrieving Metadata for SQL Server Operations in Visual Studio using the SQL adapter](../../adapters-and-accelerators/adapter-sql/get-metadata-for-sql-server-operations-in-visual-studio-using-the-sql-adapter.md) for more information about how to generate the schema.</span></span> <span data-ttu-id="ac0ee-195">スキーマを生成するときに、次のタスクを実行します。</span><span class="sxs-lookup"><span data-stu-id="ac0ee-195">Perform the following tasks when generating the schema.</span></span>  
  
1.  <span data-ttu-id="ac0ee-196">指定、 **InboundID**接続 URI を指定するときにプロパティを接続します。</span><span class="sxs-lookup"><span data-stu-id="ac0ee-196">Specify the **InboundID** connection property while specifying the connection URI.</span></span> <span data-ttu-id="ac0ee-197">このトピックでは、指定することができます、 **InboundID**として**従業員**します。</span><span class="sxs-lookup"><span data-stu-id="ac0ee-197">For this topic, you can specify the **InboundID** as **Employee**.</span></span> <span data-ttu-id="ac0ee-198">接続 URI の詳細については、次を参照してください。 [SQL Server の接続 URI の作成](../../adapters-and-accelerators/adapter-sql/create-the-sql-server-connection-uri.md)です。</span><span class="sxs-lookup"><span data-stu-id="ac0ee-198">For more information about the connection URI, see [Create the SQL Server Connection URI](../../adapters-and-accelerators/adapter-sql/create-the-sql-server-connection-uri.md).</span></span>  
  
2.  <span data-ttu-id="ac0ee-199">値を指定、 **PollingStatement**プロパティをバインドします。</span><span class="sxs-lookup"><span data-stu-id="ac0ee-199">Specify a value for the **PollingStatement** binding property.</span></span> <span data-ttu-id="ac0ee-200">このバインドのプロパティの詳細については、次を参照してください。 [for SQL Server のアダプターのバインド プロパティの BizTalk アダプターについて](../../adapters-and-accelerators/adapter-sql/read-about-the-biztalk-adapter-for-sql-server-adapter-binding-properties.md)します。</span><span class="sxs-lookup"><span data-stu-id="ac0ee-200">For more information about this binding property, see [Read about the BizTalk Adapter for SQL Server adapter Binding Properties](../../adapters-and-accelerators/adapter-sql/read-about-the-biztalk-adapter-for-sql-server-adapter-binding-properties.md).</span></span>  
  
     <span data-ttu-id="ac0ee-201">バインドのプロパティを指定する方法については、次を参照してください。 [SQL アダプタのバインドのプロパティを構成する](../../adapters-and-accelerators/adapter-sql/configure-the-binding-properties-for-the-sql-adapter.md)します。</span><span class="sxs-lookup"><span data-stu-id="ac0ee-201">For instructions on how to specify binding properties, see [Configure the binding properties for the SQL adapter](../../adapters-and-accelerators/adapter-sql/configure-the-binding-properties-for-the-sql-adapter.md).</span></span>  
  
3.  <span data-ttu-id="ac0ee-202">コントラクトの種類を選択します。**サービス (受信操作)** します。</span><span class="sxs-lookup"><span data-stu-id="ac0ee-202">Select the contract type as **Service (Inbound operation)**.</span></span>  
  
4.  <span data-ttu-id="ac0ee-203">スキーマの生成、 **TypedPolling**操作。</span><span class="sxs-lookup"><span data-stu-id="ac0ee-203">Generate schema for the **TypedPolling** operation.</span></span>  
  
## <a name="define-messages-and-message-types"></a><span data-ttu-id="ac0ee-204">メッセージとメッセージ定義の種類</span><span class="sxs-lookup"><span data-stu-id="ac0ee-204">Define Messages and Message Types</span></span>  
 <span data-ttu-id="ac0ee-205">以前に生成したスキーマには、オーケストレーション内のメッセージに必要な「型」について説明します。</span><span class="sxs-lookup"><span data-stu-id="ac0ee-205">The schema that you generated earlier describes the "types" required for the messages in the orchestration.</span></span> <span data-ttu-id="ac0ee-206">メッセージは、通常、対象の型が、対応するスキーマで定義されている、変数です。</span><span class="sxs-lookup"><span data-stu-id="ac0ee-206">A message is typically a variable, the type for which is defined by the corresponding schema.</span></span> <span data-ttu-id="ac0ee-207">スキーマが生成されるは、BizTalk プロジェクトのオーケストレーションからメッセージをリンクする必要があります。</span><span class="sxs-lookup"><span data-stu-id="ac0ee-207">Once the schema is generated, you must link it to the messages from the Orchestration view of the BizTalk project.</span></span>  
  
 <span data-ttu-id="ac0ee-208">このトピックでは、SQL Server データベースからメッセージを受信する 1 つのメッセージを作成する必要があります。</span><span class="sxs-lookup"><span data-stu-id="ac0ee-208">For this topic, you must create one message to receive messages from the SQL Server database.</span></span>  
  
 <span data-ttu-id="ac0ee-209">メッセージを作成し、スキーマにリンクするには、次の手順を実行します。</span><span class="sxs-lookup"><span data-stu-id="ac0ee-209">Perform the following steps to create messages and link them to schema.</span></span>  
  
#### <a name="create-messages-and-link-to-schema"></a><span data-ttu-id="ac0ee-210">メッセージを作成し、スキーマへのリンク</span><span class="sxs-lookup"><span data-stu-id="ac0ee-210">Create messages and link to schema</span></span>  
  
1.  <span data-ttu-id="ac0ee-211">オーケストレーションを BizTalk プロジェクトに追加します。</span><span class="sxs-lookup"><span data-stu-id="ac0ee-211">Add an orchestration to the BizTalk project.</span></span> <span data-ttu-id="ac0ee-212">ソリューション エクスプ ローラーで、BizTalk プロジェクト名を右クリックして**追加**、 をクリックし、**新しい項目の**します。</span><span class="sxs-lookup"><span data-stu-id="ac0ee-212">From the Solution Explorer, right-click the BizTalk project name, point to **Add**, and then click **New Item**.</span></span> <span data-ttu-id="ac0ee-213">BizTalk オーケストレーションの名前を入力し、クリックして**追加**します。</span><span class="sxs-lookup"><span data-stu-id="ac0ee-213">Type a name for the BizTalk orchestration and then click **Add**.</span></span>  
  
2.  <span data-ttu-id="ac0ee-214">開いていない場合は、BizTalk プロジェクトのオーケストレーション ビュー ウィンドウを開きます。</span><span class="sxs-lookup"><span data-stu-id="ac0ee-214">Open the orchestration view window of the BizTalk project, if it is not already open.</span></span> <span data-ttu-id="ac0ee-215">をクリックして**ビュー**、 をポイント**その他の Windows**、順にクリックします**オーケストレーション**します。</span><span class="sxs-lookup"><span data-stu-id="ac0ee-215">Click **View**, point to **Other Windows**, and then click **Orchestration View**.</span></span>  
  
3.  <span data-ttu-id="ac0ee-216">**オーケストレーション**、右クリック**メッセージ**、順にクリックします**新しいメッセージ**します。</span><span class="sxs-lookup"><span data-stu-id="ac0ee-216">In the **Orchestration View**, right-click **Messages**, and then click **New Message**.</span></span>  
  
4.  <span data-ttu-id="ac0ee-217">新しく作成されたメッセージを右クリックし、**プロパティ ウィンドウ**します。</span><span class="sxs-lookup"><span data-stu-id="ac0ee-217">Right-click the newly created message, and then select **Properties Window**.</span></span>  
  
5.  <span data-ttu-id="ac0ee-218">**プロパティ**ウィンドウ **[message_1]** 次の操作を行います。</span><span class="sxs-lookup"><span data-stu-id="ac0ee-218">In the **Properties** pane for **Message_1**, do the following:</span></span>  
  
    |<span data-ttu-id="ac0ee-219">プロパティ</span><span class="sxs-lookup"><span data-stu-id="ac0ee-219">Use this</span></span>|<span data-ttu-id="ac0ee-220">目的</span><span class="sxs-lookup"><span data-stu-id="ac0ee-220">To do this</span></span>|  
    |--------------|----------------|  
    |<span data-ttu-id="ac0ee-221">[Identifier]</span><span class="sxs-lookup"><span data-stu-id="ac0ee-221">Identifier</span></span>|<span data-ttu-id="ac0ee-222">型**PollingMessage**します。</span><span class="sxs-lookup"><span data-stu-id="ac0ee-222">Type **PollingMessage**.</span></span>|  
    |<span data-ttu-id="ac0ee-223">メッセージ型</span><span class="sxs-lookup"><span data-stu-id="ac0ee-223">Message Type</span></span>|<span data-ttu-id="ac0ee-224">ドロップダウン リストから展開**スキーマ**、選び*Typed_Polling.TypedPolling_Employee.TypedPolling*ここで、 *Typed_Polling* BizTalk の名前を指定しますプロジェクトです。</span><span class="sxs-lookup"><span data-stu-id="ac0ee-224">From the drop-down list, expand **Schemas**, and select *Typed_Polling.TypedPolling_Employee.TypedPolling*, where *Typed_Polling* is the name of your BizTalk project.</span></span> <span data-ttu-id="ac0ee-225">*TypedPolling_Employee*に対して生成されたスキーマには、 **TypedPolling**操作。</span><span class="sxs-lookup"><span data-stu-id="ac0ee-225">*TypedPolling_Employee* is the schema generated for the **TypedPolling** operation.</span></span>|  
  
## <a name="set-up-the-orchestration"></a><span data-ttu-id="ac0ee-226">オーケストレーションをセットアップします。</span><span class="sxs-lookup"><span data-stu-id="ac0ee-226">Set up the Orchestration</span></span>  
 <span data-ttu-id="ac0ee-227">使用する BizTalk オーケストレーションを作成する必要があります[!INCLUDE[btsBizTalkServerNoVersion](../../includes/btsbiztalkservernoversion-md.md)]SQL Server データベースからのポーリング ベースのデータ変更メッセージを受信します。</span><span class="sxs-lookup"><span data-stu-id="ac0ee-227">You must create a BizTalk orchestration to use [!INCLUDE[btsBizTalkServerNoVersion](../../includes/btsbiztalkservernoversion-md.md)] for receiving polling-based data-change messages from the SQL Server database.</span></span> <span data-ttu-id="ac0ee-228">このオーケストレーションでは、アダプターは、指定されたポーリング ステートメントのポーリング メッセージを受信します。</span><span class="sxs-lookup"><span data-stu-id="ac0ee-228">In this orchestration, the adapter receives the polling message for the specified polling statement.</span></span> <span data-ttu-id="ac0ee-229">BizTalk マッパーは、ポーリングのメッセージ スキーマを EmployeeDetails.xsd スキーマにマップします。</span><span class="sxs-lookup"><span data-stu-id="ac0ee-229">The BizTalk Mapper then maps the polling message schema to the EmployeeDetails.xsd schema.</span></span> <span data-ttu-id="ac0ee-230">マップされたメッセージはファイルの場所に保存されます。</span><span class="sxs-lookup"><span data-stu-id="ac0ee-230">The mapped message is then saved to a FILE location.</span></span> <span data-ttu-id="ac0ee-231">SQL Server データベースから厳密に型指定されたポーリング メッセージを受信するための一般的なオーケストレーションが含まれます。</span><span class="sxs-lookup"><span data-stu-id="ac0ee-231">A typical orchestration for receiving strongly-typed polling message from a SQL Server database would contain:</span></span>  
  
- <span data-ttu-id="ac0ee-232">受信図形と送信図形を SQL Server からメッセージを受信し、それぞれ、ファイルのポートに送信します。</span><span class="sxs-lookup"><span data-stu-id="ac0ee-232">Receive and Send shapes to receive messages from SQL Server and send to a FILE port, respectively.</span></span>  
  
- <span data-ttu-id="ac0ee-233">一方向の受信ポートを SQL Server からメッセージを受信します。</span><span class="sxs-lookup"><span data-stu-id="ac0ee-233">A one-way receive port to receive messages from SQL Server.</span></span>  
  
  > [!IMPORTANT]
  >  <span data-ttu-id="ac0ee-234">常に設定する必要があります、ポーリングの受信シナリオの一方向の受信ポート。</span><span class="sxs-lookup"><span data-stu-id="ac0ee-234">For inbound polling scenarios you must always configure a one-way receive port.</span></span> <span data-ttu-id="ac0ee-235">双方向受信ポートは受信操作のサポートされていません。</span><span class="sxs-lookup"><span data-stu-id="ac0ee-235">Two-way receive ports are not supported for inbound operations.</span></span>  
  
- <span data-ttu-id="ac0ee-236">SQL Server データベースからフォルダーにポーリング応答を送信する一方向の送信ポート。</span><span class="sxs-lookup"><span data-stu-id="ac0ee-236">A one-way send port to send polling responses from a SQL Server database to a folder.</span></span>  
  
- <span data-ttu-id="ac0ee-237">ポーリング メッセージのスキーマを他の任意のスキーマにマップする BizTalk マッパー。</span><span class="sxs-lookup"><span data-stu-id="ac0ee-237">A BizTalk Mapper to map the schema of the polling message to any other schema.</span></span>  
  
  <span data-ttu-id="ac0ee-238">サンプル オーケストレーションでは、次の項目に似ています。</span><span class="sxs-lookup"><span data-stu-id="ac0ee-238">A sample orchestration resembles the following.</span></span>  
  
  <span data-ttu-id="ac0ee-239">![オーケストレーションの厳密に&#45;ポーリングを型指定された](../../adapters-and-accelerators/adapter-sql/media/1db03859-b7f8-470c-9158-2be4da0b45ae.gif "1db03859-b7f8-470c-9158-2be4da0b45ae")</span><span class="sxs-lookup"><span data-stu-id="ac0ee-239">![Orchestration for strongly&#45;typed polling](../../adapters-and-accelerators/adapter-sql/media/1db03859-b7f8-470c-9158-2be4da0b45ae.gif "1db03859-b7f8-470c-9158-2be4da0b45ae")</span></span>  
  
### <a name="add-message-shapes"></a><span data-ttu-id="ac0ee-240">メッセージの構築図形を追加します。</span><span class="sxs-lookup"><span data-stu-id="ac0ee-240">Add Message Shapes</span></span>  
 <span data-ttu-id="ac0ee-241">メッセージの構築図形のごとに、次のプロパティを指定することを確認します。</span><span class="sxs-lookup"><span data-stu-id="ac0ee-241">Make sure you specify the following properties for each of the message shapes.</span></span> <span data-ttu-id="ac0ee-242">図形の列に示した名前は、単に説明したオーケストレーションに表示されるメッセージの構築図形の名前です。</span><span class="sxs-lookup"><span data-stu-id="ac0ee-242">The names listed in the Shape column are the names of the message shapes as displayed in the just-mentioned orchestration.</span></span>  
  
|<span data-ttu-id="ac0ee-243">図形</span><span class="sxs-lookup"><span data-stu-id="ac0ee-243">Shape</span></span>|<span data-ttu-id="ac0ee-244">図形の種類</span><span class="sxs-lookup"><span data-stu-id="ac0ee-244">Shape Type</span></span>|<span data-ttu-id="ac0ee-245">[プロパティ]</span><span class="sxs-lookup"><span data-stu-id="ac0ee-245">Properties</span></span>|  
|-----------|----------------|----------------|  
|<span data-ttu-id="ac0ee-246">ReceiveMessage</span><span class="sxs-lookup"><span data-stu-id="ac0ee-246">ReceiveMessage</span></span>|<span data-ttu-id="ac0ee-247">Receive</span><span class="sxs-lookup"><span data-stu-id="ac0ee-247">Receive</span></span>|<span data-ttu-id="ac0ee-248">-設定**名前**に*ReceiveMessage*</span><span class="sxs-lookup"><span data-stu-id="ac0ee-248">- Set **Name** to *ReceiveMessage*</span></span><br /><br /> <span data-ttu-id="ac0ee-249">-設定**アクティブ**に*は True。*</span><span class="sxs-lookup"><span data-stu-id="ac0ee-249">- Set **Activate** to *True*</span></span>|  
|<span data-ttu-id="ac0ee-250">SaveMessage</span><span class="sxs-lookup"><span data-stu-id="ac0ee-250">SaveMessage</span></span>|<span data-ttu-id="ac0ee-251">Send</span><span class="sxs-lookup"><span data-stu-id="ac0ee-251">Send</span></span>|<span data-ttu-id="ac0ee-252">-設定**名前**に*SaveMessage*</span><span class="sxs-lookup"><span data-stu-id="ac0ee-252">- Set **Name** to *SaveMessage*</span></span>|  
  
### <a name="add-ports"></a><span data-ttu-id="ac0ee-253">ポートを追加します。</span><span class="sxs-lookup"><span data-stu-id="ac0ee-253">Add Ports</span></span>  
 <span data-ttu-id="ac0ee-254">論理ポートごとに、次のプロパティを指定することを確認します。</span><span class="sxs-lookup"><span data-stu-id="ac0ee-254">Make sure you specify the following properties for each of the logical ports.</span></span> <span data-ttu-id="ac0ee-255">ポート列に示した名前は、オーケストレーションで表示されているポートの名前です。</span><span class="sxs-lookup"><span data-stu-id="ac0ee-255">The names listed in the Port column are the names of the ports as displayed in the orchestration.</span></span>  
  
|<span data-ttu-id="ac0ee-256">Port</span><span class="sxs-lookup"><span data-stu-id="ac0ee-256">Port</span></span>|<span data-ttu-id="ac0ee-257">[プロパティ]</span><span class="sxs-lookup"><span data-stu-id="ac0ee-257">Properties</span></span>|  
|----------|----------------|  
|<span data-ttu-id="ac0ee-258">SQLReceivePort</span><span class="sxs-lookup"><span data-stu-id="ac0ee-258">SQLReceivePort</span></span>|<span data-ttu-id="ac0ee-259">-設定**識別子**に*SQLReceivePort*</span><span class="sxs-lookup"><span data-stu-id="ac0ee-259">- Set **Identifier** to *SQLReceivePort*</span></span><br /><br /> <span data-ttu-id="ac0ee-260">-設定**型**に*SQLReceivePortType*</span><span class="sxs-lookup"><span data-stu-id="ac0ee-260">- Set **Type** to *SQLReceivePortType*</span></span><br /><br /> <span data-ttu-id="ac0ee-261">-設定**通信パターン**に*一方向*</span><span class="sxs-lookup"><span data-stu-id="ac0ee-261">- Set **Communication Pattern** to *One-Way*</span></span><br /><br /> <span data-ttu-id="ac0ee-262">-設定**通信方向**に*受信*</span><span class="sxs-lookup"><span data-stu-id="ac0ee-262">- Set **Communication Direction** to *Receive*</span></span>|  
|<span data-ttu-id="ac0ee-263">SaveMessagePort</span><span class="sxs-lookup"><span data-stu-id="ac0ee-263">SaveMessagePort</span></span>|<span data-ttu-id="ac0ee-264">-設定**識別子**に*SaveMessagePort*</span><span class="sxs-lookup"><span data-stu-id="ac0ee-264">- Set **Identifier** to *SaveMessagePort*</span></span><br /><br /> <span data-ttu-id="ac0ee-265">-設定**型**に*SaveMessagePortType*</span><span class="sxs-lookup"><span data-stu-id="ac0ee-265">- Set **Type** to *SaveMessagePortType*</span></span><br /><br /> <span data-ttu-id="ac0ee-266">-設定**通信パターン**に*一方向*</span><span class="sxs-lookup"><span data-stu-id="ac0ee-266">- Set **Communication Pattern** to *One-Way*</span></span><br /><br /> <span data-ttu-id="ac0ee-267">-設定**通信方向**に*送信*</span><span class="sxs-lookup"><span data-stu-id="ac0ee-267">- Set **Communication Direction** to *Send*</span></span>|  
  
### <a name="enter-messages-for-action-shapes-and-connect-to-ports"></a><span data-ttu-id="ac0ee-268">アクション図形のメッセージを入力し、ポートに接続</span><span class="sxs-lookup"><span data-stu-id="ac0ee-268">Enter Messages for Action Shapes and Connect to Ports</span></span>  
 <span data-ttu-id="ac0ee-269">次の表では、プロパティとアクション図形のメッセージを指定して、メッセージ ポートにリンクを設定する必要があります、値を指定します。</span><span class="sxs-lookup"><span data-stu-id="ac0ee-269">The following table specifies the properties and their values that you should set to specify messages for action shapes and to link the messages to the ports.</span></span> <span data-ttu-id="ac0ee-270">図形の列に示した名前は、前に説明したオーケストレーションに表示されるメッセージの構築図形の名前です。</span><span class="sxs-lookup"><span data-stu-id="ac0ee-270">The names listed in the Shape column are the names of the message shapes as displayed in the orchestration mentioned earlier.</span></span>  
  
|<span data-ttu-id="ac0ee-271">図形</span><span class="sxs-lookup"><span data-stu-id="ac0ee-271">Shape</span></span>|<span data-ttu-id="ac0ee-272">[プロパティ]</span><span class="sxs-lookup"><span data-stu-id="ac0ee-272">Properties</span></span>|  
|-----------|----------------|  
|<span data-ttu-id="ac0ee-273">ReceiveMessage</span><span class="sxs-lookup"><span data-stu-id="ac0ee-273">ReceiveMessage</span></span>|<span data-ttu-id="ac0ee-274">設定**メッセージ**に*PollingMessage*</span><span class="sxs-lookup"><span data-stu-id="ac0ee-274">Set **Message** to *PollingMessage*</span></span><br /><br /> <span data-ttu-id="ac0ee-275">設定**操作**に*SQLReceivePort.TypedPolling.Request*</span><span class="sxs-lookup"><span data-stu-id="ac0ee-275">Set **Operation** to *SQLReceivePort.TypedPolling.Request*</span></span>|  
|<span data-ttu-id="ac0ee-276">SaveMessage</span><span class="sxs-lookup"><span data-stu-id="ac0ee-276">SaveMessage</span></span>|<span data-ttu-id="ac0ee-277">設定**メッセージ**に*PollingMessage*</span><span class="sxs-lookup"><span data-stu-id="ac0ee-277">Set **Message** to *PollingMessage*</span></span><br /><br /> <span data-ttu-id="ac0ee-278">設定**操作**に*SaveMessagePort.TypedPolling.Request*</span><span class="sxs-lookup"><span data-stu-id="ac0ee-278">Set **Operation** to *SaveMessagePort.TypedPolling.Request*</span></span>|  
  
 <span data-ttu-id="ac0ee-279">これらのプロパティを指定した後は、メッセージの構築図形とポートが接続されます。</span><span class="sxs-lookup"><span data-stu-id="ac0ee-279">After you have specified these properties, the message shapes and ports are connected.</span></span>  
  
### <a name="add-a-biztalk-mapper"></a><span data-ttu-id="ac0ee-280">BizTalk マッパーを追加します。</span><span class="sxs-lookup"><span data-stu-id="ac0ee-280">Add a BizTalk Mapper</span></span>  
 <span data-ttu-id="ac0ee-281">ポーリングのメッセージ スキーマを EmployeeDetails.xsd スキーマにマップするオーケストレーションを BizTalk マッパーを追加する必要があります。</span><span class="sxs-lookup"><span data-stu-id="ac0ee-281">You must add a BizTalk Mapper to the orchestration to map the polling message schema to the EmployeeDetails.xsd schema.</span></span> <span data-ttu-id="ac0ee-282">[!INCLUDE[btsBizTalkServerNoVersion](../../includes/btsbiztalkservernoversion-md.md)]管理コンソールで、ポーリング メッセージのスキーマを EmployeeDetails.xsd スキーマにマップするこのマッパーが使用されます。</span><span class="sxs-lookup"><span data-stu-id="ac0ee-282">In the [!INCLUDE[btsBizTalkServerNoVersion](../../includes/btsbiztalkservernoversion-md.md)] Administration console, you will use this Mapper to map the schema for the polling message to the EmployeeDetails.xsd schema.</span></span>  
  

1. <span data-ttu-id="ac0ee-283">BizTalk マッパーは、BizTalk プロジェクトに追加します。</span><span class="sxs-lookup"><span data-stu-id="ac0ee-283">Add a BizTalk Mapper to the BizTalk project.</span></span> <span data-ttu-id="ac0ee-284">BizTalk プロジェクトを右クリックし、[**追加**、] をクリック**新しい項目の**します。</span><span class="sxs-lookup"><span data-stu-id="ac0ee-284">Right-click the BizTalk project, point to **Add**, and click **New Item**.</span></span>  
  
    <span data-ttu-id="ac0ee-285">**新しい項目の追加**ダイアログ ボックスで、左側のウィンドウから**マップ ファイル**します。</span><span class="sxs-lookup"><span data-stu-id="ac0ee-285">In the **Add New Item** dialog box, from the left pane, select **Map Files**.</span></span> <span data-ttu-id="ac0ee-286">右側のウィンドウから次のように選択します。**マップ**します。</span><span class="sxs-lookup"><span data-stu-id="ac0ee-286">From the right pane, select **Map**.</span></span> <span data-ttu-id="ac0ee-287">マップの名前を指定します。`MapSchema.btm`します。</span><span class="sxs-lookup"><span data-stu-id="ac0ee-287">Specify a name for the map, such as `MapSchema.btm`.</span></span> <span data-ttu-id="ac0ee-288">**[追加]** をクリックします。</span><span class="sxs-lookup"><span data-stu-id="ac0ee-288">Click **Add**.</span></span>  
  
2. <span data-ttu-id="ac0ee-289">送信元スキーマ ペインで、次のようにクリックします。**ソース スキーマを開く**します。</span><span class="sxs-lookup"><span data-stu-id="ac0ee-289">From the Source Schema pane, click **Open Source Schema**.</span></span>  
  
3. <span data-ttu-id="ac0ee-290">**BizTalk 型の選択** ダイアログ ボックスで、プロジェクト名を展開し、展開**スキーマ**、ポーリング メッセージのスキーマを選択します。</span><span class="sxs-lookup"><span data-stu-id="ac0ee-290">In the **BizTalk Type Picker** dialog box, expand the project name, expand **Schemas**, and select the schema for the polling message.</span></span> <span data-ttu-id="ac0ee-291">このトピックでは、Typed_Polling.TypedPolling_Employee を選択します。</span><span class="sxs-lookup"><span data-stu-id="ac0ee-291">For this topic, select Typed_Polling.TypedPolling_Employee.</span></span> <span data-ttu-id="ac0ee-292">**[OK]** をクリックします。</span><span class="sxs-lookup"><span data-stu-id="ac0ee-292">Click **OK**.</span></span>  
  
4. <span data-ttu-id="ac0ee-293">**送信元スキーマのルート ノード**ダイアログ ボックスで選択 TypedPolling とクリック**OK**。</span><span class="sxs-lookup"><span data-stu-id="ac0ee-293">In the **Root Node for Source Schema** dialog box, select TypedPolling and click **OK**.</span></span>  
  
5. <span data-ttu-id="ac0ee-294">送信先スキーマ ペインで、次のようにクリックします。**送信先スキーマを開く**します。</span><span class="sxs-lookup"><span data-stu-id="ac0ee-294">From the Destination Schema pane, click **Open Destination Schema**.</span></span>  
  
6. <span data-ttu-id="ac0ee-295">**BizTalk 型の選択** ダイアログ ボックスで、プロジェクト名を展開し、展開**スキーマ**EmployeeDetails のスキーマを選択します。</span><span class="sxs-lookup"><span data-stu-id="ac0ee-295">In the **BizTalk Type Picker** dialog box, expand the project name, expand **Schemas**, and select the schema for EmployeeDetails.</span></span> <span data-ttu-id="ac0ee-296">このトピックでは、Typed_Polling.EmployeeDetails を選択します。</span><span class="sxs-lookup"><span data-stu-id="ac0ee-296">For this topic, select Typed_Polling.EmployeeDetails.</span></span> <span data-ttu-id="ac0ee-297">**[OK]** をクリックします。</span><span class="sxs-lookup"><span data-stu-id="ac0ee-297">Click **OK**.</span></span>  
  
7. <span data-ttu-id="ac0ee-298">ポーリングのメッセージの送信元スキーマ、TypedPollingResultSet0 ノードとポーリング メッセージで返される要素を確認する後続のノードを展開します。</span><span class="sxs-lookup"><span data-stu-id="ac0ee-298">In the source schema of polling message, expand the TypedPollingResultSet0 node and the subsequent nodes to see the elements that are returned in the polling message.</span></span> <span data-ttu-id="ac0ee-299">送信先スキーマ ノードを展開 EmployeeDetails をスキーマ内のさまざまな要素を参照してください。</span><span class="sxs-lookup"><span data-stu-id="ac0ee-299">In the destination schema, expand the EmployeeDetails node to see the different elements in the schema.</span></span> <span data-ttu-id="ac0ee-300">このトピックでは、このような方法でスキーマを割り当てることが必要です。</span><span class="sxs-lookup"><span data-stu-id="ac0ee-300">For this topic, you must map the schemas in such a way that:</span></span>  
  
   - <span data-ttu-id="ac0ee-301">**Employee_ID**と**名前**にマップする必要があります、ソース スキーマ**Employee_Info**送信先スキーマです。</span><span class="sxs-lookup"><span data-stu-id="ac0ee-301">**Employee_ID** and **Name** in the source schema must map to **Employee_Info** in the destination schema.</span></span>  
  
   - <span data-ttu-id="ac0ee-302">**指定**と**Job_Description**にマップする必要があります、ソース スキーマ**Employee_Profile**送信先スキーマです。</span><span class="sxs-lookup"><span data-stu-id="ac0ee-302">**Designation** and **Job_Description** in the source schema must map to **Employee_Profile** in the destination schema.</span></span>  
  
   - <span data-ttu-id="ac0ee-303">**評価**と**給与**にマップする必要があります、ソース スキーマ**Employee_Performance**送信先スキーマです。</span><span class="sxs-lookup"><span data-stu-id="ac0ee-303">**Rating** and **Salary** in the source schema must map to **Employee_Performance** in the destination schema.</span></span>  
  
     <span data-ttu-id="ac0ee-304">送信元スキーマの 1 つ以上のノードを結合し、送信先スキーマの 1 つのノードにマップを使用する必要があります、**文字列連結 functoid**します。</span><span class="sxs-lookup"><span data-stu-id="ac0ee-304">To combine more than one node in source schema and map them to a single node in the destination schema, you must use the **String Concatenate functoid**.</span></span> <span data-ttu-id="ac0ee-305">詳細[!INCLUDE[ui-guidance-developers-reference](../../includes/ui-guidance-developers-reference.md)]します。</span><span class="sxs-lookup"><span data-stu-id="ac0ee-305">Details [!INCLUDE[ui-guidance-developers-reference](../../includes/ui-guidance-developers-reference.md)].</span></span>
  
8. <span data-ttu-id="ac0ee-306">文字列連結 functoid を使用します。</span><span class="sxs-lookup"><span data-stu-id="ac0ee-306">To use the String Concatenate functoid:</span></span>  
  
   1.  <span data-ttu-id="ac0ee-307">**ツールボックス**、ドラッグ、**文字列連結**functoid およびマッパー グリッドの上にドロップします。</span><span class="sxs-lookup"><span data-stu-id="ac0ee-307">From the **Toolbox**, drag the **String Concatenate** functoid and drop it on the Mapper grid.</span></span>  
  
   2.  <span data-ttu-id="ac0ee-308">接続、 **Employee_ID**と**名前**functoid への送信元スキーマ内の要素。</span><span class="sxs-lookup"><span data-stu-id="ac0ee-308">Connect the **Employee_ID** and **Name** elements in the source schema to the functoid.</span></span>  
  
   3.  <span data-ttu-id="ac0ee-309">Functoid を接続、 **Employee_Info**送信先スキーマ内の要素。</span><span class="sxs-lookup"><span data-stu-id="ac0ee-309">Connect the functoid to the **Employee_Info** element in the destination schema.</span></span>  
  
   4.  <span data-ttu-id="ac0ee-310">マップするすべての要素には、次の手順を繰り返します。</span><span class="sxs-lookup"><span data-stu-id="ac0ee-310">Repeat these steps for all the elements that you want to map.</span></span> <span data-ttu-id="ac0ee-311">完成したマップは、次のようになります。</span><span class="sxs-lookup"><span data-stu-id="ac0ee-311">A finished map will resemble the following:</span></span>  
  
        <span data-ttu-id="ac0ee-312">![厳密に型指定されたポーリング スキーマ マップ](../../adapters-and-accelerators/adapter-sql/media/0a4a2608-3b84-4bac-9a16-512cf42c7525.gif "0a4a2608-3b84-4bac-9a16-512cf42c7525")</span><span class="sxs-lookup"><span data-stu-id="ac0ee-312">![Map the strongly-typed polling schema](../../adapters-and-accelerators/adapter-sql/media/0a4a2608-3b84-4bac-9a16-512cf42c7525.gif "0a4a2608-3b84-4bac-9a16-512cf42c7525")</span></span>  
  
   5.  <span data-ttu-id="ac0ee-313">マップを保存します。</span><span class="sxs-lookup"><span data-stu-id="ac0ee-313">Save the map.</span></span>  
  
   <span data-ttu-id="ac0ee-314">マッパーに作成した後、オーケストレーションが完了しました。</span><span class="sxs-lookup"><span data-stu-id="ac0ee-314">The orchestration is complete after you create the Mapper.</span></span> <span data-ttu-id="ac0ee-315">ここで、BizTalk ソリューションをビルドしに配置する必要があります、[!INCLUDE[btsBizTalkServerNoVersion](../../includes/btsbiztalkservernoversion-md.md)]します。</span><span class="sxs-lookup"><span data-stu-id="ac0ee-315">You must now build the BizTalk solution and deploy it to a [!INCLUDE[btsBizTalkServerNoVersion](../../includes/btsbiztalkservernoversion-md.md)].</span></span> <span data-ttu-id="ac0ee-316">詳細については、次を参照してください。[を実行しているオーケストレーションのビルドと](../../core/building-and-running-orchestrations.md)します。</span><span class="sxs-lookup"><span data-stu-id="ac0ee-316">For more information, see [Building and Running Orchestrations](../../core/building-and-running-orchestrations.md).</span></span>
  
## <a name="configure-the-biztalk-application"></a><span data-ttu-id="ac0ee-317">BizTalk アプリケーションを構成します。</span><span class="sxs-lookup"><span data-stu-id="ac0ee-317">Configure the BizTalk Application</span></span>  
 <span data-ttu-id="ac0ee-318">先ほど作成したオーケストレーションが 下にある BizTalk プロジェクトを配置した後、**オーケストレーション**BizTalk Server 管理コンソール ウィンドウ。</span><span class="sxs-lookup"><span data-stu-id="ac0ee-318">After you have deployed the BizTalk project, the orchestration you created earlier is listed under the **Orchestrations** pane in the BizTalk Server Administration console.</span></span> <span data-ttu-id="ac0ee-319">BizTalk Server 管理コンソールを使用して、アプリケーションを構成する必要があります。</span><span class="sxs-lookup"><span data-stu-id="ac0ee-319">You must use the BizTalk Server Administration console to configure the application.</span></span> <span data-ttu-id="ac0ee-320">チュートリアルについては、次を参照してください。[チュートリアル。基本的な BizTalk アプリケーション展開](Walkthrough:%20Deploying%20a%20Basic%20BizTalk%20Application.md)します。</span><span class="sxs-lookup"><span data-stu-id="ac0ee-320">For a walkthrough, see [Walkthrough: Deploying a Basic BizTalk Application](Walkthrough:%20Deploying%20a%20Basic%20BizTalk%20Application.md).</span></span>
  
 <span data-ttu-id="ac0ee-321">アプリケーションを構成する必要があります。</span><span class="sxs-lookup"><span data-stu-id="ac0ee-321">Configuring an application involves:</span></span>  
  
- <span data-ttu-id="ac0ee-322">アプリケーションのホストを選択します。</span><span class="sxs-lookup"><span data-stu-id="ac0ee-322">Selecting a host for the application.</span></span>  
  
- <span data-ttu-id="ac0ee-323">BizTalk Server 管理コンソールで物理ポートにオーケストレーションで作成したポートをマッピングします。</span><span class="sxs-lookup"><span data-stu-id="ac0ee-323">Mapping the ports that you created in your orchestration to physical ports in the BizTalk Server Administration console.</span></span> <span data-ttu-id="ac0ee-324">このオーケストレーションの次の操作を行う必要があります。</span><span class="sxs-lookup"><span data-stu-id="ac0ee-324">For this orchestration you must:</span></span>  
  
  - <span data-ttu-id="ac0ee-325">WCF-SQL の一方向受信ポートまたは物理 Wcf-custom を定義します。</span><span class="sxs-lookup"><span data-stu-id="ac0ee-325">Define a physical WCF-Custom or WCF-SQL one-way receive port.</span></span> <span data-ttu-id="ac0ee-326">このポートは、ポートを指定するポーリング ステートメントを使用して SQL Server データベースをポーリングします。</span><span class="sxs-lookup"><span data-stu-id="ac0ee-326">This port polls the SQL Server database with the polling statement you specify for the port.</span></span> <span data-ttu-id="ac0ee-327">ポートを作成する方法については、次を参照してください。 [SQL アダプターを物理ポートのバインドを手動で構成](../../adapters-and-accelerators/adapter-sql/manually-configure-a-physical-port-binding-to-the-sql-adapter.md)します。</span><span class="sxs-lookup"><span data-stu-id="ac0ee-327">For information about how to create ports, see [Manually configure a physical port binding to the SQL adapter](../../adapters-and-accelerators/adapter-sql/manually-configure-a-physical-port-binding-to-the-sql-adapter.md).</span></span> <span data-ttu-id="ac0ee-328">受信ポートのバインドのプロパティを指定することを確認します。</span><span class="sxs-lookup"><span data-stu-id="ac0ee-328">Make sure you specify the following binding properties for the receive port.</span></span>  
  
    > [!IMPORTANT]
    >  <span data-ttu-id="ac0ee-329">指定するかどうかを確認、 **InboundID**接続 URI の一部として。</span><span class="sxs-lookup"><span data-stu-id="ac0ee-329">Make sure you specify the **InboundID** as part of the connection URI.</span></span> <span data-ttu-id="ac0ee-330">受信 ID は、スキーマの生成中に指定したものと同じである必要があります。</span><span class="sxs-lookup"><span data-stu-id="ac0ee-330">The inbound ID must be the same you specified while generating the schema.</span></span>  
    > 
    > [!IMPORTANT]
    >  <span data-ttu-id="ac0ee-331">デザイン時のバインドのプロパティが指定されている場合は、この手順を実行する必要はありません。</span><span class="sxs-lookup"><span data-stu-id="ac0ee-331">You do not need to perform this step if you specified the binding properties at design-time.</span></span> <span data-ttu-id="ac0ee-332">このような場合は、WCF カスタムを作成または WCF-SQL によって作成されたバインド ファイルをインポートすることによって、必要なバインドのプロパティを設定すると、ポートを受信する、[!INCLUDE[consumeadapterservshort](../../includes/consumeadapterservshort-md.md)]します。</span><span class="sxs-lookup"><span data-stu-id="ac0ee-332">In such a case, you can create a WCF-custom or WCF-SQL receive port, with the required binding properties set, by importing the binding file created by the [!INCLUDE[consumeadapterservshort](../../includes/consumeadapterservshort-md.md)].</span></span> <span data-ttu-id="ac0ee-333">詳細については、次を参照してください。 [SQL アダプターを使用するポートのバインド ファイルを使用して物理的なポート バインドを構成する](../../adapters-and-accelerators/adapter-sql/configure-a-physical-port-binding-using-a-port-binding-file-to-sql-adapter.md)します。</span><span class="sxs-lookup"><span data-stu-id="ac0ee-333">For more information see [Configure a physical port binding using a port binding file to use the SQL adapter](../../adapters-and-accelerators/adapter-sql/configure-a-physical-port-binding-using-a-port-binding-file-to-sql-adapter.md).</span></span>  
  
    |<span data-ttu-id="ac0ee-334">プロパティのバインド</span><span class="sxs-lookup"><span data-stu-id="ac0ee-334">Binding Property</span></span>|<span data-ttu-id="ac0ee-335">値</span><span class="sxs-lookup"><span data-stu-id="ac0ee-335">Value</span></span>|  
    |----------------------|-----------|  
    |<span data-ttu-id="ac0ee-336">**InboundOperationType**</span><span class="sxs-lookup"><span data-stu-id="ac0ee-336">**InboundOperationType**</span></span>|<span data-ttu-id="ac0ee-337">これを設定することを確認**TypedPolling**します。</span><span class="sxs-lookup"><span data-stu-id="ac0ee-337">Make sure you set this to **TypedPolling**.</span></span>|  
    |<span data-ttu-id="ac0ee-338">**PolledDataAvailableStatement**</span><span class="sxs-lookup"><span data-stu-id="ac0ee-338">**PolledDataAvailableStatement**</span></span>|<span data-ttu-id="ac0ee-339">これは、スキーマの生成中に指定した同じ SQL ステートメントを指定することを確認します。</span><span class="sxs-lookup"><span data-stu-id="ac0ee-339">Make sure you specify the same SQL statement you specified while generating the schema, which is:</span></span><br /><br /> `SELECT COUNT(*) FROM Employee`|  
    |<span data-ttu-id="ac0ee-340">**PollingStatement**</span><span class="sxs-lookup"><span data-stu-id="ac0ee-340">**PollingStatement**</span></span>|<span data-ttu-id="ac0ee-341">これは、スキーマの生成中に指定した同じポーリング ステートメントを指定することを確認します。</span><span class="sxs-lookup"><span data-stu-id="ac0ee-341">Make sure you provide the same polling statement you specified while generating the schema, which is:</span></span><br /><br /> `SELECT * FROM Employee;EXEC MOVE_EMP_DATA;EXEC ADD_EMP_DETAILS John, Tester, 100000`|  
  
     <span data-ttu-id="ac0ee-342">異なるバインディング プロパティの詳細については、次を参照してください。 [for SQL Server のアダプターのバインド プロパティの BizTalk アダプターについて](../../adapters-and-accelerators/adapter-sql/read-about-the-biztalk-adapter-for-sql-server-adapter-binding-properties.md)します。</span><span class="sxs-lookup"><span data-stu-id="ac0ee-342">For more information about the different binding properties, see [Read about the BizTalk Adapter for SQL Server adapter Binding Properties](../../adapters-and-accelerators/adapter-sql/read-about-the-biztalk-adapter-for-sql-server-adapter-binding-properties.md).</span></span>  
  
    > [!NOTE]
    >  <span data-ttu-id="ac0ee-343">使用して受信操作の実行中に、トランザクション分離レベルとトランザクションのタイムアウトを構成することをお勧めします。、[!INCLUDE[adaptersqlshort](../../includes/adaptersqlshort-md.md)]します。</span><span class="sxs-lookup"><span data-stu-id="ac0ee-343">We recommend configuring the transaction isolation level and the transaction timeout while performing inbound operations using the [!INCLUDE[adaptersqlshort](../../includes/adaptersqlshort-md.md)].</span></span> <span data-ttu-id="ac0ee-344">ように、サービスを追加することで、Wcf-custom または WCF SQL を構成するときに動作の受信ポートを行うことができます。</span><span class="sxs-lookup"><span data-stu-id="ac0ee-344">You can do so by adding the service behavior while configuring the WCF-Custom or WCF-SQL receive port.</span></span> <span data-ttu-id="ac0ee-345">サービスの動作を追加する方法については、次を参照してください。[トランザクション分離レベルの構成と SQL を使用したトランザクション タイムアウト](../../adapters-and-accelerators/adapter-sql/configure-transaction-isolation-level-and-transaction-timeout-with-sql.md)します。</span><span class="sxs-lookup"><span data-stu-id="ac0ee-345">For instruction on how to add the service behavior, see [Configure Transaction Isolation Level and Transaction Timeout with SQL](../../adapters-and-accelerators/adapter-sql/configure-transaction-isolation-level-and-transaction-timeout-with-sql.md).</span></span>  
  
  - <span data-ttu-id="ac0ee-346">アダプターがメッセージをドロップする場所の FILE 送信ポートを定義します。</span><span class="sxs-lookup"><span data-stu-id="ac0ee-346">Define a FILE send port where the adapter will drop the message.</span></span> <span data-ttu-id="ac0ee-347">この送信ポートは、ポーリング メッセージを EmployeeDetails.xsd スキーマに準拠したメッセージにマップするオーケストレーションで作成したマップを使用してもします。</span><span class="sxs-lookup"><span data-stu-id="ac0ee-347">This send port will also use the map you created in the orchestration to map the polling message to a message conforming to the EmployeeDetails.xsd schema.</span></span> <span data-ttu-id="ac0ee-348">マップを使用する FILE 送信ポートを構成するのには、次の手順を実行します。</span><span class="sxs-lookup"><span data-stu-id="ac0ee-348">Perform the following steps to configure the FILE send port to use the map.</span></span>  
  
    1.  <span data-ttu-id="ac0ee-349">ファイル送信ポートを作成します。</span><span class="sxs-lookup"><span data-stu-id="ac0ee-349">Create a FILE send port.</span></span>  
  
    2.  <span data-ttu-id="ac0ee-350">送信ポートのプロパティ ダイアログ ボックスの左側のウィンドウから次のようにクリックします。**送信マップ**します。</span><span class="sxs-lookup"><span data-stu-id="ac0ee-350">From the left pane of the send port properties dialog box, click **Outbound Maps**.</span></span> <span data-ttu-id="ac0ee-351">右側のペインの下のフィールドをクリックします。、**マップ**列、およびドロップダウンの選択から**MapSchema**。</span><span class="sxs-lookup"><span data-stu-id="ac0ee-351">From the right pane, click the field under the **Map** column, and from the drop-down select **MapSchema**.</span></span> <span data-ttu-id="ac0ee-352">**[OK]** をクリックします。</span><span class="sxs-lookup"><span data-stu-id="ac0ee-352">Click **OK**.</span></span>  
  
         <span data-ttu-id="ac0ee-353">![FILE 送信ポートの送信マップの構成](../../adapters-and-accelerators/adapter-sql/media/831c9aee-fd97-466f-9270-3b04dbccd9fe.gif "831c9aee-fd97-466f-9270-3b04dbccd9fe")</span><span class="sxs-lookup"><span data-stu-id="ac0ee-353">![Configure outbound map on the FILE send port](../../adapters-and-accelerators/adapter-sql/media/831c9aee-fd97-466f-9270-3b04dbccd9fe.gif "831c9aee-fd97-466f-9270-3b04dbccd9fe")</span></span>  
  
## <a name="start-the-application"></a><span data-ttu-id="ac0ee-354">アプリケーションを起動します</span><span class="sxs-lookup"><span data-stu-id="ac0ee-354">Start the Application</span></span>  
 <span data-ttu-id="ac0ee-355">SQL Server データベースからメッセージを受信する BizTalk アプリケーションを起動する必要があります。</span><span class="sxs-lookup"><span data-stu-id="ac0ee-355">You must start the BizTalk application for receiving messages from the SQL Server database.</span></span> <span data-ttu-id="ac0ee-356">BizTalk アプリケーションを開始する手順については、次を参照してください。[オーケストレーションを開始する方法](../../core/how-to-start-an-orchestration.md)します。</span><span class="sxs-lookup"><span data-stu-id="ac0ee-356">For instructions on starting a BizTalk application, see [How to Start an Orchestration](../../core/how-to-start-an-orchestration.md).</span></span>
  
 <span data-ttu-id="ac0ee-357">この段階で、ことを確認します。</span><span class="sxs-lookup"><span data-stu-id="ac0ee-357">At this stage, make sure:</span></span>  
  
-   <span data-ttu-id="ac0ee-358">Wcf-custom または WCF SQL 一方向受信ポートで、指定されたステートメントを使用して SQL Server データベースをポーリングします**PollingStatement**プロパティ、バインドが実行されています。</span><span class="sxs-lookup"><span data-stu-id="ac0ee-358">The WCF-Custom or WCF-SQL one-way receive port, which polls the SQL Server database using the statements specified for the **PollingStatement** binding property, is running.</span></span>  
  
-   <span data-ttu-id="ac0ee-359">ポーリング メッセージを EmployeeDetails スキーマにマッピングする、ファイル送信ポートが実行されています。</span><span class="sxs-lookup"><span data-stu-id="ac0ee-359">The FILE send port, which will map the polling message to the EmployeeDetails schema, is running.</span></span>  
  
-   <span data-ttu-id="ac0ee-360">操作の BizTalk オーケストレーションが実行されています。</span><span class="sxs-lookup"><span data-stu-id="ac0ee-360">The BizTalk orchestration for the operation is running.</span></span>  
  
## <a name="execute-the-operation"></a><span data-ttu-id="ac0ee-361">操作を実行します</span><span class="sxs-lookup"><span data-stu-id="ac0ee-361">Execute the Operation</span></span>  
 <span data-ttu-id="ac0ee-362">アプリケーションを実行した後、次の一連のアクションに、同じシーケンスを実行します。</span><span class="sxs-lookup"><span data-stu-id="ac0ee-362">After you run the application, the following set of actions take place, in the same sequence:</span></span>  
  
- <span data-ttu-id="ac0ee-363">アダプターの実行、 **PolledDataAvailableStatement**従業員テーブルし、テーブルがポーリングのレコードを決定します。</span><span class="sxs-lookup"><span data-stu-id="ac0ee-363">The adapter executes the **PolledDataAvailableStatement** on the Employee table and determines that the table has records for polling.</span></span>  
  
- <span data-ttu-id="ac0ee-364">アダプターは、ポーリング ステートメントを実行します。</span><span class="sxs-lookup"><span data-stu-id="ac0ee-364">The adapter executes the polling statement.</span></span> <span data-ttu-id="ac0ee-365">ポーリング ステートメントと SELECT ステートメントおよびストアド プロシージャは、アダプターは、その他の後に 1 つのすべてのステートメントを実行します。</span><span class="sxs-lookup"><span data-stu-id="ac0ee-365">Because the polling statement consists of a SELECT statement and stored procedures, the adapter will execute all the statements one after the other.</span></span>  
  
  - <span data-ttu-id="ac0ee-366">アダプターは、まず、従業員テーブル内のすべてのレコードを返す SELECT ステートメントを実行します。</span><span class="sxs-lookup"><span data-stu-id="ac0ee-366">The adapter first executes the SELECT statement that returns all the records in the Employee table.</span></span>  
  
  - <span data-ttu-id="ac0ee-367">アダプターは、EmployeeHistory テーブルに、Employee テーブルからすべてのデータを移動する MOVE_EMP_DATA ストアド プロシージャを実行します。</span><span class="sxs-lookup"><span data-stu-id="ac0ee-367">The adapter then executes the MOVE_EMP_DATA stored procedure that moves all data from the Employee table to the EmployeeHistory table.</span></span> <span data-ttu-id="ac0ee-368">このストアド プロシージャでは、任意の値は返されません。</span><span class="sxs-lookup"><span data-stu-id="ac0ee-368">This stored procedure does not return any value.</span></span>  
  
  - <span data-ttu-id="ac0ee-369">アダプターは、Employee テーブルに 1 つのレコードを追加する ADD_EMP_DETAILS ストアド プロシージャを実行します。</span><span class="sxs-lookup"><span data-stu-id="ac0ee-369">The adapter then executes the ADD_EMP_DETAILS stored procedure that adds one record to the Employee table.</span></span> <span data-ttu-id="ac0ee-370">このストアド プロシージャは、挿入されたレコードの従業員 ID を返します。</span><span class="sxs-lookup"><span data-stu-id="ac0ee-370">This stored procedure returns the Employee ID for the inserted record.</span></span>  
  
    <span data-ttu-id="ac0ee-371">ポーリング ステートメントが実行され、メッセージの受信、ポーリング メッセージは、ファイル送信ポートに送信を取得します。</span><span class="sxs-lookup"><span data-stu-id="ac0ee-371">After the polling statement is executed and the message is received, the polling message gets send to the FILE send port.</span></span> <span data-ttu-id="ac0ee-372">ここでは、送信マップ (**MapSchema**) EmployeeDetails スキーマにポーリング メッセージを送信ポートのマップで構成されているし、ファイルの場所にメッセージを削除します。</span><span class="sxs-lookup"><span data-stu-id="ac0ee-372">Here, the outbound map (**MapSchema**)configured on the send port maps the polling message to the EmployeeDetails schema and drops the message to a file location.</span></span> <span data-ttu-id="ac0ee-373">メッセージには、次のようになります。</span><span class="sxs-lookup"><span data-stu-id="ac0ee-373">The message resembles the following:</span></span>  
  
  ```  
  <?xml version="1.0" encoding="utf-8" ?>   
  <EmployeeDetails xmlns="http://Typed_Polling.EmployeeDetails">  
    <Employee_Info>10751John</Employee_Info>   
    <Employee_Profile>TesterManagesTesting</Employee_Profile>   
    <Employee_Performance>100000</EmployeePerformance>  
  </EmployeeDetails>  
  ```  
  
   <span data-ttu-id="ac0ee-374">前の応答には、従業員 ID (10751) と従業員の名前 (John) の組み合わせには Employee_Info 要素が含まれているして確認できます。</span><span class="sxs-lookup"><span data-stu-id="ac0ee-374">In the preceding response, you can notice that the Employee_Info element contains a combination of employee ID (10751) and employee name (John).</span></span> <span data-ttu-id="ac0ee-375">その他の要素には、オーケストレーションの一部として作成したマッパーでマップの組み合わせも含まれます。</span><span class="sxs-lookup"><span data-stu-id="ac0ee-375">The other elements also contain combinations as mapped in the Mapper you created as part of the orchestration.</span></span>  
  
> [!NOTE]
>  <span data-ttu-id="ac0ee-376">[!INCLUDE[adaptersqlshort](../../includes/adaptersqlshort-md.md)]ポーリングからの受信ポートを明示的に無効にするまでは引き続き、[!INCLUDE[btsBizTalkServerNoVersion](../../includes/btsbiztalkservernoversion-md.md)]管理コンソール。</span><span class="sxs-lookup"><span data-stu-id="ac0ee-376">The [!INCLUDE[adaptersqlshort](../../includes/adaptersqlshort-md.md)] will continue to poll until you explicitly disable the receive port from the [!INCLUDE[btsBizTalkServerNoVersion](../../includes/btsbiztalkservernoversion-md.md)] Administration console.</span></span>  
  
## <a name="best-practices"></a><span data-ttu-id="ac0ee-377">ベスト プラクティス</span><span class="sxs-lookup"><span data-stu-id="ac0ee-377">Best Practices</span></span>  
 <span data-ttu-id="ac0ee-378">展開し、BizTalk プロジェクトの構成後は、バインド ファイルと呼ばれる XML ファイル構成設定をエクスポートできます。</span><span class="sxs-lookup"><span data-stu-id="ac0ee-378">After you have deployed and configured the BizTalk project, you can export configuration settings to an XML file called the binding file.</span></span> <span data-ttu-id="ac0ee-379">バインド ファイルを生成した、送信ポートを作成し、同じオーケストレーション用のポートを受信する必要はありませんように構成設定、ファイルからインポートできます。</span><span class="sxs-lookup"><span data-stu-id="ac0ee-379">Once you generate a binding file, you can import the configuration settings from the file, so that you do not need to create the send ports and receive ports for the same orchestration.</span></span> <span data-ttu-id="ac0ee-380">バインド ファイルの詳細については、次を参照してください。[アダプターのバインドを再利用](../../adapters-and-accelerators/adapter-sql/reuse-sql-adapter-bindings.md)します。</span><span class="sxs-lookup"><span data-stu-id="ac0ee-380">For more information about binding files, see [Reuse adapter bindings](../../adapters-and-accelerators/adapter-sql/reuse-sql-adapter-bindings.md).</span></span>
  
## <a name="see-also"></a><span data-ttu-id="ac0ee-381">参照</span><span class="sxs-lookup"><span data-stu-id="ac0ee-381">See Also</span></span>  
 [<span data-ttu-id="ac0ee-382">BizTalk Server を SQL アダプターを使用して SQL Server をポーリング</span><span class="sxs-lookup"><span data-stu-id="ac0ee-382">Poll SQL Server by Using the SQL Adapter with BizTalk Server</span></span>](../../adapters-and-accelerators/adapter-sql/poll-sql-server-using-the-sql-adapter-with-biztalk-server.md)