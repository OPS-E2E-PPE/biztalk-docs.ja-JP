---
title: BizTalk Server を使用して SAP からの Idoc を受信 |Microsoft ドキュメント
ms.custom: ''
ms.date: 06/08/2017
ms.prod: biztalk-server
ms.reviewer: ''
ms.suite: ''
ms.tgt_pltfrm: ''
ms.topic: article
helpviewer_keywords:
- IDOCs, sample (receiving)
- IDOCs, business scenarios for receiving
- IDOCs, receiving from SAP using BizTalk Server
ms.assetid: b904bf07-1108-4ed3-8564-d83eaafff247
caps.latest.revision: 10
author: MandiOhlinger
ms.author: mandia
manager: anneta
ms.openlocfilehash: cb03368a9d046eacf31f8b7bbed5c0a7f090c3d3
ms.sourcegitcommit: 5abd0ed3f9e4858ffaaec5481bfa8878595e95f7
ms.translationtype: MT
ms.contentlocale: ja-JP
ms.lasthandoff: 11/28/2017
ms.locfileid: "25968064"
---
# <a name="receive-idocs-from-sap-using-biztalk-server"></a><span data-ttu-id="b1435-102">BizTalk Server を使用して SAP からの Idoc を受信します。</span><span class="sxs-lookup"><span data-stu-id="b1435-102">Receive IDOCs from SAP using BizTalk Server</span></span>
<span data-ttu-id="b1435-103">IDOC の受信では、 [!INCLUDE[adaptersap_short](../../includes/adaptersap-short-md.md)] SAP からの特別な RFC 呼び出しを受信する RFC サーバーとして機能します。</span><span class="sxs-lookup"><span data-stu-id="b1435-103">Receiving an IDOC involves the [!INCLUDE[adaptersap_short](../../includes/adaptersap-short-md.md)] to act as an RFC server to receive a special RFC call from SAP.</span></span> <span data-ttu-id="b1435-104">SAP アダプターは、RFC サーバーまたは tRFC サーバーとして機能する Idoc を受信できます。</span><span class="sxs-lookup"><span data-stu-id="b1435-104">The SAP adapter can receive IDOCs acting as an RFC server or a tRFC server.</span></span> <span data-ttu-id="b1435-105">TRFC サーバーとして動作して、アダプターによる IDOC の受信の詳細については、次を参照してください。[を使用して BizTalk Server でのトランザクション コンテキストでの SAP からの Idoc の受信](../../adapters-and-accelerators/adapter-sap/receive-idocs-from-sap-in-a-transactional-context-using-biztalk-server.md)です。</span><span class="sxs-lookup"><span data-stu-id="b1435-105">For more information about receiving an IDOC with the adapter behaving as a tRFC server, see [Receive IDOCs from SAP in a Transactional Context by Using BizTalk Server](../../adapters-and-accelerators/adapter-sap/receive-idocs-from-sap-in-a-transactional-context-using-biztalk-server.md).</span></span>  
  
 <span data-ttu-id="b1435-106">[!INCLUDE[adaptersap_short](../../includes/adaptersap-short-md.md)] Idoc を受信する 2 つの異なる操作を表示します。</span><span class="sxs-lookup"><span data-stu-id="b1435-106">The [!INCLUDE[adaptersap_short](../../includes/adaptersap-short-md.md)] surfaces two different operations to receive IDOCs:</span></span>  
  
-   <span data-ttu-id="b1435-107">**受信**操作を厳密に型指定されたスキーマが Idoc を受信するアダプターを有効にします。</span><span class="sxs-lookup"><span data-stu-id="b1435-107">**Receive** operation enables adapter to receive IDOCs having a strongly-typed schema.</span></span>  
  
-   <span data-ttu-id="b1435-108">**ReceiveIdoc**操作を厳密に型指定されたスキーマが Idoc を受信するアダプターを有効にします。</span><span class="sxs-lookup"><span data-stu-id="b1435-108">**ReceiveIdoc** operation enables adapter to receive IDOCs having a weakly-typed schema.</span></span> <span data-ttu-id="b1435-109">この操作は、下にある XML メッセージの文字列として Idoc を受信、 \<idocData\>タグ。</span><span class="sxs-lookup"><span data-stu-id="b1435-109">This operation receives IDOCs as a string in an XML message under the \<idocData\> tag.</span></span>  
  
 <span data-ttu-id="b1435-110">アダプター側での値を指定することができます、 **ReceiveIDocFormat**アダプターは受信 IDOC の形式を指定するプロパティをバインドします。</span><span class="sxs-lookup"><span data-stu-id="b1435-110">On the adapter side, you can specify a value for the **ReceiveIDocFormat** binding property to specify the format of IDOC the adapter would receive.</span></span>  
  
-   <span data-ttu-id="b1435-111">**型指定された**アダプターは厳密に型指定されたスキーマでの Idoc の受信を指定します。</span><span class="sxs-lookup"><span data-stu-id="b1435-111">**Typed** specifies the adapter will receive IDOCs with strongly-typed schema.</span></span> <span data-ttu-id="b1435-112">これには、XML IDOC が生成されます。</span><span class="sxs-lookup"><span data-stu-id="b1435-112">This yields an XML IDOC.</span></span>  
  
-   <span data-ttu-id="b1435-113">**文字列**弱い型指定のスキーマを持つアダプターが Idoc を受信するかを指定します。</span><span class="sxs-lookup"><span data-stu-id="b1435-113">**String** specifies the adapter will receive IDOCs with weakly-typed schema.</span></span> <span data-ttu-id="b1435-114">これは、結果の XML メッセージ、 \<idocData\>タグ。</span><span class="sxs-lookup"><span data-stu-id="b1435-114">This yields an XML message with the \<idocData\> tag.</span></span>  
  
-   <span data-ttu-id="b1435-115">**Rfc**アダプターは任意の形式での Idoc の受信を指定します。</span><span class="sxs-lookup"><span data-stu-id="b1435-115">**Rfc** specifies the adapter will receive IDOCs in any format.</span></span>  
  
 <span data-ttu-id="b1435-116">Idoc を受信するため、[!INCLUDE[adaptersap_short](../../includes/adaptersap-short-md.md)]も、オーケストレーションでアダプターのクライアントが使用できるメッセージ コンテキスト プロパティのセットをサポートします。</span><span class="sxs-lookup"><span data-stu-id="b1435-116">For receiving IDOCs, the [!INCLUDE[adaptersap_short](../../includes/adaptersap-short-md.md)] also supports a set of message context properties that adapter clients can use in the orchestrations.</span></span> <span data-ttu-id="b1435-117">プロパティの一覧で、次を参照してください。[の Idoc の受信のメッセージ コンテキスト プロパティ](../../adapters-and-accelerators/adapter-sap/message-context-properties-for-receiving-idocs.md)です。</span><span class="sxs-lookup"><span data-stu-id="b1435-117">For the list of properties, see [Message Context Properties for Receiving IDOCs](../../adapters-and-accelerators/adapter-sap/message-context-properties-for-receiving-idocs.md).</span></span>  
  
 <span data-ttu-id="b1435-118">方法の詳細については[!INCLUDE[adaptersap_short](../../includes/adaptersap-short-md.md)]、SAP システムからの Idoc の受信をサポートを参照してください[sap Idoc に対する操作](../../adapters-and-accelerators/adapter-sap/operations-on-idocs-in-sap.md)です。</span><span class="sxs-lookup"><span data-stu-id="b1435-118">For more information about how the [!INCLUDE[adaptersap_short](../../includes/adaptersap-short-md.md)] supports receiving IDOCs from an SAP system, see [Operations on IDOCs in SAP](../../adapters-and-accelerators/adapter-sap/operations-on-idocs-in-sap.md).</span></span> <span data-ttu-id="b1435-119">SOAP の構造の詳細については、IDOC を受信するメッセージを参照してください[IDOC 操作のメッセージ スキーマを](../../adapters-and-accelerators/adapter-sap/message-schemas-for-idoc-operations.md)です。</span><span class="sxs-lookup"><span data-stu-id="b1435-119">For more information about the structure of SOAP messages for receiving an IDOC, see [Message Schemas for IDOC Operations](../../adapters-and-accelerators/adapter-sap/message-schemas-for-idoc-operations.md).</span></span>  
  
## <a name="biztalk-scenarios-for-receiving-idocs-from-an-sap-system"></a><span data-ttu-id="b1435-120">SAP システムから Idoc を受信するための BizTalk シナリオ</span><span class="sxs-lookup"><span data-stu-id="b1435-120">BizTalk Scenarios for Receiving IDOCs from an SAP System</span></span>  
 <span data-ttu-id="b1435-121">次の表は、SAP システムから Idoc を受信するため、BizTalk、主要なシナリオを示します。</span><span class="sxs-lookup"><span data-stu-id="b1435-121">The following table provides key BizTalk scenarios for receiving IDOCs from an SAP system:</span></span>  
  
|<span data-ttu-id="b1435-122">SAP からアダプターへの入力</span><span class="sxs-lookup"><span data-stu-id="b1435-122">Input to Adapter from SAP</span></span>|<span data-ttu-id="b1435-123">BizTalk 処理</span><span class="sxs-lookup"><span data-stu-id="b1435-123">BizTalk Processing</span></span>|<span data-ttu-id="b1435-124">出力</span><span class="sxs-lookup"><span data-stu-id="b1435-124">Output</span></span>|  
|-------------------------------|------------------------|------------|  
|<span data-ttu-id="b1435-125">(TRFC インターフェイス) を使用して IDOC</span><span class="sxs-lookup"><span data-stu-id="b1435-125">IDOC (via tRFC interface)</span></span>|<span data-ttu-id="b1435-126">**メタデータ デザイン時**</span><span class="sxs-lookup"><span data-stu-id="b1435-126">**Metadata Design Time**</span></span><br /><br /> <span data-ttu-id="b1435-127">1.GenerateFlatFileCompatibleIdocSchema binding プロパティを設定する**True**です。</span><span class="sxs-lookup"><span data-stu-id="b1435-127">1.  Set the binding property GenerateFlatFileCompatibleIdocSchema to **True**.</span></span><br /><span data-ttu-id="b1435-128">2.スキーマを生成、**受信**特定 IDOC を使用して、操作[!INCLUDE[consumeadapterservshort](../../includes/consumeadapterservshort-md.md)]です。</span><span class="sxs-lookup"><span data-stu-id="b1435-128">2.  Generate the schema for the **Receive** operation for a specific IDOC using [!INCLUDE[consumeadapterservshort](../../includes/consumeadapterservshort-md.md)].</span></span><br /><span data-ttu-id="b1435-129">3.ReceiveIdocFormat binding プロパティを設定する**型指定された**です。</span><span class="sxs-lookup"><span data-stu-id="b1435-129">3.  Set the binding property ReceiveIdocFormat to **Typed**.</span></span><br /><br /> <span data-ttu-id="b1435-130">**オーケストレーションのデザイン時**</span><span class="sxs-lookup"><span data-stu-id="b1435-130">**Orchestration Design Time**</span></span><br /><br /> <span data-ttu-id="b1435-131">1.XML の IDOC を受信します。</span><span class="sxs-lookup"><span data-stu-id="b1435-131">1.  Receive XML IDOC.</span></span><br /><span data-ttu-id="b1435-132">2.フラット ファイル アセンブラーを使用して、フラット ファイルを XML IDOC に変換します。</span><span class="sxs-lookup"><span data-stu-id="b1435-132">2.  Use flat-file assembler to convert XML IDOC to flat-file.</span></span>|<span data-ttu-id="b1435-133">フラット ファイル IDOC</span><span class="sxs-lookup"><span data-stu-id="b1435-133">Flat-file IDOC</span></span>|  
|<span data-ttu-id="b1435-134">(TRFC インターフェイス) を使用して IDOC</span><span class="sxs-lookup"><span data-stu-id="b1435-134">IDOC (via tRFC interface)</span></span>|<span data-ttu-id="b1435-135">**メタデータ デザイン時**</span><span class="sxs-lookup"><span data-stu-id="b1435-135">**Metadata Design Time**</span></span><br /><br /> <span data-ttu-id="b1435-136">1.GenerateFlatFileCompatibleIdocSchema binding プロパティを設定する**True**です。</span><span class="sxs-lookup"><span data-stu-id="b1435-136">1.  Set the binding property GenerateFlatFileCompatibleIdocSchema to **True**.</span></span><br /><span data-ttu-id="b1435-137">2.スキーマを生成、**受信**特定 IDOC を使用して、操作[!INCLUDE[consumeadapterservshort](../../includes/consumeadapterservshort-md.md)]です。</span><span class="sxs-lookup"><span data-stu-id="b1435-137">2.  Generate the schema for the **Receive** operation for a specific IDOC using [!INCLUDE[consumeadapterservshort](../../includes/consumeadapterservshort-md.md)].</span></span><br /><span data-ttu-id="b1435-138">3.ReceiveIdocFormat binding プロパティを設定する**型指定された**です。</span><span class="sxs-lookup"><span data-stu-id="b1435-138">3.  Set the binding property ReceiveIdocFormat to **Typed**.</span></span><br /><br /> <span data-ttu-id="b1435-139">**オーケストレーションのデザイン時**</span><span class="sxs-lookup"><span data-stu-id="b1435-139">**Orchestration Design-Time**</span></span><br /><br /> <span data-ttu-id="b1435-140">-XML IDOC を受信します。</span><span class="sxs-lookup"><span data-stu-id="b1435-140">- Receive XML IDOC.</span></span>|<span data-ttu-id="b1435-141">XML の IDOC</span><span class="sxs-lookup"><span data-stu-id="b1435-141">XML IDOC</span></span>|  
|<span data-ttu-id="b1435-142">(TRFC インターフェイス) を使用して IDOC</span><span class="sxs-lookup"><span data-stu-id="b1435-142">IDOC (via tRFC interface)</span></span>|<span data-ttu-id="b1435-143">**メタデータ デザイン時**</span><span class="sxs-lookup"><span data-stu-id="b1435-143">**Metadata Design Time**</span></span><br /><br /> <span data-ttu-id="b1435-144">1.GenerateFlatFileCompatibleIdocSchema binding プロパティを設定する**True**です。</span><span class="sxs-lookup"><span data-stu-id="b1435-144">1.  Set the binding property GenerateFlatFileCompatibleIdocSchema to **True**.</span></span><br /><span data-ttu-id="b1435-145">2.スキーマを生成、**受信**特定 IDOC を使用して、操作[!INCLUDE[consumeadapterservshort](../../includes/consumeadapterservshort-md.md)]です。</span><span class="sxs-lookup"><span data-stu-id="b1435-145">2.  Generate the schema for the **Receive** operation for a specific IDOC using [!INCLUDE[consumeadapterservshort](../../includes/consumeadapterservshort-md.md)].</span></span><br /><span data-ttu-id="b1435-146">3.ReceiveIdocFormat binding プロパティを設定する**文字列**です。</span><span class="sxs-lookup"><span data-stu-id="b1435-146">3.  Set the binding property ReceiveIdocFormat to **String**.</span></span><br /><br /> <span data-ttu-id="b1435-147">**オーケストレーションのデザイン時**</span><span class="sxs-lookup"><span data-stu-id="b1435-147">**Orchestration Design Time**</span></span><br /><br /> <span data-ttu-id="b1435-148">1.フラット ファイル IDOC でのメッセージが XML \<idocData\>タグ。</span><span class="sxs-lookup"><span data-stu-id="b1435-148">1.  Receive XML message with flat-file IDOC in \<idocData\> tag.</span></span><br /><span data-ttu-id="b1435-149">2.受信ポートの構成で、WCF アダプターの XPath のサポートを使用して、XML メッセージからフラット ファイル IDoc を抽出します。</span><span class="sxs-lookup"><span data-stu-id="b1435-149">2.  Use the WCF adapter’s XPath support in the receive port configuration to extract the flat-file IDoc from the XML message.</span></span> <span data-ttu-id="b1435-150">例:</span><span class="sxs-lookup"><span data-stu-id="b1435-150">For example:</span></span><br />     `/*[local-name()='ReceiveIdoc']/*[local-name()='idocData']`<br /><span data-ttu-id="b1435-151">3.フラット ファイル逆アセンブラーを使用して、フラット ファイル IDOC を XML IDOC に変換します。</span><span class="sxs-lookup"><span data-stu-id="b1435-151">3.  Use flat-file disassembler to convert flat-file IDOC to XML IDOC.</span></span><br /><br /> <span data-ttu-id="b1435-152">**重要な**、new を使用して Idoc を受信するこの方法を使用できる WCF ベース[!INCLUDE[adaptersap_short](../../includes/adaptersap-short-md.md)]し、直接、既存の BizTalk SAP アダプターからの Idoc を受信するために記述された既存の BizTalk プロジェクトに適用します。</span><span class="sxs-lookup"><span data-stu-id="b1435-152">**Important** This approach can be used to receive IDOCs using the new WCF-based [!INCLUDE[adaptersap_short](../../includes/adaptersap-short-md.md)] and directly apply them in an existing BizTalk project written to receive IDOCs from the existing BizTalk SAP adapter.</span></span> <span data-ttu-id="b1435-153">これもリリース番号 (SYSREL) よりも小さいバージョン番号で Idoc を受信する方法をお勧めします。</span><span class="sxs-lookup"><span data-stu-id="b1435-153">This is also the recommended approach to receive IDOCs with version number less than the release number (SYSREL).</span></span>|<span data-ttu-id="b1435-154">XML の IDOC</span><span class="sxs-lookup"><span data-stu-id="b1435-154">XML IDOC</span></span>|  
|<span data-ttu-id="b1435-155">(TRFC インターフェイス) を使用して IDOC</span><span class="sxs-lookup"><span data-stu-id="b1435-155">IDOC (via tRFC interface)</span></span>|<span data-ttu-id="b1435-156">**メタデータ デザイン時**</span><span class="sxs-lookup"><span data-stu-id="b1435-156">**Metadata Design Time**</span></span><br /><br /> <span data-ttu-id="b1435-157">1.スキーマを生成、 **ReceiveIdoc** 、IDOC を使用してノードから操作[!INCLUDE[consumeadapterservshort](../../includes/consumeadapterservshort-md.md)]です。</span><span class="sxs-lookup"><span data-stu-id="b1435-157">1.  Generate the schema for the **ReceiveIdoc** operation from the IDOC node using [!INCLUDE[consumeadapterservshort](../../includes/consumeadapterservshort-md.md)].</span></span><br /><span data-ttu-id="b1435-158">2.ReceiveIdocFormat binding プロパティを設定する**文字列**です。</span><span class="sxs-lookup"><span data-stu-id="b1435-158">2.  Set the binding property ReceiveIdocFormat to **String**.</span></span><br /><br /> <span data-ttu-id="b1435-159">**オーケストレーションのデザイン時**</span><span class="sxs-lookup"><span data-stu-id="b1435-159">**Orchestration Design Time**</span></span><br /><br /> <span data-ttu-id="b1435-160">受信 XML メッセージの文字列として表される IDOC と、 \<idocData\>タグ。</span><span class="sxs-lookup"><span data-stu-id="b1435-160">- Receive XML message with the IDOC represented as a string in the \<idocData\> tag.</span></span>|<span data-ttu-id="b1435-161">XML メッセージのフラット ファイル IDOC</span><span class="sxs-lookup"><span data-stu-id="b1435-161">Flat-file IDOC in XML message</span></span>|  
  
## <a name="how-to-receive-an-idoc-from-an-sap-system"></a><span data-ttu-id="b1435-162">SAP システムから IDOC を受信する方法は?</span><span class="sxs-lookup"><span data-stu-id="b1435-162">How to Receive an IDOC from an SAP System?</span></span>  
 <span data-ttu-id="b1435-163">SAP システムを使用して、操作を実行[!INCLUDE[btsBizTalkServerNoVersion](../../includes/btsbiztalkservernoversion-md.md)]で説明した手順のタスクでは、 [SAP アプリケーションを作成するビルド ブロック](../../adapters-and-accelerators/adapter-sap/building-blocks-to-create-sap-applications.md)です。</span><span class="sxs-lookup"><span data-stu-id="b1435-163">Performing an operation on an SAP system using [!INCLUDE[btsBizTalkServerNoVersion](../../includes/btsbiztalkservernoversion-md.md)] involves procedural tasks described in [Building blocks to create SAP applications](../../adapters-and-accelerators/adapter-sap/building-blocks-to-create-sap-applications.md).</span></span> <span data-ttu-id="b1435-164">これらのタスクは、SAP システムから IDOC を受信するには。</span><span class="sxs-lookup"><span data-stu-id="b1435-164">To receive an IDOC from an SAP system, these tasks are:</span></span>  
  
1.  <span data-ttu-id="b1435-165">BizTalk プロジェクトを作成し、IDOC が SAP システムで、呼び出し先のスキーマを生成します。</span><span class="sxs-lookup"><span data-stu-id="b1435-165">Create a BizTalk project and generate schema for the IDOC you want to invoke in the SAP system.</span></span> <span data-ttu-id="b1435-166">スキーマの生成中を確認してください、必要なバインドのプロパティを設定する前の表に一覧表示します。</span><span class="sxs-lookup"><span data-stu-id="b1435-166">While generating the schema make sure you set the required binding properties, as listed in the previous table.</span></span> <span data-ttu-id="b1435-167">バインドのプロパティを設定する方法の手順については、次を参照してください。 [SAP アダプターのバインドのプロパティを構成する](../../adapters-and-accelerators/adapter-sap/configure-the-binding-properties-for-the-sap-adapter.md)です。</span><span class="sxs-lookup"><span data-stu-id="b1435-167">For instructions on how to set the binding properties, see [Configure the binding properties for the SAP adapter](../../adapters-and-accelerators/adapter-sap/configure-the-binding-properties-for-the-sap-adapter.md).</span></span>  
  
2.  <span data-ttu-id="b1435-168">SAP システムからメッセージを送受信するための BizTalk プロジェクトでメッセージを作成します。</span><span class="sxs-lookup"><span data-stu-id="b1435-168">Create messages in the BizTalk project for sending and receiving messages from the SAP system.</span></span>  
  
3.  <span data-ttu-id="b1435-169">SAP システムから IDOC を受信するオーケストレーションを作成します。</span><span class="sxs-lookup"><span data-stu-id="b1435-169">Create an orchestration to receive an IDOC from an SAP system.</span></span>  
  
4.  <span data-ttu-id="b1435-170">構築し、BizTalk プロジェクトを展開します。</span><span class="sxs-lookup"><span data-stu-id="b1435-170">Build and deploy the BizTalk project.</span></span>  
  
5.  <span data-ttu-id="b1435-171">BizTalk アプリケーションを作成する物理送信ポートと受信ポートを構成します。</span><span class="sxs-lookup"><span data-stu-id="b1435-171">Configure the BizTalk application by creating physical send and receive ports.</span></span>  
  
6.  <span data-ttu-id="b1435-172">BizTalk アプリケーションを起動します。</span><span class="sxs-lookup"><span data-stu-id="b1435-172">Start the BizTalk application.</span></span>  
  
 <span data-ttu-id="b1435-173">このトピックでは、これらのタスクを実行する手順を説明します。</span><span class="sxs-lookup"><span data-stu-id="b1435-173">This topic provides instructions to perform these tasks.</span></span>  
  
## <a name="samples-based-on-this-topic"></a><span data-ttu-id="b1435-174">このトピックの内容に基づくサンプル</span><span class="sxs-lookup"><span data-stu-id="b1435-174">Samples Based On This Topic</span></span>  
 <span data-ttu-id="b1435-175">サンプル、ReceiveIDOC および ReceiveIDOC_SYSREL、このトピックの内容に基づくも付属しています、[!INCLUDE[adapterpacknoversion](../../includes/adapterpacknoversion-md.md)]です。</span><span class="sxs-lookup"><span data-stu-id="b1435-175">Samples, ReceiveIDOC and ReceiveIDOC_SYSREL, based on this topic are also provided with the [!INCLUDE[adapterpacknoversion](../../includes/adapterpacknoversion-md.md)].</span></span> <span data-ttu-id="b1435-176">詳細については、次を参照してください。 [SAP アダプターのサンプル](../../adapters-and-accelerators/adapter-sap/samples-for-the-sap-adapter.md)です。</span><span class="sxs-lookup"><span data-stu-id="b1435-176">For more information, see [Samples for the SAP adapter](../../adapters-and-accelerators/adapter-sap/samples-for-the-sap-adapter.md).</span></span>  
  
## <a name="generating-schema"></a><span data-ttu-id="b1435-177">スキーマを生成します。</span><span class="sxs-lookup"><span data-stu-id="b1435-177">Generating Schema</span></span>  
 <span data-ttu-id="b1435-178">スキーマを生成する必要があります、*受信*の操作、 *ORDERS03 です。V3.620* IDOC、 */IDOC/ORDERS/ORDERS03*ノード。</span><span class="sxs-lookup"><span data-stu-id="b1435-178">You must generate schema for the *Receive* operation of the *ORDERS03.V3.620* IDOC under the */IDOC/ORDERS/ORDERS03* node.</span></span> <span data-ttu-id="b1435-179">参照してください[参照、検索と get メタデータの SAP IDOC 操作](../../adapters-and-accelerators/adapter-sap/browse-search-and-get-metadata-for-idoc-operations-in-sap.md)手順については、特定の IDOC のスキーマを生成する方法です。</span><span class="sxs-lookup"><span data-stu-id="b1435-179">See [Browse, search and get Metadata for IDOC Operations in SAP](../../adapters-and-accelerators/adapter-sap/browse-search-and-get-metadata-for-idoc-operations-in-sap.md) for instructions on how to generate schema for a particular IDOC.</span></span> <span data-ttu-id="b1435-180">スキーマを生成するときにも、次のプロパティを設定する可能性があります。</span><span class="sxs-lookup"><span data-stu-id="b1435-180">While generating the schema, you might want to set the following properties as well:</span></span>  
  
-   <span data-ttu-id="b1435-181">*GenerateFlatFileCompatibleIDoc* – 生成\<appinfo\>タグで、BizTalk フラット ファイル パーサーは、フラット ファイル Idoc をサポートするために BizTalk のシナリオで使用できるようにします。</span><span class="sxs-lookup"><span data-stu-id="b1435-181">*GenerateFlatFileCompatibleIDoc* –Generates \<appinfo\> tags so that the BizTalk flat-file parser can be used in BizTalk scenarios to support flat-file IDOCs.</span></span>  
  
-   <span data-ttu-id="b1435-182">*FlatFileSegmentIndicator* – を示す場合、IDOC スキーマ\<appinfo\>タグは、セグメントの定義名またはセグメントの型名を含める必要があります。</span><span class="sxs-lookup"><span data-stu-id="b1435-182">*FlatFileSegmentIndicator* – Indicates if the IDOC schema \<appinfo\> tags should contain segment definition names or segment type names.</span></span> <span data-ttu-id="b1435-183">これは、ときに/SAP からのフラット ファイル IDOC の送信/受信するのに使用されると適用されます。</span><span class="sxs-lookup"><span data-stu-id="b1435-183">This is applicable when a used wishes to send/receive a flat-file IDOC to/from SAP.</span></span> <span data-ttu-id="b1435-184">場合、 *GenerateFlatFileCompatibleIDoc*が false に設定し、 *FlatFileSegmentIndicator*バインディング プロパティは無視されます。</span><span class="sxs-lookup"><span data-stu-id="b1435-184">If the *GenerateFlatFileCompatibleIDoc* is set to false, then *FlatFileSegmentIndicator* binding property is ignored.</span></span>  
  
> [!IMPORTANT]
>  <span data-ttu-id="b1435-185">着信 IDOC のスキーマを生成するためには、選択を確認してください**サービス (入力方向の操作)** から、**選択コントラクト型**ドロップダウン リストで、[!INCLUDE[consumeadapterservlong](../../includes/consumeadapterservlong-md.md)]です。</span><span class="sxs-lookup"><span data-stu-id="b1435-185">Because you are generating the schema for an inbound IDOC call, make sure you select **Service (Inbound operation)** from the **Select contract type** drop-down list in the [!INCLUDE[consumeadapterservlong](../../includes/consumeadapterservlong-md.md)].</span></span>  
  
## <a name="defining-messages-and-message-types"></a><span data-ttu-id="b1435-186">メッセージとメッセージの種類を定義します。</span><span class="sxs-lookup"><span data-stu-id="b1435-186">Defining Messages and Message Types</span></span>  
 <span data-ttu-id="b1435-187">以前に生成したスキーマには、オーケストレーション内のメッセージに対して必要な「種類」がについて説明します。</span><span class="sxs-lookup"><span data-stu-id="b1435-187">The schema that you generated earlier describes the "types" required for the messages in the orchestration.</span></span> <span data-ttu-id="b1435-188">メッセージは、通常、対象の型が、対応するスキーマで定義されている、変数です。</span><span class="sxs-lookup"><span data-stu-id="b1435-188">A message is typically a variable, the type for which is defined by the corresponding schema.</span></span> <span data-ttu-id="b1435-189">BizTalk プロジェクトのオーケストレーションの種類からのメッセージに最初の手順で生成したスキーマをリンクする必要があります。</span><span class="sxs-lookup"><span data-stu-id="b1435-189">You must link the schema you generated in the first step to the messages from the Orchestration view of the BizTalk project.</span></span>  
  
 <span data-ttu-id="b1435-190">このトピックでは、2 つのメッセージを作成する必要があります: SAP システムとは、応答を送信する IDOC を受信します。</span><span class="sxs-lookup"><span data-stu-id="b1435-190">For this topic, you must create two messages—one to receive an IDOC from the SAP system and the other to send a response.</span></span>  
  
 <span data-ttu-id="b1435-191">メッセージを作成し、スキーマにそれらをリンクするには、次の手順を実行します。</span><span class="sxs-lookup"><span data-stu-id="b1435-191">Perform the following steps to create messages and link them to the schema:</span></span>  
  
#### <a name="to-create-messages-and-link-to-schema"></a><span data-ttu-id="b1435-192">メッセージを作成し、スキーマにリンクするには</span><span class="sxs-lookup"><span data-stu-id="b1435-192">To create messages and link to schema</span></span>  
  
1.  <span data-ttu-id="b1435-193">新しいオーケストレーションを BizTalk プロジェクトに追加します。</span><span class="sxs-lookup"><span data-stu-id="b1435-193">Add a new orchestration to the BizTalk project.</span></span>  
  
2.  <span data-ttu-id="b1435-194">オーケストレーションの種類、BizTalk プロジェクトを開くまだ開いていない場合。</span><span class="sxs-lookup"><span data-stu-id="b1435-194">Open the orchestration view the BizTalk project, if not already open.</span></span> <span data-ttu-id="b1435-195">をクリックして**ビュー**、 をポイント**その他のウィンドウ**、 をクリック**オーケストレーション**です。</span><span class="sxs-lookup"><span data-stu-id="b1435-195">Click **View**, point to **Other Windows**, and click **Orchestration View**.</span></span>  
  
3.  <span data-ttu-id="b1435-196">**オーケストレーション ビュー**を右クリックして**メッセージ**、クリックして**新しいメッセージ**です。</span><span class="sxs-lookup"><span data-stu-id="b1435-196">In the **Orchestration View**, right-click **Messages**, and then click **New Message**.</span></span>  
  
4.  <span data-ttu-id="b1435-197">右クリックし、新規メッセージを作成および選択**プロパティ ウィンドウ**します。</span><span class="sxs-lookup"><span data-stu-id="b1435-197">Right-click the newly create message and select **Properties Window**.</span></span>  
  
5.  <span data-ttu-id="b1435-198">**プロパティ**ウィンドウ**Message_1**を次の操作します。</span><span class="sxs-lookup"><span data-stu-id="b1435-198">In the **Properties** pane for **Message_1**, do the following:</span></span>  
  
    |<span data-ttu-id="b1435-199">プロパティ</span><span class="sxs-lookup"><span data-stu-id="b1435-199">Use this</span></span>|<span data-ttu-id="b1435-200">目的</span><span class="sxs-lookup"><span data-stu-id="b1435-200">To do this</span></span>|  
    |--------------|----------------|  
    |<span data-ttu-id="b1435-201">[Identifier]</span><span class="sxs-lookup"><span data-stu-id="b1435-201">Identifier</span></span>|<span data-ttu-id="b1435-202">型**要求**です。</span><span class="sxs-lookup"><span data-stu-id="b1435-202">Type **Request**.</span></span>|  
    |<span data-ttu-id="b1435-203">メッセージの種類</span><span class="sxs-lookup"><span data-stu-id="b1435-203">Message Type</span></span>|<span data-ttu-id="b1435-204">ドロップダウン リストから、展開**スキーマ**を選択して*ReceiveIDOC.SAPBindingSchema2*ここで、 *ReceiveIDOC* BizTalk プロジェクトの名前を指定します。</span><span class="sxs-lookup"><span data-stu-id="b1435-204">From the drop-down list, expand **Schemas**, and select *ReceiveIDOC.SAPBindingSchema2*, where *ReceiveIDOC* is the name of your BizTalk project.</span></span> <span data-ttu-id="b1435-205">*SAPBindingSchema2*受信操作に対して生成されるスキーマです。</span><span class="sxs-lookup"><span data-stu-id="b1435-205">*SAPBindingSchema2* is the schema generated for the Receive operation.</span></span>|  
  
6.  <span data-ttu-id="b1435-206">新しいメッセージを作成する 2 の手順を繰り返します。</span><span class="sxs-lookup"><span data-stu-id="b1435-206">Repeat step 2 to create a new message.</span></span> <span data-ttu-id="b1435-207">**プロパティ**新しいメッセージ ウィンドウ、次の操作します。</span><span class="sxs-lookup"><span data-stu-id="b1435-207">In the **Properties** pane for the new message, do the following:</span></span>  
  
    |<span data-ttu-id="b1435-208">プロパティ</span><span class="sxs-lookup"><span data-stu-id="b1435-208">Use this</span></span>|<span data-ttu-id="b1435-209">目的</span><span class="sxs-lookup"><span data-stu-id="b1435-209">To do this</span></span>|  
    |--------------|----------------|  
    |<span data-ttu-id="b1435-210">[Identifier]</span><span class="sxs-lookup"><span data-stu-id="b1435-210">Identifier</span></span>|<span data-ttu-id="b1435-211">型**応答**です。</span><span class="sxs-lookup"><span data-stu-id="b1435-211">Type **Response**.</span></span>|  
    |<span data-ttu-id="b1435-212">メッセージの種類</span><span class="sxs-lookup"><span data-stu-id="b1435-212">Message Type</span></span>|<span data-ttu-id="b1435-213">ドロップダウン リストから、展開**スキーマ**を選択して*ReceiveIDOC.SAPBindingSchema3*です。</span><span class="sxs-lookup"><span data-stu-id="b1435-213">From the drop-down list, expand **Schemas**, and select *ReceiveIDOC.SAPBindingSchema3*.</span></span>|  
  
## <a name="setting-up-the-orchestration"></a><span data-ttu-id="b1435-214">オーケストレーションを設定します。</span><span class="sxs-lookup"><span data-stu-id="b1435-214">Setting up the Orchestration</span></span>  
 <span data-ttu-id="b1435-215">使用する BizTalk オーケストレーションを作成する必要があります[!INCLUDE[btsBizTalkServerNoVersion](../../includes/btsbiztalkservernoversion-md.md)]SAP システムから Idoc を受信するためです。</span><span class="sxs-lookup"><span data-stu-id="b1435-215">You must create a BizTalk orchestration to use [!INCLUDE[btsBizTalkServerNoVersion](../../includes/btsbiztalkservernoversion-md.md)] for receiving IDOCs from the SAP system.</span></span> <span data-ttu-id="b1435-216">一般的なシナリオで、 [!INCLUDE[adaptersap_short](../../includes/adaptersap-short-md.md)] SAP システムから IDOC 呼び出しを受信が要求を処理し、SAP システムへの応答を渡します。</span><span class="sxs-lookup"><span data-stu-id="b1435-216">In a typical scenario, the [!INCLUDE[adaptersap_short](../../includes/adaptersap-short-md.md)] receives an IDOC call from the SAP system, processes the request, and passes the response to the SAP system.</span></span> <span data-ttu-id="b1435-217">これを実現するオーケストレーションの一部として、オーケストレーションを含める必要があります。</span><span class="sxs-lookup"><span data-stu-id="b1435-217">To achieve this as part of an orchestration, the orchestration must contain:</span></span>  
  
-   <span data-ttu-id="b1435-218">双方向の受信ポートを SAP システムから Idoc を受信し、応答を送信します。</span><span class="sxs-lookup"><span data-stu-id="b1435-218">A two-way receive port to receive IDOCs from the SAP system and send the response.</span></span>  
  
-   <span data-ttu-id="b1435-219">送信図形と受信図形。</span><span class="sxs-lookup"><span data-stu-id="b1435-219">Send and Receive shapes.</span></span>  
  
-   <span data-ttu-id="b1435-220">メッセージの構築図形、およびそのメッセージの割り当て図形、SAP システムに送信される応答を生成します。</span><span class="sxs-lookup"><span data-stu-id="b1435-220">Construct Message shape, and within that a Message Assignment shape, to generate a response to be sent to the SAP system.</span></span>  
  
    > [!NOTE]
    >  <span data-ttu-id="b1435-221">オーケストレーションが含まれている場合は、双方向受信ポート (要求-応答)、SAP システムから Idoc を受信するため、オーケストレーションは、SAP システムへの応答を送信する必要があります。</span><span class="sxs-lookup"><span data-stu-id="b1435-221">If the orchestration includes a two-way receive port (request-response) to receive IDOCs from the SAP system, the orchestration must send a response back to the SAP system.</span></span> <span data-ttu-id="b1435-222">それ以外の場合は、SAP システムは、[次へ] の IDOC を送信しません。</span><span class="sxs-lookup"><span data-stu-id="b1435-222">If not, the SAP system does not send the next IDOC.</span></span> <span data-ttu-id="b1435-223">ただし場合は、一方向の受信ポート、オーケストレーションが SAP システムへの応答を送信する必要はありません。</span><span class="sxs-lookup"><span data-stu-id="b1435-223">However, if a one-way receive port, the orchestration does not have to send a response to the SAP system.</span></span>  
  
-   <span data-ttu-id="b1435-224">フォルダーに SAP システムから受信した Idoc を送信する一方向の送信ポート。</span><span class="sxs-lookup"><span data-stu-id="b1435-224">A one-way send port to send the IDOCs received from the SAP system to a folder.</span></span>  
  
 <span data-ttu-id="b1435-225">SAP システムから IDOC を受信するためのサンプル オーケストレーションは、ようになります。</span><span class="sxs-lookup"><span data-stu-id="b1435-225">A sample orchestration for receiving an IDOC from an SAP system looks like:</span></span>  
  
 <span data-ttu-id="b1435-226">![Idoc を受信するオーケストレーション](../../adapters-and-accelerators/adapter-sap/media/20d4f251-2474-4fd5-becd-2915f9efa81b.gif "20d4f251-2474-4fd5-becd-2915f9efa81b")</span><span class="sxs-lookup"><span data-stu-id="b1435-226">![Orchestration to receive IDOCs](../../adapters-and-accelerators/adapter-sap/media/20d4f251-2474-4fd5-becd-2915f9efa81b.gif "20d4f251-2474-4fd5-becd-2915f9efa81b")</span></span>  
  
### <a name="adding-message-shapes"></a><span data-ttu-id="b1435-227">メッセージの構築図形を追加します。</span><span class="sxs-lookup"><span data-stu-id="b1435-227">Adding Message Shapes</span></span>  
 <span data-ttu-id="b1435-228">メッセージの構築図形のごとに、次のプロパティを指定することを確認してください。</span><span class="sxs-lookup"><span data-stu-id="b1435-228">Make sure you specify the following properties for each of the message shapes.</span></span> <span data-ttu-id="b1435-229">示されている名前、*図形*列が上記のオーケストレーションで表示される、メッセージの構築図形の名前を示します。</span><span class="sxs-lookup"><span data-stu-id="b1435-229">The names listed in the *Shape* column are the names of the message shapes as displayed in the orchestration above.</span></span>  
  
|<span data-ttu-id="b1435-230">図形</span><span class="sxs-lookup"><span data-stu-id="b1435-230">Shape</span></span>|<span data-ttu-id="b1435-231">図形の種類</span><span class="sxs-lookup"><span data-stu-id="b1435-231">Shape Type</span></span>|<span data-ttu-id="b1435-232">[プロパティ]</span><span class="sxs-lookup"><span data-stu-id="b1435-232">Properties</span></span>|  
|-----------|----------------|----------------|  
|<span data-ttu-id="b1435-233">ListenToSAP</span><span class="sxs-lookup"><span data-stu-id="b1435-233">ListenToSAP</span></span>|<span data-ttu-id="b1435-234">Receive</span><span class="sxs-lookup"><span data-stu-id="b1435-234">Receive</span></span>|<span data-ttu-id="b1435-235">-設定**名前**に*ListenToSAP*</span><span class="sxs-lookup"><span data-stu-id="b1435-235">- Set **Name** to *ListenToSAP*</span></span><br /><br /> <span data-ttu-id="b1435-236">-設定**アクティブ**に*は True。*</span><span class="sxs-lookup"><span data-stu-id="b1435-236">- Set **Activate** to *True*</span></span>|  
|<span data-ttu-id="b1435-237">SaveIDOC</span><span class="sxs-lookup"><span data-stu-id="b1435-237">SaveIDOC</span></span>|<span data-ttu-id="b1435-238">Send</span><span class="sxs-lookup"><span data-stu-id="b1435-238">Send</span></span>|<span data-ttu-id="b1435-239">-設定**名前**に*SaveIDOC*</span><span class="sxs-lookup"><span data-stu-id="b1435-239">- Set **Name** to *SaveIDOC*</span></span>|  
|<span data-ttu-id="b1435-240">SendResponse</span><span class="sxs-lookup"><span data-stu-id="b1435-240">SendResponse</span></span>|<span data-ttu-id="b1435-241">Send</span><span class="sxs-lookup"><span data-stu-id="b1435-241">Send</span></span>|<span data-ttu-id="b1435-242">-設定**名前**に*SendResponse*</span><span class="sxs-lookup"><span data-stu-id="b1435-242">- Set **Name** to *SendResponse*</span></span>|  
  
### <a name="adding-construct-message-shape"></a><span data-ttu-id="b1435-243">メッセージの構築図形を追加します。</span><span class="sxs-lookup"><span data-stu-id="b1435-243">Adding Construct Message Shape</span></span>  
 <span data-ttu-id="b1435-244">そのオーケストレーション内では、応答を生成して SAP システムに送信します。</span><span class="sxs-lookup"><span data-stu-id="b1435-244">Within the orchestration, you must generate a response and send it to the SAP system.</span></span> <span data-ttu-id="b1435-245">これを行うには、メッセージの構築図形を追加する必要があり、そのメッセージの割り当ての図形をオーケストレーションにします。</span><span class="sxs-lookup"><span data-stu-id="b1435-245">To do so, you must add a Construct Message shape and within that a Message Assignment shape to your orchestration.</span></span> <span data-ttu-id="b1435-246">メッセージの割り当て図形では、SAP システムに送信される応答メッセージを生成するコードを呼び出します。</span><span class="sxs-lookup"><span data-stu-id="b1435-246">The Message Assignment shape invokes code that generates a response message that is sent to the SAP system.</span></span> <span data-ttu-id="b1435-247">メッセージの割り当て図形では、SAP システムに送信される応答のアクションも設定します。</span><span class="sxs-lookup"><span data-stu-id="b1435-247">The Message Assignment shape also sets the action for the response to be sent to the SAP system.</span></span>  
  
> [!IMPORTANT]
>  <span data-ttu-id="b1435-248">オーケストレーションが含まれている場合は、双方向受信ポート (要求-応答)、SAP システムから Idoc を受信するため、オーケストレーションは、SAP システムへの応答を送信する必要があります。</span><span class="sxs-lookup"><span data-stu-id="b1435-248">If the orchestration includes a two-way receive port (request-response) to receive IDOCs from the SAP system, the orchestration must send a response back to the SAP system.</span></span> <span data-ttu-id="b1435-249">それ以外の場合は、SAP システムは、[次へ] の IDOC を送信しません。</span><span class="sxs-lookup"><span data-stu-id="b1435-249">If not, the SAP system does not send the next IDOC.</span></span> <span data-ttu-id="b1435-250">ただし場合は、一方向の受信ポート、オーケストレーションが SAP システムへの応答を送信する必要はありません。</span><span class="sxs-lookup"><span data-stu-id="b1435-250">However, if a one-way receive port, the orchestration does not have to send a response to the SAP system.</span></span>  
  
 <span data-ttu-id="b1435-251">メッセージの構築図形、設定、**メッセージ構築**プロパティを**応答**です。</span><span class="sxs-lookup"><span data-stu-id="b1435-251">For the construct message shape, set the **Message Constructed** property to **Response**.</span></span>  
  
 <span data-ttu-id="b1435-252">応答を生成するコードは、BizTalk プロジェクトと同じ Visual Studio ソリューションの一部になります。</span><span class="sxs-lookup"><span data-stu-id="b1435-252">The code to generate the response could be part of the same Visual Studio solution as your BizTalk project.</span></span> <span data-ttu-id="b1435-253">応答メッセージを生成するためのサンプル コードは、次のように検索します。</span><span class="sxs-lookup"><span data-stu-id="b1435-253">A sample code for generating a response message looks like this.</span></span>  
  
```  
namespace IdocReceiveResponseMessageCreator  
{  
    public class IdocReceiveResponseMessageCreator  
    {  
        private static XmlDocument Message;  
        private static string XmlFileLocation;  
        private static string ResponseDoc;  
  
        public static XmlDocument XMLMessageCreator()  
        {  
            XmlFileLocation = "C:\\test\\in";  
            try  
            {  
                ResponseDoc = (Directory.GetFiles(XmlFileLocation, "*.xml", SearchOption.TopDirectoryOnly))[0];  
            }  
            catch (Exception ex)  
            {  
                Console.WriteLine("Trying to get XML from: " + XmlFileLocation);  
                Console.WriteLine("EXCEPTION: " + ex.ToString());  
                throw ex;  
            }  
            //Create Message From XML  
            Message = new XmlDocument();  
            Message.PreserveWhitespace = true;  
            Message.Load(ResponseDoc);  
            return Message;  
        }   
    }  
}  
```  
  
> [!NOTE]
>  <span data-ttu-id="b1435-254">プロジェクトをビルドした後、IdocReceiveResponseMessageCreator.dll はプロジェクト ディレクトリに作成されます。</span><span class="sxs-lookup"><span data-stu-id="b1435-254">After you build the project, IdocReceiveResponseMessageCreator.dll will be created in the project directory.</span></span> <span data-ttu-id="b1435-255">グローバル アセンブリ キャッシュ (GAC) には、この DLL を追加する必要があります。</span><span class="sxs-lookup"><span data-stu-id="b1435-255">You must add this DLL to the global assembly cache (GAC).</span></span>  
  
 <span data-ttu-id="b1435-256">メッセージの割り当て図形から次のコードを呼び出すと、SAP システムに送信される応答のアクションを設定する次の式を追加します。</span><span class="sxs-lookup"><span data-stu-id="b1435-256">Add the following expression to invoke this code from the Message Assignment shape and to set the action for the response sent to the SAP system.</span></span> <span data-ttu-id="b1435-257">式を追加するには、式エディターを開く、メッセージの割り当て図形をダブルクリックします。</span><span class="sxs-lookup"><span data-stu-id="b1435-257">To add an expression, double-click the Message Assignment shape to open the Expression Editor.</span></span>  
  
```  
Response = IdocReceiveResponseMessageCreator.IdocReceiveResponseMessageCreator.XMLMessageCreator();  
Response(WCF.Action)= "http://Microsoft.LobServices.Sap/2007/03/Idoc/3/ORDERS03//620/Receive/response";  
```  
  
> [!IMPORTANT]
>  <span data-ttu-id="b1435-258">応答メッセージのアクションを明示的に設定する必要があります。</span><span class="sxs-lookup"><span data-stu-id="b1435-258">You must explicitly set the action on the response message.</span></span> <span data-ttu-id="b1435-259">アクションを設定しないと、Wcf-custom アダプターは要求された操作を"Response"を追加することによって、アクション メッセージでに到着します。</span><span class="sxs-lookup"><span data-stu-id="b1435-259">If you do not set the action, WCF-Custom adapter arrives at the action message by appending “Response” to the request action.</span></span> <span data-ttu-id="b1435-260">そのため、応答メッセージのアクションを`http://Microsoft.LobServices.Sap/2007/03/Idoc/3/ORDERS03//620/ReceiveResponse`です。</span><span class="sxs-lookup"><span data-stu-id="b1435-260">So, the action for the response message becomes `http://Microsoft.LobServices.Sap/2007/03/Idoc/3/ORDERS03//620/ReceiveResponse`.</span></span> <span data-ttu-id="b1435-261">ただし、sapBinding が必要ですが、応答アクションを追加して"/応答"例については、要求された操作に`http://Microsoft.LobServices.Sap/2007/03/Idoc/3/ORDERS03//620/Receive/response`です。</span><span class="sxs-lookup"><span data-stu-id="b1435-261">However, the sapBinding expects the response action by appending “/response” to the request action, for example `http://Microsoft.LobServices.Sap/2007/03/Idoc/3/ORDERS03//620/Receive/response`.</span></span>  
  
### <a name="adding-ports"></a><span data-ttu-id="b1435-262">ポートの追加</span><span class="sxs-lookup"><span data-stu-id="b1435-262">Adding Ports</span></span>  
 <span data-ttu-id="b1435-263">次のプロパティ、論理ポートを指定することを確認してください。</span><span class="sxs-lookup"><span data-stu-id="b1435-263">Make sure you specify the following properties for the logical port.</span></span> <span data-ttu-id="b1435-264">表示される名前、*ポート*列は、ポートの名前、オーケストレーションで表示されます。</span><span class="sxs-lookup"><span data-stu-id="b1435-264">The name listed in the *Port* column is the name of the port as displayed in the orchestration.</span></span>  
  
|<span data-ttu-id="b1435-265">ポート</span><span class="sxs-lookup"><span data-stu-id="b1435-265">Port</span></span>|<span data-ttu-id="b1435-266">[プロパティ]</span><span class="sxs-lookup"><span data-stu-id="b1435-266">Properties</span></span>|  
|----------|----------------|  
|<span data-ttu-id="b1435-267">ReceiveIDOCPort</span><span class="sxs-lookup"><span data-stu-id="b1435-267">ReceiveIDOCPort</span></span>|<span data-ttu-id="b1435-268">-設定**識別子**に*ReceiveIDOCPort*</span><span class="sxs-lookup"><span data-stu-id="b1435-268">- Set **Identifier** to *ReceiveIDOCPort*</span></span><br /><br /> <span data-ttu-id="b1435-269">-設定**型**に*ReceiveIDOCPortType*</span><span class="sxs-lookup"><span data-stu-id="b1435-269">- Set **Type** to *ReceiveIDOCPortType*</span></span><br /><br /> <span data-ttu-id="b1435-270">-設定**通信パターン**に*要求-応答*</span><span class="sxs-lookup"><span data-stu-id="b1435-270">- Set **Communication Pattern** to *Request-Response*</span></span><br /><br /> <span data-ttu-id="b1435-271">-設定**通信方向**に*受信送信*</span><span class="sxs-lookup"><span data-stu-id="b1435-271">- Set **Communication Direction** to *Receive-Send*</span></span>|  
|<span data-ttu-id="b1435-272">GetIDOCPort</span><span class="sxs-lookup"><span data-stu-id="b1435-272">GetIDOCPort</span></span>|<span data-ttu-id="b1435-273">-設定**識別子**に*GetIDOCPort*</span><span class="sxs-lookup"><span data-stu-id="b1435-273">- Set **Identifier** to *GetIDOCPort*</span></span><br /><br /> <span data-ttu-id="b1435-274">-設定**型**に*GetIDOCPortType*</span><span class="sxs-lookup"><span data-stu-id="b1435-274">- Set **Type** to *GetIDOCPortType*</span></span><br /><br /> <span data-ttu-id="b1435-275">-設定**通信パターン**に*一方向*</span><span class="sxs-lookup"><span data-stu-id="b1435-275">- Set **Communication Pattern** to *One-Way*</span></span><br /><br /> <span data-ttu-id="b1435-276">-設定**通信方向**に*送信*</span><span class="sxs-lookup"><span data-stu-id="b1435-276">- Set **Communication Direction** to *Send*</span></span>|  
  
> [!IMPORTANT]
>  <span data-ttu-id="b1435-277">オーケストレーションが含まれている場合は、双方向受信ポート (要求-応答)、SAP システムから Idoc を受信するため、オーケストレーションは、SAP システムへの応答を送信する必要があります。</span><span class="sxs-lookup"><span data-stu-id="b1435-277">If the orchestration includes a two-way receive port (request-response) to receive IDOCs from the SAP system, the orchestration must send a response back to the SAP system.</span></span> <span data-ttu-id="b1435-278">それ以外の場合は、SAP システムは、[次へ] の IDOC を送信しません。</span><span class="sxs-lookup"><span data-stu-id="b1435-278">If not, the SAP system does not send the next IDOC.</span></span>  
  
### <a name="adding-a-flat-file-assembler"></a><span data-ttu-id="b1435-279">フラット ファイル アセンブラーを追加します。</span><span class="sxs-lookup"><span data-stu-id="b1435-279">Adding a Flat File Assembler</span></span>  
 <span data-ttu-id="b1435-280">IDOC の受信メッセージをフラット ファイルに変換するアセンブラーを追加する必要があります。</span><span class="sxs-lookup"><span data-stu-id="b1435-280">You must add an assembler to convert the incoming IDOC message to a flat file.</span></span>  
  
##### <a name="to-add-a-flat-file-assembler"></a><span data-ttu-id="b1435-281">フラット ファイル アセンブラーを追加するには</span><span class="sxs-lookup"><span data-stu-id="b1435-281">To add a flat file assembler</span></span>  
  
1.  <span data-ttu-id="b1435-282">BizTalk プロジェクトを右クリックし、**追加**を選択して**新しい項目の**します。</span><span class="sxs-lookup"><span data-stu-id="b1435-282">Right-click the BizTalk project, point to **Add**, and select **New Item**.</span></span>  
  
2.  <span data-ttu-id="b1435-283">ダイアログ ボックスで、次の操作を行います。</span><span class="sxs-lookup"><span data-stu-id="b1435-283">From the dialog box, do the following:</span></span>  
  
    |<span data-ttu-id="b1435-284">プロパティ</span><span class="sxs-lookup"><span data-stu-id="b1435-284">Use this</span></span>|<span data-ttu-id="b1435-285">目的</span><span class="sxs-lookup"><span data-stu-id="b1435-285">To do this</span></span>|  
    |--------------|----------------|  
    |<span data-ttu-id="b1435-286">カテゴリ</span><span class="sxs-lookup"><span data-stu-id="b1435-286">Categories</span></span>|<span data-ttu-id="b1435-287">パイプライン ファイル</span><span class="sxs-lookup"><span data-stu-id="b1435-287">Pipeline Files</span></span>|  
    |<span data-ttu-id="b1435-288">Visual Studio にインストールされたテンプレート</span><span class="sxs-lookup"><span data-stu-id="b1435-288">Visual Studio installed templates</span></span>|<span data-ttu-id="b1435-289">送信パイプライン</span><span class="sxs-lookup"><span data-stu-id="b1435-289">Send Pipeline</span></span>|  
    |<span data-ttu-id="b1435-290">名前</span><span class="sxs-lookup"><span data-stu-id="b1435-290">Name</span></span>|<span data-ttu-id="b1435-291">SendIDOC</span><span class="sxs-lookup"><span data-stu-id="b1435-291">SendIDOC</span></span>|  
  
3.  <span data-ttu-id="b1435-292">パイプライン デザイナーが開きます。</span><span class="sxs-lookup"><span data-stu-id="b1435-292">This opens the Pipeline Designer.</span></span> <span data-ttu-id="b1435-293">**BizTalk パイプライン コンポーネント**ツールボックス、ドラッグ、**フラット ファイル アセンブラー**にパイプライン コンポーネント、**アセンブル**送信パイプラインのステージ。</span><span class="sxs-lookup"><span data-stu-id="b1435-293">From the **BizTalk Pipeline Components** toolbox, drag the **Flat file assembler** pipeline component into the **Assemble** stage of the send pipeline.</span></span>  
  
4.  <span data-ttu-id="b1435-294">**パイプライン コンポーネントのプロパティ**ビューで、値を指定、**ドキュメント スキーマ**プロパティです。</span><span class="sxs-lookup"><span data-stu-id="b1435-294">From the **Pipeline Component Properties** view, specify a value for the **Document Schema** property.</span></span> <span data-ttu-id="b1435-295">ドロップダウン リストから、スキーマを選択することを確認してください、IDOC に対応する受信操作します。</span><span class="sxs-lookup"><span data-stu-id="b1435-295">From the drop-down make sure you select the schema corresponding to the IDOC receive operation.</span></span>  
  
## <a name="specify-messages-for-action-shapes-and-connect-to-ports"></a><span data-ttu-id="b1435-296">アクション図形のメッセージを指定し、ポートに接続</span><span class="sxs-lookup"><span data-stu-id="b1435-296">Specify Messages for Action Shapes and Connect to Ports</span></span>  
 <span data-ttu-id="b1435-297">次の表は、プロパティと、メッセージのアクション図形およびポートにリンクすることを指定するために設定するには、その値を指定します。</span><span class="sxs-lookup"><span data-stu-id="b1435-297">The following table specifies the properties and their values to be set to specify messages for action shapes and linking them to the ports.</span></span> <span data-ttu-id="b1435-298">示されている名前、*図形*列が上記のオーケストレーションで表示される、メッセージの構築図形の名前を示します。</span><span class="sxs-lookup"><span data-stu-id="b1435-298">The names listed in the *Shape* column are the names of the message shapes as displayed in the orchestration above.</span></span>  
  
|<span data-ttu-id="b1435-299">図形</span><span class="sxs-lookup"><span data-stu-id="b1435-299">Shape</span></span>|<span data-ttu-id="b1435-300">[プロパティ]</span><span class="sxs-lookup"><span data-stu-id="b1435-300">Properties</span></span>|  
|-----------|----------------|  
|<span data-ttu-id="b1435-301">ListenToSAP</span><span class="sxs-lookup"><span data-stu-id="b1435-301">ListenToSAP</span></span>|<span data-ttu-id="b1435-302">-設定**メッセージ**に*要求*</span><span class="sxs-lookup"><span data-stu-id="b1435-302">- Set **Message** to *Request*</span></span><br /><br /> <span data-ttu-id="b1435-303">-設定**操作**に*ReceiveIDOCPort.ReceiveIDOC.Request*</span><span class="sxs-lookup"><span data-stu-id="b1435-303">- Set **Operation** to *ReceiveIDOCPort.ReceiveIDOC.Request*</span></span>|  
|<span data-ttu-id="b1435-304">SaveIDOC</span><span class="sxs-lookup"><span data-stu-id="b1435-304">SaveIDOC</span></span>|<span data-ttu-id="b1435-305">-設定**メッセージ**に*要求*</span><span class="sxs-lookup"><span data-stu-id="b1435-305">- Set **Message** to *Request*</span></span><br /><br /> <span data-ttu-id="b1435-306">-設定**操作**に*GetIDOCPort.ReceiveIDOC.Request*</span><span class="sxs-lookup"><span data-stu-id="b1435-306">- Set **Operation** to *GetIDOCPort.ReceiveIDOC.Request*</span></span>|  
|<span data-ttu-id="b1435-307">SendResponse</span><span class="sxs-lookup"><span data-stu-id="b1435-307">SendResponse</span></span>|<span data-ttu-id="b1435-308">-設定**メッセージ**に*応答*</span><span class="sxs-lookup"><span data-stu-id="b1435-308">- Set **Message** to *Response*</span></span><br /><br /> <span data-ttu-id="b1435-309">-設定**操作**に*ReceiveIDOCPort.ReceiveIDOC.Response*</span><span class="sxs-lookup"><span data-stu-id="b1435-309">- Set **Operation** to *ReceiveIDOCPort.ReceiveIDOC.Response*</span></span>|  
  
 <span data-ttu-id="b1435-310">これらのプロパティを指定した後、メッセージの構築図形とポートが接続されているし、オーケストレーションが完了します。</span><span class="sxs-lookup"><span data-stu-id="b1435-310">After you have specified these properties, the message shapes and ports are connected and your orchestration is complete.</span></span>  
  
 <span data-ttu-id="b1435-311">今すぐ BizTalk ソリューションをビルドしに配置する必要があります、[!INCLUDE[btsBizTalkServerNoVersion](../../includes/btsbiztalkservernoversion-md.md)]です。</span><span class="sxs-lookup"><span data-stu-id="b1435-311">You must now build the BizTalk solution and deploy it to a [!INCLUDE[btsBizTalkServerNoVersion](../../includes/btsbiztalkservernoversion-md.md)].</span></span> <span data-ttu-id="b1435-312">詳細については、次を参照してください[のビルドおよび実行するオーケストレーション。](../../core/building-and-running-orchestrations.md)</span><span class="sxs-lookup"><span data-stu-id="b1435-312">For more information, see [Building and Running Orchestrations](../../core/building-and-running-orchestrations.md)</span></span>
  
## <a name="configuring-the-biztalk-application"></a><span data-ttu-id="b1435-313">BizTalk アプリケーションを構成します。</span><span class="sxs-lookup"><span data-stu-id="b1435-313">Configuring the BizTalk Application</span></span>  
 <span data-ttu-id="b1435-314">以前に作成したオーケストレーションが下に表示、BizTalk プロジェクトを配置した後、**オーケストレーション**BizTalk Server 管理コンソール ウィンドウ。</span><span class="sxs-lookup"><span data-stu-id="b1435-314">After you have deployed the BizTalk project, the orchestration you created earlier is listed under the **Orchestrations** pane in the BizTalk Server Administration console.</span></span> <span data-ttu-id="b1435-315">BizTalk Server 管理コンソールを使用して、アプリケーションを構成する必要があります。</span><span class="sxs-lookup"><span data-stu-id="b1435-315">You must use the BizTalk Server Administration console to configure the application.</span></span> <span data-ttu-id="b1435-316">アプリケーションの構成の詳細については、次を参照してください。[アプリケーションを構成する方法](../../core/how-to-configure-an-application.md)です。</span><span class="sxs-lookup"><span data-stu-id="b1435-316">For more information about configuring an application, see [How to Configure an Application](../../core/how-to-configure-an-application.md).</span></span>
  
 <span data-ttu-id="b1435-317">アプリケーションの構成が含まれます。</span><span class="sxs-lookup"><span data-stu-id="b1435-317">Configuring an application involves:</span></span>  
  
-   <span data-ttu-id="b1435-318">アプリケーションのホストを選択します。</span><span class="sxs-lookup"><span data-stu-id="b1435-318">Selecting a host for the application.</span></span>  
  
-   <span data-ttu-id="b1435-319">BizTalk Server 管理コンソールで物理ポートにオーケストレーションで作成したポートをマッピングします。</span><span class="sxs-lookup"><span data-stu-id="b1435-319">Mapping the ports that you created in your orchestration to physical ports in the BizTalk Server Administration console.</span></span> <span data-ttu-id="b1435-320">このオーケストレーションの次の操作を行う必要があります。</span><span class="sxs-lookup"><span data-stu-id="b1435-320">For this orchestration you must:</span></span>  
  
    -   <span data-ttu-id="b1435-321">送信場所と物理送信ポートを定義します。</span><span class="sxs-lookup"><span data-stu-id="b1435-321">Define send locations and physical send port.</span></span> <span data-ttu-id="b1435-322">この場所は、SAP システムから Idoc が含まれます。</span><span class="sxs-lookup"><span data-stu-id="b1435-322">This location will contain the IDOCs coming from the SAP system.</span></span>  
  
        > [!IMPORTANT]
        >  <span data-ttu-id="b1435-323">XMLTransmit パイプラインの選択を確認します***SendIDOC***です。</span><span class="sxs-lookup"><span data-stu-id="b1435-323">For the XMLTransmit pipeline, make sure you select ***SendIDOC***.</span></span> <span data-ttu-id="b1435-324">BizTalk プロジェクトの一部としてこのパイプラインを作成したとします。</span><span class="sxs-lookup"><span data-stu-id="b1435-324">You created this pipeline as part of the BizTalk project.</span></span>  
  
    -   <span data-ttu-id="b1435-325">WCF カスタム定義または WCF SAP 受信ポートにします。</span><span class="sxs-lookup"><span data-stu-id="b1435-325">Define a WCF-Custom or WCF-SAP receive port.</span></span> <span data-ttu-id="b1435-326">このポートは SAP システムから受信 IDOC を受信し、オーケストレーションを渡します。</span><span class="sxs-lookup"><span data-stu-id="b1435-326">This port will receive an inbound IDOC from the SAP system and pass it on to the orchestration.</span></span> <span data-ttu-id="b1435-327">このポートは、SAP システムへの応答も送信します。</span><span class="sxs-lookup"><span data-stu-id="b1435-327">This port also sends the response to the SAP system.</span></span> <span data-ttu-id="b1435-328">ポートを作成する方法については、次を参照してください。 [SAP アダプターを物理ポートのバインドを手動で構成](../../adapters-and-accelerators/adapter-sap/manually-configure-a-physical-port-binding-to-the-sap-adapter.md)です。</span><span class="sxs-lookup"><span data-stu-id="b1435-328">For information about how to create ports, see [Manually configure a physical port binding to the SAP adapter](../../adapters-and-accelerators/adapter-sap/manually-configure-a-physical-port-binding-to-the-sap-adapter.md).</span></span>
  
        > [!IMPORTANT]
        >  <span data-ttu-id="b1435-329">バインディング プロパティを確認してください**ReceiveIDocFormat**に設定されている**型指定された**です。</span><span class="sxs-lookup"><span data-stu-id="b1435-329">Make sure the binding property **ReceiveIDocFormat** is set to **Typed**.</span></span>  
  
        > [!IMPORTANT]
        >  <span data-ttu-id="b1435-330">場合はバインディング プロパティ**EnableBizTalkCompatibilityMode** BizTalk プロパティ スキーマ DLL を追加するかどうかを確認を真に設定されているため、 [!INCLUDE[adaptersap_short](../../includes/adaptersap-short-md.md)] BizTalk アプリケーションでは、アプリケーションのリソースとして、プロジェクトを配置します。</span><span class="sxs-lookup"><span data-stu-id="b1435-330">If the binding property **EnableBizTalkCompatibilityMode** is set to true, make sure you add the BizTalk property schema DLL for the [!INCLUDE[adaptersap_short](../../includes/adaptersap-short-md.md)] as a resource in your BizTalk application, that is, the application in which your project is deployed.</span></span> <span data-ttu-id="b1435-331">リソースを追加する手順についてを参照してください。 [SAP アダプターでの運用上の問題のトラブルシューティングを行う](../../adapters-and-accelerators/adapter-sap/troubleshoot-operational-issues-with-the-sap-adapter.md)です。</span><span class="sxs-lookup"><span data-stu-id="b1435-331">For instructions on adding resources see [Troubleshoot Operational Issues with the SAP adapter](../../adapters-and-accelerators/adapter-sap/troubleshoot-operational-issues-with-the-sap-adapter.md).</span></span>  
  
        > [!NOTE]
        >  <span data-ttu-id="b1435-332">使用してスキーマを生成する、[!INCLUDE[consumeadapterservlong](../../includes/consumeadapterservlong-md.md)]ポートとそれらのポートに設定するアクションに関する情報を含むバインド ファイルも作成されます。</span><span class="sxs-lookup"><span data-stu-id="b1435-332">Generating the schema using the [!INCLUDE[consumeadapterservlong](../../includes/consumeadapterservlong-md.md)] also creates a binding file containing information about the ports and the actions to be set for those ports.</span></span> <span data-ttu-id="b1435-333">(発信) の送信ポートを作成または受信ポート (着信)、BizTalk 管理コンソールからこのバインド ファイルをインポートすることができます。</span><span class="sxs-lookup"><span data-stu-id="b1435-333">You can import this binding file from the BizTalk Administration Console to create send ports (for outbound calls) or receive ports (for inbound calls).</span></span> <span data-ttu-id="b1435-334">詳細については、次を参照してください。 [sap ポートのバインド ファイルを使用して物理ポートのバインドを構成する](../../adapters-and-accelerators/adapter-sap/configure-a-physical-port-binding-using-a-port-binding-file-to-sap.md)です。</span><span class="sxs-lookup"><span data-stu-id="b1435-334">For more information, see [Configure a physical port binding using a port binding file to SAP](../../adapters-and-accelerators/adapter-sap/configure-a-physical-port-binding-using-a-port-binding-file-to-sap.md).</span></span>
  
 <span data-ttu-id="b1435-335">IdocReceiveResponseMessageCreator プロジェクトのアセンブリを BizTalk アプリケーションに追加することも必要があります。</span><span class="sxs-lookup"><span data-stu-id="b1435-335">You must also add the assembly for the IdocReceiveResponseMessageCreator project to your BizTalk application.</span></span> <span data-ttu-id="b1435-336">SAP システムに送信される応答を生成するには、このプロジェクトを作成したとします。</span><span class="sxs-lookup"><span data-stu-id="b1435-336">You created this project to generate the response to be sent to the SAP system.</span></span> <span data-ttu-id="b1435-337">そのためには次を行います。</span><span class="sxs-lookup"><span data-stu-id="b1435-337">To do so:</span></span>  
  
1.  <span data-ttu-id="b1435-338">右クリックし、バインドをインポートする BizTalk アプリケーションの下で、BizTalk Server 管理コンソールの左側にあるコンソール ツリーで**リソース**、 をポイント**追加** をクリックし、**BizTalk アセンブリ**です。</span><span class="sxs-lookup"><span data-stu-id="b1435-338">In the console tree on the left side of the BizTalk Server Administration console, under the BizTalk application where you imported the bindings, right-click **Resources**, point to **Add** and then click **BizTalk Assemblies**.</span></span>  
  
2.  <span data-ttu-id="b1435-339">**リソースの追加**] ダイアログ ボックス、[**追加**IdocReceiveResponseMessageCreator.dll を含むフォルダーに移動します。</span><span class="sxs-lookup"><span data-stu-id="b1435-339">In the **Add Resources** dialog box, Click **Add** and navigate to the folder containing IdocReceiveResponseMessageCreator.dll.</span></span> <span data-ttu-id="b1435-340">ファイルを選択し、をクリックして**開く**です。</span><span class="sxs-lookup"><span data-stu-id="b1435-340">Select the file and then click **Open**.</span></span>  
  
3.  <span data-ttu-id="b1435-341">**リソースの追加**ダイアログ ボックスで、をクリックして**OK**です。</span><span class="sxs-lookup"><span data-stu-id="b1435-341">In the **Add Resources** dialog box, click **OK**.</span></span>  
  
## <a name="starting-the-application"></a><span data-ttu-id="b1435-342">アプリケーションの起動</span><span class="sxs-lookup"><span data-stu-id="b1435-342">Starting the Application</span></span>  
 <span data-ttu-id="b1435-343">SAP システムから IDOC を受信するための BizTalk アプリケーションを起動する必要があります。</span><span class="sxs-lookup"><span data-stu-id="b1435-343">You must start the BizTalk application for receiving an IDOC from the SAP system.</span></span> <span data-ttu-id="b1435-344">BizTalk アプリケーションの起動方法の詳細については、次を参照してください。[オーケストレーションを開始する方法](../../core/how-to-start-an-orchestration.md)、または[アプリケーションを起動する方法](../../core/how-to-start-and-stop-a-biztalk-application.md)です。</span><span class="sxs-lookup"><span data-stu-id="b1435-344">For instructions on starting a BizTalk application, see [How to Start an Orchestration](../../core/how-to-start-an-orchestration.md), or [How to start an application](../../core/how-to-start-and-stop-a-biztalk-application.md).</span></span>
  
 <span data-ttu-id="b1435-345">この段階で確認します。</span><span class="sxs-lookup"><span data-stu-id="b1435-345">At this stage, make sure:</span></span>  
  
-   <span data-ttu-id="b1435-346">ファイルの場所に受信した IDOC を保存する FILE 送信ポートが実行されています。</span><span class="sxs-lookup"><span data-stu-id="b1435-346">The FILE send port to save the incoming IDOC to a file location is running</span></span>  
  
-   <span data-ttu-id="b1435-347">受信 Idoc を受信するポートの Wcf-custom または WCF SAP SAP からシステムが実行されています。</span><span class="sxs-lookup"><span data-stu-id="b1435-347">The WCF-Custom or WCF-SAP receive port to receive IDOCs from the SAP system is running.</span></span>  
  
-   <span data-ttu-id="b1435-348">操作の BizTalk オーケストレーションが実行されています。</span><span class="sxs-lookup"><span data-stu-id="b1435-348">The BizTalk orchestration for the operation is running.</span></span>  
  
## <a name="executing-the-operation"></a><span data-ttu-id="b1435-349">操作の実行</span><span class="sxs-lookup"><span data-stu-id="b1435-349">Executing the Operation</span></span>  
 <span data-ttu-id="b1435-350">アプリケーションを実行すると、したら、SAP システムを移動して、アダプターに IDOC を送信する必要があります。</span><span class="sxs-lookup"><span data-stu-id="b1435-350">After you run the application, you must go the SAP system and send an IDOC into the adapter.</span></span> <span data-ttu-id="b1435-351">アダプターは、IDOC を受信し、オーケストレーションの一部として指定されたファイルの場所に保存します。</span><span class="sxs-lookup"><span data-stu-id="b1435-351">The adapter receives the IDOC and saves it to a file location specified as part of the orchestration.</span></span>  
  
## <a name="possible-exceptions"></a><span data-ttu-id="b1435-352">可能性のある例外</span><span class="sxs-lookup"><span data-stu-id="b1435-352">Possible Exceptions</span></span>  
 <span data-ttu-id="b1435-353">例外については、BizTalk Server を使用して SAP システムから IDOC を受信中に発生する可能性が、次を参照してください。[例外とエラー処理、SAP アダプター](../../adapters-and-accelerators/adapter-sap/exceptions-and-error-handling-with-the-sap-adapter.md)です。</span><span class="sxs-lookup"><span data-stu-id="b1435-353">For information about the exceptions you might encounter while receiving an IDOC from an SAP system using BizTalk Server, see [Exceptions and Error Handling with the SAP adapter](../../adapters-and-accelerators/adapter-sap/exceptions-and-error-handling-with-the-sap-adapter.md).</span></span>  
  
## <a name="best-practices"></a><span data-ttu-id="b1435-354">ベスト プラクティス</span><span class="sxs-lookup"><span data-stu-id="b1435-354">Best Practices</span></span>  
 <span data-ttu-id="b1435-355">展開して、BizTalk プロジェクトを構成することが後、は、バインド ファイルと呼ばれる XML ファイルに構成設定をエクスポートできます。</span><span class="sxs-lookup"><span data-stu-id="b1435-355">After you have deployed and configured the BizTalk project, you can export configuration settings to an XML file called the bindings file.</span></span> <span data-ttu-id="b1435-356">バインド ファイルを生成したできるように、受信ポートなど、同じオーケストレーションの送信ポートを作成する必要はありません、ファイルから構成設定をインポートすることができます。</span><span class="sxs-lookup"><span data-stu-id="b1435-356">Once you generate a bindings file, you can import the configuration settings from the file so that you do not need to create the send ports, receive ports, etc. for the same orchestration.</span></span> <span data-ttu-id="b1435-357">バインド ファイルの詳細については、次を参照してください。[を再利用の SAP アダプターのバインド](../../adapters-and-accelerators/adapter-sap/reuse-sap-adapter-bindings.md)です。</span><span class="sxs-lookup"><span data-stu-id="b1435-357">For more information about binding files, see [Reuse SAP adapter bindings](../../adapters-and-accelerators/adapter-sap/reuse-sap-adapter-bindings.md).</span></span>
  
## <a name="see-also"></a><span data-ttu-id="b1435-358">参照</span><span class="sxs-lookup"><span data-stu-id="b1435-358">See Also</span></span>  
[<span data-ttu-id="b1435-359">BizTalk アプリケーションを開発します。</span><span class="sxs-lookup"><span data-stu-id="b1435-359">Develop BizTalk applications</span></span>](../../adapters-and-accelerators/adapter-sap/develop-biztalk-applications-using-the-sap-adapter.md)