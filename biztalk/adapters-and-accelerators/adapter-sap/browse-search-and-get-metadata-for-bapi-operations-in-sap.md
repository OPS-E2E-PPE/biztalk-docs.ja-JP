---
title: 参照、検索、および SAP の BAPI 操作のメタデータの取得 |Microsoft Docs
ms.custom: ''
ms.date: 06/08/2017
ms.prod: biztalk-server
ms.reviewer: ''
ms.suite: ''
ms.tgt_pltfrm: ''
ms.topic: article
helpviewer_keywords:
- BAPI operations
- WCF client, generating for BAPI operations
- BAPIs, browsing
- searching, BAPIs
- browsing, BAPIs
- BAPIs, searching
- BAPI operations, generating schema
ms.assetid: 2884215a-ddba-40c7-bf9f-bfc7831f90bb
caps.latest.revision: 13
author: MandiOhlinger
ms.author: mandia
manager: anneta
ms.openlocfilehash: 97a043c08cf8d7ef258ceb2a2f311d2a86302881
ms.sourcegitcommit: 266308ec5c6a9d8d80ff298ee6051b4843c5d626
ms.translationtype: MT
ms.contentlocale: ja-JP
ms.lasthandoff: 06/27/2018
ms.locfileid: "36978955"
---
# <a name="browse-search-and-get-metadata-for-bapi-operations-in-sap"></a><span data-ttu-id="2a233-102">参照、検索、および SAP の BAPI 操作のメタデータの取得</span><span class="sxs-lookup"><span data-stu-id="2a233-102">Browse, search, and get metadata for BAPI operations in SAP</span></span>
<span data-ttu-id="2a233-103">このセクションでは、参照、検索、および SAP の BAPI を使用して操作のメタデータを取得する方法の説明[!INCLUDE[addadapterservrefshort](../../includes/addadapterservrefshort-md.md)]、 [!INCLUDE[addadapterwiz](../../includes/addadapterwiz-md.md)]、または[!INCLUDE[consumeadapterservshort](../../includes/consumeadapterservshort-md.md)]します。</span><span class="sxs-lookup"><span data-stu-id="2a233-103">This section provides instructions on how to browse, search, and retrieve metadata from SAP for BAPI operations using [!INCLUDE[addadapterservrefshort](../../includes/addadapterservrefshort-md.md)], [!INCLUDE[addadapterwiz](../../includes/addadapterwiz-md.md)], or [!INCLUDE[consumeadapterservshort](../../includes/consumeadapterservshort-md.md)].</span></span> <span data-ttu-id="2a233-104">手順のほとんどは、すべての 3 つのユーザー インターフェイスで同じです。</span><span class="sxs-lookup"><span data-stu-id="2a233-104">Most of the instructions are same for all three user interface.</span></span> <span data-ttu-id="2a233-105">任意の場所、関連するユーザー インターフェイスに適用される場合、別の手順が提供されます。</span><span class="sxs-lookup"><span data-stu-id="2a233-105">Wherever applicable, separate procedures are provided for the relevant user interface.</span></span>  
  
 <span data-ttu-id="2a233-106">次のセクションで説明する手順を実行する前にいる必要があります。</span><span class="sxs-lookup"><span data-stu-id="2a233-106">Before performing the steps provided in the following sections, you must have:</span></span>  
  
- <span data-ttu-id="2a233-107">作成、[!INCLUDE[btsVStudioNoVersion](../../includes/btsvstudionoversion-md.md)]プロジェクト。</span><span class="sxs-lookup"><span data-stu-id="2a233-107">Created a [!INCLUDE[btsVStudioNoVersion](../../includes/btsvstudionoversion-md.md)] project.</span></span>  
  
- <span data-ttu-id="2a233-108">使用して SAP システムに接続されている[!INCLUDE[consumeadapterservshort](../../includes/consumeadapterservshort-md.md)]、 [!INCLUDE[addadapterwiz](../../includes/addadapterwiz-md.md)]、または[!INCLUDE[addadapterservrefshort](../../includes/addadapterservrefshort-md.md)]します。</span><span class="sxs-lookup"><span data-stu-id="2a233-108">Connected to the SAP system using [!INCLUDE[consumeadapterservshort](../../includes/consumeadapterservshort-md.md)], [!INCLUDE[addadapterwiz](../../includes/addadapterwiz-md.md)], or [!INCLUDE[addadapterservrefshort](../../includes/addadapterservrefshort-md.md)].</span></span> <span data-ttu-id="2a233-109">手順を参照してください[Visual Studio での SAP システムへの接続](../../adapters-and-accelerators/adapter-sap/connect-to-the-sap-system-in-visual-studio.md)します。</span><span class="sxs-lookup"><span data-stu-id="2a233-109">For instructions see [Connect to the SAP System in Visual Studio](../../adapters-and-accelerators/adapter-sap/connect-to-the-sap-system-in-visual-studio.md).</span></span>  
  
## <a name="browsing-bapis-in-an-sap-system"></a><span data-ttu-id="2a233-110">SAP システムでの Bapi の参照</span><span class="sxs-lookup"><span data-stu-id="2a233-110">Browsing BAPIs in an SAP System</span></span>  
 <span data-ttu-id="2a233-111">使用してメタデータを閲覧中に[!INCLUDE[consumeadapterservshort](../../includes/consumeadapterservshort-md.md)]、 [!INCLUDE[addadapterwiz](../../includes/addadapterwiz-md.md)]、または[!INCLUDE[addadapterservrefshort](../../includes/addadapterservrefshort-md.md)]、 [!INCLUDE[adaptersap_short](../../includes/adaptersap-short-md.md)] Bapi の Rfc およびビジネス オブジェクトとして明らかになります。</span><span class="sxs-lookup"><span data-stu-id="2a233-111">While browsing metadata using [!INCLUDE[consumeadapterservshort](../../includes/consumeadapterservshort-md.md)], [!INCLUDE[addadapterwiz](../../includes/addadapterwiz-md.md)], or [!INCLUDE[addadapterservrefshort](../../includes/addadapterservrefshort-md.md)] the [!INCLUDE[adaptersap_short](../../includes/adaptersap-short-md.md)] surfaces BAPIs as business objects and as RFCs.</span></span> <span data-ttu-id="2a233-112">Rfc と Bapi の参照は、SAP システムでの RFC の参照に似ています。</span><span class="sxs-lookup"><span data-stu-id="2a233-112">Browsing BAPIs as RFCs is similar to browsing an RFC in an SAP system.</span></span> <span data-ttu-id="2a233-113">このような場合は、Bapi は Rfc として使用できます、 **RFC**します。</span><span class="sxs-lookup"><span data-stu-id="2a233-113">In such a case, the BAPIs are available as RFCs under the **RFC**.</span></span> <span data-ttu-id="2a233-114">Rfc の参照の詳細については、次を参照してください。[参照、検索、および SAP の RFC 操作のメタデータを取得](../../adapters-and-accelerators/adapter-sap/browse-search-and-get-metadata-for-rfc-operations-in-sap.md)します。</span><span class="sxs-lookup"><span data-stu-id="2a233-114">For more information on browsing RFCs, see [Browse, search, and get metadata for RFC operations in SAP](../../adapters-and-accelerators/adapter-sap/browse-search-and-get-metadata-for-rfc-operations-in-sap.md).</span></span>  
  
 <span data-ttu-id="2a233-115">このセクションでは、ビジネス オブジェクトとしての Bapi の参照についてを説明します。</span><span class="sxs-lookup"><span data-stu-id="2a233-115">This section provides information on browsing BAPIs as business objects.</span></span> <span data-ttu-id="2a233-116">SAP メタデータの参照の詳細については、次を参照してください[SAP メタデータには、アダプターの画面はどのようにですか?。](https://msdn.microsoft.com/library/dd788039.aspx)</span><span class="sxs-lookup"><span data-stu-id="2a233-116">Fore more information about browsing SAP metadata, see [How Does the Adapter Surface SAP Metadata?](https://msdn.microsoft.com/library/dd788039.aspx)</span></span>  
  
 <span data-ttu-id="2a233-117">次の手順を使用した SAP システム内の Bapi の参照を実行、 [!INCLUDE[consumeadapterservshort](../../includes/consumeadapterservshort-md.md)]、 [!INCLUDE[addadapterwiz](../../includes/addadapterwiz-md.md)]、または[!INCLUDE[addadapterservrefshort](../../includes/addadapterservrefshort-md.md)]します。</span><span class="sxs-lookup"><span data-stu-id="2a233-117">Perform the following steps to browse BAPIs in an SAP system using the [!INCLUDE[consumeadapterservshort](../../includes/consumeadapterservshort-md.md)], [!INCLUDE[addadapterwiz](../../includes/addadapterwiz-md.md)], or [!INCLUDE[addadapterservrefshort](../../includes/addadapterservrefshort-md.md)].</span></span>  
 
  
#### <a name="to-browse-bapis-in-an-sap-system"></a><span data-ttu-id="2a233-118">SAP システムでの Bapi の参照</span><span class="sxs-lookup"><span data-stu-id="2a233-118">To browse BAPIs in an SAP system</span></span>  
  
1. <span data-ttu-id="2a233-119">使用して SAP サーバーに接続、 [!INCLUDE[consumeadapterservshort](../../includes/consumeadapterservshort-md.md)]、 [!INCLUDE[addadapterwiz](../../includes/addadapterwiz-md.md)]、または[!INCLUDE[addadapterservrefshort](../../includes/addadapterservrefshort-md.md)]します。</span><span class="sxs-lookup"><span data-stu-id="2a233-119">Connect to an SAP server using the [!INCLUDE[consumeadapterservshort](../../includes/consumeadapterservshort-md.md)], [!INCLUDE[addadapterwiz](../../includes/addadapterwiz-md.md)], or [!INCLUDE[addadapterservrefshort](../../includes/addadapterservrefshort-md.md)].</span></span> <span data-ttu-id="2a233-120">参照してください[Visual Studio での SAP システムへの接続](../../adapters-and-accelerators/adapter-sap/connect-to-the-sap-system-in-visual-studio.md)手順についてはします。</span><span class="sxs-lookup"><span data-stu-id="2a233-120">See [Connect to the SAP System in Visual Studio](../../adapters-and-accelerators/adapter-sap/connect-to-the-sap-system-in-visual-studio.md) for instructions.</span></span>  
  
2. <span data-ttu-id="2a233-121">**コントラクト型を選択します**ドロップダウン リストで、かどうかを実行するアダプターを使用して、受信または送信の操作に基づく契約の種類を選択します。</span><span class="sxs-lookup"><span data-stu-id="2a233-121">From the **Select contract type** drop-down list, select the type of contract based on whether you will be performing inbound or outbound operations using the adapter.</span></span>  
  
3. <span data-ttu-id="2a233-122">**カテゴリを選択**ボックスに、BAPI ノードでの BAPI の機能領域を参照してください。 をクリックして、**利用可能なカテゴリと操作**ボックス。</span><span class="sxs-lookup"><span data-stu-id="2a233-122">In the **Select a category** box, click the BAPI node to see the BAPI functional areas in the **Available categories and operations** box.</span></span> <span data-ttu-id="2a233-123">またはも確認できます BAPI の機能領域 BAPI ノードを展開します。</span><span class="sxs-lookup"><span data-stu-id="2a233-123">Alternatively, you can also see the BAPI functional areas by expanding the BAPI node.</span></span>  
  
   > [!TIP]
   >  <span data-ttu-id="2a233-124">ツリー ビューでのフォーカスがある状態で成果物の名前を入力してツリーで、「直近」のカテゴリ ノードを subcategory に直接進んで、**カテゴリを選択**ボックス。</span><span class="sxs-lookup"><span data-stu-id="2a233-124">You can directly go to the “immediate” category node or subcategory nodes in the tree, by typing the name of the artifact in while the focus is on the tree view in the **Select a category** box.</span></span> <span data-ttu-id="2a233-125">たとえばに移動するため、**制御**BAPI の機能領域にフォーカスを保持、 **BAPI**ノード、および入力し、 `Controlling`。</span><span class="sxs-lookup"><span data-stu-id="2a233-125">For example, to jump to the **Controlling** BAPI functional area, keep the focus on the **BAPI** node, and then type `Controlling`.</span></span>  
  
    <span data-ttu-id="2a233-126">次に示します、 [!INCLUDE[consumeadapterservshort](../../includes/consumeadapterservshort-md.md)] BAPI の機能領域を一覧表示します。</span><span class="sxs-lookup"><span data-stu-id="2a233-126">The following figure shows the [!INCLUDE[consumeadapterservshort](../../includes/consumeadapterservshort-md.md)] listing the BAPI functional areas.</span></span>  
  
    <span data-ttu-id="2a233-127">![BAPI の機能領域の参照](../../adapters-and-accelerators/adapter-sap/media/d4b03725-44d2-449d-a035-491cd7415139.gif "d4b03725-44d2-449d-a035-491cd7415139")</span><span class="sxs-lookup"><span data-stu-id="2a233-127">![Browsing functional areas in a BAPI](../../adapters-and-accelerators/adapter-sap/media/d4b03725-44d2-449d-a035-491cd7415139.gif "d4b03725-44d2-449d-a035-491cd7415139")</span></span>  
  
4. <span data-ttu-id="2a233-128">BAPI の機能領域のさらに分類して BAPI の機能領域をクリックします。</span><span class="sxs-lookup"><span data-stu-id="2a233-128">Click the BAPI functional area to see the further categorizations of BAPI functional area.</span></span>  
  
5. <span data-ttu-id="2a233-129">BAPI の機能領域にその機能領域でサポート関連の操作を参照してください をクリックします。</span><span class="sxs-lookup"><span data-stu-id="2a233-129">Click the BAPI functional area to see the relevant operations supported for that functional area.</span></span> <span data-ttu-id="2a233-130">次に示します、[!INCLUDE[consumeadapterservshort](../../includes/consumeadapterservshort-md.md)]で特定の機能領域でサポートされる操作。</span><span class="sxs-lookup"><span data-stu-id="2a233-130">The following figure shows the [!INCLUDE[consumeadapterservshort](../../includes/consumeadapterservshort-md.md)] with the operations supported for a particular functional area.</span></span>  
  
    <span data-ttu-id="2a233-131">![BAPI の参照操作](../../adapters-and-accelerators/adapter-sap/media/1a9be42e-1f9e-4cf6-a555-c4e755fcc0ea.gif "1a9be42e-1f9e-4cf6-a555-c4e755fcc0ea")</span><span class="sxs-lookup"><span data-stu-id="2a233-131">![Browsing operations for a BAPI](../../adapters-and-accelerators/adapter-sap/media/1a9be42e-1f9e-4cf6-a555-c4e755fcc0ea.gif "1a9be42e-1f9e-4cf6-a555-c4e755fcc0ea")</span></span>  
  
## <a name="searching-bapis-in-an-sap-system"></a><span data-ttu-id="2a233-132">SAP システムでの Bapi の検索</span><span class="sxs-lookup"><span data-stu-id="2a233-132">Searching BAPIs in an SAP System</span></span>  
 <span data-ttu-id="2a233-133">中 Bapi のメタデータを使用して SAP システム内で検索[!INCLUDE[consumeadapterservshort](../../includes/consumeadapterservshort-md.md)]、 [!INCLUDE[addadapterwiz](../../includes/addadapterwiz-md.md)]、または[!INCLUDE[addadapterservrefshort](../../includes/addadapterservrefshort-md.md)]、 [!INCLUDE[adaptersap_short](../../includes/adaptersap-short-md.md)]:</span><span class="sxs-lookup"><span data-stu-id="2a233-133">While searching metadata for BAPIs in an SAP system using [!INCLUDE[consumeadapterservshort](../../includes/consumeadapterservshort-md.md)], [!INCLUDE[addadapterwiz](../../includes/addadapterwiz-md.md)], or [!INCLUDE[addadapterservrefshort](../../includes/addadapterservrefshort-md.md)] the [!INCLUDE[adaptersap_short](../../includes/adaptersap-short-md.md)]:</span></span>  
  
- <span data-ttu-id="2a233-134">検索式では、ワイルドカード文字をサポートしています。</span><span class="sxs-lookup"><span data-stu-id="2a233-134">Supports wildcard characters in the search expression.</span></span>  
  
- <span data-ttu-id="2a233-135">検索操作を実行するノードのすぐ下にある検索を有効にします。</span><span class="sxs-lookup"><span data-stu-id="2a233-135">Enables search immediately under the node at which the search operation is performed.</span></span>  
  
  <span data-ttu-id="2a233-136">次の表に、検索とその解釈で使用できる特殊文字、[!INCLUDE[adaptersap_short](../../includes/adaptersap-short-md.md)]します。</span><span class="sxs-lookup"><span data-stu-id="2a233-136">The following table lists the special characters that can be used for search and their interpretation by the [!INCLUDE[adaptersap_short](../../includes/adaptersap-short-md.md)].</span></span>  
  
|<span data-ttu-id="2a233-137">特殊文字</span><span class="sxs-lookup"><span data-stu-id="2a233-137">Special character</span></span>|<span data-ttu-id="2a233-138">解釈</span><span class="sxs-lookup"><span data-stu-id="2a233-138">Interpretation</span></span>|  
|-----------------------|--------------------|  
|<span data-ttu-id="2a233-139">+ (プラス)</span><span class="sxs-lookup"><span data-stu-id="2a233-139">+ (plus)</span></span>|<span data-ttu-id="2a233-140">1 つだけの文字と一致します。</span><span class="sxs-lookup"><span data-stu-id="2a233-140">Matches exactly one character.</span></span><br /><br /> <span data-ttu-id="2a233-141">たとえば、A + と一致する AB、AC、AD</span><span class="sxs-lookup"><span data-stu-id="2a233-141">For example, A+ matches AB, AC, AD</span></span>|  
|<span data-ttu-id="2a233-142">\* (アスタリスク)</span><span class="sxs-lookup"><span data-stu-id="2a233-142">\* (asterisk)</span></span>|<span data-ttu-id="2a233-143">0 個以上の文字と一致します。</span><span class="sxs-lookup"><span data-stu-id="2a233-143">Matches zero or more characters.</span></span><br /><br /> <span data-ttu-id="2a233-144">たとえば、A \* A、AB ABC に一致します。</span><span class="sxs-lookup"><span data-stu-id="2a233-144">For example, A\* matches A, AB, ABC.</span></span>|  
  
 <span data-ttu-id="2a233-145">アダプターでサポートされている特殊文字の詳細については、次を参照してください[SAP メタデータには、アダプターの画面はどのようにですか?。](https://msdn.microsoft.com/library/dd788039.aspx)</span><span class="sxs-lookup"><span data-stu-id="2a233-145">For more information about the special characters supported by the adapter, see [How Does the Adapter Surface SAP Metadata?](https://msdn.microsoft.com/library/dd788039.aspx)</span></span>  
  
 <span data-ttu-id="2a233-146">次の手順を使用して SAP システムでの Bapi の検索を実行、 [!INCLUDE[consumeadapterservshort](../../includes/consumeadapterservshort-md.md)]、 [!INCLUDE[addadapterwiz](../../includes/addadapterwiz-md.md)]、または[!INCLUDE[addadapterservrefshort](../../includes/addadapterservrefshort-md.md)]します。</span><span class="sxs-lookup"><span data-stu-id="2a233-146">Perform the following steps to search BAPIs in an SAP system using the [!INCLUDE[consumeadapterservshort](../../includes/consumeadapterservshort-md.md)], [!INCLUDE[addadapterwiz](../../includes/addadapterwiz-md.md)], or [!INCLUDE[addadapterservrefshort](../../includes/addadapterservrefshort-md.md)].</span></span>  
  
#### <a name="to-search-bapis-in-an-sap-system"></a><span data-ttu-id="2a233-147">SAP システムでの Bapi の検索</span><span class="sxs-lookup"><span data-stu-id="2a233-147">To search BAPIs in an SAP system</span></span>  
  
1. <span data-ttu-id="2a233-148">使用して SAP サーバーに接続、 [!INCLUDE[consumeadapterservshort](../../includes/consumeadapterservshort-md.md)]、 [!INCLUDE[addadapterwiz](../../includes/addadapterwiz-md.md)]、または[!INCLUDE[addadapterservrefshort](../../includes/addadapterservrefshort-md.md)]します。</span><span class="sxs-lookup"><span data-stu-id="2a233-148">Connect to an SAP server using the [!INCLUDE[consumeadapterservshort](../../includes/consumeadapterservshort-md.md)], [!INCLUDE[addadapterwiz](../../includes/addadapterwiz-md.md)], or [!INCLUDE[addadapterservrefshort](../../includes/addadapterservrefshort-md.md)].</span></span> <span data-ttu-id="2a233-149">参照してください[Visual Studio での SAP システムへの接続](../../adapters-and-accelerators/adapter-sap/connect-to-the-sap-system-in-visual-studio.md)手順についてはします。</span><span class="sxs-lookup"><span data-stu-id="2a233-149">See [Connect to the SAP System in Visual Studio](../../adapters-and-accelerators/adapter-sap/connect-to-the-sap-system-in-visual-studio.md) for instructions.</span></span>  
  
2. <span data-ttu-id="2a233-150">**コントラクト型を選択します**ドロップダウン リストで、アダプターを使用して、受信または送信の操作を検索対象かどうかに基づいてコントラクトの型を選択します。</span><span class="sxs-lookup"><span data-stu-id="2a233-150">From the **Select contract type** drop-down list, select the type of contract based on whether you will be searching for inbound or outbound operations using the adapter.</span></span>  
  
3. <span data-ttu-id="2a233-151">**カテゴリを選択**ボックスで検索する BAPI を含む BAPI の機能領域をクリックします。</span><span class="sxs-lookup"><span data-stu-id="2a233-151">In the **Select a category** box, click the BAPI functional area containing the BAPI you want to search.</span></span>  
  
   > [!NOTE]
   >  <span data-ttu-id="2a233-152">Bapi のルート レベルでのみを検索することができます。</span><span class="sxs-lookup"><span data-stu-id="2a233-152">You can search for BAPIs only at the root level.</span></span>  
  
4. <span data-ttu-id="2a233-153">**カテゴリで検索**テキスト ボックスに、特定の BAPI を検索する検索式を入力します。</span><span class="sxs-lookup"><span data-stu-id="2a233-153">In the **Search in category** text box, enter a search expression to search for a specific BAPI.</span></span> <span data-ttu-id="2a233-154">たとえば、名前に「アカウント」を持つ Bapi を検索するに次のように入力します。 * アカウント\*、テキスト ボックスにします。</span><span class="sxs-lookup"><span data-stu-id="2a233-154">For example, to search for BAPIs that have "Account" in their names, type *Account\* in the text box.</span></span>  
  
5. <span data-ttu-id="2a233-155">検索を開始する右矢印アイコンのボタンをクリックします。</span><span class="sxs-lookup"><span data-stu-id="2a233-155">Click the button with the right-arrow icon to start the search.</span></span> <span data-ttu-id="2a233-156">検索が完了した後、**利用可能なカテゴリと操作**ボックスは、検索条件を満たす Bapi を一覧表示されます。</span><span class="sxs-lookup"><span data-stu-id="2a233-156">After the search is complete, the **Available categories and operations** box lists the BAPIs that satisfy the search criteria.</span></span>  
  
6. <span data-ttu-id="2a233-157">次に示します、[!INCLUDE[consumeadapterservshort](../../includes/consumeadapterservshort-md.md)]検索結果を BAPI を一覧表示します。</span><span class="sxs-lookup"><span data-stu-id="2a233-157">The following figure shows the [!INCLUDE[consumeadapterservshort](../../includes/consumeadapterservshort-md.md)] listing the BAPI search result.</span></span>  
  
    <span data-ttu-id="2a233-158">![SAP システムでの Bapi の検索](../../adapters-and-accelerators/adapter-sap/media/82771a47-b656-473e-a96d-998bced38b35.gif "82771a47-b656-473e-a96d-998bced38b35")</span><span class="sxs-lookup"><span data-stu-id="2a233-158">![Search BAPIs in an SAP system](../../adapters-and-accelerators/adapter-sap/media/82771a47-b656-473e-a96d-998bced38b35.gif "82771a47-b656-473e-a96d-998bced38b35")</span></span>  
  
## <a name="generating-schema-for-biztalk-projects"></a><span data-ttu-id="2a233-159">BizTalk プロジェクトのスキーマを生成します。</span><span class="sxs-lookup"><span data-stu-id="2a233-159">Generating Schema for BizTalk Projects</span></span>  
 <span data-ttu-id="2a233-160">使用することができます、[!INCLUDE[consumeadapterservshort](../../includes/consumeadapterservshort-md.md)]または[!INCLUDE[addadapterwiz](../../includes/addadapterwiz-md.md)]SAP アイテムを選択したスキーマを生成します。</span><span class="sxs-lookup"><span data-stu-id="2a233-160">You can use the [!INCLUDE[consumeadapterservshort](../../includes/consumeadapterservshort-md.md)] or [!INCLUDE[addadapterwiz](../../includes/addadapterwiz-md.md)] to generate schema for selected SAP artifacts.</span></span> <span data-ttu-id="2a233-161">参照を呼び出したいアーティファクトの検索し、それらの成果物のスキーマを生成し、SAP システムに、スキーマに準拠したメッセージを送信できます。</span><span class="sxs-lookup"><span data-stu-id="2a233-161">Once you have browsed and searched for the artifacts you want to invoke, you can generate schema for those artifacts and send messages, conforming to the schema, to the SAP system.</span></span>  
  
> [!NOTE]
>  <span data-ttu-id="2a233-162">そのカテゴリのサブツリー内のすべての操作を返すカテゴリ ノードを選択することができます: 全体を選択するなど、BAPI のサブ機能が (そのグループ内のすべての Bapi のスキーマの生成) をまたはそれらの Bapi のスキーマを生成する特定の Bapi を選択します。</span><span class="sxs-lookup"><span data-stu-id="2a233-162">You can select category nodes to return all the operations in that category's sub-tree—for example, you can select an entire BAPI sub-functional are (to generate schema for all the BAPIs in that group) or select specific BAPIs to generate schema for only those BAPIs.</span></span> <span data-ttu-id="2a233-163">ノードの詳細については、次を参照してください。[メタデータ ノード IDs4](../../adapters-and-accelerators/adapter-sap/metadata-node-ids4.md)します。</span><span class="sxs-lookup"><span data-stu-id="2a233-163">For more information about the nodes, see [Metadata Node IDs4](../../adapters-and-accelerators/adapter-sap/metadata-node-ids4.md).</span></span>  
  
#### <a name="to-retrieve-metadata-for-bapis"></a><span data-ttu-id="2a233-164">Bapi のメタデータを取得するには</span><span class="sxs-lookup"><span data-stu-id="2a233-164">To retrieve metadata for BAPIs</span></span>  
  
1. <span data-ttu-id="2a233-165">使用して SAP サーバーに接続、[!INCLUDE[consumeadapterservshort](../../includes/consumeadapterservshort-md.md)]または[!INCLUDE[addadapterwiz](../../includes/addadapterwiz-md.md)]します。</span><span class="sxs-lookup"><span data-stu-id="2a233-165">Connect to an SAP server using the [!INCLUDE[consumeadapterservshort](../../includes/consumeadapterservshort-md.md)] or [!INCLUDE[addadapterwiz](../../includes/addadapterwiz-md.md)].</span></span> <span data-ttu-id="2a233-166">参照してください[Visual Studio での SAP システムへの接続](../../adapters-and-accelerators/adapter-sap/connect-to-the-sap-system-in-visual-studio.md)手順についてはします。</span><span class="sxs-lookup"><span data-stu-id="2a233-166">See [Connect to the SAP System in Visual Studio](../../adapters-and-accelerators/adapter-sap/connect-to-the-sap-system-in-visual-studio.md) for instructions.</span></span>  
  
2. <span data-ttu-id="2a233-167">**コントラクト型を選択します**ドロップダウン リストで、かどうかを実行するアダプターを使用して、受信または送信の操作に基づく契約の種類を選択します。</span><span class="sxs-lookup"><span data-stu-id="2a233-167">From the **Select contract type** drop-down list, select the type of contract based on whether you will be performing inbound or outbound operations using the adapter.</span></span>  
  
3. <span data-ttu-id="2a233-168">**カテゴリを選択**ボックスに、メタデータを生成する BAPI を含む BAPI の機能グループをクリックします。</span><span class="sxs-lookup"><span data-stu-id="2a233-168">In the **Select a category** box, click the BAPI functional group containing the BAPI for which you want to generate metadata.</span></span>  
  
4. <span data-ttu-id="2a233-169">**利用可能なカテゴリと操作**ボックスで、機能領域またはメタデータを生成し、をクリックする操作を選択**追加**します。</span><span class="sxs-lookup"><span data-stu-id="2a233-169">In the **Available categories and operations** box, select the functional areas or operations for which you want to generate metadata and click **Add**.</span></span> <span data-ttu-id="2a233-170">選択した機能領域または操作に表示されます、**カテゴリと操作を追加**ボックス。</span><span class="sxs-lookup"><span data-stu-id="2a233-170">The selected functional areas or operations are listed in the **Added categories and operations** box.</span></span>  
  
    <span data-ttu-id="2a233-171">次に示します、[!INCLUDE[consumeadapterservshort](../../includes/consumeadapterservshort-md.md)]選択 Bapi を一覧表示します。</span><span class="sxs-lookup"><span data-stu-id="2a233-171">The following figure shows the [!INCLUDE[consumeadapterservshort](../../includes/consumeadapterservshort-md.md)] listing the selected BAPIs.</span></span>  
  
    <span data-ttu-id="2a233-172">![BAPI のメタデータ取得](../../adapters-and-accelerators/adapter-sap/media/74170978-aef0-46c9-a6e2-36d6e9c2aefc.gif "74170978-aef0-46c9-a6e2-36d6e9c2aefc")</span><span class="sxs-lookup"><span data-stu-id="2a233-172">![Retrieve metadata for a BAPI](../../adapters-and-accelerators/adapter-sap/media/74170978-aef0-46c9-a6e2-36d6e9c2aefc.gif "74170978-aef0-46c9-a6e2-36d6e9c2aefc")</span></span>  
  
    <span data-ttu-id="2a233-173">複数の操作のスキーマを生成する場合は、いくつかで BizTalk プロジェクトのコンパイル エラーを引き起こす可能性のあるこれらのスキーマ間で重複する要素の定義である可能性があります。</span><span class="sxs-lookup"><span data-stu-id="2a233-173">If you want to generate schema for multiple operations, there may be some duplicate element definitions among these schema that may cause failure in compiling the BizTalk project.</span></span> <span data-ttu-id="2a233-174">たとえば、"Op1"操作のスキーマを生成するシナリオを検討してください。</span><span class="sxs-lookup"><span data-stu-id="2a233-174">For example, consider a scenario where you generate schema for an operation “Op1”.</span></span> <span data-ttu-id="2a233-175">"Op1"のスキーマには、複雑なデータ型"CT1"のパラメーターが含まれています。</span><span class="sxs-lookup"><span data-stu-id="2a233-175">The schema for “Op1” contains a parameter of complex data type “CT1”.</span></span> <span data-ttu-id="2a233-176">閉じる"Op1"のスキーマを生成した後、[!INCLUDE[consumeadapterservshort](../../includes/consumeadapterservshort-md.md)]し、もう一度開き、別の操作"Op2"のスキーマを生成します。</span><span class="sxs-lookup"><span data-stu-id="2a233-176">After generating the schema for “Op1” you close the [!INCLUDE[consumeadapterservshort](../../includes/consumeadapterservshort-md.md)] and re-open it to generate schema for another operation “Op2”.</span></span> <span data-ttu-id="2a233-177">"Op2"も複雑なデータ型"CT1"のパラメーターが含まれていると仮定します。</span><span class="sxs-lookup"><span data-stu-id="2a233-177">Assume that “Op2” also contains a parameter of complex data type “CT1”.</span></span> <span data-ttu-id="2a233-178">終了した後、[!INCLUDE[consumeadapterservshort](../../includes/consumeadapterservshort-md.md)]とプロジェクトをコンパイル、複雑なデータ型"CT1"が別の XSD ファイルで 2 回定義されているため、コンパイル エラーが発生します。</span><span class="sxs-lookup"><span data-stu-id="2a233-178">After you exit the [!INCLUDE[consumeadapterservshort](../../includes/consumeadapterservshort-md.md)] and compile the project, you will get compilation errors because the complex data type “CT1” is defined twice in different XSD files.</span></span> <span data-ttu-id="2a233-179">このような状況には、次のお勧めします。</span><span class="sxs-lookup"><span data-stu-id="2a233-179">In such situations, we recommend the following:</span></span>  
  
   - <span data-ttu-id="2a233-180">1 つの実行ですべての操作のスキーマを生成[!INCLUDE[consumeadapterservshort](../../includes/consumeadapterservshort-md.md)]します。</span><span class="sxs-lookup"><span data-stu-id="2a233-180">Generate schema for all the operations in a single run of [!INCLUDE[consumeadapterservshort](../../includes/consumeadapterservshort-md.md)].</span></span> <span data-ttu-id="2a233-181">これにより、 [!INCLUDE[consumeadapterservshort](../../includes/consumeadapterservshort-md.md)] "CT1"複雑なデータ型の 1 つだけ定義が生成されます。</span><span class="sxs-lookup"><span data-stu-id="2a233-181">This ensures that the [!INCLUDE[consumeadapterservshort](../../includes/consumeadapterservshort-md.md)] generates only one definition for the complex data type “CT1”.</span></span>  
  
   - <span data-ttu-id="2a233-182">複数の異なる実行で複数の操作のスキーマを生成するかどうか[!INCLUDE[consumeadapterservshort](../../includes/consumeadapterservshort-md.md)]を選択するかどうかを確認、**一意のスキーマ型を生成**生成された XSD ファイルには、複雑な一意の名前空間が含まれるように、チェック ボックスデータは、"CT1"を入力します。</span><span class="sxs-lookup"><span data-stu-id="2a233-182">If you want to generate schema for multiple operations across different runs of [!INCLUDE[consumeadapterservshort](../../includes/consumeadapterservshort-md.md)], make sure you select the **Generate unique schema types** check box so that the generated XSD files contain unique namespaces for the complex data type “CT1”.</span></span>  
  
5. <span data-ttu-id="2a233-183">**[OK]** をクリックします。</span><span class="sxs-lookup"><span data-stu-id="2a233-183">Click **OK**.</span></span> <span data-ttu-id="2a233-184">スキーマ ファイルは、BizTalk プロジェクトと同じ場所にある拡張子が .xsd で保存されます。</span><span class="sxs-lookup"><span data-stu-id="2a233-184">The schema file is saved with an .xsd extension at the same location as the BizTalk project.</span></span>  
  
   > [!NOTE]
   >  <span data-ttu-id="2a233-185">使用する場合[!INCLUDE[consumeadapterservshort](../../includes/consumeadapterservshort-md.md)]、名前付け規則で既定では、ファイルの作成"SAPBinding\<n\>.xsd"ここで、' n '、1 を指定できます、2 などによって作成されたスキーマ ファイルの数にします。</span><span class="sxs-lookup"><span data-stu-id="2a233-185">If you are using [!INCLUDE[consumeadapterservshort](../../includes/consumeadapterservshort-md.md)], by default the files are created with the naming convention "SAPBinding\<n\>.xsd", where 'n' can be 1, 2, etc. depending on the number of schema files created.</span></span> <span data-ttu-id="2a233-186">または、スキーマ ファイルにカスタム名を提供の名前を入力、**ファイル名のプレフィックス**テキスト ボックス。</span><span class="sxs-lookup"><span data-stu-id="2a233-186">Alternatively, you can provide a custom name to the schema files by entering a name in the **Filename prefix** text box.</span></span> <span data-ttu-id="2a233-187">[!INCLUDE[consumeadapterservshort](../../includes/consumeadapterservshort-md.md)]名前付け規則で今すぐスキーマ ファイルを作成します\<ファイル名のプレフィックス\>\<n\>.xsd。</span><span class="sxs-lookup"><span data-stu-id="2a233-187">The [!INCLUDE[consumeadapterservshort](../../includes/consumeadapterservshort-md.md)] now creates schema files with the naming convention \<filename prefix\>\<n\>.xsd.</span></span>  
   > 
   > [!NOTE]
   >  <span data-ttu-id="2a233-188">[!INCLUDE[consumeadapterservshort](../../includes/consumeadapterservshort-md.md)]スキーマの生成中に指定したバインドのプロパティを含むバインド ファイル (XML ファイル) も作成操作と操作を呼び出すための SOAP アクション。</span><span class="sxs-lookup"><span data-stu-id="2a233-188">The [!INCLUDE[consumeadapterservshort](../../includes/consumeadapterservshort-md.md)] also creates a binding file (an XML file) containing the binding properties that you specified while generating the schema for an operation and the SOAP action to invoke the operation.</span></span> <span data-ttu-id="2a233-189">接続 URI、バインドのプロパティを持つ WCF カスタム ポートを作成する BizTalk Server 管理コンソールでこのバインド ファイルをインポートして、SOAP アクションを設定します。</span><span class="sxs-lookup"><span data-stu-id="2a233-189">You can import this binding file in the BizTalk Server Administration console to create a WCF-Custom port with the connection URI, binding properties, and the SOAP action set.</span></span> <span data-ttu-id="2a233-190">詳細については、次を参照してください。 [sap ポートのバインド ファイルを使用して物理的なポート バインドを構成する](../../adapters-and-accelerators/adapter-sap/configure-a-physical-port-binding-using-a-port-binding-file-to-sap.md)します。</span><span class="sxs-lookup"><span data-stu-id="2a233-190">For more information, see [Configure a physical port binding using a port binding file to SAP](../../adapters-and-accelerators/adapter-sap/configure-a-physical-port-binding-using-a-port-binding-file-to-sap.md).</span></span>
  
6. <span data-ttu-id="2a233-191">**[ファイル]** メニューの **[すべてを保存]** をクリックします。</span><span class="sxs-lookup"><span data-stu-id="2a233-191">On the **File** menu, click **Save All**.</span></span>  
  
## <a name="generating-a-wcf-client-for-bapi-operations-using-the-add-adapter-service-reference-plug-in"></a><span data-ttu-id="2a233-192">BAPI の操作を使用して WCF クライアントの生成、プラグインのアダプター サービス参照の追加</span><span class="sxs-lookup"><span data-stu-id="2a233-192">Generating a WCF Client for BAPI Operations Using the Add Adapter Service Reference Plug-in</span></span>  
 <span data-ttu-id="2a233-193">使用することができます、 [!INCLUDE[addadapterservrefshort](../../includes/addadapterservrefshort-md.md)] BAPI の操作 (Bapi は、受信操作はサポートされていません) の WCF クライアント コードを生成します。</span><span class="sxs-lookup"><span data-stu-id="2a233-193">You can use the [!INCLUDE[addadapterservrefshort](../../includes/addadapterservrefshort-md.md)] to generate WCF client code for BAPI operations (inbound operations are not supported for BAPIs).</span></span>  
  
#### <a name="to-generate-a-wcf-client-for-bapis"></a><span data-ttu-id="2a233-194">Bapi の WCF クライアントを生成するには</span><span class="sxs-lookup"><span data-stu-id="2a233-194">To generate a WCF client for BAPIs</span></span>  
  
1. <span data-ttu-id="2a233-195">[!INCLUDE[addadapterservrefshort](../../includes/addadapterservrefshort-md.md)]から、**コントラクト型を選択します**ドロップダウン リスト、選択**クライアント (送信操作)** します。</span><span class="sxs-lookup"><span data-stu-id="2a233-195">In the [!INCLUDE[addadapterservrefshort](../../includes/addadapterservrefshort-md.md)], from the **Select contract type** drop-down list, select **Client (Outbound operations)**.</span></span>  
  
2. <span data-ttu-id="2a233-196">**カテゴリを選択**ボックスで、展開、 **BAPI**ノードし参照または BAPI のカテゴリまたは WCF クライアントを生成する操作を検索します。</span><span class="sxs-lookup"><span data-stu-id="2a233-196">In the **Select a category** box, expand the **BAPI** node, and then browse or search for the BAPI categories or operations for which you want to generate a WCF client.</span></span>  
  
3. <span data-ttu-id="2a233-197">**利用可能なカテゴリと操作**ボックスに、操作は、カテゴリ (BAPI の機能グループ) をクリックして、WCF クライアントを生成する選択**追加**します。</span><span class="sxs-lookup"><span data-stu-id="2a233-197">In the **Available categories and operations** box, select the operations or categories (BAPI functional groups) for which you want to generate a WCF client, and then click **Add**.</span></span> <span data-ttu-id="2a233-198">選択した操作が記載されて、**カテゴリと操作を追加**ボックス。</span><span class="sxs-lookup"><span data-stu-id="2a233-198">The selected operations are listed in the **Added categories and operations** box.</span></span> <span data-ttu-id="2a233-199">記載されている任意のノードを選択することができます、**利用可能なカテゴリと操作**ボックス。</span><span class="sxs-lookup"><span data-stu-id="2a233-199">You can select any node that is listed in the **Available categories and operations** box.</span></span> <span data-ttu-id="2a233-200">カテゴリのノードを選択した場合は、すべてのノードとそのサブ ノードで使用可能な操作が選択されます。</span><span class="sxs-lookup"><span data-stu-id="2a233-200">If you select a category node, then all of the operations available under that node and its sub-nodes will be selected.</span></span>  
  
   > [!IMPORTANT]
   >  <span data-ttu-id="2a233-201">[!INCLUDE[addadapterservrefshort](../../includes/addadapterservrefshort-md.md)]各ビジネス オブジェクトの一意の WCF クライアント クラスが生成されます。</span><span class="sxs-lookup"><span data-stu-id="2a233-201">The [!INCLUDE[addadapterservrefshort](../../includes/addadapterservrefshort-md.md)] generates a unique WCF client class for each business object.</span></span> <span data-ttu-id="2a233-202">によって、カテゴリと、選択した操作は、複数の WCF クライアント クラスが生成されます。</span><span class="sxs-lookup"><span data-stu-id="2a233-202">Depending on the categories and operations that you select, more than one WCF client class may be generated.</span></span> <span data-ttu-id="2a233-203">詳細については、次を参照してください。 [WCF クライアントまたは SAP ソリューションの成果物の WCF サービス コントラクトを生成](../../adapters-and-accelerators/adapter-sap/generate-a-wcf-client-or-a-wcf-service-contract-for-sap-solution-artifacts.md)します。</span><span class="sxs-lookup"><span data-stu-id="2a233-203">For more information, see [Generate a WCF client or a WCF service contract for SAP solution artifacts](../../adapters-and-accelerators/adapter-sap/generate-a-wcf-client-or-a-wcf-service-contract-for-sap-solution-artifacts.md).</span></span>  
  
4. <span data-ttu-id="2a233-204">ほとんどのシナリオで、既定のシリアル化オプションで十分です。ただし、必要な場合は、生成されたコードに関するいくつかの側面と使用されるシリアライザーの型を制御できます。</span><span class="sxs-lookup"><span data-stu-id="2a233-204">For most scenarios the default serialization options are sufficient; however, if needed, you can control several aspects about the code that is generated and the type of serializer that is used.</span></span> <span data-ttu-id="2a233-205">これらのオプションを設定するには</span><span class="sxs-lookup"><span data-stu-id="2a233-205">To set these options:</span></span>  
  
   1. <span data-ttu-id="2a233-206">をクリックして**詳細オプション**を開く、**詳細オプション**ボックス。</span><span class="sxs-lookup"><span data-stu-id="2a233-206">Click **Advanced Options** to open the **Advanced Options** box.</span></span>  
  
   2. <span data-ttu-id="2a233-207">**オプションの高度な**ボックス**生成されたプロキシのオプションを選択**、必要なオプションを選択します。</span><span class="sxs-lookup"><span data-stu-id="2a233-207">In the **Advanced Options** box under **Choose options for generated proxy**, select the options that you want.</span></span> <span data-ttu-id="2a233-208">たとえば、非同期メソッドは、WCF クライアントの生成または構成ファイルの生成を無効にするかどうかを選択できます。</span><span class="sxs-lookup"><span data-stu-id="2a233-208">For example, you can select whether asynchronous methods are generated for the WCF client or disable the generation of a configuration file.</span></span>  
  
   3. <span data-ttu-id="2a233-209">**シリアライザー**使用されるシリアライザーを選択します。</span><span class="sxs-lookup"><span data-stu-id="2a233-209">Under **Serializer** select the serializer that should be used.</span></span>  
  
      <span data-ttu-id="2a233-210">次に示します、**オプションの高度な**ボックスに、既定の選択 (**自動**が選択されているシリアライザーとしないその他のオプションが選択されているため)。</span><span class="sxs-lookup"><span data-stu-id="2a233-210">The following figure shows the **Advanced Options** box with the default selections (**Auto** is selected for the serializer and no other options are selected).</span></span>  
  
      <span data-ttu-id="2a233-211">![高度なオプションが既定の設定をボックス](../../adapters-and-accelerators/adapter-oracle-database/media/r2-net-adapters-oracle-msb-advanced-options.gif "R2_NET_Adapters_Oracle_MSB_Advanced_Options")</span><span class="sxs-lookup"><span data-stu-id="2a233-211">![The Advanced Options box default settings](../../adapters-and-accelerators/adapter-oracle-database/media/r2-net-adapters-oracle-msb-advanced-options.gif "R2_NET_Adapters_Oracle_MSB_Advanced_Options")</span></span>  
  
      <span data-ttu-id="2a233-212">オプションで構成できる、**詳細オプション**ServiceModel メタデータ ユーティリティ ツール (svcutil.exe) を使用する場合は、ボックスはいくつかの使用可能なオプションに相当します。</span><span class="sxs-lookup"><span data-stu-id="2a233-212">The options that you can configure in the **Advanced Options** box are equivalent to some of the options available when you use the ServiceModel Metadata Utility Tool (svcutil.exe).</span></span> <span data-ttu-id="2a233-213">これらのオプションの詳細については、次を参照してください。 [ServiceModel メタデータ ユーティリティ ツール (Svcutil.exe)](https://msdn.microsoft.com/library/aa347733.aspx)します。</span><span class="sxs-lookup"><span data-stu-id="2a233-213">For more information about these options, see [ServiceModel Metadata Utility Tool (Svcutil.exe)](https://msdn.microsoft.com/library/aa347733.aspx).</span></span> 
  
5. <span data-ttu-id="2a233-214">**[OK]** をクリックします。</span><span class="sxs-lookup"><span data-stu-id="2a233-214">Click **OK**.</span></span> <span data-ttu-id="2a233-215">[!INCLUDE[addadapterservrefshort](../../includes/addadapterservrefshort-md.md)]選択した操作とカテゴリのプロジェクト ディレクトリ内の WCF クライアント クラスとヘルパー コードを保存します。</span><span class="sxs-lookup"><span data-stu-id="2a233-215">The [!INCLUDE[addadapterservrefshort](../../includes/addadapterservrefshort-md.md)] saves the WCF client class and helper code in your project directory for the selected operations and categories.</span></span> <span data-ttu-id="2a233-216">既定では、構成ファイルも保存されます。</span><span class="sxs-lookup"><span data-stu-id="2a233-216">By default, a configuration file is also saved.</span></span> <span data-ttu-id="2a233-217">詳細については、次を参照してください。 [WCF クライアントまたは SAP ソリューションの成果物の WCF サービス コントラクトを生成](../../adapters-and-accelerators/adapter-sap/generate-a-wcf-client-or-a-wcf-service-contract-for-sap-solution-artifacts.md)します。</span><span class="sxs-lookup"><span data-stu-id="2a233-217">For more information, see [Generate a WCF client or a WCF service contract for SAP solution artifacts](../../adapters-and-accelerators/adapter-sap/generate-a-wcf-client-or-a-wcf-service-contract-for-sap-solution-artifacts.md).</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="2a233-218">参照</span><span class="sxs-lookup"><span data-stu-id="2a233-218">See Also</span></span>  
 [<span data-ttu-id="2a233-219">Visual Studio で SAP 操作のメタデータを取得する</span><span class="sxs-lookup"><span data-stu-id="2a233-219">Get Metadata for SAP Operations in Visual Studio</span></span>](../../adapters-and-accelerators/adapter-sap/get-metadata-for-sap-operations-in-visual-studio.md)