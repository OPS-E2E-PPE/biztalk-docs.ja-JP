---
title: SAP での Idoc に対する操作 |Microsoft ドキュメント
ms.custom: ''
ms.date: 06/08/2017
ms.prod: biztalk-server
ms.reviewer: ''
ms.suite: ''
ms.tgt_pltfrm: ''
ms.topic: article
helpviewer_keywords:
- IDOC, operations to receive an
- IDOCs
- IDOCs, operations on
- tRFC server
- IDOC, operations to send an
- RFC server
ms.assetid: 6abcc646-c7a3-48cf-a09e-01f516dcef97
caps.latest.revision: 5
author: MandiOhlinger
ms.author: mandia
manager: anneta
ms.openlocfilehash: cebc9e3fb8382fecf7791d14d52a21ac96f77cde
ms.sourcegitcommit: 5abd0ed3f9e4858ffaaec5481bfa8878595e95f7
ms.translationtype: MT
ms.contentlocale: ja-JP
ms.lasthandoff: 11/28/2017
ms.locfileid: "25964552"
---
# <a name="operations-on-idocs-in-sap"></a><span data-ttu-id="74a8b-102">SAP での Idoc に対する操作</span><span class="sxs-lookup"><span data-stu-id="74a8b-102">Operations on IDOCs in SAP</span></span>
<span data-ttu-id="74a8b-103">Idoc は、SAP が非同期的に SAP および SAP 以外のシステムと通信するためにサポートする標準の EDI のようなドキュメントです。</span><span class="sxs-lookup"><span data-stu-id="74a8b-103">IDOCs are standardized EDI-like documents that SAP supports for asynchronously communicating with SAP and non-SAP systems.</span></span> <span data-ttu-id="74a8b-104">Idoc は、取引先の SAP システムまたは外部プログラムの間の販売注文、たとえばなどの「ビジネス」ドキュメントの送受信に使用されます。</span><span class="sxs-lookup"><span data-stu-id="74a8b-104">IDOCs are used for sending and receiving “business” documents such as sales orders, for example, to or from a trading partner’s SAP system or an external program.</span></span>  
  
 <span data-ttu-id="74a8b-105">SAP システムが Idoc を送受信するポートの種類の数をサポートしています (file ポートなど CPIC ポート) では、 [!INCLUDE[adaptersap_short](../../includes/adaptersap-short-md.md)] tRFC ポート経由での Idoc の送受信をサポートしています。</span><span class="sxs-lookup"><span data-stu-id="74a8b-105">Although the SAP system supports a number of port types to send and receive IDOCs (such as file port, CPIC port), the [!INCLUDE[adaptersap_short](../../includes/adaptersap-short-md.md)] supports sending and receiving IDOCs via the tRFC port.</span></span>  
  
## <a name="operations-to-send-an-idoc"></a><span data-ttu-id="74a8b-106">IDOC を送信する操作</span><span class="sxs-lookup"><span data-stu-id="74a8b-106">Operations to Send an IDOC</span></span>  
 <span data-ttu-id="74a8b-107">TRFC の呼び出しと、SAP IDOC 呼び出しはすべては内部的に扱われ、アダプターが tRFC クライアントとして機能し、SAP IDOC を送信するの RFC を呼び出します。</span><span class="sxs-lookup"><span data-stu-id="74a8b-107">All IDOC calls to SAP are internally treated as tRFC calls in which the adapter acts as a tRFC client and calls an RFC in SAP to send an IDOC.</span></span> <span data-ttu-id="74a8b-108">その他の tRFC クライアント呼び出しと同じようにアダプター クライアントは、アダプターは、さらに、トランザクション ID (TID)、SAP システムでの呼び出しに使用する関連付けに必要に応じてデータの GUID を渡します。</span><span class="sxs-lookup"><span data-stu-id="74a8b-108">Just like any other tRFC client call, the adapter client optionally passes a GUID to the adapter, which in turn associates it with the transaction ID (TID) that it uses for the call on the SAP system.</span></span> <span data-ttu-id="74a8b-109">(アダプターのクライアントに GUID が渡されない場合、アダプターが生成する、独自の GUID です。)GUID には、アダプターでクライアントに応答メッセージが返されます。</span><span class="sxs-lookup"><span data-stu-id="74a8b-109">(If the adapter client does not pass a GUID, the adapter generates its own GUID.) The GUID is returned to the adapter client in the response message.</span></span> <span data-ttu-id="74a8b-110">アダプターのクライアントでは、この GUID を使用して、SAP システムで TID を確認します。</span><span class="sxs-lookup"><span data-stu-id="74a8b-110">The adapter client can use this GUID to confirm the TID on the SAP system.</span></span> <span data-ttu-id="74a8b-111">TRFC の呼び出しは、SAP バインドの特別な静的メソッドを呼び出すことによって取得できるは、アダプターで使用される実際の SAP TID **ConvertGuidToTid**です。</span><span class="sxs-lookup"><span data-stu-id="74a8b-111">The actual SAP TID used by the adapter for the tRFC call can be obtained by invoking a special static method in the SAP binding, **ConvertGuidToTid**.</span></span> <span data-ttu-id="74a8b-112">実際の TID を持つには、SAP システムの問題のトラブルシューティングに役立つ可能性があります。</span><span class="sxs-lookup"><span data-stu-id="74a8b-112">Having the actual TID may be useful for troubleshooting issues on the SAP system.</span></span>  
  
 <span data-ttu-id="74a8b-113">IDOC の完了を送信する呼び出しの後に、SAP システムで TID を確認してください。</span><span class="sxs-lookup"><span data-stu-id="74a8b-113">After the call to send the IDOC is completed, the TID must be confirmed on the SAP system.</span></span> <span data-ttu-id="74a8b-114">これにより、そのデータベースから TID を削除する SAP システムです。</span><span class="sxs-lookup"><span data-stu-id="74a8b-114">This enables the SAP system to delete the TID from its database.</span></span> <span data-ttu-id="74a8b-115">アダプターのクライアントは、SAP システムで TID を確認できます。</span><span class="sxs-lookup"><span data-stu-id="74a8b-115">The adapter client can confirm the TID on the SAP system.</span></span>  
  
-   <span data-ttu-id="74a8b-116">呼び出すことによって、明示的に、 **RfcConfirmTransID**アダプターで操作します。</span><span class="sxs-lookup"><span data-stu-id="74a8b-116">Explicitly, by invoking the **RfcConfirmTransID** operation on the adapter.</span></span> <span data-ttu-id="74a8b-117">この操作は、(上記の応答メッセージで返される) の GUID を取得し、アダプターは、SAP システムに関連付けられている TID を確認します。</span><span class="sxs-lookup"><span data-stu-id="74a8b-117">This operation takes a GUID (returned in the response message above) and causes the adapter to confirm the associated TID on the SAP system.</span></span>  
  
-   <span data-ttu-id="74a8b-118">設定して暗黙的には、 **AutoConfirmSentIdocs**プロパティをバインドします。</span><span class="sxs-lookup"><span data-stu-id="74a8b-118">Implicitly, by setting the **AutoConfirmSentIdocs** binding property.</span></span> <span data-ttu-id="74a8b-119">このバインドのプロパティが true の場合、アダプターにより自動的にコミット TID IDOC を SAP システムに送信した後です。</span><span class="sxs-lookup"><span data-stu-id="74a8b-119">If this binding property is true, the adapter automatically commits the TID after it sends the IDOC to the SAP system.</span></span> <span data-ttu-id="74a8b-120">参照してください[mySAP Business Suite バインド プロパティの BizTalk アダプターの説明を読む](../../adapters-and-accelerators/adapter-sap/read-about-biztalk-adapter-for-mysap-business-suite-binding-properties.md)詳細についてはします。</span><span class="sxs-lookup"><span data-stu-id="74a8b-120">See [Read about BizTalk Adapter for mySAP Business Suite Binding Properties](../../adapters-and-accelerators/adapter-sap/read-about-biztalk-adapter-for-mysap-business-suite-binding-properties.md) for more information.</span></span>  
  
 <span data-ttu-id="74a8b-121">[!INCLUDE[adaptersap_short](../../includes/adaptersap-short-md.md)]の次の Rfc を使用して、IDOC を送信します。</span><span class="sxs-lookup"><span data-stu-id="74a8b-121">The [!INCLUDE[adaptersap_short](../../includes/adaptersap-short-md.md)] uses the following RFCs to send an IDOC:</span></span>  
  
-   <span data-ttu-id="74a8b-122">INBOUND_IDOC_PROCESS です。</span><span class="sxs-lookup"><span data-stu-id="74a8b-122">INBOUND_IDOC_PROCESS.</span></span> <span data-ttu-id="74a8b-123">この関数モジュールが使用される 4.0 より前に、の SAP リリースします。</span><span class="sxs-lookup"><span data-stu-id="74a8b-123">This function module is used for SAP releases before 4.0.</span></span>  
  
-   <span data-ttu-id="74a8b-124">IDOC_INBOUND_ASYNCHRONOUS です。</span><span class="sxs-lookup"><span data-stu-id="74a8b-124">IDOC_INBOUND_ASYNCHRONOUS.</span></span> <span data-ttu-id="74a8b-125">この関数モジュールは、使用される SAP リリース 4.0 以降がします。</span><span class="sxs-lookup"><span data-stu-id="74a8b-125">This function module is used for SAP release 4.0 and later.</span></span>  
  
### <a name="sending-idocs-with-segment-data-across-multiple-lines"></a><span data-ttu-id="74a8b-126">複数の行の Idoc のセグメントのデータを送信します。</span><span class="sxs-lookup"><span data-stu-id="74a8b-126">Sending IDOCs with Segment Data Across Multiple Lines</span></span>  
 <span data-ttu-id="74a8b-127">Idoc はセグメントの角形で構成します。</span><span class="sxs-lookup"><span data-stu-id="74a8b-127">IDOCs are constituted of segments.</span></span> <span data-ttu-id="74a8b-128">IDOC フラット ファイル内の各セグメント エントリには、(DOCNUM フィールドを含む)、セグメント ヘッダー情報と、セグメント データが含まれています。</span><span class="sxs-lookup"><span data-stu-id="74a8b-128">Each segment entry in an IDOC flat-file contains the segment header info (containing the DOCNUM field) and the segment data.</span></span> <span data-ttu-id="74a8b-129">一部の Idoc の複数の行、セグメント データを分割できます。</span><span class="sxs-lookup"><span data-stu-id="74a8b-129">In some IDOCs, the segment data can be split across multiple lines.</span></span> <span data-ttu-id="74a8b-130">例:</span><span class="sxs-lookup"><span data-stu-id="74a8b-130">For example:</span></span>  
  
```  
Segment header (DOCNUM is one of the fields here)  |  Segment data  
Segment header (DOCNUM is one of the fields here)  |  Segment data  
Segment data wrapped from the previous line  
Segment header (DOCNUM is one of the fields here)  |  Segment data  
```  
  
 <span data-ttu-id="74a8b-131">WCF ベース[!INCLUDE[adaptersap_short](../../includes/adaptersap-short-md.md)]SAP システムにこのような Idoc の送信をサポートします。</span><span class="sxs-lookup"><span data-stu-id="74a8b-131">The WCF-based [!INCLUDE[adaptersap_short](../../includes/adaptersap-short-md.md)] supports sending such IDOCs to the SAP system.</span></span> <span data-ttu-id="74a8b-132">このような Idoc の送信をサポートするために、[!INCLUDE[adaptersap_short](../../includes/adaptersap-short-md.md)]かどうか、1 つ前の継続は、各セグメントのデータまたはセグメントの新しいデータであるかどうかを判断します。</span><span class="sxs-lookup"><span data-stu-id="74a8b-132">To support sending such IDOCs, the [!INCLUDE[adaptersap_short](../../includes/adaptersap-short-md.md)] determines whether each segment data is a continuation of the previous one, or whether it is a new segment data.</span></span> <span data-ttu-id="74a8b-133">[!INCLUDE[adaptersap_short](../../includes/adaptersap-short-md.md)]セグメントの各ヘッダーを解析および DOCNUM フィールドを探してによってこれを決定します。</span><span class="sxs-lookup"><span data-stu-id="74a8b-133">The [!INCLUDE[adaptersap_short](../../includes/adaptersap-short-md.md)] decides this by parsing each segment header and looking for the DOCNUM field.</span></span> <span data-ttu-id="74a8b-134">2 番目の行が、セグメント ヘッダーを持たない場合は、セグメント データは 2 つの直線に分割、およびその結果、 [!INCLUDE[adaptersap_short](../../includes/adaptersap-short-md.md)] DOCNUM フィールドを見つけられません。</span><span class="sxs-lookup"><span data-stu-id="74a8b-134">If the segment data is split across two lines, the second line does not have a segment header and as a result the [!INCLUDE[adaptersap_short](../../includes/adaptersap-short-md.md)] does not find the DOCNUM field.</span></span> <span data-ttu-id="74a8b-135">したがって、[!INCLUDE[adaptersap_short](../../includes/adaptersap-short-md.md)]前のセグメント データの継続タスクであることを確認できます。</span><span class="sxs-lookup"><span data-stu-id="74a8b-135">Hence, the [!INCLUDE[adaptersap_short](../../includes/adaptersap-short-md.md)] can determine that it is a continuation of the previous segment data.</span></span>  
  
 <span data-ttu-id="74a8b-136">たとえば、上に示した IDOC の表記で、[!INCLUDE[adaptersap_short](../../includes/adaptersap-short-md.md)]の任意の DOCNUM フィールドが見つからない"`Segment data wrapped from the previous line`"し、回線が前のセグメント データの継続タスクを決定することがします。</span><span class="sxs-lookup"><span data-stu-id="74a8b-136">For example, in the representation of an IDOC shown above, the [!INCLUDE[adaptersap_short](../../includes/adaptersap-short-md.md)] does not find any DOCNUM field in “`Segment data wrapped from the previous line`” and is able to decide that the line is a continuation of the previous segment data.</span></span> <span data-ttu-id="74a8b-137">IDOC のサイズを考えると、処理時間が長くの各セグメントのデータに対してそのようなチェックを実行して、実稼働環境でのフラット ファイルがあります。</span><span class="sxs-lookup"><span data-stu-id="74a8b-137">Considering the size of IDOC flat files in production environments, performing such checks for each segment data may result in increased processing time.</span></span>  
  
> [!NOTE]
>  <span data-ttu-id="74a8b-138">アダプターは、IDOC データから識別および各セグメント レコードを抽出、復帰改行 (CRLF) ではなく DOCNUM フィールドを使用します。</span><span class="sxs-lookup"><span data-stu-id="74a8b-138">The adapter uses the DOCNUM field instead of a carriage return line feed (CRLF) to identify and extract each segment record from IDOC data.</span></span> <span data-ttu-id="74a8b-139">無効または部分的に空白、DOCNUM レコードのフィールド コントロールとデータがある場合、アダプタは IDOC を解析に失敗します。</span><span class="sxs-lookup"><span data-stu-id="74a8b-139">If the DOCNUM fields in the control and data records are invalid or partly blank, the adapter fails to parse the IDOC.</span></span> <span data-ttu-id="74a8b-140">そのため、IDOC が SAP システムへは送信されません。</span><span class="sxs-lookup"><span data-stu-id="74a8b-140">Hence, the IDOC is not sent to the SAP system.</span></span>  
  
### <a name="operations-to-send-an-idoc"></a><span data-ttu-id="74a8b-141">IDOC を送信する操作</span><span class="sxs-lookup"><span data-stu-id="74a8b-141">Operations to Send an IDOC</span></span>  
 <span data-ttu-id="74a8b-142">次の操作は、Idoc を SAP システムに送信するためにサポートされます。</span><span class="sxs-lookup"><span data-stu-id="74a8b-142">The following operations are supported for sending IDOCs to an SAP system:</span></span>  
  
-   <span data-ttu-id="74a8b-143">**送信**です。</span><span class="sxs-lookup"><span data-stu-id="74a8b-143">**Send**.</span></span> <span data-ttu-id="74a8b-144">厳密に型指定されたスキーマを使用して SAP システムに IDOC を送信するのにには、この操作を使用します。</span><span class="sxs-lookup"><span data-stu-id="74a8b-144">Use this operation to send an IDOC to the SAP system using a strongly-typed schema.</span></span> <span data-ttu-id="74a8b-145">この操作のスキーマは、制御レコードのフィールドとセグメントのヘッダー セグメント フィールドなど、データ レコードのフィールドを公開します。</span><span class="sxs-lookup"><span data-stu-id="74a8b-145">The schema for this operation exposes control record fields and data record fields, including segment headers and segment fields.</span></span> <span data-ttu-id="74a8b-146">送信操作が IDocType + CimType + ReleaseNumber + バージョンに固有の組み合わせ。</span><span class="sxs-lookup"><span data-stu-id="74a8b-146">The Send operation is specific to an IDocType + CimType + ReleaseNumber + Version combination.</span></span>  
  
     <span data-ttu-id="74a8b-147">この操作は各 IDOC の確認の特定の IDOC ノードで使用可能な[!INCLUDE[addadapterservrefshort](../../includes/addadapterservrefshort-md.md)]または[!INCLUDE[consumeadapterservshort](../../includes/consumeadapterservshort-md.md)]です。</span><span class="sxs-lookup"><span data-stu-id="74a8b-147">This operation is surfaced for each IDOC and is available under a specific IDOC node in the [!INCLUDE[addadapterservrefshort](../../includes/addadapterservrefshort-md.md)] or [!INCLUDE[consumeadapterservshort](../../includes/consumeadapterservshort-md.md)].</span></span>  
  
    > [!NOTE]
    >  <span data-ttu-id="74a8b-148">正常に実行できる、**送信**操作、SAP システムに関連する承認が必要です。</span><span class="sxs-lookup"><span data-stu-id="74a8b-148">To be able to successfully perform a **Send** operation, you must have relevant authorization in the SAP system.</span></span> <span data-ttu-id="74a8b-149">詳しくは、</span><span class="sxs-lookup"><span data-stu-id="74a8b-149">For more information.</span></span>  
  
-   <span data-ttu-id="74a8b-150">**SendIdoc**です。</span><span class="sxs-lookup"><span data-stu-id="74a8b-150">**SendIdoc**.</span></span> <span data-ttu-id="74a8b-151">弱い型指定のスキーマを使用して、SAP システムに IDOC を送信するのにには、この操作を使用します。</span><span class="sxs-lookup"><span data-stu-id="74a8b-151">Use this operation to send an IDOC to the SAP system using a weakly-typed schema.</span></span> <span data-ttu-id="74a8b-152">この操作のスキーマは、制御レコードとのデータ レコードで構成される 1 つの文字列フィールドとして Idoc を公開します。</span><span class="sxs-lookup"><span data-stu-id="74a8b-152">The schema for this operation exposes IDOCs as a single string field consisting the control record and data record.</span></span> <span data-ttu-id="74a8b-153">SendIdoc 操作は、IDOC 文字列および GUID をパラメーターとして受け取ります。</span><span class="sxs-lookup"><span data-stu-id="74a8b-153">The SendIdoc operation takes an IDOC string and a GUID as a parameter.</span></span>  
  
     <span data-ttu-id="74a8b-154">これは、SAP システムによって公開されているすべての Idoc に表示される 1 つの操作は、ルートで使用可能な**IDOC**内のノード、[!INCLUDE[addadapterservrefshort](../../includes/addadapterservrefshort-md.md)]または[!INCLUDE[consumeadapterservshort](../../includes/consumeadapterservshort-md.md)]です。</span><span class="sxs-lookup"><span data-stu-id="74a8b-154">This is a single operation surfaced for all IDOCs exposed by the SAP system and is available under the root **IDOC** node in the [!INCLUDE[addadapterservrefshort](../../includes/addadapterservrefshort-md.md)] or [!INCLUDE[consumeadapterservshort](../../includes/consumeadapterservshort-md.md)].</span></span>  
  
 <span data-ttu-id="74a8b-155">詳細については。</span><span class="sxs-lookup"><span data-stu-id="74a8b-155">For more information about:</span></span>  
  
-   <span data-ttu-id="74a8b-156">BizTalk Server を使用して SAP システムに IDOC を送信するを参照してください[を使用して BizTalk Server での SAP への Idoc の送信](../../adapters-and-accelerators/adapter-sap/send-idocs-to-sap-using-biztalk-server.md)です。</span><span class="sxs-lookup"><span data-stu-id="74a8b-156">Sending an IDOC to an SAP system using BizTalk Server, see [Send IDOCs to SAP by Using BizTalk Server](../../adapters-and-accelerators/adapter-sap/send-idocs-to-sap-using-biztalk-server.md).</span></span>  
  
-   <span data-ttu-id="74a8b-157">IDOC を送信する WCF サービスのモデルを使用して SAP システムを参照してください[WCF サービス モデルを使用して sap Idoc の送信](../../adapters-and-accelerators/adapter-sap/send-idocs-to-sap-using-the-wcf-service-model.md)です。</span><span class="sxs-lookup"><span data-stu-id="74a8b-157">Sending an IDOC to an SAP system using WCF service model, see [Send IDOCs to SAP by Using the WCF Service Model](../../adapters-and-accelerators/adapter-sap/send-idocs-to-sap-using-the-wcf-service-model.md).</span></span>  
  
-   <span data-ttu-id="74a8b-158">メッセージの構造と、IDOC を送信するための SOAP アクションを参照してください[IDOC 操作のメッセージ スキーマを](../../adapters-and-accelerators/adapter-sap/message-schemas-for-idoc-operations.md)です。</span><span class="sxs-lookup"><span data-stu-id="74a8b-158">Message structures and SOAP action for sending an IDOC, see [Message Schemas for IDOC Operations](../../adapters-and-accelerators/adapter-sap/message-schemas-for-idoc-operations.md).</span></span>  
  
## <a name="operations-to-receive-an-idoc"></a><span data-ttu-id="74a8b-159">IDOC を受信する操作</span><span class="sxs-lookup"><span data-stu-id="74a8b-159">Operations to Receive an IDOC</span></span>  
 <span data-ttu-id="74a8b-160">IDOC を受信する、 [!INCLUDE[adaptersap_short](../../includes/adaptersap-short-md.md)] tRFC サーバーまたは RFC サーバーとして動作できます。</span><span class="sxs-lookup"><span data-stu-id="74a8b-160">To receive an IDOC, the [!INCLUDE[adaptersap_short](../../includes/adaptersap-short-md.md)] can behave either as a tRFC server or an RFC server:</span></span>  
  
-   <span data-ttu-id="74a8b-161">TRFC サーバー バインド プロパティとして動作するようにアダプター **TidDatabaseConnectionString** TID 上のデータベース コンピューターの接続文字列に設定する必要があります。</span><span class="sxs-lookup"><span data-stu-id="74a8b-161">For the adapter to behave as a tRFC server, the binding property **TidDatabaseConnectionString** must be set to the connection string for the TID database on your computer.</span></span> <span data-ttu-id="74a8b-162">TRFC サーバーのシナリオは、アダプターは、SAP システムから IDOC を受信する tRFC クライアント呼び出しを受け入れます。</span><span class="sxs-lookup"><span data-stu-id="74a8b-162">For a tRFC server scenario, the adapter accepts a tRFC client call from the SAP system to receive the IDOC.</span></span>  
  
-   <span data-ttu-id="74a8b-163">アダプターが RFC サーバーとして動作するため、 **TidDatabaseConnectionString** null にする必要があります (既定値)。</span><span class="sxs-lookup"><span data-stu-id="74a8b-163">For the adapter to behave as an RFC server, the **TidDatabaseConnectionString** should be null (default).</span></span> <span data-ttu-id="74a8b-164">RFC サーバー シナリオでは、アダプターは、IDOC を受信する SAP システムからの RFC クライアント呼び出しを受け入れます。</span><span class="sxs-lookup"><span data-stu-id="74a8b-164">For an RFC server scenario, the adapter accepts an RFC client call from the SAP system to receive the IDOC.</span></span>  
  
 <span data-ttu-id="74a8b-165">次の Rfc が Idoc; の送受信に使用されます。Idoc を送信するときに、アダプターは、SAP システムがそれらを使用して IDOC を受信するときに対し、これらの Rfc を使用します。</span><span class="sxs-lookup"><span data-stu-id="74a8b-165">The following RFCs are used to send and receive IDOCs; when sending IDOCs, the adapter uses these RFCs, whereas when receiving IDOCS, the SAP system uses them.</span></span>  
  
-   <span data-ttu-id="74a8b-166">INBOUND_IDOC_PROCESS です。</span><span class="sxs-lookup"><span data-stu-id="74a8b-166">INBOUND_IDOC_PROCESS.</span></span> <span data-ttu-id="74a8b-167">この関数モジュールが使用される 4.0 より前に、の SAP リリースします。</span><span class="sxs-lookup"><span data-stu-id="74a8b-167">This function module is used for SAP releases before 4.0.</span></span>  
  
-   <span data-ttu-id="74a8b-168">IDOC_INBOUND_ASYNCHRONOUS です。</span><span class="sxs-lookup"><span data-stu-id="74a8b-168">IDOC_INBOUND_ASYNCHRONOUS.</span></span> <span data-ttu-id="74a8b-169">この関数モジュールは、使用される SAP リリース 4.0 以降がします。</span><span class="sxs-lookup"><span data-stu-id="74a8b-169">This function module is used for SAP release 4.0 and later.</span></span>  
  
 <span data-ttu-id="74a8b-170">次の操作は、SAP システムから Idoc を受信するためにサポートされます。</span><span class="sxs-lookup"><span data-stu-id="74a8b-170">The following operations are supported for receiving IDOCs from an SAP system:</span></span>  
  
-   <span data-ttu-id="74a8b-171">**受信**です。</span><span class="sxs-lookup"><span data-stu-id="74a8b-171">**Receive**.</span></span> <span data-ttu-id="74a8b-172">この操作は、厳密に型指定されたスキーマを使用して SAP システムから IDOC を受信する場合に使用します。</span><span class="sxs-lookup"><span data-stu-id="74a8b-172">Use this operation to receive an IDOC from the SAP system using a strongly-typed schema.</span></span> <span data-ttu-id="74a8b-173">この操作のスキーマは、制御レコードのフィールドとセグメントのヘッダー セグメント フィールドなどのデータ レコードのフィールドを公開します。</span><span class="sxs-lookup"><span data-stu-id="74a8b-173">The schema for this operation exposes control record fields and data record fields including segment headers and segment fields.</span></span>  
  
     <span data-ttu-id="74a8b-174">この操作は各 IDOC の確認の特定の IDOC ノードで使用可能な[!INCLUDE[addadapterservrefshort](../../includes/addadapterservrefshort-md.md)]または[!INCLUDE[consumeadapterservshort](../../includes/consumeadapterservshort-md.md)]です。</span><span class="sxs-lookup"><span data-stu-id="74a8b-174">This operation is surfaced for each IDOC and is available under a specific IDOC node in the [!INCLUDE[addadapterservrefshort](../../includes/addadapterservrefshort-md.md)] or [!INCLUDE[consumeadapterservshort](../../includes/consumeadapterservshort-md.md)].</span></span>  
  
    > [!NOTE]
    >  <span data-ttu-id="74a8b-175">正常に実行できる、**受信**操作、SAP システムに関連する承認が必要です。</span><span class="sxs-lookup"><span data-stu-id="74a8b-175">To be able to successfully perform a **Receive** operation, you must have relevant authorization in the SAP system.</span></span> <span data-ttu-id="74a8b-176">詳しくは、</span><span class="sxs-lookup"><span data-stu-id="74a8b-176">For more information.</span></span>  
  
    > [!NOTE]
    >  <span data-ttu-id="74a8b-177">使用して、**受信**操作、複数の Idoc を受信することもできます。</span><span class="sxs-lookup"><span data-stu-id="74a8b-177">Using the **Receive** operation, you can also receive multiple IDOCs.</span></span>  
  
-   <span data-ttu-id="74a8b-178">**ReceiveIdoc**です。</span><span class="sxs-lookup"><span data-stu-id="74a8b-178">**ReceiveIdoc**.</span></span> <span data-ttu-id="74a8b-179">この操作は、弱い型指定のスキーマを使用して SAP システムから IDOC を受信する場合に使用します。</span><span class="sxs-lookup"><span data-stu-id="74a8b-179">Use this operation to receive an IDOC from the SAP system using a weakly-typed schema.</span></span> <span data-ttu-id="74a8b-180">この操作のスキーマは、制御レコードとのデータ レコードから成る 1 つの文字列フィールドとして Idoc を公開します。</span><span class="sxs-lookup"><span data-stu-id="74a8b-180">The schema for this operation exposes IDOCs as a single string field consisting of the control record and data record.</span></span> <span data-ttu-id="74a8b-181">この操作は、下にある XML メッセージの文字列として Idoc を受信、 \<idocData\>タグ。</span><span class="sxs-lookup"><span data-stu-id="74a8b-181">This operation receives IDOCs as a string in an XML message under the \<idocData\> tag.</span></span>  
  
     <span data-ttu-id="74a8b-182">これは、SAP システムによって公開されているすべての Idoc に表示される 1 つの操作は、ルートで使用可能な**IDOC**内のノード、[!INCLUDE[addadapterservrefshort](../../includes/addadapterservrefshort-md.md)]または[!INCLUDE[consumeadapterservshort](../../includes/consumeadapterservshort-md.md)]です。</span><span class="sxs-lookup"><span data-stu-id="74a8b-182">This is a single operation surfaced for all IDOCs exposed by the SAP system and is available under the root **IDOC** node in the [!INCLUDE[addadapterservrefshort](../../includes/addadapterservrefshort-md.md)] or [!INCLUDE[consumeadapterservshort](../../includes/consumeadapterservshort-md.md)].</span></span>  
  
 <span data-ttu-id="74a8b-183">Idoc を受信するときに、[!INCLUDE[adaptersap_short](../../includes/adaptersap-short-md.md)]バインディング プロパティの値として指定できる、さまざまなメッセージ形式をサポートしている**ReceiveIDocFormat**によって公開されている、[!INCLUDE[adaptersap_short](../../includes/adaptersap-short-md.md)]です。</span><span class="sxs-lookup"><span data-stu-id="74a8b-183">When receiving IDOCs, the [!INCLUDE[adaptersap_short](../../includes/adaptersap-short-md.md)] supports different message formats, which can be specified as a value for the binding property, **ReceiveIDocFormat** exposed by the [!INCLUDE[adaptersap_short](../../includes/adaptersap-short-md.md)].</span></span>  
  
-   <span data-ttu-id="74a8b-184">かどうか「型指定された」に設定すると、XML スキーマは厳密に型指定 IDOC の受信中にします。</span><span class="sxs-lookup"><span data-stu-id="74a8b-184">If set to "Typed", the XML schema is strongly typed to the specific IDOC being received.</span></span> <span data-ttu-id="74a8b-185">(このメッセージのスキーマは受信操作から確認できます。</span><span class="sxs-lookup"><span data-stu-id="74a8b-185">(The schema for this message can be seen from the Receive operations.</span></span> <span data-ttu-id="74a8b-186">注スキーマが Idoc の別の異なるもの)。</span><span class="sxs-lookup"><span data-stu-id="74a8b-186">Note that the schema is different for different IDOCs).</span></span> <span data-ttu-id="74a8b-187">これには、XML IDOC が生成されます。</span><span class="sxs-lookup"><span data-stu-id="74a8b-187">This yields an XML IDOC.</span></span>  
  
-   <span data-ttu-id="74a8b-188">かどうかは"String"に設定して、IDOC の受信データが返されます、文字列値として。</span><span class="sxs-lookup"><span data-stu-id="74a8b-188">If set to "String", the incoming IDOC data is returned as a String value.</span></span> <span data-ttu-id="74a8b-189">(このメッセージのスキーマは ReceiveIdoc 操作から確認できます。)</span><span class="sxs-lookup"><span data-stu-id="74a8b-189">(The schema for this message can be seen from the ReceiveIdoc operation).</span></span> <span data-ttu-id="74a8b-190">これは、結果の XML メッセージ、 \<idocData\>タグ。</span><span class="sxs-lookup"><span data-stu-id="74a8b-190">This yields an XML message with the \<idocData\> tag.</span></span>  
  
-   <span data-ttu-id="74a8b-191">場合は、メッセージ スキーマである"Rfc"に設定では、操作のため、RFC IDOC_INBOUND_ASYNCHRONOUS または INBOUND_IDOC_PROCESS、受信した IDOC のバージョンに応じて、RFC (または tRFC) スキーマと一致します。</span><span class="sxs-lookup"><span data-stu-id="74a8b-191">If set to "Rfc", the message schema matches the RFC (or tRFC) schema for the RFC operations IDOC_INBOUND_ASYNCHRONOUS or INBOUND_IDOC_PROCESS, depending on the incoming IDOC version.</span></span> <span data-ttu-id="74a8b-192">このバインディングのプロパティを指定する場合は、IDOC を受信する IDOC_INBOUND_ASYNCHRONOUS または INBOUND_IDOC_PROCESS RFC を使用する必要があります。</span><span class="sxs-lookup"><span data-stu-id="74a8b-192">If you specify this binding property you should use the IDOC_INBOUND_ASYNCHRONOUS or INBOUND_IDOC_PROCESS RFC to receive the IDOC.</span></span> <span data-ttu-id="74a8b-193">最初の 2 つのオプションでは、アダプターは、この RFC を内部的に使用します。</span><span class="sxs-lookup"><span data-stu-id="74a8b-193">In the first two options, the adapter internally uses this RFC.</span></span> <span data-ttu-id="74a8b-194">このオプションでは、IDOC を受信するのに明示的にこの RFC を使用するだけです。</span><span class="sxs-lookup"><span data-stu-id="74a8b-194">In this option, you explicitly use this RFC to receive an IDOC.</span></span>  
  
 <span data-ttu-id="74a8b-195">操作 IDOC を受信するために使用は、アダプターによって生成される IDOC データの形式に一致する必要があります。</span><span class="sxs-lookup"><span data-stu-id="74a8b-195">The operation that you use to receive an IDOC must match the format of the IDOC data emitted by the adapter.</span></span> <span data-ttu-id="74a8b-196">次の表は、SAP から IDOC を受信できるさまざまな組み合わせの概要を提供します。</span><span class="sxs-lookup"><span data-stu-id="74a8b-196">The following table provides a summary of the different combinations in which you can receive an IDOC from SAP.</span></span>  
  
|<span data-ttu-id="74a8b-197">使用して、IDOC を受信するには</span><span class="sxs-lookup"><span data-stu-id="74a8b-197">To receive an IDOC using</span></span>|<span data-ttu-id="74a8b-198">ReceiveIDOCFormat binding プロパティを設定するには</span><span class="sxs-lookup"><span data-stu-id="74a8b-198">Set the binding property ReceiveIDOCFormat to</span></span>|  
|------------------------------|---------------------------------------------------|  
|<span data-ttu-id="74a8b-199">**受信**操作</span><span class="sxs-lookup"><span data-stu-id="74a8b-199">**Receive** operation</span></span>|<span data-ttu-id="74a8b-200">型指定あり</span><span class="sxs-lookup"><span data-stu-id="74a8b-200">Typed</span></span>|  
|<span data-ttu-id="74a8b-201">**ReciveIdoc**操作</span><span class="sxs-lookup"><span data-stu-id="74a8b-201">**ReciveIdoc** operation</span></span>|<span data-ttu-id="74a8b-202">文字列</span><span class="sxs-lookup"><span data-stu-id="74a8b-202">String</span></span>|  
|<span data-ttu-id="74a8b-203">IDOC_INBOUND_ASYNCHRONOUS RFC</span><span class="sxs-lookup"><span data-stu-id="74a8b-203">IDOC_INBOUND_ASYNCHRONOUS RFC</span></span>|<span data-ttu-id="74a8b-204">Rfc</span><span class="sxs-lookup"><span data-stu-id="74a8b-204">Rfc</span></span>|  
|<span data-ttu-id="74a8b-205">INBOUND_IDOC_PROCESS RFC</span><span class="sxs-lookup"><span data-stu-id="74a8b-205">INBOUND_IDOC_PROCESS RFC</span></span>|<span data-ttu-id="74a8b-206">Rfc</span><span class="sxs-lookup"><span data-stu-id="74a8b-206">Rfc</span></span>|  
  
 <span data-ttu-id="74a8b-207">別のバインド プロパティ**PadReceivedIdocsWithSpaces**省略可能なときに、フィールドを受信した IDOC を空白で埋める受信予期される形式は"String"です。</span><span class="sxs-lookup"><span data-stu-id="74a8b-207">Another binding property **PadReceivedIdocsWithSpaces** pads the received IDOC with white spaces for optional fields when receive format expected is “String”.</span></span> <span data-ttu-id="74a8b-208">これにより、アダプターの以前のバージョンを使用して受信した IDOC データ形式との互換性。</span><span class="sxs-lookup"><span data-stu-id="74a8b-208">This enables compatibility with the IDOC data format received using the previous version of the adapter.</span></span>  
  
 <span data-ttu-id="74a8b-209">バインドのプロパティの詳細については、次を参照してください。 [mySAP Business Suite バインド プロパティの BizTalk アダプターの説明を読む](../../adapters-and-accelerators/adapter-sap/read-about-biztalk-adapter-for-mysap-business-suite-binding-properties.md)です。</span><span class="sxs-lookup"><span data-stu-id="74a8b-209">For more information about binding properties, see [Read about BizTalk Adapter for mySAP Business Suite Binding Properties](../../adapters-and-accelerators/adapter-sap/read-about-biztalk-adapter-for-mysap-business-suite-binding-properties.md).</span></span>  
  
 <span data-ttu-id="74a8b-210">詳細については。</span><span class="sxs-lookup"><span data-stu-id="74a8b-210">For more information about:</span></span>  
  
-   <span data-ttu-id="74a8b-211">BizTalk Server を使用して SAP システムから IDOC の受信を参照してください[を使用して BizTalk Server での SAP からの Idoc の受信](../../adapters-and-accelerators/adapter-sap/receive-idocs-from-sap-using-biztalk-server.md)です。</span><span class="sxs-lookup"><span data-stu-id="74a8b-211">Receiving an IDOC from an SAP system using BizTalk Server, see [Receive IDOCs from SAP by Using BizTalk Server](../../adapters-and-accelerators/adapter-sap/receive-idocs-from-sap-using-biztalk-server.md).</span></span>  
  
-   <span data-ttu-id="74a8b-212">BizTalk Server を使用して、トランザクションのコンテキスト内の SAP システムから IDOC を受信を参照してください[を使用して BizTalk Server でのトランザクション コンテキストでの SAP からの Idoc の受信](../../adapters-and-accelerators/adapter-sap/receive-idocs-from-sap-in-a-transactional-context-using-biztalk-server.md)です。</span><span class="sxs-lookup"><span data-stu-id="74a8b-212">Receiving an IDOC from an SAP system in a transactional context using BizTalk Server, see [Receive IDOCs from SAP in a Transactional Context by Using BizTalk Server](../../adapters-and-accelerators/adapter-sap/receive-idocs-from-sap-in-a-transactional-context-using-biztalk-server.md).</span></span>  
  
-   <span data-ttu-id="74a8b-213">メッセージの構造と、IDOC を受信するための SOAP アクションを参照してください[IDOC 操作のメッセージ スキーマを](../../adapters-and-accelerators/adapter-sap/message-schemas-for-idoc-operations.md)です。</span><span class="sxs-lookup"><span data-stu-id="74a8b-213">Message structures and SOAP action for receiving an IDOC, see [Message Schemas for IDOC Operations](../../adapters-and-accelerators/adapter-sap/message-schemas-for-idoc-operations.md).</span></span>  
  
##  <a name="BKMK_Authorize"></a><span data-ttu-id="74a8b-214">SAP の送信を使用するための承認または受信操作</span><span class="sxs-lookup"><span data-stu-id="74a8b-214">SAP Authorization for Using Send or Receive Operations</span></span>  
 <span data-ttu-id="74a8b-215">使用すると、**送信**または**受信**送信または厳密に型指定のスキーマを使用して Idoc を受信する操作、[!INCLUDE[adaptersap_short](../../includes/adaptersap-short-md.md)]内部的に、IDOCTYPE_READ_COMPLETE RFC のメタデータを取得するを呼び出しますIDOC です。</span><span class="sxs-lookup"><span data-stu-id="74a8b-215">When you use the **Send** or **Receive** operations to send or receive IDOCs using a strongly-typed schema, the [!INCLUDE[adaptersap_short](../../includes/adaptersap-short-md.md)] internally invokes the IDOCTYPE_READ_COMPLETE RFC to retrieve the metadata for the IDOC.</span></span> <span data-ttu-id="74a8b-216">この RFC を呼び出すには、SAP では、次の承認が必要です。</span><span class="sxs-lookup"><span data-stu-id="74a8b-216">Invoking this RFC requires the following authorization in SAP:</span></span>  
  
```  
Authorisation object S_IDOCDEFT, Fields:  
EDI_TCD, value 'WE30'  
ACTVT, value - 03 (display)  
EDI_DOC, value  *  
EDI_CIM, value *  
```  
  
 <span data-ttu-id="74a8b-217">SAP の SU01 トランザクションを使用すると、認証オブジェクトを追加します。</span><span class="sxs-lookup"><span data-stu-id="74a8b-217">You can use the SU01 transaction in SAP to add an authorization object.</span></span> <span data-ttu-id="74a8b-218">トランザクションに関する詳細については、SAP 管理者に問い合わせるか、SAP のマニュアルを参照してください。</span><span class="sxs-lookup"><span data-stu-id="74a8b-218">For more information about the transaction, contact your SAP administrator or refer to SAP documentation.</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="74a8b-219">参照</span><span class="sxs-lookup"><span data-stu-id="74a8b-219">See Also</span></span>  
 <span data-ttu-id="74a8b-220">[どのような操作をアダプターであるを使用して実行しますか?](https://msdn.microsoft.com/library/cc185219(v=bts.10).aspx)</span><span class="sxs-lookup"><span data-stu-id="74a8b-220">[What Operations Can be Performed Using the Adapter?](https://msdn.microsoft.com/library/cc185219(v=bts.10).aspx)</span></span>