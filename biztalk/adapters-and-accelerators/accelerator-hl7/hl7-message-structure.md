---
title: "HL7 メッセージ構造 |Microsoft ドキュメント"
ms.custom: 
ms.date: 06/08/2017
ms.prod: biztalk-server
ms.reviewer: 
ms.suite: 
ms.tgt_pltfrm: 
ms.topic: article
helpviewer_keywords:
- messages, segments
- messages, fields
- trigger events
- messages, trigger events
- segments, messages
- messages, message structure
ms.assetid: 4dbef56d-97ae-466d-bc8a-dc96c40896f6
caps.latest.revision: "5"
author: MandiOhlinger
ms.author: mandia
manager: anneta
ms.openlocfilehash: d3e705d3c8a72b5ca1072157a227bf6f218035d5
ms.sourcegitcommit: cb908c540d8f1a692d01dc8f313e16cb4b4e696d
ms.translationtype: MT
ms.contentlocale: ja-JP
ms.lasthandoff: 09/20/2017
---
# <a name="hl7-message-structure"></a>HL7 メッセージの構造体
HL7 メッセージは、トリガー イベントに関連付けられている階層構造です。 標準 HL7 は、「() を作成するデータをシステム間でやり取りの必要性医療保険の実際のイベント」としてトリガー イベントを定義します。 各トリガー イベントは、メッセージは、トリガ イベントをサポートするために必要なデータの種類を定義する抽象メッセージに関連付けられます。 抽象のメッセージは、セグメントのコレクションであり、繰り返しとこれらのセグメントを含めることのルールが含まれます。 次の表は、トリガー イベント A04 – 患者の登録に関連付けられている抽象メッセージの例を示します。  
  
|トリガー イベント|抽象メッセージ|  
|-------------------|----------------------|  
|ADT ^ A04 ^ ADT_A01|受付、放電、および転送|  
|MSH|メッセージ ヘッダー|  
|EVN|[イベントの種類]|  
|PID|患者の識別|  
|[PD1]|追加の人口統計|  
|[{ロール}]|ロール|  
|[{NK1}]|年/関連するパーティの 次へ|  
|PV1|患者のアクセス|  
|[PV2]|患者訪問 - 追加情報|  
|[{ロール}]|ロール|  
|[{DB1}]|障害のある情報|  
|[{OBX}]|監視/結果|  
|[{AL1}]|Allergy 情報|  
|[{DG1}]|診断情報|  
|[DRG]|関連するグループの診断|  
|[{||  
|PR1|手順|  
|[{ロール}]|ロール|  
|}]||  
|[{GT1}]|保証|  
|[{||  
|IN1|保険|  
|[入力 2]|保険の追加情報|  
|[{IN3}]|保険の追加情報の証明書です。|  
|[{ロール}]|ロール|  
|}]||  
|[口座]|誤って情報|  
|[UB1]|ユニバーサルの課金情報|  
|[UB2]|ユニバーサル Bill 92 情報|  
|[PDA]|患者死と Autopsy|  
  
 上記の角かっこ"["、"]"セグメントまたはセグメントのグループが中かっこの中に、省略可能であることを示す"{"、"}"セグメントまたはセグメントの繰り返しのグループを指定します。  
  
 セグメントは、特定のデータ型に準拠した各フィールドのグループです。 フィールドには、単純または複雑な構造を持つことができます。 そのデータ型の定義で定義されたルールに従ってコンポーネントで構成されます。 複雑なデータ型をサポートするために一部のコンポーネントは可能性がありますのサブコンポーネントで構成されます。  
  
> [!NOTE]
>  HL7 メッセージの使用をエンコーディングに区切り記号が指定されているファクトは、データを分割する新しい方法を紹介する開発者の機能を制限します。 することはできませんサブ サブコンポーネントは、新しい種類の区切り文字を発明が必要であるためです。  
  
 最初の HL7 仕様では、抽象メッセージは定義しませんでした。 抽象のメッセージは、トリガー イベントに関連付けられているセグメントのパターンです。 同様に、HL7 メッセージには、同時に、繰り返し表示するか、グループに分割するセグメントのコレクションが含まれます。 最初の HL7 仕様では、セグメント グループは定義しませんでした。 V2.3.1、開始して、今後のバージョンで続行、XML エンコードをサポートする必要がによりこれを変更します。 たとえば、上のトリガー イベントの表に、メッセージの構造の名前は"ADT_A01" これは、同じパターン セグメントが A01 – Patient の許可をサポートするために使用されるのです。 便宜上、メッセージ構造の名前に対応 (HL7 ドキュメント内の配置) の観点から、最初は、それらを使用するイベントをトリガーします。 同様に、グループとして、トリガー イベント上の表に入力 2、IN3、およびロールを含む IN1 で始まるセグメントのグループが繰り返されます。 その名前、以降のバージョン 2.5 では、「保険」グループ。  
  
 バージョン 2 では、バージョン間の互換性規則は、標準の今後のバージョンが以前のバージョンが無効になる構造を含めないことを要求することでインターフェイスの進化をサポートします。 これは、トリガー イベントを削除しないことを使用しないトリガー イベント別の目的や別の抽象メッセージ本来よりも必要があります。 抽象メッセージの場合に、メッセージからセグメントを削除することはできないこともすることができます、セグメント (必須) オプションや、繰り返しセグメント非繰り返しことを意味します。 セグメントを追加する場合は、行う必要があります、最後のメッセージまたはメッセージ内の繰り返しのグループの最後にします。  
  
 次の関数の[!INCLUDE[btsCoName](../../includes/btsconame-md.md)]BizTalk Accelerator 用 HL7 ([!INCLUDE[btaBTAHL71.3abbrevnonumber](../../includes/btabtahl71-3abbrevnonumber-md.md)]) これらの要件をサポートします。  
  
-   すべてのイベントを発生させると、メッセージのサポートは、バージョン 2.1 以降を起動し、V2.5 まで構造体します。  
  
-   セグメントの追加しセグメントを必要に応じて調整、および繰り返しを介してローカライズのサポート。  
  
## <a name="see-also"></a>参照  
 [HL7 メッセージの処理](../../adapters-and-accelerators/accelerator-hl7/processing-hl7-messages.md)   
 [メッセージの処理](../../adapters-and-accelerators/accelerator-hl7/message-processing.md)   
 [HL7 2.X スキーマの使用](../../adapters-and-accelerators/accelerator-hl7/using-hl7-2-x-schemas.md)