---
title: HL7 メッセージの構造 |Microsoft Docs
ms.custom: ''
ms.date: 06/08/2017
ms.prod: biztalk-server
ms.reviewer: ''
ms.suite: ''
ms.tgt_pltfrm: ''
ms.topic: article
helpviewer_keywords:
- messages, segments
- messages, fields
- trigger events
- messages, trigger events
- segments, messages
- messages, message structure
ms.assetid: 4dbef56d-97ae-466d-bc8a-dc96c40896f6
caps.latest.revision: 5
author: MandiOhlinger
ms.author: mandia
manager: anneta
ms.openlocfilehash: 1b4f8f81087874c0b3ea0e15e30334630e03b21f
ms.sourcegitcommit: 381e83d43796a345488d54b3f7413e11d56ad7be
ms.translationtype: MT
ms.contentlocale: ja-JP
ms.lasthandoff: 05/07/2019
ms.locfileid: "65293020"
---
# <a name="hl7-message-structure"></a>HL7 メッセージの構造
HL7 メッセージは、トリガー イベントに関連付けられている階層構造です。 HL7 標準では、「() を作成するシステム間でフローにデータの必要性、医療保険の現実の世界でのイベント」としてトリガー イベントを定義します。 各トリガー イベントは、メッセージは、トリガー イベントをサポートするために必要なデータの型を定義する抽象のメッセージに関連付けられます。 抽象のメッセージは、セグメントのコレクションであり、繰り返しとこれらのセグメントの包含の規則が含まれています。 次の表では、トリガー イベント A04 – 患者の登録に関連付けられた抽象メッセージの例を示します。  
  
|トリガー イベント|この抽象メッセージ|  
|-------------------|----------------------|  
|ADT^A04^ADT_A01|入学、放電、および転送|  
|MSH|メッセージ ヘッダー|  
|EVN|イベントの種類|  
|PID|患者の識別|  
|[PD1]|追加の人口統計|  
|[{ROL}]|ロール|  
|[{ NK1 }]|年と関連付けられているパーティの [次へ]|  
|PV1|患者のアクセス|  
|[  PV2  ]|患者のアクセスの追加情報|  
|[{ROL}]|ロール|  
|[{ DB1 }]|障害のある情報|  
|[{OBX}]|監視/結果|  
|[{ AL1 }]|Allergy 情報|  
|[{ DG1 }]|診断情報|  
|[DRG]|関連するグループの診断|  
|[{||  
|PR1|手順|  
|[{ROL}]|ロール|  
|}]||  
|[{GT1}]|保証|  
|[{||  
|IN1|保険|  
|[入力 2]|保険の追加情報|  
|[{ IN3 }]|保険の追加情報の証明書です。|  
|[{ROL}]|ロール|  
|}]||  
|[  ACC  ]|誤って情報|  
|[UB1]|ユニバーサルの請求書情報|  
|[UB2]|ユニバーサルの部品表 92年情報|  
|[PDA]|患者の死と Autopsy|  
  
 上記の角かっこ"["、"]"セグメントまたはセグメントのグループが中かっこの中に、省略可能であることを示す"{0}"、"}"セグメントまたはセグメントの繰り返しのグループを指定します。  
  
 セグメントは、特定のデータ型に準拠した各フィールドのグループです。 フィールドには、単純または複雑な構造を持つことができます。 それらのデータ型定義で定義されたルールに従ってコンポーネントで構成されます。 複雑なデータ型をサポートするために一部のコンポーネントがサブコンポーネントで構成します。  
  
> [!NOTE]
>  HL7 メッセージの使用をエンコーディングに区切り記号が指定されているという事実は、データを分割する新しい方法を導入する、開発者向けの機能を制限します。 ありますサブのサブコンポーネント新しい区切り記号の種類の発明必要があるためです。  
  
 最初の HL7 仕様は、抽象メッセージを定義しませんでした。 この抽象メッセージは、トリガー イベントに関連付けられたセグメントのパターンです。 同様に、HL7 メッセージでは、同時に、繰り返し表示するかグループのセグメントのセグメントのコレクションを格納します。 最初の HL7 仕様では、セグメント グループは定義しませんでした。 およびそれ以降のバージョンで手順を続行 V2.3.1 から XML エンコーディングをサポートする必要性のためこれを変更します。 たとえば、上のトリガー イベントの表に、メッセージの構造の名前では、"ADT_A01"には。 これは、同じパターンの A01 – 認めざるを得ません患者をサポートするために使用されるセグメントです。 便宜上、メッセージ構造の名前の対応する最初の (HL7 ドキュメント内の配置) の観点からは、それらを使用するイベントをトリガーします。 同様に、グループとして上のトリガー イベント表 IN1、入力 2、IN3、ROL などで始まるセグメントのグループが繰り返されます。 名前: 以降のバージョン 2.5 では、「保険」グループ。  
  
 バージョン 2 での間のバージョンの互換性規則は、標準の今後のバージョンが以前のバージョンが無効になる構造が含まれないことを要求することでインターフェイスの進化をサポートします。 これは、トリガー イベントが削除されないことと、使用しないトリガー イベントを異なる目的または別の抽象メッセージ本来よりも必要です。 抽象メッセージの場合にメッセージからセグメントを削除することはできないこともすることができます、省略可能な必須のセグメントまたは繰り返しセグメント以外の繰り返しことを意味します。 セグメントを追加する場合を行う必要がありますまたは繰り返しのグループ、メッセージ内の最後に、メッセージの最後にします。  
  
 Microsoft BizTalk Accelerator for HL7 の次の関数 ([!INCLUDE[btaBTAHL71.3abbrevnonumber](../../includes/btabtahl71-3abbrevnonumber-md.md)]) これらの要件をサポートします。  
  
-   すべてのトリガー イベントとメッセージの構造体 V2.1 以降と V2.5 までをサポートします。  
  
-   セグメントを追加し、必要に応じてセグメントを調整することと繰り返しのローカリゼーションをサポートします。  
  
## <a name="see-also"></a>参照  
 [HL7 メッセージの処理](../../adapters-and-accelerators/accelerator-hl7/processing-hl7-messages.md)   
 [メッセージの処理](../../adapters-and-accelerators/accelerator-hl7/message-processing.md)   
 [HL7 2.X スキーマの使用](../../adapters-and-accelerators/accelerator-hl7/using-hl7-2-x-schemas.md)