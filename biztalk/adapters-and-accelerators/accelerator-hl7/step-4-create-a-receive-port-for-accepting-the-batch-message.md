---
title: '手順 4: 作成、受信ポートのバッチ メッセージを受け入れる |Microsoft Docs'
ms.custom: ''
ms.date: 06/08/2017
ms.prod: biztalk-server
ms.reviewer: ''
ms.suite: ''
ms.tgt_pltfrm: ''
ms.topic: article
ms.assetid: a37eb334-c4ae-40d1-a433-bf0ab39c0765
caps.latest.revision: 8
author: MandiOhlinger
ms.author: mandia
manager: anneta
ms.openlocfilehash: 9a0d2f6f36ee34f93e8a5069aadc1958837af00c
ms.sourcegitcommit: 266308ec5c6a9d8d80ff298ee6051b4843c5d626
ms.translationtype: MT
ms.contentlocale: ja-JP
ms.lasthandoff: 06/27/2018
ms.locfileid: "36966811"
---
# <a name="step-4-create-a-receive-port-for-accepting-the-batch-message"></a><span data-ttu-id="9e01d-102">手順 4: 作成、受信ポートのバッチ メッセージを受け入れる</span><span class="sxs-lookup"><span data-stu-id="9e01d-102">Step 4: Create a Receive Port for Accepting the Batch Message</span></span>
<span data-ttu-id="9e01d-103">この手順では、作成し、受信のバッチを受信するポートを構成します。</span><span class="sxs-lookup"><span data-stu-id="9e01d-103">In this step, you create and configure a port to receive the incoming batch.</span></span>  

 <span data-ttu-id="9e01d-104">作成要求-応答 (双方向) の受信ポート、シナリオには生成が含まれていますので、アプリケーションに受け入れ、バッチ内の個々 のメッセージの受信確認。</span><span class="sxs-lookup"><span data-stu-id="9e01d-104">You create a request-response (two-way) receive port, because the scenario includes the generation of application-accept acknowledgments for the individual messages in the batch.</span></span> <span data-ttu-id="9e01d-105">双方向のモードでは、受信パイプラインの前のメッセージの受信確認 (ACK) が生成されるまで、MLLP 受信アダプターは、新しい着信メッセージを受け入れません。</span><span class="sxs-lookup"><span data-stu-id="9e01d-105">In two-way mode, the MLLP receive adapter will not accept a new incoming message until the receive pipeline has generated the acknowledgment (ACK) for the previous message.</span></span>  

## <a name="create-the-receive-port-for-accepting-the-batch-message"></a><span data-ttu-id="9e01d-106">バッチ メッセージを受け入れるための受信ポートを作成します。</span><span class="sxs-lookup"><span data-stu-id="9e01d-106">Create the receive port for accepting the batch message</span></span>  

1. <span data-ttu-id="9e01d-107">開いている**BizTalk Server 管理**、展開**BizTalk Server 管理**、展開**BizTalk グループ**、展開**アプリケーション**、順に展開**BizTalk アプリケーション 1**します。</span><span class="sxs-lookup"><span data-stu-id="9e01d-107">Open **BizTalk Server Administration**, expand **BizTalk Server Administration**, expand **BizTalk Group**, expand **Applications**, and then expand **BizTalk Application 1**.</span></span>  

   > [!NOTE]
   >  <span data-ttu-id="9e01d-108">BizTalk Server 管理コンソールで開くこともできますから Visual Studio 内でクリックして**BizTalk Server 管理**で、**ツール**メニュー。</span><span class="sxs-lookup"><span data-stu-id="9e01d-108">The BizTalk Server Administration Console can also be opened from within Visual Studio by clicking **BizTalk Server Administration** in the **Tools** menu.</span></span>  

2. <span data-ttu-id="9e01d-109">右クリックして**受信ポート**を選択します**新規**、し、**要求-応答受信ポート**します。</span><span class="sxs-lookup"><span data-stu-id="9e01d-109">Right-click **Receive Ports**, select **New**, and then select **Request Response Receive Port**.</span></span>  

3. <span data-ttu-id="9e01d-110">**名前**、入力**Tutorial_2WayReceive**します。</span><span class="sxs-lookup"><span data-stu-id="9e01d-110">For the **Name**, enter **Tutorial_2WayReceive**.</span></span>  

4. <span data-ttu-id="9e01d-111">選択**適用**、ポートをバインドし、選択**受信場所**します。</span><span class="sxs-lookup"><span data-stu-id="9e01d-111">Select **Apply** to bind the port, and then select **Receive Locations**.</span></span>  

5. <span data-ttu-id="9e01d-112">選択**新しい**します。</span><span class="sxs-lookup"><span data-stu-id="9e01d-112">Select **New**.</span></span>  

6. <span data-ttu-id="9e01d-113">**名前**、入力**Tutorial_2WayReceive**します。</span><span class="sxs-lookup"><span data-stu-id="9e01d-113">For the **Name**, enter **Tutorial_2WayReceive**.</span></span>

7. <span data-ttu-id="9e01d-114">**トランスポート**セクションで、**型**、し、 **MLLP**ドロップダウン リストから。</span><span class="sxs-lookup"><span data-stu-id="9e01d-114">In the **Transport** section, select **Type**, and then select **MLLP** from the drop-down list.</span></span>  

8. <span data-ttu-id="9e01d-115">**[構成]** を選択します。</span><span class="sxs-lookup"><span data-stu-id="9e01d-115">Select **Configure**.</span></span> <span data-ttu-id="9e01d-116">**MLLP トランスポート プロパティ**、次を構成し、 **OK**します。</span><span class="sxs-lookup"><span data-stu-id="9e01d-116">In **MLLP Transport Properties**, configure the following, and then select **OK**.</span></span>  


   |           <span data-ttu-id="9e01d-117">プロパティ</span><span class="sxs-lookup"><span data-stu-id="9e01d-117">Use this</span></span>           |                                                                                                                                                                                                     <span data-ttu-id="9e01d-118">目的</span><span class="sxs-lookup"><span data-stu-id="9e01d-118">To do this</span></span>                                                                                                                                                                                                     |
   |------------------------------|--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
   | <span data-ttu-id="9e01d-119">**接続再試行時間 (秒)**</span><span class="sxs-lookup"><span data-stu-id="9e01d-119">**Connect retry time (sec)**</span></span> |                                                                 <span data-ttu-id="9e01d-120">以降では新しい[!INCLUDE[bts2016_md](../../includes/bts2016-md.md)]します。</span><span class="sxs-lookup"><span data-stu-id="9e01d-120">New starting with [!INCLUDE[bts2016_md](../../includes/bts2016-md.md)].</span></span> <br/><br/><span data-ttu-id="9e01d-121">削除されたか、閉じられた接続の再接続を試みる前に待機する時間の上限値。</span><span class="sxs-lookup"><span data-stu-id="9e01d-121">The upper limit of time to wait before attempting to reconnect a dropped or closed connection.</span></span> <span data-ttu-id="9e01d-122">該当する場合に**によって接続が開始された**に設定されている**ローカル**します。</span><span class="sxs-lookup"><span data-stu-id="9e01d-122">Applicable when **Connection Initiated by** is set to **Local**.</span></span><br/><br/><span data-ttu-id="9e01d-123">既定値は、20 秒です。</span><span class="sxs-lookup"><span data-stu-id="9e01d-123">Default is 20 seconds.</span></span>                                                                  |
   | <span data-ttu-id="9e01d-124">**によって開始された接続**</span><span class="sxs-lookup"><span data-stu-id="9e01d-124">**Connection initiated by**</span></span>  | <span data-ttu-id="9e01d-125">以降では新しい[!INCLUDE[bts2016_md](../../includes/bts2016-md.md)]します。</span><span class="sxs-lookup"><span data-stu-id="9e01d-125">New starting with [!INCLUDE[bts2016_md](../../includes/bts2016-md.md)].</span></span> <br/><br/><span data-ttu-id="9e01d-126">入力**ローカル**MLLP 受信リモート LOB サーバーへの接続を開始する場所。</span><span class="sxs-lookup"><span data-stu-id="9e01d-126">Enter **Local** for the MLLP receive location to initiate the connection to a remote LOB server.</span></span> <span data-ttu-id="9e01d-127">これは、新しいオプションです。</span><span class="sxs-lookup"><span data-stu-id="9e01d-127">This is the new option.</span></span><br/><br/><span data-ttu-id="9e01d-128">入力**リモート**MLLP の受信場所で、リモート LOB サーバーからの接続をリッスンするように続行します。</span><span class="sxs-lookup"><span data-stu-id="9e01d-128">Enter **Remote** for the MLLP receive location to continue to listen for a connection from the remote LOB server.</span></span> <span data-ttu-id="9e01d-129">これは、下位互換性のある既定のオプションです。</span><span class="sxs-lookup"><span data-stu-id="9e01d-129">This is the backwards-compatible default option.</span></span><br/><br/><span data-ttu-id="9e01d-130">既定値はリモートです。</span><span class="sxs-lookup"><span data-stu-id="9e01d-130">Default is Remote.</span></span> |
   |     <span data-ttu-id="9e01d-131">**接続名**</span><span class="sxs-lookup"><span data-stu-id="9e01d-131">**Connection Name**</span></span>      |                                                                                                                                                                                                  <span data-ttu-id="9e01d-132">入力**2 ウェイ**します。</span><span class="sxs-lookup"><span data-stu-id="9e01d-132">Enter **2Way**.</span></span>                                                                                                                                                                                                   |
   |        <span data-ttu-id="9e01d-133">**ホスト名**</span><span class="sxs-lookup"><span data-stu-id="9e01d-133">**Host name**</span></span>         |                                                                                                                                              <span data-ttu-id="9e01d-134">固有[!INCLUDE[bts2013r2_md](../../includes/bts2013r2-md.md)]と以前のバージョン。</span><span class="sxs-lookup"><span data-stu-id="9e01d-134">Specific to [!INCLUDE[bts2013r2_md](../../includes/bts2013r2-md.md)] and older versions.</span></span> <br/><br/><span data-ttu-id="9e01d-135">入力**localhost**します。</span><span class="sxs-lookup"><span data-stu-id="9e01d-135">Enter **localhost**.</span></span>                                                                                                                                               |
   |     <span data-ttu-id="9e01d-136">**ローカル ホスト名**</span><span class="sxs-lookup"><span data-stu-id="9e01d-136">**Local Host name**</span></span>      |                                                                            <span data-ttu-id="9e01d-137">以降では新しい[!INCLUDE[bts2016_md](../../includes/bts2016-md.md)]します。</span><span class="sxs-lookup"><span data-stu-id="9e01d-137">New starting with [!INCLUDE[bts2016_md](../../includes/bts2016-md.md)].</span></span> <br/><br/><span data-ttu-id="9e01d-138">DNS 名またはローカルの IP アドレスを入力[!INCLUDE[btsBizTalkServerNoVersion_md](../../includes/btsbiztalkservernoversion-md.md)]します。</span><span class="sxs-lookup"><span data-stu-id="9e01d-138">Enter the DNS name or IP address of the local [!INCLUDE[btsBizTalkServerNoVersion_md](../../includes/btsbiztalkservernoversion-md.md)].</span></span> <span data-ttu-id="9e01d-139">入力することも**localhost**します。</span><span class="sxs-lookup"><span data-stu-id="9e01d-139">You can also enter **localhost**.</span></span>                                                                             |
   |           <span data-ttu-id="9e01d-140">**[ポート]**</span><span class="sxs-lookup"><span data-stu-id="9e01d-140">**Port**</span></span>           |                                                                                                                                                <span data-ttu-id="9e01d-141">固有[!INCLUDE[bts2013r2_md](../../includes/bts2013r2-md.md)]と以前のバージョン。</span><span class="sxs-lookup"><span data-stu-id="9e01d-141">Specific to [!INCLUDE[bts2013r2_md](../../includes/bts2013r2-md.md)] and older versions.</span></span> <br/><br/><span data-ttu-id="9e01d-142">設定**21000**します。</span><span class="sxs-lookup"><span data-stu-id="9e01d-142">Set to **21000**.</span></span>                                                                                                                                                |
   |        <span data-ttu-id="9e01d-143">**ローカル ポート**</span><span class="sxs-lookup"><span data-stu-id="9e01d-143">**Local Port**</span></span>        |                                                                                       <span data-ttu-id="9e01d-144">以降では新しい[!INCLUDE[bts2016_md](../../includes/bts2016-md.md)]します。</span><span class="sxs-lookup"><span data-stu-id="9e01d-144">New starting with [!INCLUDE[bts2016_md](../../includes/bts2016-md.md)].</span></span> <br/><br/><span data-ttu-id="9e01d-145">LocalHost 接続の TCP ポート番号を入力します。</span><span class="sxs-lookup"><span data-stu-id="9e01d-145">Enter the TCP port number for the LocalHost connection.</span></span> <span data-ttu-id="9e01d-146">場合にのみ適用**によって接続が開始された**は**リモート**します。</span><span class="sxs-lookup"><span data-stu-id="9e01d-146">Applicable only when **Connection Initiated by** is **Remote**.</span></span> <br/><br/><span data-ttu-id="9e01d-147">設定**21000**します。</span><span class="sxs-lookup"><span data-stu-id="9e01d-147">Set to **21000**.</span></span>                                                                                        |
   |       <span data-ttu-id="9e01d-148">**リモート ホスト**</span><span class="sxs-lookup"><span data-stu-id="9e01d-148">**Remote Host**</span></span>        |                                                                                                   <span data-ttu-id="9e01d-149">以降では新しい[!INCLUDE[bts2016_md](../../includes/bts2016-md.md)]します。</span><span class="sxs-lookup"><span data-stu-id="9e01d-149">New starting with [!INCLUDE[bts2016_md](../../includes/bts2016-md.md)].</span></span> <br/><br/><span data-ttu-id="9e01d-150">DNS 名またはリモートの LOB サーバーの IP アドレスを入力します。</span><span class="sxs-lookup"><span data-stu-id="9e01d-150">Enter the DNS name or IP address of the remote LOB server.</span></span> <span data-ttu-id="9e01d-151">該当する場合に**によって接続が開始された**に設定されている**ローカル**します。</span><span class="sxs-lookup"><span data-stu-id="9e01d-151">Applicable when **Connection Initiated by** is set to **Local**.</span></span>                                                                                                    |
   |       <span data-ttu-id="9e01d-152">**リモート ポート**</span><span class="sxs-lookup"><span data-stu-id="9e01d-152">**Remote Port**</span></span>        |                                                                                      <span data-ttu-id="9e01d-153">以降では新しい[!INCLUDE[bts2016_md](../../includes/bts2016-md.md)]します。</span><span class="sxs-lookup"><span data-stu-id="9e01d-153">New starting with [!INCLUDE[bts2016_md](../../includes/bts2016-md.md)].</span></span> <br/><br/><span data-ttu-id="9e01d-154">リモート ホスト接続の TCP ポート番号を入力します。</span><span class="sxs-lookup"><span data-stu-id="9e01d-154">Enter the TCP port number for the remote host connection.</span></span> <span data-ttu-id="9e01d-155">該当する場合に**によって接続が開始された**に設定されている**ローカル**します。</span><span class="sxs-lookup"><span data-stu-id="9e01d-155">Applicable when **Connection Initiated by** is set to **Local**.</span></span><br/><br/><span data-ttu-id="9e01d-156">設定**21000**します。</span><span class="sxs-lookup"><span data-stu-id="9e01d-156">Set to **21000**.</span></span>                                                                                       |


9. <span data-ttu-id="9e01d-157">受信場所のプロパティで、次のように選択します。</span><span class="sxs-lookup"><span data-stu-id="9e01d-157">In the Receive Location properties, select the following:</span></span>  


   |       <span data-ttu-id="9e01d-158">プロパティ</span><span class="sxs-lookup"><span data-stu-id="9e01d-158">Use this</span></span>       |                         <span data-ttu-id="9e01d-159">目的</span><span class="sxs-lookup"><span data-stu-id="9e01d-159">To do this</span></span>                          |
   |----------------------|-------------------------------------------------------------|
   | <span data-ttu-id="9e01d-160">**受信ハンドラー**</span><span class="sxs-lookup"><span data-stu-id="9e01d-160">**Receive Handler**</span></span>  | <span data-ttu-id="9e01d-161">選択**BizTalkServerApplication**ドロップダウン リストから</span><span class="sxs-lookup"><span data-stu-id="9e01d-161">Select **BizTalkServerApplication** from the drop-down list</span></span> |
   | <span data-ttu-id="9e01d-162">**受信パイプライン**</span><span class="sxs-lookup"><span data-stu-id="9e01d-162">**Receive Pipeline**</span></span> |    <span data-ttu-id="9e01d-163">選択**BTAHL72XPipelines.BTAHL72XReceivePipeline**</span><span class="sxs-lookup"><span data-stu-id="9e01d-163">Select **BTAHL72XPipelines.BTAHL72XReceivePipeline**</span></span>     |
   |  <span data-ttu-id="9e01d-164">**送信パイプライン**</span><span class="sxs-lookup"><span data-stu-id="9e01d-164">**Send Pipeline**</span></span>   |      <span data-ttu-id="9e01d-165">選択**BTAHL72XPipelines.BTAHL72XSendPipeline**</span><span class="sxs-lookup"><span data-stu-id="9e01d-165">Select **BTAHL72XPipelines.BTAHL72XSendPipeline**</span></span>      |


10. <span data-ttu-id="9e01d-166">**[OK]** を選択して変更を保存します。</span><span class="sxs-lookup"><span data-stu-id="9e01d-166">Select **OK** to save your changes.</span></span>  

11. <span data-ttu-id="9e01d-167">右クリックし、作成した受信場所を有効にし、**を有効にする**します。</span><span class="sxs-lookup"><span data-stu-id="9e01d-167">Enable the receive location you just created by right-clicking it, and then select **Enable**.</span></span>  

## <a name="next-step"></a><span data-ttu-id="9e01d-168">次の手順</span><span class="sxs-lookup"><span data-stu-id="9e01d-168">Next step</span></span>
[<span data-ttu-id="9e01d-169">手順 5: メッセージを配信する送信ポートの作成</span><span class="sxs-lookup"><span data-stu-id="9e01d-169">Step 5: Create a Send Port to Deliver Messages</span></span>](../../adapters-and-accelerators/accelerator-hl7/step-5-create-a-send-port-to-deliver-messages.md)