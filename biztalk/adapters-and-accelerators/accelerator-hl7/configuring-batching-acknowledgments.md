---
title: 受信確認をバッチ処理の構成 |Microsoft ドキュメント
ms.custom: ''
ms.date: 06/08/2017
ms.prod: biztalk-server
ms.reviewer: ''
ms.suite: ''
ms.tgt_pltfrm: ''
ms.topic: article
helpviewer_keywords:
- batching, acknowledgements
- acknowledgements, batching
ms.assetid: f3529638-e036-4270-ae6d-1bdc3ef98727
caps.latest.revision: 8
author: MandiOhlinger
ms.author: mandia
manager: anneta
ms.openlocfilehash: 60e6c9b3a6fadfcc0407c1b4fa206d0f966fa7dd
ms.sourcegitcommit: 5abd0ed3f9e4858ffaaec5481bfa8878595e95f7
ms.translationtype: MT
ms.contentlocale: ja-JP
ms.lasthandoff: 11/28/2017
ms.locfileid: "25962856"
---
# <a name="configuring-batching-acknowledgments"></a><span data-ttu-id="8e329-102">受信確認をバッチ処理を構成します。</span><span class="sxs-lookup"><span data-stu-id="8e329-102">Configuring Batching Acknowledgments</span></span>
<span data-ttu-id="8e329-103">使用する[!INCLUDE[HL7_CurrentVersion_FirstRef](../../includes/hl7-currentversion-firstref-md.md)]Configuration エクスプ ローラーを受信し、生成された受信確認の受信確認プロパティを指定します。</span><span class="sxs-lookup"><span data-stu-id="8e329-103">You use [!INCLUDE[HL7_CurrentVersion_FirstRef](../../includes/hl7-currentversion-firstref-md.md)] Configuration Explorer to specify the acknowledgment properties for inbound and generated acknowledgments.</span></span>  
  
### <a name="to-run-btahl7-configuration-explorer"></a><span data-ttu-id="8e329-104">BTAHL7 構成エクスプ ローラーを実行するには</span><span class="sxs-lookup"><span data-stu-id="8e329-104">To run BTAHL7 Configuration Explorer</span></span>  
  
-   <span data-ttu-id="8e329-105">をクリックして**開始**、 をポイント**プログラム**、 をポイント**Microsoft BizTalk\<バージョン\>Accelerator 用 HL7**、クリックして**BTAHL7 構成エクスプ ローラー**です。</span><span class="sxs-lookup"><span data-stu-id="8e329-105">Click **Start**, point to **Programs**, point to **Microsoft BizTalk \<version\> Accelerator for HL7**, and then click **BTAHL7 Configuration Explorer**.</span></span>  
  
### <a name="to-configure-message-batching-acknowledgments"></a><span data-ttu-id="8e329-106">メッセージの受信確認をバッチ処理を構成するには</span><span class="sxs-lookup"><span data-stu-id="8e329-106">To configure message batching acknowledgments</span></span>  
  
-   <span data-ttu-id="8e329-107">BTAHL7 構成エクスプ ローラーで、 **BTAHL7 構成エクスプ ローラー**  ダイアログ ボックスで、**パーティ** タブで、構成するパーティを選択し、、 **受信確認**  タブで、次の操作します。</span><span class="sxs-lookup"><span data-stu-id="8e329-107">In BTAHL7 Configuration Explorer, in the **BTAHL7 Configuration Explorer** dialog box, on the **Parties** tab, select the party you want to configure, and then, on the **Acknowledgments** tab, do the following:</span></span>  
  
    |<span data-ttu-id="8e329-108">プロパティ</span><span class="sxs-lookup"><span data-stu-id="8e329-108">Use this</span></span>|<span data-ttu-id="8e329-109">目的</span><span class="sxs-lookup"><span data-stu-id="8e329-109">To do this</span></span>|  
    |--------------|----------------|  
    |<span data-ttu-id="8e329-110">**受信確認の種類**</span><span class="sxs-lookup"><span data-stu-id="8e329-110">**Acknowledgment type**</span></span>|<span data-ttu-id="8e329-111">次のいずれかを選択します。</span><span class="sxs-lookup"><span data-stu-id="8e329-111">Select one of the following:</span></span><br /><br /> <span data-ttu-id="8e329-112">-   **None**。</span><span class="sxs-lookup"><span data-stu-id="8e329-112">-   **None**.</span></span> <span data-ttu-id="8e329-113">受信確認を構成したくない場合に選択します。</span><span class="sxs-lookup"><span data-stu-id="8e329-113">Select if you do not want to configure any acknowledgments.</span></span><br /><span data-ttu-id="8e329-114">-   **OriginalMode**です。</span><span class="sxs-lookup"><span data-stu-id="8e329-114">-   **OriginalMode**.</span></span> <span data-ttu-id="8e329-115">構成する場合に選択、 **MSH1 – フィールド区切り文字**、 **MSH2 – 文字のエンコード**、および**MSH8 – セキュリティ**オプションのみです。</span><span class="sxs-lookup"><span data-stu-id="8e329-115">Select to configure the **MSH1 – Field Separator**, **MSH2 – Encoding Characters**, and **MSH8 – Security** options only.</span></span><br /><span data-ttu-id="8e329-116">-   **EnhancedMode**です。</span><span class="sxs-lookup"><span data-stu-id="8e329-116">-   **EnhancedMode**.</span></span> <span data-ttu-id="8e329-117">すべての受信確認の使用可能なオプションの構成を選択します。</span><span class="sxs-lookup"><span data-stu-id="8e329-117">Select to configure all available acknowledgment options.</span></span><br /><span data-ttu-id="8e329-118">-   **DeferredMode**です。</span><span class="sxs-lookup"><span data-stu-id="8e329-118">-   **DeferredMode**.</span></span> <span data-ttu-id="8e329-119">構成する場合に選択、 **MSH1 – フィールド区切り文字**、 **MSH2 – 文字のエンコード**、および**MSH8 – セキュリティ**オプションのみです。</span><span class="sxs-lookup"><span data-stu-id="8e329-119">Select to configure the **MSH1 – Field Separator**, **MSH2 – Encoding Characters**, and **MSH8 – Security** options only.</span></span><br /><span data-ttu-id="8e329-120">-   **StaticMode**です。</span><span class="sxs-lookup"><span data-stu-id="8e329-120">-   **StaticMode**.</span></span> <span data-ttu-id="8e329-121">構成する場合に選択、**成功**と**エラー発生時に**受信確認のオプションです。</span><span class="sxs-lookup"><span data-stu-id="8e329-121">Select to configure the **On success** and **On failure** acknowledgment options.</span></span>|  
    |<span data-ttu-id="8e329-122">**MSH 15 は、受信確認の種類をそのまま使用します。**</span><span class="sxs-lookup"><span data-stu-id="8e329-122">**MSH 15 Accept Acknowledgment Type**</span></span>|<span data-ttu-id="8e329-123">次のいずれかを選択します。</span><span class="sxs-lookup"><span data-stu-id="8e329-123">Select one of the following:</span></span><br /><br /> <span data-ttu-id="8e329-124">-   **AL**です。</span><span class="sxs-lookup"><span data-stu-id="8e329-124">-   **AL**.</span></span> <span data-ttu-id="8e329-125">選択は常に送信するには、受信確認がそのまま使用します。</span><span class="sxs-lookup"><span data-stu-id="8e329-125">Select to always send accept acknowledgments.</span></span><br /><span data-ttu-id="8e329-126">-   **NE**です。</span><span class="sxs-lookup"><span data-stu-id="8e329-126">-   **NE**.</span></span> <span data-ttu-id="8e329-127">送信しない選択は、受信確認を受け入れます。</span><span class="sxs-lookup"><span data-stu-id="8e329-127">Select to never send accept acknowledgments.</span></span><br /><span data-ttu-id="8e329-128">-   **SU**です。</span><span class="sxs-lookup"><span data-stu-id="8e329-128">-   **SU**.</span></span> <span data-ttu-id="8e329-129">送信するを選択してでは、メッセージの転送が成功した後に受信確認をそのまま使用します。</span><span class="sxs-lookup"><span data-stu-id="8e329-129">Select to send accept acknowledgments after successful transmission of a message.</span></span><br /><span data-ttu-id="8e329-130">-   **ER**です。</span><span class="sxs-lookup"><span data-stu-id="8e329-130">-   **ER**.</span></span> <span data-ttu-id="8e329-131">送信するを選択してでは、エラーが発生した場合のみ肯定応答を受け入れます。</span><span class="sxs-lookup"><span data-stu-id="8e329-131">Select to send accept acknowledgments only in the event of an error.</span></span>|  
    |<span data-ttu-id="8e329-132">**MSH 15 アプリケーションの受信確認の種類**</span><span class="sxs-lookup"><span data-stu-id="8e329-132">**MSH 15 Application Acknowledgment Type**</span></span>|<span data-ttu-id="8e329-133">次のいずれかを選択します。</span><span class="sxs-lookup"><span data-stu-id="8e329-133">Select one of the following:</span></span><br /><br /> <span data-ttu-id="8e329-134">-   **AL**です。</span><span class="sxs-lookup"><span data-stu-id="8e329-134">-   **AL**.</span></span> <span data-ttu-id="8e329-135">選択すると、常にアプリケーションの受信確認を送信します。</span><span class="sxs-lookup"><span data-stu-id="8e329-135">Select to always send application acknowledgments.</span></span><br /><span data-ttu-id="8e329-136">-   **NE**です。</span><span class="sxs-lookup"><span data-stu-id="8e329-136">-   **NE**.</span></span> <span data-ttu-id="8e329-137">選択すると、アプリケーションの受信確認を送信しないようにします。</span><span class="sxs-lookup"><span data-stu-id="8e329-137">Select to never send application acknowledgments.</span></span><br /><span data-ttu-id="8e329-138">-   **SU**です。</span><span class="sxs-lookup"><span data-stu-id="8e329-138">-   **SU**.</span></span> <span data-ttu-id="8e329-139">選択すると、メッセージの転送が成功した後にアプリケーションの受信確認を送信します。</span><span class="sxs-lookup"><span data-stu-id="8e329-139">Select to send application acknowledgments after successful transmission of a message.</span></span><br /><span data-ttu-id="8e329-140">-   **ER**です。</span><span class="sxs-lookup"><span data-stu-id="8e329-140">-   **ER**.</span></span> <span data-ttu-id="8e329-141">選択すると、エラーが発生した場合のみアプリケーションの受信確認を送信します。</span><span class="sxs-lookup"><span data-stu-id="8e329-141">Select to send application acknowledgments only in the event of an error.</span></span>|  
    |<span data-ttu-id="8e329-142">**MSH1 – フィールド区切り文字**</span><span class="sxs-lookup"><span data-stu-id="8e329-142">**MSH1 – Field Separator**</span></span>|<span data-ttu-id="8e329-143">フィールドの区切り記号としては、一意の文字を入力します。</span><span class="sxs-lookup"><span data-stu-id="8e329-143">Type a unique character as a field separator.</span></span> <span data-ttu-id="8e329-144">既定値は、パイプ文字 (**&#124;**)、最大文字数は 1 つの文字とします。</span><span class="sxs-lookup"><span data-stu-id="8e329-144">The default value is a pipe character (**&#124;**), and the maximum characters allowed is one character.</span></span> <span data-ttu-id="8e329-145">MSH1 を変更する必要がある場合、使用することする必要があります、HL7 メッセージ コンテキストに MSH1 の適切な値の書き込みを行うオーケストレーションに注意してください。</span><span class="sxs-lookup"><span data-stu-id="8e329-145">Note that if you need to modify MSH1, then you must use an orchestration that writes the appropriate value of MSH1 to your HL7 message context.</span></span> <span data-ttu-id="8e329-146">BTAHL7 シリアライザーでは、コンテキストから値を読み取るし、シリアル化されたメッセージで使用します。</span><span class="sxs-lookup"><span data-stu-id="8e329-146">The BTAHL7 serializer reads the value from the context and uses it in the serialized message.</span></span>|  
    |<span data-ttu-id="8e329-147">**MSH2-エンコードの文字**</span><span class="sxs-lookup"><span data-stu-id="8e329-147">**MSH2 – Encoding Characters**</span></span>|<span data-ttu-id="8e329-148">HL7 標準に従ってエンコードの文字として一意の文字を入力します。</span><span class="sxs-lookup"><span data-stu-id="8e329-148">Type unique characters as the encoding characters as per the HL7 standard.</span></span> <span data-ttu-id="8e329-149">既定のエンコードの文字は、^、~、 \\、および (& a)。</span><span class="sxs-lookup"><span data-stu-id="8e329-149">The default encoding characters are ^, ~, \\, and &.</span></span> <span data-ttu-id="8e329-150">必要な最小文字は、2 つの文字、最大 4 文字です。</span><span class="sxs-lookup"><span data-stu-id="8e329-150">The minimum characters required are two characters, and the maximum allowed are four characters.</span></span> <span data-ttu-id="8e329-151">その場合に注意してください MSH2_3 または MSH2_4 (エスケープおよびサブコンポーネント動的区切り記号) が指定されていない、元のメッセージで受信確認 (ACK) メッセージは、これらのフィールドを自動的に入力します。</span><span class="sxs-lookup"><span data-stu-id="8e329-151">Note that if MSH2_3 or MSH2_4 (the escape and subcomponent dynamic delimiters) are not specified in your original message, the acknowledgment (ACK) message automatically populates these fields.</span></span> <span data-ttu-id="8e329-152">たとえば、元のメッセージ MSH セグメントは`MSH&#124;^~&#124;`のみ、コンポーネントおよび繰り返し区切り記号が指定されたは、ACK メッセージと 3 番目と 4 番目のコンポーネントを含めるには、そのフィールドを自動的に設定し、場所、`MSH&#124;^~\&`を提供する、フィールドの値が既に構成されていないこと BTAHL7 構成エクスプ ローラーで受信確認のセクションでします。</span><span class="sxs-lookup"><span data-stu-id="8e329-152">For example, if your original message MSH segment is `MSH&#124;^~&#124;`, where only the component and repetition delimiters are specified, then the ACK message automatically populates that field to include the third and fourth component as `MSH&#124;^~\&`, providing that the field values had not already been configured in the acknowledgment section in BTAHL7 Configuration Explorer.</span></span>|  
    |<span data-ttu-id="8e329-153">**MSH3**</span><span class="sxs-lookup"><span data-stu-id="8e329-153">**MSH3**</span></span>|<span data-ttu-id="8e329-154">送信元アプリケーションに対し、生成された確認のフィールドの値を入力します。</span><span class="sxs-lookup"><span data-stu-id="8e329-154">Type the field values for generated acknowledgments for the sending application.</span></span> <span data-ttu-id="8e329-155">許容最大長は、まとめて 180 文字です。</span><span class="sxs-lookup"><span data-stu-id="8e329-155">The maximum allowed length is 180 characters collectively.</span></span><br /><br /> <span data-ttu-id="8e329-156">構成されていないときに生成された受信確認を含む受信**MSH5**メッセージの値。</span><span class="sxs-lookup"><span data-stu-id="8e329-156">When not configured, generated acknowledgments contain incoming **MSH5** message values.</span></span> <span data-ttu-id="8e329-157">**注:** 2.X メッセージには、このオプションがのみ適用されます。</span><span class="sxs-lookup"><span data-stu-id="8e329-157">**Note:**  This option only applies to 2.X messages.</span></span> <span data-ttu-id="8e329-158">**注:** を null には、既存の値を変更するには、入力 **\\**です。</span><span class="sxs-lookup"><span data-stu-id="8e329-158">**Note:**  To override the existing value to null, type **\\**.</span></span>|  
    |<span data-ttu-id="8e329-159">**MSH5**</span><span class="sxs-lookup"><span data-stu-id="8e329-159">**MSH5**</span></span>|<span data-ttu-id="8e329-160">コピー先のアプリケーションに対し、生成された確認のフィールドの値を入力します。</span><span class="sxs-lookup"><span data-stu-id="8e329-160">Type the field values for generated acknowledgments for the destination application.</span></span> <span data-ttu-id="8e329-161">許容最大長は、まとめて 180 文字です。</span><span class="sxs-lookup"><span data-stu-id="8e329-161">The maximum allowed length is 180 characters collectively.</span></span><br /><br /> <span data-ttu-id="8e329-162">構成されていないときに生成された受信確認を含む受信**MSH3**メッセージの値。</span><span class="sxs-lookup"><span data-stu-id="8e329-162">When not configured, generated acknowledgments contain incoming **MSH3** message values.</span></span> <span data-ttu-id="8e329-163">**注:** 2.X メッセージには、このオプションがのみ適用されます。</span><span class="sxs-lookup"><span data-stu-id="8e329-163">**Note:**  This option only applies to 2.X messages.</span></span> <span data-ttu-id="8e329-164">**注:** を null には、既存の値を変更するには、入力 **\\**です。</span><span class="sxs-lookup"><span data-stu-id="8e329-164">**Note:**  To override the existing value to null, type **\\**.</span></span>|  
    |<span data-ttu-id="8e329-165">**MSH8 – セキュリティ**</span><span class="sxs-lookup"><span data-stu-id="8e329-165">**MSH8 – Security**</span></span>|<span data-ttu-id="8e329-166">省略可能なセキュリティ文字を入力します。</span><span class="sxs-lookup"><span data-stu-id="8e329-166">Type an optional security character.</span></span>|  
    |<span data-ttu-id="8e329-167">**MSH15 – 受信確認の種類を受け入れる**</span><span class="sxs-lookup"><span data-stu-id="8e329-167">**MSH15 – Accept Acknowledgment Type**</span></span>|<span data-ttu-id="8e329-168">Accept 受信確認の種類の次のオプションから選択します。</span><span class="sxs-lookup"><span data-stu-id="8e329-168">Select from the following options for the accept acknowledgment type:</span></span><br /><br /> <span data-ttu-id="8e329-169">-   **AL**です。</span><span class="sxs-lookup"><span data-stu-id="8e329-169">-   **AL**.</span></span> <span data-ttu-id="8e329-170">選択は常に送信する場合は、受信確認を受け入れます。</span><span class="sxs-lookup"><span data-stu-id="8e329-170">Select if you want to always send accept acknowledgments.</span></span><br /><span data-ttu-id="8e329-171">-   **NE**です。</span><span class="sxs-lookup"><span data-stu-id="8e329-171">-   **NE**.</span></span> <span data-ttu-id="8e329-172">選択に送信することはない場合は、受信確認を受け入れます。</span><span class="sxs-lookup"><span data-stu-id="8e329-172">Select if you never want to send accept acknowledgments.</span></span><br /><span data-ttu-id="8e329-173">-   **SU**です。</span><span class="sxs-lookup"><span data-stu-id="8e329-173">-   **SU**.</span></span> <span data-ttu-id="8e329-174">送信する場合は、このオプションを選択して、メッセージの転送が成功した後に受信確認をそのまま使用します。</span><span class="sxs-lookup"><span data-stu-id="8e329-174">Select this option if you want to send accept acknowledgments after successful transmission of a message.</span></span><br /><span data-ttu-id="8e329-175">-   **ER**です。</span><span class="sxs-lookup"><span data-stu-id="8e329-175">-   **ER**.</span></span> <span data-ttu-id="8e329-176">送信する場合は、このオプションを選択して、エラーが発生した場合のみ肯定応答をそのまま使用します。</span><span class="sxs-lookup"><span data-stu-id="8e329-176">Select this option if you want to send accept acknowledgments only in the event of an error.</span></span>|  
    |<span data-ttu-id="8e329-177">**成功した場合**</span><span class="sxs-lookup"><span data-stu-id="8e329-177">**On Success**</span></span>|<span data-ttu-id="8e329-178">成功のメッセージ配信の受信確認の静的テキストを入力します。</span><span class="sxs-lookup"><span data-stu-id="8e329-178">Type text for static acknowledgment for a successful message delivery.</span></span>|  
    |<span data-ttu-id="8e329-179">**エラー発生時に**</span><span class="sxs-lookup"><span data-stu-id="8e329-179">**On failure**</span></span>|<span data-ttu-id="8e329-180">失敗したメッセージ配信の受信確認の静的テキストを入力します。</span><span class="sxs-lookup"><span data-stu-id="8e329-180">Type text for static acknowledgment for an unsuccessful message delivery.</span></span>|  
    |<span data-ttu-id="8e329-181">**要求-応答で送信パイプラインに確認をルーティングする送信ポート**</span><span class="sxs-lookup"><span data-stu-id="8e329-181">**Route ACK to send pipeline on request-response send port**</span></span>|<span data-ttu-id="8e329-182">ソース LOB アプリケーションに、同期の確認メッセージを送信するには、このオプションを選択します。</span><span class="sxs-lookup"><span data-stu-id="8e329-182">Select this option to send a synchronous ACK message to the source LOB application.</span></span> <span data-ttu-id="8e329-183">このオプションは、送信請求-応答送信ポートでのみ使用できます。</span><span class="sxs-lookup"><span data-stu-id="8e329-183">This option is only available on a solicit-response send port.</span></span><br /><br /> <span data-ttu-id="8e329-184">このオプションが選択されていない場合、受信パイプラインは、受信確認の設定に基づき、ACK メッセージを生成します。</span><span class="sxs-lookup"><span data-stu-id="8e329-184">If this option is not selected, the receive pipeline generates the ACK message based upon your acknowledgment settings.</span></span>|  
  
    > [!NOTE]
    >  <span data-ttu-id="8e329-185">断片化をオフになっていると、バッチ メッセージの生成された受信確認値 2.4 MSH12.1 が含まれます。</span><span class="sxs-lookup"><span data-stu-id="8e329-185">Acknowledgments generated for a batch message with fragmentation turned off will contain MSH12.1 with value 2.4.</span></span> <span data-ttu-id="8e329-186">送信パイプラインでマップを適用することで、バージョン番号を手動で変更することができます。</span><span class="sxs-lookup"><span data-stu-id="8e329-186">You can manually modify the version number by applying a map in the send pipeline.</span></span> <span data-ttu-id="8e329-187">詳細については、次を参照してください。[の作成と確認の処理](../../adapters-and-accelerators/accelerator-hl7/creating-and-processing-acknowledgments.md)です。</span><span class="sxs-lookup"><span data-stu-id="8e329-187">For more information, see [Creating and Processing Acknowledgments](../../adapters-and-accelerators/accelerator-hl7/creating-and-processing-acknowledgments.md).</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="8e329-188">参照</span><span class="sxs-lookup"><span data-stu-id="8e329-188">See Also</span></span>  
 [<span data-ttu-id="8e329-189">バッチ処理の構成</span><span class="sxs-lookup"><span data-stu-id="8e329-189">Configuring Batching</span></span>](../../adapters-and-accelerators/accelerator-hl7/configuring-batching.md)