---
title: HL7 2.X と 2.xml のスキーマ |Microsoft Docs
ms.custom: ''
ms.date: 06/08/2017
ms.prod: biztalk-server
ms.reviewer: ''
ms.suite: ''
ms.tgt_pltfrm: ''
ms.topic: article
helpviewer_keywords:
- schemas, schema types
- HL7-encoded messages
- 2.X schemas
- schemas, HL7 organization
- BTAHL7, HL7 schemas
- HL7, 2.XML schemas
- Update2XMLSchema tool
- schemas, common schemas
- 2.X schemas, about 2.X schemas
- 2.X schemas, compatibility
- 2.XML schemas, compatibility
- messages, HL7-encoded messages
- HL7 Schema Selector
- schemas, 2.XML schemas
- 2.XML schemas
- 2.XML schemas, about 2.XML schemas
- HL7, 2.X schemas
- schemas, compatibility
- common schemas
- schemas, 2.X schemas
ms.assetid: 02532d72-1948-48d8-a8ef-6b5a814eb573
caps.latest.revision: 8
author: MandiOhlinger
ms.author: mandia
manager: anneta
ms.openlocfilehash: 69dc39b3f61dbb564fc3ef128405b8721633dd2d
ms.sourcegitcommit: 266308ec5c6a9d8d80ff298ee6051b4843c5d626
ms.translationtype: MT
ms.contentlocale: ja-JP
ms.lasthandoff: 06/27/2018
ms.locfileid: "36994187"
---
# <a name="hl7-2x-and-2xml-schemas"></a><span data-ttu-id="26d05-102">HL7 2.X と 2.xml のスキーマ</span><span class="sxs-lookup"><span data-stu-id="26d05-102">HL7 2.X and 2.XML Schemas</span></span>
<span data-ttu-id="26d05-103">HL7 組織は、スキーマの 2 つのセットを公開: HL7 2.X スキーマ、HL7 エンコードされたメッセージで使用および HL7 2. XML スキーマ、XML でエンコードされたメッセージに使用します。</span><span class="sxs-lookup"><span data-stu-id="26d05-103">The HL7 organization publishes two sets of schemas: HL7 2.X schemas, used for HL7-encoded messages, and HL7 2.XML schemas, used for XML-encoded messages.</span></span>  

 <span data-ttu-id="26d05-104">Microsoft[!INCLUDE[HL7_CurrentVersion_FirstRef](../../includes/hl7-currentversion-firstref-md.md)]はネイティブに、HL7 動作 2.X スキーマ。</span><span class="sxs-lookup"><span data-stu-id="26d05-104">Microsoft [!INCLUDE[HL7_CurrentVersion_FirstRef](../../includes/hl7-currentversion-firstref-md.md)] works natively with the HL7 2.X schemas.</span></span> [!INCLUDE[btaBTAHL71.3abbrevnonumber](../../includes/btabtahl71-3abbrevnonumber-md.md)]<span data-ttu-id="26d05-105"> セットアップに読み込み、HL7 2.X スキーマ ファイル\<*ドライブ*\>: \program files\\Microsoft BizTalk\<バージョン\>HL7\Templates\Schemas\2.X のアクセラレータです。</span><span class="sxs-lookup"><span data-stu-id="26d05-105"> setup loads the HL7 2.X schema files into \<*drive*\>:\program files\\Microsoft BizTalk \<version\> Accelerator for HL7\Templates\Schemas\2.X.</span></span> <span data-ttu-id="26d05-106">その結果、HL7 2.X スキーマは HL7 スキーマの選択で使用できます。</span><span class="sxs-lookup"><span data-stu-id="26d05-106">As a result, the HL7 2.X schemas are available in the HL7 Schema Selector.</span></span> <span data-ttu-id="26d05-107">Microsoft では、HL7 スキーマの選択を実行する[!INCLUDE[btsVStudioNoVersion](../../includes/btsvstudionoversion-md.md)]します。</span><span class="sxs-lookup"><span data-stu-id="26d05-107">You run the HL7 Schema Selector in Microsoft [!INCLUDE[btsVStudioNoVersion](../../includes/btsvstudionoversion-md.md)].</span></span>  

 <span data-ttu-id="26d05-108">HL7 2. XML スキーマでは、BTAHL7 の動作が、BTAHL7 セットアップ プログラムは、BTAHL7 プログラム ファイルが、HL7 2. XML スキーマを 、BTAHL7 で使用するには HL7 2. XML スキーマの一部を変更する必要があります。</span><span class="sxs-lookup"><span data-stu-id="26d05-108">BTAHL7 works with the HL7 2.XML schemas, but the BTAHL7 setup program does not load the HL7 2.XML schemas with the BTAHL7 program files, and you have to modify some of the HL7 2.XML schemas for them to work with BTAHL7.</span></span> <span data-ttu-id="26d05-109">HL7 スキーマの選択で利用できるようにし、必要な変更をの HL7 組織の Web サイトから 2. XML スキーマをダウンロードし、実行、 **Update2XMLSchema**ツール (詳細については、次を参照してください[。Update2XMLSchema ツール](../../adapters-and-accelerators/accelerator-hl7/update2xmlschema-tool.md))。</span><span class="sxs-lookup"><span data-stu-id="26d05-109">To make them available in the HL7 Schema Selector and make the required modifications, download the 2.XML schemas from the HL7 organization Web site, and then run the **Update2XMLSchema** tool (for more information, see [Update2XMLSchema Tool](../../adapters-and-accelerators/accelerator-hl7/update2xmlschema-tool.md)).</span></span> <span data-ttu-id="26d05-110">使用するために、ツールの HL7 2. XML スキーマを変更する[!INCLUDE[btsBizTalkServerNoVersion](../../includes/btsbiztalkservernoversion-md.md)]、それらを配置および\<*ドライブ*\>: \program files\\Microsoft BizTalk \<のバージョン\>HL7\Templates\Schemas のアクセラレータです。</span><span class="sxs-lookup"><span data-stu-id="26d05-110">The tool will modify the HL7 2.XML schemas as required to work with [!INCLUDE[btsBizTalkServerNoVersion](../../includes/btsbiztalkservernoversion-md.md)], and then place them in \<*drive*\>:\program files\\Microsoft BizTalk \<version\> Accelerator for HL7\Templates\Schemas.</span></span>  

 <span data-ttu-id="26d05-111">それぞれのスキーマのセットには、一連バージョンにはが含まれています。</span><span class="sxs-lookup"><span data-stu-id="26d05-111">Each of these sets of schemas includes a series of versions.</span></span> <span data-ttu-id="26d05-112">HL7 2.X スキーマのライブ バージョンが 2.5 を通じて 2.1 が含まれます (詳細については、次を参照してください。 [HL7 バージョン](../../adapters-and-accelerators/accelerator-hl7/hl7-versions.md))。</span><span class="sxs-lookup"><span data-stu-id="26d05-112">HL7 2.X live schema versions include 2.1 through 2.5 (for more information, see [HL7 Versions](../../adapters-and-accelerators/accelerator-hl7/hl7-versions.md)).</span></span> <span data-ttu-id="26d05-113">HL72 します。XML スキーマのバージョンには、2.3.1、2.4、2.5 が含まれます。</span><span class="sxs-lookup"><span data-stu-id="26d05-113">HL72.XML schema versions include 2.3.1, 2.4, and 2.5.</span></span> <span data-ttu-id="26d05-114">HL7 2.X スキーマのバージョンは旧バージョンと対応します。</span><span class="sxs-lookup"><span data-stu-id="26d05-114">HL7 2.X schema versions are backward compliant.</span></span> <span data-ttu-id="26d05-115">HL7 2. XML スキーマのバージョンが旧バージョンと対応します。</span><span class="sxs-lookup"><span data-stu-id="26d05-115">HL7 2.XML schema versions are not backward compliant.</span></span>  

> [!NOTE]
>  <span data-ttu-id="26d05-116">2. XML のバージョン 2.4 は旧バージョンとではありませんので 2.XML の 2.3.1 に準拠している、エラーが発生する 2. XML スキーマのバージョン 2.4 を展開し、2.3.1 に準拠したメッセージのインスタンスを送信した場合のバージョン。</span><span class="sxs-lookup"><span data-stu-id="26d05-116">Because version 2.4 of 2.XML is not backward compliant with 2.3.1 for 2.XML, an error may occur if you deploy a 2.4 version of the 2.XML schema, and then submit an instance of a message conforming to the 2.3.1 version.</span></span> <span data-ttu-id="26d05-117">2.3.1 を処理する別のターゲット名前空間を作成する必要がありますこれを修正するメッセージ。</span><span class="sxs-lookup"><span data-stu-id="26d05-117">To correct this, you may need to create a different target namespace to deal with 2.3.1 messages.</span></span>  

 <span data-ttu-id="26d05-118">作成するときに、マルチパート HL7 2.X メッセージ、特定のスキーマにボディ部の型を設定する必要があります。</span><span class="sxs-lookup"><span data-stu-id="26d05-118">When you create a multi-part HL7 2.X message, you must set the type of the body part to a specific schema.</span></span> <span data-ttu-id="26d05-119">それ以外の場合は、シリアライザーは、メッセージが拒否されます。</span><span class="sxs-lookup"><span data-stu-id="26d05-119">If not, the serializer will reject the message.</span></span>  

 <span data-ttu-id="26d05-120">次の表では、2 つの基本的な種類のスキーマが BTAHL7 の機能について説明します。</span><span class="sxs-lookup"><span data-stu-id="26d05-120">The following table describes the two basic types of schemas with which BTAHL7 works.</span></span>  


|            <span data-ttu-id="26d05-121">Schema Type</span><span class="sxs-lookup"><span data-stu-id="26d05-121">Schema Type</span></span>            |                                                                                                                                                                                                                                                                                                   <span data-ttu-id="26d05-122">説明</span><span class="sxs-lookup"><span data-stu-id="26d05-122">Description</span></span>                                                                                                                                                                                                                                                                                                    |
|-----------------------------------|------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| <span data-ttu-id="26d05-123">HL7FF – ER7 (2.X) スキーマをエンコードします。</span><span class="sxs-lookup"><span data-stu-id="26d05-123">HL7FF – ER7 Encoded (2.X) Schemas</span></span> | <span data-ttu-id="26d05-124">BTAHL7 では、HL7 2.X スキーマの HL7 Access データベースから派生したなど。</span><span class="sxs-lookup"><span data-stu-id="26d05-124">BTAHL7 provides HL7 2.X schemas derived from the HL7 Access database, including:</span></span><br /><br /> <span data-ttu-id="26d05-125">-特定のバージョン、メッセージの種類またはイベントに基づいてすべてのスキーマのセット</span><span class="sxs-lookup"><span data-stu-id="26d05-125">-   A set of all specific schemas based on version, message type, or event</span></span><br /><span data-ttu-id="26d05-126">-一般的なスキーマのセグメント、データ型、テーブル、ヘッダー、および受信確認 (Ack)</span><span class="sxs-lookup"><span data-stu-id="26d05-126">-   Common schemas for segments, data types, tables, headers, and acknowledgments (ACKs)</span></span><br /><br /> <span data-ttu-id="26d05-127">BTAHL7 では、次のスキーマ テンプレートがサポートされています。</span><span class="sxs-lookup"><span data-stu-id="26d05-127">BTAHL7 supports the following schema templates:</span></span><br /><br /> <span data-ttu-id="26d05-128">-V2.1</span><span class="sxs-lookup"><span data-stu-id="26d05-128">-   V2.1</span></span><br /><span data-ttu-id="26d05-129">-V2.2</span><span class="sxs-lookup"><span data-stu-id="26d05-129">-   V2.2</span></span><br /><span data-ttu-id="26d05-130">-V2.3</span><span class="sxs-lookup"><span data-stu-id="26d05-130">-   V2.3</span></span><br /><span data-ttu-id="26d05-131">-V2.3.1</span><span class="sxs-lookup"><span data-stu-id="26d05-131">-   V2.3.1</span></span><br /><span data-ttu-id="26d05-132">-V2.4</span><span class="sxs-lookup"><span data-stu-id="26d05-132">-   V2.4</span></span><br /><span data-ttu-id="26d05-133">-V2.5</span><span class="sxs-lookup"><span data-stu-id="26d05-133">-   V2.5</span></span><br /><br /> <span data-ttu-id="26d05-134">BTAHL7 セットアップでは、V2 をインストールします。内のスキーマ x \<*ドライブ*\>\Program Files\\Microsoft BizTalk Accelerator for HL7\Templates\Schemas します。</span><span class="sxs-lookup"><span data-stu-id="26d05-134">BTAHL7 setup installs V2.X schemas in \<*drive*\>\Program Files\\Microsoft BizTalk Accelerator for HL7\Templates\Schemas.</span></span> |
|      <span data-ttu-id="26d05-135">HL7XML – 2. XML エンコーディング</span><span class="sxs-lookup"><span data-stu-id="26d05-135">HL7XML – 2.XML Encoding</span></span>      |                                                                                                                                            <span data-ttu-id="26d05-136">BTAHL7 では、次のスキーマがサポートされています。</span><span class="sxs-lookup"><span data-stu-id="26d05-136">BTAHL7 supports the following schemas:</span></span><br /><br /> <span data-ttu-id="26d05-137">-V2.3.1</span><span class="sxs-lookup"><span data-stu-id="26d05-137">-   V2.3.1</span></span><br /><span data-ttu-id="26d05-138">-V2.4</span><span class="sxs-lookup"><span data-stu-id="26d05-138">-   V2.4</span></span><br /><span data-ttu-id="26d05-139">-V2.5</span><span class="sxs-lookup"><span data-stu-id="26d05-139">-   V2.5</span></span><br /><br /> <span data-ttu-id="26d05-140">BTAHL7 では、2.xml スキーマがインストールされません。</span><span class="sxs-lookup"><span data-stu-id="26d05-140">BTAHL7 setup does not install the 2.XML schemas.</span></span> <span data-ttu-id="26d05-141">インストールし、BizTalk エディターを操作するように変更して、次を参照してください。 [Update2XMLSchema ツール](../../adapters-and-accelerators/accelerator-hl7/update2xmlschema-tool.md)します。</span><span class="sxs-lookup"><span data-stu-id="26d05-141">To install them and modify them to work with BizTalk Editor, see [Update2XMLSchema Tool](../../adapters-and-accelerators/accelerator-hl7/update2xmlschema-tool.md).</span></span>                                                                                                                                            |

## <a name="common-schemas"></a><span data-ttu-id="26d05-142">一般的なスキーマ</span><span class="sxs-lookup"><span data-stu-id="26d05-142">Common Schemas</span></span>  
 <span data-ttu-id="26d05-143">BTAHL7 では、作成し、そのメッセージ型のインスタンスの本文を検証するメッセージの種類に固有の HL7 スキーマを使用します。</span><span class="sxs-lookup"><span data-stu-id="26d05-143">BTAHL7 uses an HL7 schema specific to a message type to create and validate the body of an instance of that message type.</span></span> <span data-ttu-id="26d05-144">また、特定のスキーマに加え、一般的なスキーマを使用します。</span><span class="sxs-lookup"><span data-stu-id="26d05-144">It also uses common schemas, in addition to the specific schemas.</span></span> <span data-ttu-id="26d05-145">BTAHL7 では、一般的な HL7 スキーマを使用して、HL7 メッセージのヘッダーと受信確認を検証します。</span><span class="sxs-lookup"><span data-stu-id="26d05-145">BTAHL7 uses common HL7 schemas to validate HL7 message headers and acknowledgments.</span></span> <span data-ttu-id="26d05-146">これらのファイルは、受信確認のヘッダーと ACK_24_GLO_DEF MSH_25_GLO_DEF.xsd は。</span><span class="sxs-lookup"><span data-stu-id="26d05-146">These files are MSH_25_GLO_DEF.xsd for headers and ACK_24_GLO_DEF for acknowledgments.</span></span>  

 <span data-ttu-id="26d05-147">BTAHL7 では、一般的なスキーマを使用してデータ型、セグメント、およびテーブルの値を検証することもできます。</span><span class="sxs-lookup"><span data-stu-id="26d05-147">BTAHL7 also uses common schemas to validate data types, segments, and table values.</span></span> <span data-ttu-id="26d05-148">これらのスキーマは、HL7 標準の各バージョンに固有です。</span><span class="sxs-lookup"><span data-stu-id="26d05-148">These schemas are specific to each version of the HL7 standards.</span></span> <span data-ttu-id="26d05-149">たとえば、バージョン 2.2 メッセージ用の一般的なスキーマは、datatype_22.xsd、segments_22.xsd、tablevalues_22.xsd です。</span><span class="sxs-lookup"><span data-stu-id="26d05-149">For instance, the common schemas for V2.2 messages are datatype_22.xsd, segments_22.xsd, and tablevalues_22.xsd.</span></span> <span data-ttu-id="26d05-150">BTAHL7 では、これらのスキーマを使用して、データ型、セグメント、およびバージョン 2.2 のすべてのメッセージのテーブルの値を検証します。</span><span class="sxs-lookup"><span data-stu-id="26d05-150">BTAHL7 uses these schemas to validate data types, segments, and table values for all V2.2 messages.</span></span>  

## <a name="see-also"></a><span data-ttu-id="26d05-151">参照</span><span class="sxs-lookup"><span data-stu-id="26d05-151">See Also</span></span>  
 <span data-ttu-id="26d05-152">[メッセージの処理](../../adapters-and-accelerators/accelerator-hl7/message-processing.md) </span><span class="sxs-lookup"><span data-stu-id="26d05-152">[Message Processing](../../adapters-and-accelerators/accelerator-hl7/message-processing.md) </span></span>  
 <span data-ttu-id="26d05-153">[BTAHL72X フラット ファイル処理](../../adapters-and-accelerators/accelerator-hl7/btahl72x-flat-file-processing.md) </span><span class="sxs-lookup"><span data-stu-id="26d05-153">[BTAHL72X Flat File Processing](../../adapters-and-accelerators/accelerator-hl7/btahl72x-flat-file-processing.md) </span></span>  
 <span data-ttu-id="26d05-154">[BTAHL72XML 処理](../../adapters-and-accelerators/accelerator-hl7/btahl72xml-processing.md) </span><span class="sxs-lookup"><span data-stu-id="26d05-154">[BTAHL72XML Processing](../../adapters-and-accelerators/accelerator-hl7/btahl72xml-processing.md) </span></span>  
 <span data-ttu-id="26d05-155">[HL7 メッセージの処理](../../adapters-and-accelerators/accelerator-hl7/processing-hl7-messages.md) </span><span class="sxs-lookup"><span data-stu-id="26d05-155">[Processing HL7 Messages](../../adapters-and-accelerators/accelerator-hl7/processing-hl7-messages.md) </span></span>  
 <span data-ttu-id="26d05-156">[HL7 2.X スキーマの使用](../../adapters-and-accelerators/accelerator-hl7/using-hl7-2-x-schemas.md) </span><span class="sxs-lookup"><span data-stu-id="26d05-156">[Using HL7 2.X Schemas](../../adapters-and-accelerators/accelerator-hl7/using-hl7-2-x-schemas.md) </span></span>  
 [<span data-ttu-id="26d05-157">HL7 2. XML スキーマの使用</span><span class="sxs-lookup"><span data-stu-id="26d05-157">Using HL7 2.XML Schemas</span></span>](../../adapters-and-accelerators/accelerator-hl7/using-hl7-2-xml-schemas.md)