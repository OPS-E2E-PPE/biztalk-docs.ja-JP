---
title: フリー テキストを使用して文字のエンコード |Microsoft Docs
ms.custom: ''
ms.date: 06/08/2017
ms.prod: biztalk-server
ms.reviewer: ''
ms.suite: ''
ms.tgt_pltfrm: ''
ms.topic: article
ms.assetid: a69dffe1-3fb2-4902-a9a2-093f3ea7b11f
caps.latest.revision: 4
author: MandiOhlinger
ms.author: mandia
manager: anneta
ms.openlocfilehash: 629e0a60a9781b9610e4cfad3502086fca8071c8
ms.sourcegitcommit: 381e83d43796a345488d54b3f7413e11d56ad7be
ms.translationtype: MT
ms.contentlocale: ja-JP
ms.lasthandoff: 05/07/2019
ms.locfileid: "65264504"
---
# <a name="encoding-characters-using-free-text"></a><span data-ttu-id="42635-102">フリー テキストを使用する文字エン コード</span><span class="sxs-lookup"><span data-stu-id="42635-102">Encoding Characters using Free Text</span></span>
<span data-ttu-id="42635-103">以降で[!INCLUDE[bts2013r2](../../includes/bts2013r2-md.md)]フィールドやセグメントに"FreeText"を使用することができます。</span><span class="sxs-lookup"><span data-stu-id="42635-103">Starting with [!INCLUDE[bts2013r2](../../includes/bts2013r2-md.md)], “FreeText” can be used in a field or segment.</span></span> <span data-ttu-id="42635-104">「フリー テキスト」のフィールド/セグメント内のデータは解析されません。</span><span class="sxs-lookup"><span data-stu-id="42635-104">Data in the “FreeText” field/segment is not parsed.</span></span>  
  
## <a name="what-you-need-to-know"></a><span data-ttu-id="42635-105">理解しておく必要があること</span><span class="sxs-lookup"><span data-stu-id="42635-105">What you need to know</span></span>  
  
|                            |                                                                                                                                                <span data-ttu-id="42635-106">動作</span><span class="sxs-lookup"><span data-stu-id="42635-106">Behavior</span></span>                                                                                                                                                |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     <span data-ttu-id="42635-107">例</span><span class="sxs-lookup"><span data-stu-id="42635-107">Example</span></span>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      |
|----------------------------|--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
|  <span data-ttu-id="42635-108">~:繰り返し区切り記号</span><span class="sxs-lookup"><span data-stu-id="42635-108">~: Repetition separator</span></span>   |                                  <span data-ttu-id="42635-109">フィールドには、繰り返し (~) は、繰り返し区切り記号として扱われます。</span><span class="sxs-lookup"><span data-stu-id="42635-109">In a field, Repetition (~) is treated as a repeating delimiter.</span></span> <span data-ttu-id="42635-110">Free 以外のセグメントの繰り返し (~) は、繰り返し区切り記号として扱われます。</span><span class="sxs-lookup"><span data-stu-id="42635-110">In a non-free segment, Repetition (~) is treated as a repeating delimiter.</span></span> <span data-ttu-id="42635-111">無料のセグメントの繰り返し (~) は、新しい繰り返しではない、フリー テキストの一部として扱われます。</span><span class="sxs-lookup"><span data-stu-id="42635-111">In a free segment, Repetition (~) is treated as part of Free Text, not a new repetition.</span></span>                                   | <span data-ttu-id="42635-112">次の例では、FRE は、無料のセグメントです。</span><span class="sxs-lookup"><span data-stu-id="42635-112">In the following example, FRE is free Segment.</span></span> <span data-ttu-id="42635-113">無料のテキストとして任意の文字を持つことができますを含む ~。</span><span class="sxs-lookup"><span data-stu-id="42635-113">It can have any character as free text, including ~.</span></span> <span data-ttu-id="42635-114">追加繰り返し (~) を使用して、繰り返し区切り記号は見なされず、フリー テキスト コンテンツとして扱われます。</span><span class="sxs-lookup"><span data-stu-id="42635-114">Any additional repetitions (~) are not considered a repetition delimiter and are treated as the Free Text content.</span></span> <span data-ttu-id="42635-115">無料のセグメントの子が、反復不能、繰り返し (~) が含まれている場合でも、検証が成功します。</span><span class="sxs-lookup"><span data-stu-id="42635-115">Validation succeeds even if the child of the Free Segment is non-repeatable and contains repetition (~).</span></span> <span data-ttu-id="42635-116">FRE 例:</span><span class="sxs-lookup"><span data-stu-id="42635-116">FRE example:</span></span><br /><br /> <span data-ttu-id="42635-117">**FRE&#124; Foo&^&#124;Foo&^&#124;Foo&^&#124;Foo&^~Foo&^&#124;Foo&^&#124;Foo&^&#124;Foo&^**</span><span class="sxs-lookup"><span data-stu-id="42635-117">**FRE&#124; Foo&^&#124;Foo&^&#124;Foo&^&#124;Foo&^~Foo&^&#124;Foo&^&#124;Foo&^&#124;Foo&^**</span></span><br /><br /> <span data-ttu-id="42635-118">次の例で EVN4 がフリー テキストとして定義が含まれているため、  *&^* します。</span><span class="sxs-lookup"><span data-stu-id="42635-118">In the following example, EVN4 is defined as free text because it contains *&^*.</span></span> <span data-ttu-id="42635-119">ときに、"&#124;"区切り記号の検出と、現在フリー テキストの末尾として扱われます。</span><span class="sxs-lookup"><span data-stu-id="42635-119">When the “&#124;” delimiter is encountered, it is treated as the end of the current Free Text.</span></span> <span data-ttu-id="42635-120">EVN 例:</span><span class="sxs-lookup"><span data-stu-id="42635-120">EVN example:</span></span><br /><br /> <span data-ttu-id="42635-121">**EVN&#124;&#124;&#124;&#124;Foo&^Foo&^Foo&^Foo&^Foo&^&#124;&#124;**</span><span class="sxs-lookup"><span data-stu-id="42635-121">**EVN&#124;&#124;&#124;&#124;Foo&^Foo&^Foo&^Foo&^Foo&^&#124;&#124;**</span></span><br /><br /> <span data-ttu-id="42635-122">次の例で EVN5 の最初の子がフリー テキストとして定義が含まれているため、  *&* します。</span><span class="sxs-lookup"><span data-stu-id="42635-122">In the following example, the first child of EVN5 is defined as free text because it contains *&*.</span></span> <span data-ttu-id="42635-123">ときに、"^"区切り記号の検出と、現在の自由書式の終わりとして扱われます。</span><span class="sxs-lookup"><span data-stu-id="42635-123">When the “^” delimiter is encountered, it is treated as the end of the current Free Text.</span></span> <span data-ttu-id="42635-124">EVN5 例:</span><span class="sxs-lookup"><span data-stu-id="42635-124">EVN5 example:</span></span><br /><br /> <span data-ttu-id="42635-125">**EVN&#124;&#124;&#124;&#124; &#124; Foo&Foo&Foo&Foo&Foo&^5.2&#124;**</span><span class="sxs-lookup"><span data-stu-id="42635-125">**EVN&#124;&#124;&#124;&#124; &#124; Foo&Foo&Foo&Foo&Foo&^5.2&#124;**</span></span><br /><br /> <span data-ttu-id="42635-126">次の例では、5.2.1 と 5.2.2 ことはできません、区切り記号テキスト、FreeText として、スキーマで定義されている場合でも。</span><span class="sxs-lookup"><span data-stu-id="42635-126">In the following example, 5.2.1 and 5.2.2 cannot have any delimiters as Free Text, even if it is defined as FreeText in the schema.</span></span> <span data-ttu-id="42635-127">5.2.1 と 5.2.2 例:</span><span class="sxs-lookup"><span data-stu-id="42635-127">5.2.1 and 5.2.2 example:</span></span><br /><br /> <span data-ttu-id="42635-128">**EVN&#124;&#124;&#124;&#124; &#124; Foo1^5.2.1&5.2.2&#124;**</span><span class="sxs-lookup"><span data-stu-id="42635-128">**EVN&#124;&#124;&#124;&#124; &#124; Foo1^5.2.1&5.2.2&#124;**</span></span><br /><br /> <span data-ttu-id="42635-129">次の例では、EVN4 で繰り返すことができます、フリー テキスト タイプのものとします。</span><span class="sxs-lookup"><span data-stu-id="42635-129">In the following example, assume EVN4 can be repeated and is of the Free Text type.</span></span> <span data-ttu-id="42635-130">*Foo1 &^* は最初の繰り返しとして扱われますと*Foo2&^* は 2 つ目の繰り返しとして扱われます。</span><span class="sxs-lookup"><span data-stu-id="42635-130">*Foo1&^* is treated as the first repetition and *Foo2&^* is treated as the second repetition.</span></span> <span data-ttu-id="42635-131">EVN4 が反復可能でない場合 (MaxOccurs = 1)、検証が含まれている場合に失敗し、~ フリー テキスト型 (非フリー テキスト フィールドの場合など) である場合でも、します。</span><span class="sxs-lookup"><span data-stu-id="42635-131">If EVN4 is not repeatable (MaxOccurs = 1), then the validation fails if it contains ~, even if it is of Free Text type (like in the cases of non-Free Text fields).</span></span> <span data-ttu-id="42635-132">EVN4 例:</span><span class="sxs-lookup"><span data-stu-id="42635-132">EVN4 example:</span></span><br /><br /> <span data-ttu-id="42635-133"><strong>EVN &#124;&#124;&#124;&#124; Foo1&^~ Foo2&^ &#124;&#124;</strong></span><span class="sxs-lookup"><span data-stu-id="42635-133"><strong>EVN &#124;&#124;&#124;&#124; Foo1&^~ Foo2&^ &#124;&#124;</strong></span></span> |
|  <span data-ttu-id="42635-134">&#124;:フィールドの区切り記号</span><span class="sxs-lookup"><span data-stu-id="42635-134">&#124;: Field separator</span></span>   |                                                                                                     <span data-ttu-id="42635-135">無料のセグメントのセグメント タグの後、フィールド区切り記号がない場合は、検証は成功します。</span><span class="sxs-lookup"><span data-stu-id="42635-135">If a field delimiter is missing after the segment tag of a free segment, Validation succeeds.</span></span>                                                                                                      |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            <span data-ttu-id="42635-136">次の例では、FRE はフリー テキスト型です。</span><span class="sxs-lookup"><span data-stu-id="42635-136">In the following examples, FRE is a Free Text type.</span></span> <span data-ttu-id="42635-137">セグメント タグの有無にかかわらず、fre から後すぐに、無料のテキスト コンテンツを開始することができます"&#124;"フィールドの区切り記号。</span><span class="sxs-lookup"><span data-stu-id="42635-137">Free Text content can be started immediately after the FRE segment Tag, with or without “&#124;” field delimiter.</span></span> <span data-ttu-id="42635-138">どちらの例も成功します。</span><span class="sxs-lookup"><span data-stu-id="42635-138">Both examples succeed:</span></span><br /><br /> <span data-ttu-id="42635-139">**FREabc**</span><span class="sxs-lookup"><span data-stu-id="42635-139">**FREabc**</span></span> <br /> <span data-ttu-id="42635-140">**Fre から &#124; abc**</span><span class="sxs-lookup"><span data-stu-id="42635-140">**FRE&#124;abc**</span></span><br /><br /> <span data-ttu-id="42635-141">次の例については、検証が成功しました。</span><span class="sxs-lookup"><span data-stu-id="42635-141">In the following examples, validation succeeds:</span></span><br /><br /> <span data-ttu-id="42635-142">逆アセンブラーに入力メッセージ。**FRE&#124;abcd**</span><span class="sxs-lookup"><span data-stu-id="42635-142">Input message to DASM: **FRE&#124;abcd**</span></span><br /><span data-ttu-id="42635-143">逆アセンブラーからの出力。**\<SegmentData\>&#124;abcd\</SegmentData\>**</span><span class="sxs-lookup"><span data-stu-id="42635-143">Output from DASM: **\<SegmentData\>&#124;abcd\</SegmentData\>**</span></span><br /><span data-ttu-id="42635-144">ASM からの出力。**FRE&#124;abcd**</span><span class="sxs-lookup"><span data-stu-id="42635-144">Output from ASM: **FRE&#124;abcd**</span></span><br /><br /> <span data-ttu-id="42635-145">逆アセンブラーに入力メッセージ。**FREabcd**</span><span class="sxs-lookup"><span data-stu-id="42635-145">Input message to DASM: **FREabcd**</span></span><br /><span data-ttu-id="42635-146">逆アセンブラーからの出力。**\<SegmentData\>abcd\</SegmentData\>**</span><span class="sxs-lookup"><span data-stu-id="42635-146">Output from DASM: **\<SegmentData\>abcd\</SegmentData\>**</span></span><br /><span data-ttu-id="42635-147">ASM からの出力。**FREabcd**</span><span class="sxs-lookup"><span data-stu-id="42635-147">Output from ASM: **FREabcd**</span></span>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             |
|   <span data-ttu-id="42635-148">親と子のオプション</span><span class="sxs-lookup"><span data-stu-id="42635-148">Parent-Child optional</span></span>    |                                                                                                                        <span data-ttu-id="42635-149">親と子の省略可能な検証規則は引き続き適用されます。</span><span class="sxs-lookup"><span data-stu-id="42635-149">The parent-child optional validation rules still apply.</span></span>                                                                                                                         |                                                                                                                                                                                                                                                                                                                                                                                                                                                                            <span data-ttu-id="42635-150">親は省略可能とし、必須ですが、その子の 1 つがあるとします。</span><span class="sxs-lookup"><span data-stu-id="42635-150">Assume the parent is optional and one of its children is mandatory, then:</span></span><br /><br /> <span data-ttu-id="42635-151">-その他の子および必須の子のいずれもが設定されていない場合は、メッセージの検証が成功します。</span><span class="sxs-lookup"><span data-stu-id="42635-151">-   If none of the other children and the mandatory child are not populated, then message validation succeeds.</span></span><br /><span data-ttu-id="42635-152">-少なくとも 1 つの子が設定されている場合、必須の子も取り込まれます。</span><span class="sxs-lookup"><span data-stu-id="42635-152">-   If at least one child is populated, then the mandatory child should also be populated.</span></span> <span data-ttu-id="42635-153">それ以外の場合、メッセージの検証は失敗します。</span><span class="sxs-lookup"><span data-stu-id="42635-153">Otherwise, message validation fails.</span></span><br /><br /> <span data-ttu-id="42635-154">次の例では、省略可能としてフィールド 1 です。</span><span class="sxs-lookup"><span data-stu-id="42635-154">In the following example, Field 1 as optional.</span></span> <span data-ttu-id="42635-155">その*1.a*子は省略可能でフリー テキスト タイプ。</span><span class="sxs-lookup"><span data-stu-id="42635-155">Its *1.a* child is optional and is the Free Text type.</span></span> <span data-ttu-id="42635-156">その*1.b*子は必須です。</span><span class="sxs-lookup"><span data-stu-id="42635-156">Its *1.b* child is mandatory:</span></span><br /><br /> <span data-ttu-id="42635-157">**"xyz"および &#124;1.a^1.b&#124; 2**</span><span class="sxs-lookup"><span data-stu-id="42635-157">**xyz&#124;1.a^1.b&#124;2**</span></span><br /><br /> <span data-ttu-id="42635-158">次のサンプル メッセージで*dfssdf*<em>&</em>*sdf* - 1 つの要素としてと見なされます 1.a します。</span><span class="sxs-lookup"><span data-stu-id="42635-158">In the following sample message, *dfssdf*<em>&</em>*sdf* is considered as one single element - 1.a.</span></span> <span data-ttu-id="42635-159">1.b が存在するかどうか、パーサーを確認します。</span><span class="sxs-lookup"><span data-stu-id="42635-159">The parser checks if 1.b exists.</span></span> <span data-ttu-id="42635-160">ときに、 *&#124;* に達すると、想定 1.b 値を返さないし、メッセージの検証に失敗します。</span><span class="sxs-lookup"><span data-stu-id="42635-160">When the *&#124;* is reached, it assumes 1.b is not populated and message validation fails:</span></span><br /><br /> <span data-ttu-id="42635-161">**"xyz"&#124;dfssdf および sdf &#124;2**</span><span class="sxs-lookup"><span data-stu-id="42635-161">**xyz&#124;dfssdf&sdf&#124;2**</span></span>                                                                                                                                                                                                                                                                                                                                                                                                                                                                             |
| <span data-ttu-id="42635-162">MSH、FSH、および BSH セグメント</span><span class="sxs-lookup"><span data-stu-id="42635-162">MSH, FSH, and BSH segments</span></span> |                                                                  <span data-ttu-id="42635-163">すべてのフィールドにフリー テキストは無視されます。</span><span class="sxs-lookup"><span data-stu-id="42635-163">Free Text is ignored for all fields.</span></span> <span data-ttu-id="42635-164">これらのセグメントはヘッダー セクションに対応します。</span><span class="sxs-lookup"><span data-stu-id="42635-164">These segments correspond to the header section.</span></span> <span data-ttu-id="42635-165">検証は、フリー テキストとして定義されている場合でも通常どおりに発生します。</span><span class="sxs-lookup"><span data-stu-id="42635-165">Validation occurs as it normally would, even if they are defined as Free Text.</span></span>                                                                  |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  |
|    <span data-ttu-id="42635-166">\\:エスケープ文字</span><span class="sxs-lookup"><span data-stu-id="42635-166">\\: Escape character</span></span>    | <span data-ttu-id="42635-167">偶数個の要素に「\」がある場合は、検証は、(連続していない) 場合でも成功します。</span><span class="sxs-lookup"><span data-stu-id="42635-167">If there are even number of “\” in the element, validation succeeds (even if they are not contiguous).</span></span> <span data-ttu-id="42635-168">奇数の場合は、検証は失敗します。</span><span class="sxs-lookup"><span data-stu-id="42635-168">If there are odd number, validation fails.</span></span> <span data-ttu-id="42635-169">同じ動作には、フリー テキスト以外のフィールドが続行されます。</span><span class="sxs-lookup"><span data-stu-id="42635-169">The same behavior continues for non- Free Text fields.</span></span> <span data-ttu-id="42635-170">フリー テキスト フィールドを持つ、番号の検証はありません。これは、フリー テキスト コンテンツとして扱われます。</span><span class="sxs-lookup"><span data-stu-id="42635-170">With Free Text fields, there is no validation on the number; it treated as Free Text content.</span></span> |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  |
  
 <span data-ttu-id="42635-171">[メッセージの区切り記号](../../adapters-and-accelerators/accelerator-hl7/message-delimiters.md)これらの例の区切り記号について詳しく説明します。</span><span class="sxs-lookup"><span data-stu-id="42635-171">[Message Delimiters](../../adapters-and-accelerators/accelerator-hl7/message-delimiters.md) provides more information on the separators in these examples.</span></span>  
  
## <a name="using-free-text"></a><span data-ttu-id="42635-172">フリー テキストを使用</span><span class="sxs-lookup"><span data-stu-id="42635-172">Using Free Text</span></span>  
  
1.  <span data-ttu-id="42635-173">Visual Studio でプロジェクトでスキーマを開きます。</span><span class="sxs-lookup"><span data-stu-id="42635-173">In the project in Visual Studio, open the schema.</span></span>  
  
2.  <span data-ttu-id="42635-174">レコードの選択 を右クリックして**スキーマ ノードの挿入**、**子フィールド要素**。</span><span class="sxs-lookup"><span data-stu-id="42635-174">Right-click a record, select **Insert Schema Node**, select **Child Field Element**.</span></span>  
  
3.  <span data-ttu-id="42635-175">プロパティで、次のように選択します。**データ型**、し、**フリー テキスト (SimpleType)** します。</span><span class="sxs-lookup"><span data-stu-id="42635-175">In Properties, select **Data Type**, and then select **Free Text (SimpleType)**.</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="42635-176">参照</span><span class="sxs-lookup"><span data-stu-id="42635-176">See Also</span></span>  
 [<span data-ttu-id="42635-177">HL7 メッセージの処理</span><span class="sxs-lookup"><span data-stu-id="42635-177">Processing HL7 Messages</span></span>](../../adapters-and-accelerators/accelerator-hl7/processing-hl7-messages.md)