---
title: "手順 9: 断片化した受信バッチのシナリオを確認してください |Microsoft ドキュメント"
ms.custom: 
ms.date: 06/08/2017
ms.prod: biztalk-server
ms.reviewer: 
ms.suite: 
ms.tgt_pltfrm: 
ms.topic: article
ms.assetid: 1ba61866-2e1b-49e2-be57-ef281407d0a5
caps.latest.revision: "7"
author: MandiOhlinger
ms.author: mandia
manager: anneta
ms.openlocfilehash: 47d5ec8ffa7a7875af7073e60d6578149d532a7a
ms.sourcegitcommit: 5abd0ed3f9e4858ffaaec5481bfa8878595e95f7
ms.translationtype: MT
ms.contentlocale: ja-JP
ms.lasthandoff: 11/28/2017
---
# <a name="step-9-verify-the-fragmented-inbound-batch-scenario"></a><span data-ttu-id="899e7-102">手順 9: 断片化した受信バッチのシナリオを確認してください。</span><span class="sxs-lookup"><span data-stu-id="899e7-102">Step 9: Verify the Fragmented Inbound Batch Scenario</span></span>
<span data-ttu-id="899e7-103">この手順では、受信バッチの断片化しているシナリオを確認します。</span><span class="sxs-lookup"><span data-stu-id="899e7-103">In this step, you verify the Fragmented Inbound Batch scenario.</span></span>  
  
 <span data-ttu-id="899e7-104">シナリオを確認するには、次のツールを使用してが含まれます。</span><span class="sxs-lookup"><span data-stu-id="899e7-104">Verifying the scenario involves using the following tools:</span></span>  
  
-   <span data-ttu-id="899e7-105">**MllpSend ツール**、これを使用してコマンドラインから、受信ポートにバッチ メッセージを送信します。</span><span class="sxs-lookup"><span data-stu-id="899e7-105">**MllpSend Tool**, which you use from the command line to send a batch message to the receive port.</span></span>  
  
-   <span data-ttu-id="899e7-106">**MllpReceive ツール**、これを使用してコマンドラインからの (バッチに含まれる) として送信ポートからの個々 のメッセージの受信を確認してください。</span><span class="sxs-lookup"><span data-stu-id="899e7-106">**MllpReceive Tool**, which you use from the command line to verify reception of the individual messages (as contained in the batch) from the send port.</span></span> <span data-ttu-id="899e7-107">MllpReceive ツールのこのインスタンスは、シミュレートされた基幹業務アプリケーションとして機能します。</span><span class="sxs-lookup"><span data-stu-id="899e7-107">This instance of the MllpReceive Tool functions as a simulated line-of-business application.</span></span> <span data-ttu-id="899e7-108">メッセージの受信を生成することも、受信確認に戻す、[!INCLUDE[btaBTAHL71.3abbrevnonumber](../../includes/btabtahl71-3abbrevnonumber-md.md)]統合エンジンです。</span><span class="sxs-lookup"><span data-stu-id="899e7-108">On reception of the messages, it also generates an acknowledgment back to the [!INCLUDE[btaBTAHL71.3abbrevnonumber](../../includes/btabtahl71-3abbrevnonumber-md.md)] integration engine.</span></span>  
  
-   <span data-ttu-id="899e7-109">送信ポートから受信確認の受信を確認するために使用する MllpReceive ツールの 2 番目のインスタンス。</span><span class="sxs-lookup"><span data-stu-id="899e7-109">A second instance of the MllpReceive Tool, which you use to verify reception of acknowledgments from the send port.</span></span>  
  
### <a name="to-test-the-fragmented-inbound-batch-scenario"></a><span data-ttu-id="899e7-110">受信バッチの断片化しているシナリオをテストするには</span><span class="sxs-lookup"><span data-stu-id="899e7-110">To test the Fragmented Inbound Batch scenario</span></span>  
  
1.  <span data-ttu-id="899e7-111">をクリックして**開始**、 をポイント**すべてのプログラム**、 をポイント**アクセサリ**、順にクリック**コマンド プロンプト**です。</span><span class="sxs-lookup"><span data-stu-id="899e7-111">Click **Start**, point to **All Programs**, point to **Accessories**, and then click **Command Prompt**.</span></span>  
  
2.  <span data-ttu-id="899e7-112">コマンド プロンプトでに移動  **\<*ドライブ*\>: \Program Files\Microsoft BizTalk\<バージョン\>アクセラレータの HL7\SDK\MLLP ユーティリティ **.</span><span class="sxs-lookup"><span data-stu-id="899e7-112">At the command prompt, move to **\<*drive*\>:\Program Files\Microsoft BizTalk \<version\> Accelerator for HL7\SDK\MLLP Utilities**.</span></span>  
  
3.  <span data-ttu-id="899e7-113">コマンド プロンプトで次のように入力します **mllpreceive/p 41000/sb 11/eb 28/cr 13/hl7ack"\<*ドライブ*\>: \Program Files\Microsoft BizTalk\<バージョン\>。Accelerator for HL7\Samples\Sample アプリケーションに同意 ACK.txt** を押してから**Enter**です。</span><span class="sxs-lookup"><span data-stu-id="899e7-113">At the command prompt, type **mllpreceive /p 41000 /sb 11 /eb 28 /cr 13 /hl7ack "\<*drive*\>:\Program Files\Microsoft BizTalk \<version\> Accelerator for HL7\Samples\Sample Application Accept ACK.txt**, and then press **Enter**.</span></span> <span data-ttu-id="899e7-114">コマンド プロンプト ウィンドウは、手順 5. を実行して、システムの入力を受信するまで待機状態を入力します。</span><span class="sxs-lookup"><span data-stu-id="899e7-114">The Command Prompt window enters a waiting state until you perform step 5 and the system receives input.</span></span>  
  
    > [!NOTE]
    >  <span data-ttu-id="899e7-115">手順 3 でのコマンドは、ポート 41000 をリッスンする MLLP リスナー アプリケーションを実行します。</span><span class="sxs-lookup"><span data-stu-id="899e7-115">The command in step 3 runs the MLLP listener application that listens to port 41000.</span></span> <span data-ttu-id="899e7-116">このポートがメッセージを配信する送信ポートに関連付けられている (で作成されるよう[手順 5: 提供のメッセージを送信ポートを作成](../../adapters-and-accelerators/accelerator-hl7/step-5-create-a-send-port-to-deliver-messages.md))。</span><span class="sxs-lookup"><span data-stu-id="899e7-116">This port is associated with the send port that delivers messages (as created in [Step 5: Create a Send Port to Deliver Messages](../../adapters-and-accelerators/accelerator-hl7/step-5-create-a-send-port-to-deliver-messages.md)).</span></span> <span data-ttu-id="899e7-117">MllpReceive ツールをメッセージを受信し、受信確認 (ACK) を BTAHL7 (に記載されているサンプル ファイルのサンプル アプリケーションに同意 ACK.txt) に送信する基幹業務アプリケーションとして機能します。</span><span class="sxs-lookup"><span data-stu-id="899e7-117">The MllpReceive Tool acts as the line-of-business application that receives the messages, and sends the acknowledgment (ACK) back to BTAHL7 (as contained in the sample file Sample Application Accept ACK.txt).</span></span> <span data-ttu-id="899e7-118">コマンド プロンプト ウィンドウで返されたすべてのメッセージが表示されます。</span><span class="sxs-lookup"><span data-stu-id="899e7-118">The tool displays any messages returned to it in the Command Prompt window.</span></span> <span data-ttu-id="899e7-119">手順 3 でのコマンドは、MLLP メッセージの既定の EB、SB、および CR の文字を指定します。</span><span class="sxs-lookup"><span data-stu-id="899e7-119">The command in step 3 specifies the default EB, SB, and CR characters of the MLLP message.</span></span>  
  
4.  <span data-ttu-id="899e7-120">手順 1. と 2. を別のコマンド プロンプト ウィンドウを開き、MLLP Utilities ディレクトリに移動します。</span><span class="sxs-lookup"><span data-stu-id="899e7-120">Repeat steps 1 and 2 to open another Command Prompt window and browse to the MLLP Utilities directory.</span></span> <span data-ttu-id="899e7-121">コマンド プロンプトで次のように入力します。 **mllpreceive/p 41002**、キーを押します**Enter**です。</span><span class="sxs-lookup"><span data-stu-id="899e7-121">At the command prompt, type **mllpreceive /p 41002**, and then press **Enter**.</span></span> <span data-ttu-id="899e7-122">コマンド プロンプト ウィンドウは、手順 5. を実行して、システムの出力を受信するまで待機状態を入力します。</span><span class="sxs-lookup"><span data-stu-id="899e7-122">The Command Prompt window enters a waiting state until you perform step 5 and the system receives output.</span></span>  
  
    > [!NOTE]
    >  <span data-ttu-id="899e7-123">手順 4. で、コマンドは、ポート 41002 をリッスンしている MLLP リスナー アプリケーションを実行します。</span><span class="sxs-lookup"><span data-stu-id="899e7-123">The command in step 4 runs the MLLP listener application listening to port 41002.</span></span> <span data-ttu-id="899e7-124">このポートに受信確認をバッチ メッセージのソースに配信する送信ポートに関連付けられて (で作成されるよう[手順 6: 配信の受信確認を送信ポートを作成](../../adapters-and-accelerators/accelerator-hl7/step-6-create-a-send-port-to-deliver-acknowledgments.md))。</span><span class="sxs-lookup"><span data-stu-id="899e7-124">This port is associated with the send port that delivers acknowledgments back to the source of the batch message (as created in [Step 6: Create a Send Port to Deliver Acknowledgments](../../adapters-and-accelerators/accelerator-hl7/step-6-create-a-send-port-to-deliver-acknowledgments.md)).</span></span> <span data-ttu-id="899e7-125">MllpReceive ツールは、元のバッチを送信した基幹業務アプリケーションとして機能します。</span><span class="sxs-lookup"><span data-stu-id="899e7-125">The MllpReceive Tool acts as the line-of-business application that sent the original batch.</span></span> <span data-ttu-id="899e7-126">コマンド プロンプト ウィンドウで返された受信確認が表示されます。</span><span class="sxs-lookup"><span data-stu-id="899e7-126">The tool displays any acknowledgments returned to it in the Command Prompt window.</span></span> <span data-ttu-id="899e7-127">手順 4. で、コマンドでは、MLLP メッセージの既定の EB、SB、および CR の文字を指定します。</span><span class="sxs-lookup"><span data-stu-id="899e7-127">The command in step 4 specifies the default EB, SB, and CR characters of the MLLP message.</span></span>  
  
5.  <span data-ttu-id="899e7-128">手順 1. と 2. を別のコマンド プロンプト ウィンドウを開き、MLLP Utilities ディレクトリに移動します。</span><span class="sxs-lookup"><span data-stu-id="899e7-128">Repeat steps 1 and 2 to open another Command Prompt window and browse to the MLLP Utilities directory.</span></span> <span data-ttu-id="899e7-129">コマンド プロンプトで次のように入力します **mllpsend/twoway/sb 11/eb 28/cr 13/f"\<*ドライブ*\>: \Batching Tutorial\Instances\FragmentedInboundBatch.txt"/p 21000*。*ここで、 \<*ドライブ*\>インストール ドライブであり、キーを押します**Enter**です。</span><span class="sxs-lookup"><span data-stu-id="899e7-129">At the command prompt, type **mllpsend /twoway /sb 11 /eb 28 /cr 13 /f "\<*drive*\>:\Batching Tutorial\Instances\FragmentedInboundBatch.txt" /p 21000**, where \<*drive*\> is your installation drive letter, and then press **Enter**.</span></span>  
  
    > [!NOTE]
    >  <span data-ttu-id="899e7-130">手順 5. でコマンドは、受信ポートに元のバッチ メッセージの送信をシミュレートします。</span><span class="sxs-lookup"><span data-stu-id="899e7-130">The command in step 5 simulates sending of the original batch message to the receive port.</span></span> <span data-ttu-id="899e7-131">コンソールに表示する必要があります"送信済みメッセージ: 1"、MllpSend ツールが、1 つのバッチ メッセージを送信することを示すです。</span><span class="sxs-lookup"><span data-stu-id="899e7-131">The console should display "Sent message: 1", indicating that the MllpSend tool sent the single batch message.</span></span> <span data-ttu-id="899e7-132">表示されない場合は"送信済みメッセージ: 1"、イベント ビューアーを確認します。</span><span class="sxs-lookup"><span data-stu-id="899e7-132">If it does not display "Sent message: 1", check the event viewer.</span></span> <span data-ttu-id="899e7-133">手順 5 で入力したコマンドのテキストを確認し、送信の構成のトラブルシューティングを行う、受信ポート、およびのステータス[!INCLUDE[btsBizTalkServerNoVersion](../../includes/btsbiztalkservernoversion-md.md)]BTAHL7 とします。</span><span class="sxs-lookup"><span data-stu-id="899e7-133">Verify the text of the command entered in step 5, then troubleshoot the configuration of the send and receive ports, and the status of [!INCLUDE[btsBizTalkServerNoVersion](../../includes/btsbiztalkservernoversion-md.md)] and BTAHL7.</span></span>  
  
### <a name="to-verify-the-results-of-the-fragmented-inbound-batch-tutorial"></a><span data-ttu-id="899e7-134">受信バッチ断片化チュートリアルの結果を確認するには</span><span class="sxs-lookup"><span data-stu-id="899e7-134">To verify the results of the Fragmented Inbound Batch Tutorial</span></span>  
  
1.  <span data-ttu-id="899e7-135">少し遅れて、41000 のポートでメッセージをリッスン MllpReceive ツールが表示されるバッチから断片化され Tutorial_BatchSource パーティに送信されると、個々 のメッセージの内容を確認します。</span><span class="sxs-lookup"><span data-stu-id="899e7-135">Verify that after a short delay, the MllpReceive tool listening for messages on port 41000 displays the contents of the individual messages fragmented from the batch and sent to the Tutorial_BatchSource party.</span></span> <span data-ttu-id="899e7-136">2 つのメッセージの内容は次のようにする必要があります。</span><span class="sxs-lookup"><span data-stu-id="899e7-136">The contents of the two messages should be as follows:</span></span>  
  
    |<span data-ttu-id="899e7-137">MSH.9</span><span class="sxs-lookup"><span data-stu-id="899e7-137">MSH.9</span></span>|<span data-ttu-id="899e7-138">MSH.10</span><span class="sxs-lookup"><span data-stu-id="899e7-138">MSH.10</span></span>|<span data-ttu-id="899e7-139">MSH.3</span><span class="sxs-lookup"><span data-stu-id="899e7-139">MSH.3</span></span>|<span data-ttu-id="899e7-140">MSH.5</span><span class="sxs-lookup"><span data-stu-id="899e7-140">MSH.5</span></span>|  
    |-----------|------------|-----------|-----------|  
    |<span data-ttu-id="899e7-141">ADT ^ A03</span><span class="sxs-lookup"><span data-stu-id="899e7-141">ADT^A03</span></span>|<span data-ttu-id="899e7-142">000001</span><span class="sxs-lookup"><span data-stu-id="899e7-142">000001</span></span>|<span data-ttu-id="899e7-143">Tutorial_BatchSource</span><span class="sxs-lookup"><span data-stu-id="899e7-143">Tutorial_BatchSource</span></span>|<span data-ttu-id="899e7-144">MESA_IS</span><span class="sxs-lookup"><span data-stu-id="899e7-144">MESA_IS</span></span>|  
    |<span data-ttu-id="899e7-145">ADT ^ A03</span><span class="sxs-lookup"><span data-stu-id="899e7-145">ADT^A03</span></span>|<span data-ttu-id="899e7-146">000002</span><span class="sxs-lookup"><span data-stu-id="899e7-146">000002</span></span>|<span data-ttu-id="899e7-147">Tutorial_BatchSource</span><span class="sxs-lookup"><span data-stu-id="899e7-147">Tutorial_BatchSource</span></span>|<span data-ttu-id="899e7-148">MESA_IS</span><span class="sxs-lookup"><span data-stu-id="899e7-148">MESA_IS</span></span>|  
  
2.  <span data-ttu-id="899e7-149">少し遅れて、41002 のポートで受信確認をリッスンして MllpReceive ツールが表示されるバッチの発生元へ、BTAHL7 統合エンジンから返された 2 つの受信確認の内容を確認します。</span><span class="sxs-lookup"><span data-stu-id="899e7-149">Verify that after a short delay, the MllpReceive tool listening for acknowledgments on port 41002 displays the contents of two acknowledgments returned from the BTAHL7 integration engine to the source of the batch.</span></span> <span data-ttu-id="899e7-150">2 つの受信確認の内容は、次のようにする必要があります。</span><span class="sxs-lookup"><span data-stu-id="899e7-150">The contents of the two acknowledgments should be as follows:</span></span>  
  
    |<span data-ttu-id="899e7-151">MSH.9</span><span class="sxs-lookup"><span data-stu-id="899e7-151">MSH.9</span></span>|<span data-ttu-id="899e7-152">MSH.3</span><span class="sxs-lookup"><span data-stu-id="899e7-152">MSH.3</span></span>|<span data-ttu-id="899e7-153">MSH.5</span><span class="sxs-lookup"><span data-stu-id="899e7-153">MSH.5</span></span>|<span data-ttu-id="899e7-154">MSA.2</span><span class="sxs-lookup"><span data-stu-id="899e7-154">MSA.2</span></span>|<span data-ttu-id="899e7-155">MSA.1</span><span class="sxs-lookup"><span data-stu-id="899e7-155">MSA.1</span></span>|  
    |-----------|-----------|-----------|-----------|-----------|  
    |<span data-ttu-id="899e7-156">ACK ^ A03 ^ ACK</span><span class="sxs-lookup"><span data-stu-id="899e7-156">ACK^A03^ACK</span></span>|<span data-ttu-id="899e7-157">MESA_IS</span><span class="sxs-lookup"><span data-stu-id="899e7-157">MESA_IS</span></span>|<span data-ttu-id="899e7-158">Tutorial_BatchSource</span><span class="sxs-lookup"><span data-stu-id="899e7-158">Tutorial_BatchSource</span></span>|<span data-ttu-id="899e7-159">000001</span><span class="sxs-lookup"><span data-stu-id="899e7-159">000001</span></span>|<span data-ttu-id="899e7-160">AA</span><span class="sxs-lookup"><span data-stu-id="899e7-160">AA</span></span>|  
    |<span data-ttu-id="899e7-161">ACK ^ A03 ^ ACK</span><span class="sxs-lookup"><span data-stu-id="899e7-161">ACK^A03^ACK</span></span>|<span data-ttu-id="899e7-162">MESA_IS</span><span class="sxs-lookup"><span data-stu-id="899e7-162">MESA_IS</span></span>|<span data-ttu-id="899e7-163">Tutorial_BatchSource</span><span class="sxs-lookup"><span data-stu-id="899e7-163">Tutorial_BatchSource</span></span>|<span data-ttu-id="899e7-164">000002</span><span class="sxs-lookup"><span data-stu-id="899e7-164">000002</span></span>|<span data-ttu-id="899e7-165">AA</span><span class="sxs-lookup"><span data-stu-id="899e7-165">AA</span></span>|  
  
## <a name="see-also"></a><span data-ttu-id="899e7-166">参照</span><span class="sxs-lookup"><span data-stu-id="899e7-166">See Also</span></span>  
 <span data-ttu-id="899e7-167">[パート 2: バッチのシナリオをバッチ処理/](../../adapters-and-accelerators/accelerator-hl7/part-2-batch-in-batch-out-scenario.md) </span><span class="sxs-lookup"><span data-stu-id="899e7-167">[Part 2: Batch In/Batch Out Scenario](../../adapters-and-accelerators/accelerator-hl7/part-2-batch-in-batch-out-scenario.md) </span></span>  
 [<span data-ttu-id="899e7-168">パート 3: バッチの作成シナリオ</span><span class="sxs-lookup"><span data-stu-id="899e7-168">Part 3: Create-Batch Scenario</span></span>](../../adapters-and-accelerators/accelerator-hl7/part-3-create-batch-scenario.md)