---
title: "手順 8: 作成バッチ シナリオのテスト |Microsoft ドキュメント"
ms.custom: 
ms.date: 06/08/2017
ms.prod: biztalk-server
ms.reviewer: 
ms.suite: 
ms.tgt_pltfrm: 
ms.topic: article
ms.assetid: fc7fac40-fd3e-413b-82cc-7ad08226094c
caps.latest.revision: "6"
author: MandiOhlinger
ms.author: mandia
manager: anneta
ms.openlocfilehash: 865717858e27509a9f9e4af611b39ba10be212a5
ms.sourcegitcommit: 3fd1c85d9dc2ce7b77da75a5c2087cc48cfcbe50
ms.translationtype: MT
ms.contentlocale: ja-JP
ms.lasthandoff: 01/17/2018
---
# <a name="step-8-test-the-create-batch-scenario"></a><span data-ttu-id="3fc87-102">手順 8: 作成するバッチのシナリオをテストします。</span><span class="sxs-lookup"><span data-stu-id="3fc87-102">Step 8: Test the Create-Batch Scenario</span></span>
<span data-ttu-id="3fc87-103">このステップでは、ソース Tutorial_BTAHL7Pickup フォルダーにバッチ処理するメッセージのテスト インスタンスを削除することにより、バッチの作成シナリオをテストします。</span><span class="sxs-lookup"><span data-stu-id="3fc87-103">In this step, you test the Create-Batch scenario by dropping test instances of the messages you want to batch into the source Tutorial_BTAHL7Pickup folder.</span></span> <span data-ttu-id="3fc87-104">送信ポートを設定するには、ソース フォルダーからメッセージを取得し、送信;受信ポートを受信します。受信パイプラインはそれを処理し、Tutorial_BTAHL7Drop コピー先のフォルダーにドロップします。</span><span class="sxs-lookup"><span data-stu-id="3fc87-104">The send port that you set up picks up the message from the source folder and sends it; the receive port receives it; and the receive pipeline processes it and drops it into the destination Tutorial_BTAHL7Drop folder.</span></span>  
  
### <a name="to-test-the-create-batch-scenario"></a><span data-ttu-id="3fc87-105">バッチの作成シナリオをテストするには</span><span class="sxs-lookup"><span data-stu-id="3fc87-105">To test the Create-Batch scenario</span></span>  
  
1.  <span data-ttu-id="3fc87-106">使用して[!INCLUDE[btsWinNoVersion](../../includes/btswinnoversion-md.md)]エクスプ ローラーで、参照、  **\<*ドライブ*\>: \Batching Tutorial\Instances**フォルダーです。</span><span class="sxs-lookup"><span data-stu-id="3fc87-106">Using [!INCLUDE[btsWinNoVersion](../../includes/btswinnoversion-md.md)] Explorer, browse to the **\<*drive*\>:\Batching Tutorial\Instances** folder.</span></span>  
  
2.  <span data-ttu-id="3fc87-107">選択**CreateBatchMessage1.txt**、および**CreateBatchMessage2.txt**、それらを右クリックし、クリックして**コピー**です。</span><span class="sxs-lookup"><span data-stu-id="3fc87-107">Select **CreateBatchMessage1.txt**, and **CreateBatchMessage2.txt**, right-click them, and then click **Copy**.</span></span>  
  
3.  <span data-ttu-id="3fc87-108">使用して[!INCLUDE[btsWinNoVersion](../../includes/btswinnoversion-md.md)]エクスプ ローラーで、参照、  **\<*ドライブ*\>: \Program Files\Microsoft BizTalk\<バージョン\>HL7\SDK\End エンドツー エンドのアクセラレータTutorial\Tutorial_BTAHL7Pickup**フォルダーです。</span><span class="sxs-lookup"><span data-stu-id="3fc87-108">Using [!INCLUDE[btsWinNoVersion](../../includes/btswinnoversion-md.md)] Explorer, browse to the **\<*drive*\>:\Program Files\Microsoft BizTalk \<version\> Accelerator for HL7\SDK\End-to-End Tutorial\Tutorial_BTAHL7Pickup** folder.</span></span>  
  
4.  <span data-ttu-id="3fc87-109">フォルダーを右クリックし、をクリックして**貼り付け**です。</span><span class="sxs-lookup"><span data-stu-id="3fc87-109">Right-click the folder, and then click **Paste**.</span></span>  
  
### <a name="to-verify-the-results-of-the-create-batch-scenario"></a><span data-ttu-id="3fc87-110">バッチの作成シナリオの結果を確認するには</span><span class="sxs-lookup"><span data-stu-id="3fc87-110">To verify the results of the Create-Batch scenario</span></span>  
  
1.  <span data-ttu-id="3fc87-111">使用して[!INCLUDE[btsWinNoVersion](../../includes/btswinnoversion-md.md)]エクスプ ローラーで、参照、  **\<*ドライブ*\>: \Program Files\Microsoft BizTalk\<バージョン\>HL7\SDK\End エンドツー エンドのアクセラレータTutorial\Tutorial_BatchACKDrop**フォルダーです。</span><span class="sxs-lookup"><span data-stu-id="3fc87-111">Using [!INCLUDE[btsWinNoVersion](../../includes/btswinnoversion-md.md)] Explorer, browse to the **\<*drive*\>:\Program Files\Microsoft BizTalk \<version\> Accelerator for HL7\SDK\End-to-End Tutorial\Tutorial_BatchACKDrop** folder.</span></span> <span data-ttu-id="3fc87-112">短時間の後に、フォルダーに表示される受信確認のバッチの処理のインスタンスが表示されます。</span><span class="sxs-lookup"><span data-stu-id="3fc87-112">After a short period, you should see the processed instance of the acknowledgment batch appear in the folder.</span></span> <span data-ttu-id="3fc87-113">表示されない場合は、確認、[!INCLUDE[btsWinNoVersion](../../includes/btswinnoversion-md.md)]エラー メッセージは、イベント ビューアー。</span><span class="sxs-lookup"><span data-stu-id="3fc87-113">If it does not appear, check the [!INCLUDE[btsWinNoVersion](../../includes/btswinnoversion-md.md)] Event Viewer for error messages.</span></span> <span data-ttu-id="3fc87-114">ファイルは、名前を付ける必要があります\< *Guid*\>.txt です。</span><span class="sxs-lookup"><span data-stu-id="3fc87-114">The file should have the name \<*Guid*\>.txt.</span></span> <span data-ttu-id="3fc87-115">このバッチは、最初に送信された 2 つのメッセージを受信したときに生成された 2 つの受信確認を含める必要があります。</span><span class="sxs-lookup"><span data-stu-id="3fc87-115">This batch should contain the two acknowledgments generated upon receiving the two messages that were originally sent.</span></span> <span data-ttu-id="3fc87-116">このバッチは、次のフィールドが必要です。</span><span class="sxs-lookup"><span data-stu-id="3fc87-116">This batch should have the following fields:</span></span>  
  
    |<span data-ttu-id="3fc87-117">FHS.5</span><span class="sxs-lookup"><span data-stu-id="3fc87-117">FHS.5</span></span>|<span data-ttu-id="3fc87-118">BHS.5</span><span class="sxs-lookup"><span data-stu-id="3fc87-118">BHS.5</span></span>|<span data-ttu-id="3fc87-119">BTS.1</span><span class="sxs-lookup"><span data-stu-id="3fc87-119">BTS.1</span></span>|<span data-ttu-id="3fc87-120">FTS.1</span><span class="sxs-lookup"><span data-stu-id="3fc87-120">FTS.1</span></span>|  
    |-----------|-----------|-----------|-----------|  
    |<span data-ttu-id="3fc87-121">Tutorial_BatchSource</span><span class="sxs-lookup"><span data-stu-id="3fc87-121">Tutorial_BatchSource</span></span>|<span data-ttu-id="3fc87-122">Tutorial_BatchSource</span><span class="sxs-lookup"><span data-stu-id="3fc87-122">Tutorial_BatchSource</span></span>|<span data-ttu-id="3fc87-123">2</span><span class="sxs-lookup"><span data-stu-id="3fc87-123">2</span></span>|<span data-ttu-id="3fc87-124">1</span><span class="sxs-lookup"><span data-stu-id="3fc87-124">1</span></span>|  
  
     <span data-ttu-id="3fc87-125">バッチ内で受信確認は、次のフィールドが必要です。</span><span class="sxs-lookup"><span data-stu-id="3fc87-125">The acknowledgments within the batch should have the following fields:</span></span>  
  
    |<span data-ttu-id="3fc87-126">MSH.9</span><span class="sxs-lookup"><span data-stu-id="3fc87-126">MSH.9</span></span>|<span data-ttu-id="3fc87-127">MSA.2</span><span class="sxs-lookup"><span data-stu-id="3fc87-127">MSA.2</span></span>|<span data-ttu-id="3fc87-128">MSA.1</span><span class="sxs-lookup"><span data-stu-id="3fc87-128">MSA.1</span></span>|<span data-ttu-id="3fc87-129">MSH.3</span><span class="sxs-lookup"><span data-stu-id="3fc87-129">MSH.3</span></span>|<span data-ttu-id="3fc87-130">MSH.5</span><span class="sxs-lookup"><span data-stu-id="3fc87-130">MSH.5</span></span>|  
    |-----------|-----------|-----------|-----------|-----------|  
    |<span data-ttu-id="3fc87-131">ACK^A03^ACK</span><span class="sxs-lookup"><span data-stu-id="3fc87-131">ACK^A03^ACK</span></span>|<span data-ttu-id="3fc87-132">Msg01</span><span class="sxs-lookup"><span data-stu-id="3fc87-132">Msg01</span></span>|<span data-ttu-id="3fc87-133">AA</span><span class="sxs-lookup"><span data-stu-id="3fc87-133">AA</span></span>|<span data-ttu-id="3fc87-134">Tutorial_BatchDest</span><span class="sxs-lookup"><span data-stu-id="3fc87-134">Tutorial_BatchDest</span></span>|<span data-ttu-id="3fc87-135">Tutorial_BatchSource</span><span class="sxs-lookup"><span data-stu-id="3fc87-135">Tutorial_BatchSource</span></span>|  
    |<span data-ttu-id="3fc87-136">ACK^A03^ACK</span><span class="sxs-lookup"><span data-stu-id="3fc87-136">ACK^A03^ACK</span></span>|<span data-ttu-id="3fc87-137">Msg02</span><span class="sxs-lookup"><span data-stu-id="3fc87-137">Msg02</span></span>|<span data-ttu-id="3fc87-138">AA</span><span class="sxs-lookup"><span data-stu-id="3fc87-138">AA</span></span>|<span data-ttu-id="3fc87-139">Tutorial_BatchDest</span><span class="sxs-lookup"><span data-stu-id="3fc87-139">Tutorial_BatchDest</span></span>|<span data-ttu-id="3fc87-140">Tutorial_BatchSource</span><span class="sxs-lookup"><span data-stu-id="3fc87-140">Tutorial_BatchSource</span></span>|  
  
2.  <span data-ttu-id="3fc87-141">使用して[!INCLUDE[btsWinNoVersion](../../includes/btswinnoversion-md.md)]エクスプ ローラーで、参照、  **\<*ドライブ*\>: \Program Files\Microsoft BizTalk\<バージョン\>HL7\SDK\End エンドツー エンドのアクセラレータTutorial\Tutorial_BatchMsgDrop**フォルダーです。</span><span class="sxs-lookup"><span data-stu-id="3fc87-141">Using [!INCLUDE[btsWinNoVersion](../../includes/btswinnoversion-md.md)] Explorer, browse to the **\<*drive*\>:\Program Files\Microsoft BizTalk \<version\> Accelerator for HL7\SDK\End-to-End Tutorial\Tutorial_BatchMsgDrop** folder.</span></span> <span data-ttu-id="3fc87-142">1 時間後に、フォルダーに表示されるメッセージ バッチの処理済みインスタンスが表示されます。</span><span class="sxs-lookup"><span data-stu-id="3fc87-142">After an hour, you should see the processed instance of the message batch appear in the folder.</span></span> <span data-ttu-id="3fc87-143">表示されない場合は、確認、[!INCLUDE[btsWinNoVersion](../../includes/btswinnoversion-md.md)]エラー メッセージは、イベント ビューアー。</span><span class="sxs-lookup"><span data-stu-id="3fc87-143">If it does not appear, check the [!INCLUDE[btsWinNoVersion](../../includes/btswinnoversion-md.md)] Event Viewer for error messages.</span></span> <span data-ttu-id="3fc87-144">ファイルは、名前を付ける必要があります\< *Guid*\>.txt です。</span><span class="sxs-lookup"><span data-stu-id="3fc87-144">The file should have the name \<*Guid*\>.txt.</span></span> <span data-ttu-id="3fc87-145">このバッチは、最初に送信された 2 つのメッセージを含める必要があります。</span><span class="sxs-lookup"><span data-stu-id="3fc87-145">This batch should contain the two messages that were originally sent.</span></span> <span data-ttu-id="3fc87-146">このバッチは、次のフィールドが必要です。</span><span class="sxs-lookup"><span data-stu-id="3fc87-146">This batch should have the following fields:</span></span>  
  
    |<span data-ttu-id="3fc87-147">FHS.5</span><span class="sxs-lookup"><span data-stu-id="3fc87-147">FHS.5</span></span>|<span data-ttu-id="3fc87-148">BHS.5</span><span class="sxs-lookup"><span data-stu-id="3fc87-148">BHS.5</span></span>|<span data-ttu-id="3fc87-149">BTS.1</span><span class="sxs-lookup"><span data-stu-id="3fc87-149">BTS.1</span></span>|<span data-ttu-id="3fc87-150">FTS.1</span><span class="sxs-lookup"><span data-stu-id="3fc87-150">FTS.1</span></span>|  
    |-----------|-----------|-----------|-----------|  
    |<span data-ttu-id="3fc87-151">Tutorial_BatchDest</span><span class="sxs-lookup"><span data-stu-id="3fc87-151">Tutorial_BatchDest</span></span>|<span data-ttu-id="3fc87-152">Tutorial_BatchDest</span><span class="sxs-lookup"><span data-stu-id="3fc87-152">Tutorial_BatchDest</span></span>|<span data-ttu-id="3fc87-153">2</span><span class="sxs-lookup"><span data-stu-id="3fc87-153">2</span></span>|<span data-ttu-id="3fc87-154">1</span><span class="sxs-lookup"><span data-stu-id="3fc87-154">1</span></span>|  
  
     <span data-ttu-id="3fc87-155">バッチ内のメッセージは、次のフィールドが必要です。</span><span class="sxs-lookup"><span data-stu-id="3fc87-155">The messages within the batch should have the following fields:</span></span>  
  
    |<span data-ttu-id="3fc87-156">MSH.9</span><span class="sxs-lookup"><span data-stu-id="3fc87-156">MSH.9</span></span>|<span data-ttu-id="3fc87-157">MSH.10</span><span class="sxs-lookup"><span data-stu-id="3fc87-157">MSH.10</span></span>|<span data-ttu-id="3fc87-158">MSH.3</span><span class="sxs-lookup"><span data-stu-id="3fc87-158">MSH.3</span></span>|<span data-ttu-id="3fc87-159">MSH.5</span><span class="sxs-lookup"><span data-stu-id="3fc87-159">MSH.5</span></span>|  
    |-----------|------------|-----------|-----------|  
    |<span data-ttu-id="3fc87-160">ADT^A03</span><span class="sxs-lookup"><span data-stu-id="3fc87-160">ADT^A03</span></span>|<span data-ttu-id="3fc87-161">Msg01</span><span class="sxs-lookup"><span data-stu-id="3fc87-161">Msg01</span></span>|<span data-ttu-id="3fc87-162">Tutorial_BatchSource</span><span class="sxs-lookup"><span data-stu-id="3fc87-162">Tutorial_BatchSource</span></span>|<span data-ttu-id="3fc87-163">Tutorial_BatchDest</span><span class="sxs-lookup"><span data-stu-id="3fc87-163">Tutorial_BatchDest</span></span>|  
    |<span data-ttu-id="3fc87-164">ADT^A03</span><span class="sxs-lookup"><span data-stu-id="3fc87-164">ADT^A03</span></span>|<span data-ttu-id="3fc87-165">Msg02</span><span class="sxs-lookup"><span data-stu-id="3fc87-165">Msg02</span></span>|<span data-ttu-id="3fc87-166">Tutorial_BatchSource</span><span class="sxs-lookup"><span data-stu-id="3fc87-166">Tutorial_BatchSource</span></span>|<span data-ttu-id="3fc87-167">Tutorial_BatchDest</span><span class="sxs-lookup"><span data-stu-id="3fc87-167">Tutorial_BatchDest</span></span>|  
  
     <span data-ttu-id="3fc87-168">バッチは、ヘッダーとトレーラーのバッチに特定の 2 つのセットでラップされます。</span><span class="sxs-lookup"><span data-stu-id="3fc87-168">The batch is wrapped in two sets of headers and trailers specific to batches:</span></span>  
  
    -   <span data-ttu-id="3fc87-169">複数のバッチを含めることができるファイルを囲むために使用されるファイルのヘッダーおよびトレーラー (FHS および FT)。</span><span class="sxs-lookup"><span data-stu-id="3fc87-169">A file header and trailer (FHS and FTS), which are used to enclose a file that can include multiple batches.</span></span> <span data-ttu-id="3fc87-170">ファイル受信アプリケーションに注意してください (**Tutorial_BatchDest**) FHS5 フィールドであり、ファイルの作成の日付/時刻 FHS7 にします。</span><span class="sxs-lookup"><span data-stu-id="3fc87-170">Note the file-receiving application (**Tutorial_BatchDest**) in the FHS5 field and the file creation date/time in FHS7.</span></span> <span data-ttu-id="3fc87-171">FTS2 でファイルのバッチ数 (ファイル内のバッチの数) に注意してください (1)。</span><span class="sxs-lookup"><span data-stu-id="3fc87-171">Note the file batch count (the number of batches in the file) in FTS2 (1).</span></span>  
  
    -   <span data-ttu-id="3fc87-172">各バッチを囲むために使用されるバッチ ヘッダーおよびトレーラー (BHS および BTS)。</span><span class="sxs-lookup"><span data-stu-id="3fc87-172">A batch header and trailer (BHS and BTS), which are used to enclose each batch.</span></span> <span data-ttu-id="3fc87-173">受信 BTS2 でアプリケーションおよびバッチの作成日付/時刻、FHS、およびバッチ メッセージの数 (2) のように、ファイルに注意してください。</span><span class="sxs-lookup"><span data-stu-id="3fc87-173">Note the file receiving application and batch creation date/time, as in the FHS, and the batch message count (2) in BTS2.</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="3fc87-174">参照</span><span class="sxs-lookup"><span data-stu-id="3fc87-174">See Also</span></span>  
 <span data-ttu-id="3fc87-175">[パート 1: 断片化した受信バッチのシナリオ](../../adapters-and-accelerators/accelerator-hl7/part-1-fragmented-inbound-batch-scenario.md) </span><span class="sxs-lookup"><span data-stu-id="3fc87-175">[Part 1: Fragmented Inbound Batch Scenario](../../adapters-and-accelerators/accelerator-hl7/part-1-fragmented-inbound-batch-scenario.md) </span></span>  
 [<span data-ttu-id="3fc87-176">パート 3: バッチの作成シナリオ</span><span class="sxs-lookup"><span data-stu-id="3fc87-176">Part 3: Create-Batch Scenario</span></span>](../../adapters-and-accelerators/accelerator-hl7/part-3-create-batch-scenario.md)