---
title: ポーリングを使用して着信サポート |Microsoft ドキュメント
ms.custom: ''
ms.date: 06/08/2017
ms.prod: biztalk-server
ms.reviewer: ''
ms.suite: ''
ms.tgt_pltfrm: ''
ms.topic: article
ms.assetid: ae02a93a-808f-4774-a2c4-efdf39a4d49a
caps.latest.revision: 16
author: MandiOhlinger
ms.author: mandia
manager: anneta
ms.openlocfilehash: a8533ce2829fec956819b311fd6b8f99479f40d6
ms.sourcegitcommit: cb908c540d8f1a692d01dc8f313e16cb4b4e696d
ms.translationtype: MT
ms.contentlocale: ja-JP
ms.lasthandoff: 09/20/2017
ms.locfileid: "22217402"
---
# <a name="support-for-inbound-calls-using-polling"></a><span data-ttu-id="81c0b-102">ポーリングの受信呼び出しのサポート</span><span class="sxs-lookup"><span data-stu-id="81c0b-102">Support for Inbound Calls Using Polling</span></span>
<span data-ttu-id="81c0b-103">[!INCLUDE[adapteroracleebusinesslong](../../includes/adapteroracleebusinesslong-md.md)] Oracle E-business Suite でのデータへの変更を知らせる Oracle E-business Suite からメッセージを受信するクライアント プログラムを有効にします。</span><span class="sxs-lookup"><span data-stu-id="81c0b-103">The [!INCLUDE[adapteroracleebusinesslong](../../includes/adapteroracleebusinesslong-md.md)] enables client programs to receive messages from Oracle E-Business Suite informing them of changes to data in Oracle E-Business Suite.</span></span> <span data-ttu-id="81c0b-104">[!INCLUDE[adapteroraclebusinessshort](../../includes/adapteroraclebusinessshort-md.md)]アダプターが指定された SQL ステートメント、ストアド プロシージャ、関数、または、パッケージ内の手順を実行する、「ポーリング ベース」のメッセージの受信をサポートは、データを取得し、一定の間隔をクライアントに結果を提供時間です。</span><span class="sxs-lookup"><span data-stu-id="81c0b-104">The [!INCLUDE[adapteroraclebusinessshort](../../includes/adapteroraclebusinessshort-md.md)] supports receiving "polling-based" messages wherein the adapter executes a specified SQL statement, stored procedure, function or a procedure within a package, retrieves the data, and provides the result to the client at regular intervals of time.</span></span>  
  
> [!NOTE]
>  <span data-ttu-id="81c0b-105">ポーリング操作でのアプリケーション コンテキストを設定することもできます。[!INCLUDE[adapteroraclebusinessshort](../../includes/adapteroraclebusinessshort-md.md)]です。</span><span class="sxs-lookup"><span data-stu-id="81c0b-105">You can also set the applications context for the Poll operation in [!INCLUDE[adapteroraclebusinessshort](../../includes/adapteroraclebusinessshort-md.md)].</span></span> <span data-ttu-id="81c0b-106">必須ではインターフェイス テーブルまたはビューのインターフェイスで、操作を実行する場合、アプリケーション、ポーリングの操作のコンテキストを設定します。</span><span class="sxs-lookup"><span data-stu-id="81c0b-106">It is mandatory to set the applications context for the Poll operation if the operation is performed on an interface table or interface view.</span></span> <span data-ttu-id="81c0b-107">アプリケーションのコンテキスト、およびように設定する方法については、次を参照してください。[アプリケーション コンテキストの設定](../../adapters-and-accelerators/adapter-oracle-ebs/set-application-context.md)です。</span><span class="sxs-lookup"><span data-stu-id="81c0b-107">For information about applications context, and how to set it, see [Set Application Context](../../adapters-and-accelerators/adapter-oracle-ebs/set-application-context.md).</span></span>  
  
 <span data-ttu-id="81c0b-108">使用して一般的なポーリング操作、[!INCLUDE[adapteroraclebusinessshort](../../includes/adapteroraclebusinessshort-md.md)]次が含まれます。</span><span class="sxs-lookup"><span data-stu-id="81c0b-108">A typical polling operation using the [!INCLUDE[adapteroraclebusinessshort](../../includes/adapteroraclebusinessshort-md.md)] involves the following:</span></span>  
  
1.  <span data-ttu-id="81c0b-109">アダプターのクライアントを指定する必要があります`Polling`で受信操作として、 **InboundOperationType**プロパティをバインドします。</span><span class="sxs-lookup"><span data-stu-id="81c0b-109">The adapter clients must specify `Polling` as the inbound operation in the **InboundOperationType** binding property.</span></span> <span data-ttu-id="81c0b-110">このバインドのプロパティの既定値は**ポーリング**です。</span><span class="sxs-lookup"><span data-stu-id="81c0b-110">The default value for this binding property is **Polling**.</span></span>  
  
2.  <span data-ttu-id="81c0b-111">アダプターのクライアントでの SELECT ステートメントを指定する必要があります、 **PolledDataAvailableStatement**ポーリングの使用可能なデータがあるかどうかを判断するプロパティをバインドします。</span><span class="sxs-lookup"><span data-stu-id="81c0b-111">The adapter clients must specify a SELECT statement for the **PolledDataAvailableStatement** binding property to determine whether there is data available for polling.</span></span> <span data-ttu-id="81c0b-112">最初の結果、このステートメントの実行時に返されるセットの最初の行の最初の列に正の整数値が含まれている場合は日付のポーリングに使用できます。</span><span class="sxs-lookup"><span data-stu-id="81c0b-112">If the first column of the first row of the first result set returned on execution of this statement contains a positive integer value, there is date available for polling.</span></span>  
  
3.  <span data-ttu-id="81c0b-113">アダプターのクライアントのポーリング間隔を指定する必要があります、 **PollingInterval**間隔を秒単位で指定されたステートメントを定義するプロパティのバインド、 **PolledDataAvailableStatement**プロパティのバインドが実行されます。</span><span class="sxs-lookup"><span data-stu-id="81c0b-113">The adapter clients must specify a polling interval for the **PollingInterval** binding property to define the interval in seconds at which the statement specified in the **PolledDataAvailableStatement** binding property is executed.</span></span> <span data-ttu-id="81c0b-114">ポーリング間隔の最後に、ポーリングされたデータの使用可能なステートメントが実行され、結果セットが返されます。</span><span class="sxs-lookup"><span data-stu-id="81c0b-114">At the end of every polling interval, the polled data available statement is executed, and the result set is returned.</span></span>  
  
4.  <span data-ttu-id="81c0b-115">SELECT ステートメントまたはストアド プロシージャのアダプターのクライアントを指定する必要があります、 **PollingInput**プロパティをバインドします。</span><span class="sxs-lookup"><span data-stu-id="81c0b-115">The adapter clients must specify a SELECT statement or a stored procedure for the **PollingInput** binding property.</span></span> <span data-ttu-id="81c0b-116">テーブルまたはビューをポーリングする場合は、このバインディングのプロパティの SELECT ステートメントを指定する必要があります。</span><span class="sxs-lookup"><span data-stu-id="81c0b-116">If you want to poll a table or view, you must specify a SELECT statement for this binding property.</span></span> <span data-ttu-id="81c0b-117">ポーリング ストアド プロシージャを使用する場合は、要求メッセージ全体をこのバインドのプロパティを指定する必要があります。</span><span class="sxs-lookup"><span data-stu-id="81c0b-117">If you want to poll using a stored procedure, you must specify the entire request message for this binding property.</span></span>  
  
     <span data-ttu-id="81c0b-118">内のステートメント、 **PollingInput**によって決定される、ポーリングに使用できるデータが場合にのみ実行プロパティのバインド、 **PolledDataAvailableStatement**手順 2. でプロパティをバインドします。</span><span class="sxs-lookup"><span data-stu-id="81c0b-118">The statement in the **PollingInput** binding property is executed only if there is data available for polling, which is determined by the **PolledDataAvailableStatement** binding property in step 2.</span></span>  
  
5.  <span data-ttu-id="81c0b-119">アダプターのクライアントがポーリング操作に対してアクションを指定する必要があります、 **PollingAction**プロパティをバインドします。</span><span class="sxs-lookup"><span data-stu-id="81c0b-119">The adapter clients must specify an action for the polling operation in the **PollingAction** binding property.</span></span> <span data-ttu-id="81c0b-120">特定の操作のポーリング アクションは、アダプター サービスのアドインを使用して、操作によって生成されるメタデータから判断されます。</span><span class="sxs-lookup"><span data-stu-id="81c0b-120">The polling action for a specific operation is determined from the metadata generated for the operation using the Consume Adapter Service Add-in.</span></span>  
  
6.  <span data-ttu-id="81c0b-121">アダプターのクライアントが使用できる、 **PollWhileDataFound**ポーリング間隔を無視して継続的に使用可能な場合と、データをポーリングするプロパティをバインドします。</span><span class="sxs-lookup"><span data-stu-id="81c0b-121">The adapter clients can use the **PollWhileDataFound** binding property to ignore the polling interval, and continuously poll data, as and when available.</span></span>  
  
    > [!IMPORTANT]
    >  <span data-ttu-id="81c0b-122">値を設定した場合、 **PollWhileDataFound**バインド プロパティを True に、アダプターのクライアントを継続的にポーリング プロセスで Oracle からのデータがループ内での Oracle データベースへの接続を開いたり閉じたりします。</span><span class="sxs-lookup"><span data-stu-id="81c0b-122">If you set the value of the **PollWhileDataFound** binding property to True, the adapter clients continuously poll data from Oracle and in the process open and close connections to the Oracle database in a loop.</span></span> <span data-ttu-id="81c0b-123">ODP.NET によって接続が開かれてレートが閉じられている接続よりも大きいため、しばらく待ってから、接続が使い果たされ、例外がスローされます。</span><span class="sxs-lookup"><span data-stu-id="81c0b-123">As the rate at which connections are opened by ODP.NET is greater than the connections being closed, the connections get exhausted after some time, and an exception is thrown.</span></span> <span data-ttu-id="81c0b-124">回避策としては、ことを確認の値、 **UseOracleConnectionPool**を True に設定されている適切な値に記載されて、 **IncrPoolSize**接続の数を制御するプロパティのバインドアダプターのクライアントが開けます。</span><span class="sxs-lookup"><span data-stu-id="81c0b-124">As a work around, make sure that the value of the **UseOracleConnectionPool** is set to True, and an appropriate value is mentioned in the **IncrPoolSize** binding property to control the number of connections that can be opened by the adapter clients.</span></span>  
  
7.  <span data-ttu-id="81c0b-125">アダプターのクライアントは、用、Oracle PL/SQL ブロック、ポーリング後ステートメントを指定できます、 **PostPollStatement**プロパティをバインドします。</span><span class="sxs-lookup"><span data-stu-id="81c0b-125">The adapter clients can specify a post-poll statement, an Oracle PL/SQL block, for the **PostPollStatement** binding property.</span></span> <span data-ttu-id="81c0b-126">指定されたステートメントの後にこのバインドのプロパティで指定されたステートメントが実行される、 **PollingInput**プロパティのバインドを実行します。</span><span class="sxs-lookup"><span data-stu-id="81c0b-126">The statement specified in this binding property is executed after the statement specified in the **PollingInput** binding property is executed.</span></span>  
  
    > [!NOTE]
    >  <span data-ttu-id="81c0b-127">アダプターで指定されたステートメントの実行、 **PollingInput**と**PostPollStatement**トランザクションのプロパティをバインドします。</span><span class="sxs-lookup"><span data-stu-id="81c0b-127">The adapter executes the statement specified in the **PollingInput** and **PostPollStatement** binding properties in a transaction.</span></span> <span data-ttu-id="81c0b-128">内のトランザクションの詳細については、[!INCLUDE[adapteroraclebusinessshort](../../includes/adapteroraclebusinessshort-md.md)]を参照してください[でアダプターの処理のトランザクションがどのように?](https://msdn.microsoft.com/library/dd788428.aspx)です。</span><span class="sxs-lookup"><span data-stu-id="81c0b-128">For more information about transactions in the [!INCLUDE[adapteroraclebusinessshort](../../includes/adapteroraclebusinessshort-md.md)], see [How does the Adapter Handle Transactions?](https://msdn.microsoft.com/library/dd788428.aspx).</span></span>  
  
 <span data-ttu-id="81c0b-129">アダプターは、Oracle E-business Suite から空のポーリング応答を抑制します。</span><span class="sxs-lookup"><span data-stu-id="81c0b-129">The adapter suppresses any empty polling responses coming from Oracle E-Business Suite.</span></span>  
  
 <span data-ttu-id="81c0b-130">次の図でポーリング ワークフローに関する情報を提供する[!INCLUDE[adapteroraclebusinessshort](../../includes/adapteroraclebusinessshort-md.md)]です。</span><span class="sxs-lookup"><span data-stu-id="81c0b-130">The illustration below provides information about the polling workflow in [!INCLUDE[adapteroraclebusinessshort](../../includes/adapteroraclebusinessshort-md.md)].</span></span> <span data-ttu-id="81c0b-131">ポーリング ワークフローの 2 つのシナリオに示します。</span><span class="sxs-lookup"><span data-stu-id="81c0b-131">Two scenarios for the polling workflow are illustrated:</span></span>  
  
1.  <span data-ttu-id="81c0b-132">ときの値、 **PollWhileDataFound**が"False"(既定の設定) に設定します。</span><span class="sxs-lookup"><span data-stu-id="81c0b-132">When the value of the **PollWhileDataFound** is set to “False” (default setting).</span></span>  
  
2.  <span data-ttu-id="81c0b-133">ときの値、 **PollWhileDataFound** "True"に設定されています。</span><span class="sxs-lookup"><span data-stu-id="81c0b-133">When the value of the **PollWhileDataFound** is set to “True.”</span></span>  
  
 <span data-ttu-id="81c0b-134">![ポーリングのシナリオと #40 です。PollWhileDataFound & #61 です。False &#41;] (../../adapters-and-accelerators/adapter-oracle-ebs/media/e5f00f4c-cc76-4e8b-9991-b4471f9d4865.gif "e5f00f4c-cc76-4e8b-9991-b4471f9d4865") ![ポーリングのシナリオと #40 です。PollWhileDataFound & #61 です。True &#41;] (../../adapters-and-accelerators/adapter-oracle-ebs/media/ebecf64c-a770-4525-9c75-62fdb71e1fb1.gif "ebecf64c-a770-4525-9c75-62fdb71e1fb1")</span><span class="sxs-lookup"><span data-stu-id="81c0b-134">![Polling Scenario &#40;PollWhileDataFound&#61;False&#41;](../../adapters-and-accelerators/adapter-oracle-ebs/media/e5f00f4c-cc76-4e8b-9991-b4471f9d4865.gif "e5f00f4c-cc76-4e8b-9991-b4471f9d4865") ![Polling Scenario &#40;PollWhileDataFound &#61; True&#41;](../../adapters-and-accelerators/adapter-oracle-ebs/media/ebecf64c-a770-4525-9c75-62fdb71e1fb1.gif "ebecf64c-a770-4525-9c75-62fdb71e1fb1")</span></span>  
  
## <a name="differences-between-polling-and-notification"></a><span data-ttu-id="81c0b-135">ポーリングと通知の相違点</span><span class="sxs-lookup"><span data-stu-id="81c0b-135">Differences between Polling and Notification</span></span>  
 <span data-ttu-id="81c0b-136">ポーリング通知、両方の受信操作とは、Oracle データベースでデータの変更について、アダプターをクライアントに通知を次の表には、2 つの間には、いくつか違いが一覧表示します。</span><span class="sxs-lookup"><span data-stu-id="81c0b-136">Though polling and notification are both inbound operations, and inform the adapter clients about the data changes in the Oracle database, the following table lists some differences between the two.</span></span> <span data-ttu-id="81c0b-137">次の相違点を使用すると、要件に応じて、操作を決定できます。</span><span class="sxs-lookup"><span data-stu-id="81c0b-137">The following differences will help you decide on an operation depending on your requirements:</span></span>  
  
|<span data-ttu-id="81c0b-138">ポーリング</span><span class="sxs-lookup"><span data-stu-id="81c0b-138">Polling</span></span>|<span data-ttu-id="81c0b-139">Notification</span><span class="sxs-lookup"><span data-stu-id="81c0b-139">Notification</span></span>|  
|-------------|------------------|  
|<span data-ttu-id="81c0b-140">サポートされているすべての Oracle データベース バージョンのポーリングがサポートされている、[!INCLUDE[adapteroraclebusinessshort](../../includes/adapteroraclebusinessshort-md.md)]です。</span><span class="sxs-lookup"><span data-stu-id="81c0b-140">Polling is supported for all the Oracle database versions that are supported by the [!INCLUDE[adapteroraclebusinessshort](../../includes/adapteroraclebusinessshort-md.md)].</span></span>|<span data-ttu-id="81c0b-141">通知は、バージョン 10.2 およびそれ以降の Oracle データベースに対してのみサポートされます。</span><span class="sxs-lookup"><span data-stu-id="81c0b-141">Notification is only supported for Oracle database versions 10.2 and later.</span></span>|  
|<span data-ttu-id="81c0b-142">一定の間隔でポーリングの使用可能なデータを確認するポーリング間隔を構成するか、または瞬時に、そのデータが使用可能です。</span><span class="sxs-lookup"><span data-stu-id="81c0b-142">You can either configure the polling interval to check the data available for polling at regular intervals or instantaneously as and when the data is available.</span></span> <span data-ttu-id="81c0b-143">**ヒント:** ポーリングすれば、スループットを向上させる、データの変更が、継続的に行われていると、発生したタイミングととしてそれぞれの変更の通知を受けるたくないシナリオでします。</span><span class="sxs-lookup"><span data-stu-id="81c0b-143">**Tip:**  Polling can give you better throughput in scenarios where the data changes are happening continuously, and you do not want to be notified of each change as and when it happens.</span></span> <span data-ttu-id="81c0b-144">代わりに、前回の変更通知以降に行われたすべての変更の通知されるようにすた後ポーリング間隔を指定します。</span><span class="sxs-lookup"><span data-stu-id="81c0b-144">Instead, you specify a polling interval after which you want to be notified of all the changes that have happened since the last change notification.</span></span>|<span data-ttu-id="81c0b-145">データの変更通知は瞬時では常にします。</span><span class="sxs-lookup"><span data-stu-id="81c0b-145">The data-change notification is always instantaneous.</span></span>|  
|<span data-ttu-id="81c0b-146">ポーリングは、アダプターによって開始されます。</span><span class="sxs-lookup"><span data-stu-id="81c0b-146">Polling is initiated by the adapter.</span></span> <span data-ttu-id="81c0b-147">アダプターでは、データのポーリングを使用し、ポーリングの一部のデータがある場合は、ポーリング ステートメントを実行してポーリングを開始するかどうかを検証する SQL ステートメントを実行します。</span><span class="sxs-lookup"><span data-stu-id="81c0b-147">The adapter executes a SQL statement to validate whether data is available for polling, and then initiates polling by executing the polling statement if some data is available for polling.</span></span>|<span data-ttu-id="81c0b-148">通知は、Oracle データベースで開始されます。</span><span class="sxs-lookup"><span data-stu-id="81c0b-148">Notification is initiated by the Oracle database.</span></span> <span data-ttu-id="81c0b-149">だけ、アダプターによって発行された通知のステートメントでは、データベース ステートメントの結果セットの変更がある場合に通知を開始するように指示します。</span><span class="sxs-lookup"><span data-stu-id="81c0b-149">The notification statement issued by the adapter just instructs the database to initiate notification in case there is a change in the result set of the statement.</span></span> <span data-ttu-id="81c0b-150">通知は、Oracle データベースの機能です。</span><span class="sxs-lookup"><span data-stu-id="81c0b-150">Notification is a feature of the Oracle database.</span></span>|  
|<span data-ttu-id="81c0b-151">ポーリング ステートメントを使用して、読み取るまたは Oracle データベース内のデータを更新することができます。</span><span class="sxs-lookup"><span data-stu-id="81c0b-151">You can use the polling statement to read or update data in the Oracle database.</span></span>|<span data-ttu-id="81c0b-152">通知のステートメントを使用すると、Oracle データベースでデータを読み取るだけです。</span><span class="sxs-lookup"><span data-stu-id="81c0b-152">You can use the notification statement to only read data in an Oracle database.</span></span>|  
|<span data-ttu-id="81c0b-153">ポーリングでは、実際のデータが変更されたことについて通知されます。</span><span class="sxs-lookup"><span data-stu-id="81c0b-153">Polling informs you about the actual data that has changed.</span></span>|<span data-ttu-id="81c0b-154">Insert などのデータ変更の種類のみ通知を通知は、更新、および削除します。</span><span class="sxs-lookup"><span data-stu-id="81c0b-154">Notification informs only about the type of change in the data such as Insert, Update, and Delete.</span></span>|  
  
 <span data-ttu-id="81c0b-155">詳細については。</span><span class="sxs-lookup"><span data-stu-id="81c0b-155">For more information about:</span></span>  
  
-   <span data-ttu-id="81c0b-156">ポーリングに関連するバインドのプロパティを参照してください[BizTalk Adapter for Oracle E-business Suite バインド プロパティ読む](../../adapters-and-accelerators/adapter-oracle-ebs/read-about-the-biztalk-adapter-for-oracle-e-business-suite-binding-properties.md)です。</span><span class="sxs-lookup"><span data-stu-id="81c0b-156">The binding properties related to polling, see [Read about the  BizTalk Adapter for Oracle E-Business Suite Binding Properties](../../adapters-and-accelerators/adapter-oracle-ebs/read-about-the-biztalk-adapter-for-oracle-e-business-suite-binding-properties.md).</span></span>  
  
-   <span data-ttu-id="81c0b-157">使用してポーリング ベースのメッセージを受信[!INCLUDE[btsBizTalkServerNoVersion](../../includes/btsbiztalkservernoversion-md.md)]を参照してください[ポーリング Oracle E-business Suite を使用して BizTalk Server](../../adapters-and-accelerators/adapter-oracle-ebs/poll-oracle-e-business-suite-using-biztalk-server.md)です。</span><span class="sxs-lookup"><span data-stu-id="81c0b-157">Receiving polling-based messages using [!INCLUDE[btsBizTalkServerNoVersion](../../includes/btsbiztalkservernoversion-md.md)], see [Poll Oracle E-Business Suite Using BizTalk Server](../../adapters-and-accelerators/adapter-oracle-ebs/poll-oracle-e-business-suite-using-biztalk-server.md).</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="81c0b-158">参照</span><span class="sxs-lookup"><span data-stu-id="81c0b-158">See Also</span></span>  
 <span data-ttu-id="81c0b-159">[どのような操作をアダプターであるを使用して実行しますか?](https://msdn.microsoft.com/library/cc185219(v=bts.10).aspx)</span><span class="sxs-lookup"><span data-stu-id="81c0b-159">[What Operations Can be Performed Using the Adapter?](https://msdn.microsoft.com/library/cc185219(v=bts.10).aspx)</span></span>