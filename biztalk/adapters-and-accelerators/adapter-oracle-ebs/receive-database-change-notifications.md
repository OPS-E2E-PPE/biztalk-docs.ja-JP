---
title: "データベースの変更通知を受け取る |Microsoft ドキュメント"
ms.custom: 
ms.date: 06/08/2017
ms.prod: biztalk-server
ms.reviewer: 
ms.suite: 
ms.tgt_pltfrm: 
ms.topic: article
ms.assetid: be1eacf1-7fba-4eca-b35b-9770904d9ebd
caps.latest.revision: "16"
author: MandiOhlinger
ms.author: mandia
manager: anneta
ms.openlocfilehash: 7cdc28a49b99f4869bf1471c1c05de1c057838fe
ms.sourcegitcommit: cb908c540d8f1a692d01dc8f313e16cb4b4e696d
ms.translationtype: MT
ms.contentlocale: ja-JP
ms.lasthandoff: 09/20/2017
---
# <a name="receive-database-change-notifications"></a><span data-ttu-id="4794e-102">データベースの変更通知を受信します。</span><span class="sxs-lookup"><span data-stu-id="4794e-102">Receive database change notifications</span></span>
<span data-ttu-id="4794e-103">[!INCLUDE[adapteroracleebusinesslong](../../includes/adapteroracleebusinesslong-md.md)] ODP.NET データベースの変更通知機能をサポートします。</span><span class="sxs-lookup"><span data-stu-id="4794e-103">The [!INCLUDE[adapteroracleebusinesslong](../../includes/adapteroracleebusinesslong-md.md)] supports the ODP.NET Database Change Notification feature.</span></span> <span data-ttu-id="4794e-104">この機能を使用して、アダプター クライアントことができます、SELECT ステートメントとして登録、データベースに対する通知クエリし、アダプター クライアントとしてを使用して、SELECT ステートメントの変更の結果セットは、データベースが通知を送信します。</span><span class="sxs-lookup"><span data-stu-id="4794e-104">Using this feature, the adapter clients can register a SELECT statement as the notification query on the database, and the database sends a notification to the adapter client as and when the result set of the SELECT statement changes.</span></span> <span data-ttu-id="4794e-105">データベースの変更の通知は、OracleDependency クラスを使用して、アダプターで実装されます。</span><span class="sxs-lookup"><span data-stu-id="4794e-105">The database change notification is implemented in the adapter using the OracleDependency class.</span></span> <span data-ttu-id="4794e-106">Oracle 固有の機能の詳細について、データベース変更のサポート ODP.NET および OracleDependency クラスを参照してください[http://go.microsoft.com/fwlink/p/?LinkId=124801](http://go.microsoft.com/fwlink/p/?LinkId=124801)です。</span><span class="sxs-lookup"><span data-stu-id="4794e-106">For more Oracle-specific information about the Database Change Support feature in ODP.NET and the OracleDependency class, go to [http://go.microsoft.com/fwlink/p/?LinkId=124801](http://go.microsoft.com/fwlink/p/?LinkId=124801).</span></span>  

## <a name="prerequisites"></a><span data-ttu-id="4794e-107">前提条件</span><span class="sxs-lookup"><span data-stu-id="4794e-107">Prerequisites</span></span>  
 <span data-ttu-id="4794e-108">[!INCLUDE[adapteroraclebusinessshort](../../includes/adapteroraclebusinessshort-md.md)]操作を公開する受信、データベースの変更の通知をサポートするために、通知します。</span><span class="sxs-lookup"><span data-stu-id="4794e-108">The [!INCLUDE[adapteroraclebusinessshort](../../includes/adapteroraclebusinessshort-md.md)] exposes an inbound operation, Notification, to support database change notification.</span></span> <span data-ttu-id="4794e-109">ただし、データベースの変更通知を使用する[!INCLUDE[adapteroraclebusinessshort](../../includes/adapteroraclebusinessshort-md.md)]以下を確認する必要があります。</span><span class="sxs-lookup"><span data-stu-id="4794e-109">However, for the database change notification to work with [!INCLUDE[adapteroraclebusinessshort](../../includes/adapteroraclebusinessshort-md.md)], you must ensure the following:</span></span>  
  
-   <span data-ttu-id="4794e-110">Oracle データベースの基になるバージョン 10.2 またはそれ以降の Oracle E-business Suite に接続します。</span><span class="sxs-lookup"><span data-stu-id="4794e-110">Connect to Oracle E-Business Suite with the underlying Oracle database version 10.2 or later.</span></span> <span data-ttu-id="4794e-111">10.2 より前の oracle データベースのバージョンは、通知をサポートしていません。</span><span class="sxs-lookup"><span data-stu-id="4794e-111">Oracle database versions prior to 10.2 do not support notifications.</span></span>  
  
-   <span data-ttu-id="4794e-112">通知の登録を作成する変更通知特権を持つユーザーとして Oracle E-business Suite に接続します。</span><span class="sxs-lookup"><span data-stu-id="4794e-112">Connect to Oracle E-Business Suite as a user that has the CHANGE NOTIFICATION privilege to create a notification registration.</span></span> <span data-ttu-id="4794e-113">特権を付与するには、変更通知をユーザーに、管理者特権を持つユーザーとして Oracle データベースに接続し、SQL プロンプトで次のコマンドを実行します。</span><span class="sxs-lookup"><span data-stu-id="4794e-113">To grant the CHANGE NOTIFICATION privilege to a user, connect to the Oracle database as a user with administrative privileges, and run the following command at the SQL prompt:</span></span>  
  
    ```  
    grant change notification to <user name>  
    ```  
  
-   <span data-ttu-id="4794e-114">Oracle データベースからデータベースの変更通知を受け取る ODP.NET で使用できる TCP ポートを決定します。</span><span class="sxs-lookup"><span data-stu-id="4794e-114">Decide on a TCP port that can be used by ODP.NET to receive database change notifications from Oracle database.</span></span> <span data-ttu-id="4794e-115">Windows ファイアウォールの例外一覧に TCP ポートを追加します。</span><span class="sxs-lookup"><span data-stu-id="4794e-115">Add the TCP port to Windows Firewall exceptions list.</span></span> <span data-ttu-id="4794e-116">Windows ファイアウォールの例外リストにポートを追加する方法については、次を参照してください。 [http://go.microsoft.com/fwlink/?LinkID=196959](http://go.microsoft.com/fwlink/?LinkID=196959)です。</span><span class="sxs-lookup"><span data-stu-id="4794e-116">For instructions on how to add ports to Windows Firewall exceptions list, see [http://go.microsoft.com/fwlink/?LinkID=196959](http://go.microsoft.com/fwlink/?LinkID=196959).</span></span> <span data-ttu-id="4794e-117">同じ TCP ポート番号を指定する必要があります、 **NotificationPort**プロパティをバインドします。</span><span class="sxs-lookup"><span data-stu-id="4794e-117">You must provide the same TCP port number for the **NotificationPort** binding property.</span></span> <span data-ttu-id="4794e-118">バインディング プロパティの詳細については、次を参照してください。 [BizTalk Adapter for Oracle E-business Suite バインド プロパティ読む](../../adapters-and-accelerators/adapter-oracle-ebs/read-about-the-biztalk-adapter-for-oracle-e-business-suite-binding-properties.md)です。</span><span class="sxs-lookup"><span data-stu-id="4794e-118">For more information about the binding property, see [Read about the  BizTalk Adapter for Oracle E-Business Suite Binding Properties](../../adapters-and-accelerators/adapter-oracle-ebs/read-about-the-biztalk-adapter-for-oracle-e-business-suite-binding-properties.md).</span></span>  
  
 <span data-ttu-id="4794e-119">一般的なデータベースの変更通知を使用して、[!INCLUDE[adapteroraclebusinessshort](../../includes/adapteroraclebusinessshort-md.md)]次が含まれます。</span><span class="sxs-lookup"><span data-stu-id="4794e-119">A typical database change notification using the [!INCLUDE[adapteroraclebusinessshort](../../includes/adapteroraclebusinessshort-md.md)] involves the following:</span></span>  
  
1.  <span data-ttu-id="4794e-120">アダプターのクライアントを指定する必要があります`Notification`で受信操作として、 **InboundOperationType**プロパティをバインドします。</span><span class="sxs-lookup"><span data-stu-id="4794e-120">The adapter clients must specify `Notification` as the inbound operation in the **InboundOperationType** binding property.</span></span> <span data-ttu-id="4794e-121">このバインドのプロパティの既定値をポーリングしています。</span><span class="sxs-lookup"><span data-stu-id="4794e-121">The default value for this binding property is Polling.</span></span>  
  
2.  <span data-ttu-id="4794e-122">アダプターのクライアントが、SQL SELECT ステートメントでデータベースの変更通知を登録するを指定する必要があります、 **NotificationStatement**プロパティをバインドします。</span><span class="sxs-lookup"><span data-stu-id="4794e-122">The adapter clients must specify a SQL SELECT statement to register for database change notifications in the **NotificationStatement** binding property.</span></span> <span data-ttu-id="4794e-123">アダプターのクライアントは、として Oracle データベースからを使用して、結果セットの指定された SQL ステートメントの変更の通知を取得します。</span><span class="sxs-lookup"><span data-stu-id="4794e-123">The adapter client gets a notification from Oracle database as and when the result set for the specified SQL statement changes.</span></span>  
  
3.  <span data-ttu-id="4794e-124">アダプターのクライアントがでリスナーを起動するとすぐに、アダプターがアダプターのクライアントに通知を送信するかどうかを指定する必要があります、 **NotifyOnListenerStart**プロパティをバインドします。</span><span class="sxs-lookup"><span data-stu-id="4794e-124">The adapter clients must specify whether the adapter sends a notification to the adapter clients as soon as the listener is started in the **NotifyOnListenerStart** binding property.</span></span>  
  
4.  <span data-ttu-id="4794e-125">としてアダプター クライアントに通知が送信され、SELECT ステートメントがで指定された結果セットがの場合、 **NotificationStatement**プロパティのバインドを変更します。</span><span class="sxs-lookup"><span data-stu-id="4794e-125">The notification is sent to the adapter clients as and when the result set of the SELECT statement specified in the **NotificationStatement** binding property is changed.</span></span>  
  
> [!CAUTION]
>  <span data-ttu-id="4794e-126">Oracle データベースとアダプタのクライアント間でネットワーク障害がある場合、通知は送信されませんアダプター クライアントへのネットワークの停止の期間中に、Oracle データベースで行われる変更とそれ以降。</span><span class="sxs-lookup"><span data-stu-id="4794e-126">If there is a network outage between the Oracle database and the adapter client, the notifications will not be sent to the adapter clients for the changes done on the Oracle database during the period of network outage, and thereafter.</span></span> <span data-ttu-id="4794e-127">したがって、重要なシナリオの通知操作ではなくポーリング操作を使用する必要があります。</span><span class="sxs-lookup"><span data-stu-id="4794e-127">Therefore, you must use the Polling operation instead of the Notification operation for critical scenarios.</span></span>  
  
## <a name="differences-between-notification-and-polling"></a><span data-ttu-id="4794e-128">通知とポーリングの相違点</span><span class="sxs-lookup"><span data-stu-id="4794e-128">Differences between Notification and Polling</span></span>  
 <span data-ttu-id="4794e-129">通知のポーリング、両方の受信操作とは、Oracle データベースでデータの変更について、アダプターをクライアントに通知を次の表は、2 つの間の違いを示します。</span><span class="sxs-lookup"><span data-stu-id="4794e-129">Though notification and polling are both inbound operations, and inform the adapter clients about the data changes in the Oracle database, the following table illustrates some differences between the two.</span></span> <span data-ttu-id="4794e-130">次の相違点を使用すると、要件に応じて、操作を決定できます。</span><span class="sxs-lookup"><span data-stu-id="4794e-130">The following differences will help you decide on an operation depending on your requirements:</span></span>  
  
|<span data-ttu-id="4794e-131">Notification</span><span class="sxs-lookup"><span data-stu-id="4794e-131">Notification</span></span>|<span data-ttu-id="4794e-132">ポーリング</span><span class="sxs-lookup"><span data-stu-id="4794e-132">Polling</span></span>|  
|------------------|-------------|  
|<span data-ttu-id="4794e-133">通知は、Oracle データベース バージョン 10.2 に対してのみサポートされているおよびそれ以降です。</span><span class="sxs-lookup"><span data-stu-id="4794e-133">Notification is supported only for Oracle database versions 10.2 and later.</span></span>|<span data-ttu-id="4794e-134">サポートされているすべての Oracle データベース バージョンのポーリングがサポートされている、[!INCLUDE[adapteroraclebusinessshort](../../includes/adapteroraclebusinessshort-md.md)]です。</span><span class="sxs-lookup"><span data-stu-id="4794e-134">Polling is supported for all the Oracle database versions that are supported by the [!INCLUDE[adapteroraclebusinessshort](../../includes/adapteroraclebusinessshort-md.md)].</span></span>|  
|<span data-ttu-id="4794e-135">データの変更通知は瞬時では常にします。</span><span class="sxs-lookup"><span data-stu-id="4794e-135">The data-change notification is always instantaneous.</span></span>|<span data-ttu-id="4794e-136">一定の間隔でポーリングの使用可能なデータを確認するポーリング間隔を構成するか、または瞬時に、そのデータが使用可能です。</span><span class="sxs-lookup"><span data-stu-id="4794e-136">You can either configure the polling interval to check the data available for polling at regular intervals or instantaneously as and when the data is available.</span></span> <span data-ttu-id="4794e-137">**ヒント:**ポーリングすれば、スループットを向上させる、データの変更が、継続的に行われていると、発生したタイミングととしてそれぞれの変更の通知を受けるたくないシナリオでします。</span><span class="sxs-lookup"><span data-stu-id="4794e-137">**Tip:**  Polling can give you better throughput in scenarios where the data changes are happening continuously, and you do not want to be notified of each change as and when it happens.</span></span> <span data-ttu-id="4794e-138">代わりに、前回の変更通知以降に行われたすべての変更の通知されるようにすた後ポーリング間隔を指定します。</span><span class="sxs-lookup"><span data-stu-id="4794e-138">Instead, you specify a polling interval after which you want to be notified of all the changes that have happened since the last change notification.</span></span>|  
|<span data-ttu-id="4794e-139">通知は、Oracle データベースで開始されます。</span><span class="sxs-lookup"><span data-stu-id="4794e-139">Notification is initiated by the Oracle database.</span></span> <span data-ttu-id="4794e-140">だけ、アダプターによって発行された通知のステートメントでは、データベース ステートメントの結果セットの変更がある場合に通知を開始するように指示します。</span><span class="sxs-lookup"><span data-stu-id="4794e-140">The notification statement issued by the adapter just instructs the database to initiate notification in case there is a change in the result set of the statement.</span></span> <span data-ttu-id="4794e-141">通知は、Oracle データベースの機能です。</span><span class="sxs-lookup"><span data-stu-id="4794e-141">Notification is a feature of the Oracle database.</span></span>|<span data-ttu-id="4794e-142">ポーリングは、アダプターによって開始されます。</span><span class="sxs-lookup"><span data-stu-id="4794e-142">Polling is initiated by the adapter.</span></span> <span data-ttu-id="4794e-143">アダプターでは、データのポーリングを使用し、ポーリングの一部のデータがある場合は、ポーリング ステートメントを実行してポーリングを開始するかどうかを検証する SQL ステートメントを実行します。</span><span class="sxs-lookup"><span data-stu-id="4794e-143">The adapter executes a SQL statement to validate whether data is available for polling, and then initiates polling by executing the polling statement if some data is available for polling.</span></span>|  
|<span data-ttu-id="4794e-144">通知のステートメントを使用すると、Oracle データベースでデータを読み取るだけです。</span><span class="sxs-lookup"><span data-stu-id="4794e-144">You can use the notification statement to only read data in an Oracle database.</span></span>|<span data-ttu-id="4794e-145">ポーリング ステートメントを使用して、読み取るまたは Oracle データベース内のデータを更新することができます。</span><span class="sxs-lookup"><span data-stu-id="4794e-145">You can use the polling statement to read or update data in the Oracle database.</span></span>|  
|<span data-ttu-id="4794e-146">Insert などのデータ変更の種類のみ通知を通知は、更新、および削除します。</span><span class="sxs-lookup"><span data-stu-id="4794e-146">Notification informs only about the type of change in the data such as Insert, Update, and Delete.</span></span>|<span data-ttu-id="4794e-147">ポーリングでは、実際のデータが変更されたことについて通知されます。</span><span class="sxs-lookup"><span data-stu-id="4794e-147">Polling informs you about the actual data that has changed.</span></span>|  
  
 <span data-ttu-id="4794e-148">詳細については。</span><span class="sxs-lookup"><span data-stu-id="4794e-148">For more information about:</span></span>  
  
-   <span data-ttu-id="4794e-149">通知操作に関連するバインドのプロパティを参照してください[BizTalk Adapter for Oracle E-business Suite バインド プロパティ読む](../../adapters-and-accelerators/adapter-oracle-ebs/read-about-the-biztalk-adapter-for-oracle-e-business-suite-binding-properties.md)です。</span><span class="sxs-lookup"><span data-stu-id="4794e-149">The binding properties related to the Notification operation, see [Read about the  BizTalk Adapter for Oracle E-Business Suite Binding Properties](../../adapters-and-accelerators/adapter-oracle-ebs/read-about-the-biztalk-adapter-for-oracle-e-business-suite-binding-properties.md).</span></span>  
  
-   <span data-ttu-id="4794e-150">通知の操作を使用する方法[!INCLUDE[adapteroraclebusinessshort](../../includes/adapteroraclebusinessshort-md.md)]を参照してください[Reaceive データベースの変更通知を使用して BizTalk Server](../../adapters-and-accelerators/adapter-oracle-database/receive-oracle-database-change-notifications-using-biztalk-server.md)です。</span><span class="sxs-lookup"><span data-stu-id="4794e-150">How to use the Notification operation in [!INCLUDE[adapteroraclebusinessshort](../../includes/adapteroraclebusinessshort-md.md)], see [Reaceive Database Change Notifications Using BizTalk Server](../../adapters-and-accelerators/adapter-oracle-database/receive-oracle-database-change-notifications-using-biztalk-server.md).</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="4794e-151">参照</span><span class="sxs-lookup"><span data-stu-id="4794e-151">See Also</span></span>  
 <span data-ttu-id="4794e-152">[どのような操作をアダプターであるを使用して実行しますか?](https://msdn.microsoft.com/library/cc185219(v=bts.10).aspx)</span><span class="sxs-lookup"><span data-stu-id="4794e-152">[What Operations Can be Performed Using the Adapter?](https://msdn.microsoft.com/library/cc185219(v=bts.10).aspx)</span></span>