---
title: BizTalk Server を使用して Oracle データベースで特定のタスクを完了する通知メッセージを処理 |Microsoft Docs
ms.custom: ''
ms.date: 06/08/2017
ms.prod: biztalk-server
ms.reviewer: ''
ms.suite: ''
ms.tgt_pltfrm: ''
ms.topic: article
ms.assetid: 376055a7-98a6-4055-b6cd-2f5971349a6a
caps.latest.revision: 9
author: MandiOhlinger
ms.author: mandia
manager: anneta
ms.openlocfilehash: 62ddcc94723f52824ee0dc3c3e0500d66acbaf04
ms.sourcegitcommit: 266308ec5c6a9d8d80ff298ee6051b4843c5d626
ms.translationtype: MT
ms.contentlocale: ja-JP
ms.lasthandoff: 06/27/2018
ms.locfileid: "36983659"
---
# <a name="process-notification-messages-to-complete-specific-tasks-in-oracle-database-using-biztalk-server"></a><span data-ttu-id="733be-102">BizTalk Server を使用して Oracle データベースで特定のタスクを完了する通知メッセージの処理</span><span class="sxs-lookup"><span data-stu-id="733be-102">Process notification messages to complete specific tasks in Oracle Database using BizTalk Server</span></span>
<span data-ttu-id="733be-103">使用することができます、 [!INCLUDE[adapteroracle_short](../../includes/adapteroracle-short-md.md)] Oracle データベースのテーブルへの変更の通知を受信します。</span><span class="sxs-lookup"><span data-stu-id="733be-103">You can use the [!INCLUDE[adapteroracle_short](../../includes/adapteroracle-short-md.md)] to receive notifications for changes to the Oracle database tables.</span></span> <span data-ttu-id="733be-104">ただし、アダプターのみ通知を送信するレコードの一部の電源が挿入されていること、更新、または特定のデータベース テーブルで削除されたことです。</span><span class="sxs-lookup"><span data-stu-id="733be-104">However, the adapter only sends you a notification that some records were inserted, updated, or deleted in a certain database table.</span></span> <span data-ttu-id="733be-105">これらのレコードに、後続の処理は、クライアント アプリケーション自体によって処理する必要があります。</span><span class="sxs-lookup"><span data-stu-id="733be-105">Any post-processing on those records must be handled by the client applications themselves.</span></span> <span data-ttu-id="733be-106">このトピックでは、Oracle データベースから受信した通知の種類に基づいて、テーブル内のレコードを処理する方法のシナリオ ベースの説明を示します。</span><span class="sxs-lookup"><span data-stu-id="733be-106">This topic presents a scenario-based description on how to process the records in the table based on the kind of notification received from the Oracle database.</span></span>  
  
## <a name="scenarios-for-performing-subsequent-actions-after-receiving-notification"></a><span data-ttu-id="733be-107">通知を受信した後、後続のアクションを実行するためのシナリオ</span><span class="sxs-lookup"><span data-stu-id="733be-107">Scenarios for Performing Subsequent Actions After Receiving Notification</span></span>  
 <span data-ttu-id="733be-108">次に、いくつかのシナリオのアダプターのクライアントが特定の通知後タスクを実行する必要があります。</span><span class="sxs-lookup"><span data-stu-id="733be-108">Following are a couple of scenarios in which the adapter clients must perform certain post-notification tasks.</span></span>  
  
-   <span data-ttu-id="733be-109">**シナリオ 1。**</span><span class="sxs-lookup"><span data-stu-id="733be-109">**Scenario 1.**</span></span> <span data-ttu-id="733be-110">アダプターのクライアントが Oracle データベースから受信した通知の種類に基づいて特定のタスクを実行する必要がありますシナリオを検討してください。</span><span class="sxs-lookup"><span data-stu-id="733be-110">Consider a scenario where the adapter client must perform certain tasks based on the kind of notification you receive from the Oracle database.</span></span> <span data-ttu-id="733be-111">たとえば、"B"のテーブルにレコードを挿入する場合、クライアント アプリケーションは表内の"A"レコードを更新する必要があります。</span><span class="sxs-lookup"><span data-stu-id="733be-111">For example, the client application must update the records in table “A” if records are inserted in table “B”.</span></span> <span data-ttu-id="733be-112">同様に、クライアント アプリケーションする必要がありますレコード テーブルから削除"A"レコードが"B"のテーブルから削除された場合。</span><span class="sxs-lookup"><span data-stu-id="733be-112">Similarly, the client application must delete records from table “A” if records are deleted from table “B”.</span></span>  
  
     <span data-ttu-id="733be-113">受信されると、通知メッセージからはこのシナリオでアダプターのクライアントが、挿入操作または削除操作の通知をしたかどうかを決定する通知の種類を抽出する必要があります。</span><span class="sxs-lookup"><span data-stu-id="733be-113">In this scenario, from the notification message received, the adapter clients must extract the type of notification to decide whether the notification was for an insert operation or a delete operation.</span></span> <span data-ttu-id="733be-114">通知の種類を確認すると後、アダプター クライアントは挿入または関連するテーブルを更新する後続のアクションを実行する必要があります。</span><span class="sxs-lookup"><span data-stu-id="733be-114">Once the notification type is ascertained, the adapter clients must perform subsequent actions to insert or update the relevant tables.</span></span>  
  
-   <span data-ttu-id="733be-115">**シナリオ 2。**</span><span class="sxs-lookup"><span data-stu-id="733be-115">**Scenario 2.**</span></span> <span data-ttu-id="733be-116">テーブルへの変更の通知メッセージを受信する受信場所がダウンするシナリオを検討してください。</span><span class="sxs-lookup"><span data-stu-id="733be-116">Consider a scenario where the receive location that receives notification messages for changes to a table goes down.</span></span> <span data-ttu-id="733be-117">受信場所の停止中に、一部のレコードがテーブルに追加されます。</span><span class="sxs-lookup"><span data-stu-id="733be-117">While the receive location is down, some records are added to the table.</span></span> <span data-ttu-id="733be-118">ただし、これらのレコードのアダプターのクライアントは通知を送信されません。</span><span class="sxs-lookup"><span data-stu-id="733be-118">However, for these records the adapter client does not receive any notification.</span></span> <span data-ttu-id="733be-119">受信場所は、バックアップが、アダプターを特定のメッセージを送信することによってクライアントに通知し、クライアント アプリケーションが受信場所がダウンしていたときに、データベース テーブルに挿入されたすべてのレコードを検索する必要があります。</span><span class="sxs-lookup"><span data-stu-id="733be-119">When the receive location is back up, the adapter notifies the client by sending a specific message, and then the client application must look for all the records that were inserted in the database table while the receive location was down.</span></span>  
  
     <span data-ttu-id="733be-120">受信されると、通知メッセージからはこのシナリオでアダプターのクライアントが通知はまたは受信場所を開始するためのデータベース テーブルに変更されたかどうかに関する情報を抽出する必要があります。</span><span class="sxs-lookup"><span data-stu-id="733be-120">In this scenario, from the notification message received, the adapter clients must extract the information regarding whether the notification is for a change to a database table or for the receive location starting.</span></span> <span data-ttu-id="733be-121">通知が受信場所を開始するためにある場合は、アダプター クライアントは、する可能性がありますが挿入、更新、または削除された受信場所がダウンしていたときにレコードを処理するロジックを実装する必要があります。</span><span class="sxs-lookup"><span data-stu-id="733be-121">If the notification is for the receive location starting, the adapter clients must implement the logic to process the records that might have been inserted, updated, or deleted while the receive location was down.</span></span>  
  
> [!NOTE]
>  <span data-ttu-id="733be-122">これらは、通知機能を使用する方法の理解を深めるに記載されているいくつかシナリオの例、[!INCLUDE[adapteroracle_short](../../includes/adapteroracle-short-md.md)]します。</span><span class="sxs-lookup"><span data-stu-id="733be-122">These are just some example scenarios that are listed for a better understanding of how to use the notification feature in the [!INCLUDE[adapteroracle_short](../../includes/adapteroracle-short-md.md)].</span></span> <span data-ttu-id="733be-123">ただし、受信した通知の種類の抽出に必要なタスクの基本的なセットは、すべてのシナリオのようになります。</span><span class="sxs-lookup"><span data-stu-id="733be-123">However, the basic set of tasks required to extract the type of notification received will be similar for all scenarios.</span></span> <span data-ttu-id="733be-124">このトピックでは、通知の種類を通知メッセージから抽出する方法について説明します。</span><span class="sxs-lookup"><span data-stu-id="733be-124">This topic provides instructions on how to extract the type of notification from a notification message.</span></span>  
  
## <a name="how-this-topic-demonstrates-receiving-notification-messages"></a><span data-ttu-id="733be-125">このトピックで通知メッセージの受信について説明する方法</span><span class="sxs-lookup"><span data-stu-id="733be-125">How This Topic Demonstrates Receiving Notification Messages</span></span>  
 <span data-ttu-id="733be-126">このトピックでは、後続のタスクを実行する通知メッセージを処理する方法を示すために、アダプターのクライアントが ACCOUNTACTIVITY テーブルへの変更の通知メッセージを受信する BizTalk アプリケーションを使用する基本的なシナリオ検討します。</span><span class="sxs-lookup"><span data-stu-id="733be-126">In this topic, to demonstrate how to process notification messages to perform subsequent tasks, we consider a basic scenario where an adapter client uses BizTalk application to receive notification messages for changes to the ACCOUNTACTIVITY table.</span></span> <span data-ttu-id="733be-127">通知が受信した後、クライアントが受信した通知の種類をフィルター処理し、後続のアクションを実行します。</span><span class="sxs-lookup"><span data-stu-id="733be-127">After the notification is received, the client filters the type of notification received and performs subsequent action.</span></span> <span data-ttu-id="733be-128">非常に基本的なシナリオを示すためには、お知らせアダプター クライアントが通知メッセージを受信した通知の種類に基づいて異なるフォルダーにコピーされる検討してください。</span><span class="sxs-lookup"><span data-stu-id="733be-128">To demonstrate a very basic scenario, let us consider that the adapter client copies the notification messages to different folders based on the kind of notification received.</span></span> <span data-ttu-id="733be-129">そこで：</span><span class="sxs-lookup"><span data-stu-id="733be-129">Therefore:</span></span>  
  
- <span data-ttu-id="733be-130">通知メッセージを挿入または更新操作の場合は、アダプターのクライアントは、メッセージを C:\TestLocation\UpsertNotification フォルダーにコピーします。</span><span class="sxs-lookup"><span data-stu-id="733be-130">If the notification message is for an Insert or Update operation, the adapter client copies the message to C:\TestLocation\UpsertNotification folder.</span></span>  
  
- <span data-ttu-id="733be-131">通知メッセージが、他の操作の場合は、削除など、アダプター クライアントがメッセージを C:\TestLocation\OtherNotificaiton フォルダーにコピーします。</span><span class="sxs-lookup"><span data-stu-id="733be-131">If the notification message is for any other operation, for example Delete, the adapter client copies the message to C:\TestLocation\OtherNotificaiton folder.</span></span>  
  
  <span data-ttu-id="733be-132">これを実現する BizTalk アプリケーションの一部として、オーケストレーションは、次に含める必要があります。</span><span class="sxs-lookup"><span data-stu-id="733be-132">To achieve this as part of a BizTalk application, the orchestration must contain the following:</span></span>  
  
- <span data-ttu-id="733be-133">一方向の受信の通知メッセージを受信するポート。</span><span class="sxs-lookup"><span data-stu-id="733be-133">A one-way receive port to receive notification messages.</span></span>  
  
- <span data-ttu-id="733be-134">受信した通知メッセージの種類に関する情報を抽出する xpath クエリを含む式図形。</span><span class="sxs-lookup"><span data-stu-id="733be-134">An Expression shape that contains an xpath query to extract the information about the kind of notification message received.</span></span>  
  
- <span data-ttu-id="733be-135">オーケストレーションに判断ブロックを含めるの判断図形。</span><span class="sxs-lookup"><span data-stu-id="733be-135">A Decide shape to include a decision block in the orchestration.</span></span> <span data-ttu-id="733be-136">この判断ブロックでは、アプリケーションは、受信した通知メッセージを実行する後続の操作のベースを決定します。</span><span class="sxs-lookup"><span data-stu-id="733be-136">In this decision block, the application decides on what subsequent operations to perform based on the notification message received.</span></span>  
  
- <span data-ttu-id="733be-137">最後に、通知メッセージを受信するポートは 2 つの一方向の送信します。</span><span class="sxs-lookup"><span data-stu-id="733be-137">Two one-way send ports that finally receive the notification messages.</span></span>  
  
## <a name="configuring-notifications-with-the-oracle-database-binding-properties"></a><span data-ttu-id="733be-138">バインドのプロパティが Oracle Database による通知の構成</span><span class="sxs-lookup"><span data-stu-id="733be-138">Configuring Notifications with the Oracle Database Binding Properties</span></span>  
 <span data-ttu-id="733be-139">次の表にまとめたものです、[!INCLUDE[adapteroracle_short](../../includes/adapteroracle-short-md.md)]バインドのプロパティの構成、Oracle データベースから通知を受信するために使用します。</span><span class="sxs-lookup"><span data-stu-id="733be-139">The following table summarizes the [!INCLUDE[adapteroracle_short](../../includes/adapteroracle-short-md.md)] binding properties that you use to configure receiving notifications from the Oracle database.</span></span> <span data-ttu-id="733be-140">受信ポートを構成するときにこれらのバインドのプロパティを指定する必要があります、[!INCLUDE[btsBizTalkServerNoVersion](../../includes/btsbiztalkservernoversion-md.md)]管理コンソール。</span><span class="sxs-lookup"><span data-stu-id="733be-140">You must specify these binding properties while configuring the receive port in the [!INCLUDE[btsBizTalkServerNoVersion](../../includes/btsbiztalkservernoversion-md.md)] Administration console.</span></span>  
  
> [!NOTE]
>  <span data-ttu-id="733be-141">スキーマを生成するときに、これらのバインドのプロパティを指定することができます、**通知**は必須でない場合でも、操作します。</span><span class="sxs-lookup"><span data-stu-id="733be-141">You may choose to specify these binding properties when generating the schema for the **Notification** operation, even though it is not mandatory.</span></span> <span data-ttu-id="733be-142">ポートのバインド ファイルをこのようにする場合、[!INCLUDE[consumeadapterservshort](../../includes/consumeadapterservshort-md.md)]メタデータの生成の一部にもバインドのプロパティで指定する値が含まれているが生成されます。</span><span class="sxs-lookup"><span data-stu-id="733be-142">If you do so, the port binding file that the [!INCLUDE[consumeadapterservshort](../../includes/consumeadapterservshort-md.md)] generates as part of the metadata generation also contains the values you specify for the binding properties.</span></span> <span data-ttu-id="733be-143">後でこのバインド ファイルをインポートすることができます、[!INCLUDE[btsBizTalkServerNoVersion](../../includes/btsbiztalkservernoversion-md.md)]プロパティは既に設定されています。 バインドで wcf-custom または Wcf-oracledb を作成する管理コンソールの受信ポート。</span><span class="sxs-lookup"><span data-stu-id="733be-143">You can later import this binding file in the [!INCLUDE[btsBizTalkServerNoVersion](../../includes/btsbiztalkservernoversion-md.md)] Administration console to create the WCF-custom or WCF-OracleDB receive port with the binding properties already set.</span></span> <span data-ttu-id="733be-144">バインド ファイルを使用して、wcf-custom または Wcf-oracledb ポートを作成する方法の詳細については、次を参照してください。 [Oracle データベースへのポート バインド ファイルを使用して物理的なポート バインドを構成する](../../adapters-and-accelerators/adapter-oracle-database/configure-a-physical-port-binding-using-a-port-binding-file-to-oracle-database.md)します。</span><span class="sxs-lookup"><span data-stu-id="733be-144">For more information about creating a WCF-custom or WCF-OracleDB port using the binding file, see [Configure a physical port binding using a port Binding file to Oracle Database](../../adapters-and-accelerators/adapter-oracle-database/configure-a-physical-port-binding-using-a-port-binding-file-to-oracle-database.md).</span></span>  
  
|<span data-ttu-id="733be-145">プロパティのバインド</span><span class="sxs-lookup"><span data-stu-id="733be-145">Binding Property</span></span>|<span data-ttu-id="733be-146">説明</span><span class="sxs-lookup"><span data-stu-id="733be-146">Description</span></span>|  
|----------------------|-----------------|  
|<span data-ttu-id="733be-147">**InboundOperationType**</span><span class="sxs-lookup"><span data-stu-id="733be-147">**InboundOperationType**</span></span>|<span data-ttu-id="733be-148">実行する受信操作を指定します。</span><span class="sxs-lookup"><span data-stu-id="733be-148">Specifies the inbound operation that you want to perform.</span></span> <span data-ttu-id="733be-149">通知メッセージを受信するこれを設定**通知**します。</span><span class="sxs-lookup"><span data-stu-id="733be-149">To receive notification messages, set this to **Notification**.</span></span>|  
|<span data-ttu-id="733be-150">**NotificationPort**</span><span class="sxs-lookup"><span data-stu-id="733be-150">**NotificationPort**</span></span>|<span data-ttu-id="733be-151">Oracle データベースからのデータベース変更通知をリッスンする ODP.NET を開く必要があるポート番号を指定します。</span><span class="sxs-lookup"><span data-stu-id="733be-151">Specifies the port number that ODP.NET must open to listen for database change notification from Oracle database.</span></span>|  
|<span data-ttu-id="733be-152">**NotificationStatement**</span><span class="sxs-lookup"><span data-stu-id="733be-152">**NotificationStatement**</span></span>|<span data-ttu-id="733be-153">クエリ通知に登録するために使用する SELECT ステートメントを指定します。</span><span class="sxs-lookup"><span data-stu-id="733be-153">Specifies the SELECT statement used to register for query notifications.</span></span> <span data-ttu-id="733be-154">アダプターは、指定した SELECT ステートメントの変更の結果セットの場合にのみ、通知メッセージを取得します。</span><span class="sxs-lookup"><span data-stu-id="733be-154">The adapter gets a notification message only when the result set for the specified SELECT statement changes.</span></span>|  
|<span data-ttu-id="733be-155">**NotifyOnListenerStart**</span><span class="sxs-lookup"><span data-stu-id="733be-155">**NotifyOnListenerStart**</span></span>|<span data-ttu-id="733be-156">リスナーが開始されると、アダプターがアダプター クライアントに通知を送信するかどうかを指定します。</span><span class="sxs-lookup"><span data-stu-id="733be-156">Specifies whether the adapter sends a notification to the adapter clients when the listener is started.</span></span>|  
  
 <span data-ttu-id="733be-157">これらのプロパティの詳細については、次を参照してください。[バインドのプロパティの操作](https://msdn.microsoft.com/library/dd788467.aspx)します。</span><span class="sxs-lookup"><span data-stu-id="733be-157">For a more complete description of these properties, see [Working with binding properties](https://msdn.microsoft.com/library/dd788467.aspx).</span></span> <span data-ttu-id="733be-158">使用する方法の詳細については、 [!INCLUDE[adapteroracle_short](../../includes/adapteroracle-short-md.md)] Oracle データベースから通知を受信するさらに読み進める。</span><span class="sxs-lookup"><span data-stu-id="733be-158">For a complete description of how to use the [!INCLUDE[adapteroracle_short](../../includes/adapteroracle-short-md.md)] to receive notifications from the Oracle database, read further.</span></span>  
  
## <a name="how-to-receive-notification-messages-from-oracle-database"></a><span data-ttu-id="733be-159">Oracle データベースから通知メッセージを受信する方法</span><span class="sxs-lookup"><span data-stu-id="733be-159">How to Receive Notification Messages from Oracle Database</span></span>  
 <span data-ttu-id="733be-160">使用して Oracle データベースでの操作を実行する[!INCLUDE[adapteroracle_short](../../includes/adapteroracle-short-md.md)]で[!INCLUDE[btsBizTalkServerNoVersion](../../includes/btsbiztalkservernoversion-md.md)]で説明されている手順のタスクが含まれます[Oracle データベースと BizTalk アプリケーションを開発する構成要素](../../adapters-and-accelerators/adapter-oracle-database/building-blocks-to-develop-biztalk-applications-with-oracle-database.md)します。</span><span class="sxs-lookup"><span data-stu-id="733be-160">Performing an operation on the Oracle database using [!INCLUDE[adapteroracle_short](../../includes/adapteroracle-short-md.md)] with [!INCLUDE[btsBizTalkServerNoVersion](../../includes/btsbiztalkservernoversion-md.md)] involves the procedural tasks described in [Building blocks to develop BizTalk Applications with Oracle Database](../../adapters-and-accelerators/adapter-oracle-database/building-blocks-to-develop-biztalk-applications-with-oracle-database.md).</span></span> <span data-ttu-id="733be-161">これらのタスクは通知メッセージを受信するアダプターを構成するには。</span><span class="sxs-lookup"><span data-stu-id="733be-161">To configure the adapter to receive notification messages, these tasks are:</span></span>  
  
1. <span data-ttu-id="733be-162">BizTalk プロジェクトを作成しのスキーマを生成し、**通知**操作を受信します。</span><span class="sxs-lookup"><span data-stu-id="733be-162">Create a BizTalk project, and then generate schema for the **Notification** inbound operation.</span></span> <span data-ttu-id="733be-163">値を指定する、必要に応じて、 **InboundOperationType**、 **NotificationPort**、および**NotificationStatement**プロパティをバインドします。</span><span class="sxs-lookup"><span data-stu-id="733be-163">Optionally, you can specify values for the **InboundOperationType**, **NotificationPort**, and **NotificationStatement** binding properties.</span></span>  
  
2. <span data-ttu-id="733be-164">Oracle データベースから通知を受信するための BizTalk プロジェクトでは、メッセージを作成します。</span><span class="sxs-lookup"><span data-stu-id="733be-164">Create a message in the BizTalk project for receiving notification from the Oracle database.</span></span>  
  
3. <span data-ttu-id="733be-165">前のセクションで説明したようにオーケストレーションを作成します。</span><span class="sxs-lookup"><span data-stu-id="733be-165">Create an orchestration as described in the preceding section.</span></span>  
  
4. <span data-ttu-id="733be-166">ビルドし、BizTalk プロジェクトを配置します。</span><span class="sxs-lookup"><span data-stu-id="733be-166">Build and deploy the BizTalk project.</span></span>  
  
5. <span data-ttu-id="733be-167">BizTalk 物理を作成してアプリケーションの送信および受信ポートを構成します。</span><span class="sxs-lookup"><span data-stu-id="733be-167">Configure the BizTalk application by creating physical send and receive ports.</span></span>  
  
   > [!NOTE]
   >  <span data-ttu-id="733be-168">受信操作の場合、通知メッセージを受信するように Wcf-custom の一方向のみを構成する必要があります。 または Wcf-oracledb 受信ポート。</span><span class="sxs-lookup"><span data-stu-id="733be-168">For inbound operations, like receiving notification messages, you must only configure a one-way WCF-Custom or WCF-OracleDB receive port.</span></span> <span data-ttu-id="733be-169">双方向受信ポートは受信操作のサポートされていません。</span><span class="sxs-lookup"><span data-stu-id="733be-169">Two-way receive ports are not supported for inbound operations.</span></span>  
  
6. <span data-ttu-id="733be-170">BizTalk アプリケーションを起動します。</span><span class="sxs-lookup"><span data-stu-id="733be-170">Start the BizTalk application.</span></span>  
  
   <span data-ttu-id="733be-171">このトピックでは、これらのタスクを実行する手順を説明します。</span><span class="sxs-lookup"><span data-stu-id="733be-171">This topic provides instructions to perform these tasks.</span></span>  
  
## <a name="generating-schema"></a><span data-ttu-id="733be-172">スキーマを生成します。</span><span class="sxs-lookup"><span data-stu-id="733be-172">Generating Schema</span></span>  
 <span data-ttu-id="733be-173">スキーマを生成する必要があります、**通知**操作を受信します。</span><span class="sxs-lookup"><span data-stu-id="733be-173">You must generate the schema for the **Notification** inbound operation.</span></span> <span data-ttu-id="733be-174">参照してください[Visual Studio での Oracle データベース操作のメタデータを取得](../../adapters-and-accelerators/adapter-oracle-database/get-metadata-for-oracle-database-operations-in-visual-studio.md)スキーマを生成する方法の詳細について。</span><span class="sxs-lookup"><span data-stu-id="733be-174">See [Retrieve metadata for Oracle Database operations in Visual Studio](../../adapters-and-accelerators/adapter-oracle-database/get-metadata-for-oracle-database-operations-in-visual-studio.md) for more information about how to generate the schema.</span></span> <span data-ttu-id="733be-175">スキーマを生成するときに、次のタスクを実行します。</span><span class="sxs-lookup"><span data-stu-id="733be-175">Perform the following tasks when generating the schema.</span></span> <span data-ttu-id="733be-176">デザイン時のバインドのプロパティを指定しない場合は、最初の手順をスキップします。</span><span class="sxs-lookup"><span data-stu-id="733be-176">Skip the first step if you do not want to specify the binding properties at design-time.</span></span>  
  
1.  <span data-ttu-id="733be-177">値を指定**InboundOperationType**、 **NotificationPort**、および**NotificationStatement**スキーマの生成中にプロパティをバインドします。</span><span class="sxs-lookup"><span data-stu-id="733be-177">Specify a value for **InboundOperationType**, **NotificationPort**, and **NotificationStatement** binding properties while generating the schema.</span></span> <span data-ttu-id="733be-178">このバインドのプロパティの詳細については、次を参照してください。[バインドのプロパティの操作](https://msdn.microsoft.com/library/dd788467.aspx)します。</span><span class="sxs-lookup"><span data-stu-id="733be-178">For more information about this binding property, see [Working with binding properties](https://msdn.microsoft.com/library/dd788467.aspx).</span></span> <span data-ttu-id="733be-179">バインドのプロパティを指定する方法については、次を参照してください。 [for Oracle Database バインド プロパティを構成する](../../adapters-and-accelerators/adapter-oracle-database/configure-the-binding-properties-for-oracle-database.md)します。</span><span class="sxs-lookup"><span data-stu-id="733be-179">For instructions on how to specify binding properties, see [Configure the binding properties for Oracle Database](../../adapters-and-accelerators/adapter-oracle-database/configure-the-binding-properties-for-oracle-database.md).</span></span>  
  
2.  <span data-ttu-id="733be-180">コントラクトの種類を選択します。**サービス (受信操作)** します。</span><span class="sxs-lookup"><span data-stu-id="733be-180">Select the contract type as **Service (Inbound operations)**.</span></span>  
  
3.  <span data-ttu-id="733be-181">スキーマの生成、**通知**操作。</span><span class="sxs-lookup"><span data-stu-id="733be-181">Generate schema for the **Notification** operation.</span></span>  
  
## <a name="defining-messages-and-message-types"></a><span data-ttu-id="733be-182">メッセージおよびメッセージの種類を定義します。</span><span class="sxs-lookup"><span data-stu-id="733be-182">Defining Messages and Message Types</span></span>  
 <span data-ttu-id="733be-183">以前に生成したスキーマには、オーケストレーション内のメッセージに必要な「型」について説明します。</span><span class="sxs-lookup"><span data-stu-id="733be-183">The schema that you generated earlier describes the "types" required for the messages in the orchestration.</span></span> <span data-ttu-id="733be-184">メッセージは、通常、対象の型が、対応するスキーマで定義されている、変数です。</span><span class="sxs-lookup"><span data-stu-id="733be-184">A message is typically a variable, the type for which is defined by the corresponding schema.</span></span> <span data-ttu-id="733be-185">スキーマが生成されるは、BizTalk プロジェクトのオーケストレーションからメッセージをリンクする必要があります。</span><span class="sxs-lookup"><span data-stu-id="733be-185">Once the schema is generated, you must link it to the messages from the Orchestration view of the BizTalk project.</span></span>  
  
 <span data-ttu-id="733be-186">このトピックでは、Oracle データベースから通知を受け取る 1 つのメッセージを作成する必要があります。</span><span class="sxs-lookup"><span data-stu-id="733be-186">For this topic, you must create one message to receive notifications from the Oracle database.</span></span>  
  
 <span data-ttu-id="733be-187">メッセージを作成し、スキーマにリンクするには、次の手順を実行します。</span><span class="sxs-lookup"><span data-stu-id="733be-187">Perform the following steps to create messages and link them to schema.</span></span>  
  
#### <a name="to-create-messages-and-link-to-schema"></a><span data-ttu-id="733be-188">メッセージを作成し、スキーマにリンクするには</span><span class="sxs-lookup"><span data-stu-id="733be-188">To create messages and link to schema</span></span>  
  
1.  <span data-ttu-id="733be-189">オーケストレーションを BizTalk プロジェクトに追加します。</span><span class="sxs-lookup"><span data-stu-id="733be-189">Add an orchestration to the BizTalk project.</span></span> <span data-ttu-id="733be-190">ソリューション エクスプ ローラーで、BizTalk プロジェクト名を右クリックして**追加**、 をクリックし、**新しい項目の**します。</span><span class="sxs-lookup"><span data-stu-id="733be-190">From the Solution Explorer, right-click the BizTalk project name, point to **Add**, and then click **New Item**.</span></span> <span data-ttu-id="733be-191">BizTalk オーケストレーションの名前を入力し、クリックして**追加**します。</span><span class="sxs-lookup"><span data-stu-id="733be-191">Type a name for the BizTalk orchestration and then click **Add**.</span></span>  
  
2.  <span data-ttu-id="733be-192">開いていない場合は、BizTalk プロジェクトのオーケストレーション ビュー ウィンドウを開きます。</span><span class="sxs-lookup"><span data-stu-id="733be-192">Open the orchestration view window of the BizTalk project, if it is not already open.</span></span> <span data-ttu-id="733be-193">をクリックして**ビュー**、 をポイント**その他の Windows**、順にクリックします**オーケストレーション**します。</span><span class="sxs-lookup"><span data-stu-id="733be-193">Click **View**, point to **Other Windows**, and then click **Orchestration View**.</span></span>  
  
3.  <span data-ttu-id="733be-194">**オーケストレーション**、右クリック**メッセージ**、順にクリックします**新しいメッセージ**します。</span><span class="sxs-lookup"><span data-stu-id="733be-194">In the **Orchestration View**, right-click **Messages**, and then click **New Message**.</span></span>  
  
4.  <span data-ttu-id="733be-195">新しく作成されたメッセージを右クリックし、**プロパティ ウィンドウ**します。</span><span class="sxs-lookup"><span data-stu-id="733be-195">Right-click the newly created message, and then select **Properties Window**.</span></span>  
  
5.  <span data-ttu-id="733be-196">**プロパティ**ウィンドウ **[message_1]** 次の操作を行います。</span><span class="sxs-lookup"><span data-stu-id="733be-196">In the **Properties** pane for **Message_1**, do the following:</span></span>  
  
    |<span data-ttu-id="733be-197">プロパティ</span><span class="sxs-lookup"><span data-stu-id="733be-197">Use this</span></span>|<span data-ttu-id="733be-198">目的</span><span class="sxs-lookup"><span data-stu-id="733be-198">To do this</span></span>|  
    |--------------|----------------|  
    |<span data-ttu-id="733be-199">[Identifier]</span><span class="sxs-lookup"><span data-stu-id="733be-199">Identifier</span></span>|<span data-ttu-id="733be-200">「`NotifyReceive`.</span><span class="sxs-lookup"><span data-stu-id="733be-200">Type `NotifyReceive`.</span></span>|  
    |<span data-ttu-id="733be-201">メッセージ型</span><span class="sxs-lookup"><span data-stu-id="733be-201">Message Type</span></span>|<span data-ttu-id="733be-202">ドロップダウン リストから展開**スキーマ**、選び*Process_Notification.OracleDBBinding.Notification*ここで、 *Process_Notification*の名前を指定します、BizTalk プロジェクトです。</span><span class="sxs-lookup"><span data-stu-id="733be-202">From the drop-down list, expand **Schemas**, and select *Process_Notification.OracleDBBinding.Notification*, where *Process_Notification* is the name of your BizTalk project.</span></span> <span data-ttu-id="733be-203">*OracleDBBinding*に対して生成されたスキーマには、**通知**操作。</span><span class="sxs-lookup"><span data-stu-id="733be-203">*OracleDBBinding* is the schema generated for the **Notification** operation.</span></span>|  
  
## <a name="setting-up-the-orchestration"></a><span data-ttu-id="733be-204">オーケストレーションのセットアップ</span><span class="sxs-lookup"><span data-stu-id="733be-204">Setting up the Orchestration</span></span>  
 <span data-ttu-id="733be-205">使用する BizTalk オーケストレーションを作成する必要があります[!INCLUDE[btsBizTalkServerNoVersion](../../includes/btsbiztalkservernoversion-md.md)]Oracle データベースから通知メッセージを受信しから受信した通知の種類に基づいてタスクを実行するためです。</span><span class="sxs-lookup"><span data-stu-id="733be-205">You must create a BizTalk orchestration to use [!INCLUDE[btsBizTalkServerNoVersion](../../includes/btsbiztalkservernoversion-md.md)] for receiving notification messages from the Oracle database and then performing tasks based on the type of notification received.</span></span> <span data-ttu-id="733be-206">このオーケストレーションでの指定した SELECT ステートメントに基づいて、通知メッセージを受信、 **NotificationStatement**プロパティをバインドします。</span><span class="sxs-lookup"><span data-stu-id="733be-206">In this orchestration, the adapter receives the notification message based on the SELECT statement specified for the **NotificationStatement** binding property.</span></span> <span data-ttu-id="733be-207">式図形内で指定された xpath クエリと、変数に通知の種類を抽出**NotificationType**します。</span><span class="sxs-lookup"><span data-stu-id="733be-207">The xpath query specified within the Expression shape extracts the type of notification into a variable, say **NotificationType**.</span></span> <span data-ttu-id="733be-208">判断図形は、この変数に値を使用して、受信した通知の種類を決定しては後続の操作を実行する適切な「パス」を受け取ります。</span><span class="sxs-lookup"><span data-stu-id="733be-208">The Decide shape uses the value in this variable to decide on the kind of notification received and takes the appropriate “path” to perform subsequent operations.</span></span> <span data-ttu-id="733be-209">前述の前のセクションで、オーケストレーションは受信した通知メッセージの種類に基づいて、次の操作を実行します。</span><span class="sxs-lookup"><span data-stu-id="733be-209">As mentioned in the preceding section, the orchestration will perform the following operations based on the kind of notification message received.</span></span>  
  
- <span data-ttu-id="733be-210">通知メッセージを挿入または更新操作の場合は、アダプターのクライアントは、メッセージを C:\TestLocation\UpsertNotification フォルダーにコピーします。</span><span class="sxs-lookup"><span data-stu-id="733be-210">If the notification message is for an Insert or Update operation, the adapter client copies the message to C:\TestLocation\UpsertNotification folder.</span></span>  
  
- <span data-ttu-id="733be-211">通知メッセージが、他の操作の場合は、削除など、アダプター クライアントがメッセージを C:\TestLocation\OtherNotificaiton フォルダーにコピーします。</span><span class="sxs-lookup"><span data-stu-id="733be-211">If the notification message is for any other operation, for example Delete, the adapter client copies the message to C:\TestLocation\OtherNotificaiton folder.</span></span>  
  
  <span data-ttu-id="733be-212">そのため、オーケストレーションは、次に含める必要があります。</span><span class="sxs-lookup"><span data-stu-id="733be-212">So, your orchestration must contain the following:</span></span>  
  
- <span data-ttu-id="733be-213">一方向の受信の通知メッセージを受信するポート。</span><span class="sxs-lookup"><span data-stu-id="733be-213">A one-way receive port to receive notification messages.</span></span>  
  
- <span data-ttu-id="733be-214">受信した通知の種類を抽出する xpath クエリを含む式図形。</span><span class="sxs-lookup"><span data-stu-id="733be-214">An Expression shape that contains an xpath query to extract the kind of notification received.</span></span>  
  
- <span data-ttu-id="733be-215">オーケストレーションに判断ブロックを含めるの判断図形。</span><span class="sxs-lookup"><span data-stu-id="733be-215">A Decide shape to include a decision block in the orchestration.</span></span> <span data-ttu-id="733be-216">この判断ブロックでは、アプリケーションは、受信した通知メッセージを実行する後続の操作のベースを決定します。</span><span class="sxs-lookup"><span data-stu-id="733be-216">In this decision block, the application decides on what subsequent operations to perform based on the notification message received.</span></span>  
  
- <span data-ttu-id="733be-217">最後に、通知メッセージを受信するポートは 2 つの一方向の送信します。</span><span class="sxs-lookup"><span data-stu-id="733be-217">Two one-way send ports that finally receive the notification messages.</span></span>  
  
- <span data-ttu-id="733be-218">図形が表示されます。</span><span class="sxs-lookup"><span data-stu-id="733be-218">Receive shape.</span></span>  
  
  <span data-ttu-id="733be-219">サンプル オーケストレーションでは、次の項目に似ています。</span><span class="sxs-lookup"><span data-stu-id="733be-219">A sample orchestration resembles the following.</span></span>  
  
  <span data-ttu-id="733be-220">![Post を実行するオーケストレーション&#45;通知タスク](../../adapters-and-accelerators/adapter-oracle-database/media/40c637ea-dbec-47a8-b53b-58d6820093b4.gif "40c637ea-dbec-47a8-b53b-58d6820093b4")</span><span class="sxs-lookup"><span data-stu-id="733be-220">![Orchestration to perform post&#45;notification task](../../adapters-and-accelerators/adapter-oracle-database/media/40c637ea-dbec-47a8-b53b-58d6820093b4.gif "40c637ea-dbec-47a8-b53b-58d6820093b4")</span></span>  
  
### <a name="adding-message-shapes"></a><span data-ttu-id="733be-221">メッセージの構築図形を追加します。</span><span class="sxs-lookup"><span data-stu-id="733be-221">Adding Message Shapes</span></span>  
 <span data-ttu-id="733be-222">メッセージの構築図形のごとに、次のプロパティを指定することを確認します。</span><span class="sxs-lookup"><span data-stu-id="733be-222">Make sure you specify the following properties for each of the message shapes.</span></span> <span data-ttu-id="733be-223">図形の列に示した名前は、単に説明したオーケストレーションに表示されるメッセージの構築図形の名前です。</span><span class="sxs-lookup"><span data-stu-id="733be-223">The names listed in the Shape column are the names of the message shapes as displayed in the just-mentioned orchestration.</span></span>  
  
|<span data-ttu-id="733be-224">図形</span><span class="sxs-lookup"><span data-stu-id="733be-224">Shape</span></span>|<span data-ttu-id="733be-225">図形の種類</span><span class="sxs-lookup"><span data-stu-id="733be-225">Shape Type</span></span>|<span data-ttu-id="733be-226">[プロパティ]</span><span class="sxs-lookup"><span data-stu-id="733be-226">Properties</span></span>|  
|-----------|----------------|----------------|  
|<span data-ttu-id="733be-227">ReceiveNotification</span><span class="sxs-lookup"><span data-stu-id="733be-227">ReceiveNotification</span></span>|<span data-ttu-id="733be-228">Receive</span><span class="sxs-lookup"><span data-stu-id="733be-228">Receive</span></span>|<span data-ttu-id="733be-229">-設定**名前**に*ReceiveNotification*</span><span class="sxs-lookup"><span data-stu-id="733be-229">- Set **Name** to *ReceiveNotification*</span></span><br /><br /> <span data-ttu-id="733be-230">-設定**アクティブ**に*は True。*</span><span class="sxs-lookup"><span data-stu-id="733be-230">- Set **Activate** to *True*</span></span>|  
  
### <a name="adding-an-expression-shape"></a><span data-ttu-id="733be-231">式図形を追加します。</span><span class="sxs-lookup"><span data-stu-id="733be-231">Adding an Expression Shape</span></span>  
 <span data-ttu-id="733be-232">オーケストレーションの式図形を含むの目的に受信した通知メッセージの種類を抽出する xpath クエリです。</span><span class="sxs-lookup"><span data-stu-id="733be-232">The purpose of including an Expression shape in the orchestration is to have an xpath query to extract the kind of notification message received.</span></span> <span data-ttu-id="733be-233">Xpath クエリを作成する前に、通知メッセージの形式について見てみましょう。</span><span class="sxs-lookup"><span data-stu-id="733be-233">Before creating an xpath query, let us look at the format of a notification message.</span></span> <span data-ttu-id="733be-234">一般的な通知メッセージには、次のようになります。</span><span class="sxs-lookup"><span data-stu-id="733be-234">A typical notification message resembles the following:</span></span>  
  
```  
<?xml version="1.0" encoding="utf-8" ?>   
<Notification xmlns="http://Microsoft.LobServices.OracleDB/2007/03/Notification/">  
  <Details>  
    <NotificationDetails>  
      <ResourceName>SCOTT.ACCOUNTACTIVITY</ResourceName>   
      <Info>1</Info>   
      <QueryId>0</QueryId>   
    </NotificationDetails>  
  </Details>  
  <Info>Insert</Info>   
  <ResourceNames>  
    <string xmlns="http://schemas.microsoft.com/2003/10/Serialization/Arrays">SCOTT.ACCOUNTACTIVITY</string>   
  </ResourceNames>  
  <Source>Data</Source>   
  <Type>Change</Type>   
</Notification>  
```  
  
 <span data-ttu-id="733be-235">通知の種類に関する情報は内で使用できるように、`<info>`親内のタグ`<Notification>`タグ。</span><span class="sxs-lookup"><span data-stu-id="733be-235">As you see, the information about the type of the notification is available within the `<info>` tag, within the parent `<Notification>` tag.</span></span> <span data-ttu-id="733be-236">一部として、この式図形の操作を行います。</span><span class="sxs-lookup"><span data-stu-id="733be-236">So, as part of this expression shape you must:</span></span>  
  
-   <span data-ttu-id="733be-237">内の値を格納する変数を作成、`<Info>`タグ付けし、その型 System.String に設定します。</span><span class="sxs-lookup"><span data-stu-id="733be-237">Create a variable that contains the value within the `<Info>` tag and set its type to System.String.</span></span> <span data-ttu-id="733be-238">変数の作成方法の詳細については、次を参照してください。[オーケストレーションで変数を使用して](../../core/using-variables-in-orchestrations.md)します。</span><span class="sxs-lookup"><span data-stu-id="733be-238">For more information about creating variables, see [Using Variables in Orchestrations](../../core/using-variables-in-orchestrations.md).</span></span>  
  
     <span data-ttu-id="733be-239">このトピックでは、名前を変数として**NotificationType**します。</span><span class="sxs-lookup"><span data-stu-id="733be-239">For this topic, name the variable as **NotificationType**.</span></span>  
  
-   <span data-ttu-id="733be-240">値を抽出する xpath クエリを作成、\<情報\>タグ。</span><span class="sxs-lookup"><span data-stu-id="733be-240">Create an xpath query to extract the value from the \<Info\> tag.</span></span> <span data-ttu-id="733be-241">Xpath クエリは、次のようになります。</span><span class="sxs-lookup"><span data-stu-id="733be-241">The xpath query will resemble the following:</span></span>  
  
    ```  
    NotificationType = xpath(NotifyReceive,"string(/*[local-name()='Notification']/*[local-name()='Info']/text())");  
    ```  
  
     <span data-ttu-id="733be-242">この xpath クエリで**NotifyReceive**通知メッセージの受信用に作成したメッセージです。</span><span class="sxs-lookup"><span data-stu-id="733be-242">In this xpath query, **NotifyReceive** is the message you created for receiving notification messages.</span></span> <span data-ttu-id="733be-243">内の抜粋、`string`関数では、クエリ内の値を抽出する必要があることを示します、`<Info>`内では、さらに、タグ、`<Notification>`タグ。</span><span class="sxs-lookup"><span data-stu-id="733be-243">The excerpt within the `string` function indicates that the query must extract the value within the `<Info>` tag, which in turn is within the `<Notification>` tag.</span></span> <span data-ttu-id="733be-244">クエリによって抽出された値が最後に、割り当てられた、 **NotificaitonType**変数。</span><span class="sxs-lookup"><span data-stu-id="733be-244">Finally, the value extracted by the query is assigned to the **NotificaitonType** variable.</span></span>  
  
### <a name="adding-a-decide-shape"></a><span data-ttu-id="733be-245">判断図形を追加します。</span><span class="sxs-lookup"><span data-stu-id="733be-245">Adding a Decide Shape</span></span>  
 <span data-ttu-id="733be-246">判断図形を追加する目的は、受信した通知メッセージの種類を実行する後続の操作のベースを決定するオーケストレーションに判断ブロックを含めるです。</span><span class="sxs-lookup"><span data-stu-id="733be-246">The purpose of adding a Decide shape is to include a decision block in the orchestration to decide what subsequent operations to perform based on the kind of notification message received.</span></span> <span data-ttu-id="733be-247">値に基づいて決定されます、 **NotificationType**変数。</span><span class="sxs-lookup"><span data-stu-id="733be-247">The decision is made on the basis of the value of the **NotificationType** variable.</span></span> <span data-ttu-id="733be-248">このトピックでは、オーケストレーションは、受信した通知メッセージの種類に基づいて決定を行います。</span><span class="sxs-lookup"><span data-stu-id="733be-248">In this topic, the orchestration makes a decision based on the kind of notification message received.</span></span> <span data-ttu-id="733be-249">そのため、ルール図形の条件はよう指定します。</span><span class="sxs-lookup"><span data-stu-id="733be-249">So, the condition in the Rule shape is specified as follows:</span></span>  
  
```  
NotificationType.Equals("Insert") | NotificationType.Equals("Update")  
```  
  
 <span data-ttu-id="733be-250">この条件はいる場合の値を提案**NotificaitonType**変数が挿入または更新には、オーケストレーションが 1 つの一連のタスクを実行します。</span><span class="sxs-lookup"><span data-stu-id="733be-250">This condition suggests that if the value for **NotificaitonType** variable is Insert or Update, the orchestration will perform one set of tasks.</span></span> <span data-ttu-id="733be-251">場合の値**NotificationType**変数は、まず、オーケストレーションはその他の一連のタスクを実行します。</span><span class="sxs-lookup"><span data-stu-id="733be-251">If the value of **NotificationType** variable is anything else, the orchestration will perform other set of tasks.</span></span>  
  
 <span data-ttu-id="733be-252">前述の前のセクションで、シンプルなアプローチを示すために、オーケストレーションはメッセージにコピー通知メッセージの種類に基づいて別のフォルダー。</span><span class="sxs-lookup"><span data-stu-id="733be-252">As mentioned in the preceding sections, to demonstrate a simple approach, the orchestration will copy messages to different folders based on the notification message type.</span></span> <span data-ttu-id="733be-253">ルール内で Else ブロックでは、別のポートにメッセージを送信する送信図形を追加する必要があります。</span><span class="sxs-lookup"><span data-stu-id="733be-253">So, within the Rule and Else blocks, you must add Send shapes to send the messages to different ports.</span></span> <span data-ttu-id="733be-254">このトピックでは、名前としてルール ブロックに送信図形**SendUpsertNotification**として Else ブロックに送信図形と**SendOtherNotification**します。</span><span class="sxs-lookup"><span data-stu-id="733be-254">For this topic, name the Send shape in the Rule block as **SendUpsertNotification** and the Send shape in the Else block as **SendOtherNotification**.</span></span>  
  
### <a name="adding-ports"></a><span data-ttu-id="733be-255">ポートの追加</span><span class="sxs-lookup"><span data-stu-id="733be-255">Adding Ports</span></span>  
 <span data-ttu-id="733be-256">オーケストレーションに、次の論理ポートを追加する必要がありますようになりました。</span><span class="sxs-lookup"><span data-stu-id="733be-256">You must now add the following logical ports to the orchestration:</span></span>  
  
- <span data-ttu-id="733be-257">一方向受信ポート、Oracle データベースから通知メッセージを受信します。</span><span class="sxs-lookup"><span data-stu-id="733be-257">One-way receive port to receive notification messages from the Oracle database.</span></span>  
  
- <span data-ttu-id="733be-258">特定のフォルダーに挿入または更新操作の通知メッセージを送信する一方向の送信ポート。</span><span class="sxs-lookup"><span data-stu-id="733be-258">One-way send port to send notification messages for Insert and Update operations to a specific folder.</span></span>  
  
- <span data-ttu-id="733be-259">特定のフォルダーに他の操作の通知メッセージを送信する一方向の送信ポート。</span><span class="sxs-lookup"><span data-stu-id="733be-259">One-way send port to send notification messages for any other operations to a specific folder.</span></span>  
  
  <span data-ttu-id="733be-260">論理ポートごとに、次のプロパティを指定することを確認します。</span><span class="sxs-lookup"><span data-stu-id="733be-260">Make sure you specify the following properties for each of the logical ports.</span></span> <span data-ttu-id="733be-261">ポート列に示した名前は、オーケストレーションで表示されているポートの名前です。</span><span class="sxs-lookup"><span data-stu-id="733be-261">The names listed in the Port column are the names of the ports as displayed in the orchestration.</span></span>  
  
|<span data-ttu-id="733be-262">Port</span><span class="sxs-lookup"><span data-stu-id="733be-262">Port</span></span>|<span data-ttu-id="733be-263">[プロパティ]</span><span class="sxs-lookup"><span data-stu-id="733be-263">Properties</span></span>|  
|----------|----------------|  
|<span data-ttu-id="733be-264">OracleNotifyPort</span><span class="sxs-lookup"><span data-stu-id="733be-264">OracleNotifyPort</span></span>|<span data-ttu-id="733be-265">-設定**識別子**に*OracleNotifyPort*</span><span class="sxs-lookup"><span data-stu-id="733be-265">- Set **Identifier** to *OracleNotifyPort*</span></span><br /><br /> <span data-ttu-id="733be-266">-設定**型**に*OracleNotifyPortType*</span><span class="sxs-lookup"><span data-stu-id="733be-266">- Set **Type** to *OracleNotifyPortType*</span></span><br /><br /> <span data-ttu-id="733be-267">-設定**通信パターン**に*一方向*</span><span class="sxs-lookup"><span data-stu-id="733be-267">- Set **Communication Pattern** to *One-Way*</span></span><br /><br /> <span data-ttu-id="733be-268">-設定**通信方向**に*受信*</span><span class="sxs-lookup"><span data-stu-id="733be-268">- Set **Communication Direction** to *Receive*</span></span>|  
|<span data-ttu-id="733be-269">NotificationUpsertPort</span><span class="sxs-lookup"><span data-stu-id="733be-269">NotificationUpsertPort</span></span>|<span data-ttu-id="733be-270">-設定**識別子**に*NotificationUpsertPort*</span><span class="sxs-lookup"><span data-stu-id="733be-270">- Set **Identifier** to *NotificationUpsertPort*</span></span><br /><br /> <span data-ttu-id="733be-271">-設定**型**に*NotificationUpsertPortType*</span><span class="sxs-lookup"><span data-stu-id="733be-271">- Set **Type** to *NotificationUpsertPortType*</span></span><br /><br /> <span data-ttu-id="733be-272">-設定**通信パターン**に*一方向*</span><span class="sxs-lookup"><span data-stu-id="733be-272">- Set **Communication Pattern** to *One-Way*</span></span><br /><br /> <span data-ttu-id="733be-273">-設定**通信方向**に*送信*</span><span class="sxs-lookup"><span data-stu-id="733be-273">- Set **Communication Direction** to *Send*</span></span>|  
|<span data-ttu-id="733be-274">OtherNotificationPort</span><span class="sxs-lookup"><span data-stu-id="733be-274">OtherNotificationPort</span></span>|<span data-ttu-id="733be-275">-設定**識別子**に*OtherNotificationPort*</span><span class="sxs-lookup"><span data-stu-id="733be-275">- Set **Identifier** to *OtherNotificationPort*</span></span><br /><br /> <span data-ttu-id="733be-276">-設定**型**に*OtherNotificationPortType*</span><span class="sxs-lookup"><span data-stu-id="733be-276">- Set **Type** to *OtherNotificationPortType*</span></span><br /><br /> <span data-ttu-id="733be-277">-設定**通信パターン**に*一方向*</span><span class="sxs-lookup"><span data-stu-id="733be-277">- Set **Communication Pattern** to *One-Way*</span></span><br /><br /> <span data-ttu-id="733be-278">-設定**通信方向**に*送信*</span><span class="sxs-lookup"><span data-stu-id="733be-278">- Set **Communication Direction** to *Send*</span></span>|  
  
### <a name="specify-messages-for-action-shapes-and-connect-to-ports"></a><span data-ttu-id="733be-279">アクション図形のメッセージを指定し、ポートに接続</span><span class="sxs-lookup"><span data-stu-id="733be-279">Specify Messages for Action Shapes and Connect to Ports</span></span>  
 <span data-ttu-id="733be-280">次の表では、プロパティとアクション図形のメッセージを指定して、メッセージ ポートにリンクを設定する必要があります、値を指定します。</span><span class="sxs-lookup"><span data-stu-id="733be-280">The following table specifies the properties and their values that you should set to specify messages for action shapes and to link the messages to the ports.</span></span> <span data-ttu-id="733be-281">図形の列に示した名前は、前に説明したオーケストレーションに表示されるメッセージの構築図形の名前です。</span><span class="sxs-lookup"><span data-stu-id="733be-281">The names listed in the Shape column are the names of the message shapes as displayed in the orchestration mentioned earlier.</span></span>  
  
|<span data-ttu-id="733be-282">図形</span><span class="sxs-lookup"><span data-stu-id="733be-282">Shape</span></span>|<span data-ttu-id="733be-283">[プロパティ]</span><span class="sxs-lookup"><span data-stu-id="733be-283">Properties</span></span>|  
|-----------|----------------|  
|<span data-ttu-id="733be-284">ReceiveNotification</span><span class="sxs-lookup"><span data-stu-id="733be-284">ReceiveNotification</span></span>|<span data-ttu-id="733be-285">-設定**メッセージ**に*NotifyReceive*</span><span class="sxs-lookup"><span data-stu-id="733be-285">- Set **Message** to *NotifyReceive*</span></span><br /><br /> <span data-ttu-id="733be-286">-設定**操作**に*OracleNotifyPort.Notify.Request*</span><span class="sxs-lookup"><span data-stu-id="733be-286">- Set **Operation** to *OracleNotifyPort.Notify.Request*</span></span>|  
|<span data-ttu-id="733be-287">SendUpsertNotification</span><span class="sxs-lookup"><span data-stu-id="733be-287">SendUpsertNotification</span></span>|<span data-ttu-id="733be-288">-設定**メッセージ**に*NotifyReceive*</span><span class="sxs-lookup"><span data-stu-id="733be-288">- Set **Message** to *NotifyReceive*</span></span><br /><br /> <span data-ttu-id="733be-289">-設定**操作**に*NotificationUpsertPort.Upsert.Request*</span><span class="sxs-lookup"><span data-stu-id="733be-289">- Set **Operation** to *NotificationUpsertPort.Upsert.Request*</span></span>|  
|<span data-ttu-id="733be-290">SendOtherNotification</span><span class="sxs-lookup"><span data-stu-id="733be-290">SendOtherNotification</span></span>|<span data-ttu-id="733be-291">-設定**メッセージ**に*を選択します*</span><span class="sxs-lookup"><span data-stu-id="733be-291">- Set **Message** to *Select*</span></span><br /><br /> <span data-ttu-id="733be-292">-設定**操作**に*OtherNotificationPort.Other.Request*</span><span class="sxs-lookup"><span data-stu-id="733be-292">- Set **Operation** to *OtherNotificationPort.Other.Request*</span></span>|  
  
 <span data-ttu-id="733be-293">これらのプロパティを指定したら、メッセージの構築図形とポートが接続されているし、オーケストレーションが完了します。</span><span class="sxs-lookup"><span data-stu-id="733be-293">After you have specified these properties, the message shapes and ports are connected and your orchestration is complete.</span></span>  
  
 <span data-ttu-id="733be-294">ここで、BizTalk ソリューションをビルドしに配置する必要があります、[!INCLUDE[btsBizTalkServerNoVersion](../../includes/btsbiztalkservernoversion-md.md)]します。</span><span class="sxs-lookup"><span data-stu-id="733be-294">You must now build the BizTalk solution and deploy it to a [!INCLUDE[btsBizTalkServerNoVersion](../../includes/btsbiztalkservernoversion-md.md)].</span></span> <span data-ttu-id="733be-295">詳細については、次を参照してください。[を実行しているオーケストレーションのビルドと](../../core/building-and-running-orchestrations.md)します。</span><span class="sxs-lookup"><span data-stu-id="733be-295">For more information, see [Building and Running Orchestrations](../../core/building-and-running-orchestrations.md).</span></span>  
  
## <a name="configuring-the-biztalk-application"></a><span data-ttu-id="733be-296">BizTalk アプリケーションを構成します。</span><span class="sxs-lookup"><span data-stu-id="733be-296">Configuring the BizTalk Application</span></span>  
 <span data-ttu-id="733be-297">先ほど作成したオーケストレーションが 下にある BizTalk プロジェクトを配置した後、**オーケストレーション**ペインで、[!INCLUDE[btsBizTalkServerNoVersion](../../includes/btsbiztalkservernoversion-md.md)]管理コンソール。</span><span class="sxs-lookup"><span data-stu-id="733be-297">After you have deployed the BizTalk project, the orchestration you created earlier is listed under the **Orchestrations** pane in the [!INCLUDE[btsBizTalkServerNoVersion](../../includes/btsbiztalkservernoversion-md.md)] Administration console.</span></span> <span data-ttu-id="733be-298">使用する必要があります、[!INCLUDE[btsBizTalkServerNoVersion](../../includes/btsbiztalkservernoversion-md.md)]管理コンソールにアプリケーションを構成します。</span><span class="sxs-lookup"><span data-stu-id="733be-298">You must use the [!INCLUDE[btsBizTalkServerNoVersion](../../includes/btsbiztalkservernoversion-md.md)] Administration console to configure the application.</span></span> <span data-ttu-id="733be-299">チュートリアルについては、次を参照してください。[チュートリアル: 基本的な BizTalk アプリケーションの展開](Walkthrough:%20Deploying%20a%20Basic%20BizTalk%20Application.md)します。</span><span class="sxs-lookup"><span data-stu-id="733be-299">For a walkthrough, see [Walkthrough: Deploying a Basic BizTalk Application](Walkthrough:%20Deploying%20a%20Basic%20BizTalk%20Application.md).</span></span>
  
 <span data-ttu-id="733be-300">アプリケーションを構成する必要があります。</span><span class="sxs-lookup"><span data-stu-id="733be-300">Configuring an application involves:</span></span>  
  
- <span data-ttu-id="733be-301">アプリケーションのホストを選択します。</span><span class="sxs-lookup"><span data-stu-id="733be-301">Selecting a host for the application.</span></span>  
  
- <span data-ttu-id="733be-302">物理ポートにオーケストレーションで作成したポートのマッピング、[!INCLUDE[btsBizTalkServerNoVersion](../../includes/btsbiztalkservernoversion-md.md)]管理コンソール。</span><span class="sxs-lookup"><span data-stu-id="733be-302">Mapping the ports that you created in your orchestration to physical ports in the [!INCLUDE[btsBizTalkServerNoVersion](../../includes/btsbiztalkservernoversion-md.md)] Administration console.</span></span> <span data-ttu-id="733be-303">このオーケストレーションの次の操作を行う必要があります。</span><span class="sxs-lookup"><span data-stu-id="733be-303">For this orchestration you must:</span></span>  
  
  - <span data-ttu-id="733be-304">Wcf-oracledb 一方向受信ポートまたは物理 Wcf-custom を定義します。</span><span class="sxs-lookup"><span data-stu-id="733be-304">Define a physical WCF-Custom or WCF-OracleDB one-way receive port.</span></span> <span data-ttu-id="733be-305">このポートは、Oracle データベースから通知をリッスンします。</span><span class="sxs-lookup"><span data-stu-id="733be-305">This port listens for notifications coming from the Oracle database.</span></span> <span data-ttu-id="733be-306">受信ポートを作成する方法についてを参照してください[、Oracle データベース アダプターを物理ポートのバインドを手動で構成](../../adapters-and-accelerators/adapter-oracle-database/manually-configure-a-physical-port-binding-to-the-oracle-database-adapter.md)します。</span><span class="sxs-lookup"><span data-stu-id="733be-306">For information about how to create receive ports, see [Manually configure a physical port binding to the Oracle Database Adapter](../../adapters-and-accelerators/adapter-oracle-database/manually-configure-a-physical-port-binding-to-the-oracle-database-adapter.md).</span></span> <span data-ttu-id="733be-307">受信ポートのバインドのプロパティを指定することを確認します。</span><span class="sxs-lookup"><span data-stu-id="733be-307">Make sure you specify the following binding properties for the receive port.</span></span>  
  
    > [!IMPORTANT]
    >  <span data-ttu-id="733be-308">デザイン時のバインドのプロパティが指定されている場合は、この手順を実行する必要はありません。</span><span class="sxs-lookup"><span data-stu-id="733be-308">You do not need to perform this step if you specified the binding properties at design-time.</span></span> <span data-ttu-id="733be-309">このような場合は、WCF カスタムを作成または Wcf-oracledb によって作成されたバインド ファイルをインポートすることによって、必要なバインドのプロパティを設定すると、ポートの受信、[!INCLUDE[consumeadapterservshort](../../includes/consumeadapterservshort-md.md)]します。</span><span class="sxs-lookup"><span data-stu-id="733be-309">In such a case, you can create a WCF-custom or WCF-OracleDB receive port, with the required binding properties set, by importing the binding file created by the [!INCLUDE[consumeadapterservshort](../../includes/consumeadapterservshort-md.md)].</span></span> <span data-ttu-id="733be-310">詳細については、「ポートのバインド ファイル物理ポート バインドを使用して、構成する」を参照してください。</span><span class="sxs-lookup"><span data-stu-id="733be-310">For more information, see Configuring a Physical Port Binding Using a Port Binding File.</span></span>  
  
    |<span data-ttu-id="733be-311">プロパティのバインド</span><span class="sxs-lookup"><span data-stu-id="733be-311">Binding Property</span></span>|<span data-ttu-id="733be-312">値</span><span class="sxs-lookup"><span data-stu-id="733be-312">Value</span></span>|  
    |----------------------|-----------|  
    |<span data-ttu-id="733be-313">**InboundOperationType**</span><span class="sxs-lookup"><span data-stu-id="733be-313">**InboundOperationType**</span></span>|<span data-ttu-id="733be-314">これを設定**通知**します。</span><span class="sxs-lookup"><span data-stu-id="733be-314">Set this to **Notification**.</span></span>|  
    |<span data-ttu-id="733be-315">**NotificationPort**</span><span class="sxs-lookup"><span data-stu-id="733be-315">**NotificationPort**</span></span>|<span data-ttu-id="733be-316">Oracle データベースからのデータベース変更通知をリッスンする ODP.NET を開く必要があるポート番号を指定します。</span><span class="sxs-lookup"><span data-stu-id="733be-316">Specifies the port number that ODP.NET must open to listen for database change notification from Oracle database.</span></span> <span data-ttu-id="733be-317">これは、Windows ファイアウォールの例外リストに追加する必要があります、同じポート番号に設定します。</span><span class="sxs-lookup"><span data-stu-id="733be-317">Set this to the same port number that you must have added to the Windows Firewall exceptions list.</span></span> <span data-ttu-id="733be-318">Windows ファイアウォールの例外リストにポートを追加する方法については、次を参照してください。 [ http://go.microsoft.com/fwlink/?LinkID=196959](http://go.microsoft.com/fwlink/?LinkID=196959)します。</span><span class="sxs-lookup"><span data-stu-id="733be-318">For instructions on how to add ports to Windows Firewall exceptions list, see [http://go.microsoft.com/fwlink/?LinkID=196959](http://go.microsoft.com/fwlink/?LinkID=196959).</span></span><br /><br /> <span data-ttu-id="733be-319">**重要:** これを既定値は-1 に設定すると、通知メッセージを受信する Windows ファイアウォールを完全に無効にする必要があります。</span><span class="sxs-lookup"><span data-stu-id="733be-319">**Important:** If you set this to the default value of -1, you will have to completely disable Windows Firewall to receive notification messages.</span></span>|  
    |<span data-ttu-id="733be-320">**NotificationStatement**</span><span class="sxs-lookup"><span data-stu-id="733be-320">**NotificationStatement**</span></span>|<span data-ttu-id="733be-321">これを設定します。</span><span class="sxs-lookup"><span data-stu-id="733be-321">Set this to:</span></span><br /><br /> `SELECT TID,ACCOUNT,PROCESSED FROM SCOTT.ACCOUNTACTIVITY WHERE PROCESSED = ‘n’`<br /><br /> <span data-ttu-id="733be-322">**注:** スキーマ名とテーブル名を指定する必要があります。</span><span class="sxs-lookup"><span data-stu-id="733be-322">**Note:** You must specify the table name along with the schema name.</span></span> <span data-ttu-id="733be-323">たとえば、 `SCOTT.ACCOUNTACTIVITY`のようにします。</span><span class="sxs-lookup"><span data-stu-id="733be-323">For example, `SCOTT.ACCOUNTACTIVITY`.</span></span>|  
    |<span data-ttu-id="733be-324">**NotifyOnListenerStart**</span><span class="sxs-lookup"><span data-stu-id="733be-324">**NotifyOnListenerStart**</span></span>|<span data-ttu-id="733be-325">これを設定**True**します。</span><span class="sxs-lookup"><span data-stu-id="733be-325">Set this to **True**.</span></span>|  
  
     <span data-ttu-id="733be-326">異なるバインディング プロパティの詳細については、次を参照してください。[バインドのプロパティの操作](https://msdn.microsoft.com/library/dd788467.aspx)します。</span><span class="sxs-lookup"><span data-stu-id="733be-326">For more information about the different binding properties, see [Working with binding properties](https://msdn.microsoft.com/library/dd788467.aspx).</span></span>  
  
    > [!NOTE]
    >  <span data-ttu-id="733be-327">使用して受信操作の実行中に、トランザクション分離レベルとトランザクションのタイムアウトを構成することをお勧めします。、[!INCLUDE[adapteroracle_short](../../includes/adapteroracle-short-md.md)]します。</span><span class="sxs-lookup"><span data-stu-id="733be-327">We recommend configuring the transaction isolation level and the transaction timeout while performing inbound operations using the [!INCLUDE[adapteroracle_short](../../includes/adapteroracle-short-md.md)].</span></span> <span data-ttu-id="733be-328">ように、サービスを追加することで、Wcf-custom または Wcf-oracledb を構成するときに動作の受信ポートを行うことができます。</span><span class="sxs-lookup"><span data-stu-id="733be-328">You can do so by adding the service behavior while configuring the WCF-Custom or WCF-OracleDB receive port.</span></span> <span data-ttu-id="733be-329">サービスの動作を追加する方法については、次を参照してください。[トランザクション分離レベルの構成と Oracle データベースとトランザクション タイムアウト](../../adapters-and-accelerators/adapter-oracle-database/configure-transaction-isolation-level-and-transaction-timeout-with-oracle-db.md)します。</span><span class="sxs-lookup"><span data-stu-id="733be-329">For instruction on how to add the service behavior, see [Configure Transaction Isolation Level and Transaction Timeout with Oracle Database](../../adapters-and-accelerators/adapter-oracle-database/configure-transaction-isolation-level-and-transaction-timeout-with-oracle-db.md).</span></span>  
  
  - <span data-ttu-id="733be-330">ハード ディスクと、対応するファイル ポートを BizTalk オーケストレーション Insert および Update 操作用の Oracle データベースから通知メッセージをドロップできる場所での場所を定義します。</span><span class="sxs-lookup"><span data-stu-id="733be-330">Define a location on the hard disk and a corresponding file port where the BizTalk orchestration will drop the notification messages from the Oracle database for Insert and Update operations.</span></span> <span data-ttu-id="733be-331">C:\TestLocation\UpsertNotification フォルダーへの通知メッセージを削除するには、このポートを構成します。</span><span class="sxs-lookup"><span data-stu-id="733be-331">Configure this port to drop notification messages to the folder C:\TestLocation\UpsertNotification.</span></span>  
  
  - <span data-ttu-id="733be-332">ハード ディスクと、対応するファイル ポートを BizTalk オーケストレーションの他のすべての操作用の Oracle データベースから通知メッセージをドロップできる場所での場所を定義します。</span><span class="sxs-lookup"><span data-stu-id="733be-332">Define a location on the hard disk and a corresponding file port where the BizTalk orchestration will drop the notification messages from the Oracle database for all other operations.</span></span> <span data-ttu-id="733be-333">C:\TestLocation\OtherNotification フォルダーへの通知メッセージを削除するには、このポートを構成します。</span><span class="sxs-lookup"><span data-stu-id="733be-333">Configure this port to drop notification messages to the folder C:\TestLocation\OtherNotification.</span></span>  
  
## <a name="starting-the-application"></a><span data-ttu-id="733be-334">アプリケーションの起動</span><span class="sxs-lookup"><span data-stu-id="733be-334">Starting the Application</span></span>  
 <span data-ttu-id="733be-335">Oracle データベースから通知メッセージを受信するため、後続の Select および Update 操作を実行するために、BizTalk アプリケーションを開始する必要があります。</span><span class="sxs-lookup"><span data-stu-id="733be-335">You must start the BizTalk application for receiving notification messages from the Oracle database and for performing the subsequent Select and Update operations.</span></span> <span data-ttu-id="733be-336">BizTalk アプリケーションを開始する手順については、次を参照してください。[オーケストレーションを開始する方法](../../core/how-to-start-an-orchestration.md)します。</span><span class="sxs-lookup"><span data-stu-id="733be-336">For instructions on starting a BizTalk application, see [How to Start an Orchestration](../../core/how-to-start-an-orchestration.md).</span></span>  
  
 <span data-ttu-id="733be-337">この段階で、ことを確認します。</span><span class="sxs-lookup"><span data-stu-id="733be-337">At this stage, make sure:</span></span>  
  
-   <span data-ttu-id="733be-338">Wcf-custom または Wcf-oracledb 一方向の受信ポートで、データベースが実行されている Oracle から通知メッセージを受信します。</span><span class="sxs-lookup"><span data-stu-id="733be-338">The WCF-Custom or WCF-OracleDB one-way receive port, which receives the notification messages from the Oracle database is running.</span></span>  
  
-   <span data-ttu-id="733be-339">Oracle データベースからメッセージを受信、2 つファイル送信ポートが実行されています。</span><span class="sxs-lookup"><span data-stu-id="733be-339">The two FILE send ports, which receive messages from Oracle database, are running.</span></span>  
  
-   <span data-ttu-id="733be-340">操作の BizTalk オーケストレーションが実行されています。</span><span class="sxs-lookup"><span data-stu-id="733be-340">The BizTalk orchestration for the operation is running.</span></span>  
  
## <a name="executing-the-operation"></a><span data-ttu-id="733be-341">操作の実行</span><span class="sxs-lookup"><span data-stu-id="733be-341">Executing the Operation</span></span>  
 <span data-ttu-id="733be-342">BizTalk オーケストレーションを開始した後、次の一連のアクションが行われます。</span><span class="sxs-lookup"><span data-stu-id="733be-342">After you start the BizTalk orchestration, the following set of actions take place:</span></span>  
  
-   <span data-ttu-id="733be-343">**NotifyOnListenerStart**に設定されているプロパティのバインド**True**、次のメッセージが表示されます。</span><span class="sxs-lookup"><span data-stu-id="733be-343">Because the **NotifyOnListenerStart** binding property is set to **True**, you receive the following message:</span></span>  
  
    ```  
    <?xml version="1.0" encoding="utf-8" ?>   
    <Notification xmlns="http://Microsoft.LobServices.OracleDB/2007/03/Notification/">  
      <Info>ListenerStarted</Info>   
      <Source>OracleDBBinding</Source>   
      <Type>Startup</Type>   
    </Notification>  
    ```  
  
     <span data-ttu-id="733be-344">注意の値、`<Info>`タグは、"ListnerStarted"。</span><span class="sxs-lookup"><span data-stu-id="733be-344">Note that the value in the `<Info>` tag is “ListnerStarted”.</span></span> <span data-ttu-id="733be-345">そのため、このメッセージは、C:\TestLocation\OtherNotification フォルダーで受信されます。</span><span class="sxs-lookup"><span data-stu-id="733be-345">Hence, this message is received in C:\TestLocation\OtherNotification folder.</span></span>  
  
-   <span data-ttu-id="733be-346">ACCOUNTACTIVITY テーブルにレコードを挿入します。</span><span class="sxs-lookup"><span data-stu-id="733be-346">Insert a record in the ACCOUNTACTIVITY table.</span></span> <span data-ttu-id="733be-347">次のような通知メッセージが表示されます。</span><span class="sxs-lookup"><span data-stu-id="733be-347">You will receive a notification message resembling the following:</span></span>  
  
    ```  
    <?xml version="1.0" encoding="utf-8" ?>   
    <Notification xmlns="http://Microsoft.LobServices.OracleDB/2007/03/Notification/">  
      <Details>  
        <NotificationDetails>  
          <ResourceName>SCOTT.ACCOUNTACTIVITY</ResourceName>   
          <Info>1</Info>   
          <QueryId>0</QueryId>   
        </NotificationDetails>  
      </Details>  
      <Info>Insert</Info>   
      <ResourceNames>  
        <string xmlns="http://schemas.microsoft.com/2003/10/Serialization/Arrays">SCOTT.ACCOUNTACTIVITY</string>   
      </ResourceNames>  
      <Source>Data</Source>   
      <Type>Change</Type>   
    </Notification>  
    ```  
  
     <span data-ttu-id="733be-348">注意の値、`<Info>`タグは、"Insert"。</span><span class="sxs-lookup"><span data-stu-id="733be-348">Note that the value in the `<Info>` tag is “Insert”.</span></span> <span data-ttu-id="733be-349">そのため、このメッセージは、C:\TestLocation\UpsertNotification フォルダーで受信されます。</span><span class="sxs-lookup"><span data-stu-id="733be-349">Hence, this message is received in C:\TestLocation\UpsertNotification folder.</span></span>  
  
-   <span data-ttu-id="733be-350">ACCOUNTACTIVITY テーブル内のレコードを更新します。</span><span class="sxs-lookup"><span data-stu-id="733be-350">Update a record in the ACCOUNTACTIVITY table.</span></span> <span data-ttu-id="733be-351">次のような通知メッセージが表示されます。</span><span class="sxs-lookup"><span data-stu-id="733be-351">You will receive a notification message resembling the following:</span></span>  
  
    ```  
    <?xml version="1.0" encoding="utf-8" ?>   
    <Notification xmlns="http://Microsoft.LobServices.OracleDB/2007/03/Notification/">  
      <Details>  
        <NotificationDetails>  
          <ResourceName>SCOTT.ACCOUNTACTIVITY</ResourceName>   
          <Info>32</Info>   
          <QueryId>0</QueryId>   
        </NotificationDetails>  
      </Details>  
      <Info>Update</Info>   
      <ResourceNames>  
        <string xmlns="http://schemas.microsoft.com/2003/10/Serialization/Arrays">SCOTT.ACCOUNTACTIVITY</string>   
      </ResourceNames>  
      <Source>Data</Source>   
      <Type>Change</Type>   
    </Notification>  
    ```  
  
     <span data-ttu-id="733be-352">注意の値、`<Info>`タグは、「更新」します。</span><span class="sxs-lookup"><span data-stu-id="733be-352">Note that the value in the `<Info>` tag is “Update”.</span></span> <span data-ttu-id="733be-353">そのため、このメッセージは、C:\TestLocation\UpsertNotification フォルダーで受信されます。</span><span class="sxs-lookup"><span data-stu-id="733be-353">Hence, this message is received in C:\TestLocation\UpsertNotification folder.</span></span>  
  
-   <span data-ttu-id="733be-354">ACCOUNTACTIVITY テーブルからレコードを削除します。</span><span class="sxs-lookup"><span data-stu-id="733be-354">Delete a record from the ACCOUNTACTIVITY table.</span></span> <span data-ttu-id="733be-355">次のような通知メッセージが表示されます。</span><span class="sxs-lookup"><span data-stu-id="733be-355">You will receive a notification message resembling the following:</span></span>  
  
    ```  
    <?xml version="1.0" encoding="utf-8" ?>   
    <Notification xmlns="http://Microsoft.LobServices.OracleDB/2007/03/Notification/">  
      <Details>  
        <NotificationDetails>  
          <ResourceName>SCOTT.ACCOUNTACTIVITY</ResourceName>   
          <Info>16</Info>   
          <QueryId>0</QueryId>   
        </NotificationDetails>  
      </Details>  
      <Info>Delete</Info>   
      <ResourceNames>  
        <string xmlns="http://schemas.microsoft.com/2003/10/Serialization/Arrays">SCOTT.ACCOUNTACTIVITY</string>   
      </ResourceNames>  
      <Source>Data</Source>   
      <Type>Change</Type>   
    </Notification>  
    ```  
  
     <span data-ttu-id="733be-356">注意の値、`<Info>`タグは「削除」です。</span><span class="sxs-lookup"><span data-stu-id="733be-356">Note that the value in the `<Info>` tag is “Delete”.</span></span> <span data-ttu-id="733be-357">そのため、このメッセージは、C:\TestLocation\OtherNotification フォルダーで受信されます。</span><span class="sxs-lookup"><span data-stu-id="733be-357">Hence, this message is received in C:\TestLocation\OtherNotification folder.</span></span>  
  
## <a name="best-practices"></a><span data-ttu-id="733be-358">ベスト プラクティス</span><span class="sxs-lookup"><span data-stu-id="733be-358">Best Practices</span></span>  
 <span data-ttu-id="733be-359">展開し、BizTalk プロジェクトの構成後は、バインド ファイルと呼ばれる XML ファイル構成設定をエクスポートできます。</span><span class="sxs-lookup"><span data-stu-id="733be-359">After you have deployed and configured the BizTalk project, you can export configuration settings to an XML file called the binding file.</span></span> <span data-ttu-id="733be-360">バインド ファイルを生成した、送信ポートを作成し、同じオーケストレーション用のポートを受信する必要はありませんように構成設定、ファイルからインポートできます。</span><span class="sxs-lookup"><span data-stu-id="733be-360">Once you generate a binding file, you can import the configuration settings from the file, so that you do not need to create the send ports and receive ports for the same orchestration.</span></span> <span data-ttu-id="733be-361">バインド ファイルの詳細については、次を参照してください。 [Oracle データベース アダプターの再利用バインド](../../adapters-and-accelerators/adapter-oracle-database/reuse-oracle-database-adapter-bindings.md)します。</span><span class="sxs-lookup"><span data-stu-id="733be-361">For more information about binding files, see [Reuse Oracle Database Adapter bindings](../../adapters-and-accelerators/adapter-oracle-database/reuse-oracle-database-adapter-bindings.md).</span></span>  
  
## <a name="performing-complex-operations-after-receiving-notification-messages"></a><span data-ttu-id="733be-362">通知メッセージを受信した後、複雑な操作を実行します。</span><span class="sxs-lookup"><span data-stu-id="733be-362">Performing Complex Operations After Receiving Notification Messages</span></span>  
 <span data-ttu-id="733be-363">単純化して理解を深めるは、このトピックの「オーケストレーションはメッセージを通知の種類に基づいて異なるフォルダーにコピーします。</span><span class="sxs-lookup"><span data-stu-id="733be-363">For simplicity and better understanding, the orchestration in this topic copies messages to different folders based on the notification type.</span></span> <span data-ttu-id="733be-364">ただし、実際のシナリオより複雑な操作を実行する必要があります。</span><span class="sxs-lookup"><span data-stu-id="733be-364">However, in real-world scenarios you might want to perform more complex operations.</span></span> <span data-ttu-id="733be-365">このトピックとする操作を実行するためにビルドで指定された同じような手順を実行できます。</span><span class="sxs-lookup"><span data-stu-id="733be-365">You can perform similar procedures as provided in this topic and build on them to perform the operations you wish.</span></span> <span data-ttu-id="733be-366">たとえば、ACCOUNTACTIVITY テーブルで挿入操作の通知メッセージが発生した場合、別のテーブルのレコードを挿入するオーケストレーションを変更することができます。</span><span class="sxs-lookup"><span data-stu-id="733be-366">For example, you can change the orchestration to insert records in another table if you get a notification message for an Insert operation on the ACCOUNTACTIVITY table.</span></span> <span data-ttu-id="733be-367">このような場合は、判断図形内で適切な変更を行うことができます。</span><span class="sxs-lookup"><span data-stu-id="733be-367">In such a case, you can make appropriate changes within the Decide shape.</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="733be-368">参照</span><span class="sxs-lookup"><span data-stu-id="733be-368">See Also</span></span>  
 [<span data-ttu-id="733be-369">BizTalk Server を使用して Oracle データベースの変更通知を受け取る</span><span class="sxs-lookup"><span data-stu-id="733be-369">Receiving Oracle Database Change Notifications Using BizTalk Server</span></span>](../../adapters-and-accelerators/adapter-oracle-database/receive-oracle-database-change-notifications-using-biztalk-server.md)