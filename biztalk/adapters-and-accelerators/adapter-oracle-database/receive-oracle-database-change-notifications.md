---
title: Oracle データベースの変更通知の受信 |Microsoft Docs
ms.custom: ''
ms.date: 06/08/2017
ms.prod: biztalk-server
ms.reviewer: ''
ms.suite: ''
ms.tgt_pltfrm: ''
ms.topic: article
ms.assetid: 3ffabf27-7223-4473-b33e-af6f2990cb96
caps.latest.revision: 10
author: MandiOhlinger
ms.author: mandia
manager: anneta
ms.openlocfilehash: 9cf6c56df7f72a92c41f4c1d206d4244d67829da
ms.sourcegitcommit: 381e83d43796a345488d54b3f7413e11d56ad7be
ms.translationtype: MT
ms.contentlocale: ja-JP
ms.lasthandoff: 05/07/2019
ms.locfileid: "65376207"
---
# <a name="receive-oracle-database-change-notifications"></a><span data-ttu-id="c000e-102">Oracle データベースの変更通知を受け取る</span><span class="sxs-lookup"><span data-stu-id="c000e-102">Receive Oracle Database Change Notifications</span></span>
<span data-ttu-id="c000e-103">[!INCLUDE[adapteroracle](../../includes/adapteroracle-md.md)] ODP.NET データベース変更通知機能をサポートしています。</span><span class="sxs-lookup"><span data-stu-id="c000e-103">The [!INCLUDE[adapteroracle](../../includes/adapteroracle-md.md)] supports the ODP.NET Database Change Notification feature.</span></span> <span data-ttu-id="c000e-104">この機能を使用して、アダプター クライアントできます SELECT ステートメントとして登録データベースに対して、通知クエリし、データベースとしてアダプター クライアントを使用して、結果セットの SELECT ステートメントの変更の通知が送信されます。</span><span class="sxs-lookup"><span data-stu-id="c000e-104">Using this feature, the adapter clients can register a SELECT statement as the notification query on the database, and the database sends a notification to the adapter client as and when the result set of the SELECT statement changes.</span></span> <span data-ttu-id="c000e-105">データベースの変更通知は、OracleDependency クラスを使用して、アダプターに実装されます。</span><span class="sxs-lookup"><span data-stu-id="c000e-105">The database change notification is implemented in the adapter using the OracleDependency class.</span></span> <span data-ttu-id="c000e-106">ODP.NET、および OracleDependency クラスのデータベース変更のサポート機能の詳細については、次を参照してください。 [ http://go.microsoft.com/fwlink/?LinkId=124801](http://go.microsoft.com/fwlink/?LinkId=124801)します。</span><span class="sxs-lookup"><span data-stu-id="c000e-106">For more information about the Database Change Support feature in ODP.NET and the OracleDependency class, see [http://go.microsoft.com/fwlink/?LinkId=124801](http://go.microsoft.com/fwlink/?LinkId=124801).</span></span>  

 <span data-ttu-id="c000e-107">[!INCLUDE[adapteroracle_short](../../includes/adapteroracle-short-md.md)]データベース変更通知をサポートするために、通知を受信する操作を公開します。</span><span class="sxs-lookup"><span data-stu-id="c000e-107">The [!INCLUDE[adapteroracle_short](../../includes/adapteroracle-short-md.md)] exposes an inbound operation, Notification, to support database change notification.</span></span> <span data-ttu-id="c000e-108">ただし、データベース変更通知を使用する[!INCLUDE[adapteroracle_short](../../includes/adapteroracle-short-md.md)]以下を確認する必要があります。</span><span class="sxs-lookup"><span data-stu-id="c000e-108">However, for the database change notification to work with [!INCLUDE[adapteroracle_short](../../includes/adapteroracle-short-md.md)], you must ensure the following:</span></span>  

- <span data-ttu-id="c000e-109">Oracle データベースの基になるバージョン 10.2 以降と Oracle データベースに接続します。</span><span class="sxs-lookup"><span data-stu-id="c000e-109">Connect to the Oracle database with the underlying Oracle database version 10.2 or later.</span></span> <span data-ttu-id="c000e-110">10.2 より前の oracle データベースのバージョンでは、通知はサポートされません。</span><span class="sxs-lookup"><span data-stu-id="c000e-110">Oracle database versions prior to 10.2 do not support notifications.</span></span>  

- <span data-ttu-id="c000e-111">通知登録を作成する変更通知の特権を持つユーザーとして Oracle データベースに接続します。</span><span class="sxs-lookup"><span data-stu-id="c000e-111">Connect to Oracle database as a user that has the CHANGE NOTIFICATION privilege to create a notification registration.</span></span> <span data-ttu-id="c000e-112">ユーザーに変更通知の特権を付与するには、管理者特権を持つユーザーとして、Oracle データベースに接続し、SQL プロンプトで次のコマンドを実行します。</span><span class="sxs-lookup"><span data-stu-id="c000e-112">To grant the CHANGE NOTIFICATION privilege to a user, connect to the Oracle database as a user with administrative privileges, and run the following command at the SQL prompt:</span></span>  

  ```  
  grant change notification to <user name>  
  ```  

- <span data-ttu-id="c000e-113">Oracle データベースからデータベース変更通知を受信する ODP.NET で使用できる TCP ポートを決定します。</span><span class="sxs-lookup"><span data-stu-id="c000e-113">Decide on a TCP port that can be used by ODP.NET to receive database change notifications from Oracle database.</span></span> <span data-ttu-id="c000e-114">Windows ファイアウォール例外一覧には、TCP ポートを追加します。</span><span class="sxs-lookup"><span data-stu-id="c000e-114">Add the TCP port to Windows Firewall exceptions list.</span></span> <span data-ttu-id="c000e-115">Windows ファイアウォールの例外リストにポートを追加する方法については、次を参照してください。 [ http://go.microsoft.com/fwlink/?LinkID=196959](http://go.microsoft.com/fwlink/?LinkID=196959)します。</span><span class="sxs-lookup"><span data-stu-id="c000e-115">For instructions on how to add ports to Windows Firewall exceptions list, see [http://go.microsoft.com/fwlink/?LinkID=196959](http://go.microsoft.com/fwlink/?LinkID=196959).</span></span> <span data-ttu-id="c000e-116">同じの TCP ポート番号を指定する必要があります、 **NotificationPort**プロパティをバインドします。</span><span class="sxs-lookup"><span data-stu-id="c000e-116">You must provide the same TCP port number for the **NotificationPort** binding property.</span></span> <span data-ttu-id="c000e-117">バインディング プロパティの詳細については、次を参照してください。[バインドのプロパティの操作](https://msdn.microsoft.com/library/dd788467.aspx)します。</span><span class="sxs-lookup"><span data-stu-id="c000e-117">For more information about the binding property, see [Working with binding properties](https://msdn.microsoft.com/library/dd788467.aspx).</span></span>  

  <span data-ttu-id="c000e-118">一般的なデータベース変更通知を使用して、[!INCLUDE[adapteroracle_short](../../includes/adapteroracle-short-md.md)]次が含まれます。</span><span class="sxs-lookup"><span data-stu-id="c000e-118">A typical database change notification using the [!INCLUDE[adapteroracle_short](../../includes/adapteroracle-short-md.md)] involves the following:</span></span>  

1.  <span data-ttu-id="c000e-119">アダプターのクライアントを指定する必要があります`Notification`の受信の操作として、 **InboundOperationType**プロパティをバインドします。</span><span class="sxs-lookup"><span data-stu-id="c000e-119">The adapter clients must specify `Notification` as the inbound operation in the **InboundOperationType** binding property.</span></span> <span data-ttu-id="c000e-120">このバインドのプロパティの既定値をポーリングします。</span><span class="sxs-lookup"><span data-stu-id="c000e-120">The default value for this binding property is Polling.</span></span>  

2.  <span data-ttu-id="c000e-121">アダプターのクライアントでのデータベース変更通知に登録する SQL SELECT ステートメントを指定する必要があります、 **NotificationStatement**プロパティをバインドします。</span><span class="sxs-lookup"><span data-stu-id="c000e-121">The adapter clients must specify a SQL SELECT statement to register for database change notifications in the **NotificationStatement** binding property.</span></span> <span data-ttu-id="c000e-122">アダプターのクライアントは、として Oracle データベースからを使用して、結果セットの指定された SQL ステートメントの変更の通知を取得します。</span><span class="sxs-lookup"><span data-stu-id="c000e-122">The adapter client gets a notification from Oracle database as and when the result set for the specified SQL statement changes.</span></span>  

3.  <span data-ttu-id="c000e-123">アダプター クライアントは、リスナーで開始するとすぐに、アダプターがアダプター クライアントに通知を送信するかどうかを指定する必要があります、 **NotifyOnListenerStart**プロパティをバインドします。</span><span class="sxs-lookup"><span data-stu-id="c000e-123">The adapter clients must specify whether the adapter sends a notification to the adapter clients as soon as the listener is started in the **NotifyOnListenerStart** binding property.</span></span>  

4.  <span data-ttu-id="c000e-124">通知としてアダプター クライアントに送信され、SELECT ステートメントがで指定された結果セットがの場合、 **NotificationStatement**プロパティのバインドが変更されました。</span><span class="sxs-lookup"><span data-stu-id="c000e-124">The notification is sent to the adapter clients as and when the result set of the SELECT statement specified in the **NotificationStatement** binding property is changed.</span></span>  

> [!CAUTION]
>  <span data-ttu-id="c000e-125">Oracle データベースとアダプター クライアントの間のネットワークの停止がある場合、通知は送信されませんアダプター クライアントのネットワークの停止の期間中に Oracle データベースで行われた変更で、その後です。</span><span class="sxs-lookup"><span data-stu-id="c000e-125">If there is a network outage between the Oracle database and the adapter client, the notifications will not be sent to the adapter clients for the changes done on the Oracle database during the period of network outage, and thereafter.</span></span> <span data-ttu-id="c000e-126">したがって、重要なシナリオの通知の操作ではなく、ポーリング操作を使用する必要があります。</span><span class="sxs-lookup"><span data-stu-id="c000e-126">Therefore, you must use the Polling operation instead of the Notification operation for critical scenarios.</span></span>  

## <a name="differences-between-notification-and-polling"></a><span data-ttu-id="c000e-127">通知とポーリング間の違い</span><span class="sxs-lookup"><span data-stu-id="c000e-127">Differences between Notification and Polling</span></span>  
 <span data-ttu-id="c000e-128">通知とポーリングは、両方の受信操作し、Oracle データベースでデータの変更について、アダプターをクライアントに通知、次の表は、2 つの間のいくつかの違いを示します。</span><span class="sxs-lookup"><span data-stu-id="c000e-128">Though notification and polling are both inbound operations, and inform the adapter clients about the data changes in the Oracle database, the following table illustrates some differences between the two.</span></span> <span data-ttu-id="c000e-129">次の相違点を使用すると、要件に応じて、操作を決定できます。</span><span class="sxs-lookup"><span data-stu-id="c000e-129">The following differences will help you decide on an operation depending on your requirements:</span></span>  


|                                                                                                                              <span data-ttu-id="c000e-130">Notification</span><span class="sxs-lookup"><span data-stu-id="c000e-130">Notification</span></span>                                                                                                                               |                                                                                                                                                                                                                                                      <span data-ttu-id="c000e-131">ポーリング</span><span class="sxs-lookup"><span data-stu-id="c000e-131">Polling</span></span>                                                                                                                                                                                                                                                      |
|-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
|                                                                                               <span data-ttu-id="c000e-132">通知は、Oracle database バージョン 10.2 に対してのみサポートされている以降です。</span><span class="sxs-lookup"><span data-stu-id="c000e-132">Notification is supported only for Oracle database versions 10.2 and later.</span></span>                                                                                               |                                                                                                                                                                          <span data-ttu-id="c000e-133">サポートされているすべての Oracle データベース バージョンのポーリングがサポートされている、[!INCLUDE[adapteroracle_short](../../includes/adapteroracle-short-md.md)]します。</span><span class="sxs-lookup"><span data-stu-id="c000e-133">Polling is supported for all the Oracle database versions that are supported by the [!INCLUDE[adapteroracle_short](../../includes/adapteroracle-short-md.md)].</span></span>                                                                                                                                                                           |
|                                                                                                          <span data-ttu-id="c000e-134">データの変更通知は瞬時では常にします。</span><span class="sxs-lookup"><span data-stu-id="c000e-134">The data-change notification is always instantaneous.</span></span>                                                                                                          | <span data-ttu-id="c000e-135">一定の間隔でポーリングに使用できるデータを確認するポーリング間隔を構成するかまたは瞬時とタイミング データを使用します。</span><span class="sxs-lookup"><span data-stu-id="c000e-135">You can either configure the polling interval to check the data available for polling at regular intervals or instantaneously as and when the data is available.</span></span> <span data-ttu-id="c000e-136">**ヒント:** ポーリングすれば、スループットを向上させる継続的に、データの変更が行われていてと、発生したタイミングとしては、各変更の通知したくないです。</span><span class="sxs-lookup"><span data-stu-id="c000e-136">**Tip:**  Polling can give you better throughput in scenarios where the data changes are happening continuously, and you do not want to be notified of each change as and when it happens.</span></span> <span data-ttu-id="c000e-137">代わりに、その後の前回の変更の通知以降に発生したすべての変更を通知するポーリング間隔を指定します。</span><span class="sxs-lookup"><span data-stu-id="c000e-137">Instead, you specify a polling interval after which you want to be notified of all the changes that have happened since the last change notification.</span></span> |
| <span data-ttu-id="c000e-138">通知は、Oracle データベースで開始されます。</span><span class="sxs-lookup"><span data-stu-id="c000e-138">Notification is initiated by the Oracle database.</span></span> <span data-ttu-id="c000e-139">だけ、アダプターによって発行された通知のステートメントでは、データベース ステートメントの結果セット内の変更がある場合は、通知を開始するように指示します。</span><span class="sxs-lookup"><span data-stu-id="c000e-139">The notification statement issued by the adapter just instructs the database to initiate notification in case there is a change in the result set of the statement.</span></span> <span data-ttu-id="c000e-140">通知は、Oracle データベースの機能です。</span><span class="sxs-lookup"><span data-stu-id="c000e-140">Notification is a feature of the Oracle database.</span></span> |                                                                                                                                         <span data-ttu-id="c000e-141">ポーリングは、アダプターによって開始されます。</span><span class="sxs-lookup"><span data-stu-id="c000e-141">Polling is initiated by the adapter.</span></span> <span data-ttu-id="c000e-142">アダプターは、データのポーリングに使用できるとポーリングの一部のデータがある場合は、ポーリング ステートメントを実行してポーリングを開始するかどうかを検証する SQL ステートメントを実行します。</span><span class="sxs-lookup"><span data-stu-id="c000e-142">The adapter executes a SQL statement to validate whether data is available for polling, and then initiates polling by executing the polling statement if some data is available for polling.</span></span>                                                                                                                                         |
|                                                                                             <span data-ttu-id="c000e-143">通知のステートメントを使用すると、Oracle データベースでデータを読み取るだけです。</span><span class="sxs-lookup"><span data-stu-id="c000e-143">You can use the notification statement to only read data in an Oracle database.</span></span>                                                                                             |                                                                                                                                                                                                                 <span data-ttu-id="c000e-144">ポーリング ステートメントを使用して、読み取りまたは Oracle データベース内のデータを更新することができます。</span><span class="sxs-lookup"><span data-stu-id="c000e-144">You can use the polling statement to read or update data in the Oracle database.</span></span>                                                                                                                                                                                                                  |
|                                                                                   <span data-ttu-id="c000e-145">通知が、Insert などのデータの変更の種類にのみ通知は、更新、および削除します。</span><span class="sxs-lookup"><span data-stu-id="c000e-145">Notification informs only about the type of change in the data such as Insert, Update, and Delete.</span></span>                                                                                    |                                                                                                                                                                                                                            <span data-ttu-id="c000e-146">ポーリングには、実際のデータが変更されたことについて通知されます。</span><span class="sxs-lookup"><span data-stu-id="c000e-146">Polling informs you about the actual data that has changed.</span></span>                                                                                                                                                                                                                            |

 <span data-ttu-id="c000e-147">詳細については。</span><span class="sxs-lookup"><span data-stu-id="c000e-147">For more information about:</span></span>  

- <span data-ttu-id="c000e-148">通知操作に関連するバインドのプロパティを参照してください[バインドのプロパティの操作](https://msdn.microsoft.com/library/dd788467.aspx)します。</span><span class="sxs-lookup"><span data-stu-id="c000e-148">The binding properties related to the Notification operation, see [Working with binding properties](https://msdn.microsoft.com/library/dd788467.aspx).</span></span>  

- <span data-ttu-id="c000e-149">通知の操作を使用する方法[!INCLUDE[adapteroracle_short](../../includes/adapteroracle-short-md.md)]を参照してください[受信 Oracle データベース変更通知を使用して BizTalk Server](../../adapters-and-accelerators/adapter-oracle-database/receive-oracle-database-change-notifications-using-biztalk-server.md)します。</span><span class="sxs-lookup"><span data-stu-id="c000e-149">How to use the Notification operation in [!INCLUDE[adapteroracle_short](../../includes/adapteroracle-short-md.md)], see [Receiving Oracle Database Change Notifications Using BizTalk Server](../../adapters-and-accelerators/adapter-oracle-database/receive-oracle-database-change-notifications-using-biztalk-server.md).</span></span>  

## <a name="see-also"></a><span data-ttu-id="c000e-150">参照</span><span class="sxs-lookup"><span data-stu-id="c000e-150">See Also</span></span>  
 <span data-ttu-id="c000e-151">[どのような操作は、アダプターを使用して実行しますか?](https://msdn.microsoft.com/library/cc185219(v=bts.10).aspx)</span><span class="sxs-lookup"><span data-stu-id="c000e-151">[What Operations Can be Performed Using the Adapter?](https://msdn.microsoft.com/library/cc185219(v=bts.10).aspx)</span></span>