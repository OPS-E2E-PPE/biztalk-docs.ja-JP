---
title: "特別な処理で、Message Repair and New Submission |Microsoft ドキュメント"
ms.custom: 
ms.date: 06/08/2017
ms.prod: biztalk-server
ms.reviewer: 
ms.suite: 
ms.tgt_pltfrm: 
ms.topic: article
helpviewer_keywords:
- repairing messages, rekey verification
- repairing messages, process flow
- rekey verification
- repairing messages
- messages, templates
- messages, rekey verification
- BIC fields
- templates, messages
- BIC-12 data
- messages, process flow
- BIC-11 data
ms.assetid: 0ab729e3-4b67-47d3-84c9-f016318a4c41
caps.latest.revision: "4"
author: MandiOhlinger
ms.author: mandia
manager: anneta
ms.openlocfilehash: 1d77d518b080fd84b874c9bb79dedd5173d0a78b
ms.sourcegitcommit: cb908c540d8f1a692d01dc8f313e16cb4b4e696d
ms.translationtype: MT
ms.contentlocale: ja-JP
ms.lasthandoff: 09/20/2017
---
# <a name="special-processing-in-message-repair-and-new-submission"></a><span data-ttu-id="e9a24-102">Message Repair and New Submission の特別な処理</span><span class="sxs-lookup"><span data-stu-id="e9a24-102">Special Processing in Message Repair and New Submission</span></span>
<span data-ttu-id="e9a24-103">[!INCLUDE[btaA4SWIFT2.3abbrevnonumber](../../includes/btaa4swift2-3abbrevnonumber-md.md)] Message Repair and New Submission の機能は、エンタープライズの実装計画を策定します。</span><span class="sxs-lookup"><span data-stu-id="e9a24-103">The [!INCLUDE[btaA4SWIFT2.3abbrevnonumber](../../includes/btaa4swift2-3abbrevnonumber-md.md)] Message Repair and New Submission functionality enables customers to develop an enterprise implementation.</span></span> <span data-ttu-id="e9a24-104">機能には、次の特別な処理がサポートされています。</span><span class="sxs-lookup"><span data-stu-id="e9a24-104">The functionality supports the following special processing:</span></span>  
  
-   <span data-ttu-id="e9a24-105">検証キー更新</span><span class="sxs-lookup"><span data-stu-id="e9a24-105">Rekeying verification</span></span>  
  
-   <span data-ttu-id="e9a24-106">部門固有のワークフローのサポート (詳細については、次を参照してください[メッセージの修復と新しいメッセージの送信](../../adapters-and-accelerators/accelerator-swift/repairing-messages-and-submitting-new-messages.md)。)。</span><span class="sxs-lookup"><span data-stu-id="e9a24-106">Department-specific workflow support (For more information, see [Repairing Messages and Submitting New Messages](../../adapters-and-accelerators/accelerator-swift/repairing-messages-and-submitting-new-messages.md).)</span></span>  
  
-   <span data-ttu-id="e9a24-107">BIC 11 BIC 12 データ エントリ</span><span class="sxs-lookup"><span data-stu-id="e9a24-107">Entry of BIC-12 data as BIC-11</span></span>  
  
-   <span data-ttu-id="e9a24-108">1 つの文字列として BIC フィールドのエントリ</span><span class="sxs-lookup"><span data-stu-id="e9a24-108">Entry of BIC fields as one string</span></span>  
  
-   <span data-ttu-id="e9a24-109">エラーを修復して再送信の解析 (詳細については、次を参照してください[未解析のメッセージの修復](../../adapters-and-accelerators/accelerator-swift/repairing-unparsed-messages.md)。)。</span><span class="sxs-lookup"><span data-stu-id="e9a24-109">Repair and resubmission of parse failures (For more information, see [Repairing Unparsed Messages](../../adapters-and-accelerators/accelerator-swift/repairing-unparsed-messages.md).)</span></span>  
  
-   <span data-ttu-id="e9a24-110">[保存] コマンドを使用して、進行中の修復を保存</span><span class="sxs-lookup"><span data-stu-id="e9a24-110">Saving repairs in progress by using the Save command</span></span>  
  
-   <span data-ttu-id="e9a24-111">名前を付けて保存コマンドを使用して新しいテンプレートの作成</span><span class="sxs-lookup"><span data-stu-id="e9a24-111">Creating a new template by using the Save As command</span></span>  
  
## <a name="rekey-verification"></a><span data-ttu-id="e9a24-112">検証を鍵更新します。</span><span class="sxs-lookup"><span data-stu-id="e9a24-112">Rekey Verification</span></span>  
 <span data-ttu-id="e9a24-113">多くの金融機関の鍵更新トランザクションの最も重要なフィールドに別のユーザーは作業の確認の主な手段です。</span><span class="sxs-lookup"><span data-stu-id="e9a24-113">For many financial institutions, the primary means of checking work is for a second person to rekey the most important fields of a transaction.</span></span> <span data-ttu-id="e9a24-114">この操作は、2 番目のユーザーが、読み取りし、これらのフィールドにデータを理解してあるを確認します。</span><span class="sxs-lookup"><span data-stu-id="e9a24-114">This operation verifies that the second person has read, and understands, the data in those fields.</span></span> [!INCLUDE[btaA4SWIFT2.3abbrevnonumber](../../includes/btaa4swift2-3abbrevnonumber-md.md)]<span data-ttu-id="e9a24-115">修復またはで作成されたメッセージにこの機能を提供[!INCLUDE[btsBizTalkServerNoVersion](../../includes/btsbiztalkservernoversion-md.md)]です。</span><span class="sxs-lookup"><span data-stu-id="e9a24-115"> provides this capability for messages repaired or created in [!INCLUDE[btsBizTalkServerNoVersion](../../includes/btsbiztalkservernoversion-md.md)].</span></span>  
  
 <span data-ttu-id="e9a24-116">キー更新手順が必要な場合、[!INCLUDE[btaA4SWIFT2.3abbrevnonumber](../../includes/btaa4swift2-3abbrevnonumber-md.md)]するにはユーザーに表示形式で再生成するフィールドを空白。</span><span class="sxs-lookup"><span data-stu-id="e9a24-116">If a rekey step is required, [!INCLUDE[btaA4SWIFT2.3abbrevnonumber](../../includes/btaa4swift2-3abbrevnonumber-md.md)] blanks out the fields to be rekeyed in the form presented to the user.</span></span> [!INCLUDE[btaA4SWIFT2.3abbrevnonumber](../../includes/btaa4swift2-3abbrevnonumber-md.md)]<span data-ttu-id="e9a24-117">まだデータを入力するときに、検証はその内容を使用できるように、作業ウィンドウで、元のメッセージの内容を表示します。</span><span class="sxs-lookup"><span data-stu-id="e9a24-117"> still displays the contents of the original message in the task pane, so the verifier can use those contents when entering the data.</span></span> <span data-ttu-id="e9a24-118">検証ツールでは、検証なしの変更を許可するこの可能性がありますので、メッセージの他のフィールドは変更しないでください。</span><span class="sxs-lookup"><span data-stu-id="e9a24-118">The verifier should not change other fields in the message, because this might allow changes without verification.</span></span> <span data-ttu-id="e9a24-119">代わりに、検証ツールは、その他の変更が必要になる場合、メッセージの修復を拒否する必要があります。</span><span class="sxs-lookup"><span data-stu-id="e9a24-119">Instead, the verifier should reject the message repair if other changes need to be made.</span></span>  
  
 <span data-ttu-id="e9a24-120">キー更新手順の後に[!INCLUDE[btaA4SWIFT2.3abbrevnonumber](../../includes/btaa4swift2-3abbrevnonumber-md.md)]修復の結果を含むキー更新の結果を比較します。</span><span class="sxs-lookup"><span data-stu-id="e9a24-120">After the rekey step, [!INCLUDE[btaA4SWIFT2.3abbrevnonumber](../../includes/btaa4swift2-3abbrevnonumber-md.md)] compares the results of the rekeying with the results of the repair.</span></span> <span data-ttu-id="e9a24-121">されてに再生成、フィールドの単位であるフィールドにのみ、この比較を実行します。</span><span class="sxs-lookup"><span data-stu-id="e9a24-121">It performs this comparison only on the fields that have been rekeyed, on a field-by-field basis.</span></span> <span data-ttu-id="e9a24-122">場合は、文字ごとに 2 つのバージョンが一致しません、再度メッセージを修復する必要があります。</span><span class="sxs-lookup"><span data-stu-id="e9a24-122">If the two versions do not agree on a character-by-character basis, the message must be repaired again.</span></span> [!INCLUDE[btaA4SWIFT2.3abbrevnonumber](../../includes/btaa4swift2-3abbrevnonumber-md.md)]<span data-ttu-id="e9a24-123">キーの検証の不一致が存在すること、および、エラー メッセージのエラー収集の部分を追加を示します。</span><span class="sxs-lookup"><span data-stu-id="e9a24-123"> indicates that there was a key verification mismatch, and adds the error to the error-collection part of the message.</span></span> <span data-ttu-id="e9a24-124">検証の入力データは保存されません。</span><span class="sxs-lookup"><span data-stu-id="e9a24-124">The data entered by the verifier is not saved.</span></span>  
  
 <span data-ttu-id="e9a24-125">フィールドを再生成されるファイルで指定される、MrsrXpathConfig.xml MRSR フォルダーの下に、[!INCLUDE[btaA4SWIFT2.3abbrevnonumber](../../includes/btaa4swift2-3abbrevnonumber-md.md)]フォルダーです。</span><span class="sxs-lookup"><span data-stu-id="e9a24-125">The fields to be rekeyed are specified in the MrsrXpathConfig.xml file in the MRSR folder under the [!INCLUDE[btaA4SWIFT2.3abbrevnonumber](../../includes/btaa4swift2-3abbrevnonumber-md.md)] folder.</span></span> <span data-ttu-id="e9a24-126">このファイルには、フィールドを再生成して、フィールドの xpath から成る名前/値ペアが含まれています。</span><span class="sxs-lookup"><span data-stu-id="e9a24-126">This file contains name/value pairs consisting of the field to be rekeyed and the xpath to the field.</span></span> <span data-ttu-id="e9a24-127">どのフィールドが各メッセージの再生成するを変更するには、このファイルをカスタマイズすることができます。</span><span class="sxs-lookup"><span data-stu-id="e9a24-127">You can customize this file to change which fields will be rekeyed for each message.</span></span> <span data-ttu-id="e9a24-128">再生成するフィールドは、通常、メッセージの内容に関連付けられている最も重要な日付、トランザクション、およびトランザクションの量の通貨を表すものです。</span><span class="sxs-lookup"><span data-stu-id="e9a24-128">The fields to be rekeyed are generally those representing the most important date associated with the message contents, the currency of the transaction, and the amount of the transaction.</span></span>  
  
 <span data-ttu-id="e9a24-129">Message Repair and New Submission のすべての検証手順には、キーの再検証が含まれます。</span><span class="sxs-lookup"><span data-stu-id="e9a24-129">All verification steps in Message Repair and New Submission involve rekey verification.</span></span> <span data-ttu-id="e9a24-130">承認者によって隠れない検証が実行されます。</span><span class="sxs-lookup"><span data-stu-id="e9a24-130">Sight verification is performed by the approver.</span></span>  
  
## <a name="entry-of-bic-12-data-as-bic-11"></a><span data-ttu-id="e9a24-131">BIC 11 BIC 12 データ エントリ</span><span class="sxs-lookup"><span data-stu-id="e9a24-131">Entry of BIC-12 Data as BIC-11</span></span>  
 [!INCLUDE[btaA4SWIFT2.3abbrevnonumber](../../includes/btaa4swift2-3abbrevnonumber-md.md)]<span data-ttu-id="e9a24-132">メッセージの論理ターミナル (LT) アドレスの追加の文字の必要性に対応します。</span><span class="sxs-lookup"><span data-stu-id="e9a24-132"> accommodates the need for an additional character in the Logical Terminal (LT) Address of a message.</span></span> <span data-ttu-id="e9a24-133">LT アドレスには、データは 11 文字が含まれていますが、SWIFT Alliance アクセス (SAA) には 9 の位置に"X"を LT フィールドが必要です。</span><span class="sxs-lookup"><span data-stu-id="e9a24-133">The LT Address contains only 11 characters of data, but the SWIFT Alliance Access (SAA) requires the LT field to have an "X" in position 9.</span></span> <span data-ttu-id="e9a24-134">この余分な文字することを示します SAA その正しい中尉を選択する必要があります。</span><span class="sxs-lookup"><span data-stu-id="e9a24-134">This extra character indicates to SAA that it should select the correct LT.</span></span>  
  
 <span data-ttu-id="e9a24-135">LT アドレスは、FIN ネットワーク経由でメッセージの送信に使用されます。</span><span class="sxs-lookup"><span data-stu-id="e9a24-135">The LT address is used for transmission of the message over the FIN network.</span></span> <span data-ttu-id="e9a24-136">SWIFTBound メッセージ (基本的なヘッダー ブロックの LT アドレス フィールド) または入力アプリケーション ヘッダー ブロックの宛先アドレス フィールドの 2 つのフィールドに格納できることと SWIFT からのメッセージの 2 つのフィールド (基本ヘッダー ブロックの LT アドレス フィールド、またはLT アドレス アプリケーション ヘッダーの出力ブロックにメッセージ入力リファレンスを参照)。</span><span class="sxs-lookup"><span data-stu-id="e9a24-136">It can be contained in two fields of a SWIFTBound message (the LT Address field of the Basic Header block or the Destination Address field in the input Application Header block) and in two fields of a message from SWIFT (the LT Address field of the Basic Header block or the LT Address in the Message Input Reference in the Output Application Header block).</span></span>  
  
 <span data-ttu-id="e9a24-137">ユーザーは、作成や、メッセージを修復または検証の一部として、フィールドを鍵更新時に 11 文字を入力する必要があります。</span><span class="sxs-lookup"><span data-stu-id="e9a24-137">Users must enter only 11 characters when they create or repair a message, or rekey the field as part of verification.</span></span> <span data-ttu-id="e9a24-138">12 文字が含まれている LT キー更新を修復する場合や場合でも、ユーザーは 11 文字を入力する必要があります。</span><span class="sxs-lookup"><span data-stu-id="e9a24-138">Even when repairing or rekeying an LT that has 12 characters, a user must enter only 11 characters.</span></span> [!INCLUDE[btaA4SWIFT2.3abbrevnonumber](../../includes/btaa4swift2-3abbrevnonumber-md.md)]<span data-ttu-id="e9a24-139">12 番目の文字を挿入し、12 文字のフィールドを検証します。</span><span class="sxs-lookup"><span data-stu-id="e9a24-139"> inserts the twelfth character and validates the 12-character field.</span></span> [!INCLUDE[btaA4SWIFT2.3abbrevnonumber](../../includes/btaa4swift2-3abbrevnonumber-md.md)]<span data-ttu-id="e9a24-140">BIC とデータベース内のアドレスに対して、11 文字 LT アドレスを検証します。</span><span class="sxs-lookup"><span data-stu-id="e9a24-140"> validates the 11-character LT address against the address in the BIC Plus database.</span></span>  
  
## <a name="entry-of-bic-fields-as-one-string"></a><span data-ttu-id="e9a24-141">1 つの文字列として BIC フィールドのエントリ</span><span class="sxs-lookup"><span data-stu-id="e9a24-141">Entry of BIC Fields as One String</span></span>  
 <span data-ttu-id="e9a24-142">1 つのフィールドに、BIC を入力するには[!INCLUDE[btsInpathNoVersion](../../includes/btsinpathnoversion-md.md)]フォーム。</span><span class="sxs-lookup"><span data-stu-id="e9a24-142">You can enter the BIC into a single field on [!INCLUDE[btsInpathNoVersion](../../includes/btsinpathnoversion-md.md)] forms.</span></span> <span data-ttu-id="e9a24-143">BIC がそれぞれに、サブフィールドを持つ 4 つのサブフィールドを含む、[!INCLUDE[btsInpathNoVersion](../../includes/btsinpathnoversion-md.md)]フォーム。</span><span class="sxs-lookup"><span data-stu-id="e9a24-143">The BIC contains four subfields, each of which has a subfield on the [!INCLUDE[btsInpathNoVersion](../../includes/btsinpathnoversion-md.md)] forms.</span></span> <span data-ttu-id="e9a24-144">1 つのフィールドに完全な BIC 文字列を入力した後[!INCLUDE[btaA4SWIFT2.3abbrevnonumber](../../includes/btaa4swift2-3abbrevnonumber-md.md)]それぞれ 4 つのサブフィールドを設定します。</span><span class="sxs-lookup"><span data-stu-id="e9a24-144">After you enter the full BIC string into the single field, [!INCLUDE[btaA4SWIFT2.3abbrevnonumber](../../includes/btaa4swift2-3abbrevnonumber-md.md)] populates each of the four subfields.</span></span>  
  
## <a name="saving-repairs-in-progress"></a><span data-ttu-id="e9a24-145">修復の進行中の保存</span><span class="sxs-lookup"><span data-stu-id="e9a24-145">Saving Repairs in Progress</span></span>  
 <span data-ttu-id="e9a24-146">修復を中断する必要がある場合は、修復の受信トレイに現在の状態でメッセージを保存できます。</span><span class="sxs-lookup"><span data-stu-id="e9a24-146">If you need to interrupt a repair, you can save a message in its current state back into the repair inbox.</span></span> <span data-ttu-id="e9a24-147">[保存] コマンドを使用して、メッセージでチェックするこれを行います。</span><span class="sxs-lookup"><span data-stu-id="e9a24-147">You do so by using the Save command to check in the message.</span></span> <span data-ttu-id="e9a24-148">閉じることができます、[!INCLUDE[btsInpathNoVersion](../../includes/btsinpathnoversion-md.md)]形式し、メッセージをチェック アウト後で、または他のユーザーがチェック アウトの修復を続行します。</span><span class="sxs-lookup"><span data-stu-id="e9a24-148">You can close the [!INCLUDE[btsInpathNoVersion](../../includes/btsinpathnoversion-md.md)] form and check the message out later, or someone else can check it out to continue the repair.</span></span> <span data-ttu-id="e9a24-149">メッセージの履歴を示します、保存操作、および 2 番目の修理会社を実行して修復を確認できます。</span><span class="sxs-lookup"><span data-stu-id="e9a24-149">The message's history indicates the save operation, and a second repairer can see the repairs that you performed.</span></span>  
  
 <span data-ttu-id="e9a24-150">ユーザーのローカル コンピューター上の現在の状態でメッセージを格納する名前を付けて保存コマンドを実行することができます。</span><span class="sxs-lookup"><span data-stu-id="e9a24-150">You can execute a Save As command to store a message in its current state on the user's local machine.</span></span> <span data-ttu-id="e9a24-151">これにより、名前を付けて実行したユーザーにチェック アウトされてメッセージが残ります。</span><span class="sxs-lookup"><span data-stu-id="e9a24-151">This leaves the message checked out to the user who performed the Save As.</span></span> <span data-ttu-id="e9a24-152">ユーザーが閉じることができます、[!INCLUDE[btsInpathNoVersion](../../includes/btsinpathnoversion-md.md)]フォームと、修復が別のユーザーの完了後に戻ることはできません、メッセージを確認して修復しています。</span><span class="sxs-lookup"><span data-stu-id="e9a24-152">The user can close the [!INCLUDE[btsInpathNoVersion](../../includes/btsinpathnoversion-md.md)] form and return later to complete the repair, but another user cannot check out the message and repair it.</span></span>  
  
## <a name="creating-a-new-template"></a><span data-ttu-id="e9a24-153">新しいテンプレートの作成</span><span class="sxs-lookup"><span data-stu-id="e9a24-153">Creating a New Template</span></span>  
 <span data-ttu-id="e9a24-154">新しいメッセージを作成する場合は、名前を付けて保存コマンドを実行して、新しいテンプレートを作成できます。</span><span class="sxs-lookup"><span data-stu-id="e9a24-154">When creating a new message, you can create a new template by executing a Save As command.</span></span> <span data-ttu-id="e9a24-155">これにより、既存のテンプレートを開く、データ フィールドを追加し、追加のデータを含む既存のテンプレートに基づく新しいテンプレートを作成することができます。</span><span class="sxs-lookup"><span data-stu-id="e9a24-155">This enables you to open an existing template, add data to fields, and then create a new template based on the existing template that includes the additional data.</span></span> <span data-ttu-id="e9a24-156">新しい名前を持つテンプレートを保存して、テンプレートに基づいて新しいメッセージを作成 MRSR サイトで新しいメッセージ フォルダーにアクセスできるだれもできます。</span><span class="sxs-lookup"><span data-stu-id="e9a24-156">You save the template with a new name, and anyone with access to the new message folder in MRSR site can create a new message based on the template.</span></span> <span data-ttu-id="e9a24-157">テンプレートに基づくメッセージを送信する MRSR サイト テンプレートを保存する必要があります[!INCLUDE[btaA4SWIFT2.3abbrevnonumber](../../includes/btaa4swift2-3abbrevnonumber-md.md)]です。</span><span class="sxs-lookup"><span data-stu-id="e9a24-157">You must save the template to the MRSR site to submit a message based on the template to [!INCLUDE[btaA4SWIFT2.3abbrevnonumber](../../includes/btaa4swift2-3abbrevnonumber-md.md)].</span></span> <span data-ttu-id="e9a24-158">それ以外の場合、エラーが発生するか、フォームを開くことはできません。</span><span class="sxs-lookup"><span data-stu-id="e9a24-158">Otherwise, errors will occur or you will not be able to open the form.</span></span>