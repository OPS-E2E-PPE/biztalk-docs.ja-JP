---
title: 構成後の手順、環境を最適化する |Microsoft Docs
description: インストールして、BizTalk Server を構成した後に完了するタスクを含む SQL エージェント ジョブの構成、EDI スキーマをインストール、ホストとホスト インスタンス、および BizTalk Server では、複数の作成
ms.custom: ''
ms.prod: biztalk-server
ms.date: 09/27/2017
ms.reviewer: ''
ms.suite: ''
ms.tgt_pltfrm: ''
ms.topic: article
ms.assetid: d0fef6ea-e7cc-4ea9-936d-5d638bc43feb
caps.latest.revision: 3
author: MandiOhlinger
ms.author: mandia
manager: anneta
ms.openlocfilehash: 3562487e70557ec57a686d8b0109f61eccaa8dce
ms.sourcegitcommit: 381e83d43796a345488d54b3f7413e11d56ad7be
ms.translationtype: MT
ms.contentlocale: ja-JP
ms.lasthandoff: 05/07/2019
ms.locfileid: "65394015"
---
# <a name="post-configuration-steps-to-optimize-your-environment"></a><span data-ttu-id="a8db2-103">構成後の手順、環境を最適化するには</span><span class="sxs-lookup"><span data-stu-id="a8db2-103">Post-configuration steps to optimize your environment</span></span>
<span data-ttu-id="a8db2-104">パフォーマンスを向上させるための構成後の手順では、BizTalk 環境を維持し、EDI スキーマをインストールします。</span><span class="sxs-lookup"><span data-stu-id="a8db2-104">Post-configuration steps to help improve performance, maintain your BizTalk environment, and install the EDI schemas.</span></span>

## <a name="disable-shared-memory-protocol-in-sql-server"></a><span data-ttu-id="a8db2-105">SQL Server 共有メモリ プロトコルを無効にします。</span><span class="sxs-lookup"><span data-stu-id="a8db2-105">Disable Shared Memory protocol in SQL Server</span></span>

1. <span data-ttu-id="a8db2-106">**[SQL Server 構成マネージャー]** を開きます。</span><span class="sxs-lookup"><span data-stu-id="a8db2-106">Open **SQL Server Configuration Manager**.</span></span>
2. <span data-ttu-id="a8db2-107">展開**SQL Server ネットワーク構成**、選び**MSSQLSERVER のプロトコル**します。</span><span class="sxs-lookup"><span data-stu-id="a8db2-107">Expand **SQL Server Network Configuration**, and select **Protocols for MSSQLSERVER**.</span></span>
3. <span data-ttu-id="a8db2-108">右クリック**共有メモリ**、選び**を無効にする**します。</span><span class="sxs-lookup"><span data-stu-id="a8db2-108">Right-click **Shared Memory**, and select **Disable**.</span></span>
4. <span data-ttu-id="a8db2-109">選択**SQL Server サービス**を右クリックして**SQL Server (MSSQLServer)** を選択し、**再起動**します。</span><span class="sxs-lookup"><span data-stu-id="a8db2-109">Select **SQL Server Services**, right-click **SQL Server (MSSQLServer)**, and select **Restart**.</span></span>
5. <span data-ttu-id="a8db2-110">**SQL Server 構成マネージャー**を終了します。</span><span class="sxs-lookup"><span data-stu-id="a8db2-110">Close **SQL Server Configuration Manager**.</span></span>

## <a name="configure-the-sql-agent-jobs"></a><span data-ttu-id="a8db2-111">SQL エージェント ジョブを構成します。</span><span class="sxs-lookup"><span data-stu-id="a8db2-111">Configure the SQL Agent jobs</span></span>

1. <span data-ttu-id="a8db2-112">**SQL Server Management Studio**への接続と**データベース エンジン**します。</span><span class="sxs-lookup"><span data-stu-id="a8db2-112">**SQL Server Management Studio**, and connect to **Database Engine**.</span></span>
2. <span data-ttu-id="a8db2-113">展開**SQL Server エージェント**、展開と**ジョブ**します。</span><span class="sxs-lookup"><span data-stu-id="a8db2-113">Expand **SQL Server Agent**, and expand **Jobs**.</span></span> <span data-ttu-id="a8db2-114">次のジョブを構成します。</span><span class="sxs-lookup"><span data-stu-id="a8db2-114">Configure the following jobs:</span></span>  

    <span data-ttu-id="a8db2-115">ジョブ名</span><span class="sxs-lookup"><span data-stu-id="a8db2-115">Job Name</span></span>  |<span data-ttu-id="a8db2-116">説明</span><span class="sxs-lookup"><span data-stu-id="a8db2-116">Description</span></span>  |<span data-ttu-id="a8db2-117">必要である理由</span><span class="sxs-lookup"><span data-stu-id="a8db2-117">Why you need it</span></span>  
    ---------|---------|---------
    <span data-ttu-id="a8db2-118">BizTalk Server をバックアップします。</span><span class="sxs-lookup"><span data-stu-id="a8db2-118">Backup BizTalk Server</span></span> | <span data-ttu-id="a8db2-119">BizTalk Server データベースとログ ファイルをバックアップします。</span><span class="sxs-lookup"><span data-stu-id="a8db2-119">Backs up the BizTalk Server databases and the log files.</span></span> <span data-ttu-id="a8db2-120">ジョブを構成するときは、頻度とファイルの場所などのパラメーターを指定します。</span><span class="sxs-lookup"><span data-stu-id="a8db2-120">When configuring the job, you determine parameters like frequency and file location.</span></span><br/><br/><span data-ttu-id="a8db2-121">次のリンクでは、SQL エージェント ジョブとそのパラメーターについて説明します。</span><span class="sxs-lookup"><span data-stu-id="a8db2-121">The following links describe the SQL Agent job and its parameters:</span></span><br/><br/>[<span data-ttu-id="a8db2-122">バックアップおよび BizTalk Server データベースを復元します。</span><span class="sxs-lookup"><span data-stu-id="a8db2-122">Backing Up and Restoring BizTalk Server Databases</span></span>](../core/backing-up-and-restoring-biztalk-server-databases.md)<br/>[<span data-ttu-id="a8db2-123">BizTalk Server のバックアップ ジョブを構成する方法</span><span class="sxs-lookup"><span data-stu-id="a8db2-123">How to Configure the Backup BizTalk Server Job</span></span>](../core/how-to-configure-the-backup-biztalk-server-job.md)|<span data-ttu-id="a8db2-124">この SQL エージェント ジョブには、パフォーマンスを向上させることができます、トランザクション ログも切り捨てます。</span><span class="sxs-lookup"><span data-stu-id="a8db2-124">This SQL Agent job also truncates the transaction logs, which helps improve performance.</span></span><br/><br/><span data-ttu-id="a8db2-125">このジョブの削除または古いなど、バックアップ ファイルの削除はされません。</span><span class="sxs-lookup"><span data-stu-id="a8db2-125">This job does not remove or delete backup files, including older files.</span></span> <span data-ttu-id="a8db2-126">バックアップ ファイルを削除するには、"Backup BizTalk Server"バックアップ ファイルは、Microsoft BizTalk Server データベース サーバーでの時間の経過と共に蓄積ジョブが失敗を参照してください。</span><span class="sxs-lookup"><span data-stu-id="a8db2-126">To delete backup files, refer to The "Backup BizTalk Server" job fails when backup files accumulate over time in the Microsoft BizTalk Server database server.</span></span>
    <span data-ttu-id="a8db2-127">DTA Purge and Archive</span><span class="sxs-lookup"><span data-stu-id="a8db2-127">DTA Purge and Archive</span></span> |<span data-ttu-id="a8db2-128">切り捨てし、BizTalk Server 追跡 (BizTalkDTADb) データベースをアーカイブします。</span><span class="sxs-lookup"><span data-stu-id="a8db2-128">Truncates and archives the BizTalk Server Tracking database (BizTalkDTADb).</span></span> <span data-ttu-id="a8db2-129">完了したインスタンスを保持する日数などのパラメーターを決定するジョブを構成するときに、すべてのデータを保持する日数。</span><span class="sxs-lookup"><span data-stu-id="a8db2-129">When configuring the job, you determine parameters like how many days to keep completed instances and how many to days to keep all data.</span></span><br/><br/><span data-ttu-id="a8db2-130">次のリンクでは、SQL エージェント ジョブとそのパラメーターについて説明します。</span><span class="sxs-lookup"><span data-stu-id="a8db2-130">The following links describe the SQL Agent job and its parameters:</span></span> <br/><br/>[<span data-ttu-id="a8db2-131">BizTalk 追跡データベースのアーカイブおよび削除</span><span class="sxs-lookup"><span data-stu-id="a8db2-131">Archiving and Purging the BizTalk Tracking Database</span></span>](../core/archiving-and-purging-the-biztalk-tracking-database.md)<br/>[<span data-ttu-id="a8db2-132">構成の DTA Purge and Archive ジョブをする方法</span><span class="sxs-lookup"><span data-stu-id="a8db2-132">How to Configure the DTA Purge and Archive Job</span></span>](../core/how-to-configure-the-dta-purge-and-archive-job.md)|<span data-ttu-id="a8db2-133">この SQL エージェント ジョブは、追跡ホストの管理と追跡イベントを削除して、パフォーマンスを直接影響します。</span><span class="sxs-lookup"><span data-stu-id="a8db2-133">This SQL Agent job directly impacts performance by maintaining the Tracking host and purging tracking events.</span></span>

## <a name="maintain-your-backup-files"></a><span data-ttu-id="a8db2-134">バックアップ ファイルを維持します。</span><span class="sxs-lookup"><span data-stu-id="a8db2-134">Maintain your backup files</span></span>

<span data-ttu-id="a8db2-135">BizTalk Server では、バックアップ ファイルを削除するジョブは含まれません。</span><span class="sxs-lookup"><span data-stu-id="a8db2-135">BizTalk Server does not include any job to delete backup files.</span></span> <span data-ttu-id="a8db2-136">その結果、バックアップ ファイルを維持する方法は自由です。</span><span class="sxs-lookup"><span data-stu-id="a8db2-136">As a result, how you maintain your backup files is up to you.</span></span> <span data-ttu-id="a8db2-137">多くのユーザーは sp_DeleteBackupHistoryAndFiles ストアド プロシージャを作成し、BizTalk Server のバックアップ ジョブで直接このストアド プロシージャを呼び出します。</span><span class="sxs-lookup"><span data-stu-id="a8db2-137">Many users create the sp_DeleteBackupHistoryAndFiles stored procedure, and then call this stored procedure directly in the Backup BizTalk Server job.</span></span> <span data-ttu-id="a8db2-138">一部のユーザーは、メンテナンス プランを作成します。</span><span class="sxs-lookup"><span data-stu-id="a8db2-138">Some users create a maintenance plan.</span></span> <span data-ttu-id="a8db2-139">あなたです。</span><span class="sxs-lookup"><span data-stu-id="a8db2-139">The choice is yours.</span></span> <span data-ttu-id="a8db2-140">このトピックでは、両方のオプションを使用します。</span><span class="sxs-lookup"><span data-stu-id="a8db2-140">This topic lists both options.</span></span>

#### <a name="option-1-create-the-spdeletebackuphistoryandfiles-stored-procedure"></a><span data-ttu-id="a8db2-141">オプション 1:Sp_DeleteBackupHistoryAndFiles ストアド プロシージャを作成します。</span><span class="sxs-lookup"><span data-stu-id="a8db2-141">Option 1: Create the sp_DeleteBackupHistoryAndFiles stored procedure</span></span>

1. <span data-ttu-id="a8db2-142">SQL Server Management studio では、BizTalk 管理データベース (BizTalkMgmtDb) を選択します。</span><span class="sxs-lookup"><span data-stu-id="a8db2-142">In SQL Server Management Studio, select the BizTalk Management database (BizTalkMgmtDb).</span></span> 
2. <span data-ttu-id="a8db2-143">選択**新しいクエリ**、次の T-SQL スクリプトを実行すると、sp_DeleteBackupHistoryAndFiles ストアド プロシージャと。</span><span class="sxs-lookup"><span data-stu-id="a8db2-143">Select **New Query**, and run the following T-SQL script to create the sp_DeleteBackupHistoryAndFiles stored procedure:</span></span> 

    ```
    CREATE PROCEDURE [dbo].[sp_DeleteBackupHistoryAndFiles] @DaysToKeep smallint = null
    AS

    BEGIN
    set nocount on
    IF @DaysToKeep IS NULL OR @DaysToKeep <= 1
    RETURN
    /*
    Only delete full sets
    If a set spans a day in such a way that some items fall into the deleted group and the other does not, do not delete the set
    */

    DECLARE DeleteBackupFiles CURSOR
    FOR SELECT 'del "' + [BackupFileLocation] + '\' + [BackupFileName] + '"' FROM [adm_BackupHistory]
    WHERE  datediff( dd, [BackupDateTime], getdate() ) >= @DaysToKeep
    AND [BackupSetId] NOT IN ( SELECT [BackupSetId] FROM [dbo].[adm_BackupHistory] [h2] WHERE [h2].[BackupSetId] = [BackupSetId] AND datediff( dd, [h2].[BackupDateTime], getdate() ) < @DaysToKeep )

    DECLARE @cmd varchar(400)
    OPEN DeleteBackupFiles
    FETCH NEXT FROM DeleteBackupFiles INTO @cmd
    WHILE (@@fetch_status <> -1)
    BEGIN
        IF (@@fetch_status <> -2)
        BEGIN
            EXEC master.dbo.xp_cmdshell @cmd, NO_OUTPUT
            delete from [adm_BackupHistory] WHERE CURRENT OF DeleteBackupFiles
            print @cmd
        END
        FETCH NEXT FROM DeleteBackupFiles INTO @cmd
    END

    CLOSE DeleteBackupFiles
    DEALLOCATE DeleteBackupFiles
    END
    GO
    ```

3. <span data-ttu-id="a8db2-144">BizTalk Server のバックアップ ジョブを開き、選択**手順**します。</span><span class="sxs-lookup"><span data-stu-id="a8db2-144">Open the Backup BizTalk Server job, and select **Steps**.</span></span>
4. <span data-ttu-id="a8db2-145">編集、 **Clear Backup History**ステップを呼び出す新しいよう*sp_DeleteBackupHistoryAndFiles*ストアド プロシージャではなく、以前*sp_DeleteBackupHistory*ストアド プロシージャです。</span><span class="sxs-lookup"><span data-stu-id="a8db2-145">Edit the **Clear Backup History** step so that it calls the new *sp_DeleteBackupHistoryAndFiles* stored procedure instead of the previous *sp_DeleteBackupHistory* stored procedure.</span></span>
5. <span data-ttu-id="a8db2-146">**[OK]** を選択して変更を保存します。</span><span class="sxs-lookup"><span data-stu-id="a8db2-146">Select **OK** to save your changes.</span></span>

#### <a name="option-2-create-a-maintenance-plan"></a><span data-ttu-id="a8db2-147">オプション 2:メンテナンス プランを作成します。</span><span class="sxs-lookup"><span data-stu-id="a8db2-147">Option 2: Create a maintenance plan</span></span>

1. <span data-ttu-id="a8db2-148">SQL Server Management studio で展開**管理**を右クリックして**メンテナンス プラン**、選択と**メンテナンス プラン ウィザード**します。</span><span class="sxs-lookup"><span data-stu-id="a8db2-148">In SQL Server Management Studio, expand **Management**, right-click **Maintenance Plans**, and select **Maintenance Plan Wizard**.</span></span>
2. <span data-ttu-id="a8db2-149">プランの名前 (たとえば、名前を付けます*バックアップ ファイルの削除*)、し、、**変更**横に**スケジュール**。</span><span class="sxs-lookup"><span data-stu-id="a8db2-149">Name the plan (for example, name it *Purge Backup Files*), and then select the **Change** button next to **Schedule**.</span></span>
3. <span data-ttu-id="a8db2-150">バックアップ ファイルを削除する頻度を選択します。</span><span class="sxs-lookup"><span data-stu-id="a8db2-150">Choose how frequently you want to purge the backup files.</span></span> <span data-ttu-id="a8db2-151">これらの設定は、ユーザーが決定できますは完全にします。</span><span class="sxs-lookup"><span data-stu-id="a8db2-151">These settings are completely up to you.</span></span> <span data-ttu-id="a8db2-152">**[OK]** を選択し、 **[次へ]** を選択します。</span><span class="sxs-lookup"><span data-stu-id="a8db2-152">Select **OK**, and then select **Next**.</span></span>
4. <span data-ttu-id="a8db2-153">選択**メンテナンス クリーンアップ タスク**を選択し、**次**します。</span><span class="sxs-lookup"><span data-stu-id="a8db2-153">Select **Maintenance Cleanup Task**, and select **Next**.</span></span>
5. <span data-ttu-id="a8db2-154">**クリーンアップ タスク**ウィンドウに移動して**フォルダーを検索し、ファイルを削除しています.**、バックアップ フォルダー (f:\BizTalkBackUps など) を選択し、入力、 **.bak**ファイル拡張子に対応します。</span><span class="sxs-lookup"><span data-stu-id="a8db2-154">In the **Cleanup Task** window, go to **Search folder and delete files...**, select your backup Folder (maybe f:\BizTalkBackUps), and enter **.bak** for the File extension.</span></span> <span data-ttu-id="a8db2-155">経過期間に基づいてファイルを削除することもできます。</span><span class="sxs-lookup"><span data-stu-id="a8db2-155">You can also choose to delete files based on their age.</span></span> <span data-ttu-id="a8db2-156">たとえば、3 週間以上経過したファイルを削除する場合は、3 を入力します。</span><span class="sxs-lookup"><span data-stu-id="a8db2-156">For example, enter 3 if you want to delete files that are older than 3 weeks.</span></span> <span data-ttu-id="a8db2-157">**[次へ]** を選択します。</span><span class="sxs-lookup"><span data-stu-id="a8db2-157">Select **Next**.</span></span>
6. <span data-ttu-id="a8db2-158">ウィザードを完了し、必要な追加情報を入力します。</span><span class="sxs-lookup"><span data-stu-id="a8db2-158">Finish going through the wizard and enter any additional information you want.</span></span> <span data-ttu-id="a8db2-159">**[完了]** を選択します。</span><span class="sxs-lookup"><span data-stu-id="a8db2-159">Select **Finish**.</span></span>


## <a name="install-edi-schemas-and-more-edi-as2-configuration"></a><span data-ttu-id="a8db2-160">EDI スキーマおよび EDI AS2 の追加構成をインストールします。</span><span class="sxs-lookup"><span data-stu-id="a8db2-160">Install EDI schemas and more EDI AS2 configuration</span></span>
 <span data-ttu-id="a8db2-161">EANCOM、EDIFACT、HIPAA、および X12 スキーマ ファイルは MicrosoftEdiXSDTemplates.exe という名前の自己解凍実行可能ファイルに含まれています。</span><span class="sxs-lookup"><span data-stu-id="a8db2-161">The EANCOM, EDIFACT, HIPAA, and X12 schema files are included in a self-extracting executable file named  MicrosoftEdiXSDTemplates.exe.</span></span> <span data-ttu-id="a8db2-162">EDI ソリューションを作成するには、これらのファイルを抽出し、プロジェクトと共に配置します。</span><span class="sxs-lookup"><span data-stu-id="a8db2-162">To create EDI solutions, extract these files, and deploy with your projects.</span></span> <span data-ttu-id="a8db2-163">インストールし、これらのファイルを抽出します。</span><span class="sxs-lookup"><span data-stu-id="a8db2-163">To install and extract these files:</span></span>  

1. <span data-ttu-id="a8db2-164">実行、[!INCLUDE[btsBizTalkServerNoVersion_md](../includes/btsbiztalkservernoversion-md.md)]のインストールと、インストール、**開発ツールおよび SDK**コンポーネント。</span><span class="sxs-lookup"><span data-stu-id="a8db2-164">Run the [!INCLUDE[btsBizTalkServerNoVersion_md](../includes/btsbiztalkservernoversion-md.md)] installation, and install the **Developer Tools and SDK** component.</span></span> <span data-ttu-id="a8db2-165">このコンポーネントは、MicrosoftEdiXSDTemplates.exe EDI スキーマ ファイルを \XSD_Schema\EDI フォルダーにダウンロードします。</span><span class="sxs-lookup"><span data-stu-id="a8db2-165">This component  downloads the MicrosoftEdiXSDTemplates.exe EDI schema file to the \XSD_Schema\EDI folder.</span></span>  

   > [!NOTE]
   > <span data-ttu-id="a8db2-166">アップグレードする場合は[!INCLUDE[btsBizTalkServerNoVersion_md](../includes/btsbiztalkservernoversion-md.md)]のインストール内の MicrosoftEdiXSDTemplates.exe ファイルがアップグレードに関連付けられた新しい MicrosoftEdiXSDTemplates.exe ファイルに置き換えられます。</span><span class="sxs-lookup"><span data-stu-id="a8db2-166">If you upgrade [!INCLUDE[btsBizTalkServerNoVersion_md](../includes/btsbiztalkservernoversion-md.md)], the MicrosoftEdiXSDTemplates.exe file in your installation is replaced with the new MicrosoftEdiXSDTemplates.exe file associated with the upgrade.</span></span> <span data-ttu-id="a8db2-167">必要がある場合、前のスキーマでは、前の MicrosoftEdiXSDTemplates.exe ファイルをバックアップします。</span><span class="sxs-lookup"><span data-stu-id="a8db2-167">If you need the previous the schemas, then back up the previous MicrosoftEdiXSDTemplates.exe file.</span></span>  
   > 
   > [!NOTE]
   > <span data-ttu-id="a8db2-168">アップグレードするときに、メッセージ スキーマをアップグレードする場合[!INCLUDE[btsBizTalkServerNoVersion_md](../includes/btsbiztalkservernoversion-md.md)]それ以降のビルドに更新されたスキーマを使用して問題が発生する可能性がありますまたは追加の更新手順を実行する必要があります。</span><span class="sxs-lookup"><span data-stu-id="a8db2-168">If you upgrade message schemas when you upgrade [!INCLUDE[btsBizTalkServerNoVersion_md](../includes/btsbiztalkservernoversion-md.md)] to a later build, you may encounter issues using the updated schemas, or you may have to perform additional updating steps.</span></span> <span data-ttu-id="a8db2-169">「に関する考慮事項のスキーマの更新」セクションを参照してください[アプリケーションの更新に関する重要な考慮事項](../core/important-considerations-for-updating-applications.md)</span><span class="sxs-lookup"><span data-stu-id="a8db2-169">See the "Considerations for updating schemas" section in [Important Considerations for Updating Applications](../core/important-considerations-for-updating-applications.md)</span></span>

2. <span data-ttu-id="a8db2-170">移動して[!INCLUDE[btsBiztalkServerPath](../includes/btsbiztalkserverpath-md.md)]\XSD_Schema\EDI、MicrosoftEdiXSDTemplates.exe をダブルクリックします。</span><span class="sxs-lookup"><span data-stu-id="a8db2-170">Go  to [!INCLUDE[btsBiztalkServerPath](../includes/btsbiztalkserverpath-md.md)]\XSD_Schema\EDI, and double-click MicrosoftEdiXSDTemplates.exe.</span></span>  

3. <span data-ttu-id="a8db2-171">スキーマを抽出[!INCLUDE[btsBiztalkServerPath](../includes/btsbiztalkserverpath-md.md)]\XSD_Schema\EDI です。</span><span class="sxs-lookup"><span data-stu-id="a8db2-171">Extract the schemas to [!INCLUDE[btsBiztalkServerPath](../includes/btsbiztalkserverpath-md.md)]\XSD_Schema\EDI.</span></span> <span data-ttu-id="a8db2-172">スキーマを抽出するときは EANCOM、EDIFACT、HIPAA、および X12 に格納されているフォルダー。</span><span class="sxs-lookup"><span data-stu-id="a8db2-172">When you extract the schemas, they are stored in EANCOM, EDIFACT, HIPAA, and X12 folders.</span></span>  

#### <a name="add-a-reference-to-the-biztalk-server-edi-application"></a><span data-ttu-id="a8db2-173">BizTalk Server EDI アプリケーションへの参照を追加します。</span><span class="sxs-lookup"><span data-stu-id="a8db2-173">Add a reference to the BizTalk Server EDI application</span></span>  
 <span data-ttu-id="a8db2-174">EDI スキーマ、パイプライン、およびオーケストレーションの展開、 **BizTalk EDI アプリケーション**します。</span><span class="sxs-lookup"><span data-stu-id="a8db2-174">EDI schemas, pipelines, and orchestrations are deployed in the **BizTalk EDI Application**.</span></span> <span data-ttu-id="a8db2-175">その他のアプリケーションを EDI アプリケーションとしてを使用するへの参照を追加、 **BizTalk EDI アプリケーション**します。</span><span class="sxs-lookup"><span data-stu-id="a8db2-175">To use any other application as an EDI application, add a reference to the **BizTalk EDI Application**.</span></span> <span data-ttu-id="a8db2-176">手順:</span><span class="sxs-lookup"><span data-stu-id="a8db2-176">Steps:</span></span>  

1. <span data-ttu-id="a8db2-177">[!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)]管理コンソールで、展開**アプリケーション**します。</span><span class="sxs-lookup"><span data-stu-id="a8db2-177">In the [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] Administration Console, expand  **Applications**.</span></span> <span data-ttu-id="a8db2-178">EDI を使用するアプリケーションを右クリックして (など*BizTalk アプリケーション 1*) を選択します**追加**、し、**参照**します。</span><span class="sxs-lookup"><span data-stu-id="a8db2-178">Right-click the application that you want to use for EDI (such as *BizTalk Application 1*), select **Add**, and then select **References**.</span></span>  

2. <span data-ttu-id="a8db2-179">選択**BizTalk EDI アプリケーション**を選択し、 **OK**変更を保存します。</span><span class="sxs-lookup"><span data-stu-id="a8db2-179">Select **BizTalk EDI Application**, and select **OK** to save your changes.</span></span>  

> [!TIP]
>  <span data-ttu-id="a8db2-180">その他のアプリケーションへの参照を表示するには、任意のアプリケーションを右クリックして**プロパティ**します。</span><span class="sxs-lookup"><span data-stu-id="a8db2-180">To see references to other applications, right-click any application, and select **Properties**.</span></span> <span data-ttu-id="a8db2-181">選択**参照**します。</span><span class="sxs-lookup"><span data-stu-id="a8db2-181">Select **References**.</span></span> <span data-ttu-id="a8db2-182">新しい参照の追加もおよび既存の参照を削除できます。</span><span class="sxs-lookup"><span data-stu-id="a8db2-182">You can also add new references, and remove existing references.</span></span>  

> [!NOTE]
>  <span data-ttu-id="a8db2-183">BizTalk EDI アプリケーションするカスタム アーティファクトを追加しないでください。</span><span class="sxs-lookup"><span data-stu-id="a8db2-183">Do not add custom artifacts to the BizTalk EDI Application.</span></span> <span data-ttu-id="a8db2-184">このアプリケーションとしてのままにすることをお勧め-です。</span><span class="sxs-lookup"><span data-stu-id="a8db2-184">It's best to leave this application as-is.</span></span>  

#### <a name="start-batch-orchestrations"></a><span data-ttu-id="a8db2-185">バッチ オーケストレーションを開始します。</span><span class="sxs-lookup"><span data-stu-id="a8db2-185">Start batch orchestrations</span></span>  
 <span data-ttu-id="a8db2-186">EDI バッチを送受信するパーティを有効にした場合は、バッチ処理オーケストレーションを開始します。</span><span class="sxs-lookup"><span data-stu-id="a8db2-186">If you enable a party to receive and/or send EDI batches, then start the batching orchestrations.</span></span> <span data-ttu-id="a8db2-187">構成ウィザードまたはインストール ウィザードでは、これらのオーケストレーションは開始されません。</span><span class="sxs-lookup"><span data-stu-id="a8db2-187">These orchestrations are not started by the installation wizard or the configuration wizard.</span></span> <span data-ttu-id="a8db2-188">手順:</span><span class="sxs-lookup"><span data-stu-id="a8db2-188">Steps:</span></span>  

1. <span data-ttu-id="a8db2-189">[!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)]管理コンソールで、展開**BizTalk EDI アプリケーション**、選び**オーケストレーション**します。</span><span class="sxs-lookup"><span data-stu-id="a8db2-189">In [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] Administration Console, expand **BizTalk EDI Application**, and select**Orchestrations**.</span></span>  

2. <span data-ttu-id="a8db2-190">次のオーケストレーションのそれぞれを右クリックして**開始**:</span><span class="sxs-lookup"><span data-stu-id="a8db2-190">Right-click each of the following orchestrations, and select **Start**:</span></span>  

   -   <span data-ttu-id="a8db2-191">Microsoft.BizTalk.Edi.BatchSuspendOrchestration.BatchElementSuspendService (アセンブリ。Microsoft.BizTalk.Edi.BatchingOrchestration.dll)</span><span class="sxs-lookup"><span data-stu-id="a8db2-191">Microsoft.BizTalk.Edi.BatchSuspendOrchestration.BatchElementSuspendService (assembly: Microsoft.BizTalk.Edi.BatchingOrchestration.dll)</span></span>  

   -   <span data-ttu-id="a8db2-192">Microsoft.BizTalk.Edi.BatchingOrchestration.BatchingService (アセンブリ。Microsoft.BizTalk.Edi.BatchingOrchestration.dll)</span><span class="sxs-lookup"><span data-stu-id="a8db2-192">Microsoft.BizTalk.Edi.BatchingOrchestration.BatchingService (assembly: Microsoft.BizTalk.Edi.BatchingOrchestration.dll)</span></span>  

   -   <span data-ttu-id="a8db2-193">Microsoft.BizTalk.Edi.RoutingOrchestration.BatchRoutingService (アセンブリ。Microsoft.BizTalk.Edi.RoutingOrchestration.dll)</span><span class="sxs-lookup"><span data-stu-id="a8db2-193">Microsoft.BizTalk.Edi.RoutingOrchestration.BatchRoutingService (assembly: Microsoft.BizTalk.Edi.RoutingOrchestration.dll)</span></span>  

> [!NOTE]
>  <span data-ttu-id="a8db2-194">EDI バッチ処理オーケストレーションは、EDI バッチを送受信する場合にのみ開始する必要があります。</span><span class="sxs-lookup"><span data-stu-id="a8db2-194">The EDI batching orchestrations should only be started if you receive and/or send EDI batches.</span></span> <span data-ttu-id="a8db2-195">システムの受信または EDI バッチを送信されていないときに開始すると、システムのパフォーマンスが影響する可能性があります。</span><span class="sxs-lookup"><span data-stu-id="a8db2-195">Starting them when the system is not receiving or sending EDI batches could affect system performance.</span></span>  

#### <a name="migrate-edi-artifacts-from-a-previous-biztalk-version"></a><span data-ttu-id="a8db2-196">以前の BizTalk バージョンからの EDI アイテムを移行します。</span><span class="sxs-lookup"><span data-stu-id="a8db2-196">Migrate EDI artifacts from a previous BizTalk version</span></span>  
 <span data-ttu-id="a8db2-197">取引がで管理されている[!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)]で更新された[!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)]2010 以降のバージョン。</span><span class="sxs-lookup"><span data-stu-id="a8db2-197">The way trading partners are managed in [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] was updated in [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] 2010 and newer versions.</span></span> <span data-ttu-id="a8db2-198">前の[!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)]バージョンでは、取引先、およびホストするパートナーではなくのみパーティが作成された[!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)]します。</span><span class="sxs-lookup"><span data-stu-id="a8db2-198">In the previous [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] versions, a party was created only for the trading partner, and not for the partner hosting [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)].</span></span> <span data-ttu-id="a8db2-199">[!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)]すべての取引先に関して、ホストするパートナーを含む、パーティーを作成する必要があります 2010 以降、[!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)]します。</span><span class="sxs-lookup"><span data-stu-id="a8db2-199">In [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] 2010 and newer, a party must be created for all the trading partners, including the partner hosting [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)].</span></span> <span data-ttu-id="a8db2-200">以前[!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)]バージョンでは、エンコード (X12 および EDIFACT)、トランスポート (AS2) プロトコルのプロパティはパーティ レベルで定義されます。</span><span class="sxs-lookup"><span data-stu-id="a8db2-200">In previous [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] versions, the encoding (X12 and EDIFACT) and transport (AS2) protocol properties are defined at the party level.</span></span> <span data-ttu-id="a8db2-201">[!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] 2010 以降のバージョンでは、これらのプロパティはアグリーメントを通じて定義されます。</span><span class="sxs-lookup"><span data-stu-id="a8db2-201">In [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] 2010 and newer versions, these properties are defined through agreements.</span></span>  

 <span data-ttu-id="a8db2-202">以前のバージョンからパーティ データを移行する[!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)]はパーティ移行ツールが含まれています。</span><span class="sxs-lookup"><span data-stu-id="a8db2-202">To migrate party data from previous versions, [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] includes a Party Migration Tool.</span></span> <span data-ttu-id="a8db2-203">次の移行パスを検討してください。</span><span class="sxs-lookup"><span data-stu-id="a8db2-203">Consider the following migration paths:</span></span>  


| [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] <span data-ttu-id="a8db2-204">バージョン</span><span class="sxs-lookup"><span data-stu-id="a8db2-204">Version</span></span>  |                                                                                                                                                                                                                                                                                                                                     <span data-ttu-id="a8db2-205">移行パス</span><span class="sxs-lookup"><span data-stu-id="a8db2-205">Migration Path</span></span>                                                                                                                                                                                                                                                                                                                                      |
|---------------------------------------------------------------------------------------------|-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
|      **[!INCLUDE[btsbiztalkserver2006r2](../includes/btsbiztalkserver2006r2-md.md)]**       | <span data-ttu-id="a8db2-206">BizTalk Server 2009 にアップグレードします。</span><span class="sxs-lookup"><span data-stu-id="a8db2-206">Upgrade to BizTalk Server 2009.</span></span> <span data-ttu-id="a8db2-207">含まれているパーティ移行ツールを使用して、 [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] 2013/2013 R2 に移行する[!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)]2013/2013 R2。</span><span class="sxs-lookup"><span data-stu-id="a8db2-207">Then, use the Party Migration Tool included with [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] 2013/2013 R2 to migrate to [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] 2013/2013 R2.</span></span><br /><br /> <span data-ttu-id="a8db2-208">**または**に付属するパーティ移行ツールを使用して、 [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] 2013/2013 R2 に移行する[!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)]2010。</span><span class="sxs-lookup"><span data-stu-id="a8db2-208">**Or**, use the Party Migration Tool included with [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] 2013/2013 R2 to migrate to [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] 2010.</span></span> <span data-ttu-id="a8db2-209">アップグレードし、 [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] 2013/2013 R2。</span><span class="sxs-lookup"><span data-stu-id="a8db2-209">Then, upgrade to [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] 2013/2013 R2.</span></span> |
| <span data-ttu-id="a8db2-210">**[!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] 2009**</span><span class="sxs-lookup"><span data-stu-id="a8db2-210">**[!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] 2009**</span></span> |                                                                                                                                                                                                           <span data-ttu-id="a8db2-211">含まれているパーティ移行ツールを使用して、 [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] 2013/2013 R2 に直接移行する[!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)]2013/2013 R2。</span><span class="sxs-lookup"><span data-stu-id="a8db2-211">Use the Party Migration Tool included with [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] 2013/2013 R2 to migrate directly to [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] 2013/2013 R2.</span></span>                                                                                                                                                                                                            |
| <span data-ttu-id="a8db2-212">**[!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] 2010**</span><span class="sxs-lookup"><span data-stu-id="a8db2-212">**[!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] 2010**</span></span> |                                                                                                                                                                                                                                                                                       <span data-ttu-id="a8db2-213">アップグレード[!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)]2013/2013 R2。</span><span class="sxs-lookup"><span data-stu-id="a8db2-213">Upgrade to [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] 2013/2013 R2.</span></span>                                                                                                                                                                                                                                                                                       |

 <span data-ttu-id="a8db2-214">パーティ移行ツールで使用できる、[!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)]メディアの \PartyMigrationTool フォルダー。</span><span class="sxs-lookup"><span data-stu-id="a8db2-214">The Party Migration Tool is available on the [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] media under the \PartyMigrationTool folder.</span></span>  


## <a name="install-biztalk-health-monitor-bhm"></a><span data-ttu-id="a8db2-215">BizTalk Health Monitor (BHM) のインストールします。</span><span class="sxs-lookup"><span data-stu-id="a8db2-215">Install BizTalk Health Monitor (BHM)</span></span>

<span data-ttu-id="a8db2-216">BizTalk Health Monitor では、ダッシュ ボードを作成し、メッセージ ボックス ビューアー レポートの表示、カスタム クエリを作成、ターミネータ タスクの実行、複数の BizTalk 環境の監視を提供します。</span><span class="sxs-lookup"><span data-stu-id="a8db2-216">BizTalk Health Monitor provides a dashboard to create and view MessageBox Viewer reports, create custom queries, run Terminator tasks, monitor multiple BizTalk environments, and more.</span></span> <span data-ttu-id="a8db2-217">BizTalk 環境を担当する場合は、インストールしてこのツールを使用して、BizTalk 環境の正常性を確認して維持もお勧めします。</span><span class="sxs-lookup"><span data-stu-id="a8db2-217">If you are responsible for a BizTalk envrionment, we suggest you install and use this tool to check the health of your BizTalk environment, and also maintain it.</span></span>

<span data-ttu-id="a8db2-218">主要リンク:</span><span class="sxs-lookup"><span data-stu-id="a8db2-218">Key links:</span></span>

[<span data-ttu-id="a8db2-219">BHM をダウンロードします。</span><span class="sxs-lookup"><span data-stu-id="a8db2-219">Download BHM</span></span>](https://www.microsoft.com/download/details.aspx?id=43716)  
[<span data-ttu-id="a8db2-220">BHM をインストールします。</span><span class="sxs-lookup"><span data-stu-id="a8db2-220">Install BHM</span></span>](http://social.technet.microsoft.com/wiki/contents/articles/26466.biztalk-server-how-to-install-the-new-biztalk-health-monitor-snap-in.aspx)  
[<span data-ttu-id="a8db2-221">BHM の公式ブログ</span><span class="sxs-lookup"><span data-stu-id="a8db2-221">BHM Official Blog</span></span>](https://blogs.msdn.microsoft.com/biztalkhealthmonitor/)

## <a name="create-your-hosts-and-host-instances"></a><span data-ttu-id="a8db2-222">ホストとホスト インスタンスを作成します。</span><span class="sxs-lookup"><span data-stu-id="a8db2-222">Create your hosts and host instances</span></span>
<span data-ttu-id="a8db2-223">いくつか重要なタスクを別々 のホストに分離することをお勧めします。</span><span class="sxs-lookup"><span data-stu-id="a8db2-223">It is recommended to separate some key tasks into separate hosts.</span></span> <span data-ttu-id="a8db2-224">たとえば、常に追跡専用は個別のホストを作成します。</span><span class="sxs-lookup"><span data-stu-id="a8db2-224">For example, always create a separate host that is dedicated to only tracking.</span></span> <span data-ttu-id="a8db2-225">メッセージの受信に注目したインスタンス、メッセージを送信する別のホスト/ホスト インスタンスおよびオーケストレーションの別のホスト/ホスト インスタンスは、別のホスト/ホストを作成します。</span><span class="sxs-lookup"><span data-stu-id="a8db2-225">Create another host/host instance that focuses on receiving messages, another host/host instance for sending messages, and another host/host instance for orchestration.</span></span> 

<span data-ttu-id="a8db2-226">この領域で多くの推奨事項があります。</span><span class="sxs-lookup"><span data-stu-id="a8db2-226">There are many recommendations in this area.</span></span> <span data-ttu-id="a8db2-227">開始するため、いくつか次に示します。</span><span class="sxs-lookup"><span data-stu-id="a8db2-227">Here are a few to get you started:</span></span> 

[<span data-ttu-id="a8db2-228">BizTalk ホストとホスト インスタンスの管理</span><span class="sxs-lookup"><span data-stu-id="a8db2-228">Managing BizTalk Hosts and Host Instances</span></span>](../core/managing-biztalk-hosts-and-host-instances.md)  
[<span data-ttu-id="a8db2-229">BizTalk ホストの高可用性を実現します。</span><span class="sxs-lookup"><span data-stu-id="a8db2-229">Providing High Availability for BizTalk Hosts</span></span>](../core/providing-high-availability-for-biztalk-hosts.md)  
[<span data-ttu-id="a8db2-230">ベスト プラクティス:作成し、BizTalk Server を構成するホストとホスト</span><span class="sxs-lookup"><span data-stu-id="a8db2-230">Best Practices: Create and Configure BizTalk Server Host and Host</span></span>](http://social.technet.microsoft.com/wiki/contents/articles/19701.biztalk-server-best-practices-create-and-configure-biztalk-server-host-and-host-instances.aspx)  
[<span data-ttu-id="a8db2-231">同じコンピューターに複数のホストでオーケストレーションの実行</span><span class="sxs-lookup"><span data-stu-id="a8db2-231">Running Orchestrations in Multiple Hosts on the Same Computer</span></span>](http://social.technet.microsoft.com/wiki/contents/articles/31183.biztalk-server-running-orchestrations-in-multiple-hosts-on-the-same-computer.aspx)  
[<span data-ttu-id="a8db2-232">PowerShell を作成し、BizTalk Server ホスト、ホスト インスタンスおよびハンドラーの構成</span><span class="sxs-lookup"><span data-stu-id="a8db2-232">PowerShell to Create and Configure BizTalk Server Host, Host Instances and Handlers</span></span>](https://gallery.technet.microsoft.com/PowerShell-to-Configure-43d77916)  
[<span data-ttu-id="a8db2-233">TechNet Wiki の BizTalk Server リソース</span><span class="sxs-lookup"><span data-stu-id="a8db2-233">BizTalk Server Resources on the TechNet Wiki</span></span>](http://social.technet.microsoft.com/wiki/contents/articles/2240.biztalk-server-resources-on-the-technet-wiki.aspx)
