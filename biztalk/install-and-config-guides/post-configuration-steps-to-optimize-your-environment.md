---
title: "お客様の環境を最適化するために後の構成手順 |Microsoft ドキュメント"
description: "インストールして、BizTalk Server を構成した後に完了するタスクを含む SQL エージェント ジョブの構成、EDI スキーマをインストール、ホストとホスト インスタンス、および BizTalk Server の詳細を作成します。"
ms.custom: 
ms.prod: biztalk-server
ms.date: 09/27/2017
ms.reviewer: 
ms.suite: 
ms.tgt_pltfrm: 
ms.topic: article
ms.assetid: d0fef6ea-e7cc-4ea9-936d-5d638bc43feb
caps.latest.revision: "3"
author: MandiOhlinger
ms.author: mandia
manager: anneta
ms.openlocfilehash: ad09a989bf3bcf85e41ce8165a9834a22520ba8b
ms.sourcegitcommit: 5355a25d120d094778fb8f68ea14cab55c68d292
ms.translationtype: MT
ms.contentlocale: ja-JP
ms.lasthandoff: 09/28/2017
---
# <a name="post-configuration-steps-to-optimize-your-environment"></a><span data-ttu-id="73352-103">環境を最適化するための構成後の手順</span><span class="sxs-lookup"><span data-stu-id="73352-103">Post-configuration steps to optimize your environment</span></span>
<span data-ttu-id="73352-104">パフォーマンスを向上させ、BizTalk 環境を維持し、EDI スキーマをインストールする場合に役立つ構成後の手順です。</span><span class="sxs-lookup"><span data-stu-id="73352-104">Post-configuration steps to help improve performance, maintain your BizTalk environment, and install the EDI schemas.</span></span>

## <a name="disable-shared-memory-protocol-in-sql-server"></a><span data-ttu-id="73352-105">SQL Server の共有メモリ プロトコルを無効にする</span><span class="sxs-lookup"><span data-stu-id="73352-105">Disable Shared Memory protocol in SQL Server</span></span>

1. <span data-ttu-id="73352-106">**[SQL Server 構成マネージャー]** を開きます。</span><span class="sxs-lookup"><span data-stu-id="73352-106">Open **SQL Server Configuration Manager**.</span></span>
2. <span data-ttu-id="73352-107">**[SQL Server ネットワークの構成]** を展開し、**[MSSQLSERVER のプロトコル]** を選択します。</span><span class="sxs-lookup"><span data-stu-id="73352-107">Expand **SQL Server Network Configuration**, and select **Protocols for MSSQLSERVER**.</span></span>
3. <span data-ttu-id="73352-108">**[共有メモリ]** を右クリックし、**[無効]** を選択します。</span><span class="sxs-lookup"><span data-stu-id="73352-108">Right-click **Shared Memory**, and select **Disable**.</span></span>
4. <span data-ttu-id="73352-109">**[SQL Server サービス]** を選択し、**[SQL Server (MSSQLServer)]** を右クリックして、**[再起動]** を選択します。</span><span class="sxs-lookup"><span data-stu-id="73352-109">Select **SQL Server Services**, right-click **SQL Server (MSSQLServer)**, and select **Restart**.</span></span>
5. <span data-ttu-id="73352-110">**SQL Server 構成マネージャー**を終了します。</span><span class="sxs-lookup"><span data-stu-id="73352-110">Close **SQL Server Configuration Manager**.</span></span>

## <a name="configure-the-sql-agent-jobs"></a><span data-ttu-id="73352-111">SQL エージェント ジョブを構成する</span><span class="sxs-lookup"><span data-stu-id="73352-111">Configure the SQL Agent jobs</span></span>

1. <span data-ttu-id="73352-112">**SQL Server Management Studio** を起動し、**データベース エンジン**に接続します。</span><span class="sxs-lookup"><span data-stu-id="73352-112">**SQL Server Management Studio**, and connect to **Database Engine**.</span></span>
2. <span data-ttu-id="73352-113">**[SQL Server エージェント]** を展開し、**[ジョブ]** を展開します。</span><span class="sxs-lookup"><span data-stu-id="73352-113">Expand **SQL Server Agent**, and expand **Jobs**.</span></span> <span data-ttu-id="73352-114">次のジョブを構成します。</span><span class="sxs-lookup"><span data-stu-id="73352-114">Configure the following jobs:</span></span>  

    <span data-ttu-id="73352-115">ジョブ名</span><span class="sxs-lookup"><span data-stu-id="73352-115">Job Name</span></span>  |<span data-ttu-id="73352-116">説明</span><span class="sxs-lookup"><span data-stu-id="73352-116">Description</span></span>  |<span data-ttu-id="73352-117">必要な理由</span><span class="sxs-lookup"><span data-stu-id="73352-117">Why you need it</span></span>  
    ---------|---------|---------
    <span data-ttu-id="73352-118">Backup BizTalk Server</span><span class="sxs-lookup"><span data-stu-id="73352-118">Backup BizTalk Server</span></span> | <span data-ttu-id="73352-119">BizTalk Server データベースとログ ファイルをバックアップします。</span><span class="sxs-lookup"><span data-stu-id="73352-119">Backs up the BizTalk Server databases and the log files.</span></span> <span data-ttu-id="73352-120">このジョブを構成するときに、回数やファイルの場所などのパラメーターを指定します。</span><span class="sxs-lookup"><span data-stu-id="73352-120">When configuring the job, you determine parameters like frequency and file location.</span></span><br/><br/><span data-ttu-id="73352-121">以下のリンクで、SQL エージェント ジョブとそのパラメーターについて説明しています。</span><span class="sxs-lookup"><span data-stu-id="73352-121">The following links describe the SQL Agent job and its parameters:</span></span><br/><br/>[<span data-ttu-id="73352-122">BizTalk Server データベースのバックアップと復元</span><span class="sxs-lookup"><span data-stu-id="73352-122">Backing Up and Restoring BizTalk Server Databases</span></span>](../core/backing-up-and-restoring-biztalk-server-databases.md)<br/>[<span data-ttu-id="73352-123">BizTalk Server のバックアップ ジョブを構成する方法</span><span class="sxs-lookup"><span data-stu-id="73352-123">How to Configure the Backup BizTalk Server Job</span></span>](../core/how-to-configure-the-backup-biztalk-server-job.md)|<span data-ttu-id="73352-124">この SQL エージェント ジョブでは、トランザクション ログの切り捨ても行います。これによりパフォーマンスが向上します。</span><span class="sxs-lookup"><span data-stu-id="73352-124">This SQL Agent job also truncates the transaction logs, which helps improve performance.</span></span><br/><br/><span data-ttu-id="73352-125">このジョブでは、バックアップ ファイルは削除されません。古いファイルも削除されません。</span><span class="sxs-lookup"><span data-stu-id="73352-125">This job does not remove or delete backup files, including older files.</span></span> <span data-ttu-id="73352-126">バックアップ ファイルを削除する方法については、「Microsoft BizTalk Server データベース サーバーでバックアップ ファイルが長期的に蓄積すると、"Backup BizTalk Server" ジョブが失敗する」を参照してください。</span><span class="sxs-lookup"><span data-stu-id="73352-126">To delete backup files, refer to The "Backup BizTalk Server" job fails when backup files accumulate over time in the Microsoft BizTalk Server database server.</span></span>
    <span data-ttu-id="73352-127">DTA Purge and Archive</span><span class="sxs-lookup"><span data-stu-id="73352-127">DTA Purge and Archive</span></span> |<span data-ttu-id="73352-128">BizTalk Server 追跡データベース (BizTalkDTADb) の切り捨てとアーカイブを行います。</span><span class="sxs-lookup"><span data-stu-id="73352-128">Truncates and archives the BizTalk Server Tracking database (BizTalkDTADb).</span></span> <span data-ttu-id="73352-129">このジョブを構成するときに、完了したインスタンスを保持する日数や全データを保持する日数などのパラメーターを指定します。</span><span class="sxs-lookup"><span data-stu-id="73352-129">When configuring the job, you determine parameters like how many days to keep completed instances and how many to days to keep all data.</span></span><br/><br/><span data-ttu-id="73352-130">以下のリンクで、SQL エージェント ジョブとそのパラメーターについて説明しています。</span><span class="sxs-lookup"><span data-stu-id="73352-130">The following links describe the SQL Agent job and its parameters:</span></span> <br/><br/>[<span data-ttu-id="73352-131">BizTalk 追跡データベースのアーカイブおよび削除</span><span class="sxs-lookup"><span data-stu-id="73352-131">Archiving and Purging the BizTalk Tracking Database</span></span>](../core/archiving-and-purging-the-biztalk-tracking-database.md)<br/>[<span data-ttu-id="73352-132">DTA Purge and Archive ジョブを構成する方法</span><span class="sxs-lookup"><span data-stu-id="73352-132">How to Configure the DTA Purge and Archive Job</span></span>](../core/how-to-configure-the-dta-purge-and-archive-job.md)|<span data-ttu-id="73352-133">この SQL エージェント ジョブは、追跡ホストを維持し、追跡イベントを削除することで、パフォーマンスに直接影響を及ぼします。</span><span class="sxs-lookup"><span data-stu-id="73352-133">This SQL Agent job directly impacts performance by maintaining the Tracking host and purging tracking events.</span></span>

## <a name="maintain-your-backup-files"></a><span data-ttu-id="73352-134">バックアップ ファイルを維持する</span><span class="sxs-lookup"><span data-stu-id="73352-134">Maintain your backup files</span></span>

<span data-ttu-id="73352-135">BizTalk Server の場合、バックアップ ファイルを削除するジョブは含まれません。</span><span class="sxs-lookup"><span data-stu-id="73352-135">BizTalk Server does not include any job to delete backup files.</span></span> <span data-ttu-id="73352-136">したがって、バックアップ ファイルを維持する方法は自由です。</span><span class="sxs-lookup"><span data-stu-id="73352-136">As a result, how you maintain your backup files is up to you.</span></span> <span data-ttu-id="73352-137">多くのユーザーは sp_DeleteBackupHistoryAndFiles ストアド プロシージャを作成し、BizTalk Server のバックアップ ジョブで直接このストアド プロシージャを呼び出します。</span><span class="sxs-lookup"><span data-stu-id="73352-137">Many users create the sp_DeleteBackupHistoryAndFiles stored procedure, and then call this stored procedure directly in the Backup BizTalk Server job.</span></span> <span data-ttu-id="73352-138">一部のユーザーはメンテナンス プランを作成します。</span><span class="sxs-lookup"><span data-stu-id="73352-138">Some users create a maintenance plan.</span></span> <span data-ttu-id="73352-139">お好きな方法を選択してください。</span><span class="sxs-lookup"><span data-stu-id="73352-139">The choice is yours.</span></span> <span data-ttu-id="73352-140">このトピックでは両方のオプションを示します。</span><span class="sxs-lookup"><span data-stu-id="73352-140">This topic lists both options.</span></span>

#### <a name="option-1-create-the-spdeletebackuphistoryandfiles-stored-procedure"></a><span data-ttu-id="73352-141">オプション 1: sp_DeleteBackupHistoryAndFiles ストアド プロシージャの作成</span><span class="sxs-lookup"><span data-stu-id="73352-141">Option 1: Create the sp_DeleteBackupHistoryAndFiles stored procedure</span></span>

1. <span data-ttu-id="73352-142">SQL Server Management Studio で、BizTalk 管理データベース (BizTalkMgmtDb) を選択します。</span><span class="sxs-lookup"><span data-stu-id="73352-142">In SQL Server Management Studio, select the BizTalk Management database (BizTalkMgmtDb).</span></span> 
2. <span data-ttu-id="73352-143">**[新しいクエリ]** を選択し、次の T-SQL スクリプトを実行して sp_DeleteBackupHistoryAndFiles ストアド プロシージャを作成します。</span><span class="sxs-lookup"><span data-stu-id="73352-143">Select **New Query**, and run the following T-SQL script to create the sp_DeleteBackupHistoryAndFiles stored procedure:</span></span> 

    ```
    CREATE PROCEDURE [dbo].[sp_DeleteBackupHistoryAndFiles] @DaysToKeep smallint = null
    AS

    BEGIN
    set nocount on
    IF @DaysToKeep IS NULL OR @DaysToKeep \<= 1
    RETURN
    /*
    Only delete full sets
    If a set spans a day in such a way that some items fall into the deleted group and the other does not, do not delete the set
    */

    DECLARE DeleteBackupFiles CURSOR
    FOR SELECT 'del "' + [BackupFileLocation] + '\' + [BackupFileName] + '"' FROM [adm_BackupHistory]
    WHERE  datediff( dd, [BackupDateTime], getdate() ) >= @DaysToKeep
    AND [BackupSetId] NOT IN ( SELECT [BackupSetId] FROM [dbo].[adm_BackupHistory] [h2] WHERE [h2].[BackupSetId] = [BackupSetId] AND datediff( dd, [h2].[BackupDateTime], getdate() ) < @DaysToKeep )
 
    DECLARE @cmd varchar(400)
    OPEN DeleteBackupFiles
    FETCH NEXT FROM DeleteBackupFiles INTO @cmd
    WHILE (@@fetch_status <> -1)
    BEGIN
        IF (@@fetch_status <> -2)
        BEGIN
            EXEC master.dbo.xp_cmdshell @cmd, NO_OUTPUT
            delete from [adm_BackupHistory] WHERE CURRENT OF DeleteBackupFiles
            print @cmd
        END
        FETCH NEXT FROM DeleteBackupFiles INTO @cmd
    END

    CLOSE DeleteBackupFiles
    DEALLOCATE DeleteBackupFiles
    END
    GO
    ```

3. <span data-ttu-id="73352-144">BizTalk Server のバックアップ ジョブを開き、**[ステップ]** を選択します。</span><span class="sxs-lookup"><span data-stu-id="73352-144">Open the Backup BizTalk Server job, and select **Steps**.</span></span>
4. <span data-ttu-id="73352-145">**[バックアップ履歴のクリア]** ステップを編集し、以前の *sp_DeleteBackupHistory* ストアド プロシージャではなく、新しい *sp_DeleteBackupHistoryAndFiles* を呼び出すようにします。</span><span class="sxs-lookup"><span data-stu-id="73352-145">Edit the **Clear Backup History** step so that it calls the new *sp_DeleteBackupHistoryAndFiles* stored procedure instead of the previous *sp_DeleteBackupHistory* stored procedure.</span></span>
5. <span data-ttu-id="73352-146">**[OK]** を選択して変更を保存します。</span><span class="sxs-lookup"><span data-stu-id="73352-146">Select **OK** to save your changes.</span></span>

#### <a name="option-2-create-a-maintenance-plan"></a><span data-ttu-id="73352-147">オプション 2: メンテナンス プランの作成</span><span class="sxs-lookup"><span data-stu-id="73352-147">Option 2: Create a maintenance plan</span></span>

1. <span data-ttu-id="73352-148">SQL Server Management Studio で、**[管理]** を展開し、**[メンテナンス プラン]** を右クリックして **[メンテナンス プラン ウィザード]** を選択します。</span><span class="sxs-lookup"><span data-stu-id="73352-148">In SQL Server Management Studio, expand **Management**, right-click **Maintenance Plans**, and select **Maintenance Plan Wizard**.</span></span>
2. <span data-ttu-id="73352-149">プランに名前 (*バックアップ ファイルの削除*など) を付け、**[スケジュール]** の横の **[変更]** ボタンを選択します。</span><span class="sxs-lookup"><span data-stu-id="73352-149">Name the plan (for example, name it *Purge Backup Files*), and then select the **Change** button next to **Schedule**.</span></span>
3. <span data-ttu-id="73352-150">バックアップ ファイルを削除する頻度を選択します。</span><span class="sxs-lookup"><span data-stu-id="73352-150">Choose how frequently you want to purge the backup files.</span></span> <span data-ttu-id="73352-151">これらの設定は完全にユーザーの自由です。</span><span class="sxs-lookup"><span data-stu-id="73352-151">These settings are completely up to you.</span></span> <span data-ttu-id="73352-152">**[OK]**、**[次へ]** の順に選択します。</span><span class="sxs-lookup"><span data-stu-id="73352-152">Select **OK**, and then select **Next**.</span></span>
4. <span data-ttu-id="73352-153">**[メンテナンス クリーンアップ タスク]**、**[次へ]** の順に選択します。</span><span class="sxs-lookup"><span data-stu-id="73352-153">Select **Maintenance Cleanup Task**, and select **Next**.</span></span>
5. <span data-ttu-id="73352-154">**[クリーンアップ タスク]** ウィンドウで、**[フォルダーを検索し、拡張子に基づいてファイルを削除する]** に移動し、バックアップ フォルダー (f:\BizTalkBackUps など) を選択して、ファイル拡張子として **.bak** を入力します。</span><span class="sxs-lookup"><span data-stu-id="73352-154">In the **Cleanup Task** window, go to **Search folder and delete files...**, select your backup Folder (maybe f:\BizTalkBackUps), and enter **.bak** for the File extension.</span></span> <span data-ttu-id="73352-155">経過期間に基づいてファイルを削除することもできます。</span><span class="sxs-lookup"><span data-stu-id="73352-155">You can also choose to delete files based on their age.</span></span> <span data-ttu-id="73352-156">たとえば、3 週間が経過したファイルを削除する場合は、3 と入力します。</span><span class="sxs-lookup"><span data-stu-id="73352-156">For example, enter 3 if you want to delete files that are older than 3 weeks.</span></span> <span data-ttu-id="73352-157">**[次へ]** を選択します。</span><span class="sxs-lookup"><span data-stu-id="73352-157">Select **Next**.</span></span>
6. <span data-ttu-id="73352-158">ウィザードでの操作が完了したら、必要な追加情報を入力します。</span><span class="sxs-lookup"><span data-stu-id="73352-158">Finish going through the wizard and enter any additional information you want.</span></span> <span data-ttu-id="73352-159">**[完了]** を選択します。</span><span class="sxs-lookup"><span data-stu-id="73352-159">Select **Finish**.</span></span>

  
## <a name="install-edi-schemas-and-more-edi-as2-configuration"></a><span data-ttu-id="73352-160">EDI スキーマのインストールおよび EDI AS2 の追加構成</span><span class="sxs-lookup"><span data-stu-id="73352-160">Install EDI schemas and more EDI AS2 configuration</span></span>
 <span data-ttu-id="73352-161">EANCOM、EDIFACT、HIPAA、および X12 のスキーマ ファイルは、MicrosoftEdiXSDTemplates.exe という名前の自己展開型の実行可能ファイルに含まれています。</span><span class="sxs-lookup"><span data-stu-id="73352-161">The EANCOM, EDIFACT, HIPAA, and X12 schema files are included in a self-extracting executable file named  MicrosoftEdiXSDTemplates.exe.</span></span> <span data-ttu-id="73352-162">EDI ソリューションを作成するには、これらのファイルを抽出し、プロジェクトと共に配置します。</span><span class="sxs-lookup"><span data-stu-id="73352-162">To create EDI solutions, extract these files, and deploy with your projects.</span></span> <span data-ttu-id="73352-163">これらのファイルをインストールして抽出するには、次のようにします。</span><span class="sxs-lookup"><span data-stu-id="73352-163">To install and extract these files:</span></span>  
  
1.  <span data-ttu-id="73352-164">[!INCLUDE[btsBizTalkServerNoVersion_md](../includes/btsbiztalkservernoversion-md.md)] インストールを実行し、**開発ツールおよび SDK** コンポーネントをインストールします。</span><span class="sxs-lookup"><span data-stu-id="73352-164">Run the [!INCLUDE[btsBizTalkServerNoVersion_md](../includes/btsbiztalkservernoversion-md.md)] installation, and install the **Developer Tools and SDK** component.</span></span> <span data-ttu-id="73352-165">このコンポーネントは、MicrosoftEdiXSDTemplates.exe EDI スキーマ ファイルを \XSD_Schema\EDI フォルダーにダウンロードします。</span><span class="sxs-lookup"><span data-stu-id="73352-165">This component  downloads the MicrosoftEdiXSDTemplates.exe EDI schema file to the \XSD_Schema\EDI folder.</span></span>  
  
    > [!NOTE]
    > <span data-ttu-id="73352-166">[!INCLUDE[btsBizTalkServerNoVersion_md](../includes/btsbiztalkservernoversion-md.md)] をアップグレードすると、環境内の MicrosoftEdiXSDTemplates.exe ファイルが、アップグレードに関連付けられた新しい MicrosoftEdiXSDTemplates.exe ファイルに置き換えられます。</span><span class="sxs-lookup"><span data-stu-id="73352-166">If you upgrade [!INCLUDE[btsBizTalkServerNoVersion_md](../includes/btsbiztalkservernoversion-md.md)], the MicrosoftEdiXSDTemplates.exe file in your installation is replaced with the new MicrosoftEdiXSDTemplates.exe file associated with the upgrade.</span></span> <span data-ttu-id="73352-167">前のスキーマが必要な場合は、前の MicrosoftEdiXSDTemplates.exe ファイルをバックアップします。</span><span class="sxs-lookup"><span data-stu-id="73352-167">If you need the previous the schemas, then back up the previous MicrosoftEdiXSDTemplates.exe file.</span></span>  
  
    > [!NOTE] 
    > <span data-ttu-id="73352-168">[!INCLUDE[btsBizTalkServerNoVersion_md](../includes/btsbiztalkservernoversion-md.md)] を新しいビルドにアップグレードするときにメッセージ スキーマをアップグレードすると、更新されたスキーマを使用するときに問題が発生したり、追加の更新手順が必要になったりする場合があります。</span><span class="sxs-lookup"><span data-stu-id="73352-168">If you upgrade message schemas when you upgrade [!INCLUDE[btsBizTalkServerNoVersion_md](../includes/btsbiztalkservernoversion-md.md)] to a later build, you may encounter issues using the updated schemas, or you may have to perform additional updating steps.</span></span> <span data-ttu-id="73352-169">「[アプリケーションの更新に関する重要な考慮事項](../core/important-considerations-for-updating-applications.md)」の「スキーマを更新する際の考慮事項」セクションを参照してください。</span><span class="sxs-lookup"><span data-stu-id="73352-169">See the "Considerations for updating schemas" section in [Important Considerations for Updating Applications](../core/important-considerations-for-updating-applications.md)</span></span>
  
2.  <span data-ttu-id="73352-170">[!INCLUDE[btsBiztalkServerPath](../includes/btsbiztalkserverpath-md.md)]\XSD_Schema\EDI に移動し、MicrosoftEdiXSDTemplates.exe をダブルクリックします。</span><span class="sxs-lookup"><span data-stu-id="73352-170">Go  to [!INCLUDE[btsBiztalkServerPath](../includes/btsbiztalkserverpath-md.md)]\XSD_Schema\EDI, and double-click MicrosoftEdiXSDTemplates.exe.</span></span>  
  
3.  <span data-ttu-id="73352-171">スキーマを [!INCLUDE[btsBiztalkServerPath](../includes/btsbiztalkserverpath-md.md)]\XSD_Schema\EDI に抽出します。</span><span class="sxs-lookup"><span data-stu-id="73352-171">Extract the schemas to [!INCLUDE[btsBiztalkServerPath](../includes/btsbiztalkserverpath-md.md)]\XSD_Schema\EDI.</span></span> <span data-ttu-id="73352-172">スキーマを抽出すると、EANCOM、EDIFACT、HIPAA、および X12 のフォルダーに格納されます。</span><span class="sxs-lookup"><span data-stu-id="73352-172">When you extract the schemas, they are stored in EANCOM, EDIFACT, HIPAA, and X12 folders.</span></span>  
  
#### <a name="add-a-reference-to-the-biztalk-server-edi-application"></a><span data-ttu-id="73352-173">BizTalk Server EDI アプリケーションへの参照を追加する</span><span class="sxs-lookup"><span data-stu-id="73352-173">Add a reference to the BizTalk Server EDI application</span></span>  
 <span data-ttu-id="73352-174">EDI スキーマ、パイプライン、およびオーケストレーションは **BizTalk EDI アプリケーション**に展開されます。</span><span class="sxs-lookup"><span data-stu-id="73352-174">EDI schemas, pipelines, and orchestrations are deployed in the **BizTalk EDI Application**.</span></span> <span data-ttu-id="73352-175">他のアプリケーションを EDI アプリケーションとして使用するには、**BizTalk EDI アプリケーション**への参照を追加します。</span><span class="sxs-lookup"><span data-stu-id="73352-175">To use any other application as an EDI application, add a reference to the **BizTalk EDI Application**.</span></span> <span data-ttu-id="73352-176">手順:</span><span class="sxs-lookup"><span data-stu-id="73352-176">Steps:</span></span>  
  
1.  <span data-ttu-id="73352-177">[!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] 管理コンソールで、**[アプリケーション]** を展開します。</span><span class="sxs-lookup"><span data-stu-id="73352-177">In the [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] Administration Console, expand  **Applications**.</span></span> <span data-ttu-id="73352-178">EDI で使用するアプリケーション (*BizTalk アプリケーション 1* など) を右クリックして、**[追加]**、**[参照]** の順に選択します。</span><span class="sxs-lookup"><span data-stu-id="73352-178">Right-click the application that you want to use for EDI (such as *BizTalk Application 1*), select **Add**, and then select **References**.</span></span>  
  
2.  <span data-ttu-id="73352-179">**[BizTalk EDI アプリケーション]** を選択し、**[OK]** を選択して変更を保存します。</span><span class="sxs-lookup"><span data-stu-id="73352-179">Select **BizTalk EDI Application**, and select **OK** to save your changes.</span></span>  
  
> [!TIP]
>  <span data-ttu-id="73352-180">他のアプリケーションへの参照を表示するには、任意のアプリケーションを右クリックし **[プロパティ]** を選択します。</span><span class="sxs-lookup"><span data-stu-id="73352-180">To see references to other applications, right-click any application, and select **Properties**.</span></span> <span data-ttu-id="73352-181">**[参照]** を選択します。</span><span class="sxs-lookup"><span data-stu-id="73352-181">Select **References**.</span></span> <span data-ttu-id="73352-182">新しい参照を追加して、既存の参照を削除することもできます。</span><span class="sxs-lookup"><span data-stu-id="73352-182">You can also add new references, and remove existing references.</span></span>  
  
> [!NOTE]
>  <span data-ttu-id="73352-183">BizTalk EDI アプリケーションにカスタム アイテムを追加しないでください。</span><span class="sxs-lookup"><span data-stu-id="73352-183">Do not add custom artifacts to the BizTalk EDI Application.</span></span> <span data-ttu-id="73352-184">このアプリケーションはそのままにしておくことをお勧めします。</span><span class="sxs-lookup"><span data-stu-id="73352-184">It's best to leave this application as-is.</span></span>  
  
#### <a name="start-batch-orchestrations"></a><span data-ttu-id="73352-185">バッチ オーケストレーションを開始する</span><span class="sxs-lookup"><span data-stu-id="73352-185">Start batch orchestrations</span></span>  
 <span data-ttu-id="73352-186">パーティが EDI バッチを送受信できるようにするには、バッチ処理オーケストレーションを開始します。</span><span class="sxs-lookup"><span data-stu-id="73352-186">If you enable a party to receive and/or send EDI batches, then start the batching orchestrations.</span></span> <span data-ttu-id="73352-187">これらのオーケストレーションは、インストール ウィザードや構成ウィザードでは開始されません。</span><span class="sxs-lookup"><span data-stu-id="73352-187">These orchestrations are not started by the installation wizard or the configuration wizard.</span></span> <span data-ttu-id="73352-188">手順:</span><span class="sxs-lookup"><span data-stu-id="73352-188">Steps:</span></span>  
  
1.  <span data-ttu-id="73352-189">[!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] 管理コンソールで、**[BizTalk EDI アプリケーション]** を展開し、**[オーケストレーション]** を選択します。</span><span class="sxs-lookup"><span data-stu-id="73352-189">In [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] Administration Console, expand **BizTalk EDI Application**, and select**Orchestrations**.</span></span>  
  
2.  <span data-ttu-id="73352-190">次のオーケストレーションをそれぞれ右クリックし、**[開始]** を選択します。</span><span class="sxs-lookup"><span data-stu-id="73352-190">Right-click each of the following orchestrations, and select **Start**:</span></span>  
  
    -   <span data-ttu-id="73352-191">Microsoft.BizTalk.Edi.BatchSuspendOrchestration.BatchElementSuspendService (アセンブリ: Microsoft.BizTalk.Edi.BatchingOrchestration.dll)</span><span class="sxs-lookup"><span data-stu-id="73352-191">Microsoft.BizTalk.Edi.BatchSuspendOrchestration.BatchElementSuspendService (assembly: Microsoft.BizTalk.Edi.BatchingOrchestration.dll)</span></span>  
  
    -   <span data-ttu-id="73352-192">Microsoft.BizTalk.Edi.BatchingOrchestration.BatchingService (アセンブリ: Microsoft.BizTalk.Edi.BatchingOrchestration.dll)</span><span class="sxs-lookup"><span data-stu-id="73352-192">Microsoft.BizTalk.Edi.BatchingOrchestration.BatchingService (assembly: Microsoft.BizTalk.Edi.BatchingOrchestration.dll)</span></span>  
  
    -   <span data-ttu-id="73352-193">Microsoft.BizTalk.Edi.RoutingOrchestration.BatchRoutingService (アセンブリ: Microsoft.BizTalk.Edi.RoutingOrchestration.dll)</span><span class="sxs-lookup"><span data-stu-id="73352-193">Microsoft.BizTalk.Edi.RoutingOrchestration.BatchRoutingService (assembly: Microsoft.BizTalk.Edi.RoutingOrchestration.dll)</span></span>  
  
> [!NOTE]
>  <span data-ttu-id="73352-194">EDI バッチ処理オーケストレーションは、EDI バッチを送受信する場合にのみ開始する必要があります。</span><span class="sxs-lookup"><span data-stu-id="73352-194">The EDI batching orchestrations should only be started if you receive and/or send EDI batches.</span></span> <span data-ttu-id="73352-195">システムが EDI バッチの送受信を行わないときに開始すると、システム パフォーマンスに影響することがあります。</span><span class="sxs-lookup"><span data-stu-id="73352-195">Starting them when the system is not receiving or sending EDI batches could affect system performance.</span></span>  
  
#### <a name="migrate-edi-artifacts-from-a-previous-biztalk-version"></a><span data-ttu-id="73352-196">以前の BizTalk バージョンからの EDI アイテムを移行します。</span><span class="sxs-lookup"><span data-stu-id="73352-196">Migrate EDI artifacts from a previous BizTalk version</span></span>  
 <span data-ttu-id="73352-197">[!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] 2010 以降のバージョンでの [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] での取引先の管理方法が更新されました。</span><span class="sxs-lookup"><span data-stu-id="73352-197">The way trading partners are managed in [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] was updated in [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] 2010 and newer versions.</span></span> <span data-ttu-id="73352-198">以前の [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] バージョンでは、パーティは取引先でのみ作成され、[!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] をホストするパートナーでは作成されませんでした。</span><span class="sxs-lookup"><span data-stu-id="73352-198">In the previous [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] versions, a party was created only for the trading partner, and not for the partner hosting [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)].</span></span> <span data-ttu-id="73352-199">[!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] 2010 以降では、[!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] をホストするパートナーを含むすべての取引先に関してパーティーを作成する必要があります。</span><span class="sxs-lookup"><span data-stu-id="73352-199">In [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] 2010 and newer, a party must be created for all the trading partners, including the partner hosting [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)].</span></span> <span data-ttu-id="73352-200">以前の [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] バージョンでは、エンコード (X12 および EDIFACT) とトランスポート (AS2) プロトコルのプロパティはパーティ レベルで定義されています。</span><span class="sxs-lookup"><span data-stu-id="73352-200">In previous [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] versions, the encoding (X12 and EDIFACT) and transport (AS2) protocol properties are defined at the party level.</span></span> <span data-ttu-id="73352-201">[!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] 2010 以降のバージョンでは、これらのプロパティはアグリーメントを通じて定義されます。</span><span class="sxs-lookup"><span data-stu-id="73352-201">In [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] 2010 and newer versions, these properties are defined through agreements.</span></span>  
  
 <span data-ttu-id="73352-202">以前のバージョンからパーティー データを移行するため、[!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] には [パーティー移行ツール] があります。</span><span class="sxs-lookup"><span data-stu-id="73352-202">To migrate party data from previous versions, [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] includes a Party Migration Tool.</span></span> <span data-ttu-id="73352-203">移行パスには以下のものがあります。</span><span class="sxs-lookup"><span data-stu-id="73352-203">Consider the following migration paths:</span></span>  
  
|[!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)]<span data-ttu-id="73352-204"> バージョン</span><span class="sxs-lookup"><span data-stu-id="73352-204"> Version</span></span>|<span data-ttu-id="73352-205">移行パス</span><span class="sxs-lookup"><span data-stu-id="73352-205">Migration Path</span></span>|  
|---------------------------------------------------------------------------------------|--------------------|  
|**[!INCLUDE[btsbiztalkserver2006r2](../includes/btsbiztalkserver2006r2-md.md)]**|<span data-ttu-id="73352-206">BizTalk Server 2009 にアップグレードします。</span><span class="sxs-lookup"><span data-stu-id="73352-206">Upgrade to BizTalk Server 2009.</span></span> <span data-ttu-id="73352-207">次に、[!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] 2013/2013 R2 のパーティ移行ツールを使用して、[!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] 2013/2013 R2 に移行します。</span><span class="sxs-lookup"><span data-stu-id="73352-207">Then, use the Party Migration Tool included with [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] 2013/2013 R2 to migrate to [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] 2013/2013 R2.</span></span><br /><br /> <span data-ttu-id="73352-208">**あるいは**、[!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] 2013/2013 R2 のパーティ移行ツールを使用して、[!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] 2010 に移行します。</span><span class="sxs-lookup"><span data-stu-id="73352-208">**Or**, use the Party Migration Tool included with [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] 2013/2013 R2 to migrate to [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] 2010.</span></span> <span data-ttu-id="73352-209">次に、[!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] 2013/2013 R2 にアップグレードします。</span><span class="sxs-lookup"><span data-stu-id="73352-209">Then, upgrade to [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] 2013/2013 R2.</span></span>|  
|<span data-ttu-id="73352-210">**[!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] 2009**</span><span class="sxs-lookup"><span data-stu-id="73352-210">**[!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] 2009**</span></span>|<span data-ttu-id="73352-211">[!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] 2013/2013 R2 のパーティー移行ツールを使用して、直接 [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] 2013/2013 R2 に移行する。</span><span class="sxs-lookup"><span data-stu-id="73352-211">Use the Party Migration Tool included with [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] 2013/2013 R2 to migrate directly to [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] 2013/2013 R2.</span></span>|  
|<span data-ttu-id="73352-212">**[!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] 2010**</span><span class="sxs-lookup"><span data-stu-id="73352-212">**[!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] 2010**</span></span>|<span data-ttu-id="73352-213">[!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] 2013/2013 R2 にアップグレードする。</span><span class="sxs-lookup"><span data-stu-id="73352-213">Upgrade to [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] 2013/2013 R2.</span></span>|  
  
 <span data-ttu-id="73352-214">パーティ移行ツールは、[!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] メディアの \PartyMigrationTool フォルダーの中から入手できます。</span><span class="sxs-lookup"><span data-stu-id="73352-214">The Party Migration Tool is available on the [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] media under the \PartyMigrationTool folder.</span></span>  

  
## <a name="install-biztalk-health-monitor-bhm"></a><span data-ttu-id="73352-215">BizTalk Health Monitor (BHM) をインストールする</span><span class="sxs-lookup"><span data-stu-id="73352-215">Install BizTalk Health Monitor (BHM)</span></span>

<span data-ttu-id="73352-216">BizTalk Health Monitor では、メッセージ ボックス ビューアー レポートの作成と表示、カスタム クエリの作成、ターミネータ タスクの実行、複数の BizTalk 環境の監視などを行うダッシュボードが提供されます。</span><span class="sxs-lookup"><span data-stu-id="73352-216">BizTalk Health Monitor provides a dashboard to create and view MessageBox Viewer reports, create custom queries, run Terminator tasks, monitor multiple BizTalk environments, and more.</span></span> <span data-ttu-id="73352-217">BizTalk 環境の担当者は、このツールをインストールし、BizTalk 環境の正常性を確認する場合や、維持する場合にも使用することをお勧めします。</span><span class="sxs-lookup"><span data-stu-id="73352-217">If you are responsible for a BizTalk envrionment, we suggest you install and use this tool to check the health of your BizTalk environment, and also maintain it.</span></span>

<span data-ttu-id="73352-218">主要リンク:</span><span class="sxs-lookup"><span data-stu-id="73352-218">Key links:</span></span>

[<span data-ttu-id="73352-219">BHM のダウンロード</span><span class="sxs-lookup"><span data-stu-id="73352-219">Download BHM</span></span>](https://www.microsoft.com/download/details.aspx?id=43716)  
[<span data-ttu-id="73352-220">BHM のインストール</span><span class="sxs-lookup"><span data-stu-id="73352-220">Install BHM</span></span>](http://social.technet.microsoft.com/wiki/contents/articles/26466.biztalk-server-how-to-install-the-new-biztalk-health-monitor-snap-in.aspx)  
[<span data-ttu-id="73352-221">BHM の公式ブログ</span><span class="sxs-lookup"><span data-stu-id="73352-221">BHM Official Blog</span></span>](https://blogs.msdn.microsoft.com/biztalkhealthmonitor/)

## <a name="create-your-hosts-and-host-instances"></a><span data-ttu-id="73352-222">ホストとホスト インスタンスを作成する</span><span class="sxs-lookup"><span data-stu-id="73352-222">Create your hosts and host instances</span></span>
<span data-ttu-id="73352-223">いくつかのキー タスクを個別のホストに分割することをお勧めします。</span><span class="sxs-lookup"><span data-stu-id="73352-223">It is recommended to separate some key tasks into separate hosts.</span></span> <span data-ttu-id="73352-224">たとえば、常に追跡専用の個別のホストを作成します。</span><span class="sxs-lookup"><span data-stu-id="73352-224">For example, always create a separate host that is dedicated to only tracking.</span></span> <span data-ttu-id="73352-225">メッセージの受信専用に別のホスト/ホスト インスタンス、メッセージの送信用に別のホスト/ホスト インスタンス、オーケストレーション用に別のホスト/ホスト インスタンスを作成します。</span><span class="sxs-lookup"><span data-stu-id="73352-225">Create another host/host instance that focuses on receiving messages, another host/host instance for sending messages, and another host/host instance for orchestration.</span></span> 

<span data-ttu-id="73352-226">このような場合、多くの推奨事項があります。</span><span class="sxs-lookup"><span data-stu-id="73352-226">There are many recommendations in this area.</span></span> <span data-ttu-id="73352-227">作業を開始する場合の推奨事項は以下のとおりです。</span><span class="sxs-lookup"><span data-stu-id="73352-227">Here are a few to get you started:</span></span> 

[<span data-ttu-id="73352-228">BizTalk ホストとホスト インスタンスの管理</span><span class="sxs-lookup"><span data-stu-id="73352-228">Managing BizTalk Hosts and Host Instances</span></span>](../core/managing-biztalk-hosts-and-host-instances.md)  
[<span data-ttu-id="73352-229">BizTalk ホストの高可用性</span><span class="sxs-lookup"><span data-stu-id="73352-229">Providing High Availability for BizTalk Hosts</span></span>](../core/providing-high-availability-for-biztalk-hosts.md)  
[<span data-ttu-id="73352-230">ベスト プラクティス: BizTalk Server ホストとホスト インスタンスの作成および構成</span><span class="sxs-lookup"><span data-stu-id="73352-230">Best Practices: Create and Configure BizTalk Server Host and Host</span></span>](http://social.technet.microsoft.com/wiki/contents/articles/19701.biztalk-server-best-practices-create-and-configure-biztalk-server-host-and-host-instances.aspx)  
[<span data-ttu-id="73352-231">同じコンピューターの複数のホストでのオーケストレーションの実行</span><span class="sxs-lookup"><span data-stu-id="73352-231">Running Orchestrations in Multiple Hosts on the Same Computer</span></span>](http://social.technet.microsoft.com/wiki/contents/articles/31183.biztalk-server-running-orchestrations-in-multiple-hosts-on-the-same-computer.aspx)  
[<span data-ttu-id="73352-232">PowerShell を作成し、BizTalk Server ホスト、ホスト インスタンスおよびハンドラーを構成するには</span><span class="sxs-lookup"><span data-stu-id="73352-232">PowerShell to Create and Configure BizTalk Server Host, Host Instances and Handlers</span></span>](https://gallery.technet.microsoft.com/PowerShell-to-Configure-43d77916)  
[<span data-ttu-id="73352-233">TechNet Wiki の BizTalk Server リソース</span><span class="sxs-lookup"><span data-stu-id="73352-233">BizTalk Server Resources on the TechNet Wiki</span></span>](http://social.technet.microsoft.com/wiki/contents/articles/2240.biztalk-server-resources-on-the-technet-wiki.aspx)
