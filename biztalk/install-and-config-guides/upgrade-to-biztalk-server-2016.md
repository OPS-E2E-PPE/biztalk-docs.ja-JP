---
title: BizTalk Server 2016 へのアップグレード |Microsoft Docs
ms.custom: ''
ms.prod: biztalk-server
ms.date: 06/08/2017
ms.reviewer: ''
ms.suite: ''
ms.tgt_pltfrm: ''
ms.topic: article
ms.assetid: 975ec82b-ed27-4545-8e4a-0e567507c9ba
caps.latest.revision: 2
author: MandiOhlinger
ms.author: mandia
manager: anneta
ms.openlocfilehash: a545f03f480a2cade3d609feb085449ab9a2f726
ms.sourcegitcommit: 381e83d43796a345488d54b3f7413e11d56ad7be
ms.translationtype: MT
ms.contentlocale: ja-JP
ms.lasthandoff: 05/07/2019
ms.locfileid: "65401439"
---
# <a name="upgrade-to-biztalk-server-2016"></a><span data-ttu-id="84128-102">BizTalk Server 2016 へのアップグレード</span><span class="sxs-lookup"><span data-stu-id="84128-102">Upgrade to BizTalk Server 2016</span></span>
<span data-ttu-id="84128-103">アップグレードする[!INCLUDE[bts2016_md](../includes/bts2016-md.md)]から[!INCLUDE[bts2013r2_md](../includes/bts2013r2-md.md)]、または BizTalk Server 2013。</span><span class="sxs-lookup"><span data-stu-id="84128-103">Upgrading to [!INCLUDE[bts2016_md](../includes/bts2016-md.md)] from [!INCLUDE[bts2013r2_md](../includes/bts2013r2-md.md)], or BizTalk Server 2013.</span></span>

<span data-ttu-id="84128-104">このトピックの概要を示します、[!INCLUDE[bts2016_md](../includes/bts2016-md.md)]プロセス、キー情報、および BizTalk Server 2013 R2 または BizTalk Server 2013 からアップグレードするための手順をアップグレードします。</span><span class="sxs-lookup"><span data-stu-id="84128-104">This topic provides an overview of the [!INCLUDE[bts2016_md](../includes/bts2016-md.md)] upgrade process, key information, and step-by-step instructions for upgrading from BizTalk Server 2013 R2 or BizTalk Server 2013.</span></span>


## <a name="upgrade-overview"></a><span data-ttu-id="84128-105">アップグレードの概要</span><span class="sxs-lookup"><span data-stu-id="84128-105">Upgrade overview</span></span>

- <span data-ttu-id="84128-106">アップグレードする前に、このドキュメント全体を読み取る。</span><span class="sxs-lookup"><span data-stu-id="84128-106">Read this entire document before you upgrade.</span></span> <span data-ttu-id="84128-107">BizTalk Server では、企業に内部および外部、多くのさまざまなコンポーネントを接続します。</span><span class="sxs-lookup"><span data-stu-id="84128-107">BizTalk Server connects many disparate components, both internal and external, to your enterprise.</span></span> <span data-ttu-id="84128-108">複数のサーバーを含むほとんどの実際の展開シナリオをさらに多く拡張し、最終的に、物理および仮想の両方のコンピューターのクラスター。</span><span class="sxs-lookup"><span data-stu-id="84128-108">Most real-world deployment scenarios extend much farther to include multiple servers and eventually clusters of both physical and virtual computers.</span></span>

- <span data-ttu-id="84128-109">ない 2 つの BizTalk Server の展開は、同じです。</span><span class="sxs-lookup"><span data-stu-id="84128-109">No two BizTalk Server deployments are the same.</span></span> <span data-ttu-id="84128-110">アップグレードする前に、自社のニーズに関する情報を収集し、IT プロフェッショナル、システム管理者、および BizTalk Server を使用する開発者と共に展開のスコープについて説明します。</span><span class="sxs-lookup"><span data-stu-id="84128-110">Before you upgrade, gather information on your enterprise needs, and discuss the scope of your deployment with the IT Professionals, System Administrators, and Developers who use BizTalk Server.</span></span> <span data-ttu-id="84128-111">このアップグレードのガイドを調査して、企業の特定のニーズを判断で、独自のデプロイ ロードマップを作成します。</span><span class="sxs-lookup"><span data-stu-id="84128-111">By studying this upgrade guide, and determining the specific needs of your enterprise, you are creating your own deployment roadmap.</span></span>

- <span data-ttu-id="84128-112">BizTalk Server の展開を確認する、BizTalk Server ベスト プラクティス アナライザー (BPA) を使用し、ベスト プラクティスの一覧を生成します。</span><span class="sxs-lookup"><span data-stu-id="84128-112">Use the BizTalk Server Best Practices Analyzer (BPA) to examine a BizTalk Server deployment, and generate a list of best practices.</span></span> <span data-ttu-id="84128-113">BPA は、読み取って報告するだけで構成レベルの検証を実行し、収集したデータを使用して、ベスト プラクティスに従っているかどうかを判断します。</span><span class="sxs-lookup"><span data-stu-id="84128-113">BPA performs configuration-level verification, by reading and reporting only, and uses the gathered data to determine whether best practices are being followed.</span></span>

### <a name="planning-your-upgrade"></a><span data-ttu-id="84128-114">アップグレードの計画</span><span class="sxs-lookup"><span data-stu-id="84128-114">Planning your upgrade</span></span>

<span data-ttu-id="84128-115">アップグレード プロセスの概要を次に示します。</span><span class="sxs-lookup"><span data-stu-id="84128-115">The following is a high-level view of the upgrade process.</span></span> <span data-ttu-id="84128-116">各手順の一覧は、示されている順序で実行する必要があります。</span><span class="sxs-lookup"><span data-stu-id="84128-116">Each of the steps listed must be run in the order shown.</span></span>

- <span data-ttu-id="84128-117">オペレーティング システムのアップグレード パス</span><span class="sxs-lookup"><span data-stu-id="84128-117">Operating systems upgrade paths</span></span>
- <span data-ttu-id="84128-118">Microsoft SQL Server® アップグレード パス</span><span class="sxs-lookup"><span data-stu-id="84128-118">Microsoft SQL Server® upgrade paths</span></span>
- <span data-ttu-id="84128-119">Windows® SharePoint® Services アップグレード</span><span class="sxs-lookup"><span data-stu-id="84128-119">Windows® SharePoint® Services upgrade</span></span>
- <span data-ttu-id="84128-120">Visual Studio によって並列インストールします。</span><span class="sxs-lookup"><span data-stu-id="84128-120">Install Visual Studio side-by-side</span></span>
- <span data-ttu-id="84128-121">Microsoft Office 2016/2013 を並列インストールします。</span><span class="sxs-lookup"><span data-stu-id="84128-121">Install Microsoft Office 2016/2013 side-by-side</span></span>

### <a name="supported-upgrade-paths"></a><span data-ttu-id="84128-122">サポートされるアップグレード パス</span><span class="sxs-lookup"><span data-stu-id="84128-122">Supported upgrade paths</span></span>
<span data-ttu-id="84128-123">次の表は、サポートされるオペレーティング システムをアップグレードできる[!INCLUDE[bts2016_md](../includes/bts2016-md.md)]します。</span><span class="sxs-lookup"><span data-stu-id="84128-123">The following table lists the supported operating systems that can be upgraded to [!INCLUDE[bts2016_md](../includes/bts2016-md.md)].</span></span> <span data-ttu-id="84128-124">「はい」そのオペレーティング システムで実行されている BizTalk Server のバージョンをアップグレードすることを意味します。</span><span class="sxs-lookup"><span data-stu-id="84128-124">“Yes” means the BizTalk Server version running on that operating system can be upgraded.</span></span> <span data-ttu-id="84128-125">"No"を意味そのオペレーティング システムで実行されている BizTalk Server のバージョンをアップグレードすることはできません。</span><span class="sxs-lookup"><span data-stu-id="84128-125">“No” means the BizTalk Server version running on that operating system cannot be upgraded.</span></span> <span data-ttu-id="84128-126">"No"のときに、BizTalk 環境がサポートされているオペレーティング システムで再作成する必要があります。</span><span class="sxs-lookup"><span data-stu-id="84128-126">When “No”, the BizTalk environment must be recreated on a supported operating system.</span></span>  <span data-ttu-id="84128-127">[BizTalk Server 2016 のハードウェアおよびソフトウェア](../install-and-config-guides/hardware-and-software-requirements-for-biztalk-server-2016.md)サポートされるオペレーティング システムを一覧表示されます。</span><span class="sxs-lookup"><span data-stu-id="84128-127">[Hardware and Software Requirements for BizTalk Server 2016](../install-and-config-guides/hardware-and-software-requirements-for-biztalk-server-2016.md) lists the supported operating systems.</span></span>

| <span data-ttu-id="84128-128">オペレーティング システム</span><span class="sxs-lookup"><span data-stu-id="84128-128">Operating Systems</span></span> | <span data-ttu-id="84128-129">BizTalk Server 2013 R2</span><span class="sxs-lookup"><span data-stu-id="84128-129">BizTalk Server 2013 R2</span></span> |<span data-ttu-id="84128-130">BizTalk Server 2013</span><span class="sxs-lookup"><span data-stu-id="84128-130">BizTalk Server 2013</span></span> |
| --- | --- | --- |
| <span data-ttu-id="84128-131">Windows Server 2012 R2</span><span class="sxs-lookup"><span data-stu-id="84128-131">Windows Server 2012 R2</span></span> | <span data-ttu-id="84128-132">はい</span><span class="sxs-lookup"><span data-stu-id="84128-132">Yes</span></span> | <span data-ttu-id="84128-133">いいえ</span><span class="sxs-lookup"><span data-stu-id="84128-133">No</span></span> |
| <span data-ttu-id="84128-134">Windows Server 2012</span><span class="sxs-lookup"><span data-stu-id="84128-134">Windows Server 2012</span></span> | <span data-ttu-id="84128-135">いいえ</span><span class="sxs-lookup"><span data-stu-id="84128-135">No</span></span> | <span data-ttu-id="84128-136">いいえ</span><span class="sxs-lookup"><span data-stu-id="84128-136">No</span></span> |
| <span data-ttu-id="84128-137">Windows 8.1</span><span class="sxs-lookup"><span data-stu-id="84128-137">Windows 8.1</span></span> | <span data-ttu-id="84128-138">はい</span><span class="sxs-lookup"><span data-stu-id="84128-138">Yes</span></span> | <span data-ttu-id="84128-139">いいえ</span><span class="sxs-lookup"><span data-stu-id="84128-139">No</span></span> |
| <span data-ttu-id="84128-140">Windows 8</span><span class="sxs-lookup"><span data-stu-id="84128-140">Windows 8</span></span> | <span data-ttu-id="84128-141">いいえ</span><span class="sxs-lookup"><span data-stu-id="84128-141">No</span></span> | <span data-ttu-id="84128-142">いいえ</span><span class="sxs-lookup"><span data-stu-id="84128-142">No</span></span>
| <span data-ttu-id="84128-143">Windows 7 SP1</span><span class="sxs-lookup"><span data-stu-id="84128-143">Windows 7 SP1</span></span> | <span data-ttu-id="84128-144">いいえ</span><span class="sxs-lookup"><span data-stu-id="84128-144">No</span></span> | <span data-ttu-id="84128-145">いいえ</span><span class="sxs-lookup"><span data-stu-id="84128-145">No</span></span> |

<span data-ttu-id="84128-146">次の表に、サポートされている SQL Server のバージョンにアップグレードできる[!INCLUDE[bts2016_md](../includes/bts2016-md.md)]します。</span><span class="sxs-lookup"><span data-stu-id="84128-146">The following table lists the supported SQL Server versions that can be upgraded to [!INCLUDE[bts2016_md](../includes/bts2016-md.md)].</span></span> <span data-ttu-id="84128-147">SQL Server では、BizTalk Server で使用されるデータベースをホストします。</span><span class="sxs-lookup"><span data-stu-id="84128-147">The SQL Server hosts the databases used by BizTalk Server.</span></span> <span data-ttu-id="84128-148">「はい」を SQL Server のバージョンを使用して BizTalk Server をアップグレードできることを意味します。</span><span class="sxs-lookup"><span data-stu-id="84128-148">“Yes” means BizTalk Server using that SQL Server version can be upgraded.</span></span> <span data-ttu-id="84128-149">"No"を意味する SQL Server のバージョンを使用して BizTalk Server をアップグレードすることはできません。</span><span class="sxs-lookup"><span data-stu-id="84128-149">“No” means BizTalk Server using that SQL Server version cannot be upgraded.</span></span> <span data-ttu-id="84128-150">"No"のときに、BizTalk 環境がサポートされている SQL Server のバージョンで再作成する必要があります。</span><span class="sxs-lookup"><span data-stu-id="84128-150">When “No”, the BizTalk environment must be recreated on a supported SQL Server version.</span></span> <span data-ttu-id="84128-151">[BizTalk Server 2016 のハードウェアおよびソフトウェア](../install-and-config-guides/hardware-and-software-requirements-for-biztalk-server-2016.md)サポートされている SQL Server のバージョンを一覧表示されます。</span><span class="sxs-lookup"><span data-stu-id="84128-151">[Hardware and Software Requirements for BizTalk Server 2016](../install-and-config-guides/hardware-and-software-requirements-for-biztalk-server-2016.md) lists the supported SQL Server versions.</span></span> 

> [!TIP]
> <span data-ttu-id="84128-152">SQL Server バージョンはサポートされていません、または、次の一覧に含まれていない場合は、SQL Server のアップグレード マニュアルを確認します。</span><span class="sxs-lookup"><span data-stu-id="84128-152">If you're SQL Server version isn't supported, or isn't in the following list, then review the SQL Server upgrade documentation.</span></span> <span data-ttu-id="84128-153">SQL のアップグレードでは、BizTalk がサポートしているより多くのバージョンについて説明します。</span><span class="sxs-lookup"><span data-stu-id="84128-153">The SQL upgrade covers more versions than what BizTalk supports.</span></span> <span data-ttu-id="84128-154">たとえば、SQL Server 2008 を使用している場合は、SQL Server 2016 をアップグレードすることができます。</span><span class="sxs-lookup"><span data-stu-id="84128-154">For example, if you're using SQL Server 2008, you may be able to upgrade SQL Server 2016.</span></span> <span data-ttu-id="84128-155">アップグレードすることができますし、[!INCLUDE[bts2016_md](../includes/bts2016-md.md)]します。</span><span class="sxs-lookup"><span data-stu-id="84128-155">Then, you can upgrade to [!INCLUDE[bts2016_md](../includes/bts2016-md.md)].</span></span> <span data-ttu-id="84128-156">[SQL Server 2016 にアップグレード](https://msdn.microsoft.com/library/bb677622.aspx)と[SQL Server 2014 にアップグレード](https://msdn.microsoft.com/library/bb677622(v=sql.120).aspx)アップグレードできる SQL Server のバージョンを一覧表示します。</span><span class="sxs-lookup"><span data-stu-id="84128-156">[Upgrade to SQL Server 2016](https://msdn.microsoft.com/library/bb677622.aspx) and [Upgrade to SQL Server 2014](https://msdn.microsoft.com/library/bb677622(v=sql.120).aspx) lists the SQL Server versions that can be upgraded.</span></span>

| <span data-ttu-id="84128-157">SQL Server</span><span class="sxs-lookup"><span data-stu-id="84128-157">SQL Server</span></span> | <span data-ttu-id="84128-158">BizTalk Server 2013 R2</span><span class="sxs-lookup"><span data-stu-id="84128-158">BizTalk Server 2013 R2</span></span> |<span data-ttu-id="84128-159">BizTalk Server 2013</span><span class="sxs-lookup"><span data-stu-id="84128-159">BizTalk Server 2013</span></span> |
| --- | --- | --- |
| <span data-ttu-id="84128-160">SQL Server 2014</span><span class="sxs-lookup"><span data-stu-id="84128-160">SQL Server 2014</span></span> | <span data-ttu-id="84128-161">はい</span><span class="sxs-lookup"><span data-stu-id="84128-161">Yes</span></span> | <span data-ttu-id="84128-162">いいえ</span><span class="sxs-lookup"><span data-stu-id="84128-162">No</span></span> |
| <span data-ttu-id="84128-163">SQL Server 2012 SP1</span><span class="sxs-lookup"><span data-stu-id="84128-163">SQL Server 2012 SP1</span></span>| <span data-ttu-id="84128-164">いいえ</span><span class="sxs-lookup"><span data-stu-id="84128-164">No</span></span> | <span data-ttu-id="84128-165">いいえ</span><span class="sxs-lookup"><span data-stu-id="84128-165">No</span></span> |
| <span data-ttu-id="84128-166">SQL Server 2012</span><span class="sxs-lookup"><span data-stu-id="84128-166">SQL Server 2012</span></span> | <span data-ttu-id="84128-167">いいえ</span><span class="sxs-lookup"><span data-stu-id="84128-167">No</span></span> | <span data-ttu-id="84128-168">いいえ</span><span class="sxs-lookup"><span data-stu-id="84128-168">No</span></span> |
| <span data-ttu-id="84128-169">SQL Server 2008 R2 SP1</span><span class="sxs-lookup"><span data-stu-id="84128-169">SQL Server 2008 R2 SP1</span></span> | <span data-ttu-id="84128-170">いいえ</span><span class="sxs-lookup"><span data-stu-id="84128-170">No</span></span> | <span data-ttu-id="84128-171">いいえ</span><span class="sxs-lookup"><span data-stu-id="84128-171">No</span></span> |


<span data-ttu-id="84128-172">次の表からサポートされているエディションのアップグレード パス[!INCLUDE[bts2013r2_md](../includes/bts2013r2-md.md)]/2013[!INCLUDE[bts2016_md](../includes/bts2016-md.md)]します。</span><span class="sxs-lookup"><span data-stu-id="84128-172">The following table lists the supported Edition upgrade path from [!INCLUDE[bts2013r2_md](../includes/bts2013r2-md.md)]/2013 to [!INCLUDE[bts2016_md](../includes/bts2016-md.md)].</span></span> <span data-ttu-id="84128-173">「可」は意味、  [!INCLUDE[bts2013r2_md](../includes/bts2013r2-md.md)] /2013 エディション エディションにアップグレードできます。</span><span class="sxs-lookup"><span data-stu-id="84128-173">“Yes” means the [!INCLUDE[bts2013r2_md](../includes/bts2013r2-md.md)]/2013 edition can be upgraded to the edition.</span></span> <span data-ttu-id="84128-174">"No"の意味、  [!INCLUDE[bts2013r2_md](../includes/bts2013r2-md.md)] /2013年のエディションをエディションにアップグレードできません。</span><span class="sxs-lookup"><span data-stu-id="84128-174">“No” means the [!INCLUDE[bts2013r2_md](../includes/bts2013r2-md.md)]/2013 edition cannot be upgraded to the edition.</span></span> <span data-ttu-id="84128-175">"No"のときに、BizTalk 環境を再作成する必要があります。</span><span class="sxs-lookup"><span data-stu-id="84128-175">When “No”, the BizTalk environment must be recreated.</span></span>

| <span data-ttu-id="84128-176">BizTalk Server 2013 R2/2013</span><span class="sxs-lookup"><span data-stu-id="84128-176">BizTalk Server 2013 R2/2013</span></span> | <span data-ttu-id="84128-177">BizTalk Server 2016 Evaluation Edition</span><span class="sxs-lookup"><span data-stu-id="84128-177">BizTalk Server 2016 Evaluation Edition</span></span> | <span data-ttu-id="84128-178">BizTalk Server 2016 Branch エディション</span><span class="sxs-lookup"><span data-stu-id="84128-178">BizTalk Server 2016 Branch Edition</span></span> | <span data-ttu-id="84128-179">BizTalk Server 2016 Developer Edition</span><span class="sxs-lookup"><span data-stu-id="84128-179">BizTalk Server 2016 Developer Edition</span></span> | <span data-ttu-id="84128-180">BizTalk Server 2016 Standard Edition</span><span class="sxs-lookup"><span data-stu-id="84128-180">BizTalk Server 2016 Standard Edition</span></span> | <span data-ttu-id="84128-181">BizTalk Server 2016 Enterprise Edition</span><span class="sxs-lookup"><span data-stu-id="84128-181">BizTalk Server 2016 Enterprise Edition</span></span> |
| --- | --- | --- | --- | --- | --- |
| <span data-ttu-id="84128-182">Evaluation</span><span class="sxs-lookup"><span data-stu-id="84128-182">Evaluation</span></span> | <span data-ttu-id="84128-183">いいえ</span><span class="sxs-lookup"><span data-stu-id="84128-183">No</span></span> | <span data-ttu-id="84128-184">いいえ</span><span class="sxs-lookup"><span data-stu-id="84128-184">No</span></span> | <span data-ttu-id="84128-185">いいえ</span><span class="sxs-lookup"><span data-stu-id="84128-185">No</span></span> | <span data-ttu-id="84128-186">いいえ</span><span class="sxs-lookup"><span data-stu-id="84128-186">No</span></span> | <span data-ttu-id="84128-187">はい</span><span class="sxs-lookup"><span data-stu-id="84128-187">Yes</span></span> | 
| <span data-ttu-id="84128-188">分岐</span><span class="sxs-lookup"><span data-stu-id="84128-188">Branch</span></span> | <span data-ttu-id="84128-189">いいえ</span><span class="sxs-lookup"><span data-stu-id="84128-189">No</span></span> | <span data-ttu-id="84128-190">はい</span><span class="sxs-lookup"><span data-stu-id="84128-190">Yes</span></span> | <span data-ttu-id="84128-191">いいえ</span><span class="sxs-lookup"><span data-stu-id="84128-191">No</span></span> | <span data-ttu-id="84128-192">いいえ</span><span class="sxs-lookup"><span data-stu-id="84128-192">No</span></span> | <span data-ttu-id="84128-193">はい</span><span class="sxs-lookup"><span data-stu-id="84128-193">Yes</span></span> | 
| <span data-ttu-id="84128-194">Developer</span><span class="sxs-lookup"><span data-stu-id="84128-194">Developer</span></span> | <span data-ttu-id="84128-195">いいえ</span><span class="sxs-lookup"><span data-stu-id="84128-195">No</span></span> | <span data-ttu-id="84128-196">いいえ</span><span class="sxs-lookup"><span data-stu-id="84128-196">No</span></span> | <span data-ttu-id="84128-197">はい</span><span class="sxs-lookup"><span data-stu-id="84128-197">Yes</span></span> | <span data-ttu-id="84128-198">いいえ</span><span class="sxs-lookup"><span data-stu-id="84128-198">No</span></span> | <span data-ttu-id="84128-199">はい</span><span class="sxs-lookup"><span data-stu-id="84128-199">Yes</span></span> | 
| <span data-ttu-id="84128-200">Standard</span><span class="sxs-lookup"><span data-stu-id="84128-200">Standard</span></span> | <span data-ttu-id="84128-201">いいえ</span><span class="sxs-lookup"><span data-stu-id="84128-201">No</span></span> | <span data-ttu-id="84128-202">いいえ</span><span class="sxs-lookup"><span data-stu-id="84128-202">No</span></span> | <span data-ttu-id="84128-203">いいえ</span><span class="sxs-lookup"><span data-stu-id="84128-203">No</span></span> | <span data-ttu-id="84128-204">はい</span><span class="sxs-lookup"><span data-stu-id="84128-204">Yes</span></span> | <span data-ttu-id="84128-205">はい</span><span class="sxs-lookup"><span data-stu-id="84128-205">Yes</span></span> | 
| <span data-ttu-id="84128-206">Enterprise</span><span class="sxs-lookup"><span data-stu-id="84128-206">Enterprise</span></span> | <span data-ttu-id="84128-207">いいえ</span><span class="sxs-lookup"><span data-stu-id="84128-207">No</span></span> | <span data-ttu-id="84128-208">いいえ</span><span class="sxs-lookup"><span data-stu-id="84128-208">No</span></span> | <span data-ttu-id="84128-209">いいえ</span><span class="sxs-lookup"><span data-stu-id="84128-209">No</span></span> | <span data-ttu-id="84128-210">いいえ</span><span class="sxs-lookup"><span data-stu-id="84128-210">No</span></span> | <span data-ttu-id="84128-211">はい</span><span class="sxs-lookup"><span data-stu-id="84128-211">Yes</span></span> | 

## <a name="before-the-upgrade--what-you-need-to-know"></a><span data-ttu-id="84128-212">アップグレードする前に何を知っておくべき</span><span class="sxs-lookup"><span data-stu-id="84128-212">Before the upgrade – what you need to know</span></span>


- <span data-ttu-id="84128-213">**アクセス許可**:アップグレードを実行するユーザーは、次のユーザー グループのメンバーであるか、同等のアクセス許可がある必要があります。</span><span class="sxs-lookup"><span data-stu-id="84128-213">**Permissions**: The user performing the upgrade must be a member of the following user groups or have the equivalent permissions:</span></span>

    - <span data-ttu-id="84128-214">ローカル コンピューターの administrators グループ</span><span class="sxs-lookup"><span data-stu-id="84128-214">Administrators group on the local computer</span></span>
    - <span data-ttu-id="84128-215">SQL Server 上の SQL Server システム管理者グループ</span><span class="sxs-lookup"><span data-stu-id="84128-215">SQL Server System Administrators group on the SQL Server</span></span>
    - <span data-ttu-id="84128-216">BizTalk Server 管理者グループ</span><span class="sxs-lookup"><span data-stu-id="84128-216">BizTalk Server Administrators group</span></span>
    - <span data-ttu-id="84128-217">シングル サインオン (SSO) 管理者グループ</span><span class="sxs-lookup"><span data-stu-id="84128-217">Single Sign-On (SSO) Administrators group</span></span>

- <span data-ttu-id="84128-218">**SSO**:アップグレード中には、シングル サインオン マスター シークレット サーバーと SSO データベースをホストする SQL Server を実行する必要があります。</span><span class="sxs-lookup"><span data-stu-id="84128-218">**SSO**: The Single Sign-On Master Secret Server and the SQL Server that hosts the SSO database must be running during the upgrade.</span></span>

- <span data-ttu-id="84128-219">**ネットワーク サービス アカウント**:Windir%\temp への書き込みアクセスが必要です。</span><span class="sxs-lookup"><span data-stu-id="84128-219">**Network Service Account**: Must have write access to %windir%\temp.</span></span>

- <span data-ttu-id="84128-220">**証明書**:Windows 証明書ストアをバックアップします。</span><span class="sxs-lookup"><span data-stu-id="84128-220">**Certificates**: Back up the Windows certificates store:</span></span>  

    [<span data-ttu-id="84128-221">Windows 7 および Windows Server 2008 R2:証明書をインポートします。</span><span class="sxs-lookup"><span data-stu-id="84128-221">Windows 7 and Windows Server 2008 R2: Import a Certificate</span></span>](http://technet.microsoft.com/library/cc754489.aspx)  
    [<span data-ttu-id="84128-222">Windows 7 および Windows Server 2008 R2:証明書をエクスポートします。</span><span class="sxs-lookup"><span data-stu-id="84128-222">Windows 7 and Windows Server 2008 R2: Export a Certificate</span></span>](http://technet.microsoft.com/library/cc730988.aspx)  

- <span data-ttu-id="84128-223">**DTC**:Microsoft 分散トランザクション コーディネーター (MSDTC) を有効にする ([、環境を最適化する構成後の手順](../install-and-config-guides/post-configuration-steps-to-optimize-your-environment.md))、インバウンド/アウト バウンド DTC 規則を有効にします。</span><span class="sxs-lookup"><span data-stu-id="84128-223">**DTC**: Enable Microsoft Distributed Transaction Coordinator (MSDTC) ([Post-configuration steps to optimize your environment](../install-and-config-guides/post-configuration-steps-to-optimize-your-environment.md)), and then enable the Inbound/Outbound DTC rules:</span></span>

    1. <span data-ttu-id="84128-224">サーバー マネージャーで、選択**ツール**、開き**セキュリティが強化された Windows ファイアウォール**します。</span><span class="sxs-lookup"><span data-stu-id="84128-224">In Server Manager, select **Tools**, and open **Windows Firewall with Advanced Security**.</span></span>
    2. <span data-ttu-id="84128-225">選択**受信規則**します。</span><span class="sxs-lookup"><span data-stu-id="84128-225">Select **Inbound Rules**.</span></span>
    3. <span data-ttu-id="84128-226">**受信の規則**、右クリックして**分散トランザクション コーディネーター** \* (必要に応じて)、し**規則の有効化**します。</span><span class="sxs-lookup"><span data-stu-id="84128-226">In **Inbound Rules**, right-click **Distributed Transaction Coordinator** \* (as appropriate), and then **Enable Rule**.</span></span>
    4.  <span data-ttu-id="84128-227">セキュリティが強化された Windows ファイアウォールで次のように選択します。**送信の規則**します。</span><span class="sxs-lookup"><span data-stu-id="84128-227">In Windows Firewall with Advanced Security, select **Outbound Rules**.</span></span>
    5.  <span data-ttu-id="84128-228">**送信の規則**、右クリックして**分散トランザクション コーディネーター** \* (必要に応じて)、し**規則の有効化**します。</span><span class="sxs-lookup"><span data-stu-id="84128-228">In **Outbound Rules**, right-click **Distributed Transaction Coordinator** \* (as appropriate), and then **Enable Rule**.</span></span>

- <span data-ttu-id="84128-229">**SharePoint**:SharePoint サービスに接続するクライアント側オブジェクト モデル (CSOM) を使用します。</span><span class="sxs-lookup"><span data-stu-id="84128-229">**SharePoint**: The Client Side Object Model (CSOM) is used to connect to SharePoint Services.</span></span> <span data-ttu-id="84128-230">サーバー側オブジェクト モデル (SSOM) (web サービス) が削除されて[!INCLUDE[bts2016_md](../includes/bts2016-md.md)]します。</span><span class="sxs-lookup"><span data-stu-id="84128-230">The  Server Side Object Model (SSOM) (the web service) is removed in [!INCLUDE[bts2016_md](../includes/bts2016-md.md)].</span></span>

    <span data-ttu-id="84128-231">CSOM をサポートしていない SharePoint のバージョンを使用している場合は、サポートされている SharePoint バージョンにアップグレードすることができます。</span><span class="sxs-lookup"><span data-stu-id="84128-231">If you are using SharePoint versions that doesn't support CSOM, you may be able to upgrade to a supported SharePoint version:</span></span>

    <span data-ttu-id="84128-232">[SharePoint 2016 へのアップグレード](https://technet.microsoft.com/library/cc303420(v=office.16).aspx)</span><span class="sxs-lookup"><span data-stu-id="84128-232">[Upgrade to SharePoint 2016](https://technet.microsoft.com/library/cc303420(v=office.16).aspx)</span></span>  
    <span data-ttu-id="84128-233">[SharePoint 2013 へのアップグレード](https://technet.microsoft.com/library/cc303420(v=office.15).aspx)</span><span class="sxs-lookup"><span data-stu-id="84128-233">[Upgrade to SharePoint 2013](https://technet.microsoft.com/library/cc303420(v=office.15).aspx)</span></span>

- <span data-ttu-id="84128-234">**.NET framework**:.NET Framework 4.5 と .NET Framework 4.6 の間のサイド バイ サイドでインストールの概念はありません。</span><span class="sxs-lookup"><span data-stu-id="84128-234">**.NET Framework**: There is no concept of side-by-side installation between .NET Framework 4.5 and .NET Framework 4.6.</span></span> <span data-ttu-id="84128-235">.NET Framework 4.6 のバイナリは、.NET Framework 4.5 のバイナリを上書きします。</span><span class="sxs-lookup"><span data-stu-id="84128-235">The .NET Framework 4.6 binaries overwrite .NET Framework 4.5 binaries.</span></span> <span data-ttu-id="84128-236">.NET framework 4.6 は、[!INCLUDE[bts2016_md](../includes/bts2016-md.md)]要件ではサポートされていません (とインストールされていない必要があります) 以前のバージョンの BizTalk Server でします。</span><span class="sxs-lookup"><span data-stu-id="84128-236">.NET Framework 4.6 is a [!INCLUDE[bts2016_md](../includes/bts2016-md.md)] requirement, and is not supported (and should not be installed) in previous BizTalk Server versions.</span></span>

- <span data-ttu-id="84128-237">**Office 2016 と Office 2013**:[インストールし、異なるバージョンの Office を使用して、](https://support.office.com/article/Install-and-use-different-versions-of-Office-on-the-same-PC-6EBB44CE-18A3-43F9-A187-B78C513788BF)同じコンピューターにします。</span><span class="sxs-lookup"><span data-stu-id="84128-237">**Office 2016 and Office 2013**: [Install and use different versions of Office](https://support.office.com/article/Install-and-use-different-versions-of-Office-on-the-same-PC-6EBB44CE-18A3-43F9-A187-B78C513788BF) on the same computer.</span></span> <span data-ttu-id="84128-238">また、チェック アウト[これら問題](https://support.microsoft.com/kb/3094527)します。</span><span class="sxs-lookup"><span data-stu-id="84128-238">Also, check out [these issues](https://support.microsoft.com/kb/3094527).</span></span>

- <span data-ttu-id="84128-239">**BizTalkServerApplication ホスト**:アップグレードでは、既定のホストが存在する必要があります。</span><span class="sxs-lookup"><span data-stu-id="84128-239">**BizTalkServerApplication Host**: The upgrade requires the existence of the default host.</span></span> <span data-ttu-id="84128-240">場所が削除された場合は、SQL アダプターに関連付けられている既定のホスト インスタンスの送信ポートと受信には、アップグレードする前に、SQL アダプターに既定のホストを関連付けます。</span><span class="sxs-lookup"><span data-stu-id="84128-240">If the default host instance associated with the SQL Adapter send ports and receive locations is removed, associate the default host to the SQL Adapter before upgrading.</span></span> <span data-ttu-id="84128-241">アップグレードが完了した後は、一覧から既定のホストを削除できます。</span><span class="sxs-lookup"><span data-stu-id="84128-241">After upgrade is complete, you can remove the default host from the list.</span></span>

- <span data-ttu-id="84128-242">**カスタム バインド**:アップグレードした後は、以前のバージョンの .NET Framework で構築されたユーザー定義のカスタム バインドを使用できません。</span><span class="sxs-lookup"><span data-stu-id="84128-242">**Custom Bindings**: User-defined custom bindings that are built with earlier versions of the .NET Framework are not available after you upgrade.</span></span> <span data-ttu-id="84128-243">カスタム バインドを使用するには、.NET Framework 4.6 machine.config ファイルにカスタム バインドを手動で追加します。</span><span class="sxs-lookup"><span data-stu-id="84128-243">To use the custom bindings, manually add the custom bindings in the .NET Framework 4.6 machine.config file.</span></span>

- <span data-ttu-id="84128-244">**構成ファイル**:BizTalk Server 2013 R2/2013 のすべてのカスタム構成ファイルをバックアップします。</span><span class="sxs-lookup"><span data-stu-id="84128-244">**Configuration Files**: Back up all custom configuration files in BizTalk Server 2013 R2/2013.</span></span> <span data-ttu-id="84128-245">BizTalk Server は、変更内容の移行をサポートしているだけで、`btsntsvc.exe.config`と`bm.exe.config`ファイル。</span><span class="sxs-lookup"><span data-stu-id="84128-245">BizTalk Server supports migration of changes only in the `btsntsvc.exe.config` and `bm.exe.config` files.</span></span>



### <a name="bam-alerts"></a><span data-ttu-id="84128-246">BAM 警告</span><span class="sxs-lookup"><span data-stu-id="84128-246">BAM Alerts</span></span>

<span data-ttu-id="84128-247">BAM 警告を使用する SQL Server Database Mail が必要です。</span><span class="sxs-lookup"><span data-stu-id="84128-247">SQL Server Database Mail is required to use BAM Alerts.</span></span> <span data-ttu-id="84128-248">コード型の SQL Server Notification Services で既存の BAM 警告の定義を使用する SQL のバージョンからアップグレードは場合、BAM 警告の定義をバックアップにアップグレードした後に展開し、ことができます。</span><span class="sxs-lookup"><span data-stu-id="84128-248">If SQL Server is being upgraded from a SQL version that used existing BAM Alert definitions with Notification Services, then you can back up your BAM alert definitions, and deploy them after upgrading.</span></span> <span data-ttu-id="84128-249">BM.exe コマンド ライン ツールを使用して (`\Program Files (x86)\Microsoft BizTalk Server <your version>\Tracking`)。</span><span class="sxs-lookup"><span data-stu-id="84128-249">Use the BM.exe command line tool (`\Program Files (x86)\Microsoft BizTalk Server <your version>\Tracking`).</span></span> <span data-ttu-id="84128-250">特定の手順は次のとおりです。</span><span class="sxs-lookup"><span data-stu-id="84128-250">Specific steps include:</span></span>

1. <span data-ttu-id="84128-251">コマンド プロンプトを開きに移動`\Program Files (x86)\Microsoft BizTalk Server <your version>\Tracking`します。</span><span class="sxs-lookup"><span data-stu-id="84128-251">Open a command prompt and go to `\Program Files (x86)\Microsoft BizTalk Server <your version>\Tracking`.</span></span>
2. <span data-ttu-id="84128-252">コマンド プロンプトで、定義ファイルを作成します。 `bm.exe get-defxml -FileName:YourBAMDefinition.xml`</span><span class="sxs-lookup"><span data-stu-id="84128-252">Create a definition file in the command prompt: `bm.exe get-defxml -FileName:YourBAMDefinition.xml`</span></span>
3. <span data-ttu-id="84128-253">[!INCLUDE[bts2013r2_md](../includes/bts2013r2-md.md)]/2013 構成では、BAM 警告の構成を解除します。</span><span class="sxs-lookup"><span data-stu-id="84128-253">In [!INCLUDE[bts2013r2_md](../includes/bts2013r2-md.md)]/2013 Configuration, unconfigure BAM Alerts.</span></span>
4. <span data-ttu-id="84128-254">SQL Server 2014 SP1 または SQL Server 2016 にアップグレードします。</span><span class="sxs-lookup"><span data-stu-id="84128-254">Upgrade to SQL Server 2016 or SQL Server 2014 SP1.</span></span>
5. <span data-ttu-id="84128-255">SQL Server データベース メールを構成します。</span><span class="sxs-lookup"><span data-stu-id="84128-255">Configure SQL Server Database Mail.</span></span>
6. <span data-ttu-id="84128-256">アップグレード[!INCLUDE[bts2016_md](../includes/bts2016-md.md)]します。</span><span class="sxs-lookup"><span data-stu-id="84128-256">Upgrade to [!INCLUDE[bts2016_md](../includes/bts2016-md.md)].</span></span>
7. <span data-ttu-id="84128-257">[!INCLUDE[bts2016_md](../includes/bts2016-md.md)]構成では、BAM 警告を構成します。</span><span class="sxs-lookup"><span data-stu-id="84128-257">In [!INCLUDE[bts2016_md](../includes/bts2016-md.md)] Configuration, configure BAM Alerts.</span></span>
8. <span data-ttu-id="84128-258">コマンド プロンプトで保存した定義ファイルを展開します。 `bm.exe update-all -DefinitionFile:YourBAMDefinition.xml`</span><span class="sxs-lookup"><span data-stu-id="84128-258">Deploy the saved definition file in the command prompt: `bm.exe update-all -DefinitionFile:YourBAMDefinition.xml`</span></span>

> [!IMPORTANT]
> <span data-ttu-id="84128-259">以下の手順を順番にまたは定義ファイルを作成場合、BizTalk Server のアップグレード後に、定義ファイルを再作成する必要があります。</span><span class="sxs-lookup"><span data-stu-id="84128-259">If you don’t follow these steps in the order listed or create a definition file, you must recreate the definition files after the BizTalk Server upgrade.</span></span>
> 
> <span data-ttu-id="84128-260">BM.exe のヘルプを表示するには、入力:`bm.exe help`します。</span><span class="sxs-lookup"><span data-stu-id="84128-260">To view the BM.exe help, type: `bm.exe help`.</span></span>


### <a name="bam"></a><span data-ttu-id="84128-261">BAM</span><span class="sxs-lookup"><span data-stu-id="84128-261">BAM</span></span> 

- <span data-ttu-id="84128-262">**BAM DTS パッケージ**:すべての BAM データ変換サービス (DTS) パッケージを停止します。</span><span class="sxs-lookup"><span data-stu-id="84128-262">**BAM DTS Packages**: Stop all BAM Data Transformation Services (DTS) packages.</span></span> <span data-ttu-id="84128-263">それ以外の場合、データが失われる可能性があります。 またはオンライン分析処理 (OLAP) キューブが破損する可能性があります。</span><span class="sxs-lookup"><span data-stu-id="84128-263">Otherwise, data may be lost or an online analytical processing (OLAP) cube may corrupt.</span></span> 

- <span data-ttu-id="84128-264">**ディスク領域**:空きディスク領域は、既存の BAM データベースのサイズ以上である必要があります。</span><span class="sxs-lookup"><span data-stu-id="84128-264">**Disk Space**: The free disk space should be at least the size of the existing BAM databases.</span></span>

- <span data-ttu-id="84128-265">**リアルタイム集計**:現在のバージョンの BizTalk Server で BAM リアルタイム集計を使用している SQL Server をアップグレードして場合、インストールするか、SQL Server Enterprise Edition にアップグレードします。</span><span class="sxs-lookup"><span data-stu-id="84128-265">**Real-time Aggregations**: If you are using BAM real-time aggregations in your current version of BizTalk Server and are upgrading SQL Server, install or upgrade to the SQL Server Enterprise Edition.</span></span> <span data-ttu-id="84128-266">それ以外の場合、アップグレードは失敗します。</span><span class="sxs-lookup"><span data-stu-id="84128-266">Otherwise, the upgrade fails.</span></span>

- <span data-ttu-id="84128-267">**maxTimeout 値**:サイズの大きな BAM データベースがある場合は、更新、`maxTimeout`値を machine.config ファイルで分散トランザクションの場合。</span><span class="sxs-lookup"><span data-stu-id="84128-267">**maxTimeout value**: If you have a large BAM database, update the `maxTimeout` value for distributed transactions in your machine.config file to:</span></span>  

    ```
    <system.transactions>
       <machineSettings maxTimeout="23:59:59" />
    </system.transactions>
    ```

- <span data-ttu-id="84128-268">**追跡プロファイル エディター (TPE) で有効になっている BAM 追跡**:アップグレードした後、以前に展開した追跡プロファイルはアップグレードされます。ただし、それに対応するインターセプター構成はアップグレードされません。</span><span class="sxs-lookup"><span data-stu-id="84128-268">**BAM tracking enabled with Tracking Profile Editor (TPE)**: After you upgrade, tracking profiles that were previously deployed are upgraded; however, their corresponding interceptor configurations are not upgraded.</span></span> <span data-ttu-id="84128-269">新しい受信済み BAM メッセージは、BizTalk Server 2013 R2/2013 参照可能性があります。</span><span class="sxs-lookup"><span data-stu-id="84128-269">Any new intercepted BAM messages may still have the BizTalk Server 2013 R2/2013 references.</span></span> <span data-ttu-id="84128-270">対応するインターセプター構成をアップグレードするには、追跡プロファイル エディターを使用して、アクティビティのプロファイルを取得するし、プロファイルを再適用します。</span><span class="sxs-lookup"><span data-stu-id="84128-270">To upgrade the corresponding interceptor configurations, use the Tracking Profile Editor to retrieve the profile for the activity, and then reapply the profile.</span></span>

- <span data-ttu-id="84128-271">**LiveData ブック**:アップグレード後に BizTalk Server 2013 R2/2013 で BAM を使用する場合、ライブ データ ブックを手動で再生成する必要があります。</span><span class="sxs-lookup"><span data-stu-id="84128-271">**LiveData Workbook**: If you are using BAM in BizTalk Server 2013 R2/2013, after the upgrade, you must manually regenerate the LiveData Workbook.</span></span> <span data-ttu-id="84128-272">LiveData ブックを再生成します。</span><span class="sxs-lookup"><span data-stu-id="84128-272">To regenerate the LiveData Workbook:</span></span>

  1. <span data-ttu-id="84128-273">次のコマンドを実行して、BAM 定義を取得します。</span><span class="sxs-lookup"><span data-stu-id="84128-273">Retrieve the BAM Definition by running the following command:</span></span>  
     `BM get-defxml MyDef.xml`
  2. <span data-ttu-id="84128-274">Microsoft Office Excel を開き、BAM アドインを選択し、ピボット テーブル レポートを再作成するには。インポート、 *MyDef.xml*ファイルの作成手順 (1) と、ピボット テーブル レポートを再作成します。</span><span class="sxs-lookup"><span data-stu-id="84128-274">Re-create the PivotTable reports by opening Microsoft Office Excel, and then selecting the BAM Add-ins. Import the *MyDef.xml* file created in step (1), and recreate the PivotTable reports.</span></span> <span data-ttu-id="84128-275">新しい BAM ブックを保存*MyNewBook.xls*します。</span><span class="sxs-lookup"><span data-stu-id="84128-275">Save the new BAM Workbook as *MyNewBook.xls*.</span></span>
  3. <span data-ttu-id="84128-276">ピボット テーブル名を検索して、ピボット テーブル レポートの名前を変更*MyDef.xml* `<Caption>`で、`<BAMDefinition>\<Extension>\<OWC>\<PivotTableView>\<PivotTable>\<PivotView>\<Label>`パス。</span><span class="sxs-lookup"><span data-stu-id="84128-276">Rename the PivotTable reports by finding the PivotTable names in *MyDef.xml* under `<Caption>` in the  `<BAMDefinition>\<Extension>\<OWC>\<PivotTableView>\<PivotTable>\<PivotView>\<Label>` path.</span></span> <span data-ttu-id="84128-277">これらの名前を使用して、ピボット テーブル レポートでの名前を変更する*MyNewBook.xls*します。</span><span class="sxs-lookup"><span data-stu-id="84128-277">Use these names to rename your PivotTable reports in *MyNewBook.xls*.</span></span>
  4. <span data-ttu-id="84128-278">次のコマンドを実行して、LiveData ブックを再生成します。</span><span class="sxs-lookup"><span data-stu-id="84128-278">Regenerate the LiveData Workbook by running the following command:</span></span>  
     `BM regenerate-livedataworkbook MyNewBook.xls`

     > [!NOTE]
     > <span data-ttu-id="84128-279">再生成された LiveData ブックには、元の LiveData ブックである Excel アイテム (チャートなど) が再作成しません。</span><span class="sxs-lookup"><span data-stu-id="84128-279">Regenerated LiveData Workbooks do not recreate the Excel artifacts (for example, charts) in the original LiveData Workbook.</span></span> <span data-ttu-id="84128-280">成果物を手動で再作成します。</span><span class="sxs-lookup"><span data-stu-id="84128-280">Manually recreate the artifacts.</span></span>


### <a name="enterprise-single-sign-on-esso"></a><span data-ttu-id="84128-281">エンタープライズ シングル サインオン (ESSO)</span><span class="sxs-lookup"><span data-stu-id="84128-281">Enterprise Single Sign-On (ESSO)</span></span>

|                            <span data-ttu-id="84128-282">シナリオ</span><span class="sxs-lookup"><span data-stu-id="84128-282">Scenario</span></span>                            |                                                                                                                                                                                                                                                                                                                                          <span data-ttu-id="84128-283">詳細情報</span><span class="sxs-lookup"><span data-stu-id="84128-283">More info</span></span>                                                                                                                                                                                                                                                                                                                                          |
|----------------------------------------------------------------|---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| <span data-ttu-id="84128-284">エンタープライズ シングル サインオンの以前のバージョンからアップグレードします。</span><span class="sxs-lookup"><span data-stu-id="84128-284">Upgrading from an earlier version of Enterprise Single Sign-on</span></span> | <span data-ttu-id="84128-285">BizTalk Server には、更新されたバージョン エンタープライズ シングル サインオン (ESSO) にはが含まれています。</span><span class="sxs-lookup"><span data-stu-id="84128-285">BizTalk Server includes an updated version of Enterprise Single Sign-On (ESSO).</span></span> <span data-ttu-id="84128-286">以前のバージョンの BizTalk コンピューターでこのリリースをインストールする場合、ESSO はセットアップ中に自動的に更新します。</span><span class="sxs-lookup"><span data-stu-id="84128-286">If you are installing this release on a computer with an earlier version of BizTalk, ESSO is automatically updated during setup.</span></span> <span data-ttu-id="84128-287">アップグレードする前に、次の手順を実行することをお勧めします。</span><span class="sxs-lookup"><span data-stu-id="84128-287">We recommend that you perform the following steps before upgrading:</span></span> <br/><br/> <span data-ttu-id="84128-288">1.シングル サインオン データベース (SSODB) の現在のバージョンは安全な場所にバックアップしていることを確認します。</span><span class="sxs-lookup"><span data-stu-id="84128-288">1. Verify that a current version of the Single Sign-On database (SSODB) is backed up to a secure location.</span></span> <br/><span data-ttu-id="84128-289">2.現在のマスター シークレット キーは安全な場所にバックアップしていることを確認します。</span><span class="sxs-lookup"><span data-stu-id="84128-289">2. Verify that the current master secret key is backed up to a secure location.</span></span><br/><span data-ttu-id="84128-290">3.マスター シークレットには、パスワードを認識します。</span><span class="sxs-lookup"><span data-stu-id="84128-290">3. Know the password to the master secret.</span></span><br/><br/><span data-ttu-id="84128-291">BizTalk グループ内のすべてのサーバーを同じリリースにアップグレードします。</span><span class="sxs-lookup"><span data-stu-id="84128-291">Upgrade all the servers in a BizTalk group to the same release.</span></span> <span data-ttu-id="84128-292">この要件は、スタンドアロンのマスター シークレット サーバーにも適用されます。</span><span class="sxs-lookup"><span data-stu-id="84128-292">This requirement also applies to a standalone master secret server.</span></span> |
|  <span data-ttu-id="84128-293">エンタープライズ シングル サインオン スタンドアロン セットアップを使用したアップグレード</span><span class="sxs-lookup"><span data-stu-id="84128-293">Upgrade using the Enterprise Single Sign-On standalone setup</span></span>  |             <span data-ttu-id="84128-294">次の手順を使用して、スタンドアロンのエンタープライズ シングル サインオンを専用のマスター シークレット サーバーなどにインストールされているコンピューターでアップグレードを実行します。</span><span class="sxs-lookup"><span data-stu-id="84128-294">Use the following steps to perform an upgrade on computers that have a standalone Enterprise Single Sign on installation, such as a dedicated master secret server.</span></span><br/><br/><span data-ttu-id="84128-295">1.現在のマスター シークレット キーは安全な場所にバックアップしていることを確認します。</span><span class="sxs-lookup"><span data-stu-id="84128-295">1. Verify that the current master secret key is backed up to a secure location.</span></span><br/><span data-ttu-id="84128-296">2.現在のバージョンの SSODB が安全な場所にバックアップしていることを確認します。</span><span class="sxs-lookup"><span data-stu-id="84128-296">2. Verify that a current version of the SSODB is backed up to a secure location.</span></span><br/><span data-ttu-id="84128-297">3.実行、ESSO **Setup.exe**から、[!INCLUDE[bts2016_md](../includes/bts2016-md.md)]インストール メディア。</span><span class="sxs-lookup"><span data-stu-id="84128-297">3. Run the ESSO **Setup.exe** from the [!INCLUDE[bts2016_md](../includes/bts2016-md.md)] installation media.</span></span> <span data-ttu-id="84128-298">既定のインストール フォルダーは`\Platform\SSO`します。</span><span class="sxs-lookup"><span data-stu-id="84128-298">The default installation folder is `\Platform\SSO`.</span></span><br/><span data-ttu-id="84128-299">4.**自動実行**ダイアログ ボックスで、 **Microsoft エンタープライズ シングル サインオン**します。</span><span class="sxs-lookup"><span data-stu-id="84128-299">4. In the **Autorun** dialog box, select **Microsoft Enterprise Single Sign-On**.</span></span><br/><span data-ttu-id="84128-300">5.概要 ダイアログ ボックスで、次のように選択します。**アップグレード**します。</span><span class="sxs-lookup"><span data-stu-id="84128-300">5. In the Summary dialog box, select **Upgrade**.</span></span>              |

### <a name="multicomputer-environment"></a><span data-ttu-id="84128-301">複数コンピューター環境</span><span class="sxs-lookup"><span data-stu-id="84128-301">Multicomputer environment</span></span>
<span data-ttu-id="84128-302">複数コンピューター環境では、SSO マスター シークレット サーバー コンピューターをアップグレードします。</span><span class="sxs-lookup"><span data-stu-id="84128-302">In a multicomputer environment, upgrade the SSO master secret server computer.</span></span> <span data-ttu-id="84128-303">次に、他の BizTalk Server コンピューターをアップグレードします。</span><span class="sxs-lookup"><span data-stu-id="84128-303">Then, upgrade the other BizTalk Server computers.</span></span> <span data-ttu-id="84128-304">グループ内の BizTalk コンピューターを同時にアップグレードすることはサポートされていません。</span><span class="sxs-lookup"><span data-stu-id="84128-304">Simultaneously upgrading the BizTalk computers in a group is not supported.</span></span> <span data-ttu-id="84128-305">次の順序で一度に 1 台のコンピューターをアップグレードします。</span><span class="sxs-lookup"><span data-stu-id="84128-305">Upgrade one computer at a time in the following order:</span></span>

1. <span data-ttu-id="84128-306">シングル サインオン マスター シークレット サーバー</span><span class="sxs-lookup"><span data-stu-id="84128-306">Single Sign-On master secret server</span></span>
2. <span data-ttu-id="84128-307">BizTalk Server を実行しているランタイム コンピューター</span><span class="sxs-lookup"><span data-stu-id="84128-307">Run-time computers that are running BizTalk Server</span></span>
3. <span data-ttu-id="84128-308">管理ツールと監視コンピューター</span><span class="sxs-lookup"><span data-stu-id="84128-308">Administration tools and monitoring computer</span></span>
4. <span data-ttu-id="84128-309">開発と BizTalk Server を実行している他のコンピューター</span><span class="sxs-lookup"><span data-stu-id="84128-309">Development and any other remaining computers that are running BizTalk Server</span></span>

<span data-ttu-id="84128-310">**その他**</span><span class="sxs-lookup"><span data-stu-id="84128-310">**Additional**</span></span>  
<span data-ttu-id="84128-311">設定ダッシュ ボードを使用して、パフォーマンスの最適化のための BizTalk Server 設定を幅広く調整できます。</span><span class="sxs-lookup"><span data-stu-id="84128-311">Using the Settings Dashboard, you can extensively tweak BizTalk Server settings for performance optimization.</span></span> <span data-ttu-id="84128-312">BizTalk グループ、BizTalk ホスト、および BizTalk ホスト インスタンスの設定を変更することもできます。</span><span class="sxs-lookup"><span data-stu-id="84128-312">You can also modify settings for the BizTalk Group, BizTalk Host, and BizTalk Host Instance.</span></span> <span data-ttu-id="84128-313">参照してください[設定ダッシュ ボードを使用して、BizTalk Server のパフォーマンス チューニング](../core/using-settings-dashboard-for-biztalk-server-performance-tuning.md)します。</span><span class="sxs-lookup"><span data-stu-id="84128-313">See [Using Settings Dashboard for BizTalk Server Performance Tuning](../core/using-settings-dashboard-for-biztalk-server-performance-tuning.md).</span></span>

### <a name="general-information"></a><span data-ttu-id="84128-314">一般的な情報</span><span class="sxs-lookup"><span data-stu-id="84128-314">General information</span></span>

- <span data-ttu-id="84128-315">**アカウント名**:可能な限り、既定のアカウント名を使用します。</span><span class="sxs-lookup"><span data-stu-id="84128-315">**Account names**: Use the default account names whenever possible.</span></span> <span data-ttu-id="84128-316">BizTalk Server のセットアップ プログラムでは、既定のアカウントを使用するインストール済みコンポーネントが自動的に構成されます。</span><span class="sxs-lookup"><span data-stu-id="84128-316">The BizTalk Server Setup program automatically configures installed components to use the default accounts.</span></span> <span data-ttu-id="84128-317">Active Directory フォレストに複数の BizTalk Server グループがある場合は、競合を回避するために、アカウント名を変更します。</span><span class="sxs-lookup"><span data-stu-id="84128-317">If there are multiple BizTalk Server groups in an Active Directory forest, change the account names to avoid conflicts.</span></span> <span data-ttu-id="84128-318">BizTalk Server のサポートのみ`<NetBIOS domain name>\<user>`形式のサービス アカウントおよび Windows グループの名前します。</span><span class="sxs-lookup"><span data-stu-id="84128-318">BizTalk Server supports only `<NetBIOS domain name>\<user>` name formats for service accounts and Windows groups.</span></span>

- <span data-ttu-id="84128-319">**アカウント名と BAM 管理 Web サービス**:BAM 管理 Web サービス ユーザーは、BizTalk Server は、ビルトイン アカウントまたはパスワードなしのアカウントはサポートしていません。</span><span class="sxs-lookup"><span data-stu-id="84128-319">**Account names with BAM Management Web Service**: BizTalk Server does not support built-in accounts or accounts without passwords for the BAM Management Web Service User.</span></span> 

  <span data-ttu-id="84128-320">このようなアカウントを使用して BizTalk Server の構成が成功するも、BAM 管理 Web サービスは失敗します。</span><span class="sxs-lookup"><span data-stu-id="84128-320">Configuring BizTalk Server with such accounts may appear to succeed, but the BAM Management Web Service fails.</span></span> 

  <span data-ttu-id="84128-321">BAM アプリケーション プールのようなアカウントの使用がサポートされています。</span><span class="sxs-lookup"><span data-stu-id="84128-321">Use of such accounts for the BAM Application pool is supported.</span></span>

- <span data-ttu-id="84128-322">**BizTalk アセンブリ ビューアー**は 64 ビットのオペレーティング システムでサポートされていません。</span><span class="sxs-lookup"><span data-stu-id="84128-322">**BizTalk Assembly Viewer** is not supported on a 64-bit operating system.</span></span>

- <span data-ttu-id="84128-323">**インストールし、アンインストール**:BizTalk Server をアンインストールする場合は、BizTalk Server データベースを手動で削除します。</span><span class="sxs-lookup"><span data-stu-id="84128-323">**Install and Uninstall**: When you uninstall BizTalk Server, manually delete the BizTalk Server databases.</span></span> <span data-ttu-id="84128-324">開発者またはエバリュエーターとして BizTalk Server をインストールする場合は、仮想マシンにインストールを検討してください。</span><span class="sxs-lookup"><span data-stu-id="84128-324">If you are installing BizTalk Server as a developer or evaluator, consider installing on a virtual machine.</span></span> <span data-ttu-id="84128-325">これによりを再インストールする必要がある場合は簡単にロールバックする事前設定されたチェックポイント アンインストール プロセスを経由する必要はありません。</span><span class="sxs-lookup"><span data-stu-id="84128-325">This way, if you have to reinstall, you can easily roll back to a preset checkpoint without having to go through the uninstall process.</span></span>

- <span data-ttu-id="84128-326">**32 ビットおよび 64 ビット コンピューター**:Windows の 32 ビットまたは 64 ビット Windows に BizTalk Server をインストールする場合は、大きな違いにはありません。</span><span class="sxs-lookup"><span data-stu-id="84128-326">**32-bit and 64-bit computers**: There are few differences when installing BizTalk Server on 32-bit Windows or 64-bit Windows.</span></span> <span data-ttu-id="84128-327">このドキュメントでは、32 ビットおよび 64 ビットの両方のインストールについて説明します。</span><span class="sxs-lookup"><span data-stu-id="84128-327">This document covers both 32-bit and 64-bit installations.</span></span> <span data-ttu-id="84128-328">それらの相違点が記載されています。</span><span class="sxs-lookup"><span data-stu-id="84128-328">Differences between them are noted.</span></span>

- <span data-ttu-id="84128-329">**ワークグループ**:インストールして、1 台のコンピューター上のワークグループ環境での BizTalk Server の構成がサポートされています。</span><span class="sxs-lookup"><span data-stu-id="84128-329">**Workgroups**: Installing and configuring BizTalk Server in a workgroup environment on a single computer is supported.</span></span> <span data-ttu-id="84128-330">このシナリオで SQL Server と BizTalk Server の機能とコンポーネントの両方がインストールされているし、同じコンピューター上で構成します。</span><span class="sxs-lookup"><span data-stu-id="84128-330">In this scenario, both SQL Server and BizTalk Server features and components are installed and configured on the same computer.</span></span>

- <span data-ttu-id="84128-331">**ターミナル サーバー**:BizTalk Server のインストール アプリケーション モードで実行されているターミナル サーバーの使用はサポートされていません。</span><span class="sxs-lookup"><span data-stu-id="84128-331">**Terminal Server**: Installing BizTalk Server using Terminal Server running in application mode is not supported.</span></span> <span data-ttu-id="84128-332">参照してください[KB 832027](https://support.microsoft.com/kb/832027)します。</span><span class="sxs-lookup"><span data-stu-id="84128-332">See [KB 832027](https://support.microsoft.com/kb/832027).</span></span>

- <span data-ttu-id="84128-333">**サイレント アップグレード**はサポートされていません。</span><span class="sxs-lookup"><span data-stu-id="84128-333">**Silent Upgrade** is not supported.</span></span>

- <span data-ttu-id="84128-334">**サポートされていないアプリケーション**:BizTalk Server は、PAM Api、ストアド プロシージャ、またはデータベースに直接アクセスなどのサポートされていない Api に基づいて構築されたカスタム アプリケーションをサポートしていません。</span><span class="sxs-lookup"><span data-stu-id="84128-334">**Unsupported Applications**: BizTalk Server does not support custom applications built on unsupported APIs such as PAM APIs, stored procedures, or direct database access.</span></span> <span data-ttu-id="84128-335">運用環境をアップグレードする前に、少なくとも 1 つのテスト アップグレードを実行します。</span><span class="sxs-lookup"><span data-stu-id="84128-335">Run at least one test upgrade before you upgrade your production environment.</span></span>

- <span data-ttu-id="84128-336">**SQL Server インスタンス**:プラットフォームをアップグレードする前に、SQL Server インスタンスをアップグレードすることをお勧めします。</span><span class="sxs-lookup"><span data-stu-id="84128-336">**SQL Server instances**: It’s a good practice to upgrade any SQL Server instances before you upgrade the platform.</span></span>

## <a name="prepare-your-computer-for-upgrade"></a><span data-ttu-id="84128-337">アップグレード コンピューターを準備します。</span><span class="sxs-lookup"><span data-stu-id="84128-337">Prepare your computer for upgrade</span></span>

|                 <span data-ttu-id="84128-338">タスク</span><span class="sxs-lookup"><span data-stu-id="84128-338">Task</span></span>                  |                                                                                                                                                                                                                                        <span data-ttu-id="84128-339">Info</span><span class="sxs-lookup"><span data-stu-id="84128-339">Info</span></span>                                                                                                                                                                                                                                         |
|---------------------------------------|-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
|   <span data-ttu-id="84128-340">重要な Windows 更新プログラムをインストールします。</span><span class="sxs-lookup"><span data-stu-id="84128-340">Install Critical Windows Updates</span></span>    |                                                                                                                                                                                                <span data-ttu-id="84128-341">[プログラム] メニューから Windows 更新プログラムを選択します。</span><span class="sxs-lookup"><span data-stu-id="84128-341">Select Windows Update from the Programs menu.</span></span> <span data-ttu-id="84128-342">コンピューターを再起動する必要があります。</span><span class="sxs-lookup"><span data-stu-id="84128-342">You may need to restart your computer.</span></span>                                                                                                                                                                                                 |
|      <span data-ttu-id="84128-343">BAM 警告の定義を保存します。</span><span class="sxs-lookup"><span data-stu-id="84128-343">Save BAM Alert Definitions</span></span>       |                                    <span data-ttu-id="84128-344">現在、SQL Server Notification Services で既存の BAM 警告の定義を使用する場合にのみ適用されます。</span><span class="sxs-lookup"><span data-stu-id="84128-344">Applies only if you currently use existing BAM Alert definitions with SQL Server Notification Services.</span></span> <span data-ttu-id="84128-345">BM.exe を使用して定義ファイルを作成しで BAM 警告の構成を解除、 [!INCLUDE[bts2013r2_md](../includes/bts2013r2-md.md)]/2013 構成します。</span><span class="sxs-lookup"><span data-stu-id="84128-345">Create a definition file using BM.exe and unconfigure BAM Alerts in the [!INCLUDE[bts2013r2_md](../includes/bts2013r2-md.md)]/2013 Configuration.</span></span><br/><br/><span data-ttu-id="84128-346">**アップグレードする前に**(このトピック) で特定の手順を示します。</span><span class="sxs-lookup"><span data-stu-id="84128-346">**Before the upgrade** (in this topic) lists the specific steps.</span></span><br/><br/><span data-ttu-id="84128-347">それ以外の場合、アップグレードした後は、BAM 警告の定義を再作成します。</span><span class="sxs-lookup"><span data-stu-id="84128-347">Otherwise, recreate the BAM Alert definitions after you upgrade.</span></span>                                    |
|          <span data-ttu-id="84128-348">SQL Server をアップグレードする</span><span class="sxs-lookup"><span data-stu-id="84128-348">Upgrade SQL Server</span></span>           |                                         <span data-ttu-id="84128-349">サポートされている SQL Server のバージョンにアップグレードします。</span><span class="sxs-lookup"><span data-stu-id="84128-349">Upgrade to a supported SQL Server version.</span></span> <span data-ttu-id="84128-350">参照トピック</span><span class="sxs-lookup"><span data-stu-id="84128-350">See:</span></span><br/><br/>[<span data-ttu-id="84128-351">BizTalk Server 2016 のハードウェア/ソフトウェア要件</span><span class="sxs-lookup"><span data-stu-id="84128-351">Hardware and Software Requirements for BizTalk Server 2016</span></span>](../install-and-config-guides/hardware-and-software-requirements-for-biztalk-server-2016.md)<br/>[<span data-ttu-id="84128-352">SQL Server 2016 へのアップグレード</span><span class="sxs-lookup"><span data-stu-id="84128-352">Upgrade to SQL Server 2016</span></span>](https://msdn.microsoft.com/library/bb677622.aspx)<br/><span data-ttu-id="84128-353">[SQL Server 2014 へのアップグレード](https://msdn.microsoft.com/library/bb677622(v=sql.120).aspx)</span><span class="sxs-lookup"><span data-stu-id="84128-353">[Upgrade to SQL Server 2014](https://msdn.microsoft.com/library/bb677622(v=sql.120).aspx)</span></span>                                          |
|    <span data-ttu-id="84128-354">SQL Server クライアント ツールをアップグレードします。</span><span class="sxs-lookup"><span data-stu-id="84128-354">Upgrade SQL Server Client Tools</span></span>    |                                                                                                                                                <span data-ttu-id="84128-355">複数コンピューター環境には、別のコンピューターに、管理ツールをインストールすることがあります。</span><span class="sxs-lookup"><span data-stu-id="84128-355">In a multicomputer environment, the Administration tools may be installed on a separate computer.</span></span> <span data-ttu-id="84128-356">SQL Server 管理のクライアント ツール、管理ツールを含むをアップグレードします。</span><span class="sxs-lookup"><span data-stu-id="84128-356">Upgrade the SQL Server Administration Client Tools, including the Management Tools.</span></span>                                                                                                                                                |
|         <span data-ttu-id="84128-357">Visual Studio のインストール</span><span class="sxs-lookup"><span data-stu-id="84128-357">Install Visual Studio</span></span>         |                         <span data-ttu-id="84128-358">参照してください[BizTalk Server 2016 のハードウェアおよびソフトウェア](../install-and-config-guides/hardware-and-software-requirements-for-biztalk-server-2016.md)サポートされているバージョン。</span><span class="sxs-lookup"><span data-stu-id="84128-358">See [Hardware and Software Requirements for BizTalk Server 2016](../install-and-config-guides/hardware-and-software-requirements-for-biztalk-server-2016.md) for the supported versions.</span></span> <span data-ttu-id="84128-359">異なるバージョンの Visual Studio では、並列でのインストールをすることができます。</span><span class="sxs-lookup"><span data-stu-id="84128-359">Different Visual Studio versions can be installed side-by-side.</span></span> <span data-ttu-id="84128-360">参照してください[Visual Studio 2015](https://msdn.microsoft.com/library/ms246609(v=vs.140).aspx)と[Visual Studio 2013](https://msdn.microsoft.com/library/ms246609(v=vs.120).aspx)します。</span><span class="sxs-lookup"><span data-stu-id="84128-360">See [Visual Studio 2015](https://msdn.microsoft.com/library/ms246609(v=vs.140).aspx) and [Visual Studio 2013](https://msdn.microsoft.com/library/ms246609(v=vs.120).aspx).</span></span>                         |
|            <span data-ttu-id="84128-361">Office をインストールします。</span><span class="sxs-lookup"><span data-stu-id="84128-361">Install Office</span></span>             |                                     <span data-ttu-id="84128-362">参照してください[をインストールし、異なるバージョンの Office を使用して、](https://support.office.com/article/Install-and-use-different-versions-of-Office-on-the-same-PC-6EBB44CE-18A3-43F9-A187-B78C513788BF)同じコンピューターにします。</span><span class="sxs-lookup"><span data-stu-id="84128-362">See [Install and use different versions of Office](https://support.office.com/article/Install-and-use-different-versions-of-Office-on-the-same-PC-6EBB44CE-18A3-43F9-A187-B78C513788BF) on the same computer.</span></span> <span data-ttu-id="84128-363">[BizTalk Server 2016 のハードウェアおよびソフトウェア](../install-and-config-guides/hardware-and-software-requirements-for-biztalk-server-2016.md)サポートされている Office のバージョンを一覧表示します。</span><span class="sxs-lookup"><span data-stu-id="84128-363">[Hardware and Software Requirements for BizTalk Server 2016](../install-and-config-guides/hardware-and-software-requirements-for-biztalk-server-2016.md) lists the supported Office versions.</span></span>                                     |
| <span data-ttu-id="84128-364">BizTalk と Windows サービスを停止します。</span><span class="sxs-lookup"><span data-stu-id="84128-364">Stop the BizTalk and Windows Services</span></span> |                                                                                                      <span data-ttu-id="84128-365">BizTalk Service BizTalk Group: *< Application_Name >*</span><span class="sxs-lookup"><span data-stu-id="84128-365">- BizTalk Service BizTalk Group:  *<Application_Name>*</span></span><br/><span data-ttu-id="84128-366">-BizTalk ベース EDI サービス</span><span class="sxs-lookup"><span data-stu-id="84128-366">- BizTalk Base EDI Service</span></span><br/><span data-ttu-id="84128-367">-ルール エンジン更新サービス</span><span class="sxs-lookup"><span data-stu-id="84128-367">- Rule Engine Update Service</span></span><br/><span data-ttu-id="84128-368">-World Wide Web Publishing サービス</span><span class="sxs-lookup"><span data-stu-id="84128-368">- World Wide Web Publishing Service</span></span><br/><br/><span data-ttu-id="84128-369">**注**</span><span class="sxs-lookup"><span data-stu-id="84128-369">**NOTE**</span></span><br/><span data-ttu-id="84128-370">BizTalk Server アクセラレータがインストールされている場合は、HL7 ログ サービスを停止します。</span><span class="sxs-lookup"><span data-stu-id="84128-370">If you have any BizTalk Server accelerators installed, stop the HL7 Logging Service.</span></span>                                                                                                      |
|         <span data-ttu-id="84128-371">データベースをバックアップします。</span><span class="sxs-lookup"><span data-stu-id="84128-371">Back up the databases</span></span>         | <span data-ttu-id="84128-372">マスター</span><span class="sxs-lookup"><span data-stu-id="84128-372">- Master</span></span><br/><span data-ttu-id="84128-373">-MSDB</span><span class="sxs-lookup"><span data-stu-id="84128-373">- MSDB</span></span><br/><span data-ttu-id="84128-374">-BAMArchive</span><span class="sxs-lookup"><span data-stu-id="84128-374">- BAMArchive</span></span><br/><span data-ttu-id="84128-375">-BAMPrimaryImport</span><span class="sxs-lookup"><span data-stu-id="84128-375">- BAMPrimaryImport</span></span><br/><span data-ttu-id="84128-376">-BAMStarSchema</span><span class="sxs-lookup"><span data-stu-id="84128-376">- BAMStarSchema</span></span><br/><span data-ttu-id="84128-377">-BizTalkDTADb</span><span class="sxs-lookup"><span data-stu-id="84128-377">- BizTalkDTADb</span></span><br/><span data-ttu-id="84128-378">-BizTalkEDIDb</span><span class="sxs-lookup"><span data-stu-id="84128-378">- BizTalkEDIDb</span></span><br/><span data-ttu-id="84128-379">-BizTalkHwsDb</span><span class="sxs-lookup"><span data-stu-id="84128-379">- BizTalkHwsDb</span></span><br/><span data-ttu-id="84128-380">-BizTalkMgmtDb</span><span class="sxs-lookup"><span data-stu-id="84128-380">- BizTalkMgmtDb</span></span><br/><span data-ttu-id="84128-381">-BizTalkMsgBoxDb</span><span class="sxs-lookup"><span data-stu-id="84128-381">- BizTalkMsgBoxDb</span></span><br/><span data-ttu-id="84128-382">-BizTalkRuleEngineDb</span><span class="sxs-lookup"><span data-stu-id="84128-382">- BizTalkRuleEngineDb</span></span><br/><span data-ttu-id="84128-383">-TPM</span><span class="sxs-lookup"><span data-stu-id="84128-383">- TPM</span></span><br/><span data-ttu-id="84128-384">-BizTalkAnalysisDb</span><span class="sxs-lookup"><span data-stu-id="84128-384">- BizTalkAnalysisDb</span></span><br/><span data-ttu-id="84128-385">-BAMAnalysis</span><span class="sxs-lookup"><span data-stu-id="84128-385">- BAMAnalysis</span></span><br/><br/><span data-ttu-id="84128-386">[SQL Server 2014:バックアップの概要](https://technet.microsoft.com/library/ms175477(v=sql.120).aspx)</span><span class="sxs-lookup"><span data-stu-id="84128-386">[SQL Server 2014: Backup Overview](https://technet.microsoft.com/library/ms175477(v=sql.120).aspx)</span></span><br/><span data-ttu-id="84128-387">[SQL Server 2012:バックアップの概要](https://technet.microsoft.com/library/ms175477(v=sql.110).aspx)</span><span class="sxs-lookup"><span data-stu-id="84128-387">[SQL Server 2012: Backup Overview](https://technet.microsoft.com/library/ms175477(v=sql.110).aspx)</span></span> |
|  <span data-ttu-id="84128-388">SQL Server データベース メールを構成します。</span><span class="sxs-lookup"><span data-stu-id="84128-388">Configure SQL Server Database Mail</span></span>   |                                                                                                                      <span data-ttu-id="84128-389">SQL Server Notification Services で BAM 警告の定義を使用する場合にのみ適用されます。</span><span class="sxs-lookup"><span data-stu-id="84128-389">Applies only if you use BAM Alert definitions with SQL Server Notification Services.</span></span><br/><br/><span data-ttu-id="84128-390">**アップグレードする前に**(このトピック) で特定の手順を示します。</span><span class="sxs-lookup"><span data-stu-id="84128-390">**Before the upgrade** (in this topic) lists the specific steps.</span></span><br/><br/><span data-ttu-id="84128-391">それ以外の場合、アップグレードした後は、BAM 警告の定義を再作成します。</span><span class="sxs-lookup"><span data-stu-id="84128-391">Otherwise, recreate the BAM Alert definitions after you upgrade.</span></span>                                                                                                                       |

## <a name="do-the-upgrade"></a><span data-ttu-id="84128-392">アップグレードを実行します。</span><span class="sxs-lookup"><span data-stu-id="84128-392">Do the upgrade</span></span>

> [!IMPORTANT]
> <span data-ttu-id="84128-393">SQL Server のインストール、セットアップはシステム管理者の権限をログオン アカウントに付与されます。</span><span class="sxs-lookup"><span data-stu-id="84128-393">When you installed SQL Server, setup granted your logged-on account system administrator rights.</span></span> <span data-ttu-id="84128-394">システム管理者の権限は、BizTalk Server のインストールにも必要です。</span><span class="sxs-lookup"><span data-stu-id="84128-394">System administrator rights are also required to install BizTalk Server.</span></span> <span data-ttu-id="84128-395">次のいずれかの操作を行います。</span><span class="sxs-lookup"><span data-stu-id="84128-395">Do one of the following:</span></span>
> 
> - <span data-ttu-id="84128-396">SQL Server をインストールしたときに使用した同じアカウントを使用します。</span><span class="sxs-lookup"><span data-stu-id="84128-396">Use the same account you used when you installed SQL Server</span></span>  
> <span data-ttu-id="84128-397">**OR**</span><span class="sxs-lookup"><span data-stu-id="84128-397">**OR**</span></span>  
> - <span data-ttu-id="84128-398">現在のログオン アカウントにシステム管理者の権限があることを確認します。</span><span class="sxs-lookup"><span data-stu-id="84128-398">Make sure the current logged-on account has system administrator rights</span></span>

### <a name="upgrade-steps"></a><span data-ttu-id="84128-399">アップグレード手順</span><span class="sxs-lookup"><span data-stu-id="84128-399">Upgrade steps</span></span>

1. <span data-ttu-id="84128-400">開いているプログラムを閉じます。</span><span class="sxs-lookup"><span data-stu-id="84128-400">Close any open programs.</span></span>
2. <span data-ttu-id="84128-401">実行**Setup.exe**インストール メディアから。</span><span class="sxs-lookup"><span data-stu-id="84128-401">Run **Setup.exe** from the installation media.</span></span>
3. <span data-ttu-id="84128-402">スタートでは、次のように選択します。 **Microsoft BizTalk Server のインストール**します。</span><span class="sxs-lookup"><span data-stu-id="84128-402">In Start, select **Install Microsoft BizTalk Server**.</span></span>
4. <span data-ttu-id="84128-403">**顧客情報**ユーザー名、組織、およびプロダクト キーを入力します。</span><span class="sxs-lookup"><span data-stu-id="84128-403">In **Customer Information**, enter your user name, organization, and product key.</span></span> <span data-ttu-id="84128-404">**[次へ]** を選択します。</span><span class="sxs-lookup"><span data-stu-id="84128-404">Select **Next**.</span></span>
5. <span data-ttu-id="84128-405">ライセンス条項に同意し、選択**次**します。</span><span class="sxs-lookup"><span data-stu-id="84128-405">Accept the license agreement, and select **Next**.</span></span>
6. <span data-ttu-id="84128-406">カスタマー エクスペリエンス向上プログラムには、する基本設定を入力します。</span><span class="sxs-lookup"><span data-stu-id="84128-406">In Customer Experience Improvement Program, enter you preference.</span></span> <span data-ttu-id="84128-407">参照してください**付録 A** (このトピックでは) の詳細についてはします。</span><span class="sxs-lookup"><span data-stu-id="84128-407">See **Appendix A** (in this topic) for more information.</span></span>
7. <span data-ttu-id="84128-408">**コンポーネントのインストール**で、使用可能なコンポーネントを確認し、**次**します。</span><span class="sxs-lookup"><span data-stu-id="84128-408">In **Component Installation**, review the available components, and select **Next**.</span></span>
8. <span data-ttu-id="84128-409">お使いのコンピューターには、前提条件が不足しているが、再頒布可能パッケージの前提条件がインストールできます。</span><span class="sxs-lookup"><span data-stu-id="84128-409">If your computer is missing a prerequisite, Setup can install the redistributable prerequisites.</span></span> <span data-ttu-id="84128-410">次のいずれかを実行できます。</span><span class="sxs-lookup"><span data-stu-id="84128-410">You can either:</span></span>

    - <span data-ttu-id="84128-411">Select では、web サイトから、再頒布可能コンポーネントを自動的にインストールします。</span><span class="sxs-lookup"><span data-stu-id="84128-411">Select Automatically install the redistributable prerequisites from the web</span></span>  

      <span data-ttu-id="84128-412">スイッチまたは</span><span class="sxs-lookup"><span data-stu-id="84128-412">OR</span></span>  

    - <span data-ttu-id="84128-413">選択を使用、CAB ファイルから CAB ファイルをダウンロードした場合の再頒布可能パッケージのコンポーネントが自動的にインストールします。</span><span class="sxs-lookup"><span data-stu-id="84128-413">Select Automatically install the redistributable prerequisites from a CAB file if you downloaded the CAB file.</span></span> <span data-ttu-id="84128-414">CAB ファイルの場所を参照して選択します。</span><span class="sxs-lookup"><span data-stu-id="84128-414">Browse to the location of the CAB file and select it.</span></span>

9. <span data-ttu-id="84128-415">**概要**、アップグレード可能なコンポーネントを確認します。</span><span class="sxs-lookup"><span data-stu-id="84128-415">In **Summary**, review the upgradable components.</span></span>
10. <span data-ttu-id="84128-416">選択**アップグレード**を開始します。</span><span class="sxs-lookup"><span data-stu-id="84128-416">Select **Upgrade** to start.</span></span>
11. <span data-ttu-id="84128-417">省略可能:選択 **(推奨) 更新プログラムを確認するときに、Microsoft Update を使用**します。</span><span class="sxs-lookup"><span data-stu-id="84128-417">Optional: Select **Use the Microsoft Update when I check for updates (recommended)**.</span></span>
12. <span data-ttu-id="84128-418">**アップグレードは完了しました**、オフに**aunch BizTalk Server 構成**チェック ボックスをオンし、**完了**します。</span><span class="sxs-lookup"><span data-stu-id="84128-418">In **Upgrade Completed**, clear the L**aunch BizTalk Server Configuration** check box, and then select **Finish**.</span></span>

<span data-ttu-id="84128-419">**その他**</span><span class="sxs-lookup"><span data-stu-id="84128-419">**ADDITIONAL**</span></span>  
<span data-ttu-id="84128-420">多くは、BizTalk Server のアップグレード中に発生して、処理中の実行でエラーが発生するケースも少なくありません。</span><span class="sxs-lookup"><span data-stu-id="84128-420">A lot happens during an upgrade of BizTalk Server, and it’s not uncommon to run into an error during the process.</span></span> <span data-ttu-id="84128-421">ただし、準備している場合はエラーのほとんどが簡単に修正します。</span><span class="sxs-lookup"><span data-stu-id="84128-421">However, most errors are easily remedied if you’re prepared.</span></span> <span data-ttu-id="84128-422">読み取りをお勧め、**付録 B** (このトピックでは) のアップグレードのエラーを回避する方法と、いずれかが発生した場合の対処に関するヒント。</span><span class="sxs-lookup"><span data-stu-id="84128-422">We recommend reading the **Appendix B** (in this topic) for tips on how to avoid upgrade errors, and what to do if one occurs.</span></span>

<span data-ttu-id="84128-423">アップグレード プロセスは、以前のバージョンの BizTalk Server の一部であった機能のみをアップグレードします。</span><span class="sxs-lookup"><span data-stu-id="84128-423">The upgrade process only upgrades features that were part of your previous version of BizTalk Server.</span></span> <span data-ttu-id="84128-424">新機能は、アップグレード中にインストールされていません。</span><span class="sxs-lookup"><span data-stu-id="84128-424">New features are not installed during an upgrade.</span></span> <span data-ttu-id="84128-425">これらの機能をインストールするには、アップグレード後にセットアップを再実行、**変更**をインストールする機能を選択します。</span><span class="sxs-lookup"><span data-stu-id="84128-425">To install these features, rerun Setup after the upgrade, choose **Modify**, and select the features you want to install.</span></span> <span data-ttu-id="84128-426">インストールした後では、構成を使用して、 **BizTalk Server 構成マネージャー**します。</span><span class="sxs-lookup"><span data-stu-id="84128-426">Once installed, configure them using the **BizTalk Server Configuration Manager**.</span></span>

<span data-ttu-id="84128-427">アップグレードが成功したかどうかことを確認するには、開く**プログラムと機能**を探して[!INCLUDE[bts2016_md](../includes/bts2016-md.md)]します。</span><span class="sxs-lookup"><span data-stu-id="84128-427">To verify if the upgrade is successful, open **Programs and Features** and look for [!INCLUDE[bts2016_md](../includes/bts2016-md.md)].</span></span> <span data-ttu-id="84128-428">記載されている場合は、セットアップが成功しました。</span><span class="sxs-lookup"><span data-stu-id="84128-428">If it’s listed, setup succeeded.</span></span>

## <a name="post-upgrade"></a><span data-ttu-id="84128-429">アップグレード後</span><span class="sxs-lookup"><span data-stu-id="84128-429">Post upgrade</span></span>
<span data-ttu-id="84128-430">ロールバックできません [!INCLUDE[bts2013r2_md](../includes/bts2013r2-md.md)] /2013。</span><span class="sxs-lookup"><span data-stu-id="84128-430">You cannot roll back to [!INCLUDE[bts2013r2_md](../includes/bts2013r2-md.md)]/2013.</span></span>

- <span data-ttu-id="84128-431">**BAM 警告の定義 XML ファイルを作成した場合**:[!INCLUDE[bts2016_md](../includes/bts2016-md.md)]構成では、BAM 警告を構成します。</span><span class="sxs-lookup"><span data-stu-id="84128-431">**If you created a BAM Alerts definition XML file**: In [!INCLUDE[bts2016_md](../includes/bts2016-md.md)] Configuration, configure BAM Alerts.</span></span> <span data-ttu-id="84128-432">次に、保存した定義をデプロイします。</span><span class="sxs-lookup"><span data-stu-id="84128-432">Then, deploy the saved Definitions.</span></span>

    <span data-ttu-id="84128-433">**アップグレードする前に**(このトピック) で特定の手順を示します。</span><span class="sxs-lookup"><span data-stu-id="84128-433">**Before the upgrade** (in this topic) lists the specific steps.</span></span> <span data-ttu-id="84128-434">それ以外の場合、アップグレードした後は、BAM 警告の定義を再作成します。</span><span class="sxs-lookup"><span data-stu-id="84128-434">Otherwise, recreate the BAM Alert definitions after you upgrade.</span></span>

- <span data-ttu-id="84128-435">**MQSAgent のインストール**:MQSAgent.dll ファイルは、リモートの WebSphere MQ Server にインストールする場合は、MQ エージェントからの新しいバージョンをインストール[!INCLUDE[bts2016_md](../includes/bts2016-md.md)]リモートの WebSphere MQ Server 上。</span><span class="sxs-lookup"><span data-stu-id="84128-435">**Install MQSAgent**: If the MQSAgent.dll file is installed on a remote WebSphere MQ Server, install a new version of the MQ Agent from [!INCLUDE[bts2016_md](../includes/bts2016-md.md)] on the remote WebSphere MQ Server.</span></span>

- <span data-ttu-id="84128-436">**MSMQ の開始**:MSMQ アダプターを使用する場合は、メッセージ キュー サービスを起動します。</span><span class="sxs-lookup"><span data-stu-id="84128-436">**Start MSMQ**: If you use the MSMQ adapter, start the Message Queuing service.</span></span>

- <span data-ttu-id="84128-437">**カスタム EXE および BRE**:BizTalk Server 2010 のビジネス ルール エンジン アセンブリを参照するカスタム マネージ実行可能ファイルがあれば、.NET Framework 2.0 でプロセスを実行するアプリケーション構成ファイルに、次を追加します。</span><span class="sxs-lookup"><span data-stu-id="84128-437">**Custom EXE and BRE**: If you have a custom managed executable file that references Business Rule Engine assembly in BizTalk Server 2010, add the following to the application configuration file to run the process in the .NET Framework 2.0.</span></span>

    ```
    <?xml version="1.0" encoding="Windows-1252"?>
    <configuration> 
     <startup>
      <supportedRuntime version="v2.0.50727" />
     </startup>   
    </configuration>
    ```

- <span data-ttu-id="84128-438">**SQL エージェント ジョブ**:次の SQL Server エージェント ジョブを再構成するには。</span><span class="sxs-lookup"><span data-stu-id="84128-438">**SQL Agent job**: Reconfigure the following SQL Server Agent jobs:</span></span>

    -   <span data-ttu-id="84128-439">DTA Purge and Archive (BizTalkDTADb):参照してください[構成 DTA Purge and Archive ジョブをする方法](../core/how-to-configure-the-dta-purge-and-archive-job.md)</span><span class="sxs-lookup"><span data-stu-id="84128-439">DTA Purge and Archive (BizTalkDTADb): See [How to Configure the DTA Purge and Archive Job](../core/how-to-configure-the-dta-purge-and-archive-job.md)</span></span>
    -   <span data-ttu-id="84128-440">BizTalk Server (BizTalkMgmtDb) をバックアップしてください。参照してください[バックアップ BizTalk Server ジョブを構成する方法](../core/how-to-configure-the-backup-biztalk-server-job.md)</span><span class="sxs-lookup"><span data-stu-id="84128-440">Backup BizTalk Server (BizTalkMgmtDb): See [How to Configure the Backup BizTalk Server Job](../core/how-to-configure-the-backup-biztalk-server-job.md)</span></span>

- <span data-ttu-id="84128-441">**アプリケーションの再起動**:アップグレードされたデプロイされたすべてのアプリケーションを再起動します。</span><span class="sxs-lookup"><span data-stu-id="84128-441">**Restart applications**: Restart all deployed applications that are upgraded.</span></span>

- <span data-ttu-id="84128-442">**BAM ポータル エラー**:BAM ポータルを開くと、次のエラー メッセージが表示される可能性があります。</span><span class="sxs-lookup"><span data-stu-id="84128-442">**BAM Portal error**: When you open the BAM portal, you may receive the following error message:</span></span> 

    `The server encountered a critical failure while trying to access the list of Views. The Business Management Web Service requires Administrator's attention.` 

    <span data-ttu-id="84128-443">このエラーは、.NET Framework 2.0 を実行しているアプリケーションで使用される web サイトに BAM ポータルが構成されている場合に発生することができます。</span><span class="sxs-lookup"><span data-stu-id="84128-443">This error can occur if the BAM portal is configured on a website used by applications that are running .NET Framework 2.0.</span></span> <span data-ttu-id="84128-444">このシナリオでは、新しい web サイトで、BAM ポータルをホストします。</span><span class="sxs-lookup"><span data-stu-id="84128-444">In this scenario, host the BAM portal on a new website.</span></span> <span data-ttu-id="84128-445">Web サイトを追加するを参照してください。 [Web サイトを作成する](http://go.microsoft.com/fwlink/p/?LinkID=196470)します。</span><span class="sxs-lookup"><span data-stu-id="84128-445">To add a website, see [Create a Web Site](http://go.microsoft.com/fwlink/p/?LinkID=196470).</span></span> <span data-ttu-id="84128-446">Web サイトを作成した後、BAM ポータルを再構成します。</span><span class="sxs-lookup"><span data-stu-id="84128-446">After creating the website, reconfigure the BAM Portal:</span></span>

    1. <span data-ttu-id="84128-447">**[BizTalk Server 構成]** を開きます。</span><span class="sxs-lookup"><span data-stu-id="84128-447">Open **BizTalk Server Configuration**.</span></span>
    2. <span data-ttu-id="84128-448">選択**機能の構成解除**します。</span><span class="sxs-lookup"><span data-stu-id="84128-448">Select **Unconfigure Features**.</span></span> <span data-ttu-id="84128-449">**機能の構成解除**を選択、 **BAM ポータル**チェック ボックスをオンし、選択**OK**。</span><span class="sxs-lookup"><span data-stu-id="84128-449">In **Unconfigure Features**, select the **BAM Portal** check box, and select **OK**.</span></span>
    3. <span data-ttu-id="84128-450">新しい web サイトを選択して BAM ポータルを再構成、 **BAM ポータル Web サイト**一覧。</span><span class="sxs-lookup"><span data-stu-id="84128-450">Reconfigure the BAM portal by selecting the new website from the **BAM Portal Web Site** list.</span></span>

- <span data-ttu-id="84128-451">**BizTalk 2016 Accelerator for SWIFT**:BizTalk Server のアップグレード プロセスを編集した更新しません*BREDeployment.exe.config*ファイル。</span><span class="sxs-lookup"><span data-stu-id="84128-451">**BizTalk 2016 Accelerator for SWIFT**: The BizTalk Server upgrade process does not update an edited *BREDeployment.exe.config* file.</span></span> <span data-ttu-id="84128-452">内のパスを手動で変更、 *BREDeployment.exe.config*にあるファイル、`\Program Files\Microsoft BizTalk 2016 Accelerator for SWIFT\SDK\Tools`フォルダー。</span><span class="sxs-lookup"><span data-stu-id="84128-452">Manually change the paths in the *BREDeployment.exe.config* file located in the `\Program Files\Microsoft BizTalk 2016 Accelerator for SWIFT\SDK\Tools` folder.</span></span>

    <span data-ttu-id="84128-453">また、A4SWIFT Web サービスと Message Pack 構成は失われます。</span><span class="sxs-lookup"><span data-stu-id="84128-453">Also, the A4SWIFT Web Services and Message Pack configuration is lost.</span></span> <span data-ttu-id="84128-454">BizTalk Server をアップグレードした後、これらを再構成します。</span><span class="sxs-lookup"><span data-stu-id="84128-454">Reconfigure these after BizTalk Server is upgraded.</span></span>

## <a name="appendix-a-customer-experience-improvement-program"></a><span data-ttu-id="84128-455">付録 A: カスタマー エクスペリエンス向上プログラム</span><span class="sxs-lookup"><span data-stu-id="84128-455">Appendix A: Customer experience improvement Program</span></span>
<span data-ttu-id="84128-456">BizTalk Server のカスタマー エクスペリエンス向上プログラムの一環として、BizTalk Server の機能の使用状況に関する、マイクロソフトに有益なフィードバックを提供できます。</span><span class="sxs-lookup"><span data-stu-id="84128-456">As part of the Customer Experience Improvement Program in BizTalk Server, you can provide useful feedback to Microsoft regarding feature usage of BizTalk Server.</span></span> <span data-ttu-id="84128-457">収集されたデータは匿名でとを識別するためには使用できません。</span><span class="sxs-lookup"><span data-stu-id="84128-457">The data collected is anonymous, and cannot be used to identify you.</span></span> <span data-ttu-id="84128-458">Microsoft は、このプログラムの一部としての機能使用状況の統計を収集します。</span><span class="sxs-lookup"><span data-stu-id="84128-458">Microsoft collects feature usage statistics as part of this program.</span></span>

<span data-ttu-id="84128-459">このプログラムに参加して、BizTalk Server のさまざまな機能のパフォーマンスと信頼性向上できます。</span><span class="sxs-lookup"><span data-stu-id="84128-459">By participating in this program, you can help improve the reliability and performance of various features of BizTalk Server.</span></span> <span data-ttu-id="84128-460">このプログラムとプライバシー ポリシーの詳細については、次を参照してください。 [Microsoft BizTalk Server CEIP プライバシー ポリシー](http://go.microsoft.com/fwlink/p/?LinkId=188553)します。</span><span class="sxs-lookup"><span data-stu-id="84128-460">For more information about this program and its privacy policy, see [Microsoft BizTalk Server CEIP Privacy Policy](http://go.microsoft.com/fwlink/p/?LinkId=188553).</span></span>

## <a name="appendix-b-known-issues"></a><span data-ttu-id="84128-461">付録 B:既知の問題</span><span class="sxs-lookup"><span data-stu-id="84128-461">Appendix B: Known issues</span></span>

- <span data-ttu-id="84128-462">**管理用コンピューターで BAM 警告の構成**:別のコンピューターにインストールされている、管理、ランタイム、および SQL Server コンポーネントを複数コンピューター環境があります。</span><span class="sxs-lookup"><span data-stu-id="84128-462">**Configure BAM Alerts on Administration computer**: There is a multicomputer environment with the Administration, Runtime, and SQL Server components installed on separate computers.</span></span> <span data-ttu-id="84128-463">BAM ツールまたは BAM 警告を使用する場合、次の問題が発生することができます。</span><span class="sxs-lookup"><span data-stu-id="84128-463">When working with BAM Tools or BAM Alerts, the following issues can occur:</span></span>

    <span data-ttu-id="84128-464">**問題**:BizTalk 管理用コンピューターで BAM ツールを構成する場合は、次のエラーが発生します。</span><span class="sxs-lookup"><span data-stu-id="84128-464">**ISSUE**: When you configure BAM Tools on a BizTalk Administration computer, the following error occurs:</span></span>

    `Service BAMAlerts was not found on computer ‘.’.The specified service does not exist as an installed service.`

    <span data-ttu-id="84128-465">**問題**:ランタイム コンピューターから BAM アクティビティ定義を展開するときに、次のエラーが発生します。</span><span class="sxs-lookup"><span data-stu-id="84128-465">**ISSUE**: When you deploy a BAM Activity Definition from Runtime computer, the following error occurs:</span></span>

    `A network-related or instance-specific error occurred while establishing a connection to SQL Server. The server was not found or was not accessible. Verify that the instance name is correct and that SQL Server is configured to allow remote connections. (provider: Named Pipes Provider, error: 40 - Could not open a connection to SQL Server) (.Net SqlClient Data Provider)`

    <span data-ttu-id="84128-466">これは、ランタイム コンピューターで BAM 警告が構成されている場合に発生します。</span><span class="sxs-lookup"><span data-stu-id="84128-466">This occurs if BAM Alerts is configured on the Runtime computer.</span></span> <span data-ttu-id="84128-467">を解決するには、BizTalk 管理コンソールと同じコンピューターで BAM 警告を構成します。</span><span class="sxs-lookup"><span data-stu-id="84128-467">To resolve, configure BAM Alerts on the same computer as the BizTalk Administration console.</span></span> <span data-ttu-id="84128-468">ランタイム コンピューターで BAM 警告を構成しないでください。</span><span class="sxs-lookup"><span data-stu-id="84128-468">Do not configure BAM Alerts on the Runtime computer.</span></span>

- <span data-ttu-id="84128-469">**失敗したアップグレードからの復旧**:アップグレードの失敗は、アップグレード中にいつでも発生します。</span><span class="sxs-lookup"><span data-stu-id="84128-469">**Recovering from a Failed Upgrade**: A failed upgrade can occur at any time during the upgrade.</span></span> <span data-ttu-id="84128-470">アップグレードの失敗から復旧する方法は、障害が発生した各フェーズ中にどの時点から決定されます。</span><span class="sxs-lookup"><span data-stu-id="84128-470">How you recover from a failed upgrade is determined from what point during each phase the failure occurred.</span></span>

  - <span data-ttu-id="84128-471">前提条件をインストールするときに、アップグレードに失敗セットアップはさらに、前提条件のインストールを停止して、エラーのメッセージが返されます。</span><span class="sxs-lookup"><span data-stu-id="84128-471">If the upgrade fails when installing the prerequisites, then setup stops further installation of prerequisites, and returns a message with the error.</span></span> <span data-ttu-id="84128-472">問題を修正し、セットアップを再実行できます。</span><span class="sxs-lookup"><span data-stu-id="84128-472">You can then correct the problem and rerun setup.</span></span>

  - <span data-ttu-id="84128-473">既存の BizTalk Server のバージョンから機能を削除するか、新しいバージョンをインストール、データベースをアップグレードするときに、アップグレードが失敗したセットアップはさらに、インストールを停止して、エラーのメッセージが返されます。</span><span class="sxs-lookup"><span data-stu-id="84128-473">If the upgrade fails when upgrading the databases, removing features from the existing BizTalk Server version, or installing the new version, then setup stops further installation, and returns a message with the error.</span></span> <span data-ttu-id="84128-474">すべての変更はロールバックされます。</span><span class="sxs-lookup"><span data-stu-id="84128-474">Any changes are rolled back.</span></span> <span data-ttu-id="84128-475">BizTalk Server データベースに加えられた変更はロールバックできません。</span><span class="sxs-lookup"><span data-stu-id="84128-475">Changes made to the BizTalk Server databases cannot be rolled back.</span></span>

      <span data-ttu-id="84128-476">以前の BizTalk Server インストールのコンポーネントはアップグレード中に削除する場合は、BizTalk Server コンポーネントがない状態で、コンピューターが残る可能性が。</span><span class="sxs-lookup"><span data-stu-id="84128-476">If components of the previous BizTalk Server installation are removed during upgrade, your computer may be left in a state with no BizTalk Server components.</span></span> <span data-ttu-id="84128-477">以前のインストール機能の構成情報を保持することがあります。</span><span class="sxs-lookup"><span data-stu-id="84128-477">Feature configuration information from the previous installation may be retained.</span></span> <span data-ttu-id="84128-478">およびアップグレード プロセスが失敗した場所に応じて、BizTalk Server データベースがアップグレードされました。</span><span class="sxs-lookup"><span data-stu-id="84128-478">And depending on where the upgrade process fails, the BizTalk Server databases may have been upgraded.</span></span> <span data-ttu-id="84128-479">データベース セットアップをもう一度実行する前に、前のバックアップを復元する必要がある場合があります。</span><span class="sxs-lookup"><span data-stu-id="84128-479">It may be necessary to restore the databases which you backed up earlier before running setup again.</span></span>

  - <span data-ttu-id="84128-480">BizTalk Server の機能を再構成する際に、アップグレードに失敗した場合、セットアップは完了のレベルでメッセージを返します。</span><span class="sxs-lookup"><span data-stu-id="84128-480">If the upgrade fails when reconfiguring the BizTalk Server features, then the setup returns a message with the level of completion.</span></span> <span data-ttu-id="84128-481">構成のアップグレードでは、障害が発生したり、部分的に成功すると、アップグレードを完了する BizTalk Server 構成を実行します。</span><span class="sxs-lookup"><span data-stu-id="84128-481">If configuration upgrade fails or partially succeeds, run the BizTalk Server configuration to complete the upgrade.</span></span>

    <span data-ttu-id="84128-482">アップグレードに引き続き失敗する、以前のバージョンの BizTalk Server に戻す必要がある場合は、バックアップしたデータベースの復元し、BizTalk Server の以前のバージョンを再インストールする必要があります。</span><span class="sxs-lookup"><span data-stu-id="84128-482">If the upgrade continues to fail and you need to regress to your previous version of BizTalk Server, you must restore the databases you backed up, and then reinstall your previous BizTalk Server version.</span></span>

- <span data-ttu-id="84128-483">**同じバージョンを使用して**:BizTalk アプリケーション グループでは、コンピューターを異なるバージョンの BizTalk Server を実行することはできません。</span><span class="sxs-lookup"><span data-stu-id="84128-483">**Use the same versions**: In a BizTalk application group, you cannot run machines with different versions of BizTalk Server.</span></span> <span data-ttu-id="84128-484">たとえば、BizTalk 管理コンソールで、異なるバージョンの BizTalk Server で実行されている受信場所に 1 つのバージョンの BizTalk Server で実行されている送信ポートをバインドできません。</span><span class="sxs-lookup"><span data-stu-id="84128-484">For example, in the BizTalk Administration Console, you cannot bind a send port running on one version of BizTalk Server to a receive location running on a different version of BizTalk Server.</span></span> 

- <span data-ttu-id="84128-485">**SSO サービスを再起動**:以前のバージョンの Visual Studio または .NET Framework 4.5 をコンピューターにインストールがあれば、以前のバージョンの BizTalk Server で SSO サービスは稼働を停止します。</span><span class="sxs-lookup"><span data-stu-id="84128-485">**Restart SSO Service**: If you have a previous Visual Studio version or .NET Framework 4.5 installed on your machine, then the SSO service in earlier versions of BizTalk Server stops working.</span></span> <span data-ttu-id="84128-486">この問題を解決するには、実行、 `regasm SSOSQL.dll` Visual Studio コマンド プロンプトからコマンド。</span><span class="sxs-lookup"><span data-stu-id="84128-486">To resolve this issue, run the `regasm SSOSQL.dll` command from the Visual Studio command prompt.</span></span> <span data-ttu-id="84128-487">このコマンドは、SSO サービスを再起動します。</span><span class="sxs-lookup"><span data-stu-id="84128-487">This command restarts the SSO service.</span></span>

    > [!NOTE]
    > <span data-ttu-id="84128-488">64 ビット コンピューターでは、regasm コマンドの 32 ビットおよび 64 ビット バージョンを実行します。</span><span class="sxs-lookup"><span data-stu-id="84128-488">On a 64-bit computer, run the 32-bit and 64-bit versions of the regasm command.</span></span>

- <span data-ttu-id="84128-489">**SOAP を使用できない**:プラットフォームのアップグレード後は、アクセス許可が原因の SOAP メッセージを送信できるようにしないできます。</span><span class="sxs-lookup"><span data-stu-id="84128-489">**Unable to use SOAP**: After a platform upgrade, you may not be able to send SOAP message because of permissions.</span></span> <span data-ttu-id="84128-490">これを解決するにある Web.config ファイルを編集`C:\inetpub\wwwroot\<SOAPExternalAppName>\`を次のテキスト。</span><span class="sxs-lookup"><span data-stu-id="84128-490">To resolve this, edit the Web.config file at `C:\inetpub\wwwroot\<SOAPExternalAppName>\` with the following text:</span></span>

    ```
    <securityPolicy>
    <trustLevel name="Full" policyFile="internal" />
    <trustLevel name="High" policyFile="web_hightrust.config" />
    <trustLevel name="Medium" policyFile="web_mediumtrust.config" />
    <trustLevel name="Low" policyFile="web_lowtrust.config" />
    <trustLevel name="Minimal" policyFile="web_minimaltrust.config"/>
    </securityPolicy>
    <trust level="Full" originUrl="" processRequestInApplicationTrust="true"/>
    ```

    <span data-ttu-id="84128-491">カスタム エラー モードを変更する必要がありますも**リモートのみ**に**オフ**します。</span><span class="sxs-lookup"><span data-stu-id="84128-491">You may also have to change the custom error mode from **Remote Only** to **Off**.</span></span>

- <span data-ttu-id="84128-492">**証明書ストア**:アップグレードした後は、BizTalk Server 管理コンソールからの受信場所またはと、エラーが発生する送信ポートを開きます。 `Could not open certificate store, the system cannot find the file specified (System).`</span><span class="sxs-lookup"><span data-stu-id="84128-492">**Certificate Store**: After you upgrade, you open a send port or receive location from the BizTalk Server Administration console, and get error: `Could not open certificate store, the system cannot find the file specified (System).`</span></span>

    <span data-ttu-id="84128-493">このエラーは、証明書ストアがない場合に発生します。</span><span class="sxs-lookup"><span data-stu-id="84128-493">This error occurs if the certificate store is missing.</span></span>

- <span data-ttu-id="84128-494">**BAM ポータル**:アップグレードした後、64 ビット コンピューターで BAM ポータルにアクセスできません。</span><span class="sxs-lookup"><span data-stu-id="84128-494">**BAM Portal**: On a 64-bit machine, you cannot access BAM portal after you upgrade.</span></span> <span data-ttu-id="84128-495">考えられる解決策:</span><span class="sxs-lookup"><span data-stu-id="84128-495">Possible resolution:</span></span>

  1. <span data-ttu-id="84128-496">ある web.config ファイルのバックアップ コピーを作成する`%BizTalkInstallDir%\BAMPortal\web.config`します。</span><span class="sxs-lookup"><span data-stu-id="84128-496">Create a backup copy of the web.config file located at `%BizTalkInstallDir%\BAMPortal\web.config`.</span></span>

  2. <span data-ttu-id="84128-497">Bm.exe を使用して、BizTalk Server の Tracking フォルダーに、コマンド プロンプトで、次を実行します。 `bm.exe get-config –FileName:<filepath> -Server:MyServer -Database:MyDB`</span><span class="sxs-lookup"><span data-stu-id="84128-497">Using bm.exe in the BizTalk Server Tracking folder, run the following at the command prompt: `bm.exe get-config –FileName:<filepath> -Server:MyServer -Database:MyDB`</span></span>

     <span data-ttu-id="84128-498">Config XML ファイルからの値を取得*BAMVRoot* (xpath:BAMConfiguration\ GlobalProperty\Name="BAMVRoot").</span><span class="sxs-lookup"><span data-stu-id="84128-498">From the Config XML file, get the value for *BAMVRoot* (xpath: BAMConfiguration\ GlobalProperty\Name="BAMVRoot").</span></span>

  3. <span data-ttu-id="84128-499">BAMVRoot の値として表示されているコンピューターで BizTalk Server 構成を開き、BAM ポータルの構成を解除します。</span><span class="sxs-lookup"><span data-stu-id="84128-499">Open the BizTalk Server Configuration on the computer that is listed as the BAMVRoot value, and unconfigure the BAM portal.</span></span>

  4. <span data-ttu-id="84128-500">BizTalk Server の構成を開き、BAM ポータルを構成します。</span><span class="sxs-lookup"><span data-stu-id="84128-500">Open the BizTalk Server Configuration, and configure the BAM portal.</span></span>

  5. <span data-ttu-id="84128-501">(1) の手順で示した場所から新しい web.config ファイルを開きます。</span><span class="sxs-lookup"><span data-stu-id="84128-501">Open the new web.config file from location mentioned in step (1).</span></span>

  6. <span data-ttu-id="84128-502">次の値を設定して、web.config ファイルのバックアップ コピーを使用して ( `configuration\appSettings`)。</span><span class="sxs-lookup"><span data-stu-id="84128-502">Using the backup copy of the web.config file, set the following values (under `configuration\appSettings`):</span></span>

      - <span data-ttu-id="84128-503">key="MainPageContentUrl"</span><span class="sxs-lookup"><span data-stu-id="84128-503">key="MainPageContentUrl"</span></span>
      - <span data-ttu-id="84128-504">key="AlertNotificationOptions"</span><span class="sxs-lookup"><span data-stu-id="84128-504">key="AlertNotificationOptions"</span></span>

     > [!NOTE] 
     > <span data-ttu-id="84128-505">64 ビット コンピューターで、オペレーティング システムをアップグレードした後をお勧め、BAM ポータルを再構成することです。</span><span class="sxs-lookup"><span data-stu-id="84128-505">On a 64-bit machine, after you upgrade the operating system, we recommend that you reconfigure the BAM portal.</span></span>

- <span data-ttu-id="84128-506">**EDI BAM アクティビティの展開**:アップグレードすると、アップグレードが部分的に成功する可能性があります。</span><span class="sxs-lookup"><span data-stu-id="84128-506">**Deploy EDI BAM activities**: When you upgrade, the upgrade may partially succeed.</span></span> <span data-ttu-id="84128-507">これは、(EDI の構成) を含む SQL Server をアップグレードするときに発生します。</span><span class="sxs-lookup"><span data-stu-id="84128-507">This can happen when you upgrade SQL Server (with EDI configured).</span></span> <span data-ttu-id="84128-508">EDI BAM アクティビティが正常にアップグレードしていない可能性があります。</span><span class="sxs-lookup"><span data-stu-id="84128-508">The EDI BAM activities might not be upgraded properly.</span></span> <span data-ttu-id="84128-509">この問題を解決するには、管理者資格情報でコマンド プロンプトで次のコマンドを実行して BAM アクティビティを展開します。</span><span class="sxs-lookup"><span data-stu-id="84128-509">To resolve this issue, deploy the BAM activities by running the following commands at the command prompt with administrative credentials:</span></span>

    `"<BizTalk Installation Folder>\Tracking\bm.exe" deploy-all -DefinitionFile:"<BizTalk Installation Folder>\AS2ResendActivityDefs.xml" -Server:"<BAM Database Server Name>" -Database:"<BAM Database Name>"`

    `"<BizTalk Installation Folder>\Tracking\bm.exe" update-all -DefinitionFile:"<BizTalk Installation Folder>\Microsoft.BizTalk.Configuration.EdiAS2.UpgradeR2toR3.xml" -Server:"<BAM Database Server Name>" -Database:"<BAM Database Name>"`

    `"<BizTalk Installation Folder>\Tracking\bm.exe" update-all -DefinitionFile:"<BizTalk Installation Folder>\Microsoft.BizTalk.Configuration.Batching.UpgradeR2toR3.xml" -Server:"<BAM Database Server Name>" -Database:"<BAM Database Name>"`

- <span data-ttu-id="84128-510">**クラスター上の SSO エラー**:BizTalk Server ランタイム クラスター環境をアップグレードするときと、次のエラー メッセージが表示可能性があります。</span><span class="sxs-lookup"><span data-stu-id="84128-510">**SSO Error on Cluster**: On a BizTalk Server runtime cluster environment, when you try to upgrade, you may receive an error message:</span></span>

    `SSO Master Secret Server service is not running on <Cluster name>.Please start the service to continue the upgrade.` 

    <span data-ttu-id="84128-511">この問題を解決するには、SSO を更新するには、SSO および BizTalk Server ランタイム クラスターの両方でのサービスをサービスします。</span><span class="sxs-lookup"><span data-stu-id="84128-511">To resolve this issue, refresh the SSO services both in the SSO and BizTalk Server runtime cluster.</span></span>

    <span data-ttu-id="84128-512">**SSO クラスター内の SSO サービスを更新する**:</span><span class="sxs-lookup"><span data-stu-id="84128-512">**To refresh the SSO services in SSO cluster**:</span></span>

  1. <span data-ttu-id="84128-513">クラスター アドミニストレーターで、**オンライン**クラスター グループをクラスター化されたエンタープライズ SSO サービス リソースが含まれています。</span><span class="sxs-lookup"><span data-stu-id="84128-513">In Cluster Administrator, **Bring Online** the cluster group that contains the clustered Enterprise SSO service resource.</span></span> <span data-ttu-id="84128-514">クラスター グループ内のすべてのリソースこれ開始する必要があります。</span><span class="sxs-lookup"><span data-stu-id="84128-514">This should start all of the resources in the cluster group.</span></span>

  2. <span data-ttu-id="84128-515">**オフライン**エンタープライズ SSO サービスのクラスター化されたインスタンス。</span><span class="sxs-lookup"><span data-stu-id="84128-515">**Take Offline** the clustered instance of the Enterprise SSO service.</span></span> <span data-ttu-id="84128-516">次に、返されること**オンライン**します。</span><span class="sxs-lookup"><span data-stu-id="84128-516">And then, bring it back **Online**.</span></span>

  3. <span data-ttu-id="84128-517">**移動**クラスター グループ。</span><span class="sxs-lookup"><span data-stu-id="84128-517">**Move** the cluster group.</span></span> <span data-ttu-id="84128-518">この手順では、2 番目のノードに最初のノードからクラスター化されたエンタープライズ SSO サービス リソースを含むクラスター グループを移動する必要があります。</span><span class="sxs-lookup"><span data-stu-id="84128-518">This step should move the cluster group that contains the clustered Enterprise SSO services resource from the first node to the second node.</span></span>

  4. <span data-ttu-id="84128-519">**オフライン**エンタープライズ SSO サービスのクラスター化されたインスタンス。</span><span class="sxs-lookup"><span data-stu-id="84128-519">**Take Offline** the clustered instance of the Enterprise SSO service.</span></span> <span data-ttu-id="84128-520">次に、返されること**オンライン**します。</span><span class="sxs-lookup"><span data-stu-id="84128-520">And then, bring it back **Online**.</span></span>

     <span data-ttu-id="84128-521">**BizTalk Server ランタイム クラスターで SSO サービスを更新する**:</span><span class="sxs-lookup"><span data-stu-id="84128-521">**To refresh the SSO services in a BizTalk Server Runtime cluster**:</span></span>

  5. <span data-ttu-id="84128-522">クラスター アドミニストレーターで、**オンライン**クラスター化された BizTalk Server ランタイム リソースを含むクラスター グループ。</span><span class="sxs-lookup"><span data-stu-id="84128-522">In Cluster Administrator, **Bring Online** the cluster group that contains the clustered BizTalk Server runtime resource.</span></span> <span data-ttu-id="84128-523">クラスター グループ内のすべてのリソースこれ開始する必要があります。</span><span class="sxs-lookup"><span data-stu-id="84128-523">This should start all of the resources in the cluster group.</span></span>

  6. <span data-ttu-id="84128-524">**オフライン**エンタープライズ SSO サービスのクラスター化されたインスタンス。</span><span class="sxs-lookup"><span data-stu-id="84128-524">**Take Offline** the clustered instance of the Enterprise SSO services.</span></span> <span data-ttu-id="84128-525">次に、返されること**オンライン**します。</span><span class="sxs-lookup"><span data-stu-id="84128-525">And then, bring it back **Online**.</span></span>

  7. <span data-ttu-id="84128-526">**移動**クラスター グループ。</span><span class="sxs-lookup"><span data-stu-id="84128-526">**Move** the cluster group.</span></span> <span data-ttu-id="84128-527">この手順では、2 番目のノードに最初のノードからクラスター化された BizTalk Server ランタイム リソースを含むクラスター グループを移動する必要があります。</span><span class="sxs-lookup"><span data-stu-id="84128-527">This step should move the cluster group that contains the clustered BizTalk Server runtime resource from the first node to the second node.</span></span>

  8. <span data-ttu-id="84128-528">**オフライン**エンタープライズ SSO サービスのクラスター化されたインスタンス。</span><span class="sxs-lookup"><span data-stu-id="84128-528">**Take Offline** the clustered instance of the Enterprise SSO services.</span></span> <span data-ttu-id="84128-529">次に、返されること**オンライン**します。</span><span class="sxs-lookup"><span data-stu-id="84128-529">And then, bring it back **Online**.</span></span>
