---
title: BizTalk Server 2016 へのアップグレード |Microsoft Docs
ms.custom: ''
ms.prod: biztalk-server
ms.date: 06/08/2017
ms.reviewer: ''
ms.suite: ''
ms.tgt_pltfrm: ''
ms.topic: article
ms.assetid: 975ec82b-ed27-4545-8e4a-0e567507c9ba
caps.latest.revision: 2
author: MandiOhlinger
ms.author: mandia
manager: anneta
ms.openlocfilehash: bbd6debef5517e95295be0b7680244ee433b6e2f
ms.sourcegitcommit: 266308ec5c6a9d8d80ff298ee6051b4843c5d626
ms.translationtype: MT
ms.contentlocale: ja-JP
ms.lasthandoff: 06/27/2018
ms.locfileid: "36976579"
---
# <a name="upgrade-to-biztalk-server-2016"></a><span data-ttu-id="d7956-102">BizTalk Server 2016 へのアップグレード</span><span class="sxs-lookup"><span data-stu-id="d7956-102">Upgrade to BizTalk Server 2016</span></span>
<span data-ttu-id="d7956-103">[!INCLUDE[bts2013r2_md](../includes/bts2013r2-md.md)] または BizTalk Server 2013 から [!INCLUDE[bts2016_md](../includes/bts2016-md.md)] へのアップグレード。</span><span class="sxs-lookup"><span data-stu-id="d7956-103">Upgrading to [!INCLUDE[bts2016_md](../includes/bts2016-md.md)] from [!INCLUDE[bts2013r2_md](../includes/bts2013r2-md.md)], or BizTalk Server 2013.</span></span>

<span data-ttu-id="d7956-104">このトピックでは、[!INCLUDE[bts2016_md](../includes/bts2016-md.md)] のアップグレード プロセスの概要と、BizTalk Server 2013 R2 または BizTalk Server 2013 からのアップグレードに関する重要な情報と手順について説明します。</span><span class="sxs-lookup"><span data-stu-id="d7956-104">This topic provides an overview of the [!INCLUDE[bts2016_md](../includes/bts2016-md.md)] upgrade process, key information, and step-by-step instructions for upgrading from BizTalk Server 2013 R2 or BizTalk Server 2013.</span></span>


## <a name="upgrade-overview"></a><span data-ttu-id="d7956-105">アップグレードの概要</span><span class="sxs-lookup"><span data-stu-id="d7956-105">Upgrade overview</span></span>

- <span data-ttu-id="d7956-106">アップグレードを開始する前に、このドキュメント全体をお読みください。</span><span class="sxs-lookup"><span data-stu-id="d7956-106">Read this entire document before you upgrade.</span></span> <span data-ttu-id="d7956-107">BizTalk Server は、企業内外の多種多様なコンポーネントを接続します。</span><span class="sxs-lookup"><span data-stu-id="d7956-107">BizTalk Server connects many disparate components, both internal and external, to your enterprise.</span></span> <span data-ttu-id="d7956-108">実際の展開のほとんどはさらに規模が大きく、何台ものサーバーが含まれます。最終的には、物理コンピューターと仮想コンピューターの両方で構成されるクラスターへと発展します。</span><span class="sxs-lookup"><span data-stu-id="d7956-108">Most real-world deployment scenarios extend much farther to include multiple servers and eventually clusters of both physical and virtual computers.</span></span>

- <span data-ttu-id="d7956-109">BizTalk Server の展開に 2 つとして同じものはありません。</span><span class="sxs-lookup"><span data-stu-id="d7956-109">No two BizTalk Server deployments are the same.</span></span> <span data-ttu-id="d7956-110">アップグレードを開始する前に、自社のニーズに関する情報を収集し、BizTalk Server を使用する IT 担当者、システム管理者、および開発者と共に展開の範囲について話し合います。</span><span class="sxs-lookup"><span data-stu-id="d7956-110">Before you upgrade, gather information on your enterprise needs, and discuss the scope of your deployment with the IT Professionals, System Administrators, and Developers who use BizTalk Server.</span></span> <span data-ttu-id="d7956-111">このアップグレード ガイドをよくお読みになり、自社の具体的なニーズを判断すれば、最終的に独自の展開のためのロードマップができあがります。</span><span class="sxs-lookup"><span data-stu-id="d7956-111">By studying this upgrade guide, and determining the specific needs of your enterprise, you are creating your own deployment roadmap.</span></span>

- <span data-ttu-id="d7956-112">BizTalk Server の Best Practices Analyzer (BPA) を使用して、BizTalk Server の展開を調査し、ベスト プラクティスの一覧を生成します。</span><span class="sxs-lookup"><span data-stu-id="d7956-112">Use the BizTalk Server Best Practices Analyzer (BPA) to examine a BizTalk Server deployment, and generate a list of best practices.</span></span> <span data-ttu-id="d7956-113">また、読み取って報告するだけの構成レベルの検証を行い、収集したデータを使用してベスト プラクティスに従っているかどうかを判断します。</span><span class="sxs-lookup"><span data-stu-id="d7956-113">BPA performs configuration-level verification, by reading and reporting only, and uses the gathered data to determine whether best practices are being followed.</span></span>

### <a name="planning-your-upgrade"></a><span data-ttu-id="d7956-114">アップグレードの計画</span><span class="sxs-lookup"><span data-stu-id="d7956-114">Planning your upgrade</span></span>

<span data-ttu-id="d7956-115">アップグレード プロセスの大まかな流れを以下に示します。</span><span class="sxs-lookup"><span data-stu-id="d7956-115">The following is a high-level view of the upgrade process.</span></span> <span data-ttu-id="d7956-116">一覧の各ステップは、表示されている順序で実行する必要があります。</span><span class="sxs-lookup"><span data-stu-id="d7956-116">Each of the steps listed must be run in the order shown.</span></span>

- <span data-ttu-id="d7956-117">オペレーティング システムのアップグレード パス</span><span class="sxs-lookup"><span data-stu-id="d7956-117">Operating systems upgrade paths</span></span>
- <span data-ttu-id="d7956-118">Microsoft SQL Server® のアップグレード パス</span><span class="sxs-lookup"><span data-stu-id="d7956-118">Microsoft SQL Server® upgrade paths</span></span>
- <span data-ttu-id="d7956-119">Windows® SharePoint® Services アップグレード</span><span class="sxs-lookup"><span data-stu-id="d7956-119">Windows® SharePoint® Services upgrade</span></span>
- <span data-ttu-id="d7956-120">Visual Studio のサイド バイ サイド インストール</span><span class="sxs-lookup"><span data-stu-id="d7956-120">Install Visual Studio side-by-side</span></span>
- <span data-ttu-id="d7956-121">Microsoft Office 2016/2013 のサイド バイ サイド インストール</span><span class="sxs-lookup"><span data-stu-id="d7956-121">Install Microsoft Office 2016/2013 side-by-side</span></span>

### <a name="supported-upgrade-paths"></a><span data-ttu-id="d7956-122">サポートされるアップグレード パス</span><span class="sxs-lookup"><span data-stu-id="d7956-122">Supported upgrade paths</span></span>
<span data-ttu-id="d7956-123">次の表は、[!INCLUDE[bts2016_md](../includes/bts2016-md.md)] にアップグレード可能な、サポートされるオペレーティング システムの一覧です。</span><span class="sxs-lookup"><span data-stu-id="d7956-123">The following table lists the supported operating systems that can be upgraded to [!INCLUDE[bts2016_md](../includes/bts2016-md.md)].</span></span> <span data-ttu-id="d7956-124">"可"は、そのオペレーティング システムで実行されている BizTalk Server をアップグレードできることを意味します。</span><span class="sxs-lookup"><span data-stu-id="d7956-124">“Yes” means the BizTalk Server version running on that operating system can be upgraded.</span></span> <span data-ttu-id="d7956-125">"不可" は、そのオペレーティング システムで実行されている BizTalk Server をアップグレードできないことを意味します。</span><span class="sxs-lookup"><span data-stu-id="d7956-125">“No” means the BizTalk Server version running on that operating system cannot be upgraded.</span></span> <span data-ttu-id="d7956-126">"不可" の場合、BizTalk 環境をサポートされるオペレーティング システムで再作成する必要があります。</span><span class="sxs-lookup"><span data-stu-id="d7956-126">When “No”, the BizTalk environment must be recreated on a supported operating system.</span></span>  <span data-ttu-id="d7956-127">サポートされるオペレーティング システムの一覧については、「[BizTalk Server 2016 のハードウェアとソフトウェアの要件](../install-and-config-guides/hardware-and-software-requirements-for-biztalk-server-2016.md)」をご覧ください。</span><span class="sxs-lookup"><span data-stu-id="d7956-127">[Hardware and Software Requirements for BizTalk Server 2016](../install-and-config-guides/hardware-and-software-requirements-for-biztalk-server-2016.md) lists the supported operating systems.</span></span>

| <span data-ttu-id="d7956-128">オペレーティング システム</span><span class="sxs-lookup"><span data-stu-id="d7956-128">Operating Systems</span></span> | <span data-ttu-id="d7956-129">BizTalk Server 2013 R2</span><span class="sxs-lookup"><span data-stu-id="d7956-129">BizTalk Server 2013 R2</span></span> |<span data-ttu-id="d7956-130">BizTalk Server 2013</span><span class="sxs-lookup"><span data-stu-id="d7956-130">BizTalk Server 2013</span></span> |
| --- | --- | --- |
| <span data-ttu-id="d7956-131">Windows Server 2012 R2</span><span class="sxs-lookup"><span data-stu-id="d7956-131">Windows Server 2012 R2</span></span> | <span data-ttu-id="d7956-132">はい</span><span class="sxs-lookup"><span data-stu-id="d7956-132">Yes</span></span> | <span data-ttu-id="d7956-133">いいえ</span><span class="sxs-lookup"><span data-stu-id="d7956-133">No</span></span> |
| <span data-ttu-id="d7956-134">Windows Server 2012</span><span class="sxs-lookup"><span data-stu-id="d7956-134">Windows Server 2012</span></span> | <span data-ttu-id="d7956-135">いいえ</span><span class="sxs-lookup"><span data-stu-id="d7956-135">No</span></span> | <span data-ttu-id="d7956-136">いいえ</span><span class="sxs-lookup"><span data-stu-id="d7956-136">No</span></span> |
| <span data-ttu-id="d7956-137">Windows 8.1</span><span class="sxs-lookup"><span data-stu-id="d7956-137">Windows 8.1</span></span> | <span data-ttu-id="d7956-138">はい</span><span class="sxs-lookup"><span data-stu-id="d7956-138">Yes</span></span> | <span data-ttu-id="d7956-139">いいえ</span><span class="sxs-lookup"><span data-stu-id="d7956-139">No</span></span> |
| <span data-ttu-id="d7956-140">Windows 8</span><span class="sxs-lookup"><span data-stu-id="d7956-140">Windows 8</span></span> | <span data-ttu-id="d7956-141">いいえ</span><span class="sxs-lookup"><span data-stu-id="d7956-141">No</span></span> | <span data-ttu-id="d7956-142">いいえ</span><span class="sxs-lookup"><span data-stu-id="d7956-142">No</span></span>
| <span data-ttu-id="d7956-143">Windows 7 SP1</span><span class="sxs-lookup"><span data-stu-id="d7956-143">Windows 7 SP1</span></span> | <span data-ttu-id="d7956-144">いいえ</span><span class="sxs-lookup"><span data-stu-id="d7956-144">No</span></span> | <span data-ttu-id="d7956-145">いいえ</span><span class="sxs-lookup"><span data-stu-id="d7956-145">No</span></span> |

<span data-ttu-id="d7956-146">次の表は、[!INCLUDE[bts2016_md](../includes/bts2016-md.md)] にアップグレードできる、サポートされる SQL Server のバージョンの一覧です。</span><span class="sxs-lookup"><span data-stu-id="d7956-146">The following table lists the supported SQL Server versions that can be upgraded to [!INCLUDE[bts2016_md](../includes/bts2016-md.md)].</span></span> <span data-ttu-id="d7956-147">SQL Server は、BizTalk Server で使用されるデータベースをホストします。</span><span class="sxs-lookup"><span data-stu-id="d7956-147">The SQL Server hosts the databases used by BizTalk Server.</span></span> <span data-ttu-id="d7956-148">「可」は、その SQL Server バージョンを使用している BizTalk Server がアップグレードできることを意味しています。</span><span class="sxs-lookup"><span data-stu-id="d7956-148">“Yes” means BizTalk Server using that SQL Server version can be upgraded.</span></span> <span data-ttu-id="d7956-149">「いえ」は、その SQL Server バージョンを使用している BizTalk Server がアップグレードできないことを意味しています。</span><span class="sxs-lookup"><span data-stu-id="d7956-149">“No” means BizTalk Server using that SQL Server version cannot be upgraded.</span></span> <span data-ttu-id="d7956-150">「不可」の場合、BizTalk 環境をサポートされる SQL Server バージョンで再作成する必要があります。</span><span class="sxs-lookup"><span data-stu-id="d7956-150">When “No”, the BizTalk environment must be recreated on a supported SQL Server version.</span></span> <span data-ttu-id="d7956-151">サポートされる SQL Server のバージョンの一覧については、「[BizTalk Server 2016 のハードウェアとソフトウェアの要件](../install-and-config-guides/hardware-and-software-requirements-for-biztalk-server-2016.md)」をご覧ください。</span><span class="sxs-lookup"><span data-stu-id="d7956-151">[Hardware and Software Requirements for BizTalk Server 2016](../install-and-config-guides/hardware-and-software-requirements-for-biztalk-server-2016.md) lists the supported SQL Server versions.</span></span> 

> [!TIP]
> <span data-ttu-id="d7956-152">お使いの SQL Server のバージョンがサポートされていない場合、または次の一覧にない場合は、SQL Server のアップグレード マニュアルを確認してください。</span><span class="sxs-lookup"><span data-stu-id="d7956-152">If you're SQL Server version isn't supported, or isn't in the following list, then review the SQL Server upgrade documentation.</span></span> <span data-ttu-id="d7956-153">SQL のアップグレードでは、BizTalk がサポートするものより多くのバージョンがカバーされています。</span><span class="sxs-lookup"><span data-stu-id="d7956-153">The SQL upgrade covers more versions than what BizTalk supports.</span></span> <span data-ttu-id="d7956-154">たとえば、SQL Server 2008 を使っている場合は、SQL Server 2016 にアップグレードすることができます。</span><span class="sxs-lookup"><span data-stu-id="d7956-154">For example, if you're using SQL Server 2008, you may be able to upgrade SQL Server 2016.</span></span> <span data-ttu-id="d7956-155">その後、[!INCLUDE[bts2016_md](../includes/bts2016-md.md)] にアップグレードできます。</span><span class="sxs-lookup"><span data-stu-id="d7956-155">Then, you can upgrade to [!INCLUDE[bts2016_md](../includes/bts2016-md.md)].</span></span> <span data-ttu-id="d7956-156">「[SQL Server 2016 へのアップグレード](https://msdn.microsoft.com/library/bb677622.aspx)」および「[SQL Server 2014 へのアップグレード](https://msdn.microsoft.com/library/bb677622(v=sql.120).aspx)」では、アップグレードできる SQL Server のバージョンの一覧が示されています。</span><span class="sxs-lookup"><span data-stu-id="d7956-156">[Upgrade to SQL Server 2016](https://msdn.microsoft.com/library/bb677622.aspx) and [Upgrade to SQL Server 2014](https://msdn.microsoft.com/library/bb677622(v=sql.120).aspx) lists the SQL Server versions that can be upgraded.</span></span>

| <span data-ttu-id="d7956-157">SQL Server</span><span class="sxs-lookup"><span data-stu-id="d7956-157">SQL Server</span></span> | <span data-ttu-id="d7956-158">BizTalk Server 2013 R2</span><span class="sxs-lookup"><span data-stu-id="d7956-158">BizTalk Server 2013 R2</span></span> |<span data-ttu-id="d7956-159">BizTalk Server 2013</span><span class="sxs-lookup"><span data-stu-id="d7956-159">BizTalk Server 2013</span></span> |
| --- | --- | --- |
| <span data-ttu-id="d7956-160">SQL Server 2014</span><span class="sxs-lookup"><span data-stu-id="d7956-160">SQL Server 2014</span></span> | <span data-ttu-id="d7956-161">はい</span><span class="sxs-lookup"><span data-stu-id="d7956-161">Yes</span></span> | <span data-ttu-id="d7956-162">いいえ</span><span class="sxs-lookup"><span data-stu-id="d7956-162">No</span></span> |
| <span data-ttu-id="d7956-163">SQL Server 2012 SP1</span><span class="sxs-lookup"><span data-stu-id="d7956-163">SQL Server 2012 SP1</span></span>| <span data-ttu-id="d7956-164">いいえ</span><span class="sxs-lookup"><span data-stu-id="d7956-164">No</span></span> | <span data-ttu-id="d7956-165">いいえ</span><span class="sxs-lookup"><span data-stu-id="d7956-165">No</span></span> |
| <span data-ttu-id="d7956-166">SQL Server 2012</span><span class="sxs-lookup"><span data-stu-id="d7956-166">SQL Server 2012</span></span> | <span data-ttu-id="d7956-167">不可</span><span class="sxs-lookup"><span data-stu-id="d7956-167">No</span></span> | <span data-ttu-id="d7956-168">いいえ</span><span class="sxs-lookup"><span data-stu-id="d7956-168">No</span></span> |
| <span data-ttu-id="d7956-169">SQL Server 2008 R2 SP1</span><span class="sxs-lookup"><span data-stu-id="d7956-169">SQL Server 2008 R2 SP1</span></span> | <span data-ttu-id="d7956-170">いいえ</span><span class="sxs-lookup"><span data-stu-id="d7956-170">No</span></span> | <span data-ttu-id="d7956-171">いいえ</span><span class="sxs-lookup"><span data-stu-id="d7956-171">No</span></span> |


<span data-ttu-id="d7956-172">次の表に示すのは、[!INCLUDE[bts2013r2_md](../includes/bts2013r2-md.md)]/2013 から [!INCLUDE[bts2016_md](../includes/bts2016-md.md)] へのサポートされるエディション アップグレード パスです。</span><span class="sxs-lookup"><span data-stu-id="d7956-172">The following table lists the supported Edition upgrade path from [!INCLUDE[bts2013r2_md](../includes/bts2013r2-md.md)]/2013 to [!INCLUDE[bts2016_md](../includes/bts2016-md.md)].</span></span> <span data-ttu-id="d7956-173">"可" は、[!INCLUDE[bts2013r2_md](../includes/bts2013r2-md.md)]/2013 のエディションをそのエディションにアップグレードできることを示します。</span><span class="sxs-lookup"><span data-stu-id="d7956-173">“Yes” means the [!INCLUDE[bts2013r2_md](../includes/bts2013r2-md.md)]/2013 edition can be upgraded to the edition.</span></span> <span data-ttu-id="d7956-174">「不可」は、[!INCLUDE[bts2013r2_md](../includes/bts2013r2-md.md)]/2013 のエディションをそのエディションにアップグレードできないことを示します。</span><span class="sxs-lookup"><span data-stu-id="d7956-174">“No” means the [!INCLUDE[bts2013r2_md](../includes/bts2013r2-md.md)]/2013 edition cannot be upgraded to the edition.</span></span> <span data-ttu-id="d7956-175">「無効」の場合、BizTalk 環境を再作成する必要があります。</span><span class="sxs-lookup"><span data-stu-id="d7956-175">When “No”, the BizTalk environment must be recreated.</span></span>

| <span data-ttu-id="d7956-176">BizTalk Server 2013 R2/2013</span><span class="sxs-lookup"><span data-stu-id="d7956-176">BizTalk Server 2013 R2/2013</span></span> | <span data-ttu-id="d7956-177">BizTalk Server 2016 Evaluation Edition</span><span class="sxs-lookup"><span data-stu-id="d7956-177">BizTalk Server 2016 Evaluation Edition</span></span> | <span data-ttu-id="d7956-178">BizTalk Server 2016 Branch Edition</span><span class="sxs-lookup"><span data-stu-id="d7956-178">BizTalk Server 2016 Branch Edition</span></span> | <span data-ttu-id="d7956-179">BizTalk Server 2016 Developer Edition</span><span class="sxs-lookup"><span data-stu-id="d7956-179">BizTalk Server 2016 Developer Edition</span></span> | <span data-ttu-id="d7956-180">BizTalk Server 2016 Standard Edition</span><span class="sxs-lookup"><span data-stu-id="d7956-180">BizTalk Server 2016 Standard Edition</span></span> | <span data-ttu-id="d7956-181">BizTalk Server 2016 Enterprise Edition</span><span class="sxs-lookup"><span data-stu-id="d7956-181">BizTalk Server 2016 Enterprise Edition</span></span> |
| --- | --- | --- | --- | --- | --- |
| <span data-ttu-id="d7956-182">Evaluation</span><span class="sxs-lookup"><span data-stu-id="d7956-182">Evaluation</span></span> | <span data-ttu-id="d7956-183">いいえ</span><span class="sxs-lookup"><span data-stu-id="d7956-183">No</span></span> | <span data-ttu-id="d7956-184">いいえ</span><span class="sxs-lookup"><span data-stu-id="d7956-184">No</span></span> | <span data-ttu-id="d7956-185">いいえ</span><span class="sxs-lookup"><span data-stu-id="d7956-185">No</span></span> | <span data-ttu-id="d7956-186">いいえ</span><span class="sxs-lookup"><span data-stu-id="d7956-186">No</span></span> | <span data-ttu-id="d7956-187">はい</span><span class="sxs-lookup"><span data-stu-id="d7956-187">Yes</span></span> | 
| <span data-ttu-id="d7956-188">分岐</span><span class="sxs-lookup"><span data-stu-id="d7956-188">Branch</span></span> | <span data-ttu-id="d7956-189">いいえ</span><span class="sxs-lookup"><span data-stu-id="d7956-189">No</span></span> | <span data-ttu-id="d7956-190">はい</span><span class="sxs-lookup"><span data-stu-id="d7956-190">Yes</span></span> | <span data-ttu-id="d7956-191">いいえ</span><span class="sxs-lookup"><span data-stu-id="d7956-191">No</span></span> | <span data-ttu-id="d7956-192">いいえ</span><span class="sxs-lookup"><span data-stu-id="d7956-192">No</span></span> | <span data-ttu-id="d7956-193">はい</span><span class="sxs-lookup"><span data-stu-id="d7956-193">Yes</span></span> | 
| <span data-ttu-id="d7956-194">Developer</span><span class="sxs-lookup"><span data-stu-id="d7956-194">Developer</span></span> | <span data-ttu-id="d7956-195">いいえ</span><span class="sxs-lookup"><span data-stu-id="d7956-195">No</span></span> | <span data-ttu-id="d7956-196">いいえ</span><span class="sxs-lookup"><span data-stu-id="d7956-196">No</span></span> | <span data-ttu-id="d7956-197">はい</span><span class="sxs-lookup"><span data-stu-id="d7956-197">Yes</span></span> | <span data-ttu-id="d7956-198">いいえ</span><span class="sxs-lookup"><span data-stu-id="d7956-198">No</span></span> | <span data-ttu-id="d7956-199">はい</span><span class="sxs-lookup"><span data-stu-id="d7956-199">Yes</span></span> | 
| <span data-ttu-id="d7956-200">Standard</span><span class="sxs-lookup"><span data-stu-id="d7956-200">Standard</span></span> | <span data-ttu-id="d7956-201">いいえ</span><span class="sxs-lookup"><span data-stu-id="d7956-201">No</span></span> | <span data-ttu-id="d7956-202">いいえ</span><span class="sxs-lookup"><span data-stu-id="d7956-202">No</span></span> | <span data-ttu-id="d7956-203">いいえ</span><span class="sxs-lookup"><span data-stu-id="d7956-203">No</span></span> | <span data-ttu-id="d7956-204">はい</span><span class="sxs-lookup"><span data-stu-id="d7956-204">Yes</span></span> | <span data-ttu-id="d7956-205">はい</span><span class="sxs-lookup"><span data-stu-id="d7956-205">Yes</span></span> | 
| <span data-ttu-id="d7956-206">Enterprise</span><span class="sxs-lookup"><span data-stu-id="d7956-206">Enterprise</span></span> | <span data-ttu-id="d7956-207">いいえ</span><span class="sxs-lookup"><span data-stu-id="d7956-207">No</span></span> | <span data-ttu-id="d7956-208">いいえ</span><span class="sxs-lookup"><span data-stu-id="d7956-208">No</span></span> | <span data-ttu-id="d7956-209">いいえ</span><span class="sxs-lookup"><span data-stu-id="d7956-209">No</span></span> | <span data-ttu-id="d7956-210">いいえ</span><span class="sxs-lookup"><span data-stu-id="d7956-210">No</span></span> | <span data-ttu-id="d7956-211">はい</span><span class="sxs-lookup"><span data-stu-id="d7956-211">Yes</span></span> | 

## <a name="before-the-upgrade--what-you-need-to-know"></a><span data-ttu-id="d7956-212">アップグレードする前に知っておくべきこと</span><span class="sxs-lookup"><span data-stu-id="d7956-212">Before the upgrade – what you need to know</span></span>


- <span data-ttu-id="d7956-213">**権限**: アップグレードを実行するユーザーは、次のユーザー グループに所属しているか、同等の権限を持っている必要があります。</span><span class="sxs-lookup"><span data-stu-id="d7956-213">**Permissions**: The user performing the upgrade must be a member of the following user groups or have the equivalent permissions:</span></span>

    - <span data-ttu-id="d7956-214">ローカル コンピューターの Administrators グループ</span><span class="sxs-lookup"><span data-stu-id="d7956-214">Administrators group on the local computer</span></span>
    - <span data-ttu-id="d7956-215">SQL Server の SQL Server システム管理者グループ</span><span class="sxs-lookup"><span data-stu-id="d7956-215">SQL Server System Administrators group on the SQL Server</span></span>
    - <span data-ttu-id="d7956-216">BizTalk Server 管理者グループ</span><span class="sxs-lookup"><span data-stu-id="d7956-216">BizTalk Server Administrators group</span></span>
    - <span data-ttu-id="d7956-217">シングル サインオン (SSO) 管理者グループ</span><span class="sxs-lookup"><span data-stu-id="d7956-217">Single Sign-On (SSO) Administrators group</span></span>

- <span data-ttu-id="d7956-218">**SSO**: アップグレード中に、SSO データベースをホストするシングル サインオン マスター シークレット サーバーおよび SQL Server が実行されている必要があります。</span><span class="sxs-lookup"><span data-stu-id="d7956-218">**SSO**: The Single Sign-On Master Secret Server and the SQL Server that hosts the SSO database must be running during the upgrade.</span></span>

- <span data-ttu-id="d7956-219">**ネットワーク サービス アカウント**: %windir%\temp への書き込みアクセス権限が必要です。</span><span class="sxs-lookup"><span data-stu-id="d7956-219">**Network Service Account**: Must have write access to %windir%\temp.</span></span>

- <span data-ttu-id="d7956-220">**証明書**: Windows 証明書ストアをバックアップします。</span><span class="sxs-lookup"><span data-stu-id="d7956-220">**Certificates**: Back up the Windows certificates store:</span></span>  

    [<span data-ttu-id="d7956-221">Windows 7 および Windows Server 2008 R2: 証明書をインポートする</span><span class="sxs-lookup"><span data-stu-id="d7956-221">Windows 7 and Windows Server 2008 R2: Import a Certificate</span></span>](http://technet.microsoft.com/library/cc754489.aspx)  
    [<span data-ttu-id="d7956-222">Windows 7 および Windows Server 2008 R2: 証明書をエクスポートする</span><span class="sxs-lookup"><span data-stu-id="d7956-222">Windows 7 and Windows Server 2008 R2: Export a Certificate</span></span>](http://technet.microsoft.com/library/cc730988.aspx)  

- <span data-ttu-id="d7956-223">**DTC**: Microsoft 分散トランザクション コーディネーター (MSDTC) を有効にし (「[環境を最適化するための構成後の手順](../install-and-config-guides/post-configuration-steps-to-optimize-your-environment.md)」)、DTC の受信規則と送信規則を有効にします。</span><span class="sxs-lookup"><span data-stu-id="d7956-223">**DTC**: Enable Microsoft Distributed Transaction Coordinator (MSDTC) ([Post-configuration steps to optimize your environment](../install-and-config-guides/post-configuration-steps-to-optimize-your-environment.md)), and then enable the Inbound/Outbound DTC rules:</span></span>

    1. <span data-ttu-id="d7956-224">サーバー マネージャーで、**[ツール]** を選択して **[セキュリティが強化された Windows ファイアウォール]** を開きます。</span><span class="sxs-lookup"><span data-stu-id="d7956-224">In Server Manager, select **Tools**, and open **Windows Firewall with Advanced Security**.</span></span>
    2. <span data-ttu-id="d7956-225">**[受信の規則]** を選択します。</span><span class="sxs-lookup"><span data-stu-id="d7956-225">Select **Inbound Rules**.</span></span>
    3. <span data-ttu-id="d7956-226">**受信の規則**、右クリックして**分散トランザクション コーディネーター** \* (必要に応じて)、し**規則の有効化**します。</span><span class="sxs-lookup"><span data-stu-id="d7956-226">In **Inbound Rules**, right-click **Distributed Transaction Coordinator** \* (as appropriate), and then **Enable Rule**.</span></span>
    4.  <span data-ttu-id="d7956-227">[セキュリティが強化された Windows ファイアウォール] で、**[受信の規則]** を選択します。</span><span class="sxs-lookup"><span data-stu-id="d7956-227">In Windows Firewall with Advanced Security, select **Outbound Rules**.</span></span>
    5.  <span data-ttu-id="d7956-228">**送信の規則**、右クリックして**分散トランザクション コーディネーター** \* (必要に応じて)、し**規則の有効化**します。</span><span class="sxs-lookup"><span data-stu-id="d7956-228">In **Outbound Rules**, right-click **Distributed Transaction Coordinator** \* (as appropriate), and then **Enable Rule**.</span></span>

- <span data-ttu-id="d7956-229">**SharePoint**: SharePoint Services に接続するには、Client Side Object Model (CSOM) を使用します。</span><span class="sxs-lookup"><span data-stu-id="d7956-229">**SharePoint**: The Client Side Object Model (CSOM) is used to connect to SharePoint Services.</span></span> <span data-ttu-id="d7956-230">Server Side Object Model (SSOM) (Web サービス) は、[!INCLUDE[bts2016_md](../includes/bts2016-md.md)] では削除されました。</span><span class="sxs-lookup"><span data-stu-id="d7956-230">The  Server Side Object Model (SSOM) (the web service) is removed in [!INCLUDE[bts2016_md](../includes/bts2016-md.md)].</span></span>

    <span data-ttu-id="d7956-231">CSOM をサポートしていない SharePoint のバージョンを使用している場合は、サポートされる SharePoint バージョンにアップグレードできる可能性があります。</span><span class="sxs-lookup"><span data-stu-id="d7956-231">If you are using SharePoint versions that doesn't support CSOM, you may be able to upgrade to a supported SharePoint version:</span></span>

    <span data-ttu-id="d7956-232">[SharePoint 2016 へのアップグレード](https://technet.microsoft.com/library/cc303420(v=office.16).aspx)</span><span class="sxs-lookup"><span data-stu-id="d7956-232">[Upgrade to SharePoint 2016](https://technet.microsoft.com/library/cc303420(v=office.16).aspx)</span></span>  
    <span data-ttu-id="d7956-233">[SharePoint 2013 へのアップグレード](https://technet.microsoft.com/library/cc303420(v=office.15).aspx)</span><span class="sxs-lookup"><span data-stu-id="d7956-233">[Upgrade to SharePoint 2013](https://technet.microsoft.com/library/cc303420(v=office.15).aspx)</span></span>

- <span data-ttu-id="d7956-234">**.NET Framework**: .NET Framework 4.5 と .NET Framework 4.6 の間には、サイド バイ サイド インストールの概念はありません。</span><span class="sxs-lookup"><span data-stu-id="d7956-234">**.NET Framework**: There is no concept of side-by-side installation between .NET Framework 4.5 and .NET Framework 4.6.</span></span> <span data-ttu-id="d7956-235">.NET Framework 4.6 のバイナリは、.NET Framework 4.5 のバイナリを上書きします。</span><span class="sxs-lookup"><span data-stu-id="d7956-235">The .NET Framework 4.6 binaries overwrite .NET Framework 4.5 binaries.</span></span> <span data-ttu-id="d7956-236">.NET Framework 4.6 は [!INCLUDE[bts2016_md](../includes/bts2016-md.md)] の要件であり、以前のバージョンの BizTalk Server ではサポートされていません (インストールされていません)。</span><span class="sxs-lookup"><span data-stu-id="d7956-236">.NET Framework 4.6 is a [!INCLUDE[bts2016_md](../includes/bts2016-md.md)] requirement, and is not supported (and should not be installed) in previous BizTalk Server versions.</span></span>

- <span data-ttu-id="d7956-237">**Office 2016 と Office 2013**: 同じコンピューターに[異なるバージョンの Office をインストールして使用](https://support.office.com/article/Install-and-use-different-versions-of-Office-on-the-same-PC-6EBB44CE-18A3-43F9-A187-B78C513788BF)します。</span><span class="sxs-lookup"><span data-stu-id="d7956-237">**Office 2016 and Office 2013**: [Install and use different versions of Office](https://support.office.com/article/Install-and-use-different-versions-of-Office-on-the-same-PC-6EBB44CE-18A3-43F9-A187-B78C513788BF) on the same computer.</span></span> <span data-ttu-id="d7956-238">また、[これらの問題](https://support.microsoft.com/kb/3094527)を確認します。</span><span class="sxs-lookup"><span data-stu-id="d7956-238">Also, check out [these issues](https://support.microsoft.com/kb/3094527).</span></span>

- <span data-ttu-id="d7956-239">**BizTalkServerApplication ホスト**: アップグレードには、既定のホストが存在している必要があります。</span><span class="sxs-lookup"><span data-stu-id="d7956-239">**BizTalkServerApplication Host**: The upgrade requires the existence of the default host.</span></span> <span data-ttu-id="d7956-240">SQL アダプターの送信ポートと受信場所に関連付けられている既定のホスト インスタンスが削除された場合、アップグレード前に、既定のホストを SQL アダプターに関連付けます。</span><span class="sxs-lookup"><span data-stu-id="d7956-240">If the default host instance associated with the SQL Adapter send ports and receive locations is removed, associate the default host to the SQL Adapter before upgrading.</span></span> <span data-ttu-id="d7956-241">アップグレードが完了したら、既定のホストを一覧から削除できます。</span><span class="sxs-lookup"><span data-stu-id="d7956-241">After upgrade is complete, you can remove the default host from the list.</span></span>

- <span data-ttu-id="d7956-242">**カスタム バインド**: 以前のバージョンの .NET Framework を使用して作成されたユーザー定義のカスタム バインドは、アップグレード後は使用できなくなります。</span><span class="sxs-lookup"><span data-stu-id="d7956-242">**Custom Bindings**: User-defined custom bindings that are built with earlier versions of the .NET Framework are not available after you upgrade.</span></span> <span data-ttu-id="d7956-243">カスタム バインドを使用するには、.NET Framework 4.6 machine.config ファイルにカスタム バインドを手動で追加します。</span><span class="sxs-lookup"><span data-stu-id="d7956-243">To use the custom bindings, manually add the custom bindings in the .NET Framework 4.6 machine.config file.</span></span>

- <span data-ttu-id="d7956-244">**構成ファイル**: BizTalk Server 2013 R2/2013 のすべてのカスタム構成ファイルをバックアップします。</span><span class="sxs-lookup"><span data-stu-id="d7956-244">**Configuration Files**: Back up all custom configuration files in BizTalk Server 2013 R2/2013.</span></span> <span data-ttu-id="d7956-245">BizTalk Server は、`btsntsvc.exe.config` および `bm.exe.config` ファイルについてのみ、変更の移行をサポートします。</span><span class="sxs-lookup"><span data-stu-id="d7956-245">BizTalk Server supports migration of changes only in the `btsntsvc.exe.config` and `bm.exe.config` files.</span></span>



### <a name="bam-alerts"></a><span data-ttu-id="d7956-246">BAM 警告</span><span class="sxs-lookup"><span data-stu-id="d7956-246">BAM Alerts</span></span>

<span data-ttu-id="d7956-247">BAM 警告を使用するには、SQL Server Database Mail が必要です。</span><span class="sxs-lookup"><span data-stu-id="d7956-247">SQL Server Database Mail is required to use BAM Alerts.</span></span> <span data-ttu-id="d7956-248">SQL Server の移行前のバージョンが既存の BAM 警告定義と Notification Services を使用していた場合、BAM 警告の定義をバックアップし、アップグレード後にその定義を展開することができます。</span><span class="sxs-lookup"><span data-stu-id="d7956-248">If SQL Server is being upgraded from a SQL version that used existing BAM Alert definitions with Notification Services, then you can back up your BAM alert definitions, and deploy them after upgrading.</span></span> <span data-ttu-id="d7956-249">BM.exe コマンド ライン ツールを使用します (`\Program Files (x86)\Microsoft BizTalk Server <your version>\Tracking`)。</span><span class="sxs-lookup"><span data-stu-id="d7956-249">Use the BM.exe command line tool (`\Program Files (x86)\Microsoft BizTalk Server <your version>\Tracking`).</span></span> <span data-ttu-id="d7956-250">具体的には、以下の手順で行います:</span><span class="sxs-lookup"><span data-stu-id="d7956-250">Specific steps include:</span></span>

1. <span data-ttu-id="d7956-251">コマンド プロンプトを開き、`\Program Files (x86)\Microsoft BizTalk Server <your version>\Tracking` に移動します。</span><span class="sxs-lookup"><span data-stu-id="d7956-251">Open a command prompt and go to `\Program Files (x86)\Microsoft BizTalk Server <your version>\Tracking`.</span></span>
2. <span data-ttu-id="d7956-252">コマンド プロンプトで定義ファイルを作成します。 `bm.exe get-defxml -FileName:YourBAMDefinition.xml`</span><span class="sxs-lookup"><span data-stu-id="d7956-252">Create a definition file in the command prompt: `bm.exe get-defxml -FileName:YourBAMDefinition.xml`</span></span>
3. <span data-ttu-id="d7956-253">[!INCLUDE[bts2013r2_md](../includes/bts2013r2-md.md)]/2013 の構成で、BAM 警告の構成を解除します。</span><span class="sxs-lookup"><span data-stu-id="d7956-253">In [!INCLUDE[bts2013r2_md](../includes/bts2013r2-md.md)]/2013 Configuration, unconfigure BAM Alerts.</span></span>
4. <span data-ttu-id="d7956-254">SQL Server 2016 または SQL Server 2014 SP1 にアップグレードします。</span><span class="sxs-lookup"><span data-stu-id="d7956-254">Upgrade to SQL Server 2016 or SQL Server 2014 SP1.</span></span>
5. <span data-ttu-id="d7956-255">SQL Server Database Mail を構成します。</span><span class="sxs-lookup"><span data-stu-id="d7956-255">Configure SQL Server Database Mail.</span></span>
6. <span data-ttu-id="d7956-256">[!INCLUDE[bts2016_md](../includes/bts2016-md.md)] にアップグレードする。</span><span class="sxs-lookup"><span data-stu-id="d7956-256">Upgrade to [!INCLUDE[bts2016_md](../includes/bts2016-md.md)].</span></span>
7. <span data-ttu-id="d7956-257">[!INCLUDE[bts2016_md](../includes/bts2016-md.md)] の構成で、BAM 警告を構成します。</span><span class="sxs-lookup"><span data-stu-id="d7956-257">In [!INCLUDE[bts2016_md](../includes/bts2016-md.md)] Configuration, configure BAM Alerts.</span></span>
8. <span data-ttu-id="d7956-258">コマンド プロンプトで、保存した定義ファイルを展開します。 `bm.exe update-all -DefinitionFile:YourBAMDefinition.xml`</span><span class="sxs-lookup"><span data-stu-id="d7956-258">Deploy the saved definition file in the command prompt: `bm.exe update-all -DefinitionFile:YourBAMDefinition.xml`</span></span>

> [!IMPORTANT]
> <span data-ttu-id="d7956-259">この手順の順番に従わないか、定義ファイルを作成しない場合、BizTalk Server のアップグレード後に定義ファイルを再作成する必要があります。</span><span class="sxs-lookup"><span data-stu-id="d7956-259">If you don’t follow these steps in the order listed or create a definition file, you must recreate the definition files after the BizTalk Server upgrade.</span></span>
> 
> <span data-ttu-id="d7956-260">BM.exe のヘルプを表示するには、「`bm.exe help`」と入力します。</span><span class="sxs-lookup"><span data-stu-id="d7956-260">To view the BM.exe help, type: `bm.exe help`.</span></span>


### <a name="bam"></a><span data-ttu-id="d7956-261">BAM</span><span class="sxs-lookup"><span data-stu-id="d7956-261">BAM</span></span> 

- <span data-ttu-id="d7956-262">**BAM DTS パッケージ**: すべての BAM データ変換サービス (DTS) パッケージを停止します。</span><span class="sxs-lookup"><span data-stu-id="d7956-262">**BAM DTS Packages**: Stop all BAM Data Transformation Services (DTS) packages.</span></span> <span data-ttu-id="d7956-263">停止しないとデータが失われたり、オンライン分析処理 (OLAP) キューブが破損したりする場合があります。</span><span class="sxs-lookup"><span data-stu-id="d7956-263">Otherwise, data may be lost or an online analytical processing (OLAP) cube may corrupt.</span></span> 

- <span data-ttu-id="d7956-264">**ディスク容量**: 少なくとも既存の BAM データベースのサイズの空きディスク容量が必要です。</span><span class="sxs-lookup"><span data-stu-id="d7956-264">**Disk Space**: The free disk space should be at least the size of the existing BAM databases.</span></span>

- <span data-ttu-id="d7956-265">**リアルタイム集計**: 現在使用しているバージョンの BizTalk Server で BAM リアルタイム集計を使用していて、SQL Server をアップグレードする場合は、SQL Server Enterprise Edition をインストールするか、SQL Server Enterprise Edition にアップグレードします。</span><span class="sxs-lookup"><span data-stu-id="d7956-265">**Real-time Aggregations**: If you are using BAM real-time aggregations in your current version of BizTalk Server and are upgrading SQL Server, install or upgrade to the SQL Server Enterprise Edition.</span></span> <span data-ttu-id="d7956-266">Enterprise Edition でないと、アップグレードは失敗します。</span><span class="sxs-lookup"><span data-stu-id="d7956-266">Otherwise, the upgrade fails.</span></span>

- <span data-ttu-id="d7956-267">**maxTimeout 値**: サイズの大きな BAM データベースを使用している場合は、machine.config ファイルで分散トランザクションに関する `maxTimeout` 値を次のように更新します。</span><span class="sxs-lookup"><span data-stu-id="d7956-267">**maxTimeout value**: If you have a large BAM database, update the `maxTimeout` value for distributed transactions in your machine.config file to:</span></span>  

    ```
    <system.transactions>
       <machineSettings maxTimeout="23:59:59" />
    </system.transactions>
    ```

- <span data-ttu-id="d7956-268">**追跡プロファイル エディター (TPE) で有効にされている BAM 追跡**: アップグレードすると、以前に展開した追跡プロファイルはアップグレードされますが、それに対応するインターセプター構成はアップグレードされません。</span><span class="sxs-lookup"><span data-stu-id="d7956-268">**BAM tracking enabled with Tracking Profile Editor (TPE)**: After you upgrade, tracking profiles that were previously deployed are upgraded; however, their corresponding interceptor configurations are not upgraded.</span></span> <span data-ttu-id="d7956-269">新しい受信済み BAM メッセージは、引き続き BizTalk Server 2013 R2/2013 への参照を持つ可能性があります。</span><span class="sxs-lookup"><span data-stu-id="d7956-269">Any new intercepted BAM messages may still have the BizTalk Server 2013 R2/2013 references.</span></span> <span data-ttu-id="d7956-270">対応するインターセプター構成をアップグレードするには、追跡プロファイル エディターを使用してアクティビティのプロファイルを取得し、次にプロファイルを再適用します。</span><span class="sxs-lookup"><span data-stu-id="d7956-270">To upgrade the corresponding interceptor configurations, use the Tracking Profile Editor to retrieve the profile for the activity, and then reapply the profile.</span></span>

- <span data-ttu-id="d7956-271">**LiveData ブック**: BizTalk Server 2013 R2/2013 で BAM を使用している場合は、アップグレード後に手動で LiveData ブックを再生成する必要があります。</span><span class="sxs-lookup"><span data-stu-id="d7956-271">**LiveData Workbook**: If you are using BAM in BizTalk Server 2013 R2/2013, after the upgrade, you must manually regenerate the LiveData Workbook.</span></span> <span data-ttu-id="d7956-272">LiveData ブックを再生成するには:</span><span class="sxs-lookup"><span data-stu-id="d7956-272">To regenerate the LiveData Workbook:</span></span>

  1. <span data-ttu-id="d7956-273">次のコマンドを実行して、BAM 定義を取得します。</span><span class="sxs-lookup"><span data-stu-id="d7956-273">Retrieve the BAM Definition by running the following command:</span></span>  
     `BM get-defxml MyDef.xml`
  2. <span data-ttu-id="d7956-274">Microsoft Office Excel を起動し、BAM アドインを選択して、PivotTable レポートを再作成します。ステップ 1 で作成した *MyDef.xml* ファイルをインポートし、PivotTable レポートを再作成します。</span><span class="sxs-lookup"><span data-stu-id="d7956-274">Re-create the PivotTable reports by opening Microsoft Office Excel, and then selecting the BAM Add-ins. Import the *MyDef.xml* file created in step (1), and recreate the PivotTable reports.</span></span> <span data-ttu-id="d7956-275">新しい BAM ブックを *MyNewBook.xls* という名前で保存します。</span><span class="sxs-lookup"><span data-stu-id="d7956-275">Save the new BAM Workbook as *MyNewBook.xls*.</span></span>
  3. <span data-ttu-id="d7956-276">`<BAMDefinition>\<Extension>\<OWC>\<PivotTableView>\<PivotTable>\<PivotView>\<Label>` パスの `<Caption>` の下にある *MyDef.xml* でピボットテーブル名を探して、ピボットテーブル レポートの名前を変更します。</span><span class="sxs-lookup"><span data-stu-id="d7956-276">Rename the PivotTable reports by finding the PivotTable names in *MyDef.xml* under `<Caption>` in the  `<BAMDefinition>\<Extension>\<OWC>\<PivotTableView>\<PivotTable>\<PivotView>\<Label>` path.</span></span> <span data-ttu-id="d7956-277">次の名前を使用して、*MyNewBook.xls* のピボットテーブル レポートの名前を変更します。</span><span class="sxs-lookup"><span data-stu-id="d7956-277">Use these names to rename your PivotTable reports in *MyNewBook.xls*.</span></span>
  4. <span data-ttu-id="d7956-278">次のコマンドを実行して、LiveData ブックを再生成します。</span><span class="sxs-lookup"><span data-stu-id="d7956-278">Regenerate the LiveData Workbook by running the following command:</span></span>  
     `BM regenerate-livedataworkbook MyNewBook.xls`

     > [!NOTE]
     > <span data-ttu-id="d7956-279">再生成された LiveData ブックでは、元の LiveData ブックにある Excel アイテム (チャートなど) は再作成されません。</span><span class="sxs-lookup"><span data-stu-id="d7956-279">Regenerated LiveData Workbooks do not recreate the Excel artifacts (for example, charts) in the original LiveData Workbook.</span></span> <span data-ttu-id="d7956-280">手動でアイテムを再作成します。</span><span class="sxs-lookup"><span data-stu-id="d7956-280">Manually recreate the artifacts.</span></span>


### <a name="enterprise-single-sign-on-esso"></a><span data-ttu-id="d7956-281">エンタープライズ シングル サインオン (ESSO)</span><span class="sxs-lookup"><span data-stu-id="d7956-281">Enterprise Single Sign-On (ESSO)</span></span>

|                            <span data-ttu-id="d7956-282">シナリオ</span><span class="sxs-lookup"><span data-stu-id="d7956-282">Scenario</span></span>                            |                                                                                                                                                                                                                                                                                                                                          <span data-ttu-id="d7956-283">詳細</span><span class="sxs-lookup"><span data-stu-id="d7956-283">More info</span></span>                                                                                                                                                                                                                                                                                                                                          |
|----------------------------------------------------------------|---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| <span data-ttu-id="d7956-284">以前のバージョンの Enterprise Single Sign-on からのアップグレード</span><span class="sxs-lookup"><span data-stu-id="d7956-284">Upgrading from an earlier version of Enterprise Single Sign-on</span></span> | <span data-ttu-id="d7956-285">BizTalk Server には、更新されたバージョンの Enterprise Single Sign-On (ESSO) が含まれています。</span><span class="sxs-lookup"><span data-stu-id="d7956-285">BizTalk Server includes an updated version of Enterprise Single Sign-On (ESSO).</span></span> <span data-ttu-id="d7956-286">このリリースを以前のバージョンの BizTalk がインストールされているコンピューターにインストールする場合は、ESSO はセットアップ中に自動的に更新されます。</span><span class="sxs-lookup"><span data-stu-id="d7956-286">If you are installing this release on a computer with an earlier version of BizTalk, ESSO is automatically updated during setup.</span></span> <span data-ttu-id="d7956-287">アップグレード前に次の手順を実行することをお勧めします。</span><span class="sxs-lookup"><span data-stu-id="d7956-287">We recommend that you perform the following steps before upgrading:</span></span> <br/><br/> <span data-ttu-id="d7956-288">1.現在のバージョンのシングル サインオン データベース (SSODB) が安全な場所にバックアップされていることを確認します。</span><span class="sxs-lookup"><span data-stu-id="d7956-288">1. Verify that a current version of the Single Sign-On database (SSODB) is backed up to a secure location.</span></span> <br/><span data-ttu-id="d7956-289">2.現在のマスター シークレット キーが安全な場所にバックアップされていることを確認します。</span><span class="sxs-lookup"><span data-stu-id="d7956-289">2. Verify that the current master secret key is backed up to a secure location.</span></span><br/><span data-ttu-id="d7956-290">3.マスター シークレットのパスワードを確認します。</span><span class="sxs-lookup"><span data-stu-id="d7956-290">3. Know the password to the master secret.</span></span><br/><br/><span data-ttu-id="d7956-291">1 つの BizTalk グループ内のすべてのサーバーを同じリリースにアップグレードします。</span><span class="sxs-lookup"><span data-stu-id="d7956-291">Upgrade all the servers in a BizTalk group to the same release.</span></span> <span data-ttu-id="d7956-292">この要件は、スタンドアロンのマスター シークレット サーバーの場合でも同じです。</span><span class="sxs-lookup"><span data-stu-id="d7956-292">This requirement also applies to a standalone master secret server.</span></span> |
|  <span data-ttu-id="d7956-293">エンタープライズ シングル サインオン スタンドアロン セットアップを使用したアップグレード</span><span class="sxs-lookup"><span data-stu-id="d7956-293">Upgrade using the Enterprise Single Sign-On standalone setup</span></span>  |             <span data-ttu-id="d7956-294">次の手順に従って、専用のマスター シークレット サーバーなどの、スタンドアロンのエンタープライズ シングル サインオンがインストールされているコンピューター上でアップグレードを実行します。</span><span class="sxs-lookup"><span data-stu-id="d7956-294">Use the following steps to perform an upgrade on computers that have a standalone Enterprise Single Sign on installation, such as a dedicated master secret server.</span></span><br/><br/><span data-ttu-id="d7956-295">1.現在のマスター シークレット キーが安全な場所にバックアップされていることを確認します。</span><span class="sxs-lookup"><span data-stu-id="d7956-295">1. Verify that the current master secret key is backed up to a secure location.</span></span><br/><span data-ttu-id="d7956-296">2.現在のバージョンの SSODB が安全な場所にバックアップされていることを確認します。</span><span class="sxs-lookup"><span data-stu-id="d7956-296">2. Verify that a current version of the SSODB is backed up to a secure location.</span></span><br/><span data-ttu-id="d7956-297">3.[!INCLUDE[bts2016_md](../includes/bts2016-md.md)] インストール メディアから ESSO の **Setup.exe** を実行します。</span><span class="sxs-lookup"><span data-stu-id="d7956-297">3. Run the ESSO **Setup.exe** from the [!INCLUDE[bts2016_md](../includes/bts2016-md.md)] installation media.</span></span> <span data-ttu-id="d7956-298">既定のインストール フォルダーは `\Platform\SSO` です。</span><span class="sxs-lookup"><span data-stu-id="d7956-298">The default installation folder is `\Platform\SSO`.</span></span><br/><span data-ttu-id="d7956-299">4.**[自動実行]** ダイアログ ボックスで、**[Microsoft Enterprise Single Sign-On]** を選択します。</span><span class="sxs-lookup"><span data-stu-id="d7956-299">4. In the **Autorun** dialog box, select **Microsoft Enterprise Single Sign-On**.</span></span><br/><span data-ttu-id="d7956-300">5.[概要] ダイアログ ボックスで、**[アップグレード]** を選択します。</span><span class="sxs-lookup"><span data-stu-id="d7956-300">5. In the Summary dialog box, select **Upgrade**.</span></span>              |

### <a name="multicomputer-environment"></a><span data-ttu-id="d7956-301">複数コンピューター環境</span><span class="sxs-lookup"><span data-stu-id="d7956-301">Multicomputer environment</span></span>
<span data-ttu-id="d7956-302">複数コンピューターの環境では、SSO マスター シークレット サーバーのコンピューターをアップグレードします。</span><span class="sxs-lookup"><span data-stu-id="d7956-302">In a multicomputer environment, upgrade the SSO master secret server computer.</span></span> <span data-ttu-id="d7956-303">その後、その他の BizTalk Server コンピューターをアップグレードします。</span><span class="sxs-lookup"><span data-stu-id="d7956-303">Then, upgrade the other BizTalk Server computers.</span></span> <span data-ttu-id="d7956-304">グループ内の複数の BizTalk コンピュータを同時にアップグレードすることはできません。</span><span class="sxs-lookup"><span data-stu-id="d7956-304">Simultaneously upgrading the BizTalk computers in a group is not supported.</span></span> <span data-ttu-id="d7956-305">以下の手順で、一度に 1 台ずつコンピュータをアップグレードします:</span><span class="sxs-lookup"><span data-stu-id="d7956-305">Upgrade one computer at a time in the following order:</span></span>

1. <span data-ttu-id="d7956-306">シングル サインオンのマスター シークレット サーバー</span><span class="sxs-lookup"><span data-stu-id="d7956-306">Single Sign-On master secret server</span></span>
2. <span data-ttu-id="d7956-307">BizTalk Server を実行しているランタイム コンピューター</span><span class="sxs-lookup"><span data-stu-id="d7956-307">Run-time computers that are running BizTalk Server</span></span>
3. <span data-ttu-id="d7956-308">管理ツールと監視コンピューター</span><span class="sxs-lookup"><span data-stu-id="d7956-308">Administration tools and monitoring computer</span></span>
4. <span data-ttu-id="d7956-309">BizTalk Server を実行している開発用コンピューターおよびその他のコンピューター</span><span class="sxs-lookup"><span data-stu-id="d7956-309">Development and any other remaining computers that are running BizTalk Server</span></span>

<span data-ttu-id="d7956-310">**追加情報**</span><span class="sxs-lookup"><span data-stu-id="d7956-310">**Additional**</span></span>  
<span data-ttu-id="d7956-311">設定ダッシュボードを使用すると、BizTalk Server のさまざまな設定を微調整してパフォーマンスを最適化することができます。</span><span class="sxs-lookup"><span data-stu-id="d7956-311">Using the Settings Dashboard, you can extensively tweak BizTalk Server settings for performance optimization.</span></span> <span data-ttu-id="d7956-312">BizTalk グループ、BizTalk ホスト、および BizTalk ホスト インスタンスの設定を変更することもできます。</span><span class="sxs-lookup"><span data-stu-id="d7956-312">You can also modify settings for the BizTalk Group, BizTalk Host, and BizTalk Host Instance.</span></span> <span data-ttu-id="d7956-313">「[BizTalk Server パフォーマンス チューニングのための設定ダッシュボードの使用](../core/using-settings-dashboard-for-biztalk-server-performance-tuning.md)」をご覧ください。</span><span class="sxs-lookup"><span data-stu-id="d7956-313">See [Using Settings Dashboard for BizTalk Server Performance Tuning](../core/using-settings-dashboard-for-biztalk-server-performance-tuning.md).</span></span>

### <a name="general-information"></a><span data-ttu-id="d7956-314">一般情報</span><span class="sxs-lookup"><span data-stu-id="d7956-314">General information</span></span>

- <span data-ttu-id="d7956-315">**アカウント名**: 可能な場合は常に既定のアカウント名を使用してください。</span><span class="sxs-lookup"><span data-stu-id="d7956-315">**Account names**: Use the default account names whenever possible.</span></span> <span data-ttu-id="d7956-316">BizTalk Server セットアップ プログラムでは、インストール済みコンポーネントが既定のアカウントを使用するように、自動的に構成されます。</span><span class="sxs-lookup"><span data-stu-id="d7956-316">The BizTalk Server Setup program automatically configures installed components to use the default accounts.</span></span> <span data-ttu-id="d7956-317">Active Directory フォレストに複数の BizTalk Server グループがある場合は、競合を回避するためにアカウント名を変更してください。</span><span class="sxs-lookup"><span data-stu-id="d7956-317">If there are multiple BizTalk Server groups in an Active Directory forest, change the account names to avoid conflicts.</span></span> <span data-ttu-id="d7956-318">BizTalk Server では、サービスアカウントおよび Windows グループに対して `<NetBIOS domain name>\<user>` という形式だけがサポートされます。</span><span class="sxs-lookup"><span data-stu-id="d7956-318">BizTalk Server supports only `<NetBIOS domain name>\<user>` name formats for service accounts and Windows groups.</span></span>

- <span data-ttu-id="d7956-319">**アカウント名と BAM 管理 Web サービス**: BizTalk Server では、ビルトイン アカウントまたはパスワードなしのアカウントを BAM 管理 Web サービス ユーザーに使用することはサポートされていません。</span><span class="sxs-lookup"><span data-stu-id="d7956-319">**Account names with BAM Management Web Service**: BizTalk Server does not support built-in accounts or accounts without passwords for the BAM Management Web Service User.</span></span> 

  <span data-ttu-id="d7956-320">このようなアカウントを使用するように BizTalk Server を構成できたように見えても、BAM 管理 Web サービスが異常終了します。</span><span class="sxs-lookup"><span data-stu-id="d7956-320">Configuring BizTalk Server with such accounts may appear to succeed, but the BAM Management Web Service fails.</span></span> 

  <span data-ttu-id="d7956-321">BAM アプリケーション プールに対してはこのようなアカウントを使用できます。</span><span class="sxs-lookup"><span data-stu-id="d7956-321">Use of such accounts for the BAM Application pool is supported.</span></span>

- <span data-ttu-id="d7956-322">**BizTalk アセンブリ ビューアー**は 64 ビット オペレーティング システムでは使用できません。</span><span class="sxs-lookup"><span data-stu-id="d7956-322">**BizTalk Assembly Viewer** is not supported on a 64-bit operating system.</span></span>

- <span data-ttu-id="d7956-323">**インストールとアンインストール**: BizTalk Server をアンインストールする場合は、BizTalk Server データベースを手動で削除します。</span><span class="sxs-lookup"><span data-stu-id="d7956-323">**Install and Uninstall**: When you uninstall BizTalk Server, manually delete the BizTalk Server databases.</span></span> <span data-ttu-id="d7956-324">開発者またはエバリュエーターとして BizTalk Server をインストールする場合、仮想マシンへのインストールを検討してください。</span><span class="sxs-lookup"><span data-stu-id="d7956-324">If you are installing BizTalk Server as a developer or evaluator, consider installing on a virtual machine.</span></span> <span data-ttu-id="d7956-325">これにより、再インストールが必要になった場合、アンインストールすることなく、事前設定されたチェックポイントまで容易にロールバックできます。</span><span class="sxs-lookup"><span data-stu-id="d7956-325">This way, if you have to reinstall, you can easily roll back to a preset checkpoint without having to go through the uninstall process.</span></span>

- <span data-ttu-id="d7956-326">**32 ビットおよび 64 ビットのコンピューター**: 32 ビット版 Windows または 64 ビット版 Windows への BizTalk Server のインストールに大きな違いはありません。</span><span class="sxs-lookup"><span data-stu-id="d7956-326">**32-bit and 64-bit computers**: There are few differences when installing BizTalk Server on 32-bit Windows or 64-bit Windows.</span></span> <span data-ttu-id="d7956-327">このドキュメントでは、32 ビット版でのインストールと 64 ビット版でのインストールの両方について説明します。</span><span class="sxs-lookup"><span data-stu-id="d7956-327">This document covers both 32-bit and 64-bit installations.</span></span> <span data-ttu-id="d7956-328">違いについても説明します。</span><span class="sxs-lookup"><span data-stu-id="d7956-328">Differences between them are noted.</span></span>

- <span data-ttu-id="d7956-329">**ワークグループ**: 単一コンピューター上のワークグループ環境への BizTalk Server のインストールと構成はサポートされています。</span><span class="sxs-lookup"><span data-stu-id="d7956-329">**Workgroups**: Installing and configuring BizTalk Server in a workgroup environment on a single computer is supported.</span></span> <span data-ttu-id="d7956-330">この場合、SQL Server および BizTalk Server の両方の機能とコンポーネントは同じコンピューターにインストールして構成されます。</span><span class="sxs-lookup"><span data-stu-id="d7956-330">In this scenario, both SQL Server and BizTalk Server features and components are installed and configured on the same computer.</span></span>

- <span data-ttu-id="d7956-331">**ターミナル サーバー**: アプリケーション モードで動作するターミナル サーバーを使用して BizTalk Server をインストールすることはできません。</span><span class="sxs-lookup"><span data-stu-id="d7956-331">**Terminal Server**: Installing BizTalk Server using Terminal Server running in application mode is not supported.</span></span> <span data-ttu-id="d7956-332">詳細については、「[KB 832027](https://support.microsoft.com/kb/832027)」を参照してください。</span><span class="sxs-lookup"><span data-stu-id="d7956-332">See [KB 832027](https://support.microsoft.com/kb/832027).</span></span>

- <span data-ttu-id="d7956-333">**サイレント アップグレード**: サポートされていません。</span><span class="sxs-lookup"><span data-stu-id="d7956-333">**Silent Upgrade** is not supported.</span></span>

- <span data-ttu-id="d7956-334">**サポートされていないアプリケーション**: BizTalk Server は、サポートされていない API (PAM API など) 上で構築されたカスタム アプリケーション、ストアド プロシージャ、またはデータベースへの直接アクセスをサポートしていません。</span><span class="sxs-lookup"><span data-stu-id="d7956-334">**Unsupported Applications**: BizTalk Server does not support custom applications built on unsupported APIs such as PAM APIs, stored procedures, or direct database access.</span></span> <span data-ttu-id="d7956-335">運用環境をアップグレードするときは、事前に 1 回以上のテスト アップグレードを実行します。</span><span class="sxs-lookup"><span data-stu-id="d7956-335">Run at least one test upgrade before you upgrade your production environment.</span></span>

- <span data-ttu-id="d7956-336">**SQL Server インスタンス**: プラットフォームをアップグレードする前に、SQL Server インスタンスをアップグレードすることをお勧めします。</span><span class="sxs-lookup"><span data-stu-id="d7956-336">**SQL Server instances**: It’s a good practice to upgrade any SQL Server instances before you upgrade the platform.</span></span>

## <a name="prepare-your-computer-for-upgrade"></a><span data-ttu-id="d7956-337">アップグレードのためのコンピューターの準備</span><span class="sxs-lookup"><span data-stu-id="d7956-337">Prepare your computer for upgrade</span></span>

|                 <span data-ttu-id="d7956-338">タスク</span><span class="sxs-lookup"><span data-stu-id="d7956-338">Task</span></span>                  |                                                                                                                                                                                                                                        <span data-ttu-id="d7956-339">Info</span><span class="sxs-lookup"><span data-stu-id="d7956-339">Info</span></span>                                                                                                                                                                                                                                         |
|---------------------------------------|-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
|   <span data-ttu-id="d7956-340">重要な Windows 更新プログラムをインストールする</span><span class="sxs-lookup"><span data-stu-id="d7956-340">Install Critical Windows Updates</span></span>    |                                                                                                                                                                                                <span data-ttu-id="d7956-341">[プログラム] メニューから [Windows Update] を選択します。</span><span class="sxs-lookup"><span data-stu-id="d7956-341">Select Windows Update from the Programs menu.</span></span> <span data-ttu-id="d7956-342">コンピューターの再起動が必要な場合があります。</span><span class="sxs-lookup"><span data-stu-id="d7956-342">You may need to restart your computer.</span></span>                                                                                                                                                                                                 |
|      <span data-ttu-id="d7956-343">BAM 警告の定義を保存する</span><span class="sxs-lookup"><span data-stu-id="d7956-343">Save BAM Alert Definitions</span></span>       |                                    <span data-ttu-id="d7956-344">現在、既存の BAM 警告の定義と SQL Server Notification Services を使用している場合にのみ適用されます。</span><span class="sxs-lookup"><span data-stu-id="d7956-344">Applies only if you currently use existing BAM Alert definitions with SQL Server Notification Services.</span></span> <span data-ttu-id="d7956-345">BM.exe を使用して定義ファイルを作成し、[!INCLUDE[bts2013r2_md](../includes/bts2013r2-md.md)]/2013 の構成で BAM 警告の構成を解除します。</span><span class="sxs-lookup"><span data-stu-id="d7956-345">Create a definition file using BM.exe and unconfigure BAM Alerts in the [!INCLUDE[bts2013r2_md](../includes/bts2013r2-md.md)]/2013 Configuration.</span></span><br/><br/><span data-ttu-id="d7956-346">**アップグレードの前に** (このトピックでは) 具体的な手順を列記します。</span><span class="sxs-lookup"><span data-stu-id="d7956-346">**Before the upgrade** (in this topic) lists the specific steps.</span></span><br/><br/><span data-ttu-id="d7956-347">それ以外の場合、アップグレード後に BAM 警告の定義を再生成します。</span><span class="sxs-lookup"><span data-stu-id="d7956-347">Otherwise, recreate the BAM Alert definitions after you upgrade.</span></span>                                    |
|          <span data-ttu-id="d7956-348">SQL Server をアップグレードする</span><span class="sxs-lookup"><span data-stu-id="d7956-348">Upgrade SQL Server</span></span>           |                                         <span data-ttu-id="d7956-349">サポートされるバージョンの SQL Server にアップグレードします。</span><span class="sxs-lookup"><span data-stu-id="d7956-349">Upgrade to a supported SQL Server version.</span></span> <span data-ttu-id="d7956-350">次のチュートリアルを参照してください。</span><span class="sxs-lookup"><span data-stu-id="d7956-350">See:</span></span><br/><br/>[<span data-ttu-id="d7956-351">BizTalk Server 2016 のハードウェア/ソフトウェア要件</span><span class="sxs-lookup"><span data-stu-id="d7956-351">Hardware and Software Requirements for BizTalk Server 2016</span></span>](../install-and-config-guides/hardware-and-software-requirements-for-biztalk-server-2016.md)<br/>[<span data-ttu-id="d7956-352">SQL Server 2016 へのアップグレード</span><span class="sxs-lookup"><span data-stu-id="d7956-352">Upgrade to SQL Server 2016</span></span>](https://msdn.microsoft.com/library/bb677622.aspx)<br/><span data-ttu-id="d7956-353">[SQL Server 2014 へのアップグレード](https://msdn.microsoft.com/library/bb677622(v=sql.120).aspx)</span><span class="sxs-lookup"><span data-stu-id="d7956-353">[Upgrade to SQL Server 2014](https://msdn.microsoft.com/library/bb677622(v=sql.120).aspx)</span></span>                                          |
|    <span data-ttu-id="d7956-354">SQL Server クライアント ツールをアップグレードする</span><span class="sxs-lookup"><span data-stu-id="d7956-354">Upgrade SQL Server Client Tools</span></span>    |                                                                                                                                                <span data-ttu-id="d7956-355">複数コンピューター環境では、管理ツールを別のコンピューターにインストールすることができます。</span><span class="sxs-lookup"><span data-stu-id="d7956-355">In a multicomputer environment, the Administration tools may be installed on a separate computer.</span></span> <span data-ttu-id="d7956-356">管理ツールを含む、SQL Server 管理のクライアント ツールをアップグレードします。</span><span class="sxs-lookup"><span data-stu-id="d7956-356">Upgrade the SQL Server Administration Client Tools, including the Management Tools.</span></span>                                                                                                                                                |
|         <span data-ttu-id="d7956-357">Visual Studio のインストール</span><span class="sxs-lookup"><span data-stu-id="d7956-357">Install Visual Studio</span></span>         |                         <span data-ttu-id="d7956-358">サポートされるバージョンについては、「[BizTalk Server 2016 のハードウェアとソフトウェアの要件](../install-and-config-guides/hardware-and-software-requirements-for-biztalk-server-2016.md)」をご覧ください。</span><span class="sxs-lookup"><span data-stu-id="d7956-358">See [Hardware and Software Requirements for BizTalk Server 2016](../install-and-config-guides/hardware-and-software-requirements-for-biztalk-server-2016.md) for the supported versions.</span></span> <span data-ttu-id="d7956-359">異なる Visual Studo のバージョンをサイド バイ サイドでインストールできます。</span><span class="sxs-lookup"><span data-stu-id="d7956-359">Different Visual Studio versions can be installed side-by-side.</span></span> <span data-ttu-id="d7956-360">[Visual Studio 2015](https://msdn.microsoft.com/library/ms246609(v=vs.140).aspx) および [Visual Studio 2013](https://msdn.microsoft.com/library/ms246609(v=vs.120).aspx) を参照してください。</span><span class="sxs-lookup"><span data-stu-id="d7956-360">See [Visual Studio 2015](https://msdn.microsoft.com/library/ms246609(v=vs.140).aspx) and [Visual Studio 2013](https://msdn.microsoft.com/library/ms246609(v=vs.120).aspx).</span></span>                         |
|            <span data-ttu-id="d7956-361">Office をインストールする</span><span class="sxs-lookup"><span data-stu-id="d7956-361">Install Office</span></span>             |                                     <span data-ttu-id="d7956-362">「[異なるバージョンの Office を同じ PC にインストールして使う](https://support.office.com/article/Install-and-use-different-versions-of-Office-on-the-same-PC-6EBB44CE-18A3-43F9-A187-B78C513788BF)」をご覧ください。</span><span class="sxs-lookup"><span data-stu-id="d7956-362">See [Install and use different versions of Office](https://support.office.com/article/Install-and-use-different-versions-of-Office-on-the-same-PC-6EBB44CE-18A3-43F9-A187-B78C513788BF) on the same computer.</span></span> <span data-ttu-id="d7956-363">サポートされる Office のバージョンの一覧については、「[BizTalk Server 2016 のハードウェアとソフトウェアの要件](../install-and-config-guides/hardware-and-software-requirements-for-biztalk-server-2016.md)」をご覧ください。</span><span class="sxs-lookup"><span data-stu-id="d7956-363">[Hardware and Software Requirements for BizTalk Server 2016](../install-and-config-guides/hardware-and-software-requirements-for-biztalk-server-2016.md) lists the supported Office versions.</span></span>                                     |
| <span data-ttu-id="d7956-364">BizTalk Services と Windows サービスを停止する</span><span class="sxs-lookup"><span data-stu-id="d7956-364">Stop the BizTalk and Windows Services</span></span> |                                                                                                      <span data-ttu-id="d7956-365">- BizTalk Services BizTalk グループ: <*アプリケーション名*></span><span class="sxs-lookup"><span data-stu-id="d7956-365">- BizTalk Service BizTalk Group:  *<Application_Name>*</span></span><br/><span data-ttu-id="d7956-366">- BizTalk ベース EDI サービス</span><span class="sxs-lookup"><span data-stu-id="d7956-366">- BizTalk Base EDI Service</span></span><br/><span data-ttu-id="d7956-367">- ルール エンジン更新サービス</span><span class="sxs-lookup"><span data-stu-id="d7956-367">- Rule Engine Update Service</span></span><br/><span data-ttu-id="d7956-368">- World Wide Web Publishing サービス</span><span class="sxs-lookup"><span data-stu-id="d7956-368">- World Wide Web Publishing Service</span></span><br/><br/><span data-ttu-id="d7956-369">**注**</span><span class="sxs-lookup"><span data-stu-id="d7956-369">**NOTE**</span></span><br/><span data-ttu-id="d7956-370">BizTalk Server のアクセラレータがインストールされている場合は、HL7 ログ サービスを停止します。</span><span class="sxs-lookup"><span data-stu-id="d7956-370">If you have any BizTalk Server accelerators installed, stop the HL7 Logging Service.</span></span>                                                                                                      |
|         <span data-ttu-id="d7956-371">データベースをバックアップする</span><span class="sxs-lookup"><span data-stu-id="d7956-371">Back up the databases</span></span>         | <span data-ttu-id="d7956-372">- Master</span><span class="sxs-lookup"><span data-stu-id="d7956-372">- Master</span></span><br/><span data-ttu-id="d7956-373">- MSDB</span><span class="sxs-lookup"><span data-stu-id="d7956-373">- MSDB</span></span><br/><span data-ttu-id="d7956-374">- BAMArchive</span><span class="sxs-lookup"><span data-stu-id="d7956-374">- BAMArchive</span></span><br/><span data-ttu-id="d7956-375">- BAMPrimaryImport</span><span class="sxs-lookup"><span data-stu-id="d7956-375">- BAMPrimaryImport</span></span><br/><span data-ttu-id="d7956-376">- BAMStarSchema</span><span class="sxs-lookup"><span data-stu-id="d7956-376">- BAMStarSchema</span></span><br/><span data-ttu-id="d7956-377">- BizTalkDTADb</span><span class="sxs-lookup"><span data-stu-id="d7956-377">- BizTalkDTADb</span></span><br/><span data-ttu-id="d7956-378">- BizTalkEDIDb</span><span class="sxs-lookup"><span data-stu-id="d7956-378">- BizTalkEDIDb</span></span><br/><span data-ttu-id="d7956-379">- BizTalkHwsDb</span><span class="sxs-lookup"><span data-stu-id="d7956-379">- BizTalkHwsDb</span></span><br/><span data-ttu-id="d7956-380">- BizTalkMgmtDb</span><span class="sxs-lookup"><span data-stu-id="d7956-380">- BizTalkMgmtDb</span></span><br/><span data-ttu-id="d7956-381">- BizTalkMsgBoxDb</span><span class="sxs-lookup"><span data-stu-id="d7956-381">- BizTalkMsgBoxDb</span></span><br/><span data-ttu-id="d7956-382">- BizTalkRuleEngineDb</span><span class="sxs-lookup"><span data-stu-id="d7956-382">- BizTalkRuleEngineDb</span></span><br/><span data-ttu-id="d7956-383">- TPM</span><span class="sxs-lookup"><span data-stu-id="d7956-383">- TPM</span></span><br/><span data-ttu-id="d7956-384">- BizTalkAnalysisDb</span><span class="sxs-lookup"><span data-stu-id="d7956-384">- BizTalkAnalysisDb</span></span><br/><span data-ttu-id="d7956-385">- BAMAnalysis</span><span class="sxs-lookup"><span data-stu-id="d7956-385">- BAMAnalysis</span></span><br/><br/><span data-ttu-id="d7956-386">[SQL Server 2014: バックアップの概要](https://technet.microsoft.com/library/ms175477(v=sql.120).aspx)</span><span class="sxs-lookup"><span data-stu-id="d7956-386">[SQL Server 2014: Backup Overview](https://technet.microsoft.com/library/ms175477(v=sql.120).aspx)</span></span><br/><span data-ttu-id="d7956-387">[SQL Server 2012: バックアップの概要](https://technet.microsoft.com/library/ms175477(v=sql.110).aspx)</span><span class="sxs-lookup"><span data-stu-id="d7956-387">[SQL Server 2012: Backup Overview](https://technet.microsoft.com/library/ms175477(v=sql.110).aspx)</span></span> |
|  <span data-ttu-id="d7956-388">SQL Server データベース メールを構成する</span><span class="sxs-lookup"><span data-stu-id="d7956-388">Configure SQL Server Database Mail</span></span>   |                                                                                                                      <span data-ttu-id="d7956-389">BAM 警告の定義と SQL Server Notification Services を使用している場合にのみ適用されます。</span><span class="sxs-lookup"><span data-stu-id="d7956-389">Applies only if you use BAM Alert definitions with SQL Server Notification Services.</span></span><br/><br/><span data-ttu-id="d7956-390">**アップグレードの前に** (このトピックでは) 具体的な手順を列記します。</span><span class="sxs-lookup"><span data-stu-id="d7956-390">**Before the upgrade** (in this topic) lists the specific steps.</span></span><br/><br/><span data-ttu-id="d7956-391">それ以外の場合、アップグレード後に BAM 警告の定義を再生成します。</span><span class="sxs-lookup"><span data-stu-id="d7956-391">Otherwise, recreate the BAM Alert definitions after you upgrade.</span></span>                                                                                                                       |

## <a name="do-the-upgrade"></a><span data-ttu-id="d7956-392">アップグレードを実行する</span><span class="sxs-lookup"><span data-stu-id="d7956-392">Do the upgrade</span></span>

> [!IMPORTANT]
> <span data-ttu-id="d7956-393">SQL Server をインストールした場合、SQL Server セットアップを実行したログオン アカウントにシステム管理者の権限が付与されています。</span><span class="sxs-lookup"><span data-stu-id="d7956-393">When you installed SQL Server, setup granted your logged-on account system administrator rights.</span></span> <span data-ttu-id="d7956-394">システム管理者の権限は BizTalk Server のインストールにも必要です。</span><span class="sxs-lookup"><span data-stu-id="d7956-394">System administrator rights are also required to install BizTalk Server.</span></span> <span data-ttu-id="d7956-395">次のいずれかの操作を行います。</span><span class="sxs-lookup"><span data-stu-id="d7956-395">Do one of the following:</span></span>
> 
> - <span data-ttu-id="d7956-396">SQL Server のインストール時に使用した同じアカウントを使用する</span><span class="sxs-lookup"><span data-stu-id="d7956-396">Use the same account you used when you installed SQL Server</span></span>  
> <span data-ttu-id="d7956-397">**または**</span><span class="sxs-lookup"><span data-stu-id="d7956-397">**OR**</span></span>  
> - <span data-ttu-id="d7956-398">現在のログオン アカウントにシステム管理者権限があることを確認する</span><span class="sxs-lookup"><span data-stu-id="d7956-398">Make sure the current logged-on account has system administrator rights</span></span>

### <a name="upgrade-steps"></a><span data-ttu-id="d7956-399">アップグレード手順</span><span class="sxs-lookup"><span data-stu-id="d7956-399">Upgrade steps</span></span>

1. <span data-ttu-id="d7956-400">開いているプログラムをすべて閉じます。</span><span class="sxs-lookup"><span data-stu-id="d7956-400">Close any open programs.</span></span>
2. <span data-ttu-id="d7956-401">インストール メディアから **Setup.exe** を実行します。</span><span class="sxs-lookup"><span data-stu-id="d7956-401">Run **Setup.exe** from the installation media.</span></span>
3. <span data-ttu-id="d7956-402">[Start (開始)] で **[Install Microsoft BizTalk Server (Microsoft BizTalk Server のインストール)]** を選択します。</span><span class="sxs-lookup"><span data-stu-id="d7956-402">In Start, select **Install Microsoft BizTalk Server**.</span></span>
4. <span data-ttu-id="d7956-403">**[ユーザー情報]** で、ユーザー名、組織、プロダクト キーを入力します。</span><span class="sxs-lookup"><span data-stu-id="d7956-403">In **Customer Information**, enter your user name, organization, and product key.</span></span> <span data-ttu-id="d7956-404">**[次へ]** を選択します。</span><span class="sxs-lookup"><span data-stu-id="d7956-404">Select **Next**.</span></span>
5. <span data-ttu-id="d7956-405">ライセンス契約に同意して、**[次へ]** を選択します。</span><span class="sxs-lookup"><span data-stu-id="d7956-405">Accept the license agreement, and select **Next**.</span></span>
6. <span data-ttu-id="d7956-406">[カスタマー エクスペリエンス向上プログラム] で、基本設定を入力します。</span><span class="sxs-lookup"><span data-stu-id="d7956-406">In Customer Experience Improvement Program, enter you preference.</span></span> <span data-ttu-id="d7956-407">詳細については、このトピックの「**付録 A**」をご覧ください。</span><span class="sxs-lookup"><span data-stu-id="d7956-407">See **Appendix A** (in this topic) for more information.</span></span>
7. <span data-ttu-id="d7956-408">**[Component Installation (コンポーネントのインストール)]** でインストール可能なコンポーネントを確認し、**[次へ]** を選択します。</span><span class="sxs-lookup"><span data-stu-id="d7956-408">In **Component Installation**, review the available components, and select **Next**.</span></span>
8. <span data-ttu-id="d7956-409">必須コンポーネントがコンピューターにインストールされていない場合、必要な再配布可能コンポーネントをインストールできます。</span><span class="sxs-lookup"><span data-stu-id="d7956-409">If your computer is missing a prerequisite, Setup can install the redistributable prerequisites.</span></span> <span data-ttu-id="d7956-410">次のいずれかを実行できます。</span><span class="sxs-lookup"><span data-stu-id="d7956-410">You can either:</span></span>

    - <span data-ttu-id="d7956-411">[必要な再配布可能コンポーネントを Web から自動的にインストールする] を選択します。</span><span class="sxs-lookup"><span data-stu-id="d7956-411">Select Automatically install the redistributable prerequisites from the web</span></span>  

      <span data-ttu-id="d7956-412">または</span><span class="sxs-lookup"><span data-stu-id="d7956-412">OR</span></span>  

    - <span data-ttu-id="d7956-413">CAB ファイルを既にダウンロードしている場合は、[必要な再配布可能コンポーネントを CAB ファイルから自動的にインストールする] を選択します。</span><span class="sxs-lookup"><span data-stu-id="d7956-413">Select Automatically install the redistributable prerequisites from a CAB file if you downloaded the CAB file.</span></span> <span data-ttu-id="d7956-414">CAB ファイルの場所に移動し、ファイルを選択します。</span><span class="sxs-lookup"><span data-stu-id="d7956-414">Browse to the location of the CAB file and select it.</span></span>

9. <span data-ttu-id="d7956-415">**[概要]** で、アップグレード可能なコンポーネントを確認します。</span><span class="sxs-lookup"><span data-stu-id="d7956-415">In **Summary**, review the upgradable components.</span></span>
10. <span data-ttu-id="d7956-416">**[アップグレード]** を選択して開始します。</span><span class="sxs-lookup"><span data-stu-id="d7956-416">Select **Upgrade** to start.</span></span>
11. <span data-ttu-id="d7956-417">省略可能: **[更新プログラムの確認に Microsoft Update を使用する (推奨)]** を選択します。</span><span class="sxs-lookup"><span data-stu-id="d7956-417">Optional: Select **Use the Microsoft Update when I check for updates (recommended)**.</span></span>
12. <span data-ttu-id="d7956-418">**[アップグレードは完了しました]** で、**[BizTalk Server 構成の開始]** チェック ボックスをオフにし、**[完了]** を選択します。</span><span class="sxs-lookup"><span data-stu-id="d7956-418">In **Upgrade Completed**, clear the L**aunch BizTalk Server Configuration** check box, and then select **Finish**.</span></span>

<span data-ttu-id="d7956-419">**追加情報**</span><span class="sxs-lookup"><span data-stu-id="d7956-419">**ADDITIONAL**</span></span>  
<span data-ttu-id="d7956-420">BizTalk Server のアップグレード中には数多くのことが起こるため、その過程でエラーが発生することも珍しいことではありません。</span><span class="sxs-lookup"><span data-stu-id="d7956-420">A lot happens during an upgrade of BizTalk Server, and it’s not uncommon to run into an error during the process.</span></span> <span data-ttu-id="d7956-421">ただし、準備を整えておけば、大部分のエラーは容易に解決できます。</span><span class="sxs-lookup"><span data-stu-id="d7956-421">However, most errors are easily remedied if you’re prepared.</span></span> <span data-ttu-id="d7956-422">このトピックの「**付録 B**」に記載されている、アップグレード エラーの回避方法に関するヒントおよびエラーが発生した場合の対処に関するヒントを読むことをお勧めします。</span><span class="sxs-lookup"><span data-stu-id="d7956-422">We recommend reading the **Appendix B** (in this topic) for tips on how to avoid upgrade errors, and what to do if one occurs.</span></span>

<span data-ttu-id="d7956-423">アップグレード プロセスでは、以前のバージョンの BizTalk Server の一部であった機能だけがアップグレードされます。</span><span class="sxs-lookup"><span data-stu-id="d7956-423">The upgrade process only upgrades features that were part of your previous version of BizTalk Server.</span></span> <span data-ttu-id="d7956-424">新機能は、アップグレード時にインストールされません。</span><span class="sxs-lookup"><span data-stu-id="d7956-424">New features are not installed during an upgrade.</span></span> <span data-ttu-id="d7956-425">これらの機能をインストールするには、アップグレード後にセットアップを再実行し、**[変更]** を選択して、インストールする機能を選択します。</span><span class="sxs-lookup"><span data-stu-id="d7956-425">To install these features, rerun Setup after the upgrade, choose **Modify**, and select the features you want to install.</span></span> <span data-ttu-id="d7956-426">インストールした後、**BizTalk Server 構成マネージャー**を使用して構成します。</span><span class="sxs-lookup"><span data-stu-id="d7956-426">Once installed, configure them using the **BizTalk Server Configuration Manager**.</span></span>

<span data-ttu-id="d7956-427">インストールが成功したかどうかを検証するには、**[プログラムと機能]** を開き、[!INCLUDE[bts2016_md](../includes/bts2016-md.md)] を探します。</span><span class="sxs-lookup"><span data-stu-id="d7956-427">To verify if the upgrade is successful, open **Programs and Features** and look for [!INCLUDE[bts2016_md](../includes/bts2016-md.md)].</span></span> <span data-ttu-id="d7956-428">BizTalk Server 2013 R2 が表示されていれば、インストールは成功です。</span><span class="sxs-lookup"><span data-stu-id="d7956-428">If it’s listed, setup succeeded.</span></span>

## <a name="post-upgrade"></a><span data-ttu-id="d7956-429">アップグレード後</span><span class="sxs-lookup"><span data-stu-id="d7956-429">Post upgrade</span></span>
<span data-ttu-id="d7956-430">[!INCLUDE[bts2013r2_md](../includes/bts2013r2-md.md)]/2013 にロールバックすることはできません。</span><span class="sxs-lookup"><span data-stu-id="d7956-430">You cannot roll back to [!INCLUDE[bts2013r2_md](../includes/bts2013r2-md.md)]/2013.</span></span>

- <span data-ttu-id="d7956-431">**BAM 警告定義 XML ファイルを作成してあった場合**: [!INCLUDE[bts2016_md](../includes/bts2016-md.md)] の構成で、BAM 警告を構成します。</span><span class="sxs-lookup"><span data-stu-id="d7956-431">**If you created a BAM Alerts definition XML file**: In [!INCLUDE[bts2016_md](../includes/bts2016-md.md)] Configuration, configure BAM Alerts.</span></span> <span data-ttu-id="d7956-432">次に、保存した定義を展開します。</span><span class="sxs-lookup"><span data-stu-id="d7956-432">Then, deploy the saved Definitions.</span></span>

    <span data-ttu-id="d7956-433">**アップグレードの前に** (このトピックでは) 具体的な手順を列記します。</span><span class="sxs-lookup"><span data-stu-id="d7956-433">**Before the upgrade** (in this topic) lists the specific steps.</span></span> <span data-ttu-id="d7956-434">それ以外の場合、アップグレード後に BAM 警告の定義を再生成します。</span><span class="sxs-lookup"><span data-stu-id="d7956-434">Otherwise, recreate the BAM Alert definitions after you upgrade.</span></span>

- <span data-ttu-id="d7956-435">**MQSAgent のインストール**: MQSAgent.dll ファイルがリモートの WebSphere MQ Server にインストールされている場合は、リモートの WebSphere MQ Server 上の [!INCLUDE[bts2016_md](../includes/bts2016-md.md)] から新しいバージョンの MQ エージェントをインストールします。</span><span class="sxs-lookup"><span data-stu-id="d7956-435">**Install MQSAgent**: If the MQSAgent.dll file is installed on a remote WebSphere MQ Server, install a new version of the MQ Agent from [!INCLUDE[bts2016_md](../includes/bts2016-md.md)] on the remote WebSphere MQ Server.</span></span>

- <span data-ttu-id="d7956-436">**MSMQ の開始**: MSMQ アダプターを使用する場合、メッセージ キュー サービスを起動します。</span><span class="sxs-lookup"><span data-stu-id="d7956-436">**Start MSMQ**: If you use the MSMQ adapter, start the Message Queuing service.</span></span>

- <span data-ttu-id="d7956-437">
  **カスタム EXE および BRE**: BizTalk Server 2010 内のビジネス ルール エンジン アセンブリを参照するカスタム マネージド実行可能ファイルがある場合は、.NET Framework 2.0 でプロセスを実行するために、アプリケーション構成ファイルに次のコードを追加します。</span><span class="sxs-lookup"><span data-stu-id="d7956-437">**Custom EXE and BRE**: If you have a custom managed executable file that references Business Rule Engine assembly in BizTalk Server 2010, add the following to the application configuration file to run the process in the .NET Framework 2.0.</span></span>

    ```
    <?xml version="1.0" encoding="Windows-1252"?>
    <configuration> 
     <startup>
      <supportedRuntime version="v2.0.50727" />
     </startup>   
    </configuration>
    ```

- <span data-ttu-id="d7956-438">**SQL エージェント ジョブ**: 次の SQL Server エージェント ジョブを再構成します。</span><span class="sxs-lookup"><span data-stu-id="d7956-438">**SQL Agent job**: Reconfigure the following SQL Server Agent jobs:</span></span>

    -   <span data-ttu-id="d7956-439">DTA Purge and Archive (BizTalkDTADb): 「[DTA Purge and Archive ジョブを構成する方法](../core/how-to-configure-the-dta-purge-and-archive-job.md)」をご覧ください</span><span class="sxs-lookup"><span data-stu-id="d7956-439">DTA Purge and Archive (BizTalkDTADb): See [How to Configure the DTA Purge and Archive Job](../core/how-to-configure-the-dta-purge-and-archive-job.md)</span></span>
    -   <span data-ttu-id="d7956-440">BizTalk Server のバックアップ (BizTalkMgmtDb): 「[BizTalk Server のバックアップ ジョブを構成する方法](../core/how-to-configure-the-backup-biztalk-server-job.md)」をご覧ください</span><span class="sxs-lookup"><span data-stu-id="d7956-440">Backup BizTalk Server (BizTalkMgmtDb): See [How to Configure the Backup BizTalk Server Job](../core/how-to-configure-the-backup-biztalk-server-job.md)</span></span>

- <span data-ttu-id="d7956-441">**アプリケーションの再起動**: アップグレードされた、展開済みのアプリケーションをすべて再起動します。</span><span class="sxs-lookup"><span data-stu-id="d7956-441">**Restart applications**: Restart all deployed applications that are upgraded.</span></span>

- <span data-ttu-id="d7956-442">**BAM ポータル エラー**: BAM ポータルを開いたとき、次のエラー メッセージが表示されることがあります。</span><span class="sxs-lookup"><span data-stu-id="d7956-442">**BAM Portal error**: When you open the BAM portal, you may receive the following error message:</span></span> 

    `The server encountered a critical failure while trying to access the list of Views. The Business Management Web Service requires Administrator's attention.` 

    <span data-ttu-id="d7956-443">このエラーは、.NET Framework 2.0 を実行しているアプリケーションにより使用される Web サイト上で BAM ポータルが構成されている場合に発生することがあります。</span><span class="sxs-lookup"><span data-stu-id="d7956-443">This error can occur if the BAM portal is configured on a website used by applications that are running .NET Framework 2.0.</span></span> <span data-ttu-id="d7956-444">この場合は、BAM ポータルを新しい Web サイトでホストします。</span><span class="sxs-lookup"><span data-stu-id="d7956-444">In this scenario, host the BAM portal on a new website.</span></span> <span data-ttu-id="d7956-445">Web サイトの追加については、「[Create a Web Site](http://go.microsoft.com/fwlink/p/?LinkID=196470)」 (Web サイトを作成する) をご覧ください。</span><span class="sxs-lookup"><span data-stu-id="d7956-445">To add a website, see [Create a Web Site](http://go.microsoft.com/fwlink/p/?LinkID=196470).</span></span> <span data-ttu-id="d7956-446">Web サイトを作成した後に、BAM ポータルを再構成します:</span><span class="sxs-lookup"><span data-stu-id="d7956-446">After creating the website, reconfigure the BAM Portal:</span></span>

    1. <span data-ttu-id="d7956-447">**[BizTalk Server 構成]** を開きます。</span><span class="sxs-lookup"><span data-stu-id="d7956-447">Open **BizTalk Server Configuration**.</span></span>
    2. <span data-ttu-id="d7956-448">**[機能の構成解除]** を選択します。</span><span class="sxs-lookup"><span data-stu-id="d7956-448">Select **Unconfigure Features**.</span></span> <span data-ttu-id="d7956-449">**[機能の構成解除]** で、**[BAM ポータル]** チェック ボックスをオンにして、**[OK]** を選択します。</span><span class="sxs-lookup"><span data-stu-id="d7956-449">In **Unconfigure Features**, select the **BAM Portal** check box, and select **OK**.</span></span>
    3. <span data-ttu-id="d7956-450">**[BAM ポータル Web サイト]** の一覧から新しい Web サイトを選択して BAM ポータルを再構成します。</span><span class="sxs-lookup"><span data-stu-id="d7956-450">Reconfigure the BAM portal by selecting the new website from the **BAM Portal Web Site** list.</span></span>

- <span data-ttu-id="d7956-451">**BizTalk 2016 Accelerator for SWIFT**: BizTalk Server アップグレード プロセスでは、編集した *BREDeployment.exe.config* ファイルは更新されません。</span><span class="sxs-lookup"><span data-stu-id="d7956-451">**BizTalk 2016 Accelerator for SWIFT**: The BizTalk Server upgrade process does not update an edited *BREDeployment.exe.config* file.</span></span> <span data-ttu-id="d7956-452">`\Program Files\Microsoft BizTalk 2016 Accelerator for SWIFT\SDK\Tools` フォルダーにある *BREDeployment.exe.config* ファイルに記述されているパスを、手動で変更します。</span><span class="sxs-lookup"><span data-stu-id="d7956-452">Manually change the paths in the *BREDeployment.exe.config* file located in the `\Program Files\Microsoft BizTalk 2016 Accelerator for SWIFT\SDK\Tools` folder.</span></span>

    <span data-ttu-id="d7956-453">また、A4SWIFT Web サービスと Message Pack 構成は削除されます。</span><span class="sxs-lookup"><span data-stu-id="d7956-453">Also, the A4SWIFT Web Services and Message Pack configuration is lost.</span></span> <span data-ttu-id="d7956-454">BizTalk Server をアップグレードした後で、これらを再構成します。</span><span class="sxs-lookup"><span data-stu-id="d7956-454">Reconfigure these after BizTalk Server is upgraded.</span></span>

## <a name="appendix-a-customer-experience-improvement-program"></a><span data-ttu-id="d7956-455">付録 A: カスタマー エクスペリエンス向上プログラム</span><span class="sxs-lookup"><span data-stu-id="d7956-455">Appendix A: Customer experience improvement Program</span></span>
<span data-ttu-id="d7956-456">BizTalk Server のカスタマー エクスペリエンス向上プログラムの一環として、ユーザーは BizTalk Server の機能の使用に関して有益なフィードバックを Microsoft に提供することができます。</span><span class="sxs-lookup"><span data-stu-id="d7956-456">As part of the Customer Experience Improvement Program in BizTalk Server, you can provide useful feedback to Microsoft regarding feature usage of BizTalk Server.</span></span> <span data-ttu-id="d7956-457">収集されるデータは匿名であり、個人を特定できるものではありません。</span><span class="sxs-lookup"><span data-stu-id="d7956-457">The data collected is anonymous, and cannot be used to identify you.</span></span> <span data-ttu-id="d7956-458">このプログラムでは、機能の使用状況の統計情報が収集されます。</span><span class="sxs-lookup"><span data-stu-id="d7956-458">Microsoft collects feature usage statistics as part of this program.</span></span>

<span data-ttu-id="d7956-459">お客様にこのプログラムに参加していただくことによって、BizTalk Server のさまざまな機能の信頼性とパフォーマンスが向上します。</span><span class="sxs-lookup"><span data-stu-id="d7956-459">By participating in this program, you can help improve the reliability and performance of various features of BizTalk Server.</span></span> <span data-ttu-id="d7956-460">このプログラムの詳細およびプライバシー ポリシーについては、「[Microsoft BizTalk Server CEIP プライバシー ポリシー](http://go.microsoft.com/fwlink/p/?LinkId=188553)」をご覧ください。</span><span class="sxs-lookup"><span data-stu-id="d7956-460">For more information about this program and its privacy policy, see [Microsoft BizTalk Server CEIP Privacy Policy](http://go.microsoft.com/fwlink/p/?LinkId=188553).</span></span>

## <a name="appendix-b-known-issues"></a><span data-ttu-id="d7956-461">付録 B: 既知の問題</span><span class="sxs-lookup"><span data-stu-id="d7956-461">Appendix B: Known issues</span></span>

- <span data-ttu-id="d7956-462">**管理用コンピューターでの BAM 警告の構成**: 複数コンピューター環境では、管理用、ランタイム、SQL Server のコンポーネントが別々のコンピューターにインストールされます。</span><span class="sxs-lookup"><span data-stu-id="d7956-462">**Configure BAM Alerts on Administration computer**: There is a multicomputer environment with the Administration, Runtime, and SQL Server components installed on separate computers.</span></span> <span data-ttu-id="d7956-463">BAM ツールまたは BAM 警告を使用する場合、以下の問題が発生することがあります:</span><span class="sxs-lookup"><span data-stu-id="d7956-463">When working with BAM Tools or BAM Alerts, the following issues can occur:</span></span>

    <span data-ttu-id="d7956-464">**問題**: BizTalk 管理用コンピューターで BAM ツールを構成するときに、次のエラーが発生します。</span><span class="sxs-lookup"><span data-stu-id="d7956-464">**ISSUE**: When you configure BAM Tools on a BizTalk Administration computer, the following error occurs:</span></span>

    `Service BAMAlerts was not found on computer ‘.’.The specified service does not exist as an installed service.`

    <span data-ttu-id="d7956-465">**問題**: ランタイム コンピューターから BAM アクティビティ定義を展開するときに、次のエラーが発生します:</span><span class="sxs-lookup"><span data-stu-id="d7956-465">**ISSUE**: When you deploy a BAM Activity Definition from Runtime computer, the following error occurs:</span></span>

    `A network-related or instance-specific error occurred while establishing a connection to SQL Server. The server was not found or was not accessible. Verify that the instance name is correct and that SQL Server is configured to allow remote connections. (provider: Named Pipes Provider, error: 40 - Could not open a connection to SQL Server) (.Net SqlClient Data Provider)`

    <span data-ttu-id="d7956-466">このエラーは、BAM 警告がランタイム コンピューターで構成された場合に発生します。</span><span class="sxs-lookup"><span data-stu-id="d7956-466">This occurs if BAM Alerts is configured on the Runtime computer.</span></span> <span data-ttu-id="d7956-467">解決するには、BizTalk 管理コンソールと同じコンピュータで BAM 警告を構成します。</span><span class="sxs-lookup"><span data-stu-id="d7956-467">To resolve, configure BAM Alerts on the same computer as the BizTalk Administration console.</span></span> <span data-ttu-id="d7956-468">ランタイム コンピューターでは BAM 警告を構成しないでください。</span><span class="sxs-lookup"><span data-stu-id="d7956-468">Do not configure BAM Alerts on the Runtime computer.</span></span>

- <span data-ttu-id="d7956-469">**アップグレードの失敗からの復旧**: アップグレードのいずれかの段階で、アップグレードが失敗する可能性があります。</span><span class="sxs-lookup"><span data-stu-id="d7956-469">**Recovering from a Failed Upgrade**: A failed upgrade can occur at any time during the upgrade.</span></span> <span data-ttu-id="d7956-470">アップグレードの失敗から復旧する方法は、失敗が発生したのが各フェーズのどのポイントかによって決まります。</span><span class="sxs-lookup"><span data-stu-id="d7956-470">How you recover from a failed upgrade is determined from what point during each phase the failure occurred.</span></span>

  - <span data-ttu-id="d7956-471">アップグレードが必須コンポーネントをインストールする際に失敗した場合、必須コンポーネントの以降のインストールが中止され、エラーを示すメッセージが返されます。</span><span class="sxs-lookup"><span data-stu-id="d7956-471">If the upgrade fails when installing the prerequisites, then setup stops further installation of prerequisites, and returns a message with the error.</span></span> <span data-ttu-id="d7956-472">この後、問題を解決して、セットアップを再実行できます。</span><span class="sxs-lookup"><span data-stu-id="d7956-472">You can then correct the problem and rerun setup.</span></span>

  - <span data-ttu-id="d7956-473">アップグレードの失敗が、データベースをアップグレードする際、既存の BizTalk Server バージョンから機能を削除する際、または新しいバージョンをインストールする際に発生した場合、以降のインストールが中止され、エラーを示すメッセージが返されます。</span><span class="sxs-lookup"><span data-stu-id="d7956-473">If the upgrade fails when upgrading the databases, removing features from the existing BizTalk Server version, or installing the new version, then setup stops further installation, and returns a message with the error.</span></span> <span data-ttu-id="d7956-474">変更はすべてロールバックされます。</span><span class="sxs-lookup"><span data-stu-id="d7956-474">Any changes are rolled back.</span></span> <span data-ttu-id="d7956-475">BizTalk Server データベースに加えられた変更はロールバックできません。</span><span class="sxs-lookup"><span data-stu-id="d7956-475">Changes made to the BizTalk Server databases cannot be rolled back.</span></span>

      <span data-ttu-id="d7956-476">BizTalk Server の以前のインストールのコンポーネントがアップグレード中に削除された場合、コンピューターには BizTalk Server コンポーネントがない状態になっている可能性があります。</span><span class="sxs-lookup"><span data-stu-id="d7956-476">If components of the previous BizTalk Server installation are removed during upgrade, your computer may be left in a state with no BizTalk Server components.</span></span> <span data-ttu-id="d7956-477">前のインストールからの機能構成情報は維持される場合があります。</span><span class="sxs-lookup"><span data-stu-id="d7956-477">Feature configuration information from the previous installation may be retained.</span></span> <span data-ttu-id="d7956-478">また、アップグレード プロセスが失敗した段階によっては、BizTalk Server データベースがアップグレードされている場合があります。</span><span class="sxs-lookup"><span data-stu-id="d7956-478">And depending on where the upgrade process fails, the BizTalk Server databases may have been upgraded.</span></span> <span data-ttu-id="d7956-479">場合によっては、セットアップを再実行する前に、以前にバックアップしたデータベースを復元する必要があります。</span><span class="sxs-lookup"><span data-stu-id="d7956-479">It may be necessary to restore the databases which you backed up earlier before running setup again.</span></span>

  - <span data-ttu-id="d7956-480">BizTalk Server の機能を再構成する際にアップグレードが失敗した場合、完了のレベルを示すメッセージが返されます。</span><span class="sxs-lookup"><span data-stu-id="d7956-480">If the upgrade fails when reconfiguring the BizTalk Server features, then the setup returns a message with the level of completion.</span></span> <span data-ttu-id="d7956-481">構成のアップグレードに失敗した場合、または部分的にのみ成功した場合、BizTalk Server 構成を実行し、アップグレードを完了します。</span><span class="sxs-lookup"><span data-stu-id="d7956-481">If configuration upgrade fails or partially succeeds, run the BizTalk Server configuration to complete the upgrade.</span></span>

    <span data-ttu-id="d7956-482">アップグレードに引き続き失敗し、以前のバージョンの BizTalk Server に戻す必要がある場合は、バックアップしたデータベースを復元してから、以前の BizTalk Server のバージョンを再インストールする必要があります。</span><span class="sxs-lookup"><span data-stu-id="d7956-482">If the upgrade continues to fail and you need to regress to your previous version of BizTalk Server, you must restore the databases you backed up, and then reinstall your previous BizTalk Server version.</span></span>

- <span data-ttu-id="d7956-483">**同じバージョンの使用**: BizTalk アプリケーション グループでは、バージョンの異なる BizTalk Server がインストールされたコンピューターを実行することはできません。</span><span class="sxs-lookup"><span data-stu-id="d7956-483">**Use the same versions**: In a BizTalk application group, you cannot run machines with different versions of BizTalk Server.</span></span> <span data-ttu-id="d7956-484">たとえば、BizTalk 管理コンソールで、あるバージョンの BizTalk Server 上で実行されている送信ポートを、異なるバージョンの BizTalk Server 上で実行されている受信場所にバインドすることはできません。</span><span class="sxs-lookup"><span data-stu-id="d7956-484">For example, in the BizTalk Administration Console, you cannot bind a send port running on one version of BizTalk Server to a receive location running on a different version of BizTalk Server.</span></span> 

- <span data-ttu-id="d7956-485">**SSO サービスの再起動**: 以前にコンピューターに Visual Studio のバージョンまたは .NET Framework 4.5 をインストールしている場合、以前のバージョンの BizTalk Server の SSO サービスが動作を停止します。</span><span class="sxs-lookup"><span data-stu-id="d7956-485">**Restart SSO Service**: If you have a previous Visual Studio version or .NET Framework 4.5 installed on your machine, then the SSO service in earlier versions of BizTalk Server stops working.</span></span> <span data-ttu-id="d7956-486">この問題を解決するには、Visual Studio のコマンド プロンプトから `regasm SSOSQL.dll` コマンドを実行します。</span><span class="sxs-lookup"><span data-stu-id="d7956-486">To resolve this issue, run the `regasm SSOSQL.dll` command from the Visual Studio command prompt.</span></span> <span data-ttu-id="d7956-487">このコマンドにより SSO サービスが再開されます。</span><span class="sxs-lookup"><span data-stu-id="d7956-487">This command restarts the SSO service.</span></span>

    > [!NOTE]
    > <span data-ttu-id="d7956-488">64 ビット コンピューターでは、regasm コマンドの 32 ビット バージョンと 64 ビット バージョンを実行します。</span><span class="sxs-lookup"><span data-stu-id="d7956-488">On a 64-bit computer, run the 32-bit and 64-bit versions of the regasm command.</span></span>

- <span data-ttu-id="d7956-489">**SOAP が使用できない**: プラットフォームのアップグレード後は、アクセス許可の理由により SOAP メッセージを送信できなくなる場合があります。</span><span class="sxs-lookup"><span data-stu-id="d7956-489">**Unable to use SOAP**: After a platform upgrade, you may not be able to send SOAP message because of permissions.</span></span> <span data-ttu-id="d7956-490">この問題を解決するには、`C:\inetpub\wwwroot\<SOAPExternalAppName>\` にある Web.config ファイルを、次のテキストを使用して編集します。</span><span class="sxs-lookup"><span data-stu-id="d7956-490">To resolve this, edit the Web.config file at `C:\inetpub\wwwroot\<SOAPExternalAppName>\` with the following text:</span></span>

    ```
    <securityPolicy>
    <trustLevel name="Full" policyFile="internal" />
    <trustLevel name="High" policyFile="web_hightrust.config" />
    <trustLevel name="Medium" policyFile="web_mediumtrust.config" />
    <trustLevel name="Low" policyFile="web_lowtrust.config" />
    <trustLevel name="Minimal" policyFile="web_minimaltrust.config"/>
    </securityPolicy>
    <trust level="Full" originUrl="" processRequestInApplicationTrust="true"/>
    ```

    <span data-ttu-id="d7956-491">場合によっては、カスタム エラー モードを **[リモートのみ]** から **[オフ]** に変更する必要があります。</span><span class="sxs-lookup"><span data-stu-id="d7956-491">You may also have to change the custom error mode from **Remote Only** to **Off**.</span></span>

- <span data-ttu-id="d7956-492">**証明書ストア**: アップグレードの後で、BizTalk Server 管理コンソールから送信ポートまたは受信場所を開くと、次のエラーが発生します。 `Could not open certificate store, the system cannot find the file specified (System).`</span><span class="sxs-lookup"><span data-stu-id="d7956-492">**Certificate Store**: After you upgrade, you open a send port or receive location from the BizTalk Server Administration console, and get error: `Could not open certificate store, the system cannot find the file specified (System).`</span></span>

    <span data-ttu-id="d7956-493">このエラーは、証明書ストアが見つからない場合に発生します。</span><span class="sxs-lookup"><span data-stu-id="d7956-493">This error occurs if the certificate store is missing.</span></span>

- <span data-ttu-id="d7956-494">**BAM ポータル**: 64 ビット コンピューターでは、アップグレードを行った後は BAM ポータルにアクセスできません。</span><span class="sxs-lookup"><span data-stu-id="d7956-494">**BAM Portal**: On a 64-bit machine, you cannot access BAM portal after you upgrade.</span></span> <span data-ttu-id="d7956-495">解決方法:</span><span class="sxs-lookup"><span data-stu-id="d7956-495">Possible resolution:</span></span>

  1. <span data-ttu-id="d7956-496">`%BizTalkInstallDir%\BAMPortal\web.config` にある web.config ファイルのバックアップ コピーを作成します。</span><span class="sxs-lookup"><span data-stu-id="d7956-496">Create a backup copy of the web.config file located at `%BizTalkInstallDir%\BAMPortal\web.config`.</span></span>

  2. <span data-ttu-id="d7956-497">BizTalk Server の Tracking フォルダーにある bm.exe を使用して、コマンド プロンプトから次のコマンドを実行します。 `bm.exe get-config –FileName:<filepath> -Server:MyServer -Database:MyDB`</span><span class="sxs-lookup"><span data-stu-id="d7956-497">Using bm.exe in the BizTalk Server Tracking folder, run the following at the command prompt: `bm.exe get-config –FileName:<filepath> -Server:MyServer -Database:MyDB`</span></span>

     <span data-ttu-id="d7956-498">Config XML ファイルから *BAMVRoot* の値を取得します (xpath: BAMConfiguration\ GlobalProperty\Name="BAMVRoot")。</span><span class="sxs-lookup"><span data-stu-id="d7956-498">From the Config XML file, get the value for *BAMVRoot* (xpath: BAMConfiguration\ GlobalProperty\Name="BAMVRoot").</span></span>

  3. <span data-ttu-id="d7956-499">BAMVRoot として示されているコンピューターで BizTalk Server の構成を開き、BAM ポータルの構成を解除します。</span><span class="sxs-lookup"><span data-stu-id="d7956-499">Open the BizTalk Server Configuration on the computer that is listed as the BAMVRoot value, and unconfigure the BAM portal.</span></span>

  4. <span data-ttu-id="d7956-500">BizTalk Server の構成を開き、BAM ポータルを構成します。</span><span class="sxs-lookup"><span data-stu-id="d7956-500">Open the BizTalk Server Configuration, and configure the BAM portal.</span></span>

  5. <span data-ttu-id="d7956-501">ステップ (1) で示した場所から新しい web.config ファイルを開きます。</span><span class="sxs-lookup"><span data-stu-id="d7956-501">Open the new web.config file from location mentioned in step (1).</span></span>

  6. <span data-ttu-id="d7956-502">web.config ファイルのバックアップ コピーを使用して、次の値を設定します (`configuration\appSettings` の下)。</span><span class="sxs-lookup"><span data-stu-id="d7956-502">Using the backup copy of the web.config file, set the following values (under `configuration\appSettings`):</span></span>

      - <span data-ttu-id="d7956-503">key="MainPageContentUrl"</span><span class="sxs-lookup"><span data-stu-id="d7956-503">key="MainPageContentUrl"</span></span>
      - <span data-ttu-id="d7956-504">key="AlertNotificationOptions"</span><span class="sxs-lookup"><span data-stu-id="d7956-504">key="AlertNotificationOptions"</span></span>

     > [!NOTE] 
     > <span data-ttu-id="d7956-505">64 ビット コンピューターの場合は、オペレーティング システムをアップグレードした後に BAM ポータルを再構成することをお勧めします。</span><span class="sxs-lookup"><span data-stu-id="d7956-505">On a 64-bit machine, after you upgrade the operating system, we recommend that you reconfigure the BAM portal.</span></span>

- <span data-ttu-id="d7956-506">**EDI BAM アクティビティの展開**: アップグレードするとき、アップグレードが部分的にしか成功しない場合があります。</span><span class="sxs-lookup"><span data-stu-id="d7956-506">**Deploy EDI BAM activities**: When you upgrade, the upgrade may partially succeed.</span></span> <span data-ttu-id="d7956-507">これは、(EDI 構成を含む) SQL Server をアップグレードする際に発生することがあります。</span><span class="sxs-lookup"><span data-stu-id="d7956-507">This can happen when you upgrade SQL Server (with EDI configured).</span></span> <span data-ttu-id="d7956-508">EDI BAM アクティビティが適切にアップグレードされないことがあります。</span><span class="sxs-lookup"><span data-stu-id="d7956-508">The EDI BAM activities might not be upgraded properly.</span></span> <span data-ttu-id="d7956-509">この問題を解決するには、管理者資格情報を使用してコマンド プロンプトから次のコマンドを実行して、BAM アクティビティを展開します。</span><span class="sxs-lookup"><span data-stu-id="d7956-509">To resolve this issue, deploy the BAM activities by running the following commands at the command prompt with administrative credentials:</span></span>

    `"<BizTalk Installation Folder>\Tracking\bm.exe" deploy-all -DefinitionFile:"<BizTalk Installation Folder>\AS2ResendActivityDefs.xml" -Server:"<BAM Database Server Name>" -Database:"<BAM Database Name>"`

    `"<BizTalk Installation Folder>\Tracking\bm.exe" update-all -DefinitionFile:"<BizTalk Installation Folder>\Microsoft.BizTalk.Configuration.EdiAS2.UpgradeR2toR3.xml" -Server:"<BAM Database Server Name>" -Database:"<BAM Database Name>"`

    `"<BizTalk Installation Folder>\Tracking\bm.exe" update-all -DefinitionFile:"<BizTalk Installation Folder>\Microsoft.BizTalk.Configuration.Batching.UpgradeR2toR3.xml" -Server:"<BAM Database Server Name>" -Database:"<BAM Database Name>"`

- <span data-ttu-id="d7956-510">**クラスター上の SSO エラー**: BizTalk Server のランタイム クラスター環境で、アップグレードしようとすると、次のエラー メッセージが表示される場合があります。</span><span class="sxs-lookup"><span data-stu-id="d7956-510">**SSO Error on Cluster**: On a BizTalk Server runtime cluster environment, when you try to upgrade, you may receive an error message:</span></span>

    `SSO Master Secret Server service is not running on <Cluster name>.Please start the service to continue the upgrade.` 

    <span data-ttu-id="d7956-511">この問題を解決するには、SSO および BizTalk Server ランタイム クラスターの両方で、SSO サービスを最新の状態に更新します。</span><span class="sxs-lookup"><span data-stu-id="d7956-511">To resolve this issue, refresh the SSO services both in the SSO and BizTalk Server runtime cluster.</span></span>

    <span data-ttu-id="d7956-512">**SSO クラスター内の SSO サービスを最新の状態に更新するには**:</span><span class="sxs-lookup"><span data-stu-id="d7956-512">**To refresh the SSO services in SSO cluster**:</span></span>

  1. <span data-ttu-id="d7956-513">クラスター アドミニストレーターで、クラスター化された Enterprise SSO サービス リソースを含むクラスター グループを**オンラインにします**。</span><span class="sxs-lookup"><span data-stu-id="d7956-513">In Cluster Administrator, **Bring Online** the cluster group that contains the clustered Enterprise SSO service resource.</span></span> <span data-ttu-id="d7956-514">これにより、クラスター グループのすべてのリソースが開始します。</span><span class="sxs-lookup"><span data-stu-id="d7956-514">This should start all of the resources in the cluster group.</span></span>

  2. <span data-ttu-id="d7956-515">Enterprise SSO サービスのクラスター化されたインスタンスを**オフラインにします**。</span><span class="sxs-lookup"><span data-stu-id="d7956-515">**Take Offline** the clustered instance of the Enterprise SSO service.</span></span> <span data-ttu-id="d7956-516">その後、**オンライン**に戻します。</span><span class="sxs-lookup"><span data-stu-id="d7956-516">And then, bring it back **Online**.</span></span>

  3. <span data-ttu-id="d7956-517">クラスター グループを**移動**します。</span><span class="sxs-lookup"><span data-stu-id="d7956-517">**Move** the cluster group.</span></span> <span data-ttu-id="d7956-518">この操作により、クラスター化された Enterprise SSO サービス リソースを含むクラスター グループが最初のノードから 2 番目のノードに移動されます。</span><span class="sxs-lookup"><span data-stu-id="d7956-518">This step should move the cluster group that contains the clustered Enterprise SSO services resource from the first node to the second node.</span></span>

  4. <span data-ttu-id="d7956-519">Enterprise SSO サービスのクラスター化されたインスタンスを**オフラインにします**。</span><span class="sxs-lookup"><span data-stu-id="d7956-519">**Take Offline** the clustered instance of the Enterprise SSO service.</span></span> <span data-ttu-id="d7956-520">その後、**オンライン**に戻します。</span><span class="sxs-lookup"><span data-stu-id="d7956-520">And then, bring it back **Online**.</span></span>

     <span data-ttu-id="d7956-521">**BizTalk Server ランタイム クラスターで SSO サービスを最新の状態に更新するには**:</span><span class="sxs-lookup"><span data-stu-id="d7956-521">**To refresh the SSO services in a BizTalk Server Runtime cluster**:</span></span>

  5. <span data-ttu-id="d7956-522">クラスター アドミニストレーターで、クラスター化された BizTalk Server ランタイム リソースを含むクラスター グループを**オンラインにします**。</span><span class="sxs-lookup"><span data-stu-id="d7956-522">In Cluster Administrator, **Bring Online** the cluster group that contains the clustered BizTalk Server runtime resource.</span></span> <span data-ttu-id="d7956-523">これにより、クラスター グループのすべてのリソースが開始します。</span><span class="sxs-lookup"><span data-stu-id="d7956-523">This should start all of the resources in the cluster group.</span></span>

  6. <span data-ttu-id="d7956-524">Enterprise SSO サービスのクラスター化されたインスタンスを**オフラインにします**。</span><span class="sxs-lookup"><span data-stu-id="d7956-524">**Take Offline** the clustered instance of the Enterprise SSO services.</span></span> <span data-ttu-id="d7956-525">その後、**オンライン**に戻します。</span><span class="sxs-lookup"><span data-stu-id="d7956-525">And then, bring it back **Online**.</span></span>

  7. <span data-ttu-id="d7956-526">クラスター グループを**移動**します。</span><span class="sxs-lookup"><span data-stu-id="d7956-526">**Move** the cluster group.</span></span> <span data-ttu-id="d7956-527">この操作により、クラスター化された BizTalk Server ランタイム リソースを含むクラスター グループが最初のノードから 2 番目のノードに移動されます。</span><span class="sxs-lookup"><span data-stu-id="d7956-527">This step should move the cluster group that contains the clustered BizTalk Server runtime resource from the first node to the second node.</span></span>

  8. <span data-ttu-id="d7956-528">Enterprise SSO サービスのクラスター化されたインスタンスを**オフラインにします**。</span><span class="sxs-lookup"><span data-stu-id="d7956-528">**Take Offline** the clustered instance of the Enterprise SSO services.</span></span> <span data-ttu-id="d7956-529">その後、**オンライン**に戻します。</span><span class="sxs-lookup"><span data-stu-id="d7956-529">And then, bring it back **Online**.</span></span>
