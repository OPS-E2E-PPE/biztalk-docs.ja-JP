---
title: BizTalk Server Databases2 の統合 |Microsoft Docs
ms.custom: ''
ms.date: 06/08/2017
ms.prod: biztalk-server
ms.reviewer: ''
ms.suite: ''
ms.tgt_pltfrm: ''
ms.topic: article
ms.assetid: d7fc4fe6-3fc2-4164-9f16-90b6f473ba8c
caps.latest.revision: 13
author: MandiOhlinger
ms.author: mandia
manager: anneta
ms.openlocfilehash: 794558af8a6f947bb9ab8d9a29bd30dc3699e60c
ms.sourcegitcommit: 266308ec5c6a9d8d80ff298ee6051b4843c5d626
ms.translationtype: MT
ms.contentlocale: ja-JP
ms.lasthandoff: 06/27/2018
ms.locfileid: "36975395"
---
# <a name="consolidate-the-biztalk-server-databases2"></a><span data-ttu-id="5b549-102">BizTalk Server データベース2 の統合</span><span class="sxs-lookup"><span data-stu-id="5b549-102">Consolidate the BizTalk Server Databases2</span></span>
<span data-ttu-id="5b549-103">Microsoft [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] では、[!INCLUDE[btsSQLServerNoVersion](../includes/btssqlservernoversion-md.md)] のさまざまな機能で使用するデータを格納するため、Microsoft [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] 内に最大 13 個のデータベースを個別に作成する必要があります。</span><span class="sxs-lookup"><span data-stu-id="5b549-103">A Microsoft [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] installation may require the creation of up to 13 separate databases in Microsoft [!INCLUDE[btsSQLServerNoVersion](../includes/btssqlservernoversion-md.md)] for use as data stores for various [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] features.</span></span> <span data-ttu-id="5b549-104">これらのデータベースを管理し保守するにはオーバーヘッドが必要になるため、[!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] では、これらのデータベースのいくつかを 1 つのデータベースに統合することができます。</span><span class="sxs-lookup"><span data-stu-id="5b549-104">Due to the overhead required to manage and maintain these databases, [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] accommodates the consolidation of several of these databases into a single database.</span></span> <span data-ttu-id="5b549-105">ここでは、[!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] データベースの統合を実現する方法と、[!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] データベースの統合を実現するための考慮事項について説明します。</span><span class="sxs-lookup"><span data-stu-id="5b549-105">This section describes how to accomplish [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] database consolidation and discusses considerations for implementing [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] database consolidation.</span></span>  

> [!NOTE]
>  <span data-ttu-id="5b549-106">[!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] のインストール時に必要なすべてのデータベースの完全なリストについては、「[BizTalk Server のデータベース](../core/databases-in-biztalk-server.md)」を参照してください。</span><span class="sxs-lookup"><span data-stu-id="5b549-106">For a complete list of all of the databases that are required when installing [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)], see [Databases in BizTalk Server](../core/databases-in-biztalk-server.md).</span></span>  

## <a name="implementing-biztalk-database-consolidation"></a><span data-ttu-id="5b549-107">BizTalk データベース統合の実施</span><span class="sxs-lookup"><span data-stu-id="5b549-107">Implementing BizTalk Database Consolidation</span></span>  
 [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)]<span data-ttu-id="5b549-108"> データベースの統合は、[!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] をインストールした後、[!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] の構成中に実行します。</span><span class="sxs-lookup"><span data-stu-id="5b549-108"> database consolidation is performed after installing [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)], during [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] configuration.</span></span> <span data-ttu-id="5b549-109">[!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] データベースを統合するには、以下の手順を実行します。</span><span class="sxs-lookup"><span data-stu-id="5b549-109">Follow these steps to implement [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] database consolidation:</span></span>  

1. <span data-ttu-id="5b549-110">**[スタート]** をクリックし、**[プログラム]** をポイントします。次に、[[!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)]] をポイントし、**[BizTalk Server 構成]** をクリックします。</span><span class="sxs-lookup"><span data-stu-id="5b549-110">Click **Start**, point to **Programs**, point to [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)], and then click **BizTalk Server Configuration**.</span></span> <span data-ttu-id="5b549-111">構成の種類を選択するよう求めるメッセージが表示されたら、**[ユーザー構成]** をクリックします。</span><span class="sxs-lookup"><span data-stu-id="5b549-111">If prompted to select a configuration type, click **Custom configuration**.</span></span>  

2. <span data-ttu-id="5b549-112">以下のデータ ストアの 1 つ以上に対し、同じ [!INCLUDE[btsSQLServerNoVersion](../includes/btssqlservernoversion-md.md)] の **[サーバー名]** と **[データベース名]** (たとえば、*BizTalkConsolidatedDb*) を入力します。</span><span class="sxs-lookup"><span data-stu-id="5b549-112">Enter the same [!INCLUDE[btsSQLServerNoVersion](../includes/btssqlservernoversion-md.md)]**Server Name** and **Database Name** (for example *BizTalkConsolidatedDb*) for one of more of the following data stores:</span></span>  

   |<span data-ttu-id="5b549-113">機能名</span><span class="sxs-lookup"><span data-stu-id="5b549-113">Feature Name</span></span>|<span data-ttu-id="5b549-114">データ ストア名</span><span class="sxs-lookup"><span data-stu-id="5b549-114">Data Store Name</span></span>|  
   |------------------|---------------------|  
   |<span data-ttu-id="5b549-115">エンタープライズ SSO</span><span class="sxs-lookup"><span data-stu-id="5b549-115">Enterprise SSO</span></span>|<span data-ttu-id="5b549-116">SSO データベース</span><span class="sxs-lookup"><span data-stu-id="5b549-116">SSO Database</span></span>|  
   |<span data-ttu-id="5b549-117">[グループ]</span><span class="sxs-lookup"><span data-stu-id="5b549-117">Group</span></span>|<span data-ttu-id="5b549-118">BizTalk 管理データベース</span><span class="sxs-lookup"><span data-stu-id="5b549-118">BizTalk Management Database</span></span>|  
   |<span data-ttu-id="5b549-119">[グループ]</span><span class="sxs-lookup"><span data-stu-id="5b549-119">Group</span></span>|<span data-ttu-id="5b549-120">BizTalk メッセージ ボックス データベース</span><span class="sxs-lookup"><span data-stu-id="5b549-120">BizTalk MessageBox Database</span></span>|  
   |<span data-ttu-id="5b549-121">[グループ]</span><span class="sxs-lookup"><span data-stu-id="5b549-121">Group</span></span>|<span data-ttu-id="5b549-122">BizTalk 追跡データベース</span><span class="sxs-lookup"><span data-stu-id="5b549-122">BizTalk Tracking Database</span></span>|  
   |<span data-ttu-id="5b549-123">ビジネス ルール エンジン</span><span class="sxs-lookup"><span data-stu-id="5b549-123">Business Rules Engine</span></span>|<span data-ttu-id="5b549-124">ルール エンジン データベース</span><span class="sxs-lookup"><span data-stu-id="5b549-124">Rule Engine Database</span></span>|  

    <span data-ttu-id="5b549-125">以下のデータ ストアは、[!INCLUDE[btsSQLServerNoVersion](../includes/btssqlservernoversion-md.md)] データベースを共有するように構成**しない**ようにしてください。</span><span class="sxs-lookup"><span data-stu-id="5b549-125">Note that the following data stores should **not** be configured to share a [!INCLUDE[btsSQLServerNoVersion](../includes/btssqlservernoversion-md.md)] database:</span></span>  


   | <span data-ttu-id="5b549-126">機能名</span><span class="sxs-lookup"><span data-stu-id="5b549-126">Feature Name</span></span> |       <span data-ttu-id="5b549-127">データ ストア名</span><span class="sxs-lookup"><span data-stu-id="5b549-127">Data Store Name</span></span>       |
   |--------------|-----------------------------|
   |  <span data-ttu-id="5b549-128">BAM ツール</span><span class="sxs-lookup"><span data-stu-id="5b549-128">BAM Tools</span></span>   | <span data-ttu-id="5b549-129">BAM プライマリ インポート データベース</span><span class="sxs-lookup"><span data-stu-id="5b549-129">BAM Primary Import Database</span></span> |
   |  <span data-ttu-id="5b549-130">BAM ツール</span><span class="sxs-lookup"><span data-stu-id="5b549-130">BAM Tools</span></span>   |    <span data-ttu-id="5b549-131">BAM アーカイブ データベース</span><span class="sxs-lookup"><span data-stu-id="5b549-131">BAM Archive Database</span></span>     |


3. <span data-ttu-id="5b549-132">残りの構成オプションを設定し、構成を適用します。</span><span class="sxs-lookup"><span data-stu-id="5b549-132">Set the remaining configuration options and apply the configuration.</span></span> <span data-ttu-id="5b549-133">構成ツールによって、共有 [!INCLUDE[btsSQLServerNoVersion](../includes/btssqlservernoversion-md.md)] データベース内に、同じ [!INCLUDE[btsSQLServerNoVersion](../includes/btssqlservernoversion-md.md)] の **[サーバー名]** と **[データベース名]** を指定したデータ ストア用のテーブルが作成されます。</span><span class="sxs-lookup"><span data-stu-id="5b549-133">The configuration tool will create tables in the shared [!INCLUDE[btsSQLServerNoVersion](../includes/btssqlservernoversion-md.md)] database for the data stores for which you specified the same [!INCLUDE[btsSQLServerNoVersion](../includes/btssqlservernoversion-md.md)]**Server Name** and **Database Name**.</span></span>  

## <a name="considerations-for-implementing-biztalk-database-consolidation"></a><span data-ttu-id="5b549-134">BizTalk データベースを統合する際の考慮事項</span><span class="sxs-lookup"><span data-stu-id="5b549-134">Considerations for Implementing BizTalk Database Consolidation</span></span>  
 <span data-ttu-id="5b549-135">BizTalk データベースを統合するときは、以下の点を考慮してください。</span><span class="sxs-lookup"><span data-stu-id="5b549-135">When consolidating a BizTalk Database, consider the following:</span></span>  

1. <span data-ttu-id="5b549-136">データベース統合により、[!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] データベースの管理と保守に関するオーバーヘッドが減少しますが、適切な環境でのみ実施してください。</span><span class="sxs-lookup"><span data-stu-id="5b549-136">Database consolidation reduces the overhead associated with managing and maintaining the [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] databases but should only be implemented in the appropriate environment.</span></span> <span data-ttu-id="5b549-137">実稼働環境で [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] データベースを統合する前に、[!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] の持続的なパフォーマンスに対する影響をステージング環境で計測することをお勧めします。</span><span class="sxs-lookup"><span data-stu-id="5b549-137">Before implementing [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] database consolidation in a production environment, the effect on [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] sustained performance should be measured in a staging environment.</span></span> <span data-ttu-id="5b549-138">[!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] データベース統合は、以下のシナリオでデータベースの管理と保守を単純化するために検討してください。</span><span class="sxs-lookup"><span data-stu-id="5b549-138">Consider implementing [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] database consolidation to simplify database administration and maintenance in the following scenarios:</span></span>  

   - <span data-ttu-id="5b549-139">小規模でデータ量の少ない [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] の実稼働環境で、データベースのパフォーマンスがパフォーマンス上のボトルネックになる可能性がきわめて低い場合。</span><span class="sxs-lookup"><span data-stu-id="5b549-139">Small scale, low volume [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] production environments where database performance is very unlikely to become a performance bottleneck.</span></span>  

   - <span data-ttu-id="5b549-140">中規模でデータ量が中程度の [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] 実稼働環境において、BizTalk 追跡データベースが統合に含まれない場合。BizTalk 追跡デーベースは、統合されたデータベースとは別の物理ディスク上に作成することが理想的です。</span><span class="sxs-lookup"><span data-stu-id="5b549-140">Medium scale, medium volume [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] production environments if the BizTalk tracking database is not included in the consolidation and, ideally, if the BizTalk tracking database is created on a separate physical disk from the consolidated database.</span></span>  

   - <span data-ttu-id="5b549-141">大規模でデータ量の多い [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] 実稼働環境において、共有された [!INCLUDE[btsSQLServerNoVersion](../includes/btssqlservernoversion-md.md)] データベースが、非常にパフォーマンスが高いストレージ エリア ネットワーク (SAN) デバイスに配置されており、データベースがパフォーマンス上のボトルネックになる可能性が非常に低い場合。</span><span class="sxs-lookup"><span data-stu-id="5b549-141">Large scale, high volume [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] production environments if the shared [!INCLUDE[btsSQLServerNoVersion](../includes/btssqlservernoversion-md.md)] database is physically located on a very high performance storage area network (SAN) device where the likelihood of the database becoming a performance bottleneck is very low.</span></span>  

   - <span data-ttu-id="5b549-142">概念実証環境または開発環境で、データベースのパフォーマンスがあまり重要でない場合。</span><span class="sxs-lookup"><span data-stu-id="5b549-142">Proof of concept or development environments where database performance is of secondary concern.</span></span>  

2. <span data-ttu-id="5b549-143">一般に、[!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] 全体のパフォーマンスは、[!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] データベースのパフォーマンスに依存します。</span><span class="sxs-lookup"><span data-stu-id="5b549-143">Overall [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] performance is usually dependent upon the performance of the [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] databases.</span></span> <span data-ttu-id="5b549-144">そのため、データが大量であるか、将来データが大量になることが予想される [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] の実稼働環境では、データベースを統合しないことをお勧めします。</span><span class="sxs-lookup"><span data-stu-id="5b549-144">Therefore database consolidation should not be implemented in any [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] production environment that is experiencing or will be experiencing high volume.</span></span> <span data-ttu-id="5b549-145">例外は、[!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] データベースが、非常にパフォーマンスが高いストレージ エリア ネットワーク (SAN) デバイス上に配置され、データベースがパフォーマンスのボトルネックになる可能性が非常に低い場合です。</span><span class="sxs-lookup"><span data-stu-id="5b549-145">One exception to this is if the [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] databases are located on a very high performance storage area network (SAN) device where the likelihood of the database becoming a performance bottleneck is very low.</span></span> <span data-ttu-id="5b549-146">データベース ディスクがストレージ エリア ネットワーク (SAN) に格納されていない場合に統合データベースの高いパフォーマンスを実現するには、分散データベースを使用します。分散データベースを使用した場合、優れたパフォーマンスは、負荷発生時に特に顕著になります。</span><span class="sxs-lookup"><span data-stu-id="5b549-146">If the database disks are not housed on a high performance SAN, distributed databases provide superior performance to consolidated databases, especially under load.</span></span>  

3. <span data-ttu-id="5b549-147">[!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] 管理データベースをデータベース統合に含め、統合データベースの名前が **BizTalkMgmtDb** でない場合は、その統合データベースを指すように BizTalk 管理コンソールを構成する必要があります。</span><span class="sxs-lookup"><span data-stu-id="5b549-147">If the [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] Management database is included in the database consolidation and the consolidation database is not named **BizTalkMgmtDb**, then the BizTalk Administration console must be configured to point to the consolidation database.</span></span> <span data-ttu-id="5b549-148">[!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] グループを管理するには、「[既存のグループに接続する方法](../core/how-to-connect-to-an-existing-group.md)」の手順に従い、[!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] 管理コンソールを構成して、統合データベースを指すようにしてください。</span><span class="sxs-lookup"><span data-stu-id="5b549-148">Follow the steps in [How to Connect to an Existing Group](../core/how-to-connect-to-an-existing-group.md) and configure the [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] Administration console to point to the consolidation database in order to manage the [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] group.</span></span>  

4. <span data-ttu-id="5b549-149">持続可能な [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] のパフォーマンスの詳細については、「[パフォーマンス維持の計画](../core/planning-for-sustained-performance.md)」を参照してください。</span><span class="sxs-lookup"><span data-stu-id="5b549-149">For more information about sustainable [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] performance, please refer to [Planning for Sustained Performance](../core/planning-for-sustained-performance.md).</span></span>  

   <span data-ttu-id="5b549-150">[!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] データベースの保守に関する活動の詳細については、「[BizTalk Server1 を維持します](../core/maintaining-biztalk-server1.md)」を参照してください。</span><span class="sxs-lookup"><span data-stu-id="5b549-150">For more information about activities related to maintaining the [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] databases, please refer to [Maintaining BizTalk Server1](../core/maintaining-biztalk-server1.md).</span></span>