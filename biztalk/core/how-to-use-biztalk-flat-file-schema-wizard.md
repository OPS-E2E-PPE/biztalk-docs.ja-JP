---
title: BizTalk フラット ファイル スキーマ ウィザードを使用する方法 |Microsoft ドキュメント
ms.custom: ''
ms.date: 06/08/2017
ms.prod: biztalk-server
ms.reviewer: ''
ms.suite: ''
ms.tgt_pltfrm: ''
ms.topic: article
ms.assetid: a7cb8b18-266d-422e-bdb8-1efefb6b4c8e
caps.latest.revision: 28
author: MandiOhlinger
ms.author: mandia
manager: anneta
ms.openlocfilehash: ff7d87959bd39b9040a495022c2b7bf352954848
ms.sourcegitcommit: cb908c540d8f1a692d01dc8f313e16cb4b4e696d
ms.translationtype: MT
ms.contentlocale: ja-JP
ms.lasthandoff: 09/20/2017
ms.locfileid: "22258298"
---
# <a name="how-to-use-biztalk-flat-file-schema-wizard"></a>BizTalk フラット ファイル スキーマ ウィザードの使用方法
BizTalk Server の以前のリリースでは、XSD (XML スキーマ定義) 言語のスキーマをフラット ファイル パイプライン コンポーネント (フラット ファイル アセンブラーやフラット ファイル逆アセンブラーなど) に認識させるには、BizTalk スキーマ エディターでスキーマに注釈を手動で追加する必要がありました。 同様の操作は、[!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] のスキーマ エディターでも行うことができますが、 ソリューションの作成で手動による操作と時間を減らすために、BizTalk フラット ファイル スキーマ ウィザードを使用することをお勧めします。このウィザードは、次の機能を備えています。  
  
-   実際のフラット ファイル インスタンスを入力として使用できる機能  
  
-   区切り文字および位置指定の形式のフラット ファイル スキーマを操作するための、視覚的なデザイン画面  
  
-   要素をスキーマに追加したり、フラット ファイル関連の注釈を定義するための、ウィザードによる対話形式の手順 (再入可能)  
  
-   タグ識別子、および文字による区切り記号と 16 進数による区切り記号のサポート  
  
-   タグ識別子のオフセットおよび子区切りの順序を自動的に決定  
  
-   ファイル形式のプレビュー機能  
  
-   ユーザーが選択したインターチェンジ インスタンス内の優先サブデータを、フラット ファイル スキーマの定義に使用可能  
  
## <a name="how-to-start-the-biztalk-flat-file-schema-wizard"></a>BizTalk フラット ファイル スキーマ ウィザードを開始する方法  
 Microsoft Visual Studio ソリューション エクスプローラーまたは BizTalk スキーマ エディターのどちらを使用しても、ウィザードを開始できます。  
  
#### <a name="to-start-the-wizard-from-solution-explorer"></a>ソリューション エクスプローラーからウィザードを起動するには  
  
1.  Microsoft では[!INCLUDE[btsVStudioNoVersion](../includes/btsvstudionoversion-md.md)]を開き、**ソリューション エクスプ ローラー**です。  
  
2.  新しいフラット ファイル スキーマを追加するには、BizTalk プロジェクトを右クリックして**追加**です。  
  
3.  をクリックして**新しい項目。**  
  
     ![ソリューション エクスプ ローラーのメニュー](../core/media/flatfileschemawizard-01.gif "FlatFileSchemaWizard_01")  
  
4.  **新しい項目の追加** ウィンドウで、次の操作します。  
  
    1.  **カテゴリ**セクションで、**スキーマ ファイル**です。  
  
    2.  **テンプレート**セクションで、**フラット ファイル スキーマ ウィザード**です。  
  
    3.  **名前**テキスト ボックスで、新しいスキーマの名前を入力します。  
  
    4.  **[追加]** をクリックします。  
  
         BizTalk フラット ファイル スキーマ ウィザードが開きます。  
  
#### <a name="to-start-the-wizard-from-the-schema-editor"></a>スキーマ エディターからウィザードを起動するには  
  
1.  [!INCLUDE[btsVStudioNoVersion](../includes/btsvstudionoversion-md.md)]を開き、**ソリューション エクスプ ローラー**です。  
  
2.  新しいフラット ファイル スキーマを追加するには、BizTalk プロジェクトを右クリックして**追加**です。 選択**新しい項目の** をクリック**新しい項目の**します。  
  
3.  **新しい項目の追加** ウィンドウで、次の操作します。  
  
    1.  **カテゴリ**セクションで、**スキーマ ファイル**です。  
  
    2.  **テンプレート**セクションで、**フラット ファイル スキーマ**です。  
  
    3.  **名前**テキスト ボックスで、新しいスキーマの名前を入力します。  
  
    4.  **[追加]** をクリックします。  
  
    5.  右クリック**ルート**選択**フラット ファイル インスタンスからレコードを定義**です。  
  
         BizTalk フラット ファイル スキーマ ウィザードが起動します。  
  
> [!NOTE]
>  スキーマ エディターで開かれるスキーマがある場合は場合、すべての必要な操作は、選択したノードを右クリックし、**フラット ファイル インスタンスからレコードを定義**です。  
  
> [!NOTE]
>  **フラット ファイル インスタンスからレコードを定義**選択したノードが子要素のないレコードの場合、オプションが有効にします。 選択したノードに子要素がある場合、ウィザードでは現在のすべての子要素が削除され、新しい子要素が生成されます。 ウィザードで既存の子要素が削除される前には確認のメッセージが表示されます。  
  
## <a name="considerations-for-using-the-flat-file-schema-wizard"></a>フラット ファイル スキーマ ウィザードを使用する上での注意点  
 ここでは、BizTalk フラット ファイル スキーマ ウィザードを使用する際に考慮する必要のある問題について説明します。  
  
### <a name="working-with-multibyte-character-set-mbcs"></a>マルチバイト文字セット (MBCS) を使用した作業  
 既定では、 **(バイト単位) の位置のカウント**フラット ファイル スキーマ情報 画面でチェック ボックスをオフします。 ウィザードでは、位置は文字数でカウントされます。したがって、位置指定フラット ファイル インスタンスに MBCS 文字がある場合、その位置は正しくカウントされません。 選択して、 **(バイト単位) の位置のカウント**チェック ボックス、ウィザードには、その位置指定の長さの値が追加では MBCS 文字が表示されます。 MBCS 文字は画面上で 1 つ分の位置となり、残りの長さはドット記号 "•" で表示されます。 表示されるドット記号の数は、保存されたファイル形式 (2 バイト文字セット (DBCS)、Unicode または UTF-8) によって決まります。  
  
### <a name="code-pages-supported-in-the-flat-file-schema-wizard"></a>フラット ファイル スキーマ ウィザードでサポートされるコード ページ  
 このウィザードでサポートされるコード ページの一覧を次に示します。  
  
-   アラビア語 (1256)  
  
-   ASCII (20127)  
  
-   バルト語 (1257)  
  
-   ビッグ エンディアン UTF16 (1201)  
  
-   中央ヨーロッパ言語 (1250)  
  
-   キリル語 (1251)  
  
-   ギリシャ語 (1253)  
  
-   ヘブライ語 (1255)  
  
-   日本語 Shift_JIS (932)  
  
-   韓国語 (949)  
  
-   リトル エンディアン UTF16 (1200)  
  
-   簡体字中国語 (936)  
  
-   簡体字中国語 GB18030 (54936)  
  
-   タイ語 (874)  
  
-   繁体字中国語 BIG5 (950)  
  
-   トルコ語 (1254)  
  
-   UTF-7 (65000)  
  
-   UTF-8 (65001)  
  
-   ベトナム語 (1258)  
  
-   西ヨーロッパ言語 (1252)  
  
### <a name="record-types-in-the-flat-file-schema-wizard"></a>フラット ファイル スキーマ ウィザードでのレコードの種類  
 フラット ファイルでは、位置指定レコード内に区切られたレコードを含めることはできません。 ウィザードは、ベース再入可能であるため、定義するオプション ボタンの種類、**区切り記号**と**相対位置**有効または無効に親レコードの形式に基づくウィザードで定義する子です。 例を次に示します。  
  
-   区切られたレコードの子に対してウィザードを実行している場合、両方のオプション ボタンが有効になります。  
  
-   位置指定レコードの子に対してウィザードを実行している場合、**区切り記号**オプション ボタンは無効です。  
  
### <a name="delimiter-symbols-in-the-flat-file-schema-wizard"></a>フラット ファイル スキーマ ウィザードでの区切り記号  
 "子区切り記号" プロパティのドロップダウン リストには、次の一般的な区切り記号が表示されます。  
  
-   {CR}{LF}  
  
-   {CR}  
  
-   {LF}  
  
-   {TAB}  
  
-   {SPACE}  
  
-   {0x1A}  
  
-   &#124;  
  
-   ,  
  
-   ;  
  
 このプロパティの既定値は {CR}{LF} です。 このプロパティは編集可能なテキスト ボックスでもあり、子区切り記号を文字列または文字の 16 進数値として指定できます。 子区切り記号に使用する文字列の例として、"a"、"street" などがあります。 16 進数の区切り記号は次の形式を使用して指定します。  
  
-   {0xnnnn} :  たとえば、{0x0D} {0x0A}、{0x09} または {0x20}。  
  
 連続した 16 進数値を使用する場合の例としては、{0x0D}{0x0A}、{0x09}{0x20} などがあります。  
  
 記号を使用する場合\\、{、または} の区切り記号として区切り記号の前に、追加の円記号を配置する必要があります、それ以外の場合、エラー メッセージが表示されます。 例を次に示します。  
  
-   \\\\、 \\{、または\\}。  
  
### <a name="relative-positions-in-the-flat-file-schema-wizard"></a>フラット ファイル スキーマ ウィザードでの相対位置  
  
#### <a name="setting-position-markers"></a>位置マーカーの設定  
 マウスの左ボタンを使用して、新しい位置マーカー線を設定する位置の選択 ボックスの位置マーカーをクリックします。 位置マーカーは実線で表されます。 既定では、位置マーカー線はレコードの先頭であるゼロ位置にあります。 既存の位置マーカー線を削除するのにには、それをクリックして、マウスの左ボタンを使用します。  
  
### <a name="escape-characters-in-the-flat-file-schema-wizard"></a>フラット ファイル スキーマ ウィザードでのエスケープ文字  
 エスケープ文字とは、特殊な意味を持つ文字の前に置くことによって、その意味を無効化させることのできる単一の文字のことです。 詳細については、次を参照してください。[エスケープ文字](../core/escape-characters.md)トピックの「[フィールド値の一部として特殊文字を解釈する方法は](../core/ways-to-interpret-special-characters-as-part-of-a-field-value.md)します。 ウィザードで "エスケープ文字" プロパティを使用すると、フラット ファイル インスタンスの解析時に使用するエスケープ文字を指定できます。 既定値は NULL です。つまり、スキーマ レベルで定義されてた既定のエスケープ文字が使用されます。  
  
 エスケープ文字には、文字値または 16 進数値を指定できます。 16 進数値として指定する場合は、次の形式を使用します。  
  
-   {0xnnnn} :  たとえば、{0x0D}{0x0A}、{0x09}、{0x20} のように指定します。  
  
 記号を使用する場合\\、{、または} エスケープ文字として区切り記号の前に、追加の円記号を配置する必要があります、それ以外の場合は表示されるエラー メッセージなど、  
  
-   \\\\, \\{, \\}.  
  
### <a name="child-elements-in-the-flat-file-schema-wizard"></a>フラット ファイル スキーマ ウィザードでの子要素  
 各子要素を含む**要素名**、**要素型**、**データ型**と**コンテンツ**です。 使用する、**要素名**ノードに対して、わかりやすい名前を入力するテキスト ボックス。 **要素型**次の値のドロップダウン リストです。  
  
-   **フィールド要素**: このノードは、その要素としてスキーマ内に作成されます。  
  
-   **フィールド属性**: このノードは、その属性としてスキーマ内に作成されます。  
  
-   **レコード**: スキーマの子を持たないレコードが作成されることを指定します。  
  
-   **繰り返しレコード**: スキーマの子を持たないレコードが作成されに、最大出現数が設定されていることを指定**Unbounded**です。  
  
-   **無視**: 何も行われませんが、このノードのスキーマで作成します。  
  
 既定では、すべての要素がの型は**フィールド要素**し、そのデータ型は**文字列**です。  
  
> [!NOTE]
>  子要素として宣言することができます、**フィールド属性**として宣言される前に子が存在しない場合にのみ**要素をフィールド**、**レコード**または**繰り返しレコード**です。  
  
> [!NOTE]
>  前に感嘆符が表示されます、**子ノード**次のインスタンスで。  
  
-   **フィールド属性**後に定義されて**フィールド要素**、**レコード、** または**繰り返しレコード**です。  
  
-   子要素に名前がない。  
  
-   子要素の名前が重複している。  
  
-   子要素に選択されているデータ型が、内容に対して適切ではない。  
  
## <a name="see-also"></a>参照  
 [BizTalk フラット ファイル スキーマ ウィザードのチュートリアル](../core/biztalk-flat-file-schema-wizard-walkthrough.md)