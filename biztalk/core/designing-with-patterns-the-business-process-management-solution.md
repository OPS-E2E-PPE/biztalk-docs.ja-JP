---
title: 'パターンと設計: ビジネス プロセス管理ソリューション |Microsoft Docs'
ms.custom: ''
ms.date: 06/08/2017
ms.prod: biztalk-server
ms.reviewer: ''
ms.suite: ''
ms.tgt_pltfrm: ''
ms.topic: article
helpviewer_keywords:
- patterns [process management solutions], examples
- patterns [process management solutions], designing
- examples, programming patterns
- designing, programming patterns
ms.assetid: 0583f4a4-01db-4d5b-a1f5-1694c1ddbd30
caps.latest.revision: 18
author: MandiOhlinger
ms.author: mandia
manager: anneta
ms.openlocfilehash: 4b3477ff868c6a5f07d6a600e35c1dea4b3d6cf9
ms.sourcegitcommit: d27732e569b0897361dfaebca8352aa97bb7efe1
ms.translationtype: MT
ms.contentlocale: ja-JP
ms.lasthandoff: 05/10/2019
ms.locfileid: "65530935"
---
# <a name="designing-with-patterns-the-business-process-management-solution"></a><span data-ttu-id="c6db0-102">パターンと設計: ビジネス プロセス管理ソリューション</span><span class="sxs-lookup"><span data-stu-id="c6db0-102">Designing with Patterns: the Business Process Management Solution</span></span>
<span data-ttu-id="c6db0-103">ビジネス プロセス管理ソリューションは、BizTalk アプリケーションでプロセス マネージャを構築する方法を示しています。</span><span class="sxs-lookup"><span data-stu-id="c6db0-103">The business process management solution shows one way to construct a process manager in a BizTalk application.</span></span> <span data-ttu-id="c6db0-104">ソリューションを選択し、注文処理ステージの順序を制御するコンポーネントを使用します。</span><span class="sxs-lookup"><span data-stu-id="c6db0-104">The solution uses a component to select and control the sequence of stages in order processing.</span></span> <span data-ttu-id="c6db0-105">ソリューションが注文を取得: 新しいサービス、変更、またはサービスのキャンセルになる可能性があるなど、ログに記録し、処理のため渡す前に、順序を確認します。</span><span class="sxs-lookup"><span data-stu-id="c6db0-105">The solution takes an order—which may be for new service, a change, or cancellation of service—logs it, and acknowledges the order before passing it on for processing.</span></span> <span data-ttu-id="c6db0-106">処理は、注文を処理する 1 つまたは複数のステージで構成されます。</span><span class="sxs-lookup"><span data-stu-id="c6db0-106">The processing consists of one or more stages that handle the order.</span></span> <span data-ttu-id="c6db0-107">最後に、ソリューションは、元の注文要求に最後の応答を返します。</span><span class="sxs-lookup"><span data-stu-id="c6db0-107">Finally, the solution returns a final response to the original order request.</span></span>  
  
 <span data-ttu-id="c6db0-108">適切に設計されたプロセス管理ソリューションでは、アプリケーションの残りの部分を再構築することがなく、プロセスからステージを増減することができます。</span><span class="sxs-lookup"><span data-stu-id="c6db0-108">A well-designed process management solution enables you to add or subtract stages from the process without having to reconstruct the rest of the application.</span></span> <span data-ttu-id="c6db0-109">このソリューションで使用される手法ではまさに、します。</span><span class="sxs-lookup"><span data-stu-id="c6db0-109">The approach taken in this solution allows for exactly that.</span></span> <span data-ttu-id="c6db0-110">注文処理は、離散、独立したステージに分割されます。</span><span class="sxs-lookup"><span data-stu-id="c6db0-110">The order process is broken into discrete, independent stages.</span></span> <span data-ttu-id="c6db0-111">すべてのステージでは、同じポートから読み取られ、フィルターを使用するメッセージが処理するかを判断します。</span><span class="sxs-lookup"><span data-stu-id="c6db0-111">All stages read from the same port and use a filter to determine which messages are theirs to process.</span></span> <span data-ttu-id="c6db0-112">これについては詳しく説明では、次のセクションでは、「パターンです」。</span><span class="sxs-lookup"><span data-stu-id="c6db0-112">This is explained further in the following section, "Patterns."</span></span>  
  
 <span data-ttu-id="c6db0-113">このソリューションでは、このソリューションで、FTP 接続サービス以外のインターフェイスを使用することもできますが、Web サービスを通じての入力も受け付けます。</span><span class="sxs-lookup"><span data-stu-id="c6db0-113">This solution also accepts input through a Web service, although you can also use a non-service interface with this solution through an FTP connection.</span></span> <span data-ttu-id="c6db0-114">この機能は、バッチ システムでアプリケーションを使用する方法をシミュレートします。</span><span class="sxs-lookup"><span data-stu-id="c6db0-114">This facility simulates how the application might be used in a batch system.</span></span>  
  
## <a name="patterns"></a><span data-ttu-id="c6db0-115">パターン</span><span class="sxs-lookup"><span data-stu-id="c6db0-115">Patterns</span></span>  
 <span data-ttu-id="c6db0-116">次の図は、前のセクションで説明したビジネス プロセス管理ソリューションでパターンの簡略化されたバージョンを示します。</span><span class="sxs-lookup"><span data-stu-id="c6db0-116">The following diagram shows a simplified version of the patterns in the business process management solution as described in the preceding section.</span></span>  
  
 <span data-ttu-id="c6db0-117">![ビジネス プロセス管理ソリューション パターン](../core/media/bts-cp-business-process-management-patterns.gif "bts_cp_Business_Process_Management_Patterns")</span><span class="sxs-lookup"><span data-stu-id="c6db0-117">![Business Process Management Solution Patterns](../core/media/bts-cp-business-process-management-patterns.gif "bts_cp_Business_Process_Management_Patterns")</span></span>  
  
 <span data-ttu-id="c6db0-118">ソリューションは、次の部分で構成されます: サービス インターフェイス、FTP チャネル、さまざまなトランスレータ、プロセス マネージャ、および 2 つの処理ステージ。</span><span class="sxs-lookup"><span data-stu-id="c6db0-118">The solution consists of the following parts: the service interface, the FTP channel, various translators, the process manager, and the two processing stages.</span></span> <span data-ttu-id="c6db0-119">処理前のセクションでは、4 つのトランスレータは、サービス インターフェイスに戻るには、履歴または追跡データベースにエントリを生成し、サービス システムにエントリを作成する受信確認メッセージを作成します。</span><span class="sxs-lookup"><span data-stu-id="c6db0-119">The four translators in the preprocessing section create an acknowledgement message that goes back to the service interface, generate an entry in a history or tracking database, and make an entry in the service system.</span></span> <span data-ttu-id="c6db0-120">4 番目のトランスレーターは、プロセス マネージャーによって必要とするメッセージを作成します。</span><span class="sxs-lookup"><span data-stu-id="c6db0-120">The fourth translator creates the message needed by the process manager.</span></span> <span data-ttu-id="c6db0-121">さらに、プロセス マネージャーは、処理ステージを制御します。</span><span class="sxs-lookup"><span data-stu-id="c6db0-121">The process manager in turn controls the processing stages.</span></span>  
  
 <span data-ttu-id="c6db0-122">多くのプロセス マネージャーの実装では、マネージャーは、処理状態を追跡します。</span><span class="sxs-lookup"><span data-stu-id="c6db0-122">In many process manager implementations, the manager tracks the processing state.</span></span> <span data-ttu-id="c6db0-123">この実装では、図が示すようにこれを変更します。</span><span class="sxs-lookup"><span data-stu-id="c6db0-123">This implementation, as the diagram shows, modifies this.</span></span> <span data-ttu-id="c6db0-124">このソリューションでは、プロセス マネージャーは、メッセージを次に処理する処理ステージを示すメッセージのフラグを設定します。</span><span class="sxs-lookup"><span data-stu-id="c6db0-124">In this solution, the process manager sets a flag in the message to indicate the processing stage that should next handle the message.</span></span> <span data-ttu-id="c6db0-125">各ステージは、このフィルターを使用して、特定のメッセージを処理する必要があるかどうかを決定します。</span><span class="sxs-lookup"><span data-stu-id="c6db0-125">Each stage then uses a filter to determine whether it should handle a particular message.</span></span>  
  
 <span data-ttu-id="c6db0-126">このアプローチを使用して、ルーティング情報を維持するために、プロセス マネージャがありません。</span><span class="sxs-lookup"><span data-stu-id="c6db0-126">Using this approach, the process manager does not have to maintain any routing information.</span></span> <span data-ttu-id="c6db0-127">マネージャとさまざまなステージ間のすべてのメッセージは、同じポートを使用します。</span><span class="sxs-lookup"><span data-stu-id="c6db0-127">All messages between the manager and the various stages use the same ports.</span></span> <span data-ttu-id="c6db0-128">ステージを追加するには、のみを送信し、適切なポートと正しいステージ番号のフィルターが受信するコンポーネントを追加する必要があります。</span><span class="sxs-lookup"><span data-stu-id="c6db0-128">To add a stage, you only have to add a component that sends and receives on the proper ports and filters for the correct stage number.</span></span> <span data-ttu-id="c6db0-129">プロセス マネージャー自体で何も変更する必要はありません。</span><span class="sxs-lookup"><span data-stu-id="c6db0-129">You don't need to change anything in the process manager itself.</span></span>  
  
 <span data-ttu-id="c6db0-130">図から多くを省略することに注意してください。</span><span class="sxs-lookup"><span data-stu-id="c6db0-130">Note that a lot is left out of the diagram.</span></span> <span data-ttu-id="c6db0-131">処理ステージ月- し、操作を実際には、-バックエンド プロセスと通信します。</span><span class="sxs-lookup"><span data-stu-id="c6db0-131">The processing stages may—and, in fact, do—communicate with backend processes.</span></span> <span data-ttu-id="c6db0-132">ソリューションでは、プロセスの 1 つ以上の時点で履歴情報も収集できます。</span><span class="sxs-lookup"><span data-stu-id="c6db0-132">The solution could also collect historical information at more than one point in the process.</span></span> <span data-ttu-id="c6db0-133">おそらく、最も重要な点は、プロセス マネージャのロジックが指定されていません。</span><span class="sxs-lookup"><span data-stu-id="c6db0-133">Perhaps, most significantly, the logic of the process manager isn't specified.</span></span> <span data-ttu-id="c6db0-134">さらに、同期または非同期接続の使用が指定されていません。</span><span class="sxs-lookup"><span data-stu-id="c6db0-134">In addition, the use of synchronous or asynchronous connections is not specified.</span></span> <span data-ttu-id="c6db0-135">これらは、次のセクションで検討されます。</span><span class="sxs-lookup"><span data-stu-id="c6db0-135">These will be considered in following sections.</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="c6db0-136">参照</span><span class="sxs-lookup"><span data-stu-id="c6db0-136">See Also</span></span>  
 <span data-ttu-id="c6db0-137">[ビジネス プロセス管理ソリューションのパターン](../core/patterns-in-the-business-process-management-solution.md) </span><span class="sxs-lookup"><span data-stu-id="c6db0-137">[Patterns in the Business Process Management Solution](../core/patterns-in-the-business-process-management-solution.md) </span></span>  
 [<span data-ttu-id="c6db0-138">ビジネス プロセス管理ソリューションのパターンの変換</span><span class="sxs-lookup"><span data-stu-id="c6db0-138">Translating the Patterns of the Business Process Management Solution</span></span>](../core/translating-the-patterns-of-the-business-process-management-solution.md)