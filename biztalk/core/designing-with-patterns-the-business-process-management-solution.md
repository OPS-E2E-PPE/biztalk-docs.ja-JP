---
title: "パターンを使用したデザイン: ビジネス プロセス管理ソリューション |Microsoft ドキュメント"
ms.custom: 
ms.date: 06/08/2017
ms.prod: biztalk-server
ms.reviewer: 
ms.suite: 
ms.tgt_pltfrm: 
ms.topic: article
helpviewer_keywords:
- patterns [process management solutions], examples
- patterns [process management solutions], designing
- examples, programming patterns
- designing, programming patterns
ms.assetid: 0583f4a4-01db-4d5b-a1f5-1694c1ddbd30
caps.latest.revision: "18"
author: MandiOhlinger
ms.author: mandia
manager: anneta
ms.openlocfilehash: 91da8c63fc46ee90696e257bfd6142b5088af305
ms.sourcegitcommit: cb908c540d8f1a692d01dc8f313e16cb4b4e696d
ms.translationtype: MT
ms.contentlocale: ja-JP
ms.lasthandoff: 09/20/2017
---
# <a name="designing-with-patterns-the-business-process-management-solution"></a><span data-ttu-id="83f26-102">パターンを使用したデザイン: ビジネス プロセス管理ソリューション</span><span class="sxs-lookup"><span data-stu-id="83f26-102">Designing with Patterns: the Business Process Management Solution</span></span>
<span data-ttu-id="83f26-103">ビジネス プロセス管理ソリューションは、BizTalk アプリケーションでプロセス マネージャを構築する方法の 1 つです。</span><span class="sxs-lookup"><span data-stu-id="83f26-103">The business process management solution shows one way to construct a process manager in a BizTalk application.</span></span> <span data-ttu-id="83f26-104">このソリューションでは、1 つのコンポーネントを使用して、注文処理に含まれる一連のステージを選択および制御します。</span><span class="sxs-lookup"><span data-stu-id="83f26-104">The solution uses a component to select and control the sequence of stages in order processing.</span></span> <span data-ttu-id="83f26-105">ソリューションが注文を取得: 新しいサービス、変更、またはサービスの取り消しがあります:、ログに記録し、処理のため渡す前に、順序を確認します。</span><span class="sxs-lookup"><span data-stu-id="83f26-105">The solution takes an order—which may be for new service, a change, or cancellation of service—logs it, and acknowledges the order before passing it on for processing.</span></span> <span data-ttu-id="83f26-106">注文処理は、注文を扱う 1 つ以上のステージで構成されます。</span><span class="sxs-lookup"><span data-stu-id="83f26-106">The processing consists of one or more stages that handle the order.</span></span> <span data-ttu-id="83f26-107">処理が終わったら、元の注文要求に最後の応答を返します。</span><span class="sxs-lookup"><span data-stu-id="83f26-107">Finally, the solution returns a final response to the original order request.</span></span>  
  
 <span data-ttu-id="83f26-108">適切に設計されたプロセス管理ソリューションを使用すると、残りのアプリケーションを再構築することなく、プロセスに対するステージの追加や削除を行うことができます。</span><span class="sxs-lookup"><span data-stu-id="83f26-108">A well-designed process management solution enables you to add or subtract stages from the process without having to reconstruct the rest of the application.</span></span> <span data-ttu-id="83f26-109">このソリューションでは、このアプローチを考慮しています。</span><span class="sxs-lookup"><span data-stu-id="83f26-109">The approach taken in this solution allows for exactly that.</span></span> <span data-ttu-id="83f26-110">発注プロセスは、分離した個別のステージに分割されます。</span><span class="sxs-lookup"><span data-stu-id="83f26-110">The order process is broken into discrete, independent stages.</span></span> <span data-ttu-id="83f26-111">すべてのステージは、同じポートから読み込み、フィルタを使用して処理するメッセージを決定します。</span><span class="sxs-lookup"><span data-stu-id="83f26-111">All stages read from the same port and use a filter to determine which messages are theirs to process.</span></span> <span data-ttu-id="83f26-112">この詳細は、次のセクション「パターン」に記載されています。</span><span class="sxs-lookup"><span data-stu-id="83f26-112">This is explained further in the following section, "Patterns."</span></span>  
  
 <span data-ttu-id="83f26-113">このソリューションは、Web サービスを通じた入力も受け付けます。ただし、FTP 接続を使用して、サービス以外のインターフェイスもこのソリューションで使用できます。</span><span class="sxs-lookup"><span data-stu-id="83f26-113">This solution also accepts input through a Web service, although you can also use a non-service interface with this solution through an FTP connection.</span></span> <span data-ttu-id="83f26-114">この機能は、バッチ システムでアプリケーションを使用する方法をシミュレートします。</span><span class="sxs-lookup"><span data-stu-id="83f26-114">This facility simulates how the application might be used in a batch system.</span></span>  
  
## <a name="patterns"></a><span data-ttu-id="83f26-115">パターン</span><span class="sxs-lookup"><span data-stu-id="83f26-115">Patterns</span></span>  
 <span data-ttu-id="83f26-116">次の図は、前のセクションで説明したビジネス プロセス管理ソリューションのパターンを簡略化して示しています。</span><span class="sxs-lookup"><span data-stu-id="83f26-116">The following diagram shows a simplified version of the patterns in the business process management solution as described in the preceding section.</span></span>  
  
 <span data-ttu-id="83f26-117">![ビジネス プロセス管理ソリューション パターン](../core/media/bts-cp-business-process-management-patterns.gif "bts_cp_Business_Process_Management_Patterns")</span><span class="sxs-lookup"><span data-stu-id="83f26-117">![Business Process Management Solution Patterns](../core/media/bts-cp-business-process-management-patterns.gif "bts_cp_Business_Process_Management_Patterns")</span></span>  
  
 <span data-ttu-id="83f26-118">このソリューションは、サービス インターフェイス、FTP チャネル、さまざまなトランスレータ、プロセス マネージャ、および 2 つの処理ステージで構成されます。</span><span class="sxs-lookup"><span data-stu-id="83f26-118">The solution consists of the following parts: the service interface, the FTP channel, various translators, the process manager, and the two processing stages.</span></span> <span data-ttu-id="83f26-119">処理前のセクションにおける 4 つのトランスレータは、サービス インターフェイスに戻る受信確認メッセージを作成し、履歴データベースまたは追跡データベースのエントリを生成し、サービス システムのエントリを作成します。</span><span class="sxs-lookup"><span data-stu-id="83f26-119">The four translators in the preprocessing section create an acknowledgement message that goes back to the service interface, generate an entry in a history or tracking database, and make an entry in the service system.</span></span> <span data-ttu-id="83f26-120">4 つ目のトランスレータは、プロセス マネージャが必要とするメッセージを作成します。</span><span class="sxs-lookup"><span data-stu-id="83f26-120">The fourth translator creates the message needed by the process manager.</span></span> <span data-ttu-id="83f26-121">次に、プロセス マネージャは、処理ステージを制御します。</span><span class="sxs-lookup"><span data-stu-id="83f26-121">The process manager in turn controls the processing stages.</span></span>  
  
 <span data-ttu-id="83f26-122">プロセス マネージャの多くの実装で、マネージャは、処理状態を追跡します。</span><span class="sxs-lookup"><span data-stu-id="83f26-122">In many process manager implementations, the manager tracks the processing state.</span></span> <span data-ttu-id="83f26-123">図で示されているように、この実装は、これを変更します。</span><span class="sxs-lookup"><span data-stu-id="83f26-123">This implementation, as the diagram shows, modifies this.</span></span> <span data-ttu-id="83f26-124">このソリューションを使用すると、プロセス マネージャは、メッセージにフラグを設定して、メッセージを次に処理する処理ステージを指定します。</span><span class="sxs-lookup"><span data-stu-id="83f26-124">In this solution, the process manager sets a flag in the message to indicate the processing stage that should next handle the message.</span></span> <span data-ttu-id="83f26-125">次に、各ステージは、フィルタを使用して、特定のメッセージを処理するかどうかを決めます。</span><span class="sxs-lookup"><span data-stu-id="83f26-125">Each stage then uses a filter to determine whether it should handle a particular message.</span></span>  
  
 <span data-ttu-id="83f26-126">この手法では、プロセス マネージャがルーティング情報を保存する必要がありません。</span><span class="sxs-lookup"><span data-stu-id="83f26-126">Using this approach, the process manager does not have to maintain any routing information.</span></span> <span data-ttu-id="83f26-127">マネージャとさまざまなステージ間のすべてのメッセージは、同じポートを使用します。</span><span class="sxs-lookup"><span data-stu-id="83f26-127">All messages between the manager and the various stages use the same ports.</span></span> <span data-ttu-id="83f26-128">ステージを追加する場合、適切なポートでの送受信と正しいステージ番号のフィルタ処理を行うコンポーネントを追加するだけです。</span><span class="sxs-lookup"><span data-stu-id="83f26-128">To add a stage, you only have to add a component that sends and receives on the proper ports and filters for the correct stage number.</span></span> <span data-ttu-id="83f26-129">プロセス マネージャの設定を変更する必要はありません。</span><span class="sxs-lookup"><span data-stu-id="83f26-129">You don't need to change anything in the process manager itself.</span></span>  
  
 <span data-ttu-id="83f26-130">多くのことが図から省略されていることに注意してください。</span><span class="sxs-lookup"><span data-stu-id="83f26-130">Note that a lot is left out of the diagram.</span></span> <span data-ttu-id="83f26-131">処理ステージが — し、実際には、操作を行います: バックエンド プロセスと通信します。</span><span class="sxs-lookup"><span data-stu-id="83f26-131">The processing stages may—and, in fact, do—communicate with backend processes.</span></span> <span data-ttu-id="83f26-132">このソリューションは、プロセスの複数の場所で履歴情報も収集できます。</span><span class="sxs-lookup"><span data-stu-id="83f26-132">The solution could also collect historical information at more than one point in the process.</span></span> <span data-ttu-id="83f26-133">最も重要な点として、プロセス マネージャのロジックが示されていません。</span><span class="sxs-lookup"><span data-stu-id="83f26-133">Perhaps, most significantly, the logic of the process manager isn't specified.</span></span> <span data-ttu-id="83f26-134">また、同期接続および非同期接続の使用状況も示されていません。</span><span class="sxs-lookup"><span data-stu-id="83f26-134">In addition, the use of synchronous or asynchronous connections is not specified.</span></span> <span data-ttu-id="83f26-135">これらは、次のセクションで扱います。</span><span class="sxs-lookup"><span data-stu-id="83f26-135">These will be considered in following sections.</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="83f26-136">参照</span><span class="sxs-lookup"><span data-stu-id="83f26-136">See Also</span></span>  
 <span data-ttu-id="83f26-137">[ビジネス プロセス管理ソリューションのパターン](../core/patterns-in-the-business-process-management-solution.md) </span><span class="sxs-lookup"><span data-stu-id="83f26-137">[Patterns in the Business Process Management Solution](../core/patterns-in-the-business-process-management-solution.md) </span></span>  
 [<span data-ttu-id="83f26-138">ビジネス プロセス管理ソリューションのパターンの変換</span><span class="sxs-lookup"><span data-stu-id="83f26-138">Translating the Patterns of the Business Process Management Solution</span></span>](../core/translating-the-patterns-of-the-business-process-management-solution.md)