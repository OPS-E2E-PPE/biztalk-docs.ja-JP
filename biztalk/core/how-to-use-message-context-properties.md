---
title: メッセージ コンテキスト プロパティを使用する方法 |Microsoft Docs
ms.custom: ''
ms.date: 06/08/2017
ms.prod: biztalk-server
ms.reviewer: ''
ms.suite: ''
ms.tgt_pltfrm: ''
ms.topic: article
helpviewer_keywords:
- orchestrations, building
- building, insufficient configuration
ms.assetid: 6ca95017-74e0-42d7-befa-93e0c1e1ecd1
caps.latest.revision: 16
author: MandiOhlinger
ms.author: mandia
manager: anneta
ms.openlocfilehash: 49787a244abd24738e589f444a0d3cb047c2dc47
ms.sourcegitcommit: 381e83d43796a345488d54b3f7413e11d56ad7be
ms.translationtype: MT
ms.contentlocale: ja-JP
ms.lasthandoff: 05/07/2019
ms.locfileid: "65383331"
---
# <a name="how-to-use-message-context-properties"></a>メッセージ コンテキスト プロパティを使用する方法
システムのプロパティは、BizTalk メッセージング エンジンとそのコンポーネントによって内部的に使用ほとんどの場合は。 一般に、これらのプロパティのエンジンによって設定された値を変更するは推奨されません、エンジンの実行ロジックに影響を与えるためです。 ただし、多くの変更可能なプロパティがあります。  
  
 次の表には、メッセージング エンジンによって昇格可能なメッセージ コンテキスト プロパティの一覧が含まれています。 これらのプロパティを使用して、Microsoft で送信ポートやオーケストレーションのフィルター式の作成の[!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)]します。 例を次に示します。  
  
```  
PortName = MyMessage(BTS.ReceivePortName);  
MyFileName = MyMessage(BTS.ReceivedFileName);  
MySubject= MyMessage(POP3.Subject);  
```  
  
 別のテーブルには、昇格できない一部の BizTalk アプリケーションでの使用可能性のある追加のプロパティが一覧表示します。  
  
|プロパティ|昇格するタイミングと場所|型|説明|  
|--------------|-----------------------------------|----------|-----------------|  
|BTS します。AckFailureCategory|メッセージ ボックス データベースに受信確認メッセージを発行する前に、メッセージング エンジンによって昇格されます。|xs:int|識別、 **ErrorCategory**場所と、中断の理由を提供します。|  
|BTS.AckFailureCode|メッセージ ボックス データベースに受信確認メッセージを発行する前に、メッセージング エンジンによって昇格されます。|xs:string|識別、 **ErrorCode**場所と、中断の理由を提供します。|  
|BTS します。AckID|メッセージ ボックス データベースに受信確認メッセージを発行する前に、メッセージング エンジンによって昇格されます。|xs:string|識別、 **MessageID**元のメッセージ。|  
|BTS します。AckInboundTransportLocation|メッセージ ボックス データベースに受信確認メッセージを発行する前に、メッセージング エンジンによって昇格されます。|xs:string|識別、 **InboundTransportLocation**元のメッセージ。|  
|BTS します。AckOutboundTransportLocation|メッセージ ボックス データベースに受信確認メッセージを発行する前に、メッセージング エンジンによって昇格されます。|xs:string|識別、 **OutboundTransportLocation**元のメッセージ。|  
|BTS.AckOwnerID|メッセージ ボックス データベースに受信確認メッセージを発行する前に、メッセージング エンジンによって昇格されます。|xs:string|元のメッセージからインスタンス ID を識別します。|  
|BTS します。AckReceivePortID|メッセージ ボックス データベースに受信確認メッセージを発行する前に、メッセージング エンジンによって昇格されます。|xs:string|識別、 **ReceivePortID**元のメッセージ。|  
|BTS.AckReceivePortName|受信確認メッセージのメッセージング エンジンによって昇格されます。|xs:string|識別、 **ReceivePortName**元のメッセージ。|  
|BTS.AckSendPortID|メッセージ ボックス データベースに受信確認メッセージを発行する前に、メッセージング エンジンによって昇格されます。|xs:string|識別、 **SendPortID**元のメッセージ。|  
|BTS.AckSendPortName|メッセージ ボックス データベースに受信確認メッセージを発行する前に、メッセージング エンジンによって昇格されます。|xs:string|識別、 **SendPortName**元のメッセージ。|  
|BTS.AckType|メッセージ ボックス データベースに受信確認メッセージを発行する前に、メッセージング エンジンによって昇格されます。|xs:string|オーケストレーションで受信確認と未受信を監視できます。 値は、否定受信確認応答の受信確認と NACK の ACK になります。|  
|BTS.ActionOnFailure|このプロパティは、BizTalk にメッセージを送信する:submitmessage() API を呼び出す前に、アダプターによって設定できます。|xs:int|受信パイプラインでエラーがあるときは、メッセージング エンジンの動作を制御します。 通常、メッセージング エンジンは失敗したメッセージを中断します。ただし、(HTTP) などの特定のアダプターは、エラーに報告、受信パイプラインが失敗にメッセージを保留するのではなくクライアント。<br /><br /> 有効な値:<br /><br /> -既定値です。 プロパティが存在しない場合、メッセージング エンジンは自動的にメッセージの中断をしてください。<br />-   0. メッセージング エンジンによって、エンジンを自動的に中断しないようにすることを示します。<br /><br /> その他の値は、将来使用するために予約されています。|  
|BTS.CorrelationToken|このプロパティが、メッセージ コンテキストに設定されている場合は、メッセージング エンジンによって昇格されます。 要求-応答アダプターまたはオーケストレーションがメッセージ ボックス データベースに要求メッセージを送信するとき、このプロパティはコンテキストに暗黙的に設定します。|xs:string|要求-応答ポートへの応答のルーティングを有効にします。|  
|BTS します。EpmRRCorrelationToken|要求-応答メッセージの実行時にメッセージング エンジンによって昇格されます。 メッセージがメッセージ ボックス データベースに送信される前に、プロパティは昇格されます。|xs:int|メッセージング エンジンによって内部的に使用します。 サーバー名、プロセス ID、およびメッセージの応答ストリームを要求の一意の GUID を指定します。|  
|BTS.InboundTransportLocation|メッセージ ボックス データベースに公開する前に、受信アダプターからメッセージを受け取った後、メッセージング エンジンによって昇格されます。|xs:string|メッセージをハンドラーで受信した場所 (URI) を指定します。|  
|BTS します。InboundTransportType|メッセージ ボックス データベースに公開する前に、受信アダプターからメッセージを受け取った後、メッセージング エンジンによって昇格されます。|xs:string|このメッセージを受信し、サーバーに送信すると、アダプターの種類を指定します。ファイル、HTTP など。|  
|BTS します。InterchangeSequenceNumber|メッセージ ボックス データベースに公開する前に、受信アダプターからメッセージを受け取った後にメッセージング エンジンによって昇格されます。|xs:int|インターチェンジのドキュメントのシーケンス番号を示します。 ドキュメントが個別のドキュメントに逆アセンブルされるインターチェンジの一部でない場合、この値は 1 になります。 プロパティは、オーケストレーション、送信パイプラインで読み取ることができ、アダプターを送信します。|  
|BTS します。IsDynamicSend|このプロパティは、メッセージ コンテキストに設定できます。 これは昇格されません、および送信操作にのみ適用されます。|xs:boolean|動的送信ポートでの送信操作が true の値は、メッセージング エンジンによってメッセージ コンテキストに書き込ま、れます。 送信パイプライン内でのプロパティを静的な送信ポートを動的に設定したい場合は、この値を true に設定する必要があります。|  
|BTS します。MessageDestination|GetNext() からメッセージが返されるときに、このプロパティを受信パイプラインの逆アセンブラー パイプライン コンポーネントによって設定できます。|xs:string|主に処理をサポートする回復可能なインターチェンジ逆アセンブラー、このプロパティのコントロールでメッセージがメッセージ ボックスにパブリッシュされているかが保留キューに中断されているかどうかを使用します。 パイプラインはインターチェンジに無効なメッセージが発生し、メッセージを中断および処理を続行するとき場合、そのようにするには、MessageDestination = SuspendQueue をエンジンが逆アセンブラーで GetNext() を呼び出したときに、メッセージが返されます。<br /><br /> 有効な値:<br /><br /> -既定値です。 プロパティが存在しない場合、メッセージは有効と見なさし、メッセージ ボックスに公開します。<br />-   SuspendQueue. メッセージの中断をメッセージング エンジンに指示します。 **注:** 保留メッセージは、パイプライン/マッピング メッセージと、アダプター (ワイヤ メッセージなど) によって送信されたメッセージではなくなります。|  
|BTS.MessageType|メッセージ解析中に、逆アセンブラー パイプライン コンポーネントによって昇格されます。|xs:string|メッセージの種類を指定します。 メッセージの種類がドキュメント スキーマの名前空間とドキュメントのルート ノードの組み合わせとして定義されている: です http://<*MyNamespace*>#<*MyRoot*> 。|  
|BTS.OutboundTransportLocation|このプロパティが、メッセージ コンテキストに設定されている場合は、メッセージング エンジンによって昇格されます。 オーケストレーション、送信ポートにメッセージを送信するときに、このプロパティはメッセージ コンテキストに暗黙的に設定します。 このプロパティも設定できます明示的にオーケストレーションまたはパイプライン。|xs:string|メッセージが送信された送信先 URI を指定します。 URI など含めることはアダプター プレフィックス **http://** です。 アダプター プレフィックスは、メッセージング エンジンで、メッセージを送信するときに使用するアダプターの種類を決定するのに使用されます。 場合は、両方のアダプター プレフィックスと**BTS します。OutboundTransportType**プロパティが設定、アダプターの種類から**BTS します。OutboundTransportType**常に、プレフィックス、アダプターの種類よりも優先されます。<br /><br /> 有効な値:<br /><br /> BizTalk メッセージ キュー:**DIRECT =**、**プライベート =**、および**パブリック =**<br /><br /> FILE: **file://**<br /><br /> FTP:**FTP://**<br /><br /> HTTP: **http://** と**https://**<br /><br /> SMTP: **mailto:**<br /><br /> SOAP:**SOAP://**<br /><br /> SQL:**SQL://**|  
|BTS します。OutboundTransportType|このプロパティが、メッセージ コンテキストに設定されている場合は、メッセージング エンジンによって昇格されます。 オーケストレーション、送信ポートにメッセージを送信するときに、このプロパティはコンテキストで暗黙的に設定します。 このプロパティも設定できます明示的にオーケストレーションまたはパイプライン。|xs:string|メッセージを送信するために使用するアダプターの種類を指定します。 使用可能なアダプターの種類は**ファイル**、 **FTP**、 **HTTP**、 **SMTP**、 **SOAP**、および**SQL**します。<br /><br /> このプロパティに設定されている値と、アドレス指定されるアダプター プレフィックスは区別されません。|  
|BTS.PropertiesToUpdate|アダプターのセットがこのプロパティを保持する必要があるときに、失敗したプロパティ値の一部メッセージを再送信または中断します。<br /><br /> つまり、メッセージが再送信または再開、ときに、必要がある、指定したプロパティのコンテキストで設定します。|xs:string|プロパティ名、名前空間と値を表す要素を持つ XML 文字列が含まれています。|  
|BTS します。ReceivePortID|メッセージ ボックス データベースに公開する前に、受信アダプターからメッセージを受け取った後、メッセージング エンジンによって昇格されます。|xs:int|メッセージを受信した受信ポートを識別します。|  
|BTS.ReceivePortName|メッセージ ボックス データベースに公開する前に、受信アダプターからメッセージを受け取った後、メッセージング エンジンによって昇格されます。|xs:string|メッセージを受信した受信ポートのわかりやすい名前。|  
|BTS.RouteDirectToTP|ループ バックまたは要求-応答の実行のメッセージをメッセージング エンジンによって昇格されます。 メッセージがメッセージ ボックス データベースに送信される前に、プロパティは昇格されます。|xs:boolean|ループの前後の要求-応答のシナリオを有効にする、メッセージング エンジンによって内部的に使用します。|  
|BTS します。SPGroupID|メッセージがオーケストレーションから送信ポートに送信されるときに、メッセージング エンジンによって昇格されます。|xs:string|送信ポート グループの ID を指定します。|  
|BTS します。SPID|オーケストレーションから送信ポートに送信されたメッセージは、メッセージング エンジンによって昇格されます。|xs:string|送信ポートの ID を指定します。|  
|BTS します。SPName|送信ポートの送信請求-応答から応答メッセージを公開する場合は、メッセージング エンジンによって昇格されます。|xs:string|送信請求-応答の送信ポートから応答メッセージをサブスクライブするために使用されます。 値は、送信ポートの名前です。|  
|BTS します。SPTransportBackupID|オーケストレーションから送信ポートに送信されたメッセージは、メッセージング エンジンによって昇格されます。|xs:string|送信ポートでは、バックアップのアダプターの ID を指定します。|  
|BTS します。SPTransportID|オーケストレーションから送信ポートに送信されたメッセージは、メッセージング エンジンによって昇格されます。|xs:string|送信ポートのプライマリ アダプターの ID を指定します。|  
|BTS します。SuspendAsNonResumable|このプロパティは、SubmitMessage() を呼び出す前に、または送信ポートにメッセージを送信する前にオーケストレーションで、アダプターによって設定できます。 **注:** SubmitRequestMessage() はこのプロパティは無視されます。双方向のメッセージは常に再開不可として中断されます。|xs:boolean|メッセージ エンジンがメッセージの失敗時に再開不可としてメッセージを中断するかどうかを制御します。 通常メッセージは再開可能として中断されますが、これが適切でない--、たとえば、順次配送のメッセージを再開送信または受信ポートの場合などに壊れるメッセージの順序があります。<br /><br /> 有効な値:<br /><br /> 場合は false。 メッセージは再開可能として中断されます (これは、既定値です)。<br />場合は true。 メッセージは再開不可として中断されます。|  
|BTS します。SuspendMessageOnRoutingFailure|メッセージ ボックス データベースに公開する前に、受信アダプターからメッセージを受け取った後、メッセージング エンジンによって昇格されます。|xs:boolean|受信メッセージのルーティングの障害が発生したときの動作を指定します。<br /><br /> 有効な値:<br /><br /> -Default/False。 プロパティが存在しないか、False に設定されている場合、エンジンは、ルーティングの障害が発生した場合、アダプターのエラーを通知します。<br />場合は true。 ルーティングの障害が発生した場合、ルーティング エンジンは、メッセージを自動的に中断されます。 **注:** 保留メッセージは、パイプライン/マッピング メッセージと、アダプター (ワイヤ メッセージなど) によって送信されたメッセージではなくなります。|  
  
 この名前空間の一部の BizTalk アプリケーションに役立つ情報を提供するその他のプロパティを数多くあります。  
  
|プロパティ|昇格するタイミングと場所|型|説明|  
|--------------|-----------------------------------|----------|-----------------|  
|BTS します。AckDescription|メッセージ ボックス データベースに受信確認メッセージを発行する前に、メッセージング エンジンによって設定します。|xs:string|識別、 **ErrorDescription**場所と、中断の理由を提供します。|  
|BTS します。EncryptionCert|昇格できません。|xs:int|暗号化証明書に対応する拇印を識別します。 オーケストレーションまたはカスタム パイプライン コンポーネントの署名および暗号化されたメッセージが表示される要求-応答ポートで応答の暗号化を実行するためのパイプラインで MIME/SMIME エンコーダー パイプライン コンポーネントの前に配置では、このプロパティを設定します。|  
|BTS.InterchangeID|サーバーに到着する各メッセージのメッセージング エンジンによって設定します。|xs:string|同じインターチェンジ メッセージの原因となったドキュメントをグループ化に使用される一意の ID を定義します。|  
|BTS します。Loopback|ループバック実行の要求メッセージを送信するときに、アダプターによって設定します。|xs:boolean|ループバック実行のためにサーバーにメッセージを送信する必要があるかどうかを定義します。 ループ内でのバックアップの実行、要求メッセージは、応答として受信アダプターに直接ルーティングされる場合、メッセージ ボックス データベースに公開されます。|  
|BTS します。SignatureCertificate|サーバーにメッセージを送信するときに、一部のアダプターによって設定します。 このプロパティは、パーティの解決パイプライン コンポーネントによって使用されます。|xs:string|BizTalk Server で受信メッセージの署名に使用された署名証明書の拇印を特定します。|  
|BTS します。SourcePartyID|パーティが受信メッセージを特定した後、パーティの解決パイプライン コンポーネントによって設定します。|xs:string|BizTalk パーティの ID。|  
|BTS します。SSOTicket|受信アダプターは、このプロパティをサポートする場合は、サーバーにメッセージを発行するときに設定されます。|xs:string|チケットには、暗号化されたドメインとチケットの有効期限と同様に、現在のユーザーのユーザー名が含まれています。 チケットは、送信先エンドポイントを認証するときに、ユーザーの資格情報を取得する SSO 対応のアダプターによって使用されます。|  
|BTS します。WindowsUser|サーバーにメッセージを送信するときに、一部のアダプターによって設定します。 このプロパティは、パーティの解決パイプライン コンポーネントによって使用されます。|xs:string|サーバーにメッセージを送信する代わりのユーザーのアカウントを指定します。|  
  
 プロパティとパイプライン コンポーネントとアダプターに関連付けられているプロパティ スキーマの詳細については、次を参照してください。  
  
-   [ファイル アダプター プロパティ スキーマおよびプロパティ](../core/file-adapter-property-schema-and-properties.md)
  
-   [FTP アダプター プロパティ スキーマおよびプロパティ](../core/ftp-adapter-property-schema-and-properties.md)  
  
-   [HTTP アダプター プロパティ スキーマおよびプロパティ](../core/http-adapter-property-schema-and-properties.md)  
  
-   [MSMQ アダプター プロパティ スキーマおよびプロパティ](../core/msmq-adapter-property-schema-and-properties.md)  
  
-   [SMTP アダプター プロパティ スキーマおよびプロパティ](../core/smtp-adapter-property-schema-and-properties.md)  
  
-   [SOAP アダプター プロパティ スキーマおよびプロパティ](../core/soap-adapter-property-schema-and-properties.md)  
  
-   [BizTalk Framework スキーマおよびプロパティ](../core/biztalk-framework-schema-and-properties.md)  
  
-   [MQSeries アダプター プロパティ](../core/mqseries-adapter-properties.md)  
  
-   [POP3 アダプター プロパティ スキーマおよびプロパティ](../core/pop3-adapter-property-schema-and-properties.md)  
  
-   [Windows SharePoint Services アダプターのプロパティに関するリファレンス](../core/windows-sharepoint-services-adapter-properties-reference.md)  
  
-   [MIME/SMIME プロパティ スキーマおよびプロパティ](../core/mime-smime-property-schema-and-properties.md)  
  
-   [XML とフラット ファイル プロパティ スキーマおよびプロパティ](../core/xml-and-flat-file-property-schema-and-properties.md)  
  
## <a name="see-also"></a>参照  
 [BizTalk メッセージ コンテキストのプロパティについて](../core/about-biztalk-message-context-properties.md)   
 [動的ポートに値を割り当てる式を使用する方法](../core/how-to-use-expressions-to-assign-values-to-dynamic-ports.md)