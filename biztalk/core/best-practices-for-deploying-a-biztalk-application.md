---
title: "BizTalk アプリケーションを配置するためのベスト プラクティス |Microsoft ドキュメント"
ms.custom: 
ms.date: 06/08/2017
ms.prod: biztalk-server
ms.reviewer: 
ms.suite: 
ms.tgt_pltfrm: 
ms.topic: article
helpviewer_keywords:
- best practices, deploying
- best practices, applications
- applications, best practices
- deploying, best practices
ms.assetid: 97ebf479-0dc5-4e95-b409-d3b6ad3d60d0
caps.latest.revision: "24"
author: MandiOhlinger
ms.author: mandia
manager: anneta
ms.openlocfilehash: e3b50ff0a6e64633090e562b6ca8e3ae66eb8683
ms.sourcegitcommit: cb908c540d8f1a692d01dc8f313e16cb4b4e696d
ms.translationtype: MT
ms.contentlocale: ja-JP
ms.lasthandoff: 09/20/2017
---
# <a name="best-practices-for-deploying-a-biztalk-application"></a><span data-ttu-id="ca01f-102">BizTalk アプリケーション展開のベスト プラクティス</span><span class="sxs-lookup"><span data-stu-id="ca01f-102">Best Practices for Deploying a BizTalk Application</span></span>
<span data-ttu-id="ca01f-103">ここでは、BizTalk アプリケーションを展開するときのベスト プラクティスについて説明します。</span><span class="sxs-lookup"><span data-stu-id="ca01f-103">This topic describes best practices for deploying a BizTalk application.</span></span>  
  
## <a name="group-related-artifacts-together-in-a-single-application"></a><span data-ttu-id="ca01f-104">関連アイテムを 1 つのアプリケーションにグループ化する</span><span class="sxs-lookup"><span data-stu-id="ca01f-104">Group related artifacts together in a single application</span></span>  
 <span data-ttu-id="ca01f-105">できるだけ多くの関連アイテムを、同じ BizTalk アプリケーションにまとめます。</span><span class="sxs-lookup"><span data-stu-id="ca01f-105">As much as possible, place related artifacts in the same BizTalk application.</span></span> <span data-ttu-id="ca01f-106">こうすることで、複数のアイテムを 1 つのエンティティとして管理および展開できるようになり、管理が容易になります。</span><span class="sxs-lookup"><span data-stu-id="ca01f-106">This allows you to manage and deploy the artifacts as a single entity, making management easier.</span></span> <span data-ttu-id="ca01f-107">同じビジネス プロセスをサポートするアイテムや、類似の機能を実行するアイテムは、1 つのアプリケーションにグループ化できます。</span><span class="sxs-lookup"><span data-stu-id="ca01f-107">You can group artifacts that support the same business process or artifacts that perform similar functions into a single application.</span></span>  
  
## <a name="deploy-shared-artifacts-in-a-separate-application"></a><span data-ttu-id="ca01f-108">共有アイテムを独立したアプリケーションで展開する</span><span class="sxs-lookup"><span data-stu-id="ca01f-108">Deploy shared artifacts in a separate application</span></span>  
 <span data-ttu-id="ca01f-109">複数のアプリケーションで共有されるアイテムは、独立したアプリケーションで展開します。</span><span class="sxs-lookup"><span data-stu-id="ca01f-109">If artifacts are going to be shared by two or more applications, deploy the shared artifacts into a separate application.</span></span> <span data-ttu-id="ca01f-110">たとえば、2 つのアプリケーションでスキーマを共有している場合は、そのスキーマを独立したアプリケーションに配置します。</span><span class="sxs-lookup"><span data-stu-id="ca01f-110">For example, if two applications share a schema, place the schema in a separate application.</span></span> <span data-ttu-id="ca01f-111">この理由は、BizTalk グループ内で複数のアイテムに同じローカル一意識別子 (LUID) を使用できないためです (ローカル一意識別子はアイテム名と、省略可能なその他の属性から成ります)。</span><span class="sxs-lookup"><span data-stu-id="ca01f-111">This is because only one artifact having the same locally unique identifier (LUID) -- which consists of the artifact name and optionally other attributes -- can exist in a BizTalk group.</span></span> <span data-ttu-id="ca01f-112">アイテムを 1 つのアプリケーションに含め、別のアプリケーションからそのアイテムへの参照を作成した場合は、アイテムが含まれるアプリケーションを停止すると、そのアイテムを参照するアプリケーションが正しく機能しなくなるなどの問題が発生する可能性があります。</span><span class="sxs-lookup"><span data-stu-id="ca01f-112">If you include an artifact in one application, and then create a reference to it from another application, you may encounter problems such as the referring application not functioning correctly when you stop the application containing the artifact.</span></span>  
  
 <span data-ttu-id="ca01f-113">このベスト プラクティスは、種類が File としてアプリケーションに追加されるファイル アイテム (Readme ファイル、スクリプトなど) 以外の、すべての種類のアイテムに適用できます。</span><span class="sxs-lookup"><span data-stu-id="ca01f-113">This best practice applies to all artifact types except for files, such as Readme files and scripts, which are added to the application as a File type of artifact.</span></span> <span data-ttu-id="ca01f-114">ファイル アイテムは、BizTalk グループ内に同じ名前で複数展開でき、</span><span class="sxs-lookup"><span data-stu-id="ca01f-114">This is because more than one file artifact having the same name can be deployed in a BizTalk group.</span></span> <span data-ttu-id="ca01f-115">したがって複数のアプリケーションで同じ名前のファイルを使用できるので、このベスト プラクティスは当てはまりません。</span><span class="sxs-lookup"><span data-stu-id="ca01f-115">Therefore, you can use a file having the same name in two or more applications.</span></span> <span data-ttu-id="ca01f-116">1 つのアプリケーションを停止しても、他のアプリケーションには影響しません。</span><span class="sxs-lookup"><span data-stu-id="ca01f-116">Stopping one application will not impact the other application.</span></span> <span data-ttu-id="ca01f-117">ファイル アイテムの追加の詳細については、次を参照してください。[ファイルをアプリケーションに追加する方法](../core/how-to-add-a-file-to-an-application.md)です。</span><span class="sxs-lookup"><span data-stu-id="ca01f-117">For more information about adding File artifacts, see [How to Add a File to an Application](../core/how-to-add-a-file-to-an-application.md).</span></span>  
  
 <span data-ttu-id="ca01f-118">特定種類のアイテムの共有に関するベスト プラクティスについては、後の「共有 Web サイトを独立したアプリケーションで展開する」、「共有ポリシーを独立したアプリケーションで展開する」、および「共有証明書を独立したアプリケーションで展開する」を参照してください。</span><span class="sxs-lookup"><span data-stu-id="ca01f-118">For best practices on sharing specific artifact types, see "Deploy a shared Web site in a separate application," "Deploy shared policies in a separate application," and "Deploy shared certificates in a separate application" in this section.</span></span>  
  
## <a name="deploy-a-shared-web-site-in-a-separate-application"></a><span data-ttu-id="ca01f-119">共有 Web サイトを独立したアプリケーションで展開する</span><span class="sxs-lookup"><span data-stu-id="ca01f-119">Deploy a shared Web site in a separate application</span></span>  
 <span data-ttu-id="ca01f-120">複数のビジネス アプリケーションで共有される Web サイトは、独立したアプリケーションで展開します。</span><span class="sxs-lookup"><span data-stu-id="ca01f-120">If a Web site will be shared by more than one business solution, deploy the Web site in a separate application.</span></span> <span data-ttu-id="ca01f-121">この理由は、BizTalk アプリケーションをアンインストールすると、アプリケーションに含まれる Web サイトは実行中であっても削除されるためです。</span><span class="sxs-lookup"><span data-stu-id="ca01f-121">This is because when you uninstall a BizTalk application, the virtual directory of any Web site that is part of the application is removed, even if the Web site is running.</span></span> <span data-ttu-id="ca01f-122">削除した Web サイトが他のビジネス ソリューションと共有されていた場合、そのビジネス ソリューションは正常に機能しなくなります。</span><span class="sxs-lookup"><span data-stu-id="ca01f-122">If the Web site is shared with another business solution, the other business solution will no longer function correctly as a result.</span></span>  
  
## <a name="deploy-shared-policies-in-a-separate-application"></a><span data-ttu-id="ca01f-123">共有ポリシーを独立したアプリケーションで展開する</span><span class="sxs-lookup"><span data-stu-id="ca01f-123">Deploy shared policies in a separate application</span></span>  
 <span data-ttu-id="ca01f-124">複数のアプリケーションで使用されるポリシーは、1 つのアプリケーションから別のアプリケーションへの参照を作成せずに、独立したアプリケーションで展開します。</span><span class="sxs-lookup"><span data-stu-id="ca01f-124">If a policy is used by two or more applications, you should deploy it in a separate application rather than creating a reference from one application to another.</span></span> <span data-ttu-id="ca01f-125">この理由は、アプリケーションを停止すると、そのアプリケーションのポリシーは展開解除されるためです。</span><span class="sxs-lookup"><span data-stu-id="ca01f-125">This is because when you stop an application, its policies are undeployed.</span></span> <span data-ttu-id="ca01f-126">他のアプリケーションで使用されているポリシーを含むアプリケーションを停止すると、どちらのアプリケーションでもポリシーは機能しなくなります。</span><span class="sxs-lookup"><span data-stu-id="ca01f-126">If you stop an application that includes a policy used by another application, the policy will no longer function in either application.</span></span>  
  
## <a name="deploy-shared-certificates-in-a-separate-application"></a><span data-ttu-id="ca01f-127">共有証明書を独立したアプリケーションで展開する</span><span class="sxs-lookup"><span data-stu-id="ca01f-127">Deploy shared certificates in a separate application</span></span>  
 <span data-ttu-id="ca01f-128">複数アプリケーションの送信ポートまたは受信ポートで使用される証明書は、独立したアプリケーションで展開します。その後、展開したアプリケーションに対し、その証明書を使用するアプリケーションから参照を作成します。</span><span class="sxs-lookup"><span data-stu-id="ca01f-128">If a certificate is used by a send port or receive location in two or more applications, you should deploy the certificate in a separate application, and then reference this application from the applications that need to use the certificate.</span></span> <span data-ttu-id="ca01f-129">この理由は、BizTalk グループ内で複数のアイテムに同じ LUID を使用できないためです。したがって、2 つの異なるアプリケーションの同じ証明書をインポートすることはできません。</span><span class="sxs-lookup"><span data-stu-id="ca01f-129">This is because only one artifact having a particular LUID can exist in the BizTalk group, so you will not be able to import the same certificate in two different applications.</span></span> <span data-ttu-id="ca01f-130">同じ証明書を使用する 2 つのアプリケーションをインポートしようとすると、最初のインポートは成功しますが、2 番目のインポートは成功しません。</span><span class="sxs-lookup"><span data-stu-id="ca01f-130">If you attempt to import two applications that each use the same certificate, the first import will succeed, and the second will not.</span></span> <span data-ttu-id="ca01f-131">[上書き] インポート オプションを使って既存の証明書を上書きしようとしても、その証明書は別のアプリケーションに含まれているため上書きできません。</span><span class="sxs-lookup"><span data-stu-id="ca01f-131">In this case, using the Overwrite import option does not correct the problem, as the existing certificate that you want to overwrite is contained in another application.</span></span>  
  
## <a name="never-deploy-an-assembly-from-visual-studio-on-a-production-computer"></a><span data-ttu-id="ca01f-132">実稼働コンピューターの Visual Studio からアセンブリを展開しない</span><span class="sxs-lookup"><span data-stu-id="ca01f-132">Never deploy an assembly from Visual Studio on a production computer</span></span>  
 <span data-ttu-id="ca01f-133">開発の過程ではしばしば、[!INCLUDE[btsVStudioNoVersion](../includes/btsvstudionoversion-md.md)] からのアセンブリの再展開が必要になります。</span><span class="sxs-lookup"><span data-stu-id="ca01f-133">During the development process, the developer often must redeploy assemblies from [!INCLUDE[btsVStudioNoVersion](../includes/btsvstudionoversion-md.md)].</span></span> <span data-ttu-id="ca01f-134">再展開を可能にするため、[!INCLUDE[btsVStudioNoVersion](../includes/btsvstudionoversion-md.md)] ではアセンブリに含まれるアイテムの展開解除、バインド解除、停止、および参加解除が行われます。</span><span class="sxs-lookup"><span data-stu-id="ca01f-134">To enable the redeployment, [!INCLUDE[btsVStudioNoVersion](../includes/btsvstudionoversion-md.md)] may undeploy, unbind, stop, and unenlist artifacts included in the assemblies.</span></span> <span data-ttu-id="ca01f-135">これは開発環境では必要であり適切なことですが、実稼働環境では予期しない結果や結果や好ましくない結果を引き起こす可能性があります。</span><span class="sxs-lookup"><span data-stu-id="ca01f-135">Although this is necessary and appropriate in the development environment, it can cause unexpected and undesired consequences in a production environment.</span></span> <span data-ttu-id="ca01f-136">この理由から、実稼働コンピューター上の [!INCLUDE[btsVStudioNoVersion](../includes/btsvstudionoversion-md.md)] からはアセンブリを展開できないようにしてください。実稼働コンピューターには [!INCLUDE[btsVStudioNoVersion](../includes/btsvstudionoversion-md.md)] をインストールしないことをお勧めします。</span><span class="sxs-lookup"><span data-stu-id="ca01f-136">For this reason, as well as to avoid the possibility of anyone's attempting to deploy an assembly from [!INCLUDE[btsVStudioNoVersion](../includes/btsvstudionoversion-md.md)] on a production computer, we recommend that you never install [!INCLUDE[btsVStudioNoVersion](../includes/btsvstudionoversion-md.md)] on a production computer.</span></span>  
  
 <span data-ttu-id="ca01f-137">また、[!INCLUDE[btsVStudioNoVersion](../includes/btsvstudionoversion-md.md)] を実行しているコンピューターからは実稼働データベースを参照しないでください。</span><span class="sxs-lookup"><span data-stu-id="ca01f-137">In addition, never refer to a production database from a computer running [!INCLUDE[btsVStudioNoVersion](../includes/btsvstudionoversion-md.md)].</span></span>  
  
## <a name="when-deploying-large-msi-files-you-may-need-to-increase-the-default-transaction-timeout-of-the-com-components-used-by-biztalk-to-deploy-applications"></a><span data-ttu-id="ca01f-138">大きなサイズの MSI ファイルを展開する場合、アプリケーションを展開するには BizTalk で使用される COM+ コンポーネントの既定のトランザクション タイムアウトを大きくする必要がある場合があります。</span><span class="sxs-lookup"><span data-stu-id="ca01f-138">When deploying large MSI files, you may need to increase the default transaction timeout of the COM+ components used by BizTalk to deploy applications</span></span>  
 <span data-ttu-id="ca01f-139">展開する MSI ファイルのサイズが非常に大きい (100 MB 以上) 場合は、展開時に BizTalk で使用される COM+ コンポーネントの既定のトランザクション タイムアウトまでにアプリケーションの展開が完了しない場合があります。</span><span class="sxs-lookup"><span data-stu-id="ca01f-139">If the MSI file being deployed is very large (over 100 MB) then the application may not be deployed within the default transaction timeout of the COM+ components that are used by BizTalk during application deployment.</span></span> <span data-ttu-id="ca01f-140">展開が完了する前に COM+ コンポーネント関連のトランザクションがタイムアウトになると、展開は失敗します。</span><span class="sxs-lookup"><span data-stu-id="ca01f-140">If the transactions associated with these COM+ components time out before the deployment is completed then the deployment will fail.</span></span> <span data-ttu-id="ca01f-141">非常に大きなサイズの MSI ファイルを展開する場合は、この問題を緩和するため、次のいずれかの方法を使用することを検討してください。</span><span class="sxs-lookup"><span data-stu-id="ca01f-141">If you are deploying very large MSI files then consider taking one of these approaches to mitigate this problem:</span></span>  
  
1.  <span data-ttu-id="ca01f-142">1 つの大きな MSI ファイルを展開するのではなく、複数の小さな MSI ファイルを展開する。</span><span class="sxs-lookup"><span data-stu-id="ca01f-142">Deploy several smaller MSI files instead of one large MSI file.</span></span>  
  
2.  <span data-ttu-id="ca01f-143">関連付けられている 3,000 秒の既定のトランザクション タイムアウトを増やす、 **Microsoft.BizTalk.ApplicationDeployment.Group**と**Microsoft.BizTalk.Deployment.DeployerComponent**内のコンポーネント、**コンポーネント サービス**管理インターフェイスです。</span><span class="sxs-lookup"><span data-stu-id="ca01f-143">Increase the default transaction timeout of 3000 seconds associated with the **Microsoft.BizTalk.ApplicationDeployment.Group** and the **Microsoft.BizTalk.Deployment.DeployerComponent** components in the **Component Services** management interface.</span></span> <span data-ttu-id="ca01f-144">これらのコンポーネントが属している、 **Microsoft.BizTalk.ApplicationDeployment.Engine**と**Microsoft.Biztalk.Deployment** COM + アプリケーションそれぞれします。</span><span class="sxs-lookup"><span data-stu-id="ca01f-144">These components belong to the **Microsoft.BizTalk.ApplicationDeployment.Engine** and **Microsoft.Biztalk.Deployment** COM+ applications respectively.</span></span> <span data-ttu-id="ca01f-145">トランザクションを変更する方法の詳細については、COM + コンポーネントのタイムアウト値を参照してください[MTS または COM + のトランザクション タイムアウト値を変更する方法](http://go.microsoft.com/fwlink/?LinkId=67691)です。</span><span class="sxs-lookup"><span data-stu-id="ca01f-145">For more information about how to change the transaction time out value for a COM+ component see [How To Change the Transaction Time-Out Value for MTS or COM+](http://go.microsoft.com/fwlink/?LinkId=67691).</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="ca01f-146">参照</span><span class="sxs-lookup"><span data-stu-id="ca01f-146">See Also</span></span>  
 [<span data-ttu-id="ca01f-147">展開して、BizTalk アプリケーションの管理</span><span class="sxs-lookup"><span data-stu-id="ca01f-147">Deploying and Managing BizTalk Applications</span></span>](../core/deploying-and-managing-biztalk-applications.md)