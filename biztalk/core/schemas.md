---
title: スキーマ |Microsoft ドキュメント
ms.custom: ''
ms.date: 06/08/2017
ms.prod: biztalk-server
ms.reviewer: ''
ms.suite: ''
ms.tgt_pltfrm: ''
ms.topic: article
helpviewer_keywords:
- schemas, schema types
- deploying, schemas
- schemas
- schemas, about schemas
- property schemas
- envelope schemas
- schemas, deploying
- XML schemas
- flat file schemas
ms.assetid: aea772bd-e7ab-448e-ba82-e7c8f38087db
caps.latest.revision: 9
author: MandiOhlinger
ms.author: mandia
manager: anneta
ms.openlocfilehash: 696c79a30bb58cd91536c19c97db54d6159762b6
ms.sourcegitcommit: cb908c540d8f1a692d01dc8f313e16cb4b4e696d
ms.translationtype: MT
ms.contentlocale: ja-JP
ms.lasthandoff: 09/20/2017
ms.locfileid: "22270090"
---
# <a name="schemas"></a><span data-ttu-id="7d755-102">スキーマ</span><span class="sxs-lookup"><span data-stu-id="7d755-102">Schemas</span></span>
<span data-ttu-id="7d755-103">Microsoft [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] 、処理、およびメッセージの構造体としてのこれらの定義を参照するすべてのメッセージの構造を定義する XML スキーマ定義 (XSD) 言語を使用して*スキーマ*です。</span><span class="sxs-lookup"><span data-stu-id="7d755-103">Microsoft [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] uses the XML Schema definition (XSD) language to define the structure of all messages that it processes, and refers to these definitions of message structure as *schemas*.</span></span> <span data-ttu-id="7d755-104">ほとんど例外なく、構造化されたメッセージは、アプリケーションの中核を成すものです。</span><span class="sxs-lookup"><span data-stu-id="7d755-104">With few exceptions, structured messages are the core of any application.</span></span> <span data-ttu-id="7d755-105">これらの構造化されたメッセージは、大小さまざまな形式になります。また、多種多様なバックエンド システムおよびデータ ストアを対象とします。</span><span class="sxs-lookup"><span data-stu-id="7d755-105">These structured messages can take any form, large or small, and target a wide array of back-end systems and data stores.</span></span> <span data-ttu-id="7d755-106">構造化されたメッセージを頻繁に作成して使用するシステムは、さまざまな形式を使用します。</span><span class="sxs-lookup"><span data-stu-id="7d755-106">Systems that create and consume the structured messages frequently use different formats.</span></span> <span data-ttu-id="7d755-107">構造化されたメッセージの最も一般的な形式は、XML とフラット ファイルです。</span><span class="sxs-lookup"><span data-stu-id="7d755-107">Two of the most common formats for structured messages are XML and flat files.</span></span>  
  
 <span data-ttu-id="7d755-108">BizTalk Server は、次の 4 種類のスキーマをサポートしています。</span><span class="sxs-lookup"><span data-stu-id="7d755-108">BizTalk Server supports the following four types of schemas:</span></span>  
  
-   <span data-ttu-id="7d755-109">XML スキーマ : </span><span class="sxs-lookup"><span data-stu-id="7d755-109">XML schema.</span></span> <span data-ttu-id="7d755-110">XML スキーマは XML インスタンス メッセージのクラス構造を定義します。</span><span class="sxs-lookup"><span data-stu-id="7d755-110">An XML schema defines the structure of a class of XML instance messages.</span></span> <span data-ttu-id="7d755-111">このタイプのスキーマでは、XSD (XML Schema Definition) 言語を使って、XML インスタンス メッセージの構造が定義されます。XSD 本来の目的に沿っているため、このスキーマでは、単純な方法で XSD が使用されます。</span><span class="sxs-lookup"><span data-stu-id="7d755-111">Because this type of schema uses XML Schema definition (XSD) language to define the structure of an XML instance message, and this is the intended purpose of XSD, such schemas use XSD in a straightforward way.</span></span> <span data-ttu-id="7d755-112">XML スキーマの詳細については、次を参照してください。 [XML スキーマ](../core/xml-schemas.md)です。</span><span class="sxs-lookup"><span data-stu-id="7d755-112">For more information about XML schemas, see [XML Schemas](../core/xml-schemas.md).</span></span>  
  
-   <span data-ttu-id="7d755-113">フラット ファイル スキーマ : </span><span class="sxs-lookup"><span data-stu-id="7d755-113">Flat file schema.</span></span> <span data-ttu-id="7d755-114">フラット ファイル スキーマは、フラット ファイル形式 (区切り文字/位置指定、あるいは、その組み合わせ) を使用したインスタンス メッセージのクラス構造を定義します。</span><span class="sxs-lookup"><span data-stu-id="7d755-114">A flat file schema defines the structure of a class of instance messages that use a flat file format, either delimited or positional or some combination thereof.</span></span> <span data-ttu-id="7d755-115">XSD のネイティブのセマンティック機能に対応していませんフラット ファイル インスタンス メッセージの構造を定義するための要件をすべてため — さまざまな種類の異なるレコードと、フラット ファイル内のフィールドを使用する区切り記号のなど。BizTalk Server では、XSD の注釈機能を使用して、XSD スキーマ内でこの追加情報を格納します。</span><span class="sxs-lookup"><span data-stu-id="7d755-115">Because the native semantic capabilities of XSD do not accommodate all of the requirements for defining the structure of flat file instance messages—such as the various types of delimiters that might be used for different records and fields within the flat file—BizTalk Server uses the annotation capabilities of XSD to store this extra information within an XSD schema.</span></span> <span data-ttu-id="7d755-116">BizTalk Server には、必要な補足情報をすべて格納することのできる注釈タグが豊富に定義されています。</span><span class="sxs-lookup"><span data-stu-id="7d755-116">BizTalk Server defines a rich set of specific annotation tags that can be used to store all of the required additional information.</span></span> <span data-ttu-id="7d755-117">フラット ファイル スキーマの詳細については、次を参照してください。 [Flat File Schemas](../core/flat-file-schemas.md)です。</span><span class="sxs-lookup"><span data-stu-id="7d755-117">For more information about flat file schemas, see [Flat File Schemas](../core/flat-file-schemas.md).</span></span>  
  
-   <span data-ttu-id="7d755-118">エンベロープ スキーマ : </span><span class="sxs-lookup"><span data-stu-id="7d755-118">Envelope schema.</span></span> <span data-ttu-id="7d755-119">エンベロープ スキーマは、XML スキーマの一種です。</span><span class="sxs-lookup"><span data-stu-id="7d755-119">An envelope schema is a type of XML schema.</span></span> <span data-ttu-id="7d755-120">XML ビジネス ドキュメントを単一の XML インスタンス メッセージにラップする XML エンベロープの構造を定義するために使用されます。</span><span class="sxs-lookup"><span data-stu-id="7d755-120">Envelope schemas are used to define the structure of XML envelopes, which are used to wrap one or more XML business documents into a single XML instance message.</span></span> <span data-ttu-id="7d755-121">XML スキーマをエンベロープ スキーマとして定義する場合、エンベロープ スキーマに定義されるルート レコードが複数存在するかどうかなどの条件に応じて、追加のプロパティ設定がいくつか必要となります。</span><span class="sxs-lookup"><span data-stu-id="7d755-121">When you define an XML schema to be an envelope schema, additional property settings are required, depending on such factors as whether there are more than one root record defined in the envelope schema.</span></span> <span data-ttu-id="7d755-122">エンベロープ スキーマの詳細については、次を参照してください。[エンベロープ スキーマ](../core/envelope-schemas.md)です。</span><span class="sxs-lookup"><span data-stu-id="7d755-122">For more information about Envelope schemas, see [Envelope Schemas](../core/envelope-schemas.md).</span></span>  
  
-   <span data-ttu-id="7d755-123">プロパティ スキーマ : </span><span class="sxs-lookup"><span data-stu-id="7d755-123">Property schema.</span></span> <span data-ttu-id="7d755-124">プロパティ スキーマは BizTalk Server 内に 2 つあるプロパティ昇格メカニズムの 1 つで使用されます。</span><span class="sxs-lookup"><span data-stu-id="7d755-124">A property schema is used with one of the two mechanisms that exist within BizTalk Server for property promotion.</span></span> <span data-ttu-id="7d755-125">*プロパティの昇格*は、インスタンス メッセージの内部からメッセージ コンテキストに特定の値をコピーするプロセスです。</span><span class="sxs-lookup"><span data-stu-id="7d755-125">*Property promotion* is the process of copying specific values from deep within an instance message to the message context.</span></span> <span data-ttu-id="7d755-126">各種の BizTalk Server コンポーネントは、メッセージ コンテキストを通じて、これらの値に容易にアクセスできるようになります。</span><span class="sxs-lookup"><span data-stu-id="7d755-126">From the message context, these values are more easily accessed by various BizTalk Server components.</span></span> <span data-ttu-id="7d755-127">これらのコンポーネントが、メッセージ コンテキスト内の値にアクセスすることで、メッセージのルーティングなどの処理が実行されます。</span><span class="sxs-lookup"><span data-stu-id="7d755-127">These components use the values to perform actions such as message routing.</span></span> <span data-ttu-id="7d755-128">昇格されたプロパティ値は、インスタンス メッセージを宛先に送る直前に、逆の方向にコピーすることもできます。つまり、プロパティ値をアクセスしやすいメッセージ コンテキストから、インスタンス メッセージの内部に戻すことができます。</span><span class="sxs-lookup"><span data-stu-id="7d755-128">Promoted property values can also be copied in the other direction, from the more easily accessible message context back into the depths of the instance message, just before the instance message is sent to its destination.</span></span> <span data-ttu-id="7d755-129">プロパティ スキーマは BizTalk スキーマの簡易版ですが、昇格されたプロパティをインスタンス メッセージからメッセージ コンテキストへ、あるいはその逆へコピーするプロセスで使用されます。</span><span class="sxs-lookup"><span data-stu-id="7d755-129">A property schema, which is a simple version of a BizTalk schema, plays a role in the process of copying promoted properties back and forth between the instance message and the message context.</span></span> <span data-ttu-id="7d755-130">プロパティ スキーマの詳細については、次を参照してください。[プロパティ スキーマ](../core/property-schemas.md)です。</span><span class="sxs-lookup"><span data-stu-id="7d755-130">For more information about property schemas, see [Property Schemas](../core/property-schemas.md).</span></span>  
  
## <a name="schema-deployment"></a><span data-ttu-id="7d755-131">スキーマの展開</span><span class="sxs-lookup"><span data-stu-id="7d755-131">Schema Deployment</span></span>  
 <span data-ttu-id="7d755-132">スキーマの種類には、メッセージ スキーマ、プロパティ スキーマ、エンベロープ スキーマなどがあります。</span><span class="sxs-lookup"><span data-stu-id="7d755-132">You deploy different types of schemas, such as message schemas, property schemas, and envelope schemas.</span></span> <span data-ttu-id="7d755-133">スキーマには違いがあるため、展開された後の扱い方が少し異なります。</span><span class="sxs-lookup"><span data-stu-id="7d755-133">Because each schema is different, there are small differences in how they are handled after deployment.</span></span> <span data-ttu-id="7d755-134">このセクションでは、すべてのスキーマで共通する事柄と、スキーマの種類によって異なる事柄について説明します。</span><span class="sxs-lookup"><span data-stu-id="7d755-134">This section addresses what is common to all schemas, and also describes the differences relating to the types of schema.</span></span>  
  
 <span data-ttu-id="7d755-135">スキーマを展開すると、管理データベースにそのスキーマの内容が保存されます。</span><span class="sxs-lookup"><span data-stu-id="7d755-135">When you deploy a schema, the Management database stores the contents of the schema.</span></span> <span data-ttu-id="7d755-136">同じターゲットの名前空間を持つ複数のスキーマを展開できます。</span><span class="sxs-lookup"><span data-stu-id="7d755-136">You can deploy multiple schemas with the same target namespace.</span></span> <span data-ttu-id="7d755-137">BizTalk Server は、実行時に使用されるパイプライン デザイナーでスキーマを明示的に指定します。</span><span class="sxs-lookup"><span data-stu-id="7d755-137">BizTalk Server explicitly points to the schema in the Pipeline Designer that is used at run time.</span></span> <span data-ttu-id="7d755-138">同じスキーマの複数バージョンが展開されていて、既定のパイプラインを使用した場合やパイプライン デザイナーでスキーマを指定しなかった場合は、BizTalk Server が使用するスキーマを決定します。</span><span class="sxs-lookup"><span data-stu-id="7d755-138">If you use default pipelines, or if you do not specify a schema in the Pipeline Designer, and if multiple versions of the same schema have been deployed, BizTalk Server determines the schema to use.</span></span> <span data-ttu-id="7d755-139">この場合、最新バージョンに関連付けられているスキーマがあります: 最高のバージョン番号を持つ、そのスキーマを使用して展開するアセンブリのです。</span><span class="sxs-lookup"><span data-stu-id="7d755-139">In this case, it will be the schema associated with the most recent version—with the highest version number—of the assembly deployed using that schema.</span></span>  
  
 <span data-ttu-id="7d755-140">そのスキーマを展開した最新バージョンのアセンブリを削除すると、同じアセンブリのその次に新しいバージョンのスキーマがアクティブになります。</span><span class="sxs-lookup"><span data-stu-id="7d755-140">When you remove the most recent version of the assembly that deployed a schema, the schema from the highest previous version of the same assembly becomes the active schema.</span></span>  
  
 <span data-ttu-id="7d755-141">重複するターゲットの名前空間を持つスキーマを展開する場合は、カスタム デザインのパイプラインからスキーマを参照する必要があります。</span><span class="sxs-lookup"><span data-stu-id="7d755-141">If you deploy schemas with duplicate target namespaces, you must reference a schema from a custom-designed user pipeline.</span></span> <span data-ttu-id="7d755-142">これによって、メッセージング エンジンに正しいスキーマを読み込むための追加情報が提供されます。</span><span class="sxs-lookup"><span data-stu-id="7d755-142">This gives the Messaging Engine additional information to be able to load the right schema.</span></span>  
  
 <span data-ttu-id="7d755-143">たとえば、複数の Web サービス スキーマを作成する場合などには、重複するターゲットの名前空間を使用します。</span><span class="sxs-lookup"><span data-stu-id="7d755-143">For example, one case where you would use a duplicate target namespace is when you create multiple versions of a Web Service schema.</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="7d755-144">参照</span><span class="sxs-lookup"><span data-stu-id="7d755-144">See Also</span></span>  
 <span data-ttu-id="7d755-145">[BizTalk エディターを使用してスキーマを作成します。](../core/creating-schemas-using-biztalk-editor.md) </span><span class="sxs-lookup"><span data-stu-id="7d755-145">[Creating Schemas Using BizTalk Editor](../core/creating-schemas-using-biztalk-editor.md) </span></span>  
 <span data-ttu-id="7d755-146">[スキーマの BizTalk 表記](../core/biztalk-representation-of-schemas.md) </span><span class="sxs-lookup"><span data-stu-id="7d755-146">[BizTalk Representation of Schemas](../core/biztalk-representation-of-schemas.md) </span></span>  
 [<span data-ttu-id="7d755-147">成果物</span><span class="sxs-lookup"><span data-stu-id="7d755-147">Artifacts</span></span>](../core/artifacts.md)