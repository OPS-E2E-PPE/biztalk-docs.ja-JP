---
title: HTTP 送信ポートを構成する方法 |Microsoft ドキュメント
ms.custom: ''
ms.date: 06/08/2017
ms.prod: biztalk-server
ms.reviewer: ''
ms.suite: ''
ms.tgt_pltfrm: ''
ms.topic: article
helpviewer_keywords:
- send ports, HTTP adapters
- HTTP adapters, send ports
- configuring [HTTP adapters], send ports
ms.assetid: 29c6868c-4570-4375-9494-08c07220eeb3
caps.latest.revision: 18
author: MandiOhlinger
ms.author: mandia
manager: anneta
ms.openlocfilehash: 1dd46ced62441c9a61c3813d0bcff5e4f2f34629
ms.sourcegitcommit: cb908c540d8f1a692d01dc8f313e16cb4b4e696d
ms.translationtype: MT
ms.contentlocale: ja-JP
ms.lasthandoff: 09/20/2017
ms.locfileid: "22251306"
---
# <a name="how-to-configure-an-http-send-port"></a>HTTP 送信ポートを構成する方法
HTTP 送信ポートは、プログラムから、または BizTalk Server 管理コンソールを使用して構成できます。  
  
## <a name="configure-an-http-send-port-programmatically"></a>HTTP 送信ポートをプログラムで構成します。
  
 HTTP アダプタの構成情報は BizTalk 管理データベース (構成データベース) に書き込まれます。 構成情報はカスタム XML プロパティ バッグに保存します。 HTTP アダプタの初期化中、および実行中、次のようにしてサーバーからアダプタに構成が渡されます。  
  
-   HTTP 送信ハンドラの構成情報が渡されるアダプターに呼び出すことによって、**ロード**のメソッド、 **IPersistPropertyBag**インターフェイスです。  
  
-   HTTP 送信ポートの場合、構成情報はメッセージ コンテキストのプロパティとしてアダプタに渡されます。 プロパティは、HTTP 名前空間によりグループ化されます。  
  
 BizTalk エクスプローラ オブジェクト モデルは、`ItransportInfo` という読み取り/書き込みプロパティを含んでいる `TransportTypeData` アダプタ構成インターフェイスを送信ポート用に公開します。 このプロパティでは、名前と値の組の XML 文字列の形式で HTTP 送信ポートの構成プロパティ バッグを指定できます。 設定することを BizTalk エクスプローラ オブジェクト モデルでこのプロパティを設定する必要があります最初、`Address`のプロパティ、 **ITransportInfo**インターフェイスです。  
  
 設定、 **TransportTypeData**のプロパティ、 **ITransportInfo**インターフェイスは必要ありません。 このプロパティを設定しない場合、HTTP アダプタでは HTTP 送信ハンドラの既定値が使用されます。  
  
 ハンドラの構成を複製した送信ポートの構成プロパティが定義されていない場合、ハンドラの構成プロパティが使用されます。 HTTP 送信ハンドラに構成値が定義されていない場合、エラーがイベント ログに記録され、メッセージがバックアップ アダプタに渡されます。  
  
 構成プロパティは、メッセージ コンテキストでプログラムによって設定できます。 これらのプロパティは BizTalk Server オーケストレーション スケジュールまたはカスタム パイプライン コンポーネントに設定できます。 プロパティを使用するときは、次の規則が適用されます。  
  
-   構成プロパティがオーケストレーション、または受信パイプラインのカスタム パイプライン コンポーネントに設定されているとき  
  
    -   メッセージが送信された場合は、静的な送信ポート、プロパティの値は、その送信ポート用に構成された値で上書きされます。  
  
    -   動的送信ポートにメッセージを送信する場合、プロパティの値は上書きされません。  
  
-   構成プロパティが送信パイプラインのカスタム パイプライン コンポーネントに設定されているとき  
  
    -   メッセージを送信する送信ポートが静的か動的かにかかわらず、プロパティ値は上書きされません。  
  
 次の表に、BizTalk エクスプローラのオブジェクト モデルで HTTP 送信場所用に設定できる構成プロパティを示します。  
  
|プロパティ名|型|Description|制限|コメント|  
|-------------------|----------|-----------------|------------------|--------------|  
|**RequestTimeout**|xs:int|サーバーからの応答を待機する際のタイムアウト値です。 かどうかゼロ (0) に設定すると、システムによって計算要求メッセージのサイズに基づいて、タイムアウトします。|**最小値:** 0<br /><br /> **最大値:** MAX_LONG|**既定値:** 0|  
|**ContentType**|xs:string|要求メッセージのコンテンツの種類。|**最小の長さ:** 0<br /><br /> **最大長:** 256|**既定値:** TEXT/XML|  
|**MaxRedirects**|xs:int|HTTP アダプターが、要求をリダイレクトできる最大回数。|**最小値:** 0<br /><br /> **最大値:** 10|**既定値:** 5|  
|**UseHandlerProxySettings**|xs:boolean|HTTP 送信ポートで送信ハンドラのプロキシ構成を使用するかどうかを指定します。|なし|**既定値:** は True。<br /><br /> True に設定されている場合、送信ポートはハンドラ レベルで指定されたプロキシ設定を使用します。 False に設定されている場合、送信アダプタが送信ポートで指定されたプロキシ情報を使用します。|  
|**UseProxy**|xs:boolean|HTTP アダプタがプロキシ サーバーを使用するかどうかを指定します。 プロキシ サーバーはすべての HTTP 送信ポートで共有できます。|なし|**既定値:** False<br /><br /> 場合、このプロパティは無視されます**UseHandlerProxySettings**は**True**です。|  
|**ProxyName**|xs:string|プロキシ サーバーの名前を指定します。|**最小の長さ:** 0<br /><br /> **最大長:** 256|**既定値:** 空<br /><br /> 場合、HTTP 送信アダプタはこのプロパティは無視されます、 **UseHandlerProxySettings**プロパティに設定されている**True**です。 それ以外の場合、HTTP 送信アダプタで使用場合にのみ、このプロパティ**UseProxy**は**True**です。 場合、このプロパティは必須**UseProxy**は**True**です。|  
|**ProxyPort**|xs:int|プロキシ サーバーのポートを指定します。|**最小値:** 0<br /><br /> **最大値:** 65535|**既定値:** 80<br /><br /> 場合、HTTP 送信アダプタはこのプロパティを無視**UseHandlerProxySettings**は**True**です。 それ以外の場合、HTTP 送信アダプタで使用場合にのみ、このプロパティ**UseProxy**は**True**です。 場合、このプロパティは必須**UseProxy**は**True**です。|  
|**ProxyUsername**|xs:string|プロキシ サーバーで認証のユーザー名を指定します。|**最小の長さ:** 0<br /><br /> **最大長:** 256|**既定値:** 空<br /><br /> 場合、HTTP 送信アダプタはこのプロパティを無視**UseHandlerProxySettings**は**True**です。 それ以外の場合、HTTP 送信アダプタで使用場合にのみ、このプロパティ**UseProxy**は**True**です。|  
|**ProxyPassword**|xs:string|プロキシ サーバーで認証用のユーザー パスワードを指定します。|**最小の長さ:** 0<br /><br /> **最大長:** 256|**既定値:** 空<br /><br /> 場合、HTTP 送信アダプタはこのプロパティを無視**UseHandlerProxySettings**は**True**です。 それ以外の場合、HTTP 送信アダプタで使用場合にのみ、このプロパティ**UseProxy**は**True**です。|  
|**AuthenticationScheme**|xs:string|接続先のサーバーで使用する認証の種類です。|なし|**有効な値:**<br /><br /> -   **匿名 (既定値)**<br />-   **基本的な**<br />-   **ダイジェスト**<br />-   **Kerberos**|  
|**ユーザー名**|xs:string|サーバーで認証に使用するユーザー名。|**最小の長さ:** 0<br /><br /> **最大長:** 256|**既定値:** 空<br /><br /> 選択した場合、この値は必須**基本**または**ダイジェスト**認証します。 場合、HTTP アダプターはこのプロパティの値を無視**UseSSO**は**True**です。|  
|**Password**|xs:string|サーバーでの認証に使用するユーザーのパスワード。|**最小の長さ:** 0<br /><br /> **最大長:** 256|**既定値:** 空<br /><br /> 選択した場合、この値は必須**基本**または**ダイジェスト**認証します。 場合、このプロパティの値は無視されます**UseSSO**は**True**です。|  
|**EnableChunkedEncoding**|xs:boolean|HTTP アダプタでチャンク エンコードを使用するかどうかを指定します。|なし|**既定値:**<br /><br /> True|  
|**[MSSQLSERVER のプロトコルのプロパティ]**|xs:string|SSL クライアント証明書の拇印。|**最小の長さ:** 0<br /><br /> **最大長:** 59|**既定値:** 空|  
|**UseSSO**|xs:boolean|送信ポートに SSO を使用するかどうかを指定します。|なし|**既定値:** False|  
|**AffiliateApplicationName**|xs:string|SSO に使用する関連アプリケーションの名前。|**最小の長さ:** 0<br /><br /> **最大長:** 256|**既定値:** 空<br /><br /> 場合は必須**UseSSO**は**True**です。|  
  
 次のコードは、プロパティの設定に使用する XML 文字列を示しています。  
  
```  
<CustomProps>  
   <ContentType vt="8">text/xml</ContentType>  
   <RequestTimeout vt="3">0</RequestTimeout>  
   <MaxRedirects vt="3">5</MaxRedirects>  
   <UseHandlerProxySettings vt="8">-1</UseHandlerProxySettings>  
   <UseProxy vt="8">-1</UseProxy>  
   <ProxyName vt="8">sdfsd</ProxyName>  
   <ProxyPort vt="3">80</ProxyPort>  
   <ProxyUsername vt="8">Somename</ProxyUsername>  
   <ProxyPassword vt="8">Somepassword</ProxyPassword>  
   <AuthenticationScheme vt="8">Basic</AuthenticationScheme>  
   <Username vt="8">Somename</Username>  
   <Password vt="8">Somepassword</Password>  
   <EnableChunkedEncoding vt="11">1</EnableChunkedEncoding>  
   <Certificate vt="8">AAAA BBBB CCCC DDDD</Certificate>  
   <UseSSO vt="11">0</UseSSO>  
   <AffiliateApplicationName vt="8">Name</AffiliateApplicationName>  
</CustomProps>  
```  
  
## <a name="configure-an-http-send-port-with-the-biztalk-server-administration-console"></a>BizTalk Server 管理コンソールを使用して HTTP 送信ポートを構成します。
  
 BizTalk Server 管理コンソールで、HTTP 送信ポート アダプタの変数を設定できます。 プロパティが送信ポートに設定されていない場合は、BizTalk Server 管理コンソールで設定されている既定の送信ハンドラーの値が使用されます。  
  
> [!NOTE]
>  このトピックに記載した構成プロパティは、一方向の HTTP 送信ポートおよび要求 - 応答 HTTP 送信ポートに共通です。  
  
1.  BizTalk Server 管理コンソールで、新しい送信ポートを作成または変更する既存の送信ポートをダブルクリックします。 参照してください[送信ポートを作成する方法](../core/how-to-create-a-send-port2.md)詳細についてはします。 すべての送信ポートのオプションを構成し、指定**HTTP**の**型**オプション、**トランスポート**セクションで、**全般**タブです。  
  
2.  **全般**] タブの [、**トランスポート**セクションで、をクリックして、**構成**横に**型**です。  
  
3.  **HTTP トランスポートのプロパティ** ダイアログ ボックスで、**全般** タブで、次の操作します。  
  
    |プロパティ|目的|  
    |--------------|----------------|  
    |**送信先 URL**|必須。 HTTP 要求の送信先アドレスを指定します。 ベース URL に付加するクエリ文字列も含めます。<br /><br /> **型:** 文字列<br /><br /> **最大長:** 256<br /><br /> 詳細については、次を参照してください。[送信先 URL のプロパティに関する制限事項](../core/restrictions-on-the-destination-url-property.md)です。 **注:** の URI を送信ポートまたは受信場所は、256 文字を超えることはできません。|  
    |**チャンク エンコードを有効にします。**|チャンク エンコードを使用するために指定します。 このオプションを有効にすると、最大チャンク サイズ 8 KB の HTTP チャンク エンコードが使用されます。 チャンク エンコードは暗黙的に無効になっている、HTTP 送信ハンドラを構成する場合**プロキシを使用して**です。<br /><br /> **型:** ブール<br /><br /> **既定値:** は True。|  
    |**要求のタイムアウト (秒)**|HTTP/HTTPS 送信のタイムアウトを秒単位で指定します。 この時間内に HTTP アダプタが応答を受信しない場合、サービスによりエラーがログに記録され、再試行インフラストラクチャに基づいてメッセージが再送信されます。<br /><br /> かどうかゼロ (0) に設定すると、BizTalk メッセージング エンジンによって計算要求メッセージのサイズに基づいて、タイムアウトします。 値を設定しないと、ハンドラの値が使用されます。<br /><br /> **型:** 長<br /><br /> **最小値:** 0<br /><br /> **最大値:** MAX_LONG|  
    |**リダイレクトの最大数**|送信されるメッセージに許可されるリダイレクトの最大数を指定します。<br /><br /> **既定値:** 5<br /><br /> **型:** Int<br /><br /> **最小値:** 0<br /><br /> **最大値:** 10|  
    |**コンテンツの種類**|要求メッセージのコンテンツの種類を指定します。<br /><br /> この値が設定されていない場合、ハンドラの値が使用されます。<br /><br /> **型:** 文字列<br /><br /> **最小の長さ:** 0<br /><br /> **最大長:** 256|  
  
4.  **HTTP トランスポートのプロパティ** ダイアログ ボックスで、**プロキシ (ハンドラ上書き)**  タブで、次の操作します。  
  
    |プロパティ|目的|  
    |--------------|----------------|  
    |**ハンドラーの既定のプロキシ構成を使用します。**|送信ポートの構成で、HTTP 送信ハンドラに指定したプロキシ設定を使用することを指定します。<br /><br /> これが既定の設定です。|  
    |**プロキシを使用しません。**|HTTP 送信ハンドラがプロキシ サーバーを使用するかどうかを指定します。<br /><br /> このオプションを選択すると、この送信ポートの HTTP 送信ハンドラでプロキシ サーバーが使用されません。|  
    |**[プロキシを使用する]**|HTTP 送信ハンドラがプロキシ サーバーを使用するかどうかを指定します。<br /><br /> このオプションを選択すると、HTTP 送信ハンドラでプロキシ サーバーが使用されます。|  
    |**[サーバー]**|この送信ポートのプロキシ サーバー アドレスを指定します。<br /><br /> 場合にこのプロパティが値にのみ必要と**プロキシを使用して**が選択されています。<br /><br /> **型:** 文字列<br /><br /> **最小の長さ:** 0<br /><br /> **最大長:** 256|  
    |**[ポート]**|この送信ポートのプロキシ サーバー ポートを指定します。<br /><br /> 場合にこのプロパティが値にのみ必要と**プロキシを使用して**が選択されています。<br /><br /> **既定値:** 80<br /><br /> **型:** 長<br /><br /> **最小値:** 0<br /><br /> **最大値:** 65535|  
    |**ユーザー名**|プロキシ サーバーで認証のユーザー名を指定します。<br /><br /> 場合にこのプロパティが値にのみ必要と**プロキシを使用して**が選択されています。<br /><br /> **型:** 文字列<br /><br /> **最小の長さ:** 0<br /><br /> **最大長:** 256|  
    |**Password**|プロキシ サーバーで認証に使用するユーザー パスワードを指定します。<br /><br /> 場合にこのプロパティが値にのみ必要と**プロキシを使用して**が選択されています。<br /><br /> **型:** 文字列<br /><br /> **最小の長さ:** 0<br /><br /> **最大長:** 256|  
  
5.  **HTTP トランスポートのプロパティ** ダイアログ ボックスで、**認証** タブで、次の操作します。  
  
    |プロパティ|目的|  
    |--------------|----------------|  
    |**認証の種類**|接続先のサーバーで使用する認証の種類を指定します。<br /><br /> 有効なオプションを次に示します。<br /><br /> -   **匿名**<br />-   **基本的な**<br />-   **ダイジェスト**<br />-   **Kerberos**<br /><br /> **既定値:** 匿名|  
    |**資格情報**|使用する資格情報の種類を指定します。<br /><br /> 場合にのみ使用可能な**認証の種類**は**基本**または**ダイジェスト**です。<br /><br /> 有効なオプションを次に示します。<br /><br /> -   **シングル サインオンを使用しないでください。**<br />     **ユーザー名:**<br />     移行先サーバーで認証に使用するユーザー名。 場合、**認証の種類**プロパティは**匿名**または**Kerberos**、このオプションは無効です。 場合、このプロパティが値を必要と**基本**または**ダイジェスト**が選択されているエンタープライズ シングル サインオンは使用されません。<br />     **最小の長さ:** 0<br />     **最大長:** 256<br />     **パスワード:**<br />     接続先のサーバーで認証に使用するパスワードを指定します。 場合、**認証の種類**プロパティは**匿名**または**Kerberos**、このオプションは無効です。 場合、このプロパティが値を必要と**基本**または**ダイジェスト**が選択されているとシングル サインオンでは使用されません。<br />     **最小の長さ:** 0<br />     **最大長:** 256<br />-   **シングル サインオンを使用します。**<br />     接続先のサーバーでの認証でクライアントの資格情報を取得する際に、シングル サインオンを使用するかどうかを指定します。<br />     **関連アプリケーション**<br />     シングル サインオンを使用する関連アプリケーションを指定します。<br />     シングル サインオンに含めるアプリケーションを選択します。<br />     **最小の長さ:** 0<br />     **最大長:** 256|  
    |**SSL クライアント証明書の拇印**|SSL (Secure Sockets Layer) 接続の確立に使用するクライアント証明書の拇印を指定します。<br /><br /> **最小の長さ:** 0<br /><br /> **最大長:** 59|  
  
6.  をクリックして **[ok]** と**OK**もう一度設定を保存します。  
  
## <a name="see-also"></a>参照  
 [HTTP 送信ポートの構成](../core/configuring-an-http-send-port.md)