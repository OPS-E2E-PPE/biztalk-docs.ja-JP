---
title: 既知の問題 edi の送信処理 |Microsoft ドキュメント
ms.custom: ''
ms.date: 06/08/2017
ms.prod: biztalk-server
ms.reviewer: ''
ms.suite: ''
ms.tgt_pltfrm: ''
ms.topic: article
ms.assetid: 1325dcd9-5dbb-48bb-b5a3-1502d1424d4e
caps.latest.revision: 31
author: MandiOhlinger
ms.author: mandia
manager: anneta
ms.openlocfilehash: fbebfa213aa125252a8c58e246df376e2a36527d
ms.sourcegitcommit: cb908c540d8f1a692d01dc8f313e16cb4b4e696d
ms.translationtype: MT
ms.contentlocale: ja-JP
ms.lasthandoff: 09/20/2017
ms.locfileid: "22263314"
---
# <a name="known-issues-with-edi-send-processing"></a><span data-ttu-id="9cf17-102">EDI の送信処理に関する既知の問題</span><span class="sxs-lookup"><span data-stu-id="9cf17-102">Known Issues with EDI Send Processing</span></span>
<span data-ttu-id="9cf17-103">このトピックでは、EDI 送信パイプラインでの処理に関する既知の問題について説明します。</span><span class="sxs-lookup"><span data-stu-id="9cf17-103">This topic describes known issues with processing in the EDI send pipeline.</span></span>  
  
## <a name="x12-implied-decimal-point-causes-length-validation-to-fail"></a><span data-ttu-id="9cf17-104">X12 の暗黙的な小数点が原因で長さの検証に失敗する</span><span class="sxs-lookup"><span data-stu-id="9cf17-104">X12 Implied Decimal Point Causes Length Validation to Fail</span></span>  
 <span data-ttu-id="9cf17-105">**現象**</span><span class="sxs-lookup"><span data-stu-id="9cf17-105">**Symptom**</span></span>  
  
 <span data-ttu-id="9cf17-106">EDI 送信パイプラインが、中間 XML に含まれる底 10 の数値を、送信する EDI インターチェンジで Nn 形式の数値に変換するときに、XML インターチェンジの長さの検証に失敗します。</span><span class="sxs-lookup"><span data-stu-id="9cf17-106">When the EDI send pipeline converts a base-10 numeric value in the intermediate XML to a number in the format Nn in the outgoing EDI interchange, the XML interchange fails length validation.</span></span>  
  
 <span data-ttu-id="9cf17-107">**考えられる原因**</span><span class="sxs-lookup"><span data-stu-id="9cf17-107">**Possible Cause**</span></span>  
  
 <span data-ttu-id="9cf17-108">EDI 送信パイプラインは、X12 でエンコードされた EDI インターチェンジをシリアル化するときに、必ず底 10 の数値を暗黙的な小数点を含む Nn 形式の数値に変換します。</span><span class="sxs-lookup"><span data-stu-id="9cf17-108">When serializing an X12-encoded EDI interchange, the EDI send pipelines will always convert a base-10 numeric value to a number in the format Nn with an implied decimal point.</span></span> <span data-ttu-id="9cf17-109">たとえば、中間 XML ファイルに 12.34 という値が含まれている場合、これが数値型 N2 として指定されていると、EDI 送信パイプラインは、EDI インターチェンジでこれを 1234 に変換します。</span><span class="sxs-lookup"><span data-stu-id="9cf17-109">For example, if there is a value in the intermediate XML file of 12.34, the EDI send pipeline will convert it in the EDI interchange to 1234 when it is specified as numeric type N2.</span></span> <span data-ttu-id="9cf17-110">底 10 の数値の長さは、Nn 形式の数値より 1 だけ長くなります。</span><span class="sxs-lookup"><span data-stu-id="9cf17-110">The length of the base-10 numeric value will be one greater than the length of the number in the format Nn.</span></span> <span data-ttu-id="9cf17-111">Nn 形式の数値の長さが最大である場合、中間 XML 内の底 10 の数値は、XML の長さの検証で失敗します。</span><span class="sxs-lookup"><span data-stu-id="9cf17-111">If the length of the number in the format Nn is the maximum, the base-10 numeric value in the intermediate XML could fail XML length validation.</span></span>  
  
 <span data-ttu-id="9cf17-112">これは、X12 エンコード インターチェンジの問題だけです。</span><span class="sxs-lookup"><span data-stu-id="9cf17-112">This is only an issue with X12-encoded interchanges.</span></span>  
  
 <span data-ttu-id="9cf17-113">**解決策**</span><span class="sxs-lookup"><span data-stu-id="9cf17-113">**Resolution**</span></span>  
  
 <span data-ttu-id="9cf17-114">XML の数値の最大長を 1 だけ増やします。</span><span class="sxs-lookup"><span data-stu-id="9cf17-114">Add a value of 1 to the maximum length value of the XML number.</span></span>  
  
## <a name="control-numbers-may-need-to-be-reset-archived-or-purged"></a><span data-ttu-id="9cf17-115">制御番号をリセット、アーカイブ、または削除する必要が発生する場合がある</span><span class="sxs-lookup"><span data-stu-id="9cf17-115">Control Numbers May Need to Be Reset, Archived, or Purged</span></span>  
 <span data-ttu-id="9cf17-116">制御番号がフィールドの最大長に達すると、BizTalk Server でエラーが発生し、インターチェンジが中断されます。</span><span class="sxs-lookup"><span data-stu-id="9cf17-116">If any control number reaches the length restriction limit for the field, BizTalk Server will raise an error and suspend the interchange.</span></span> <span data-ttu-id="9cf17-117">このため、[EDI のプロパティ] または [EDI グローバル プロパティ] ダイアログ ボックスで制御番号をリセットする必要があります。</span><span class="sxs-lookup"><span data-stu-id="9cf17-117">You will have to reset the control number entered in the EDI Properties or EDI Global Properties dialog box.</span></span>  
  
 <span data-ttu-id="9cf17-118">制御番号は、BizTalk MessageBox データベースの dbo.EdiSequenceNumbers テーブルに保存されています。</span><span class="sxs-lookup"><span data-stu-id="9cf17-118">Control numbers are saved in the dbo.EdiSequenceNumbers table of the BizTalk MessageBox database.</span></span> <span data-ttu-id="9cf17-119">必要に応じて、このテーブルの制御番号を削除するかアーカイブすることによって、このデータベースを管理する必要があります。</span><span class="sxs-lookup"><span data-stu-id="9cf17-119">You should manage this database table by purging the control numbers from the table or archiving the control numbers, as appropriate.</span></span>  
  
 <span data-ttu-id="9cf17-120">選択して制御番号の自動リセットを有効にすることもできます**範囲外の時は下限にリセット**EDI のプロパティ ダイアログ ボックスをオンにします。</span><span class="sxs-lookup"><span data-stu-id="9cf17-120">You can also enable automatic reset of control numbers by selecting **Reset to lower limit when out of bound** in the EDI Properties dialog box.</span></span>  
  
## <a name="the-data-element-name-in-a-context-property-name-contains-an-underscore-not-a-period"></a><span data-ttu-id="9cf17-121">データ要素名のピリオドがコンテキスト プロパティ名ではアンダースコアになる</span><span class="sxs-lookup"><span data-stu-id="9cf17-121">The Data Element Name in a Context Property Name Contains an Underscore, Not a Period</span></span>  
 <span data-ttu-id="9cf17-122">EDI セグメント内のデータ要素名には、ピリオドが含まれています (UNB2 送信者セグメントの ID フィールドである UNB2.1 など)。</span><span class="sxs-lookup"><span data-stu-id="9cf17-122">The name of a data element within an EDI segment contains a period, for example, UNB2.1, which is the identification field for the UNB2 Sender segment.</span></span> <span data-ttu-id="9cf17-123">しかし、データ要素名が EDI コンテキスト プロパティの一部となった場合 (送信ポートのフィルター式など)、ピリオドがアンダースコアに置き換えられます。</span><span class="sxs-lookup"><span data-stu-id="9cf17-123">However, when the data element name is included as part of an EDI context property (for example, in the filter expression of a send port), the period is replaced with an underscore.</span></span> <span data-ttu-id="9cf17-124">たとえば、送信者 ID データ要素を表すコンテキスト プロパティは、EDI.UNB2.1 ではなく EDI.UNB2_1 となります。</span><span class="sxs-lookup"><span data-stu-id="9cf17-124">For example, the context property for the Sender Identification data element is EDI.UNB2_1, not EDI.UNB2.1.</span></span> <span data-ttu-id="9cf17-125">この現象は、コンテキスト プロパティ名でピリオドがサポートされていないために発生します。</span><span class="sxs-lookup"><span data-stu-id="9cf17-125">The reason for this is that a period is not supported in a context property name.</span></span>  
  
## <a name="context-property-values-from-data-elements-must-not-contain-leading-or-trailing-spaces-in-filter-expressions"></a><span data-ttu-id="9cf17-126">データ要素から取得されたコンテキスト プロパティ値をフィルター式で使用する場合、前後のスペースを削除する必要がある</span><span class="sxs-lookup"><span data-stu-id="9cf17-126">Context Property Values from Data Elements Must Not Contain Leading or Trailing Spaces in Filter Expressions</span></span>  
 <span data-ttu-id="9cf17-127">EDI インターチェンジのエンベロープに含まれるデータ要素の前後にスペースが含まれており、受信パイプラインがそのデータ要素の値を使用したコンテキスト プロパティを昇格させる場合、受信パイプラインは、そのコンテキスト プロパティの前後のスペースを削除します。</span><span class="sxs-lookup"><span data-stu-id="9cf17-127">If a data element in the envelope of an EDI interchange contains leading or trailing spaces, and a receive pipeline promotes a context property with the value of that data element, the receive pipeline will remove the leading or trailing spaces from the context property.</span></span> <span data-ttu-id="9cf17-128">このため、そのコンテキスト プロパティを使用してフィルター式を作成する場合、前後のスペースのないプロパティ値を入力する必要があります。</span><span class="sxs-lookup"><span data-stu-id="9cf17-128">As a result, if you create a filter expression with that context property, you must enter a value for the property that does not contain leading or trailing spaces.</span></span> <span data-ttu-id="9cf17-129">フィルター式でプロパティの前後にスペースが含まれていると、コンテキスト プロパティには前後のスペースが含まれていないため、そのフィルター式で正しい結果を得ることができません。</span><span class="sxs-lookup"><span data-stu-id="9cf17-129">If your filter expression were to contain leading or trailing spaces, the filter expression would not resolve in a match with the context property, which will not contain leading or trailing spaces.</span></span>  
  
## <a name="default-party-as-interchange-receiver-properties-for-preserved-interchange-will-cause-the-send-pipeline-to-fail"></a><span data-ttu-id="9cf17-130">保存されたインターチェンジのインターチェンジ受信者プロパティに既定のパーティが指定されていると、送信パイプラインでエラーが発生する</span><span class="sxs-lookup"><span data-stu-id="9cf17-130">Default Party as Interchange Receiver Properties for Preserved Interchange Will Cause the Send Pipeline to Fail</span></span>  
 <span data-ttu-id="9cf17-131">BizTalk Server が、保存する必要のあるバッチ化されたインターチェンジを受信したときに (インターチェンジがエラーにより中断された場合)、インターチェンジの受信パーティを表すプロパティが既定値に設定されていると、そのインターチェンジをサブスクライブする送信パイプラインでエラーが発生します。</span><span class="sxs-lookup"><span data-stu-id="9cf17-131">If BizTalk Server receives a batched interchange that should be preserved (with the interchange suspended on error), the send pipeline that subscribes to the interchange will fail if the properties for the party as interchange receiver are set to their default values.</span></span> <span data-ttu-id="9cf17-132">これらのプロパティ (送信者修飾子の ISA5 や送信者 ID の ISA6 など) は、有効な値に設定する必要があります。</span><span class="sxs-lookup"><span data-stu-id="9cf17-132">These properties, such as ISA5, Sender qualifier, and ISA6, Sender identifier, must be set to valid values.</span></span> <span data-ttu-id="9cf17-133">BizTalk Server では、パーティの構成が無効であるためにメッセージをシリアル化できないことを示すエラーが発生します。</span><span class="sxs-lookup"><span data-stu-id="9cf17-133">BizTalk Server will post an error indicating that the message could not be serialized due to an invalid party configuration.</span></span> <span data-ttu-id="9cf17-134">バッチ化されたインターチェンジのヘッダーには、送信者修飾子や送信者 ID などの必須の構成設定が含まれているため、この処理は正しくありません。</span><span class="sxs-lookup"><span data-stu-id="9cf17-134">This processing is not correct, because a preserved interchange has the required configuration settings, such as Sender qualifier and Sender identifier, in its headers.</span></span>  
  
## <a name="the-decimal-notation-in-a-message-will-be-changed-if-the-send-side-party-or-global-setting-specifies-a-different-decimal-notation"></a><span data-ttu-id="9cf17-135">メッセージで使用されている小数点表記と、送信側パーティまたはグローバル設定で指定されている小数点表記が異なる場合、メッセージの小数点表記が変更される</span><span class="sxs-lookup"><span data-stu-id="9cf17-135">The Decimal Notation in a Message Will Be Changed If the Send-Side Party or Global Setting Specifies a Different Decimal Notation</span></span>  
 <span data-ttu-id="9cf17-136">インターチェンジで使用されている小数点表記が、UNA3 パーティ プロパティで送信メッセージに指定されている小数点表記と異なる場合、BizTalk Server は、インターチェンジをシリアル化して送信するときに、インターチェンジのエンベロープで使用されている小数点表記を変更します。</span><span class="sxs-lookup"><span data-stu-id="9cf17-136">If the decimal notation used in an interchange is different from the decimal notation specified for outgoing messages by the UNA3 party property, BizTalk Server will change the decimal notation used in the envelope of the interchange when it serializes it for sending.</span></span> <span data-ttu-id="9cf17-137">この現象は、UNA3 パーティ プロパティではなく UNA3 グローバル プロパティが使用されている場合にも発生します。</span><span class="sxs-lookup"><span data-stu-id="9cf17-137">This will also be the case if the UNA3 global property is used instead than the UNA3 party property.</span></span> <span data-ttu-id="9cf17-138">たとえば場合は、受信メッセージで使用される小数点表記は、ピリオド、および、UNA3 パーティ プロパティまたは送信メッセージの 10 進表記法を決定する UNA3 グローバル プロパティは、コンマを指定します、BizTalk Server は変更の小数点表記、コンマを送信メッセージ。</span><span class="sxs-lookup"><span data-stu-id="9cf17-138">For example, if the decimal notation used in an incoming message is a period, and the UNA3 party property or the UNA3 global property that determines the decimal notation of an outgoing message specifies a comma, BizTalk Server will change the decimal notation in the outgoing message to a comma.</span></span>  
  
## <a name="edi-send-pipelines-cannot-be-executed-from-within-an-orchestration"></a><span data-ttu-id="9cf17-139">EDI 送信パイプラインをオーケストレーションから実行できない</span><span class="sxs-lookup"><span data-stu-id="9cf17-139">EDI Send Pipelines Cannot Be Executed from within an Orchestration</span></span>  
 <span data-ttu-id="9cf17-140">[!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] では、通常はオーケストレーションの式図形内から送信パイプラインを実行できます。</span><span class="sxs-lookup"><span data-stu-id="9cf17-140">In [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)], you can normally execute send pipelines within an Expression shape in an orchestration.</span></span> <span data-ttu-id="9cf17-141">しかし、EDISend パイプラインや AS2EdiSend パイプラインは実行できません。</span><span class="sxs-lookup"><span data-stu-id="9cf17-141">However, this will not work with the EDISend pipeline or the AS2EdiSend pipeline.</span></span> <span data-ttu-id="9cf17-142">これらのパイプラインは、送信ポート内で実行する必要があります。</span><span class="sxs-lookup"><span data-stu-id="9cf17-142">These pipelines must be executed within a send port.</span></span> <span data-ttu-id="9cf17-143">EDISend パイプラインや AS2EdiSend パイプラインをオーケストレーションの式図形で実行しようとすると、パイプラインが送信ポートにバインドされず、メッセージが中断されます。</span><span class="sxs-lookup"><span data-stu-id="9cf17-143">If you attempt to execute the EDISend pipeline or the AS2EdiSend pipeline in an Expression shape in an orchestration, the pipeline will not be bound to a send port, and the message will be suspended.</span></span>  
  
## <a name="biztalk-edi-application-must-not-be-modified"></a><span data-ttu-id="9cf17-144">BizTalk EDI アプリケーションを変更できない</span><span class="sxs-lookup"><span data-stu-id="9cf17-144">BizTalk EDI Application Must Not Be Modified</span></span>  
 <span data-ttu-id="9cf17-145">BizTalk EDI アプリケーション内のアイテムは、変更または削除できません。</span><span class="sxs-lookup"><span data-stu-id="9cf17-145">Artifacts in the BizTalk EDI Application must not be modified or deleted.</span></span> <span data-ttu-id="9cf17-146">このアプリケーションを変更すると、EDI 機能や AS2 機能の構成を解除して再構成しても、元のアプリケーションを復元することはできません。</span><span class="sxs-lookup"><span data-stu-id="9cf17-146">If this application is modified, there is no way for you to revert to the original application by unconfiguring and reconfiguring the EDI and AS2 features.</span></span>  
  
## <a name="using-the-default-row-in-the-functional-group-header-grid-can-result-in-a-message-type-mismatch-between-the-interchange-header-and-the-group-header"></a><span data-ttu-id="9cf17-147">機能グループ ヘッダー グリッドの既定の行を使用することにより、インターチェンジ ヘッダーとグループ ヘッダーとの間でメッセージの種類が一致しない場合がある</span><span class="sxs-lookup"><span data-stu-id="9cf17-147">Using the Default Row in the Functional Group Header Grid can Result in a Message-Type Mismatch Between the Interchange Header and the Group Header</span></span>  
 <span data-ttu-id="9cf17-148">EDIFACT でエンコードされた送信インターチェンジの UNH2.1 の値が、[UNG および UNH セグメントの定義] ページのグリッドの [メッセージの種類 UNH2.1 の場合] の値と一致しない場合、メッセージに入力される UNG1 の値が UNH2.1 の値と一致しないことがあります。</span><span class="sxs-lookup"><span data-stu-id="9cf17-148">If the value of UNH2.1 of an outgoing EDIFACT-encoded interchange does not match the value of "For message type UNH2.1" in the grid in the UNG and UNH Segment Definition page, the value of UNG1 entered in the message may not correspond to the value of UNH2.1.</span></span>  
  
 <span data-ttu-id="9cf17-149">この不一致は、メッセージにグリッドの既定行の UNH2.1 要素との一致がない場合でも、BizTalk がその既定行の UNG1 の値をメッセージに設定することが原因で発生します。</span><span class="sxs-lookup"><span data-stu-id="9cf17-149">This can occur because BizTalk will populate the message with the values for UNG1 in the default row of the grid even if the message does not have a match with the UNH2.1 element of that default row.</span></span>  
  
 <span data-ttu-id="9cf17-150">X12 でエンコードされた送信インターチェンジの ST1 の値が、[GS および ST セグメントの定義] ページのグリッドの [ST1 の場合] の値と一致しない場合、メッセージに入力される GS1 の値は、ST1 の値に基づいて動的に決定されます。</span><span class="sxs-lookup"><span data-stu-id="9cf17-150">If the value of ST1 of an outgoing X12-encoded interchange does not match the value of “For ST1” in the grid in the GS and ST Segment Definition page, the value of GS1 entered in the message will be dynamically determined based on the value of ST1.</span></span>  
  
## <a name="invalid-character-in-data-element"></a><span data-ttu-id="9cf17-151">データ要素に無効な文字がある</span><span class="sxs-lookup"><span data-stu-id="9cf17-151">Invalid Character in Data Element</span></span>  
 <span data-ttu-id="9cf17-152">**現象**</span><span class="sxs-lookup"><span data-stu-id="9cf17-152">**Symptom**</span></span>  
  
 <span data-ttu-id="9cf17-153">EDI 送信パイプラインを使用して EDI インターチェンジを送信する場合、"データ要素に無効な文字がある" というエラーがアプリケーション イベント ログに記録されることがあります。</span><span class="sxs-lookup"><span data-stu-id="9cf17-153">When sending an EDI interchange using the EDI send pipeline, you may receive an error in the application event log stating that there is ‘Invalid character in data element’.</span></span>  
  
 <span data-ttu-id="9cf17-154">**考えられる原因**</span><span class="sxs-lookup"><span data-stu-id="9cf17-154">**Possible Cause**</span></span>  
  
 <span data-ttu-id="9cf17-155">このエラーは、ペイロード データに含まれる文字が区切り文字としても使用されている場合に発生します。</span><span class="sxs-lookup"><span data-stu-id="9cf17-155">This error can occur if a character contained in the payload data is also used as a separator.</span></span> <span data-ttu-id="9cf17-156">たとえば、"." 文字をコンポーネントの区切り文字として使用しており、ペイロード データにも "." 文字が含まれている場合があります。</span><span class="sxs-lookup"><span data-stu-id="9cf17-156">For instance, if you are using the ‘:’ character as the component separator but the payload data also contains the ‘:’ character.</span></span>  
  
 <span data-ttu-id="9cf17-157">これは、X12 エンコード インターチェンジの問題だけです。</span><span class="sxs-lookup"><span data-stu-id="9cf17-157">This is only an issue with X12-encoded interchanges.</span></span>  
  
 <span data-ttu-id="9cf17-158">**解決策**</span><span class="sxs-lookup"><span data-stu-id="9cf17-158">**Resolution**</span></span>  
  
 <span data-ttu-id="9cf17-159">使用して、**ペイロードの区切り記号を置き換えます**での設定、 **ISA セグメントの定義**によってペイロード データの区切り記号の文字が見つかったことを指定する EDI パーティ プロパティのページを置き換える必要があります、インターチェンジを送信するときに、置換文字を指定します。</span><span class="sxs-lookup"><span data-stu-id="9cf17-159">Use the **Replace separators in payload with** setting in the **ISA Segment Definition** page of the EDI party properties to specify that separator characters found in the payload data should be replaced by the specified replacement character when sending the interchange.</span></span>  
  
 <span data-ttu-id="9cf17-160">たとえばを選択すると**ペイロードの区切り記号を置き換えます**」と入力して、' (& a) #124;' 文字がペイロード データに区切り文字の任意の出現箇所を置き換えますが、' (& a) #124;'、インターチェンジは文字EDI 送信パイプラインを使用して送信されます。</span><span class="sxs-lookup"><span data-stu-id="9cf17-160">For example, selecting **Replace separators in payload with** and entering the ‘&#124;’ character will replace any occurrence of a separator character in the payload data with the ‘&#124;’ character when the interchange is sent using the EDI send pipeline.</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="9cf17-161">参照</span><span class="sxs-lookup"><span data-stu-id="9cf17-161">See Also</span></span>  
 <span data-ttu-id="9cf17-162">[EDI 処理に関する既知の問題](../core/known-issues-with-edi-processing.md) </span><span class="sxs-lookup"><span data-stu-id="9cf17-162">[Known Issues with EDI Processing](../core/known-issues-with-edi-processing.md) </span></span>  
 <span data-ttu-id="9cf17-163">[BizTalk Server が EDI メッセージを送信する方法](../core/how-biztalk-server-sends-edi-messages.md) </span><span class="sxs-lookup"><span data-stu-id="9cf17-163">[How BizTalk Server Sends EDI Messages](../core/how-biztalk-server-sends-edi-messages.md) </span></span>  
 [<span data-ttu-id="9cf17-164">EDI インターチェンジの送信チュートリアル (X12):</span><span class="sxs-lookup"><span data-stu-id="9cf17-164">Walkthrough (X12): Sending EDI Interchanges</span></span>](../core/walkthrough-x12-sending-edi-interchanges.md)