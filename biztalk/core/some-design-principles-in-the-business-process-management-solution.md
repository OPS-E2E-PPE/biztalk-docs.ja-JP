---
title: 一部のデザインの原則には、ビジネス プロセス管理ソリューションで |Microsoft ドキュメント
ms.custom: ''
ms.date: 06/08/2017
ms.prod: biztalk-server
ms.reviewer: ''
ms.suite: ''
ms.tgt_pltfrm: ''
ms.topic: article
helpviewer_keywords:
- business processes, design principals
- designing, design principals
- process management solution tutorial, dividing business processes
- patterns [process management solutions], design principals
ms.assetid: 688b970f-8e64-4a47-bcc5-bdb9c5195902
caps.latest.revision: 8
author: MandiOhlinger
ms.author: mandia
manager: anneta
ms.openlocfilehash: b975f94853c155da41f09b2b0ff76a681c1df075
ms.sourcegitcommit: cb908c540d8f1a692d01dc8f313e16cb4b4e696d
ms.translationtype: MT
ms.contentlocale: ja-JP
ms.lasthandoff: 09/20/2017
ms.locfileid: "22279362"
---
# <a name="some-design-principles-in-the-business-process-management-solution"></a><span data-ttu-id="7ce56-102">ビジネス プロセス管理ソリューションにおけるいくつかの設計方針</span><span class="sxs-lookup"><span data-stu-id="7ce56-102">Some Design Principles in the Business Process Management Solution</span></span>
<span data-ttu-id="7ce56-103">ここでは、まず、ビジネス プロセスをステージに分割する一般的なガイドラインを説明します。</span><span class="sxs-lookup"><span data-stu-id="7ce56-103">This topic begins with general guidelines about dividing business processes into stages.</span></span> <span data-ttu-id="7ce56-104">次に、これらのガイドラインとビジネス要件に関連するソリューションのオーケストレーション、アセンブリ、およびアプリケーションのいくつかについて、その構造を検討します。</span><span class="sxs-lookup"><span data-stu-id="7ce56-104">It then goes on to consider the structure of some of the solution's orchestrations, assemblies, and applications in connection with these guidelines and the business requirements.</span></span> <span data-ttu-id="7ce56-105">ビジネス要件に関する詳細については、「ビジネス要件」を参照してください[ビジネス プロセス管理ソリューションを理解する](../core/understanding-the-business-process-management-solution.md)です。</span><span class="sxs-lookup"><span data-stu-id="7ce56-105">For more information about the business requirements, see "Business Requirements" in [Understanding the Business Process Management Solution](../core/understanding-the-business-process-management-solution.md).</span></span>  
  
## <a name="dividing-business-processes"></a><span data-ttu-id="7ce56-106">ビジネス プロセスの分割</span><span class="sxs-lookup"><span data-stu-id="7ce56-106">Dividing Business Processes</span></span>  
 <span data-ttu-id="7ce56-107">ビジネス プロセスを検討する場合、多くは、最初にビジネス プロセスを単一の大きなプロセスとして扱います。</span><span class="sxs-lookup"><span data-stu-id="7ce56-107">Often when considering a business process, the first impulse is to treat it as a single, monolithic process.</span></span> <span data-ttu-id="7ce56-108">これは、必ずしも最適な設計ではありません。</span><span class="sxs-lookup"><span data-stu-id="7ce56-108">This is not always the best design.</span></span> <span data-ttu-id="7ce56-109">Southridge Video の注文は、長時間実行されるビジネス プロセス (完了までに 1 年かかる) です。</span><span class="sxs-lookup"><span data-stu-id="7ce56-109">For Southridge Video, an order is a long running business process, a process that may take up to a year to complete.</span></span> <span data-ttu-id="7ce56-110">その間、ビジネス プロセス自体が変更される可能性があります。</span><span class="sxs-lookup"><span data-stu-id="7ce56-110">In the meantime, the business process itself may change.</span></span> <span data-ttu-id="7ce56-111">インプロセスの注文を中断しないでビジネス プロセスを更新するため、Southridge Video の注文処理はステージに分割されます。</span><span class="sxs-lookup"><span data-stu-id="7ce56-111">To allow updates to the business process without disrupting in-process orders, the Southridge Video order processing is divided into stages.</span></span>  
  
 <span data-ttu-id="7ce56-112">プロセスをどこで分割するかは、プロセスのどの部分をバージョン管理するか、および未処理の注文に対して許可する中断の種類を決定する重要な要素です。</span><span class="sxs-lookup"><span data-stu-id="7ce56-112">Where you divide the process is critical to which parts of the process you can version, and to the types of disruptions that you allow to outstanding orders.</span></span> <span data-ttu-id="7ce56-113">Southridge Video ソリューションは、4 つの一般的な基準を使用して、ステージを決定します。</span><span class="sxs-lookup"><span data-stu-id="7ce56-113">The Southridge Video solution uses four general criteria to determine the stages:</span></span>  
  
-   <span data-ttu-id="7ce56-114">ビジネス プロセスのステップの論理的なグループ。</span><span class="sxs-lookup"><span data-stu-id="7ce56-114">The logical grouping of steps in the business process.</span></span>  
  
-   <span data-ttu-id="7ce56-115">オーケストレーション内の操作の範囲。</span><span class="sxs-lookup"><span data-stu-id="7ce56-115">The scope of operations within an orchestration.</span></span>  
  
-   <span data-ttu-id="7ce56-116">ビジネス プロセスを考慮した場合のバージョン管理に便利なプロセスの要素。</span><span class="sxs-lookup"><span data-stu-id="7ce56-116">The elements of the process that would be useful to version, given the business process.</span></span>  
  
-   <span data-ttu-id="7ce56-117">オーケストレーションは、長時間を要する操作を実行した後に終了する。</span><span class="sxs-lookup"><span data-stu-id="7ce56-117">An orchestration should end after completing a long-term operation.</span></span>  
  
 <span data-ttu-id="7ce56-118">4 つのうち、1 番目と 3 番目が最も重要です。これは、論理的なグループやバージョン管理が自明な要素よりも操作の範囲が通常かなり広くなるためです。</span><span class="sxs-lookup"><span data-stu-id="7ce56-118">Of the four, the first and third are the most critical because there will usually be far more scopes of operations than logical groupings or obvious elements to version.</span></span> <span data-ttu-id="7ce56-119">ただし、範囲の途中でオーケストレーションを終了する必要はないので注意してください。</span><span class="sxs-lookup"><span data-stu-id="7ce56-119">Notice, however, that you do not want to end an orchestration in the middle of a scope.</span></span>  
  
 <span data-ttu-id="7ce56-120">最初のステージのオーケストレーションを見る場合**CableOrder1.odx**、facilities system は要求-応答シーケンスに効果的に終了すると表示されます。</span><span class="sxs-lookup"><span data-stu-id="7ce56-120">If you look at the orchestration for the first stage, **CableOrder1.odx**, you'll see that it effectively ends with the request-response sequence to the facilities system.</span></span> <span data-ttu-id="7ce56-121">これは、注文を実行する実際の処理を含むプロセスの一部なので、ステージが終了する場所として適しています。</span><span class="sxs-lookup"><span data-stu-id="7ce56-121">This is a good place for the stage to end because it is the part of the process that involves the actual physical work of completing the order.</span></span> <span data-ttu-id="7ce56-122">オーケストレーションの最後付近に長時間実行されるステップを用意する場合、復元するとオーケストレーションがすぐに終了します。</span><span class="sxs-lookup"><span data-stu-id="7ce56-122">Having the long processing steps near the end of the orchestration guarantees that, when rehydrated, the orchestration ends quickly.</span></span> <span data-ttu-id="7ce56-123">これにより、新しいバージョンのオーケストレーションへのソリューション全体の移動速度が上がります。</span><span class="sxs-lookup"><span data-stu-id="7ce56-123">This speeds up the movement of the solution as a whole to newer versions of the orchestrations.</span></span>  
  
> [!NOTE]
>  <span data-ttu-id="7ce56-124">ソリューションでプロセスが不連続のステージに分割されますが、ソリューションを監視すると、BAM を通じて連続ビューで表示できます。</span><span class="sxs-lookup"><span data-stu-id="7ce56-124">Although the solution splits the process into discontinuous stages, the solution monitoring enables you to see things a continuous view through the use of BAM.</span></span>  
  
## <a name="order-action-broker-and-manager-orchestrations"></a><span data-ttu-id="7ce56-125">Order Action、Broker、および Manager オーケストレーション</span><span class="sxs-lookup"><span data-stu-id="7ce56-125">Order Action, Broker, and Manager Orchestrations</span></span>  
 <span data-ttu-id="7ce56-126">注文処理ステージを分割する、以外もわかります各注文のアクション: たとえば、注文、注文の検証の分析、注文の取り消し: 個別のオーケストレーションでは、します。</span><span class="sxs-lookup"><span data-stu-id="7ce56-126">In addition to breaking the order processing into stages, you will also notice that each of the order actions—for example, analyzing the order, order validation, order cancellation—is in a separate orchestration.</span></span> <span data-ttu-id="7ce56-127">各アクションを個別のオーケストレーションに配置すると、ステージの構造からアクションが分離されます。</span><span class="sxs-lookup"><span data-stu-id="7ce56-127">Putting each action in a separate orchestration decouples the actions from the structure of the stages.</span></span> <span data-ttu-id="7ce56-128">これにより、注文処理ステージのデザインおよびバージョン管理の柔軟性が向上します。</span><span class="sxs-lookup"><span data-stu-id="7ce56-128">This in turn enables greater flexibility in designing and versioning the order processing stages.</span></span>  
  
 <span data-ttu-id="7ce56-129">注文ブローカと注文マネージャは、ほとんど同じ理由で個別のオーケストレーションに格納されます。</span><span class="sxs-lookup"><span data-stu-id="7ce56-129">The order broker and order manager are in separate orchestrations for similar reasons.</span></span> <span data-ttu-id="7ce56-130">ソリューションのデザインでは、他の種類の注文を処理するため、複数の注文マネージャを使用できます。</span><span class="sxs-lookup"><span data-stu-id="7ce56-130">The solution design enables use of multiple order managers to handle other kinds of orders.</span></span> <span data-ttu-id="7ce56-131">ブローカとマネージャを分離する場合も、異なる場所でこれらを格納できます。</span><span class="sxs-lookup"><span data-stu-id="7ce56-131">The decoupling of the broker and manager also allows for these to be in different locations.</span></span> <span data-ttu-id="7ce56-132">注文ブローカのデザインに関する追加の詳細については、次を参照してください"理由注文ブローカとしますか?"。</span><span class="sxs-lookup"><span data-stu-id="7ce56-132">For additional details about the order broker's design, see "Why and Order Broker?"</span></span> <span data-ttu-id="7ce56-133">[OrderBroker オーケストレーションで処理](../core/processing-in-the-orderbroker-orchestration.md)です。</span><span class="sxs-lookup"><span data-stu-id="7ce56-133">in [Processing in the OrderBroker Orchestration](../core/processing-in-the-orderbroker-orchestration.md).</span></span> <span data-ttu-id="7ce56-134">注文マネージャの詳細については、次を参照してください。[プロセス マネージャのロジック](../core/process-manager-logic.md)です。</span><span class="sxs-lookup"><span data-stu-id="7ce56-134">For the details of the order manager, see [Process Manager Logic](../core/process-manager-logic.md).</span></span>  
  
## <a name="assemblies"></a><span data-ttu-id="7ce56-135">アセンブリ</span><span class="sxs-lookup"><span data-stu-id="7ce56-135">Assemblies</span></span>  
 <span data-ttu-id="7ce56-136">ソリューションのアセンブリは、コンポーネントのバージョン管理や他のサーバーへのコンポーネントの移動をサポートするためにまとめられています。</span><span class="sxs-lookup"><span data-stu-id="7ce56-136">The assemblies in the solution are organized to support versioning of components and to support moving components to other servers.</span></span> <span data-ttu-id="7ce56-137">たとえば、スキーマは、個別のアセンブリに格納されています。</span><span class="sxs-lookup"><span data-stu-id="7ce56-137">For example, schemas are in separate assemblies.</span></span> <span data-ttu-id="7ce56-138">特に、注文ブローカのスキーマは、独自のアセンブリに格納されます。</span><span class="sxs-lookup"><span data-stu-id="7ce56-138">In particular, the schemas for the order broker are in their own  assembly.</span></span> <span data-ttu-id="7ce56-139">これにより、ソリューションの他の要素を変更しないで、バージョンを管理できます。</span><span class="sxs-lookup"><span data-stu-id="7ce56-139">This allows them to be versioned without changing other elements of the solution.</span></span> <span data-ttu-id="7ce56-140">また、注文ブローカを個別のグループまたはサーバーに移動することが簡単になります。</span><span class="sxs-lookup"><span data-stu-id="7ce56-140">It also makes it simpler to move the order broker to a separate group or server.</span></span> <span data-ttu-id="7ce56-141">アプリケーションのバージョン管理とスキーマ アセンブリの詳細については、次を参照してください。[ビジネス プロセス管理ソリューションのバージョン管理](../core/versioning-the-business-process-management-solution.md)です。</span><span class="sxs-lookup"><span data-stu-id="7ce56-141">For more information about versioning the application and schema assemblies, see [Versioning the Business Process Management Solution](../core/versioning-the-business-process-management-solution.md).</span></span>  
  
## <a name="applications"></a><span data-ttu-id="7ce56-142">[アプリケーション]</span><span class="sxs-lookup"><span data-stu-id="7ce56-142">Applications</span></span>  
 <span data-ttu-id="7ce56-143">BizTalk 管理コンソールで確認する場合、作成されたソリューションは 3 つの独立したアプリケーションで構成されているが確認できます。</span><span class="sxs-lookup"><span data-stu-id="7ce56-143">If you look in the BizTalk Administration Console, you can see that the built solution consists of three separate applications:</span></span>  
  
-   <span data-ttu-id="7ce56-144">**BTSScn.BPM.OrderBrokerApp**、注文ブローカを含むアプリケーション</span><span class="sxs-lookup"><span data-stu-id="7ce56-144">**BTSScn.BPM.OrderBrokerApp**, the application containing the order broker</span></span>  
  
-   <span data-ttu-id="7ce56-145">**BTSScn.BPM.CableOrderApp**、注文処理コンポーネントを含むアプリケーション</span><span class="sxs-lookup"><span data-stu-id="7ce56-145">**BTSScn.BPM.CableOrderApp**, the application containing the order processing components</span></span>  
  
-   <span data-ttu-id="7ce56-146">**BTSScn.BPM.MessagingApp**、他の 2 つのアプリケーションで共有されるアイテムを収集するアプリケーション</span><span class="sxs-lookup"><span data-stu-id="7ce56-146">**BTSScn.BPM.MessagingApp**, an application that collects artifacts shared by the other two applications</span></span>  
  
 <span data-ttu-id="7ce56-147">同じ BizTalk グループ内で他のアプリケーションのアイテムを使用する BizTalk アプリケーションの機能によって、ソリューションを 3 つの部分で構成できます。</span><span class="sxs-lookup"><span data-stu-id="7ce56-147">The tripartite structure of the solution is possible because of the ability of BizTalk applications to use artifacts in other applications within the same BizTalk group.</span></span> <span data-ttu-id="7ce56-148">別のアプリケーションのアイテムを使用するには、参照しているアプリケーションから他のアプリケーションに参照を追加します。</span><span class="sxs-lookup"><span data-stu-id="7ce56-148">To use another application's artifacts, you add a reference to the other application from the referring application.</span></span> <span data-ttu-id="7ce56-149">他のアプリケーションを参照する方法については、次を参照してください。[を別のアプリケーションへの参照を追加する方法](../core/how-to-add-a-reference-to-another-application.md)です。</span><span class="sxs-lookup"><span data-stu-id="7ce56-149">For information about referencing other applications, see [How to Add a Reference to Another Application](../core/how-to-add-a-reference-to-another-application.md).</span></span>  
  
 <span data-ttu-id="7ce56-150">個別のアプリケーションに一般的なアイテムを配置すると、1 つの場所だけでコンポーネントを更新できることがあります。</span><span class="sxs-lookup"><span data-stu-id="7ce56-150">Putting the common artifacts in a separate application enables you, potentially, to update components in only one place.</span></span> <span data-ttu-id="7ce56-151">共有されるコンポーネントは、ポートを含めて、任意に指定できます。</span><span class="sxs-lookup"><span data-stu-id="7ce56-151">The shared components can be anything, including ports.</span></span> <span data-ttu-id="7ce56-152">たとえば、ソリューションのオーケストレーションは、エラーをエラー報告ポートに送信します。</span><span class="sxs-lookup"><span data-stu-id="7ce56-152">For example, the orchestrations in the solution send errors to an error reporting port.</span></span> <span data-ttu-id="7ce56-153">このポートは、メッセージング アプリケーション BTSScn.BPM.MessagingApp にあり、ソリューション全体でこのポートを使用できます。</span><span class="sxs-lookup"><span data-stu-id="7ce56-153">That port is in the messaging application, BTSScn.BPM.MessagingApp, where the entire solution can use it.</span></span>  
  
 <span data-ttu-id="7ce56-154">また、3 つのアプリケーションとしてソリューションを構造化すると、ソリューションの一部を他のサーバーに簡単に移動できます。</span><span class="sxs-lookup"><span data-stu-id="7ce56-154">Structuring the solution as three applications also makes it easier to move parts of the solution onto other servers.</span></span> <span data-ttu-id="7ce56-155">各アプリケーションと参照されているアプリケーションを MSI ファイルに変換し、</span><span class="sxs-lookup"><span data-stu-id="7ce56-155">You can convert each application and its referenced applications into an MSI file.</span></span> <span data-ttu-id="7ce56-156">別のコンピュータにその MSI ファイルをインストールします。</span><span class="sxs-lookup"><span data-stu-id="7ce56-156">You can then install that MSI file on another machine.</span></span> <span data-ttu-id="7ce56-157">アプリケーションを MSI ファイルに変換する方法については、次を参照してください。[を BizTalk アプリケーションをエクスポートする方法](../core/how-to-export-a-biztalk-application.md)です。</span><span class="sxs-lookup"><span data-stu-id="7ce56-157">For information about converting applications into MSI files, see [How to Export a BizTalk Application](../core/how-to-export-a-biztalk-application.md).</span></span>  
  
### <a name="the-test-solution"></a><span data-ttu-id="7ce56-158">テスト ソリューション</span><span class="sxs-lookup"><span data-stu-id="7ce56-158">The Test Solution</span></span>  
 <span data-ttu-id="7ce56-159">BizTalk 管理コンソールで、3 つのテスト アプリケーションが表示されます: **BTSScn.BPM.OrderBrokerApp.Test**、 **BTSScn.BPM.CableOrderApp.Test**、および**BTSScn.BPM.MessagingApp.Test**です。</span><span class="sxs-lookup"><span data-stu-id="7ce56-159">You will also three test applications in the BizTalk Administration Console: **BTSScn.BPM.OrderBrokerApp.Test**, **BTSScn.BPM.CableOrderApp.Test**, and **BTSScn.BPM.MessagingApp.Test**.</span></span> <span data-ttu-id="7ce56-160">これらの 3 つのアプリケーションは、テスト アプリケーションに使用するポートだけを格納し、メイン アプリケーションによって参照されます。</span><span class="sxs-lookup"><span data-stu-id="7ce56-160">These three applications contain only the ports for the test application and are referenced by the main applications.</span></span> <span data-ttu-id="7ce56-161">この構造は、メイン アプリケーションによって使用されるテスト ポートを考慮して、ソリューションからテスト ポートを分離すると同時に、テスト ソリューションを構築します。</span><span class="sxs-lookup"><span data-stu-id="7ce56-161">This structure allows for the test ports to be used by the main applications to construct a test solution while at the same time decoupling the test ports from the solution.</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="7ce56-162">参照</span><span class="sxs-lookup"><span data-stu-id="7ce56-162">See Also</span></span>  
 <span data-ttu-id="7ce56-163">[ビジネス プロセス管理ソリューションの実装の要点](../core/implementation-highlights-of-the-business-process-management-solution.md) </span><span class="sxs-lookup"><span data-stu-id="7ce56-163">[Implementation Highlights of the Business Process Management Solution](../core/implementation-highlights-of-the-business-process-management-solution.md) </span></span>  
 [<span data-ttu-id="7ce56-164">ビジネス プロセス管理ソリューションのパターン</span><span class="sxs-lookup"><span data-stu-id="7ce56-164">Patterns in the Business Process Management Solution</span></span>](../core/patterns-in-the-business-process-management-solution.md)