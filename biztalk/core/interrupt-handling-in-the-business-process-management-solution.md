---
title: 割り込み、ビジネス プロセス管理ソリューションでの処理 |Microsoft Docs
ms.custom: ''
ms.date: 06/08/2017
ms.prod: biztalk-server
ms.reviewer: ''
ms.suite: ''
ms.tgt_pltfrm: ''
ms.topic: article
helpviewer_keywords:
- processing, pausing
- process management solution tutorial, pausing processing
ms.assetid: 23ce7617-f705-4b7d-8447-221dec9fb196
caps.latest.revision: 13
author: MandiOhlinger
ms.author: mandia
manager: anneta
ms.openlocfilehash: 9e064c86c5546bac55eb564db12ec43d3f1c16d5
ms.sourcegitcommit: 381e83d43796a345488d54b3f7413e11d56ad7be
ms.translationtype: MT
ms.contentlocale: ja-JP
ms.lasthandoff: 05/07/2019
ms.locfileid: "65331386"
---
# <a name="interrupt-handling-in-the-business-process-management-solution"></a><span data-ttu-id="b4811-102">ビジネス プロセス管理ソリューションでの処理を中断します。</span><span class="sxs-lookup"><span data-stu-id="b4811-102">Interrupt Handling in the Business Process Management Solution</span></span>
<span data-ttu-id="b4811-103">このセクションでは、割り込み処理のビジネス プロセス管理ソリューションで使用される機構について説明します。</span><span class="sxs-lookup"><span data-stu-id="b4811-103">This section describes the interrupt handling mechanism used in the Business Process Management Solution.</span></span> <span data-ttu-id="b4811-104">割り込みメカニズムを使用するには、注文、注文が更新または取り消されたときの処理を停止することができます。</span><span class="sxs-lookup"><span data-stu-id="b4811-104">Using the interrupt mechanism enables you to halt order processing when an order is updated or canceled.</span></span>  
  
## <a name="interrupt-handling"></a><span data-ttu-id="b4811-105">割り込み処理</span><span class="sxs-lookup"><span data-stu-id="b4811-105">Interrupt Handling</span></span>  
 <span data-ttu-id="b4811-106">処理ステージを実装するオーケストレーションは、オーケストレーションを呼び出す**CheckInterrupt**プロセスの他の部分から割り込み要求をテストします。</span><span class="sxs-lookup"><span data-stu-id="b4811-106">The orchestrations that implement the processing stages call an orchestration, **CheckInterrupt**, that tests for an interrupt request from some other part of the process.</span></span> <span data-ttu-id="b4811-107">**CheckInterrupt**オーケストレーションから成る、**リッスン**図形。</span><span class="sxs-lookup"><span data-stu-id="b4811-107">The **CheckInterrupt** orchestration consists of a **Listen** shape.</span></span> <span data-ttu-id="b4811-108">1 つの分岐、**リッスン**図形が、現在の順序と同じ相関関係 ID を持つメッセージを確認します。</span><span class="sxs-lookup"><span data-stu-id="b4811-108">One branch of the **Listen** shape checks for a message with the same correlation ID as the current order.</span></span> <span data-ttu-id="b4811-109">このようなメッセージがある場合、 **CheckInterrupt**オーケストレーションが受信確認メッセージを送信し、実行、**スロー**図形。</span><span class="sxs-lookup"><span data-stu-id="b4811-109">If there is such a message, the **CheckInterrupt** orchestration sends an acknowledgement message and executes a **Throw** shape.</span></span> <span data-ttu-id="b4811-110">にブランチを**リッスン**図形が実行されて左から右、右の分岐に遅延が表示されます。</span><span class="sxs-lookup"><span data-stu-id="b4811-110">Because the branches in a **Listen** shape are executed from left to right, the delay appears in the right branch.</span></span> <span data-ttu-id="b4811-111">遅延は、ゼロ (0) であることを確認します。</span><span class="sxs-lookup"><span data-stu-id="b4811-111">Notice that the delay is zero (0).</span></span>  
  
 <span data-ttu-id="b4811-112">組み合わせ、**リッスン**図形、受信分岐、および遅延分岐は、オーケストレーションがメッセージを確認します。</span><span class="sxs-lookup"><span data-stu-id="b4811-112">The combination of the **Listen** shape, a receive branch, and a delay branch allows the orchestration to check for messages.</span></span> <span data-ttu-id="b4811-113">割り込みメッセージがある場合、左の分岐を実行します。</span><span class="sxs-lookup"><span data-stu-id="b4811-113">If there is an interrupt message, the left branch executes.</span></span> <span data-ttu-id="b4811-114">メッセージがない場合、右の分岐は実行し、呼び出し元オーケストレーションに返します。</span><span class="sxs-lookup"><span data-stu-id="b4811-114">If there is no message, the right branch executes and returns to the calling orchestration.</span></span> <span data-ttu-id="b4811-115">中断メッセージは、いつでも送信できます。</span><span class="sxs-lookup"><span data-stu-id="b4811-115">An interrupt message can be sent at any time.</span></span> <span data-ttu-id="b4811-116">**CheckInterrupt**オーケストレーションは、場合によっては、する可能性がありますを待つ割り込みメッセージのみを実行します。</span><span class="sxs-lookup"><span data-stu-id="b4811-116">Because the **CheckInterrupt** orchestration is run only occasionally, there may be an interrupt message waiting for it.</span></span>  
  
 <span data-ttu-id="b4811-117">**OrderManager**割り込みを呼び出すことによって設定、 **Interrupter**オーケストレーションします。</span><span class="sxs-lookup"><span data-stu-id="b4811-117">The **OrderManager** sets interrupts by calling the **Interrupter** orchestration.</span></span> <span data-ttu-id="b4811-118">**Interrupter**割り込みメッセージを送信するオーケストレーション、 **InterruptPort**し返信を待ちます。</span><span class="sxs-lookup"><span data-stu-id="b4811-118">The **Interrupter** orchestration sends an interrupt message to the **InterruptPort** and waits for a reply.</span></span> <span data-ttu-id="b4811-119">オーケストレーションを使用して、**タイムアウト**を囲むプロパティ**スコープ**図形を応答が受信されない場合、ループを再開します。</span><span class="sxs-lookup"><span data-stu-id="b4811-119">The orchestration uses the **Timeout** property of the enclosing **Scope** shape to restart the loop if a reply isn't received.</span></span> <span data-ttu-id="b4811-120">オーケストレーションは、応答を受信する前にスコープがタイムアウトする限り、割り込みメッセージを送信し続けます。</span><span class="sxs-lookup"><span data-stu-id="b4811-120">The orchestration continues to send the interrupt message as long as the scope times out before receiving a reply.</span></span> <span data-ttu-id="b4811-121">タイムアウトは、応答する時間がありませんでしたが、要求に一致するサブスクリプションをことを示します。</span><span class="sxs-lookup"><span data-stu-id="b4811-121">A timeout indicates that the request matched a subscription, but there hasn't been time for a reply.</span></span> <span data-ttu-id="b4811-122">ループの終了、返信がある場合、またはサブスクリプションがない場合、 **InterruptPort**します。</span><span class="sxs-lookup"><span data-stu-id="b4811-122">The loop ends if there is a reply, or if there is no subscription to the **InterruptPort**.</span></span>  
  
 <span data-ttu-id="b4811-123">要求-応答-完了パターン、 **OrderManager**処理ステージでの使用は、割り込み処理の重要な部分です。</span><span class="sxs-lookup"><span data-stu-id="b4811-123">The request-response-completion pattern the **OrderManager** uses with the process stages is a critical part of the interrupt handling.</span></span> <span data-ttu-id="b4811-124">**OrderManager**の応答を待機: 受信確認 — の段階からは、ステージで、続行する前に実行が開始されたことを認識します。</span><span class="sxs-lookup"><span data-stu-id="b4811-124">Because the **OrderManager** waits for a response—an acknowledgement—from the stage, it knows that the stage has started running before continuing.</span></span> <span data-ttu-id="b4811-125">これは、段階を開始する前に、割り込みを受信できないことが保証されます。</span><span class="sxs-lookup"><span data-stu-id="b4811-125">This guarantees that a stage cannot receive an interrupt before it starts.</span></span> <span data-ttu-id="b4811-126">これにより、 **OrderManager**割り込みに対するサブスクリプションがない場合は、ステージが完了したことを確認します。</span><span class="sxs-lookup"><span data-stu-id="b4811-126">This also lets the **OrderManager** know that, if there is no subscription to an interrupt, the stage has completed.</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="b4811-127">参照</span><span class="sxs-lookup"><span data-stu-id="b4811-127">See Also</span></span>  
 <span data-ttu-id="b4811-128">[ビジネス プロセス管理ソリューションでの処理](../core/processing-in-the-business-process-management-solution.md) </span><span class="sxs-lookup"><span data-stu-id="b4811-128">[Processing in the Business Process Management Solution](../core/processing-in-the-business-process-management-solution.md) </span></span>  
 <span data-ttu-id="b4811-129">[プロセス マネージャのロジック](../core/process-manager-logic.md) </span><span class="sxs-lookup"><span data-stu-id="b4811-129">[Process Manager Logic](../core/process-manager-logic.md) </span></span>  
 [<span data-ttu-id="b4811-130">ExceptionHandler オーケストレーション</span><span class="sxs-lookup"><span data-stu-id="b4811-130">The ExceptionHandler Orchestration</span></span>](../core/the-exceptionhandler-orchestration.md)