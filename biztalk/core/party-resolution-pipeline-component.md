---
title: パーティの解決パイプライン コンポーネント |Microsoft Docs
ms.custom: ''
ms.date: 06/08/2017
ms.prod: biztalk-server
ms.reviewer: ''
ms.suite: ''
ms.tgt_pltfrm: ''
ms.topic: article
ms.assetid: 6ad728ff-4d7c-4ab3-af0e-76006576dce5
caps.latest.revision: 10
author: MandiOhlinger
ms.author: mandia
manager: anneta
ms.openlocfilehash: 20a466c2de29859b6a971fd34540d6a806da9fe1
ms.sourcegitcommit: 266308ec5c6a9d8d80ff298ee6051b4843c5d626
ms.translationtype: MT
ms.contentlocale: ja-JP
ms.lasthandoff: 06/27/2018
ms.locfileid: "36977083"
---
# <a name="party-resolution-pipeline-component"></a><span data-ttu-id="dc648-102">パーティの解決パイプライン コンポーネント</span><span class="sxs-lookup"><span data-stu-id="dc648-102">Party Resolution Pipeline Component</span></span>

## <a name="overview"></a><span data-ttu-id="dc648-103">概要</span><span class="sxs-lookup"><span data-stu-id="dc648-103">Overview</span></span>
<span data-ttu-id="dc648-104">パーティの解決パイプライン コンポーネントの機能は、送信者の証明書または送信者のセキュリティ ID (SID) を、対応する構成済み BizTalk Server パーティにマップすることです。</span><span class="sxs-lookup"><span data-stu-id="dc648-104">The responsibility of the Party Resolution pipeline component is to map the sender certificate or the sender security identifier (SID) to the corresponding configured BizTalk Server party.</span></span>  

 <span data-ttu-id="dc648-105">2 つのメッセージ コンテキスト プロパティを入力として受け取るパーティの解決コンポーネントは、受信メッセージを読み取り、ときに: **WindowsUser**と**SignatureCertificate**します。</span><span class="sxs-lookup"><span data-stu-id="dc648-105">When the Party Resolution component reads the incoming message, it takes two message context properties as input: **WindowsUser** and **SignatureCertificate**.</span></span> <span data-ttu-id="dc648-106">**WindowsUser**プロパティは、アダプターによって、または送信者の情報を確実に取得することができる場合、送信者のユーザー名のカスタム パイプライン コンポーネントによって設定されます。</span><span class="sxs-lookup"><span data-stu-id="dc648-106">The **WindowsUser** property is populated by the adapter, or by a custom pipeline component, with the user name of the sender when it can reliably derive the sender information.</span></span> <span data-ttu-id="dc648-107">**SignatureCertificate**は、アダプター、またはクライアント認証証明書の拇印を持つ、MIME/SMIME デコーダー パイプライン コンポーネントによって設定されます。</span><span class="sxs-lookup"><span data-stu-id="dc648-107">The **SignatureCertificate** is populated by the adapter or the MIME/SMIME Decoder pipeline component with the thumbprint of the client authentication certificate.</span></span>  

 <span data-ttu-id="dc648-108">メッセージが署名されている場合、受信メッセージの署名の検証で使用された証明書の拇印は、構成リポジトリを検索し、メッセージが関連付けられているパーティを判別するために使用されます。</span><span class="sxs-lookup"><span data-stu-id="dc648-108">If the message is signed, the thumbprint of the certificate that was used to validate the signature on the inbound message is then used to look in the Configuration Repository to determine which party it is associated with.</span></span> <span data-ttu-id="dc648-109">パーティが見つかった場合、そのパーティの SourcePartyID がメッセージの発信者としてメッセージのコンテキストに配置されます。</span><span class="sxs-lookup"><span data-stu-id="dc648-109">If a party is found, the SourcePartyID for that party is placed in the context of the message as the originator of the message.</span></span>  

 <span data-ttu-id="dc648-110">パーティの解決パイプライン コンポーネントで Windows ユーザーを検証できるようにするには、パーティに "WindowsUser" エイリアスを追加する必要があります。</span><span class="sxs-lookup"><span data-stu-id="dc648-110">To enable the Party Resolution pipeline component to validate a Windows user, you must add the "WindowsUser" alias to a party.</span></span> <span data-ttu-id="dc648-111">名前 [修飾子] フィールドに"WindowsUser"を入力し、値の形式でユーザー名を設定\<domain \user name\> (somedomain \someuser など)。</span><span class="sxs-lookup"><span data-stu-id="dc648-111">Type "WindowsUser" in the Name and Qualifier fields and set the Value to a user name in format of \<domain\user name\> (e.g. SOMEDOMAIN\someuser).</span></span> <span data-ttu-id="dc648-112">スタンドアロンのシナリオの場合、パーティの構成に使用される WindowsUser 値は、受信アダプターによって設定される値に一致する必要があります。</span><span class="sxs-lookup"><span data-stu-id="dc648-112">In a stand-alone scenario, the WindowsUser value used to configure the party should match the value that is set by the receive adapter.</span></span>  

 <span data-ttu-id="dc648-113">プロパティの両方のパーティの解決コンポーネントで、メッセージが到着した場合、パーティの解決コンポーネントが、証明書によってパーティを解決するのにはまず (と仮定すると、**証明書によるパーティを解決するには**プロパティは、設定**True**)。</span><span class="sxs-lookup"><span data-stu-id="dc648-113">If the message arrives at the Party Resolution component with both of the properties stamped, the Party Resolution component first tries to resolve the party by the certificate (assuming the **Resolve Party By Certificate** property is set to **True**).</span></span> <span data-ttu-id="dc648-114">パイプラインを実行しているホスト プロセスが付いている場合、パーティが解決された場合は、そのパーティの SourcePartyID がメッセージの OriginatorPID として配置されて、メッセージのコンテキストで**信頼されている認証**パイプラインによって。</span><span class="sxs-lookup"><span data-stu-id="dc648-114">If the party is resolved, the SourcePartyID for that party is placed in the context of the message as the OriginatorPID of the message if the host process running the pipeline is marked as **Authentication Trusted** by the pipeline.</span></span> <span data-ttu-id="dc648-115">証明書を使用してパーティの解決を完了できない場合、メッセージの OriginatorPID 値には、匿名ユーザーの SID である "s-1-5-7" が設定されます。</span><span class="sxs-lookup"><span data-stu-id="dc648-115">If the party resolution cannot be completed by using the certificate, the OriginatorPID value on the message is stamped with "s-1-5-7", which is the SID of an anonymous user.</span></span> <span data-ttu-id="dc648-116">OriginatorPID プロパティの詳細については、次を参照してください。[パイプラインをセキュリティで保護する方法](../core/how-to-secure-pipelines.md)します。</span><span class="sxs-lookup"><span data-stu-id="dc648-116">For more information about the OriginatorPID property, see [How to Secure Pipelines](../core/how-to-secure-pipelines.md).</span></span>  

## <a name="resolve-the-party"></a><span data-ttu-id="dc648-117">パーティを解決します。</span><span class="sxs-lookup"><span data-stu-id="dc648-117">Resolve the party</span></span>  
 <span data-ttu-id="dc648-118">次の表に、パーティの解決パイプライン コンポーネントがパーティを解決する方法を示します。</span><span class="sxs-lookup"><span data-stu-id="dc648-118">The following table shows how the Party Resolution pipeline component attempts to resolve the party.</span></span>  

|<span data-ttu-id="dc648-119">SID を使用</span><span class="sxs-lookup"><span data-stu-id="dc648-119">By SID</span></span>|<span data-ttu-id="dc648-120">証明書を使用</span><span class="sxs-lookup"><span data-stu-id="dc648-120">By certificate</span></span>|<span data-ttu-id="dc648-121">WindowsUser</span><span class="sxs-lookup"><span data-stu-id="dc648-121">WindowsUser</span></span>|<span data-ttu-id="dc648-122">SignatureCertificate</span><span class="sxs-lookup"><span data-stu-id="dc648-122">SignatureCertificate</span></span>|<span data-ttu-id="dc648-123">結果</span><span class="sxs-lookup"><span data-stu-id="dc648-123">Result</span></span>|  
|------------|--------------------|-----------------|--------------------------|------------|  
|<span data-ttu-id="dc648-124">True</span><span class="sxs-lookup"><span data-stu-id="dc648-124">True</span></span>|<span data-ttu-id="dc648-125">False</span><span class="sxs-lookup"><span data-stu-id="dc648-125">False</span></span>|<span data-ttu-id="dc648-126">使用可能です</span><span class="sxs-lookup"><span data-stu-id="dc648-126">Available</span></span>|<span data-ttu-id="dc648-127">使用可能または使用不可</span><span class="sxs-lookup"><span data-stu-id="dc648-127">Available or unavailable</span></span>|<span data-ttu-id="dc648-128">パーティが解決されます。</span><span class="sxs-lookup"><span data-stu-id="dc648-128">Party is resolved.</span></span>|  
|<span data-ttu-id="dc648-129">True</span><span class="sxs-lookup"><span data-stu-id="dc648-129">True</span></span>|<span data-ttu-id="dc648-130">False</span><span class="sxs-lookup"><span data-stu-id="dc648-130">False</span></span>|<span data-ttu-id="dc648-131">利用不可</span><span class="sxs-lookup"><span data-stu-id="dc648-131">Unavailable</span></span>|<span data-ttu-id="dc648-132">使用可能または使用不可</span><span class="sxs-lookup"><span data-stu-id="dc648-132">Available or unavailable</span></span>|<span data-ttu-id="dc648-133">パーティは解決されず、匿名として設定されます。</span><span class="sxs-lookup"><span data-stu-id="dc648-133">Party is not resolved and is stamped as anonymous.</span></span>|  
|<span data-ttu-id="dc648-134">False</span><span class="sxs-lookup"><span data-stu-id="dc648-134">False</span></span>|<span data-ttu-id="dc648-135">True</span><span class="sxs-lookup"><span data-stu-id="dc648-135">True</span></span>|<span data-ttu-id="dc648-136">使用可能または使用不可</span><span class="sxs-lookup"><span data-stu-id="dc648-136">Available or unavailable</span></span>|<span data-ttu-id="dc648-137">使用可能または使用不可</span><span class="sxs-lookup"><span data-stu-id="dc648-137">Available or unavailable</span></span>|<span data-ttu-id="dc648-138">パーティは解決されず、匿名として設定されます。</span><span class="sxs-lookup"><span data-stu-id="dc648-138">Party is not resolved and is stamped as anonymous.</span></span>|  
|<span data-ttu-id="dc648-139">True</span><span class="sxs-lookup"><span data-stu-id="dc648-139">True</span></span>|<span data-ttu-id="dc648-140">True</span><span class="sxs-lookup"><span data-stu-id="dc648-140">True</span></span>|<span data-ttu-id="dc648-141">使用可能です</span><span class="sxs-lookup"><span data-stu-id="dc648-141">Available</span></span>|<span data-ttu-id="dc648-142">使用可能です</span><span class="sxs-lookup"><span data-stu-id="dc648-142">Available</span></span>|<span data-ttu-id="dc648-143">パーティが解決されます。</span><span class="sxs-lookup"><span data-stu-id="dc648-143">Party is resolved.</span></span>|  
|<span data-ttu-id="dc648-144">True</span><span class="sxs-lookup"><span data-stu-id="dc648-144">True</span></span>|<span data-ttu-id="dc648-145">True</span><span class="sxs-lookup"><span data-stu-id="dc648-145">True</span></span>|<span data-ttu-id="dc648-146">利用不可</span><span class="sxs-lookup"><span data-stu-id="dc648-146">Unavailable</span></span>|<span data-ttu-id="dc648-147">使用可能または使用不可</span><span class="sxs-lookup"><span data-stu-id="dc648-147">Available or unavailable</span></span>|<span data-ttu-id="dc648-148">パーティは解決されず、匿名として設定されます。</span><span class="sxs-lookup"><span data-stu-id="dc648-148">Party is not resolved and is stamped as anonymous.</span></span>|  
|<span data-ttu-id="dc648-149">False</span><span class="sxs-lookup"><span data-stu-id="dc648-149">False</span></span>|<span data-ttu-id="dc648-150">False</span><span class="sxs-lookup"><span data-stu-id="dc648-150">False</span></span>|<span data-ttu-id="dc648-151">使用可能または使用不可</span><span class="sxs-lookup"><span data-stu-id="dc648-151">Available or unavailable</span></span>|<span data-ttu-id="dc648-152">使用可能または使用不可</span><span class="sxs-lookup"><span data-stu-id="dc648-152">Available or unavailable</span></span>|<span data-ttu-id="dc648-153">パーティは解決されず、匿名として設定されます。</span><span class="sxs-lookup"><span data-stu-id="dc648-153">Party is not resolved and is stamped as anonymous.</span></span>|  

 <span data-ttu-id="dc648-154">パーティの解決パイプライン コンポーネントの構成方法の詳細については、次を参照してください。[パーティの解決パイプライン コンポーネントを構成する方法](../core/how-to-configure-the-party-resolution-pipeline-component.md)します。</span><span class="sxs-lookup"><span data-stu-id="dc648-154">For information about configuring the Party Resolution pipeline component, see [How to Configure the Party Resolution Pipeline Component](../core/how-to-configure-the-party-resolution-pipeline-component.md).</span></span>  

## <a name="see-also"></a><span data-ttu-id="dc648-155">参照</span><span class="sxs-lookup"><span data-stu-id="dc648-155">See Also</span></span>  
- <span data-ttu-id="dc648-156">**メッセージ コンテキスト プロパティ** [!INCLUDE[ui-guidance-developers-reference](../includes/ui-guidance-developers-reference.md)]</span><span class="sxs-lookup"><span data-stu-id="dc648-156">**Message Context Properties** [!INCLUDE[ui-guidance-developers-reference](../includes/ui-guidance-developers-reference.md)]</span></span>   
- [<span data-ttu-id="dc648-157">パイプライン コンポーネント</span><span class="sxs-lookup"><span data-stu-id="dc648-157">Pipeline Components</span></span>](../core/pipeline-components.md)   
- [<span data-ttu-id="dc648-158">カスタム パーティの解決 (BizTalk Server サンプル)</span><span class="sxs-lookup"><span data-stu-id="dc648-158">Custom Party Resolution (BizTalk Server Sample)</span></span>](../core/custom-party-resolution-biztalk-server-sample.md)   
- [<span data-ttu-id="dc648-159">プロセス間のメッセージの認証</span><span class="sxs-lookup"><span data-stu-id="dc648-159">Authentication of Messages Between Processes</span></span>](../core/authentication-of-messages-between-processes.md)
