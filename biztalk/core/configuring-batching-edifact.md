---
title: (EDIFACT) をバッチ処理の構成 |Microsoft ドキュメント
ms.custom: ''
ms.date: 06/08/2017
ms.prod: biztalk-server
ms.reviewer: ''
ms.suite: ''
ms.tgt_pltfrm: ''
ms.topic: article
ms.assetid: f711ff4b-702b-419b-9c17-dce60ea437a0
caps.latest.revision: 4
author: MandiOhlinger
ms.author: mandia
manager: anneta
ms.openlocfilehash: 116c196d4688e4e7d21c8951c32838539cf10aa4
ms.sourcegitcommit: cb908c540d8f1a692d01dc8f313e16cb4b4e696d
ms.translationtype: MT
ms.contentlocale: ja-JP
ms.lasthandoff: 09/20/2017
ms.locfileid: "22234666"
---
# <a name="configuring-batching-edifact"></a>バッチ処理の構成 (EDIFACT)
バッチは、[!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] が EDI バッチを生成してパーティに送信する方法を定義します。  
  
> [!IMPORTANT]
>  オフにした場合でも、このページですべてのプロパティが無効、**ローカルの BizTalk パーティまたはこのパーティからのメッセージの送信をサポートして受信メッセージを処理する**チェック ボックスを作成するパーティを作成するときに、アグリーメント。 **新しいバッチ**ボタンがこのページで無効になります。  
>   
>  プロパティが無効になるのは、パーティから受信中のインターチェンジのプロパティに対応する一方向のアグリーメント タブ上のみです。 たとえば、2 つのパーティのパーティ A とパーティ B を作成する場合、パーティ A 用に、チェック ボックスをオフ、**新しいバッチ**にボタンが無効になっている、**パーティ A にパーティ B]-> [** 一方向アグリーメント タブです。  
  
## <a name="prerequisites"></a>前提条件  
 [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] 管理者グループまたは [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] B2B Operators グループのメンバーとしてログオンしている必要があります。  
  
### <a name="to-configure-batching-settings"></a>バッチ処理設定を構成するには  
  
1.  EDIFACT」の説明に従ってエンコード アグリーメントを作成する[を構成する一般的な設定 (EDIFACT)](../core/configuring-general-settings-edifact.md)です。 既存のアグリーメントを更新するでアグリーメントを右クリックし、**パーティとビジネス プロファイル** ページで、をクリックして**プロパティ**です。  
  
2.  一方向アグリーメント タブの下にある**インターチェンジの設定**セクションで、**バッチ処理構成**です。  
  
3.  **バッチ構成**ページをクリックして**新しいバッチ**新しいバッチ構成を作成します。 A **Batch1**  タブを追加します。  
  
4.  **識別** タブのセクションでは、次の手順を実行します。  
  
    1.  入力、**バッチ**名。 この値は、このバッチ構成のタブ ID として使用されます。  
  
    2.  このバッチ構成の説明を入力**バッチ説明**です。  
  
    3.  **バッチ ID**は、バッチの設定を適用した後に、一意のバッチ ID を表示する読み取り専用のテキスト ボックス。  
  
    4.  **オーケストレーション インスタンス ID**バッチが関連付けられているバッチ処理オーケストレーション インスタンス ID を表示する読み取り専用のテキスト ボックスは、します。 オーケストレーション インスタンス ID は、バッチの開始後に表示されます。  
  
5.  **フィルター**  タブのセクションでは、次の手順を実行します。  
  
    1.  をクリックして**フィルター**です。  
  
    2.  **バッチ フィルター**  ダイアログ ボックスで、バッチ処理オーケストレーションのサブスクリプション フィルターを作成するには、プロパティ、演算子、値を入力します。 これらのフィルター句によって、ルーティング オーケストレーションがバッチ処理のためにメッセージ ボックスにルーティングするトランザクション セットが決まります。  
  
        > [!NOTE]
        >  グループへのすべてのメッセージをバッチ処理するように指定するには、バッチ フィルター内のパーティのプロパティをパーティ名に設定します。  
  
        > [!NOTE]
        >  バッチ処理プロセスの詳細については、次を参照してください。[バッチ EDI インターチェンジをアセンブル](../core/assembling-a-batched-edi-interchange.md)です。  
  
    3.  行を削除する行を選択し、をクリックして**削除**です。  
  
    4.  上または下に行を移動するクリックして、**上へ移動**または**下へ移動**ボタン。  
  
6.  **リリース** タブのセクションでは、次の手順を実行します。  
  
    1.  選択**スケジュール**を作成して、あらかじめ決められたスケジュールに従ってバッチを送信します。 スケジュールを定義する をクリックして**スケジューラ**次のように進みます。  
  
        > [!NOTE]
        >  バッチ スケジュールは、特別なイベントの影響を受ける可能性があります。 一例として、夏時間の開始が挙げられます。 バッチ スケジュールが時間単位で設定されており、夏時間の開始からバッチの予定時刻までの時間が 1 時間に満たない場合、時計を 1 時間進めてリセットすると、そのバッチの作成と送信は行われなくなります。 特別なイベントをクリックして、バッチがスキップされる結果を補うことができます、**開始**のボタンでは、**バッチ**バッチ処理オーケストレーションを手動で開始するページ。 重複するバッチの停止が必要になる場合もあります。  
  
        -   1 時間ごとにバッチを送信する **毎時**です。 ドロップダウン リストから**最初のリリース**バッチの最初のリリースを作成する日付を選択して、時間を入力します。 **次のリリースすべて**、期間がであるかどうか、ドロップダウン リストから選択**時間**または**分**、を時間または分の数を入力各バッチを区切ります。  
  
        -   日常的にバッチを送信する **毎日**です。 ドロップダウン リストから**最初のリリース**バッチの最初のリリースを作成する日付を選択して、時間を入力します。 **次のリリースすべて**、各バッチを区切る日数を入力します。  
  
        -   週単位でバッチを送信する **毎週**です。 ドロップダウン リストから**最初のリリース**バッチの最初のリリースを作成する日付を選択して、時間を入力します。 **次のリリースすべて**、後続の各リリースの週の最初のリリースの週までの週の数を入力します。 続いて、バッチをリリースする曜日を選択します。  
  
            > [!NOTE]
            >  最初のリリースがその日に行わされ、設定、**最初のリリース**フィールドには、その曜日がダイアログ ボックスで選択されていない場合でもです。  
  
            > [!NOTE]
            >  ダイアログ ボックスで 1 つ以上の曜日を選択した場合、リリースは、最初のリリース後の第 1 週目の選択したいずれかの曜日に行われます。 たとえば、選択した曜日が月曜日と金曜日で、最初のリリースが水曜日に行われた場合は、その第 1 週の金曜日にリリースが行われます。 今後のリリースが発生 *n* 週間後は、最初の週と *n* で値によって決定されます、**次のリリースすべて**フィールドです。 リリースは、ダイアログ ボックスで選択した各曜日に発生します。  
  
        -   選択**空のバッチ通知を送信**メッセージが受信されていない場合、バッチ処理オーケストレーションによって送信されるバッチがスケジュールされている場合は、空のバッチ通知を送信します。  
  
    2.  選択**セットのトランザクションの最大数**を作成し、特定のトランザクション セットまたはメッセージの数がバッチ処理用のメッセージ ボックスにルーティングされたときにバッチを送信します。 トランザクションをカウントするメッセージの一部がセットの選択 (か**グループ**または**インターチェンジ**)、バッチ処理するグループまたはインターチェンジ内にあるトランザクション セットの最大数を入力します。  
  
         たとえば、1 つのバッチに 2 つのインターチェンジのバッチをする場合が選択**インターチェンジ**ドロップダウン リストから入力と`2`テキスト ボックスにします。  
  
    3.  選択**インターチェンジ内の文字の最大数**を作成し、特定の文字数がバッチ処理に使用できる場合は、バッチを送信します。 バッチ処理するグループまたはインターチェンジの最大文字数を入力します。  
  
         バッチ処理オーケストレーションでは、バッチ処理要素内の文字数 (からエンベロープ内の数を除いたもの) が最大数を超えるまで、バッチ処理要素を蓄積します。 その後、最後の要素 (文字数が最大数を超える原因になった要素) を除くすべての要素をバッチ処理します。  
  
        > [!NOTE]
        >  最大文字数として、有効なバッチを生成するのに十分な文字数を入力します。 この数は、少なくとも、バッチ ヘッダー内の合計文字数およびメッセージ内の最大文字数よりも大きい数にする必要があります。 入力した値が小さすぎると、結果として空のバッチが生成されることがあります。  
  
    4.  選択**外部リリースのトリガ**を作成し、BizTalk Server 外部のアプリケーションによって外部トリガーが実行されると、バッチを送信します。 このメカニズムを設定する方法の詳細については、次を参照してください。[外部バッチ リリース メカニズムを実装する](../core/implementing-an-external-batch-release-mechanism.md)です。  
  
        > [!NOTE]
        >  **オーバーライド**ボタンと**アクティベーションの範囲**コントロールは有効なまま場合、**外部リリース**トリガー プロパティが選択されています。  
  
7.  **アクティベーション** タブのセクションでは、次の手順を実行します。  
  
    1.  選択**今すぐ開始**オーケストレーションがすぐにメッセージをバッチ処理を開始して、バッチ処理します。  
  
         バッチ処理オーケストレーションを開始するには、特定の日付をクリア、 **今すぐ開始**ボックスし日付を選択し、バッチ処理オーケストレーションをアクティブ化する時間します。  
  
8.  **終了** タブのセクションでは、次の手順を実行します。  
  
    1.  保持**終了日が**非アクティブ化、バッチ処理オーケストレーションの終了日を指定しない場合に選択しません。  
  
    2.  選択 **(出現数) の後に終了**バッチ数を生成した後、バッチ処理オーケストレーションを非アクティブにすることを指定します。 テキスト ボックスに、目的の回数を入力します。  
  
    3.  選択**によって終了**をバッチ処理オーケストレーションが非アクティブ化する終了日を指定します。 この時間以後はバッチ処理のメッセージは収集されません。 カレンダーから終了日を選択するか、テキスト ボックスの日付または時刻を直接変更します。  
  
9. をクリックして**適用**前の手順で指定したバッチ設定を適用します。 クリックした後**適用**、バッチ ID が作成されに表示される、**バッチ ID**内のテキスト フィールド、**識別**セクションです。  
  
    > [!NOTE]
    >  メッセージ**バッチ処理がアクティブ化されていない**下に表示されます、**開始**ボタンをクリックします。  
  
10. をクリックして**開始**をバッチ処理オーケストレーションを手動でアクティブ化します。  
  
    > [!NOTE]
    >  バッチ処理オーケストレーションがすぐにアクティブ化をクリックするとかどうかを確認する、**開始**ボタンを SQL アダプタの BatchControlMessageReccvLoc 受信場所のポーリング間隔を更新します。 詳細については、次を参照してください。[チュートリアル (X12): バッチ EDI インターチェンジの送信](../core/walkthrough-x12-sending-batched-edi-interchanges.md)です。  
  
    > [!NOTE]
    >  クリックした後**開始**をクリックして**更新**です。 バッチとオーケストレーション インスタンスを関連付けるのにしばらく時間がかかることがあります。 クリックすると**更新**バッチは、オーケストレーションに関連付けられて、前に、メッセージが表示**バッチ処理がアクティブ化されて、バッチ処理オーケストレーション インスタンスがまだいない**です。 をクリックして**更新**に関連付けられているオーケストレーションのインスタンス ID を表示するには、もう一度、**オーケストレーション インスタンス ID**テキスト ボックス。 メッセージ**バッチ処理がアクティブ化**下に表示されます、**開始**ボタンをクリックします。  
  
11. をクリックして**オーバーライド**のため、バッチを送信バッチ処理オーケストレーションが強制的に、リリース条件が満たされているかどうかを示すです。 このオプションを使用すると、既存のバッチ条件が上書きされます。結果として、既存の要素を使用してバッチが作成され、直ちに送信されます。 この後、バッチ処理のオーケストレーションは、確立された設定に基づいてバッチ処理を開始します。  
  
12. をクリックして**停止**バッチを送信せずにアクティブなバッチ処理オーケストレーションを終了してから、バッチ処理オーケストレーションを手動で非アクティブにします。  
  
13. をクリックして**更新**バッチ処理オーケストレーションの状態を更新します。  
  
    > [!NOTE]
    >  上部にあるドロップダウン リストを使用して**バッチ構成**ページを選択して表示されるバッチ構成タブをフィルター処理を**すべて**(すべてのバッチのタブを参照してください) を**アクティブ**(アクティブなバッチのタブを参照してください) をまたは**Inactive** (を非アクティブなバッチのタブを参照してください)。  
  
    > [!NOTE]
    >  オーケストレーションがバッチを処理している間に構成設定を変更すると、新しい設定はそのバッチに適用されません。 これにより、送信パイプラインで検証エラーが発生する場合があります。  
  
    > [!NOTE]
    >  開発サーバーでバッチ処理のオーケストレーション パーティを迅速にアクティブ化するには、そのサーバー上のバッチ処理 SQL アダプターの受信場所 (BatchControlMessageRecvLoc) のポーリング間隔を短くします。 開発サーバーのポーリング間隔を 30 秒に設定することをお勧めします。  
  
14. をクリックして**OK**を変更を検証し、ダイアログ ボックスを閉じます。  
  
## <a name="see-also"></a>参照  
 [インターチェンジの設定の構成 (EDIFACT)](../core/configuring-interchange-settings-edifact.md)