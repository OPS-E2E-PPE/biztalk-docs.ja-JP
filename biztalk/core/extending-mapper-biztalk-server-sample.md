---
title: "Extending Mapper (BizTalk Server サンプル) |Microsoft ドキュメント"
ms.custom: 
ms.date: 06/08/2017
ms.prod: biztalk-server
ms.reviewer: 
ms.suite: 
ms.tgt_pltfrm: 
ms.topic: article
helpviewer_keywords:
- BizTalk Mapper, examples
- XML tools
- BizTalk Mapper, extending
- examples, BizTalk Mapper
- examples, XML tools
ms.assetid: 6010a13f-b715-4766-ad91-5aa9b98589e3
caps.latest.revision: "17"
author: MandiOhlinger
ms.author: mandia
manager: anneta
ms.openlocfilehash: 1b2b4538d8bff60330de24f00b6565ed43a9c079
ms.sourcegitcommit: 5abd0ed3f9e4858ffaaec5481bfa8878595e95f7
ms.translationtype: MT
ms.contentlocale: ja-JP
ms.lasthandoff: 11/28/2017
---
# <a name="extending-mapper-biztalk-server-sample"></a><span data-ttu-id="8ca2d-102">Extending Mapper (BizTalk Server サンプル)</span><span class="sxs-lookup"><span data-stu-id="8ca2d-102">Extending Mapper (BizTalk Server Sample)</span></span>
<span data-ttu-id="8ca2d-103">Extending Mapper サンプルは、BizTalk マッパーの使用方法および拡張方法を示します。</span><span class="sxs-lookup"><span data-stu-id="8ca2d-103">The Extending Mapper sample demonstrates how to use and extend BizTalk Mapper.</span></span> <span data-ttu-id="8ca2d-104">このサンプルには、複数の [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] マップ ファイル (.btm) が含まれており、それぞれが BizTalk マッパーの異なる特徴を示しています。</span><span class="sxs-lookup"><span data-stu-id="8ca2d-104">The sample includes several [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] map files (.btm), each of which illustrates different features of BizTalk Mapper.</span></span>  
  
## <a name="what-this-sample-does"></a><span data-ttu-id="8ca2d-105">このサンプルの処理</span><span class="sxs-lookup"><span data-stu-id="8ca2d-105">What This Sample Does</span></span>  
 <span data-ttu-id="8ca2d-106">Extending Mapper サンプルは、コンテンツ ベースのルーティング (CBR) を使用し、オーケストレーションは使用しません。</span><span class="sxs-lookup"><span data-stu-id="8ca2d-106">The Extending Mapper sample uses content-based routing (CBR) and does not use an orchestration.</span></span> <span data-ttu-id="8ca2d-107">サンプル送信ポートに対してフィルターを指定すると、サンプル送信ポートがサンプル受信ポートに直接接続されます。</span><span class="sxs-lookup"><span data-stu-id="8ca2d-107">By specifying a filter on the sample send port, it is connected directly to the sample receive port.</span></span> <span data-ttu-id="8ca2d-108">送信ポートに対してマップが指定され、その送信ポートが処理済みのドキュメントに適用されます。</span><span class="sxs-lookup"><span data-stu-id="8ca2d-108">A map is specified on the send port to be applied to the processed document.</span></span>  
  
## <a name="where-to-find-this-sample"></a><span data-ttu-id="8ca2d-109">このサンプルの場所</span><span class="sxs-lookup"><span data-stu-id="8ca2d-109">Where to Find This Sample</span></span>  
 <span data-ttu-id="8ca2d-110">*\<パスのサンプル\>*\XmlTools\ExtendingMapper</span><span class="sxs-lookup"><span data-stu-id="8ca2d-110">*\<Samples Path\>*\XmlTools\ExtendingMapper</span></span>  
  
 <span data-ttu-id="8ca2d-111">次の表は、このサンプルのファイルとその目的を示しています。</span><span class="sxs-lookup"><span data-stu-id="8ca2d-111">The following table shows the files in this sample and describes their purpose.</span></span>  
  
|<span data-ttu-id="8ca2d-112">ファイル</span><span class="sxs-lookup"><span data-stu-id="8ca2d-112">File(s)</span></span>|<span data-ttu-id="8ca2d-113">Description</span><span class="sxs-lookup"><span data-stu-id="8ca2d-113">Description</span></span>|  
|---------------|-----------------|  
|<span data-ttu-id="8ca2d-114">MapperClassLibrary\AssemblyInfo.cs、MapperClassLibrary\MapperClassLibrary.csproj、MapperClassLibrary\MapperHelper.cs、MapperClassLibrary\MapperClassLibrary.sln</span><span class="sxs-lookup"><span data-stu-id="8ca2d-114">MapperClassLibrary\AssemblyInfo.cs, MapperClassLibrary\MapperClassLibrary.csproj, MapperClassLibrary\MapperHelper.cs, MapperClassLibrary\MapperClassLibrary.sln</span></span>|<span data-ttu-id="8ca2d-115">Microsoft® [!INCLUDE[btsVStudioNoVersion](../includes/btsvstudionoversion-md.md)]® プロジェクト ファイルおよび Visual C#® ソース ファイルです。</span><span class="sxs-lookup"><span data-stu-id="8ca2d-115">Microsoft® [!INCLUDE[btsVStudioNoVersion](../includes/btsvstudionoversion-md.md)]® project file and Visual C#® source files.</span></span>|  
|<span data-ttu-id="8ca2d-116">Cleanup.bat</span><span class="sxs-lookup"><span data-stu-id="8ca2d-116">Cleanup.bat</span></span>|<span data-ttu-id="8ca2d-117">アセンブリを展開解除し、グローバル アセンブリ キャッシュ (GAC) から削除するために使用されます。</span><span class="sxs-lookup"><span data-stu-id="8ca2d-117">Used to undeploy assemblies and remove them from the global assembly cache (GAC).</span></span>|  
|<span data-ttu-id="8ca2d-118">Destination.xsd</span><span class="sxs-lookup"><span data-stu-id="8ca2d-118">Destination.xsd</span></span>|<span data-ttu-id="8ca2d-119">スキーマ ファイルです。</span><span class="sxs-lookup"><span data-stu-id="8ca2d-119">Schema file.</span></span>|  
|<span data-ttu-id="8ca2d-120">ExtendingMapper.btproj、ExtendingMapper.sln</span><span class="sxs-lookup"><span data-stu-id="8ca2d-120">ExtendingMapper.btproj, ExtendingMapper.sln</span></span>|<span data-ttu-id="8ca2d-121">このサンプルの BizTalk プロジェクト ファイルとソリューション ファイルです。</span><span class="sxs-lookup"><span data-stu-id="8ca2d-121">BizTalk project and solution files for this sample.</span></span>|  
|<span data-ttu-id="8ca2d-122">ExtendingMapper.xml</span><span class="sxs-lookup"><span data-stu-id="8ca2d-122">ExtendingMapper.xml</span></span>|<span data-ttu-id="8ca2d-123">ソース XML です。</span><span class="sxs-lookup"><span data-stu-id="8ca2d-123">Source XML.</span></span>|  
|<span data-ttu-id="8ca2d-124">ExtendingMapperBinding.xml</span><span class="sxs-lookup"><span data-stu-id="8ca2d-124">ExtendingMapperBinding.xml</span></span>|<span data-ttu-id="8ca2d-125">バインド XML です。</span><span class="sxs-lookup"><span data-stu-id="8ca2d-125">Binding XML.</span></span>|  
|<span data-ttu-id="8ca2d-126">ExternalAssembly.xml</span><span class="sxs-lookup"><span data-stu-id="8ca2d-126">ExternalAssembly.xml</span></span>|<span data-ttu-id="8ca2d-127">外部アセンブリ XML です。</span><span class="sxs-lookup"><span data-stu-id="8ca2d-127">External assembly XML.</span></span>|  
|<span data-ttu-id="8ca2d-128">OverridingMapXslt.btm</span><span class="sxs-lookup"><span data-stu-id="8ca2d-128">OverridingMapXslt.btm</span></span>|<span data-ttu-id="8ca2d-129">マップ ファイル。</span><span class="sxs-lookup"><span data-stu-id="8ca2d-129">Map file.</span></span>|  
|<span data-ttu-id="8ca2d-130">OverridingMapXslt.xml</span><span class="sxs-lookup"><span data-stu-id="8ca2d-130">OverridingMapXslt.xml</span></span>|<span data-ttu-id="8ca2d-131">マップ XML を上書きします。</span><span class="sxs-lookup"><span data-stu-id="8ca2d-131">Overriding Map XML.</span></span>|  
|<span data-ttu-id="8ca2d-132">OverridingMapXslt.xslt</span><span class="sxs-lookup"><span data-stu-id="8ca2d-132">OverridingMapXslt.xslt</span></span>|<span data-ttu-id="8ca2d-133">マップ スタイルシートを上書きします。</span><span class="sxs-lookup"><span data-stu-id="8ca2d-133">Overriding Map style sheet.</span></span>|  
|<span data-ttu-id="8ca2d-134">Scriptor_CallExternalAssembly.btm</span><span class="sxs-lookup"><span data-stu-id="8ca2d-134">Scriptor_CallExternalAssembly.btm</span></span>|<span data-ttu-id="8ca2d-135">サンプル マップ ファイルです。</span><span class="sxs-lookup"><span data-stu-id="8ca2d-135">Sample map file.</span></span>|  
|<span data-ttu-id="8ca2d-136">Scriptor_GlobalVariableInInlineScript.btm</span><span class="sxs-lookup"><span data-stu-id="8ca2d-136">Scriptor_GlobalVariableInInlineScript.btm</span></span>|<span data-ttu-id="8ca2d-137">サンプル マップ ファイルです。</span><span class="sxs-lookup"><span data-stu-id="8ca2d-137">Sample map file.</span></span>|  
|<span data-ttu-id="8ca2d-138">Scriptor_InlineScripts.btm</span><span class="sxs-lookup"><span data-stu-id="8ca2d-138">Scriptor_InlineScripts.btm</span></span>|<span data-ttu-id="8ca2d-139">サンプル マップ ファイルです。</span><span class="sxs-lookup"><span data-stu-id="8ca2d-139">Sample map file.</span></span>|  
|<span data-ttu-id="8ca2d-140">Scriptor_InlineXslt.btm</span><span class="sxs-lookup"><span data-stu-id="8ca2d-140">Scriptor_InlineXslt.btm</span></span>|<span data-ttu-id="8ca2d-141">サンプル マップ ファイルです。</span><span class="sxs-lookup"><span data-stu-id="8ca2d-141">Sample map file.</span></span>|  
|<span data-ttu-id="8ca2d-142">Scriptor_InlineXsltCallingExternalAssembly.btm</span><span class="sxs-lookup"><span data-stu-id="8ca2d-142">Scriptor_InlineXsltCallingExternalAssembly.btm</span></span>|<span data-ttu-id="8ca2d-143">サンプル マップ ファイルです。</span><span class="sxs-lookup"><span data-stu-id="8ca2d-143">Sample map file.</span></span>|  
|<span data-ttu-id="8ca2d-144">Scriptor_XsltCalltemplate.btm</span><span class="sxs-lookup"><span data-stu-id="8ca2d-144">Scriptor_XsltCalltemplate.btm</span></span>|<span data-ttu-id="8ca2d-145">サンプル マップ ファイルです。</span><span class="sxs-lookup"><span data-stu-id="8ca2d-145">Sample map file.</span></span>|  
|<span data-ttu-id="8ca2d-146">Setup.bat</span><span class="sxs-lookup"><span data-stu-id="8ca2d-146">Setup.bat</span></span>|<span data-ttu-id="8ca2d-147">サンプルをビルドおよび初期化するために使用されます。</span><span class="sxs-lookup"><span data-stu-id="8ca2d-147">Used to build and initialize the sample.</span></span>|  
|<span data-ttu-id="8ca2d-148">Source.xsd</span><span class="sxs-lookup"><span data-stu-id="8ca2d-148">Source.xsd</span></span>|<span data-ttu-id="8ca2d-149">スキーマ ファイルです。</span><span class="sxs-lookup"><span data-stu-id="8ca2d-149">Schema file.</span></span>|  
  
## <a name="building-and-initializing-this-sample"></a><span data-ttu-id="8ca2d-150">このサンプルのビルドと初期化</span><span class="sxs-lookup"><span data-stu-id="8ca2d-150">Building and Initializing This Sample</span></span>  
 <span data-ttu-id="8ca2d-151">次の手順を使用して、Extending Mapper サンプルをビルドおよび初期化します。</span><span class="sxs-lookup"><span data-stu-id="8ca2d-151">Use the following procedure to build and initialize the Extending Mapper sample.</span></span>  
  
#### <a name="to-build-and-initialize-this-sample"></a><span data-ttu-id="8ca2d-152">このサンプルを作成および初期化するには</span><span class="sxs-lookup"><span data-stu-id="8ca2d-152">To build and initialize this sample</span></span>  
  
1.  <span data-ttu-id="8ca2d-153">コマンド ウィンドウでディレクトリ変更 (**cd**) 次のフォルダーに。</span><span class="sxs-lookup"><span data-stu-id="8ca2d-153">In a command window, change directory (**cd**) to the following folder:</span></span>  
  
     <span data-ttu-id="8ca2d-154">*\<パスのサンプル\>*\XmlTools\ExtendingMapper</span><span class="sxs-lookup"><span data-stu-id="8ca2d-154">*\<Samples Path\>*\XmlTools\ExtendingMapper</span></span>  
  
2.  <span data-ttu-id="8ca2d-155">次の操作を実行する Setup.bat ファイルを実行します。</span><span class="sxs-lookup"><span data-stu-id="8ca2d-155">Run the file Setup.bat, which performs the following actions:</span></span>  
  
    -   <span data-ttu-id="8ca2d-156">このサンプルで使用される入力 (\In) フォルダーと出力 (\Out) フォルダーを作成します。</span><span class="sxs-lookup"><span data-stu-id="8ca2d-156">Creates the input (\In) and output (\Out) folders for this sample.</span></span>  
  
    -   <span data-ttu-id="8ca2d-157">コンパイルし、展開、[!INCLUDE[btsVStudioNoVersion](../includes/btsvstudionoversion-md.md)]このサンプルのプロジェクトです。</span><span class="sxs-lookup"><span data-stu-id="8ca2d-157">Compiles and deploys the [!INCLUDE[btsVStudioNoVersion](../includes/btsvstudionoversion-md.md)] project for this sample.</span></span>  
  
    -   <span data-ttu-id="8ca2d-158">[!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] の受信場所、送信ポート、および受信ポートを作成しバインドします。</span><span class="sxs-lookup"><span data-stu-id="8ca2d-158">Creates and binds the [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] receive location, and the send and receive ports.</span></span>  
  
     <span data-ttu-id="8ca2d-159">Scriptor_CallExternalAssembly.btm マップまたは Scriptor_InlineXsltCallingExternalAssembly.btm マップを使用する場合は、Visual Studio で ExtendingMapper.sln を開き、次の変更を行います (それ以外の場合は、手順 3. に進みます)。</span><span class="sxs-lookup"><span data-stu-id="8ca2d-159">If you want to use the Scriptor_CallExternalAssembly.btm or Scriptor_InlineXsltCallingExternalAssembly.btm maps, open ExtendingMapper.sln in Visual Studio and make the following modifications (otherwise go to step 3):</span></span>  
  
    1.  <span data-ttu-id="8ca2d-160">ソリューション エクスプローラーで、Scriptor_CallExternalAssembly.btm を開きます。</span><span class="sxs-lookup"><span data-stu-id="8ca2d-160">In Solution Explorer, open Scriptor_CallExternalAssembly.btm.</span></span>  
  
    2.  <span data-ttu-id="8ca2d-161">マッパー グリッドで、スクリプト Functoid を選択します。</span><span class="sxs-lookup"><span data-stu-id="8ca2d-161">On the mapper grid, select the Scripting functoid.</span></span>  
  
    3.  <span data-ttu-id="8ca2d-162">プロパティ グリッドで、選択、**スクリプト**プロパティ、functoid のスクリプトを構成する場合、省略記号 (...) ボタンをクリックします。</span><span class="sxs-lookup"><span data-stu-id="8ca2d-162">In the property grid, select the **Script** property, and click the ellipsis (...) button to configure the functoid script.</span></span>  
  
    4.  <span data-ttu-id="8ca2d-163">**スクリプト Functoid の構成**ダイアログ ボックスで、**スクリプト Functoid の構成**、し、次を指定します。</span><span class="sxs-lookup"><span data-stu-id="8ca2d-163">In the **Configure Scripting Functoid** dialog box, select the **Script Functoid Configuration**, and specify the following:</span></span>  
  
        |<span data-ttu-id="8ca2d-164">設定対象</span><span class="sxs-lookup"><span data-stu-id="8ca2d-164">Set this</span></span>|<span data-ttu-id="8ca2d-165">次の値に設定</span><span class="sxs-lookup"><span data-stu-id="8ca2d-165">To this</span></span>|  
        |--------------|-------------|  
        |<span data-ttu-id="8ca2d-166">**スクリプトの種類**</span><span class="sxs-lookup"><span data-stu-id="8ca2d-166">**Script Type**</span></span>|<span data-ttu-id="8ca2d-167">外部アセンブリ</span><span class="sxs-lookup"><span data-stu-id="8ca2d-167">External assembly</span></span>|  
        |<span data-ttu-id="8ca2d-168">**スクリプト アセンブリ**</span><span class="sxs-lookup"><span data-stu-id="8ca2d-168">**Script Assembly**</span></span>|<span data-ttu-id="8ca2d-169">Microsoft.Samples.BizTalk.ExtendingMapper.MapperClassLibrary</span><span class="sxs-lookup"><span data-stu-id="8ca2d-169">Microsoft.Samples.BizTalk.ExtendingMapper.MapperClassLibrary</span></span>|  
        |<span data-ttu-id="8ca2d-170">**スクリプト クラス**</span><span class="sxs-lookup"><span data-stu-id="8ca2d-170">**Script Class**</span></span>|<span data-ttu-id="8ca2d-171">Microsoft.Samples.BizTalk.ExtendingMapper.MapperHelper</span><span class="sxs-lookup"><span data-stu-id="8ca2d-171">Microsoft.Samples.BizTalk.ExtendingMapper.MapperHelper</span></span>|  
        |<span data-ttu-id="8ca2d-172">**スクリプト メソッド**</span><span class="sxs-lookup"><span data-stu-id="8ca2d-172">**Script Method**</span></span>|<span data-ttu-id="8ca2d-173">MyConcat</span><span class="sxs-lookup"><span data-stu-id="8ca2d-173">MyConcat</span></span>|  
  
    5.  <span data-ttu-id="8ca2d-174">[!INCLUDE[btsVStudioNoVersion](../includes/btsvstudionoversion-md.md)]**ファイル**] メニューの [選択**保存**をマップ ファイルに変更を保存し、ソリューションを閉じます。</span><span class="sxs-lookup"><span data-stu-id="8ca2d-174">From the [!INCLUDE[btsVStudioNoVersion](../includes/btsvstudionoversion-md.md)]**File** menu, choose **Save** to save changes to the map file, and close the solution.</span></span>  
  
3.  <span data-ttu-id="8ca2d-175">任意のキーを押して Setup.bat を続行します。</span><span class="sxs-lookup"><span data-stu-id="8ca2d-175">Press any key to continue with Setup.bat.</span></span>  
  
    > [!IMPORTANT]
    >  <span data-ttu-id="8ca2d-176">Scriptor_InlineXsltCallingExternalAssembly.btm を使用する場合、ExternalAssembly.xml ファイルを編集する必要があります。</span><span class="sxs-lookup"><span data-stu-id="8ca2d-176">If you want to use Scriptor_InlineXsltCallingExternalAssembly.btm, you must edit the ExternalAssembly.xml file.</span></span> <span data-ttu-id="8ca2d-177">BizTalk は ExternalAssembly.xml を使用して、マッパー拡張オブジェクトの登録済み名前空間を .NET アセンブリにマップします。</span><span class="sxs-lookup"><span data-stu-id="8ca2d-177">ExternalAssembly.xml is used by BizTalk to map a mapper extension object registered namespace to a .NET assembly.</span></span> <span data-ttu-id="8ca2d-178">依存アセンブリはその完全修飾名 (自動的に生成される公開キー トークンを含む) で参照されるため、この値を更新する必要があります。</span><span class="sxs-lookup"><span data-stu-id="8ca2d-178">Because the dependent assembly is referenced by its fully qualified name (including its public key token, which is automatically generated), you must update this value.</span></span> <span data-ttu-id="8ca2d-179">Scriptor_InlineXsltCallingExternalAssembly.btm を使用しない場合は、手順 a. ～ e. を実行する必要はありません。</span><span class="sxs-lookup"><span data-stu-id="8ca2d-179">If you do not want to use Scriptor_InlineXsltCallingExternalAssembly.btm, you do not need to complete steps a through e.</span></span>  
  
4.  <span data-ttu-id="8ca2d-180">Windows エクスプ ローラーに移動\<Windows フォルダー\>\assembly\\です。</span><span class="sxs-lookup"><span data-stu-id="8ca2d-180">In Windows Explorer, navigate to \<Windows folder\>\assembly\\.</span></span>  
  
    1.  <span data-ttu-id="8ca2d-181">右クリック**Microsoft.Samples.BizTalk.ExtendingMapper.MapperClassLibrary**選択**プロパティ**です。</span><span class="sxs-lookup"><span data-stu-id="8ca2d-181">Right-click **Microsoft.Samples.BizTalk.ExtendingMapper.MapperClassLibrary** and select **Properties**.</span></span>  
  
    2.  <span data-ttu-id="8ca2d-182">公開キー トークン値をコピーします。</span><span class="sxs-lookup"><span data-stu-id="8ca2d-182">Copy the public key token value.</span></span>  
  
    3.  <span data-ttu-id="8ca2d-183">テキスト エディターで開き*\<サンプル パス\>*\XML Tools\ExtendingMapper\ExternalAssembly.xml です。</span><span class="sxs-lookup"><span data-stu-id="8ca2d-183">In a text editor, open *\<Samples Path\>*\XML Tools\ExtendingMapper\ExternalAssembly.xml.</span></span>  
  
    4.  <span data-ttu-id="8ca2d-184">選択、 **AssemblyName="Microsoft.Samples.BizTalk.ExtendingMapper.MapperClassLibrary、バージョン 1.0.0.0、カルチャを = = neutral, PublicKeyToken = 68496d20c737d84b"**属性があり、置換、 **PublicKeyToken**でコピーした値に、公開キー トークンを持つ値 c をステップ インします。</span><span class="sxs-lookup"><span data-stu-id="8ca2d-184">Select the **AssemblyName="Microsoft.Samples.BizTalk.ExtendingMapper.MapperClassLibrary, Version=1.0.0.0, Culture=neutral, PublicKeyToken=68496d20c737d84b"**attribute, and replace the **PublicKeyToken** value with the public key token value you copied in step c.</span></span>  
  
    5.  <span data-ttu-id="8ca2d-185">ExternalAssembly.xml を保存して閉じます。</span><span class="sxs-lookup"><span data-stu-id="8ca2d-185">Save and close ExternalAssembly.xml.</span></span>  
  
    > [!NOTE]
    >  <span data-ttu-id="8ca2d-186">このサンプルを実行する前に、ビルド処理および初期化処理でエラーが報告されていないことを確認してください。</span><span class="sxs-lookup"><span data-stu-id="8ca2d-186">You should confirm that no errors were reported during the build and initialization process before attempting to run this sample.</span></span>  
  
#### <a name="to-configure-enlist-and-start-the-send-port"></a><span data-ttu-id="8ca2d-187">送信ポートの構成、参加、開始を行うには</span><span class="sxs-lookup"><span data-stu-id="8ca2d-187">To configure, enlist, and start the send port</span></span>  
  
1.  <span data-ttu-id="8ca2d-188">をクリックして**開始****すべてのプログラム**を選択**Microsoft BizTalk Server**、し、 **BizTalk Server 管理コンソール**です。</span><span class="sxs-lookup"><span data-stu-id="8ca2d-188">Click **Start**, select **All Programs**, select **Microsoft BizTalk Server**, and then select **BizTalk Server Administration**.</span></span>  
  
2.  <span data-ttu-id="8ca2d-189">BizTalk Server 管理コンソールをクリックして展開**BizTalk Server 管理コンソール**をクリックして展開**BizTalk グループ [\<servername\>:\<管理データベース\>]**をクリックして展開**アプリケーション**です。</span><span class="sxs-lookup"><span data-stu-id="8ca2d-189">In the BizTalk Server Administration console, click to expand **BizTalk Server Administration**, click to expand **BizTalk Group [\<servername\>:\<management database\>]**, and click to expand **Applications**.</span></span>  
  
3.  <span data-ttu-id="8ca2d-190">クリックして展開**ExtendingMapperApplication**、クリックして**送信ポート**です。</span><span class="sxs-lookup"><span data-stu-id="8ca2d-190">Click to expand **ExtendingMapperApplication**, and then click **Send Ports**.</span></span>  
  
4.  <span data-ttu-id="8ca2d-191">右側のペインで右クリック**送信ポート**、クリックして**プロパティ**です。</span><span class="sxs-lookup"><span data-stu-id="8ca2d-191">In the right pane, right-click **Send Ports**, and then click **Properties**.</span></span>  
  
5.  <span data-ttu-id="8ca2d-192">**ExtendingMapperSP – 送信ポートのプロパティ**ダイアログ ボックスで、をクリックして、**送信マップ**ページ。</span><span class="sxs-lookup"><span data-stu-id="8ca2d-192">In the **ExtendingMapperSP – Send Port Properties** dialog box, click the **Outbound Maps** page.</span></span>  
  
     <span data-ttu-id="8ca2d-193">**マップ**列、ドロップダウン リストから必要なマップを選択し、をクリックして**OK**です。</span><span class="sxs-lookup"><span data-stu-id="8ca2d-193">In the **Map** column, select the required map from the drop-down list, and then click **OK**.</span></span> <span data-ttu-id="8ca2d-194">次の表は、これらのマップについてまとめたものです。</span><span class="sxs-lookup"><span data-stu-id="8ca2d-194">The maps are described in the following table.</span></span>  
  
    |<span data-ttu-id="8ca2d-195">"適用するマップ" プロパティ</span><span class="sxs-lookup"><span data-stu-id="8ca2d-195">Map to apply Property</span></span>|<span data-ttu-id="8ca2d-196">Description</span><span class="sxs-lookup"><span data-stu-id="8ca2d-196">Description</span></span>|  
    |---------------------------|-----------------|  
    |<span data-ttu-id="8ca2d-197">Microsoft.Samples.BizTalk.ExtendingMapper.</span><span class="sxs-lookup"><span data-stu-id="8ca2d-197">Microsoft.Samples.BizTalk.ExtendingMapper.</span></span> <span data-ttu-id="8ca2d-198">Scriptor_CallExternalAssembly</span><span class="sxs-lookup"><span data-stu-id="8ca2d-198">Scriptor_CallExternalAssembly</span></span>|<span data-ttu-id="8ca2d-199">外部 .NET アセンブリの関数を呼び出す方法を示します、**スクリプト**マップでは、functoid は、この functoid への入力パラメーターに基づいています。</span><span class="sxs-lookup"><span data-stu-id="8ca2d-199">Demonstrates how to call into a function in an external .NET assembly from a **Scripting** functoid in a map, based on the input parameters to this functoid.</span></span> <span data-ttu-id="8ca2d-200">これは、マップ ファイルから処理ロジックを明確に分離するのに役立ちます。</span><span class="sxs-lookup"><span data-stu-id="8ca2d-200">This helps cleanly separate any processing logic from the map file.</span></span> <span data-ttu-id="8ca2d-201">このマップ ファイルは、このサンプルに付属しているアセンブリ MapperClassLibrary.dll を使用します。</span><span class="sxs-lookup"><span data-stu-id="8ca2d-201">This map file uses the assembly MapperClassLibrary.dll that ships with this sample.</span></span>|  
    |<span data-ttu-id="8ca2d-202">Microsoft.Samples.BizTalk.ExtendingMapper.</span><span class="sxs-lookup"><span data-stu-id="8ca2d-202">Microsoft.Samples.BizTalk.ExtendingMapper.</span></span> <span data-ttu-id="8ca2d-203">Scriptor_InlineScripts</span><span class="sxs-lookup"><span data-stu-id="8ca2d-203">Scriptor_InlineScripts</span></span>|<span data-ttu-id="8ca2d-204">内の単純なインライン スクリプトを記述する方法を示します**スクリプト**functoid の C# の場合など Visual Basic.NET、JScript.NET .NET 言語を使用してマップ ファイルです。</span><span class="sxs-lookup"><span data-stu-id="8ca2d-204">Demonstrates how to write simple inline scripts inside **Scripting** functoids in a map file using .NET languages such as C#, Visual Basic.NET, and JScript.NET.</span></span>|  
    |<span data-ttu-id="8ca2d-205">Microsoft.Samples.BizTalk.ExtendingMapper.</span><span class="sxs-lookup"><span data-stu-id="8ca2d-205">Microsoft.Samples.BizTalk.ExtendingMapper.</span></span> <span data-ttu-id="8ca2d-206">Scriptor_GlobalVariableInInlineScript</span><span class="sxs-lookup"><span data-stu-id="8ca2d-206">Scriptor_GlobalVariableInInlineScript</span></span>|<span data-ttu-id="8ca2d-207">インライン スクリプトでグローバル変数を使用する方法を示します**スクリプト**functoid です。</span><span class="sxs-lookup"><span data-stu-id="8ca2d-207">Demonstrates how to use global variables in the inline scripts of **Scripting** functoids.</span></span> <span data-ttu-id="8ca2d-208">グローバル変数が異なるマップ ファイルの状態情報を維持するために使用される通常**スクリプト**functoid です。</span><span class="sxs-lookup"><span data-stu-id="8ca2d-208">Global variables are usually used to maintain state information in a map file across different **Scripting** functoids.</span></span>|  
    |<span data-ttu-id="8ca2d-209">Microsoft.Samples.BizTalk.ExtendingMapper.</span><span class="sxs-lookup"><span data-stu-id="8ca2d-209">Microsoft.Samples.BizTalk.ExtendingMapper.</span></span> <span data-ttu-id="8ca2d-210">Scriptor_InlineXslt</span><span class="sxs-lookup"><span data-stu-id="8ca2d-210">Scriptor_InlineXslt</span></span>|<span data-ttu-id="8ca2d-211">未処理のインライン XSLT を使用して、対象ドキュメントに構造を構築する方法を示します内、**スクリプト**functoid にマップします。</span><span class="sxs-lookup"><span data-stu-id="8ca2d-211">Demonstrates how to construct structure in the destination document using raw inline XSLT inside a **Scripting** functoid in the map.</span></span> <span data-ttu-id="8ca2d-212">使用して、送信先ドキュメントの一部を構築する**スクリプト**functoid とインライン XSLT たびに、他の functoid を使用する BizTalk マッパーで操作することはできません。</span><span class="sxs-lookup"><span data-stu-id="8ca2d-212">You can construct some parts of the destination document using **Scripting** functoids with inline XSLT whenever it is not possible to do that in BizTalk Mapper using other functoids.</span></span>|  
    |<span data-ttu-id="8ca2d-213">Microsoft.Samples.BizTalk.ExtendingMapper.</span><span class="sxs-lookup"><span data-stu-id="8ca2d-213">Microsoft.Samples.BizTalk.ExtendingMapper.</span></span> <span data-ttu-id="8ca2d-214">Scriptor_XsltCalltemplate</span><span class="sxs-lookup"><span data-stu-id="8ca2d-214">Scriptor_XsltCalltemplate</span></span>|<span data-ttu-id="8ca2d-215">内部 XSLT 呼び出しテンプレートを使用してインポート先のドキュメントに構造を作成する方法を示します、**スクリプト**functoid マップにします。</span><span class="sxs-lookup"><span data-stu-id="8ca2d-215">Demonstrates how to create structure in the destination document using an XSLT Call template inside a **Scripting** functoid in the map.</span></span> <span data-ttu-id="8ca2d-216">入力パラメーターに基づいて、利点は、XSLT 呼び出しテンプレートのインライン XSLT 呼び出しテンプレートにパラメーターを受け入れることができます構造を作成できるようにするには、**スクリプト**functoid です。</span><span class="sxs-lookup"><span data-stu-id="8ca2d-216">The advantage of an XSLT Call template over inline XSLT is that the call template can accept parameters, so you can create the structure based on input parameters to the **Scripting** functoid.</span></span> <span data-ttu-id="8ca2d-217">使用して、送信先ドキュメントの一部を構築する**スクリプト**functoid とインライン XSLT たびに、他の functoid を使用する BizTalk マッパーで操作することはできません。</span><span class="sxs-lookup"><span data-stu-id="8ca2d-217">You can construct some parts of the destination document using **Scripting** functoids with inline XSLT whenever it is not possible to do that in BizTalk Mapper using other functoids.</span></span>|  
    |<span data-ttu-id="8ca2d-218">Microsoft.Samples.BizTalk.ExtendingMapper.</span><span class="sxs-lookup"><span data-stu-id="8ca2d-218">Microsoft.Samples.BizTalk.ExtendingMapper.</span></span> <span data-ttu-id="8ca2d-219">Scriptor_InlineXsltCallingExternalAssembly</span><span class="sxs-lookup"><span data-stu-id="8ca2d-219">Scriptor_InlineXsltCallingExternalAssembly</span></span>|<span data-ttu-id="8ca2d-220">インライン XSLT 内から外部 .NET アセンブリを呼び出す方法を示しますの**スクリプト**functoid にマップします。</span><span class="sxs-lookup"><span data-stu-id="8ca2d-220">Demonstrates how to call into an external .NET assembly from inside The inline XSLT of a **Scripting** functoid in a map.</span></span> <span data-ttu-id="8ca2d-221">オーバーライドする方法について説明します、**カスタム拡張 XML**カスタム拡張ファイル ExternalAssembly_extxml.xml を呼び出す外部 .NET アセンブリの詳細が含まれる BizTalk マッパー グリッドのプロパティです。</span><span class="sxs-lookup"><span data-stu-id="8ca2d-221">Explains how you can override the **Custom Extension XML** property of the BizTalk Mapper grid with the custom extension file ExternalAssembly_extxml.xml that contains the details of the external .NET assembly to invoke.</span></span> <span data-ttu-id="8ca2d-222">使用して、送信先ドキュメントの一部を構築する**スクリプト**functoid とインライン XSLT たびに、他の functoid を使用して、マッパー UI で操作することはできません。</span><span class="sxs-lookup"><span data-stu-id="8ca2d-222">You can construct some parts of the destination document using **Scripting** functoids with inline XSLT whenever it is not possible to do that in the Mapper UI using other functoids.</span></span>|  
    |<span data-ttu-id="8ca2d-223">Microsoft.Samples.BizTalk.ExtendingMapper.</span><span class="sxs-lookup"><span data-stu-id="8ca2d-223">Microsoft.Samples.BizTalk.ExtendingMapper.</span></span> <span data-ttu-id="8ca2d-224">OverridingMapXslt</span><span class="sxs-lookup"><span data-stu-id="8ca2d-224">OverridingMapXslt</span></span>|<span data-ttu-id="8ca2d-225">BizTalk マッパー ファイルのコンパイル済み XSLT を、カスタム XSLT ファイルで完全に上書きする方法を示します。</span><span class="sxs-lookup"><span data-stu-id="8ca2d-225">Demonstrates how to completely override the compiled XSLT of the BizTalk Mapper file with a custom XSLT file.</span></span> <span data-ttu-id="8ca2d-226">オーバーライドすることでこれを行う、**カスタム XSL パス**プロパティと、必要に応じて、**カスタム拡張 XML** BizTalk マッパー グリッドのプロパティです。</span><span class="sxs-lookup"><span data-stu-id="8ca2d-226">You can do this by overriding the **Custom XSL Path**property and optionally the **Custom Extension XML** property of the BizTalk Mapper grid.</span></span> <span data-ttu-id="8ca2d-227">用意するカスタム XSLT ファイルは、実行時に使用するプロジェクトのコンパイル済み [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] アセンブリに含めます。</span><span class="sxs-lookup"><span data-stu-id="8ca2d-227">The custom XSLT file that you provide is included in the compiled [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] assembly of the project you want to use at run time.</span></span> <span data-ttu-id="8ca2d-228">この場合、マップ ファイル (.btm) の内容は無視されます。</span><span class="sxs-lookup"><span data-stu-id="8ca2d-228">In this case, the contents of the map file (.btm) are ignored.</span></span> <span data-ttu-id="8ca2d-229">このマップ ファイルに対してとに対して OverridingMapXslt.xml を使用して、**カスタム XSL パス**と**カスタム拡張 XML**プロパティ、それぞれします。</span><span class="sxs-lookup"><span data-stu-id="8ca2d-229">This map file uses OverridingMapXslt.xslt and OverridingMapXslt.xml for the **Custom XSL Path** and **Custom Extension XML** properties, respectively.</span></span><br /><br /> <span data-ttu-id="8ca2d-230">ソリューション エクスプローラーでマップ ファイルを検証できます。</span><span class="sxs-lookup"><span data-stu-id="8ca2d-230">You can validate a map file in Solution Explorer.</span></span> <span data-ttu-id="8ca2d-231">編集して使用できるテンプレート ファイルとして使用することができますし、**カスタム XSL パス**BizTalk マッパー グリッドのプロパティです。</span><span class="sxs-lookup"><span data-stu-id="8ca2d-231">You can then use it as a template file that you can edit and use for the **Custom XSL Path** property of the BizTalk Mapper grid.</span></span> <span data-ttu-id="8ca2d-232">BizTalk マッパーを使用してこの XSLT を生成できない場合は、いつでもこのオプションを使用できます。</span><span class="sxs-lookup"><span data-stu-id="8ca2d-232">You can resort to this option whenever it is not possible to produce this XSLT using BizTalk Mapper.</span></span>|  
  
## <a name="running-this-sample"></a><span data-ttu-id="8ca2d-233">このサンプルの実行</span><span class="sxs-lookup"><span data-stu-id="8ca2d-233">Running This Sample</span></span>  
 <span data-ttu-id="8ca2d-234">次の手順を使用して、Extending Mapper サンプルを実行します。</span><span class="sxs-lookup"><span data-stu-id="8ca2d-234">Use the following procedure to run the Extending Mapper sample.</span></span>  
  
#### <a name="to-run-this-sample"></a><span data-ttu-id="8ca2d-235">このサンプルを実行するには</span><span class="sxs-lookup"><span data-stu-id="8ca2d-235">To run this sample</span></span>  
  
1.  <span data-ttu-id="8ca2d-236">入力ファイル ExtendingMapper.xml を入力フォルダーにコピー *\<サンプル パス\>*\XmlTools\ExtendingMapper\In です。</span><span class="sxs-lookup"><span data-stu-id="8ca2d-236">Copy the input file ExtendingMapper.xml into the input folder at *\<Samples Path\>*\XmlTools\ExtendingMapper\In.</span></span>  
  
2.  <span data-ttu-id="8ca2d-237">ファイルを変換およびにルーティングする方法に注意してください、 *\<サンプル パス\>*\XmlTools\ExtendingMapper\Out フォルダです。</span><span class="sxs-lookup"><span data-stu-id="8ca2d-237">Notice how the file is transformed and routed to the *\<Samples Path\>*\XmlTools\ExtendingMapper\Out folder.</span></span> <span data-ttu-id="8ca2d-238">実行される変換は、適用したマップに基づきます。</span><span class="sxs-lookup"><span data-stu-id="8ca2d-238">The transformation that occurs is based on the map you applied.</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="8ca2d-239">参照</span><span class="sxs-lookup"><span data-stu-id="8ca2d-239">See Also</span></span>  
 [<span data-ttu-id="8ca2d-240">XML ツール (BizTalk Server Samples フォルダー)</span><span class="sxs-lookup"><span data-stu-id="8ca2d-240">XML Tools (BizTalk Server Samples Folder)</span></span>](../core/xml-tools-biztalk-server-samples-folder.md)