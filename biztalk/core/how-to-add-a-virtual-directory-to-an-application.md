---
title: 仮想ディレクトリをアプリケーションに追加する方法 |Microsoft Docs
ms.custom: ''
ms.date: 06/08/2017
ms.prod: biztalk-server
ms.reviewer: ''
ms.suite: ''
ms.tgt_pltfrm: ''
ms.topic: article
helpviewer_keywords:
- virtual directories
- managing [applications], virtual directories
- applications, virtual directories
- virtual directories, applications
ms.assetid: a5726696-bd65-49d9-8814-a078afe8c067
caps.latest.revision: 12
author: MandiOhlinger
ms.author: mandia
manager: anneta
ms.openlocfilehash: cf8051c013e8e8861a8746c6bb1421c882d7dd22
ms.sourcegitcommit: 266308ec5c6a9d8d80ff298ee6051b4843c5d626
ms.translationtype: MT
ms.contentlocale: ja-JP
ms.lasthandoff: 06/27/2018
ms.locfileid: "37014091"
---
# <a name="how-to-add-a-virtual-directory-to-an-application"></a><span data-ttu-id="1e964-102">仮想ディレクトリをアプリケーションに追加する方法</span><span class="sxs-lookup"><span data-stu-id="1e964-102">How to Add a Virtual Directory to an Application</span></span>
<span data-ttu-id="1e964-103">このトピックでは、BTSTask コマンド ライン ツールを使用して BizTalk アプリケーションに仮想ディレクトリを追加する方法について説明します。</span><span class="sxs-lookup"><span data-stu-id="1e964-103">This topic describes how to use the BTSTask command-line tool to add a virtual directory to a BizTalk application.</span></span> <span data-ttu-id="1e964-104">このオプションは、[!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] 管理コンソールでは利用できません。</span><span class="sxs-lookup"><span data-stu-id="1e964-104">This option is not available in the [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] Administration console.</span></span> <span data-ttu-id="1e964-105">カスタム Web サービスを記述するか、[!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] とのインターフェイス用に ASP.NET Web サイトを作成して、アプリケーションに仮想ディレクトリを展開する場合、仮想ディレクトリを追加できます。</span><span class="sxs-lookup"><span data-stu-id="1e964-105">You might want to add a virtual directory if you have written a custom Web service or created an ASP.NET Web site for interfacing with [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] and want to deploy the virtual directory with the application.</span></span>  
  
 <span data-ttu-id="1e964-106">」の説明に従って、別の方法をアプリケーションに仮想ディレクトリは SOAP または HTTP 仮想ディレクトリを指定することで、追加する受信場所、 [HTTP の受信場所を構成する方法](../core/how-to-configure-an-http-receive-location.md)します。</span><span class="sxs-lookup"><span data-stu-id="1e964-106">Another way to add a virtual directory to an application is by specifying a virtual directory for a SOAP or HTTP receive location, as described in [How to Configure an HTTP Receive Location](../core/how-to-configure-an-http-receive-location.md).</span></span> <span data-ttu-id="1e964-107">いずれの場合も、仮想ディレクトリは BizTalk 管理データベースに追加されます。</span><span class="sxs-lookup"><span data-stu-id="1e964-107">In all cases, the virtual directory is added to the BizTalk Management database.</span></span> <span data-ttu-id="1e964-108">表示されます、コマンドラインを使用して、仮想ディレクトリを追加すると、[!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)]管理コンソールで、追加したアプリケーションのリソース フォルダーと同様、を使用すると、アプリケーション内のアイテムの一覧で[ListApp コマンド](../core/listapp-command.md)します。</span><span class="sxs-lookup"><span data-stu-id="1e964-108">When you add a virtual directory by using the command line, it also displays in the [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] Administration console, in the Resources folder of the application to which you added it as well as the list of artifacts in the application when you use the [ListApp Command](../core/listapp-command.md).</span></span> <span data-ttu-id="1e964-109">後でアプリケーションをエクスポートして別の BizTalk グループにインポートした場合、仮想ディレクトリはその [リソース] フォルダーに表示されます。</span><span class="sxs-lookup"><span data-stu-id="1e964-109">If you later export the application and then import it into another BizTalk group, the virtual directory displays in the Resources folder.</span></span>  
  
 <span data-ttu-id="1e964-110">仮想ディレクトリをアプリケーションに追加する際には、次の点に注意してください。</span><span class="sxs-lookup"><span data-stu-id="1e964-110">When adding a virtual directory to an application, bear in mind the following points:</span></span>  
  
-   <span data-ttu-id="1e964-111">上書きオプションを指定することで、アプリケーションに既に存在する仮想ディレクトリを上書きできます。</span><span class="sxs-lookup"><span data-stu-id="1e964-111">You can overwrite a virtual directory that already exists in the application by specifying the overwrite option.</span></span> <span data-ttu-id="1e964-112">既存の仮想ディレクトリに追加するものと同じ名前がある場合にのみ、上書きオプションが必要です。</span><span class="sxs-lookup"><span data-stu-id="1e964-112">The overwrite option is required only when the existing virtual directory has the same name as the one you want to add.</span></span> <span data-ttu-id="1e964-113">指定されていない場合、仮想ディレクトリが追加される 1 つとして同じ名前のアプリケーションに既に存在します、追加操作は失敗します。</span><span class="sxs-lookup"><span data-stu-id="1e964-113">If not specified, and a virtual directory already exists in the application with the same name as the one being added, the add operation will fail.</span></span>  
  
-   <span data-ttu-id="1e964-114">URL に https が含まれる仮想ディレクトリを追加する場合、URL には https ではなく http を使用する必要があります。</span><span class="sxs-lookup"><span data-stu-id="1e964-114">When you add a virtual directory with a URL that contains https, you must use http in the URL that you specify rather than https.</span></span> <span data-ttu-id="1e964-115">https を使用した場合、仮想ディレクトリの追加操作は失敗します。</span><span class="sxs-lookup"><span data-stu-id="1e964-115">If you use https, the operation to add a virtual directory will fail.</span></span> <span data-ttu-id="1e964-116">URL に http を指定したとしても、インターネット インフォメーション サービス メタベースでは、依然として、その URL の https 設定が有効であるため、仮想ディレクトリは正常に機能します。</span><span class="sxs-lookup"><span data-stu-id="1e964-116">Even though you add it with http in the URL, the https setting for the URL in the Internet Information Services metabase will be in effect, and the virtual directory will function correctly.</span></span>  
  
-   <span data-ttu-id="1e964-117">64 ビット版の Web サービスから仮想ディレクトリを追加し、その仮想ディレクトリを含むアプリケーションを 32 ビット コンピューターにインストールしようとしても、仮想ディレクトリはインストールされません。</span><span class="sxs-lookup"><span data-stu-id="1e964-117">If you add a virtual directory from a 64-bit version of the Web service, and you attempt to install the application that includes the virtual directory on a 32-bit computer, the virtual directory will not be installed.</span></span> <span data-ttu-id="1e964-118">64 ビット コンピューターにインストールする必要があります。</span><span class="sxs-lookup"><span data-stu-id="1e964-118">It must be installed on a 64-bit computer.</span></span>  
  
> [!IMPORTANT]
>  <span data-ttu-id="1e964-119">仮想ディレクトリを含むアプリケーションをインポートすると、仮想ディレクトリのセキュリティ設定は、アプリケーションのエクスポートで .msi ファイルが生成されたときに使用されていた設定になります。</span><span class="sxs-lookup"><span data-stu-id="1e964-119">When you import an application containing a virtual directory, the security settings on the virtual directory are those in effect when the .msi file is generated during application export.</span></span> <span data-ttu-id="1e964-120">アプリケーションを実稼働環境に展開する場合は、アプリケーションをエクスポートする前に、設定がセキュリティの要件を満たしていることを確認してください。</span><span class="sxs-lookup"><span data-stu-id="1e964-120">If you are deploying an application into a production environment, before exporting the application, you should verify that the settings meet your security requirements.</span></span>  
>   
>  <span data-ttu-id="1e964-121">ただし、その仮想ディレクトリが展開先の環境に既に存在する場合は、既存の仮想ディレクトリのセキュリティ設定が有効になります。</span><span class="sxs-lookup"><span data-stu-id="1e964-121">If, however, the virtual directory already exists in the destination environment, the security settings on the existing virtual directory will be in effect.</span></span> <span data-ttu-id="1e964-122">展開しようとしている仮想ディレクトリのセキュリティ設定に合わせて変更されることはありません。</span><span class="sxs-lookup"><span data-stu-id="1e964-122">They are not changed to match those on the virtual directory you are deploying.</span></span> <span data-ttu-id="1e964-123">この場合は、既存の仮想ディレクトリのセキュリティ設定が要件を満たしているかどうかの確認が必要になります。</span><span class="sxs-lookup"><span data-stu-id="1e964-123">In this case, you should verify that the security settings on the existing virtual directory meet your requirements.</span></span>  
  
> [!CAUTION]
>  <span data-ttu-id="1e964-124">仮想ディレクトリで HTTPS (Hypertext Transfer Protocol over Secure Socket Layer) プロトコルが使用されている場合、その仮想ディレクトリのセキュリティ設定はエクスポート時に維持されず、インポート時にはルートのセキュリティ設定が継承されます。</span><span class="sxs-lookup"><span data-stu-id="1e964-124">If the virtual directory uses the HTTPS (Hypertext Transfer Protocol over Secure Socket Layer) protocol, its security settings are not preserved during export, and when it is imported, the virtual directory will inherit the security settings of the root.</span></span> <span data-ttu-id="1e964-125">したがって、そのセキュリティ設定が要件を満たしているかどうかの確認が必要になります。</span><span class="sxs-lookup"><span data-stu-id="1e964-125">You should verify that the security settings meet your requirements.</span></span>  
  
## <a name="prerequisites"></a><span data-ttu-id="1e964-126">前提条件</span><span class="sxs-lookup"><span data-stu-id="1e964-126">Prerequisites</span></span>  
 <span data-ttu-id="1e964-127">このトピックの手順を実行するには、[!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] 管理者グループに属するアカウントでログオンする必要があります。</span><span class="sxs-lookup"><span data-stu-id="1e964-127">To perform the procedure in this topic, you must be logged on with an account that is a member of the [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] Administrators group.</span></span> <span data-ttu-id="1e964-128">詳細なアクセス許可についてを参照してください。[を展開すると、BizTalk アプリケーションの管理に必要なアクセス許可](../core/permissions-required-for-deploying-and-managing-a-biztalk-application.md)します。</span><span class="sxs-lookup"><span data-stu-id="1e964-128">For more detailed information on permissions, see [Permissions Required for Deploying and Managing a BizTalk Application](../core/permissions-required-for-deploying-and-managing-a-biztalk-application.md).</span></span>  
  
### <a name="to-add-a-virtual-directory-to-an-application"></a><span data-ttu-id="1e964-129">仮想ディレクトリをアプリケーションに追加するには</span><span class="sxs-lookup"><span data-stu-id="1e964-129">To add a virtual directory to an application</span></span>  
  
1. <span data-ttu-id="1e964-130">次のように、コマンド プロンプトを開きます: をクリックして**開始**、 をクリックして**実行**、型`cmd`、順にクリックします**OK**。</span><span class="sxs-lookup"><span data-stu-id="1e964-130">Open a command prompt as follows: Click **Start**, click **Run**, type `cmd`, and then click **OK**.</span></span>  
  
2. <span data-ttu-id="1e964-131">次の表に示すように、適切な値を置き換えて、次のコマンドを入力します。</span><span class="sxs-lookup"><span data-stu-id="1e964-131">Type the following command, substituting the appropriate values, as described in the following table:</span></span>  
  
    <span data-ttu-id="1e964-132">**BTSTask AddResource** [/**ApplicationName:**<em>値</em>] **/Type:System.BizTalk:WebDirectory****[/overwrite]****/Source:**<em>値</em>[**/Destination:**<em>値</em>] [**/Server:** <em>値</em>] [**/database:**<em>値</em>]</span><span class="sxs-lookup"><span data-stu-id="1e964-132">**BTSTask AddResource** [/**ApplicationName:**<em>value</em>] **/Type:System.BizTalk:WebDirectory**[**/Overwrite**] **/Source:**<em>value</em> [**/Destination:**<em>value</em>] [**/Server:**<em>value</em>] [**/Database:**<em>value</em>]</span></span>  
  
    <span data-ttu-id="1e964-133">例:</span><span class="sxs-lookup"><span data-stu-id="1e964-133">Example:</span></span>  
  
    <span data-ttu-id="1e964-134">**BTSTask AddResource applicationname: myapplication/Type: System.BizTalk:WebDirectory/overwrite/Source:<http://Host1:90/MyVirtualDirectory> /Destination:<http://Host2:90/MyVirtualDirectory> /Server:MyDatabaseServer/Database:BizTalkMgmtDb**</span><span class="sxs-lookup"><span data-stu-id="1e964-134">**BTSTask AddResource /ApplicationName:MyApplication /Type: System.BizTalk:WebDirectory /Overwrite /Source:<http://Host1:90/MyVirtualDirectory> /Destination:<http://Host2:90/MyVirtualDirectory> /Server:MyDatabaseServer /Database:BizTalkMgmtDb**</span></span>  
  
   |<span data-ttu-id="1e964-135">パラメーター</span><span class="sxs-lookup"><span data-stu-id="1e964-135">Parameter</span></span>|<span data-ttu-id="1e964-136">値</span><span class="sxs-lookup"><span data-stu-id="1e964-136">Value</span></span>|  
   |---------------|-----------|  
   |<span data-ttu-id="1e964-137">**/ApplicationName**</span><span class="sxs-lookup"><span data-stu-id="1e964-137">**/ApplicationName**</span></span>|<span data-ttu-id="1e964-138">仮想ディレクトリを追加する BizTalk アプリケーションの名前。</span><span class="sxs-lookup"><span data-stu-id="1e964-138">Name of the BizTalk application to which to add the virtual directory.</span></span> <span data-ttu-id="1e964-139">アプリケーション名が指定されなかった場合、グループの既定の BizTalk アプリケーションが使用されます。</span><span class="sxs-lookup"><span data-stu-id="1e964-139">If the application name is not specified, the default BizTalk application for the group is used.</span></span> <span data-ttu-id="1e964-140">名前にスペースが含まれている場合は、二重引用符 (") で囲む必要があります。</span><span class="sxs-lookup"><span data-stu-id="1e964-140">If the name includes spaces, you must enclose it in double quotation marks (").</span></span>|  
   |<span data-ttu-id="1e964-141">**/型**</span><span class="sxs-lookup"><span data-stu-id="1e964-141">**/Type**</span></span>|<span data-ttu-id="1e964-142">**System.BizTalk:WebDirectory** (この値小文字は区別されません)。</span><span class="sxs-lookup"><span data-stu-id="1e964-142">**System.BizTalk:WebDirectory** (This value is not case-sensitive.)</span></span>|  
   |<span data-ttu-id="1e964-143">**/上書き**</span><span class="sxs-lookup"><span data-stu-id="1e964-143">**/Overwrite**</span></span>|<span data-ttu-id="1e964-144">既存の仮想ディレクトリを更新するためのオプション。</span><span class="sxs-lookup"><span data-stu-id="1e964-144">Option to update an existing virtual directory.</span></span> <span data-ttu-id="1e964-145">指定しなかった場合、追加する仮想ディレクトリと同じ名前の仮想ディレクトリが既にアプリケーションに存在した場合、AddResources 操作は失敗します。</span><span class="sxs-lookup"><span data-stu-id="1e964-145">If not specified, and a virtual directory already exists in the application that has the same name as the virtual directory being added, the AddResources operation fails.</span></span>|  
   |<span data-ttu-id="1e964-146">**/ソース**</span><span class="sxs-lookup"><span data-stu-id="1e964-146">**/Source**</span></span>|<span data-ttu-id="1e964-147">コピー元仮想ディレクトリの URI。</span><span class="sxs-lookup"><span data-stu-id="1e964-147">URI of the source virtual directory.</span></span>|  
   |<span data-ttu-id="1e964-148">**/変換先**</span><span class="sxs-lookup"><span data-stu-id="1e964-148">**/Destination**</span></span>|<span data-ttu-id="1e964-149">アプリケーションが .msi ファイルからインストールされたときに、仮想ディレクトリに割り当てる URI。</span><span class="sxs-lookup"><span data-stu-id="1e964-149">URI to be assigned to the virtual directory when the application is installed from the .msi file.</span></span> <span data-ttu-id="1e964-150">このパラメーターを指定しなかった場合、Source パラメーターの値が localhost と組み合わせて使用されます。</span><span class="sxs-lookup"><span data-stu-id="1e964-150">If this parameter is not specified, then the value of the Source parameter is used with localhost as the host.</span></span>|  
   |<span data-ttu-id="1e964-151">**/サーバー**</span><span class="sxs-lookup"><span data-stu-id="1e964-151">**/Server**</span></span>|<span data-ttu-id="1e964-152">BizTalk 管理データベースをホストする SQL Server インスタンスの名前。ServerName\InstanceName,Port の形式で指定します。</span><span class="sxs-lookup"><span data-stu-id="1e964-152">Name of the SQL Server instance hosting the BizTalk Management database, in the form ServerName\InstanceName,Port.</span></span><br /><br /> <span data-ttu-id="1e964-153">インスタンス名の指定は、そのインスタンス名がサーバー名と異なる場合にのみ必要です。</span><span class="sxs-lookup"><span data-stu-id="1e964-153">Instance name is only required when the instance name is different than the server name.</span></span> <span data-ttu-id="1e964-154">ポートの指定は、SQL Server で使用するポート番号が既定値 (1433) と異なる場合にのみ必要です。</span><span class="sxs-lookup"><span data-stu-id="1e964-154">Port is only required when SQL Server uses a port number other than the default (1433).</span></span><br /><br /> <span data-ttu-id="1e964-155">例 :</span><span class="sxs-lookup"><span data-stu-id="1e964-155">Examples:</span></span><br /><br /> <span data-ttu-id="1e964-156">Server=MyServer</span><span class="sxs-lookup"><span data-stu-id="1e964-156">Server=MyServer</span></span><br /><br /> <span data-ttu-id="1e964-157">Server=MyServer\MySQLServer,1533</span><span class="sxs-lookup"><span data-stu-id="1e964-157">Server=MyServer\MySQLServer,1533</span></span><br /><br /> <span data-ttu-id="1e964-158">指定しなかった場合、ローカル コンピューターで実行されている SQL Server インスタンスの名前が使用されます。</span><span class="sxs-lookup"><span data-stu-id="1e964-158">If not provided, the name of the SQL Server instance running on the local computer is used.</span></span>|  
   |<span data-ttu-id="1e964-159">**/データベース**</span><span class="sxs-lookup"><span data-stu-id="1e964-159">**/Database**</span></span>|<span data-ttu-id="1e964-160">BizTalk 管理データベースの名前。</span><span class="sxs-lookup"><span data-stu-id="1e964-160">Name of the BizTalk Management database.</span></span> <span data-ttu-id="1e964-161">指定しなかった場合、SQL Server のローカル インスタンスで実行されている BizTalk 管理データベースが使用されます。</span><span class="sxs-lookup"><span data-stu-id="1e964-161">If not specified, the BizTalk Management database running in the local instance of SQL Server is used.</span></span>|  
  
## <a name="see-also"></a><span data-ttu-id="1e964-162">参照</span><span class="sxs-lookup"><span data-stu-id="1e964-162">See Also</span></span>  
 <span data-ttu-id="1e964-163">[.NET アセンブリ、証明書、およびその他のリソースを管理します。](../core/managing-net-assemblies-certificates-and-other-resources.md) </span><span class="sxs-lookup"><span data-stu-id="1e964-163">[Managing .NET Assemblies, Certificates, and Other Resources](../core/managing-net-assemblies-certificates-and-other-resources.md) </span></span>  
 <span data-ttu-id="1e964-164">[AddResource コマンド: 仮想ディレクトリ](../core/addresource-command-virtual-directory.md) </span><span class="sxs-lookup"><span data-stu-id="1e964-164">[AddResource Command: Virtual Directory](../core/addresource-command-virtual-directory.md) </span></span>  
 [<span data-ttu-id="1e964-165">BizTalk アプリケーションの作成と変更</span><span class="sxs-lookup"><span data-stu-id="1e964-165">Creating and Modifying BizTalk Applications</span></span>](../core/creating-and-modifying-biztalk-applications.md)