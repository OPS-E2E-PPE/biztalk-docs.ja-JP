---
title: サンプル TMA:FTP アダプター |Microsoft Docs
ms.custom: ''
ms.date: 06/08/2017
ms.prod: biztalk-server
ms.reviewer: ''
ms.suite: ''
ms.tgt_pltfrm: ''
ms.topic: article
helpviewer_keywords:
- architecture, examples
- examples, FTP adapters
- security examples [TMA], FTP adapters
- FTP adapters, TMA
- DFD, FTP adapters
ms.assetid: c648f84a-c83a-44f0-adc9-a3f98b597506
caps.latest.revision: 17
author: MandiOhlinger
ms.author: mandia
manager: anneta
ms.openlocfilehash: decdff3573efbc7445ea19cd53ec257cdbc8ac7c
ms.sourcegitcommit: 381e83d43796a345488d54b3f7413e11d56ad7be
ms.translationtype: MT
ms.contentlocale: ja-JP
ms.lasthandoff: 05/07/2019
ms.locfileid: "65299824"
---
# <a name="sample-tma-ftp-adapter"></a>サンプル TMA:FTP アダプター
このトピックでは、サンプル アーキテクチャの FTP アダプタ シナリオに対して、脅威モデル分析 (TMA) を示します。  
  
 次の図は、FTP アダプタ シナリオのサンプル アーキテクチャを示します。  
  
 **図 1. FTP アダプタ シナリオのサンプル アーキテクチャ**  
  
 ![FTP アダプターのアーキテクチャのサンプル](../core/media/tdi-sec-refarch-ftp.gif "TDI_Sec_RefArch_FTP")  
  
## <a name="step-1-collect-background-information-ftp-adapter-scenario"></a>手順 1. 背景情報 (FTP アダプタ シナリオ) の収集します。  
 このセクションでは、サンプル アーキテクチャの FTP アダプタ シナリオのデータ フロー ダイアグラム (DFD) を提供します。  
  
 その他のすべての背景情報の使用シナリオ、すべて同じで既に説明した[サンプル シナリオの背景情報](../core/background-information-for-sample-scenarios.md)します。  
  
### <a name="data-flow-diagram"></a>データ フロー ダイアグラム  
 FTP アダプターを使用すると、次の図は、サンプル アーキテクチャの DFD を示します。  
  
 **図 2 DFD のサンプル アーキテクチャの FTP アダプタ シナリオ**  
  
 ![FTP アダプターの DFD](../core/media/tdi-sec-refarch-dfd-ftp.gif "TDI_Sec_RefArch_DFD_FTP")  
  
 データ フローは次のとおりです。  
  
1.  パートナーまたは顧客は、FTP サーバーにメッセージを送信します。 メッセージはファイアウォール 1 の IP アドレスにルーティングされます。  
  
2.  ファイアウォール 1 は、メッセージを受信し、インターネット境界ネットワークに配置された FTP サーバーにルーティングします。  
  
3.  インプロセス ホストのインスタンス、FTP 受信アダプターが定期的に (ファイアウォール 2) 経由で新しいメッセージを FTP サーバーをポーリングします。 新しいメッセージのインスタンスを検出した後は、初期処理を、およびメッセージ ボックス データベースにメッセージを配置にメッセージを取得します。  
  
4.  メッセージへのサブスクリプションが含まれた処理ホストのインスタンスが、メッセージ ボックス データベースからそのメッセージを取得し、追加処理を行い、メッセージ ボックス データベースにメッセージを戻します。  
  
5.  FTP 送信アダプターは、メッセージ ボックス データベースからメッセージを含む、インプロセス ホストのインスタンス。 メッセージは、送信パイプラインでの最終処理を通過、FTP サーバーへファイアウォール 2 経由で送信されます。  
  
6.  FTP サーバーは、パートナーまたは顧客にし、ファイアウォール 1 経由のメッセージをルーティングします。  
  
## <a name="step-2-create-and-analyze-the-threat-model-ftp-adapter-scenario"></a>手順 2. 作成し、分析、脅威モデル (FTP アダプタ シナリオ)  
 このセクションでは、サンプル アーキテクチャの FTP アダプタ シナリオに対して実行した TMA の結果を提供します。  
  
- **特定のエントリ ポイント、信頼の境界、およびデータのフロー -** および手順 1 で前に説明されている背景情報を参照してください[サンプル シナリオの背景情報](../core/background-information-for-sample-scenarios.md)します。  
  
- **-特定された脅威の一覧を作成**シナリオに潜在的な脅威を識別するために、DFD のすべてのエントリのカテゴリに分類を使いました。**S**poofing を識別、 **T**データ、ampering **R**、これが否認**は**漏洩、 **D**ービス拒否、**E**levation 特権。 次の表では、FTP アダプターを使用して、BizTalk Server とのメッセージを送受信するときに特定された脅威が一覧表示します。  
  
  **特定された脅威の一覧を表 1**  
  
|脅威|説明|[Asset]|影響|  
|------------|-----------------|-----------|------------|  
|FTP プロトコルは安全ではありません。|FTP プロトコルのユーザー ID とパスワードは、クリア テキストとして送信されます。 悪意のあるユーザーは、ネットワーク資格情報にアクセスを監視できます。 データが公開されます。|ユーザーの資格情報|ID 偽装<br /><br /> データの改ざん<br /><br /> 情報の漏えい|  
|FTP サーバーは未認証の DHCP サーバーの攻撃に対して脆弱です。|ハンドラーが指定された URI に、ユーザーのパスワードが含まれていない場合、実行時にハンドラーからパスワード現在送信、FTP サーバーにします。 未認証の FTP サーバーの認証呼び出しのリッスンがある場合は、この方法でパスワードが盗ま可能性があります。 1 つのソリューションは、ハンドラ レベルでパスワードを使用して有効または無効にします。|FTP サーバー|ID 偽装<br /><br /> データの改ざん<br /><br /> 情報の漏えい|  
  
## <a name="step-3-review-threats-ftp-adapter-scenario"></a>手順 3. 脅威の確認 (FTP アダプタ シナリオ)  
 このセクションでは、サンプル アーキテクチャの FTP アダプタ シナリオで特定された脅威に対して実行したリスク分析の結果を提供します。 主要な脅威モデルは、会議後、脅威を確認し、使用のために使用、次に影響を与える各脅威のリスクを識別するカテゴリ。**D**amage、潜在的な**R**可能性、 **E**xploitability、 **A**影響を受けるユーザー、および**D**iscoverability します。  
  
 次の表では、FTP アダプターを使用して、BizTalk Server とのメッセージを送受信するときに特定された脅威のリスクの度合いを示します。  
  
 **表 2. 特定された脅威のリスクの度合い**  
  
|脅威|影響|潜在的な損害|再現性|悪用性|影響を受けるユーザー|検出可能性|リスクの度合い|  
|------------|------------|----------------------|---------------------|--------------------|--------------------|---------------------|-------------------|  
|FTP プロトコルは安全ではありません。|ID 偽装<br /><br /> データの改ざん<br /><br /> 情報の漏えい|9|9|2|10|5|7|  
|FTP サーバーは未認証の DHCP サーバーの攻撃に対して脆弱です。|ID 偽装<br /><br /> データの改ざん<br /><br /> 情報の漏えい|5|5|2|10|5|5.4|  
  
## <a name="step-4-identify-mitigation-techniques-ftp-adapter-scenario"></a>手順 4. 緩和方法 (FTP アダプタ シナリオ) の特定します。  
 ここでは、サンプル アーキテクチャの FTP アダプタ シナリオで特定された脅威を緩和する方法を示します。  
  
 次の表は、FTP アダプターを使用して、BizTalk Server とのメッセージを送受信するときに特定された脅威の緩和方法とテクノロジを示します。  
  
 **表 3. 緩和方法とテクノロジ**  
  
|脅威|影響|リスクの度合い|緩和方法とテクノロジ|  
|------------|------------|-------------------|--------------------------------------------|  
|FTP プロトコルは安全ではありません。|ID 偽装<br /><br /> データの改ざん<br /><br /> 情報の漏えい|7|セキュリティで保護された環境内で、セキュリティで保護された回線を経由した FTP アダプターを使用する必要があります。|  
|FTP サーバーは未認証の DHCP サーバーの攻撃に対して脆弱です。|ID 偽装<br /><br /> データの改ざん<br /><br /> 情報の漏えい|5.4|リモート FTP サーバーは、安全な場所に配置することをお勧めします。 物理的なことを確認し、ネットワーク セキュリティを未承認の DHCP サーバーの攻撃を最小限に抑えるには、このサーバーの必要があります。|  
  
## <a name="see-also"></a>参照  
 [脅威モデル分析](../core/threat-model-analysis.md)   
 [脅威モデル分析のサンプル シナリオ](../core/sample-scenarios-for-threat-model-analysis.md)   
 [中小企業向けのサンプル アーキテクチャ](../core/sample-architectures-for-small-medium-sized-companies.md)