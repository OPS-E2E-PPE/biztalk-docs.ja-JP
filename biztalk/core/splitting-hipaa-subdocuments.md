---
title: HIPAA サブドキュメントの分割 |Microsoft Docs
ms.custom: ''
ms.date: 06/08/2017
ms.prod: biztalk-server
ms.reviewer: ''
ms.suite: ''
ms.tgt_pltfrm: ''
ms.topic: article
ms.assetid: 66d9badd-00c6-43a3-807e-0ad313983adc
caps.latest.revision: 21
author: MandiOhlinger
ms.author: mandia
manager: anneta
ms.openlocfilehash: 2ea3ceaf708db8620915337de5133644b6eafe87
ms.sourcegitcommit: 381e83d43796a345488d54b3f7413e11d56ad7be
ms.translationtype: MT
ms.contentlocale: ja-JP
ms.lasthandoff: 05/07/2019
ms.locfileid: "65258629"
---
# <a name="splitting-hipaa-subdocuments"></a><span data-ttu-id="96634-102">HIPAA サブドキュメントの分割</span><span class="sxs-lookup"><span data-stu-id="96634-102">Splitting HIPAA Subdocuments</span></span>
<span data-ttu-id="96634-103">HIPAA の EDI インターチェンジには、ST または SE ヘッダーで囲まれた一般的な 1 つのトランザクション セット内の複数の子/サブ ドキュメントをあります。</span><span class="sxs-lookup"><span data-stu-id="96634-103">EDI interchanges for HIPAA commonly have multiple child/sub documents within a single transaction set, as bounded by the ST/SE headers.</span></span> <span data-ttu-id="96634-104">EDI は、このようなトランザクション セットから個別の HIPAA サブドキュメントのパイプライン サポートの作成を受信します。</span><span class="sxs-lookup"><span data-stu-id="96634-104">The EDI receive pipeline supports creation of separate HIPAA subdocuments from such an transaction set.</span></span> <span data-ttu-id="96634-105">これは、HIPAA 以外の EDI インターチェンジの場合、単一のトランザクション セットが 1 つのメッセージとして処理されると異なります。</span><span class="sxs-lookup"><span data-stu-id="96634-105">This is different from non-HIPAA EDI interchanges, in which a single transaction set is processed as a single message.</span></span>  
  
## <a name="subdocument-splitting-schemas"></a><span data-ttu-id="96634-106">サブドキュメントの分割のスキーマ</span><span class="sxs-lookup"><span data-stu-id="96634-106">Subdocument Splitting Schemas</span></span>  
 [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] <span data-ttu-id="96634-107">ネイティブ スキーマを通じて以下の HIPAA ドキュメントの種類の分割をサポートします。</span><span class="sxs-lookup"><span data-stu-id="96634-107">supports splitting of the following HIPAA document types through native schemas:</span></span>  
  
- <span data-ttu-id="96634-108">HIPAA version 4010 ドキュメント:登録 (834)、835 請求の支払いおよび 837 の 3 つのバリエーション</span><span class="sxs-lookup"><span data-stu-id="96634-108">HIPAA version 4010 documents: 834 Enrollment, 835 Claim Payment and three variants of 837 Claim</span></span>  
  
- <span data-ttu-id="96634-109">HIPAA バージョン 5010 のドキュメント:276/277 請求ステータス-要求と応答、登録 (834)、および 837 の 3 つのバリエーション</span><span class="sxs-lookup"><span data-stu-id="96634-109">HIPAA version 5010 documents: 276/277 Claim Status – Request and Response, 834 Enrollment and three variants of 837 Claim</span></span>  
  
  [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] <span data-ttu-id="96634-110">これら 3 つのドキュメントの種類の各スキーマの 2 つのバージョンを提供します。</span><span class="sxs-lookup"><span data-stu-id="96634-110">provides two versions of schemas for each of these three document types.</span></span> <span data-ttu-id="96634-111">各ドキュメント タイプの分割をサポートするスキーマは、ファイル名に '複数の' タグによって識別されます。</span><span class="sxs-lookup"><span data-stu-id="96634-111">For each document type, the schema supporting splitting is identified by the ‘Multiple’ tag in the file name.</span></span> <span data-ttu-id="96634-112">その他のスキーマは、サブドキュメントの分割をサポートしていません。</span><span class="sxs-lookup"><span data-stu-id="96634-112">The other schema does not support subdocument splitting.</span></span>  
  
  <span data-ttu-id="96634-113">一部のシナリオでは、分割と非分割の両方のスキーマが必要に可能性があります。</span><span class="sxs-lookup"><span data-stu-id="96634-113">In some scenarios, both splitting and non splitting schemas may be required.</span></span> <span data-ttu-id="96634-114">これは、カスタム ターゲットの名前空間、スキーマの 1 つのバリエーションを使用してサポートされます。</span><span class="sxs-lookup"><span data-stu-id="96634-114">This will be supported through the use of a custom target namespace for one variant of the schema.</span></span>  
  
## <a name="how-subdocument-splitting-is-enabled"></a><span data-ttu-id="96634-115">サブドキュメントの分割が有効にする方法</span><span class="sxs-lookup"><span data-stu-id="96634-115">How Subdocument Splitting Is Enabled</span></span>  
 <span data-ttu-id="96634-116">HIPAA サブドキュメントの分割は、HIPAA スキーマ内の 3 つの注釈エントリによって有効にします。</span><span class="sxs-lookup"><span data-stu-id="96634-116">The splitting of HIPAA subdocuments is enabled by three annotation entries in the HIPAA schema.</span></span> <span data-ttu-id="96634-117">最初の 2 つに設定する必要があります appinfo 注釈内のスキーマのエントリ**はい**:</span><span class="sxs-lookup"><span data-stu-id="96634-117">The first two are  entries for the schema in the appinfo annotation, which must be set to **yes**:</span></span>  
  
```  
subdocument_break = "yes" Split_Without_Sibling_Data = "Yes"  
```  
  
 <span data-ttu-id="96634-118">3 番目の注釈エントリは、HIPAA スキーマ内の適切なレコード レベルであります。</span><span class="sxs-lookup"><span data-stu-id="96634-118">The third annotation entry is located at the appropriate record levels within the HIPAA schema.</span></span> <span data-ttu-id="96634-119">このプロパティにも設定する必要があります**はい**します。</span><span class="sxs-lookup"><span data-stu-id="96634-119">This property must also be set to **yes**.</span></span>  
  
```  
subdocument_creation_break = "yes"  
```  
  
 <span data-ttu-id="96634-120">HIPAA スキーマ内のサブドキュメントの作成 break 注釈が"yes"に設定され、受信バッチ処理オプション パーティ プロパティが「トランザクション セットとして分割インターチェンジ」に設定されている場合にのみ、HIPAA インターチェンジをサブドキュメントに分割されます。</span><span class="sxs-lookup"><span data-stu-id="96634-120">A HIPAA interchange will be split into subdocuments only if the subdocument creation break annotation within the HIPAA schema is set to "yes", and the Inbound batch processing option party property is set to "Split Interchange as Transaction Sets".</span></span> <span data-ttu-id="96634-121">受信バッチ処理オプション パーティ プロパティが、インターチェンジの保存に設定されている場合、EDI 逆アセンブラはインターチェンジをサブドキュメントに分割されません。</span><span class="sxs-lookup"><span data-stu-id="96634-121">If the Inbound batch processing option party property is set to preserve the interchange, the EDI disassembler will not split the interchange into subdocuments.</span></span> <span data-ttu-id="96634-122">この場合、EDI 逆アセンブラーでは、注釈は無視します。</span><span class="sxs-lookup"><span data-stu-id="96634-122">In this case, the EDI disassembler will ignore the annotation.</span></span> <span data-ttu-id="96634-123">この場合、ビューアーが発生したイベントには、警告は発生しません。</span><span class="sxs-lookup"><span data-stu-id="96634-123">No warning will be raised in the event viewer if this occurs.</span></span>  
  
> [!NOTE]
>  <span data-ttu-id="96634-124">サブドキュメントの作成の中断の注釈は入れ子にすることはできません。</span><span class="sxs-lookup"><span data-stu-id="96634-124">Subdocument creation break annotations cannot be nested.</span></span> <span data-ttu-id="96634-125">スキーマには、サブドキュメントの注釈を適用するループが含まれている場合、ループは、サブドキュメントの注釈が適用されている別のループを含めることはできません。</span><span class="sxs-lookup"><span data-stu-id="96634-125">If a schema includes a loop that has a subdocument annotation applied to it, that loop cannot contain another loop that has a subdocument annotation applied to it.</span></span>  
  
## <a name="how-subdocuments-are-processed"></a><span data-ttu-id="96634-126">サブドキュメントの処理方法</span><span class="sxs-lookup"><span data-stu-id="96634-126">How Subdocuments are Processed</span></span>  
 <span data-ttu-id="96634-127">EDI 逆アセンブラーは EDI パイプライン、サブドキュメントの分割が表示されます。</span><span class="sxs-lookup"><span data-stu-id="96634-127">The EDI disassembler in the EDI receive pipeline splits the subdocuments.</span></span> <span data-ttu-id="96634-128">受信パイプラインは、受信インターチェンジを検証し、適切な受信確認を生成後、は、メッセージ ボックスにそれぞれ別のサブ文書をルーティングします。</span><span class="sxs-lookup"><span data-stu-id="96634-128">After the receive pipeline validates the incoming interchange and generates the appropriate acknowledgments, it routes each separate subdocument to the MessageBox.</span></span> <span data-ttu-id="96634-129">各サブドキュメントは構造と構文的に無効です。ただし、ビジネス レベルの概要、トランザクション セットの合計、およびトランザクション セット制御番号に同期していないことが必要です。</span><span class="sxs-lookup"><span data-stu-id="96634-129">Each subdocument is structurally and syntactically valid; however, business level summaries, transaction set totals, and transaction set control numbers are expected to be out of synchronization.</span></span> <span data-ttu-id="96634-130">送信パイプラインは、そのサブドキュメントに含まれているセグメントの数 (これは、元のトランザクション セットの取得元) 各サブドキュメントの se01 が、既存のセグメント カウントの値で上書きされます。</span><span class="sxs-lookup"><span data-stu-id="96634-130">The send pipeline will overwrite the value of the existing segment count in SE01 of each subdocument (which came from the original transaction set) to the count of included segments in the subdocument.</span></span> <span data-ttu-id="96634-131">受信パイプラインは、そのサブドキュメントに重複した制御番号が必要があるないように、各サブドキュメント内のトランザクション セット制御番号もリセットされます。</span><span class="sxs-lookup"><span data-stu-id="96634-131">The receive pipeline will also reset the transaction set control numbers in each subdocument so that the subdocument do not have duplicate control numbers.</span></span> <span data-ttu-id="96634-132">これにより、送信側の処理は失敗しません。</span><span class="sxs-lookup"><span data-stu-id="96634-132">This ensures that send-side processing will not fail.</span></span>  
  
 <span data-ttu-id="96634-133">トランザクション セットには、EDI が障害が発生したり、サブドキュメントの分割中に検証を拡張するには、個々 の障害が発生したトランザクションのセットは中断されます。</span><span class="sxs-lookup"><span data-stu-id="96634-133">If a transaction set fails EDI or extended validation during subdocument splitting, the individual failing transaction set is suspended.</span></span>  
  
 <span data-ttu-id="96634-134">サブドキュメントにサブスクライブする送信ポートは各サブドキュメントをメッセージ ボックス データベースから取得、XML サブドキュメントをシリアル化、それらを一括処理 (有効になっている) 場合、検証、およびに送信します。</span><span class="sxs-lookup"><span data-stu-id="96634-134">A send port that subscribes to the subdocuments will pick up each subdocument from MessageBox, serialize the XML subdocuments, batch them (if enabled), validate them, and send them.</span></span> <span data-ttu-id="96634-135">送信パイプラインは、セグメント データ要素 (SE01) の数を更新します。</span><span class="sxs-lookup"><span data-stu-id="96634-135">The send pipeline updates the count of segments data element (SE01).</span></span>  
  
## <a name="how-subdocuments-are-split"></a><span data-ttu-id="96634-136">サブドキュメントの分割方法</span><span class="sxs-lookup"><span data-stu-id="96634-136">How Subdocuments Are Split</span></span>  
 <span data-ttu-id="96634-137">サブドキュメントの作成の中断注釈は、HIPAA スキーマ内の 1 つまたは複数の要素を含むループによく適用されます。</span><span class="sxs-lookup"><span data-stu-id="96634-137">A subdocument creation break annotation is commonly applied to a loop that encompasses one or more elements within a HIPAA schema.</span></span> <span data-ttu-id="96634-138">スキーマで、中断ループの前後に他の要素は、複数のサブドキュメントのそれぞれで複製されます。</span><span class="sxs-lookup"><span data-stu-id="96634-138">Other elements before and after the break loop in the schema are replicated in each of the multiple subdocuments.</span></span>  
  
 <span data-ttu-id="96634-139">次の表では、サブドキュメントの分割の例を示します。</span><span class="sxs-lookup"><span data-stu-id="96634-139">The following table shows an example of subdocument splitting.</span></span> <span data-ttu-id="96634-140">この例で、サブドキュメントの作成を中断注釈には、CC 要素のループの"yes"に設定が。</span><span class="sxs-lookup"><span data-stu-id="96634-140">In this example, the subdocument creation break annotation is set to "yes" for the CC element loop.</span></span> <span data-ttu-id="96634-141">その結果、トランザクション セットの CC 要素が aa、BB、個別のサブドキュメントに区切られ、DD 要素、トランザクション セットがすべて各個別のサブドキュメント内に含まれます。</span><span class="sxs-lookup"><span data-stu-id="96634-141">As a result, the CC elements in the transaction set are separated into separate subdocuments, while the AA, BB, and DD elements in the transaction set are all included in each separate subdocument.</span></span>  
  
|<span data-ttu-id="96634-142">スキーマ (最小/最大出現数)</span><span class="sxs-lookup"><span data-stu-id="96634-142">Schema(min and max occurrences)</span></span>|<span data-ttu-id="96634-143">元のインスタンス</span><span class="sxs-lookup"><span data-stu-id="96634-143">Original Instance</span></span>|<span data-ttu-id="96634-144">サブドキュメントの 1</span><span class="sxs-lookup"><span data-stu-id="96634-144">Subdocument #1</span></span>|<span data-ttu-id="96634-145">サブドキュメント 2</span><span class="sxs-lookup"><span data-stu-id="96634-145">Subdocument #2</span></span>|<span data-ttu-id="96634-146">サブドキュメント 3</span><span class="sxs-lookup"><span data-stu-id="96634-146">Subdocument #3</span></span>|  
|---------------------------------------|-----------------------|---------------------|---------------------|---------------------|  
|<span data-ttu-id="96634-147">ST (1, 0)</span><span class="sxs-lookup"><span data-stu-id="96634-147">ST (1,0)</span></span>|<span data-ttu-id="96634-148">ST</span><span class="sxs-lookup"><span data-stu-id="96634-148">ST</span></span>|<span data-ttu-id="96634-149">ST</span><span class="sxs-lookup"><span data-stu-id="96634-149">ST</span></span>|<span data-ttu-id="96634-150">ST</span><span class="sxs-lookup"><span data-stu-id="96634-150">ST</span></span>|<span data-ttu-id="96634-151">ST</span><span class="sxs-lookup"><span data-stu-id="96634-151">ST</span></span>|  
|<span data-ttu-id="96634-152">AA (1, 1)</span><span class="sxs-lookup"><span data-stu-id="96634-152">AA (1,1)</span></span>|<span data-ttu-id="96634-153">AA</span><span class="sxs-lookup"><span data-stu-id="96634-153">AA</span></span>|<span data-ttu-id="96634-154">AA</span><span class="sxs-lookup"><span data-stu-id="96634-154">AA</span></span>|<span data-ttu-id="96634-155">AA</span><span class="sxs-lookup"><span data-stu-id="96634-155">AA</span></span>|<span data-ttu-id="96634-156">AA</span><span class="sxs-lookup"><span data-stu-id="96634-156">AA</span></span>|  
|<span data-ttu-id="96634-157">BB ループ (1, n)</span><span class="sxs-lookup"><span data-stu-id="96634-157">BB loop (1,n)</span></span><br /><br /> <span data-ttu-id="96634-158">BB1 (1, n)</span><span class="sxs-lookup"><span data-stu-id="96634-158">BB1 (1,n)</span></span><br /><br /> <span data-ttu-id="96634-159">CC ループ (1, n) - subdocument_break ="yes"</span><span class="sxs-lookup"><span data-stu-id="96634-159">CC loop (1,n) - subdocument_break = "yes"</span></span><br /><br /> <span data-ttu-id="96634-160">CC1 (1, n)</span><span class="sxs-lookup"><span data-stu-id="96634-160">CC1 (1,n)</span></span><br /><br /> <span data-ttu-id="96634-161">CC2 (0, n)</span><span class="sxs-lookup"><span data-stu-id="96634-161">CC2 (0,n)</span></span><br /><br /> <span data-ttu-id="96634-162">BB2 (0, n)</span><span class="sxs-lookup"><span data-stu-id="96634-162">BB2 (0,n)</span></span>|<span data-ttu-id="96634-163">BB1 \* 1</span><span class="sxs-lookup"><span data-stu-id="96634-163">BB1\*1</span></span><br /><br /> <span data-ttu-id="96634-164">CC1\*1</span><span class="sxs-lookup"><span data-stu-id="96634-164">CC1\*1</span></span><br /><br /> <span data-ttu-id="96634-165">CC2\*1</span><span class="sxs-lookup"><span data-stu-id="96634-165">CC2\*1</span></span><br /><br /> <span data-ttu-id="96634-166">BB2\*1</span><span class="sxs-lookup"><span data-stu-id="96634-166">BB2\*1</span></span><br /><br /> <span data-ttu-id="96634-167">BB1\*2</span><span class="sxs-lookup"><span data-stu-id="96634-167">BB1\*2</span></span><br /><br /> <span data-ttu-id="96634-168">CC1\*2</span><span class="sxs-lookup"><span data-stu-id="96634-168">CC1\*2</span></span><br /><br /> <span data-ttu-id="96634-169">CC2\*2</span><span class="sxs-lookup"><span data-stu-id="96634-169">CC2\*2</span></span><br /><br /> <span data-ttu-id="96634-170">BB1\*3</span><span class="sxs-lookup"><span data-stu-id="96634-170">BB1\*3</span></span><br /><br /> <span data-ttu-id="96634-171">CC1\*3</span><span class="sxs-lookup"><span data-stu-id="96634-171">CC1\*3</span></span><br /><br /> <span data-ttu-id="96634-172">CC2\*3</span><span class="sxs-lookup"><span data-stu-id="96634-172">CC2\*3</span></span>|<span data-ttu-id="96634-173">BB1 \* 1</span><span class="sxs-lookup"><span data-stu-id="96634-173">BB1\*1</span></span><br /><br /> <span data-ttu-id="96634-174">CC1\*1</span><span class="sxs-lookup"><span data-stu-id="96634-174">CC1\*1</span></span><br /><br /> <span data-ttu-id="96634-175">CC2\*1</span><span class="sxs-lookup"><span data-stu-id="96634-175">CC2\*1</span></span><br /><br /> <span data-ttu-id="96634-176">BB2\*1</span><span class="sxs-lookup"><span data-stu-id="96634-176">BB2\*1</span></span>|<span data-ttu-id="96634-177">BB1\*2</span><span class="sxs-lookup"><span data-stu-id="96634-177">BB1\*2</span></span><br /><br /> <span data-ttu-id="96634-178">CC1\*2</span><span class="sxs-lookup"><span data-stu-id="96634-178">CC1\*2</span></span><br /><br /> <span data-ttu-id="96634-179">CC2\*2</span><span class="sxs-lookup"><span data-stu-id="96634-179">CC2\*2</span></span>|<span data-ttu-id="96634-180">BB1 \* 3</span><span class="sxs-lookup"><span data-stu-id="96634-180">BB1\*3</span></span><br /><br /> <span data-ttu-id="96634-181">CC1\*3</span><span class="sxs-lookup"><span data-stu-id="96634-181">CC1\*3</span></span><br /><br /> <span data-ttu-id="96634-182">CC2\*3</span><span class="sxs-lookup"><span data-stu-id="96634-182">CC2\*3</span></span>|  
|<span data-ttu-id="96634-183">DD (0, n)</span><span class="sxs-lookup"><span data-stu-id="96634-183">DD (0,n)</span></span>|<span data-ttu-id="96634-184">DD</span><span class="sxs-lookup"><span data-stu-id="96634-184">DD</span></span>|<span data-ttu-id="96634-185">DD</span><span class="sxs-lookup"><span data-stu-id="96634-185">DD</span></span>|<span data-ttu-id="96634-186">DD</span><span class="sxs-lookup"><span data-stu-id="96634-186">DD</span></span>|<span data-ttu-id="96634-187">DD</span><span class="sxs-lookup"><span data-stu-id="96634-187">DD</span></span>|  
|<span data-ttu-id="96634-188">SE</span><span class="sxs-lookup"><span data-stu-id="96634-188">SE</span></span>|<span data-ttu-id="96634-189">SE</span><span class="sxs-lookup"><span data-stu-id="96634-189">SE</span></span>|<span data-ttu-id="96634-190">SE</span><span class="sxs-lookup"><span data-stu-id="96634-190">SE</span></span>|<span data-ttu-id="96634-191">SE</span><span class="sxs-lookup"><span data-stu-id="96634-191">SE</span></span>|<span data-ttu-id="96634-192">SE</span><span class="sxs-lookup"><span data-stu-id="96634-192">SE</span></span>|