---
title: BizTalk Server のホスティング環境を作成する方法 |Microsoft ドキュメント
ms.custom: ''
ms.date: 06/08/2017
ms.prod: biztalk-server
ms.reviewer: ''
ms.suite: ''
ms.tgt_pltfrm: ''
ms.topic: article
helpviewer_keywords:
- hosting environments, creating
- managing [hosts], hosting environments
- hosts, environments
- managing [hosts], creating
- creating, hosting environment
ms.assetid: 6f335139-1121-45ff-88da-5c626b8fff97
caps.latest.revision: 20
author: MandiOhlinger
ms.author: mandia
manager: anneta
ms.openlocfilehash: faa31308db26970d3d8274d42720dfba1cb5f00c
ms.sourcegitcommit: cb908c540d8f1a692d01dc8f313e16cb4b4e696d
ms.translationtype: MT
ms.contentlocale: ja-JP
ms.lasthandoff: 09/20/2017
ms.locfileid: "22250378"
---
# <a name="how-to-create-a-biztalk-server-hosting-environment"></a><span data-ttu-id="8d8d1-102">BizTalk Server のホスティング環境を作成する方法</span><span class="sxs-lookup"><span data-stu-id="8d8d1-102">How to Create a BizTalk Server Hosting Environment</span></span>
<span data-ttu-id="8d8d1-103">[!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] のホスティング環境を作成する前に、次の推奨事項を考慮してください。</span><span class="sxs-lookup"><span data-stu-id="8d8d1-103">Before you create your [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] hosting environment, consider the following recommendations:</span></span>  
  
-   <span data-ttu-id="8d8d1-104">**信頼できる、信頼されていないオーケストレーションを別のホストを使用して、受信ハンドラー**</span><span class="sxs-lookup"><span data-stu-id="8d8d1-104">**Use different hosts for trusted and non-trusted orchestrations and receive handlers**</span></span>  
  
     <span data-ttu-id="8d8d1-105">ホストで実行されているすべての項目 (オーケストレーション、パイプライン、受信ハンドラーと送信ハンドラーなど) は同じ ID で実行され、そのホストの作業キューおよび保留キューにアクセスできます。</span><span class="sxs-lookup"><span data-stu-id="8d8d1-105">Any items running in a host (for example, orchestrations, pipelines, receive and send handlers) run under the same identity, and have access to the work and suspended queues for that host.</span></span>  
  
     <span data-ttu-id="8d8d1-106">アクセス許可のエラーによって、メッセージをオーケストレーションに配信できない場合、このメッセージは、送信プロセス (受信パイプラインまたは別のオーケストレーション) が実行されているホストの保留キューに格納されます。</span><span class="sxs-lookup"><span data-stu-id="8d8d1-106">If a message cannot be delivered to an orchestration due to permission errors, the message is placed in the suspended queue of the host where the sending process (a receive pipeline or another orchestration) is running.</span></span> <span data-ttu-id="8d8d1-107">ただし、オーケストレーションおよび送信プロセス (受信パイプラインなど) は同じホストで実行され、オーケストレーションでは引き続き保留キューのメッセージにアクセスできます。</span><span class="sxs-lookup"><span data-stu-id="8d8d1-107">However, if the orchestration and the sending process (for example, a receive pipeline) are running in the same host, the orchestration can still access the message in the suspended queue.</span></span> <span data-ttu-id="8d8d1-108">これにより、信頼されていないオーケストレーションが信頼済みホストで実行されている場合、システムが危険にさらされる可能性があります。</span><span class="sxs-lookup"><span data-stu-id="8d8d1-108">This could potentially compromise your system if a non-trusted orchestration is running in a trusted host.</span></span>  
  
     <span data-ttu-id="8d8d1-109">信頼されていないオーケストレーションの実行は、BizTalk グループの信頼済みホストとは異なるサービス アカウントを使用して、独立したホストで行うことをお勧めします。</span><span class="sxs-lookup"><span data-stu-id="8d8d1-109">We recommend that you run non-trusted orchestrations in a separate host, with a different service account than the trusted hosts in your BizTalk group.</span></span> <span data-ttu-id="8d8d1-110">信頼できる場合は、「」を参照としてホストを指定する方法について[ホスト プロパティを変更する方法](../core/how-to-modify-host-properties.md)です。</span><span class="sxs-lookup"><span data-stu-id="8d8d1-110">For information about designating a host as trusted, see [How to Modify Host Properties](../core/how-to-modify-host-properties.md).</span></span>  
  
-   <span data-ttu-id="8d8d1-111">**BizTalk Server データベースのデータベースとログのサイズを制限します。**</span><span class="sxs-lookup"><span data-stu-id="8d8d1-111">**Limit the database and log size in the BizTalk Server databases**</span></span>  
  
     <span data-ttu-id="8d8d1-112">BizTalk メッセージ ボックス データベースおよび BizTalk 追跡データベースのサイズは、他の [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] データベースよりもはるかに高速に増大します。</span><span class="sxs-lookup"><span data-stu-id="8d8d1-112">The BizTalk MessageBox databases and the BizTalk Tracking database grow much faster than the other [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] databases.</span></span> <span data-ttu-id="8d8d1-113">バックアップ プログラムおよびメンテナンス プログラムの一環として、これらのデータベースを頻繁に更新する必要があります。</span><span class="sxs-lookup"><span data-stu-id="8d8d1-113">As part of your backup and maintenance program, you should update these databases frequently.</span></span>  
  
     <span data-ttu-id="8d8d1-114">既定では、[!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] データベースのテーブルにはログ サイズの制限がありません。</span><span class="sxs-lookup"><span data-stu-id="8d8d1-114">By default, the tables in the [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] databases do not have a log size limit.</span></span> <span data-ttu-id="8d8d1-115">バックアップ プログラムおよびメンテナンス プログラムの一環として、ログ サイズを制限することで、ログが大きくなりすぎないようにし、ディスク領域が占有されないようにすることをお勧めします。</span><span class="sxs-lookup"><span data-stu-id="8d8d1-115">As part of your backup and maintenance program, we recommend that you limit the log size to prevent the logs from becoming too large and potentially using all the disk space.</span></span> <span data-ttu-id="8d8d1-116">追跡データベースのサイズを管理する方法の詳細については、次を参照してください。[アーカイブ化および BizTalk 追跡データベースを削除](../core/archiving-and-purging-the-biztalk-tracking-database.md)です。</span><span class="sxs-lookup"><span data-stu-id="8d8d1-116">For information about managing the size of tracking database, see [Archiving and Purging the BizTalk Tracking Database](../core/archiving-and-purging-the-biztalk-tracking-database.md).</span></span>  
  
-   <span data-ttu-id="8d8d1-117">**SQL Server クラスタ リングを使用します。**</span><span class="sxs-lookup"><span data-stu-id="8d8d1-117">**Use SQL Server clustering**</span></span>  
  
     <span data-ttu-id="8d8d1-118">[!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] データベースの高可用性を実現するには、[!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] データベースが格納されている SQL Server をクラスター化することをお勧めします。</span><span class="sxs-lookup"><span data-stu-id="8d8d1-118">To provide high availability of the [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] databases, we recommend that you cluster the SQL servers where the [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] databases are stored.</span></span> <span data-ttu-id="8d8d1-119">クラスター化すると、データベースの 1 つまたは SQL Server が失敗した場合のダウンタイムを、最小限に抑えることができます。</span><span class="sxs-lookup"><span data-stu-id="8d8d1-119">This will help minimize downtime if one of the databases or SQL Server fails.</span></span> <span data-ttu-id="8d8d1-120">SQL Server クラスタリングの詳細については、SQL Server Books Online の「フェールオーバー クラスタリングのアーキテクチャ」を参照してください。</span><span class="sxs-lookup"><span data-stu-id="8d8d1-120">For more information about SQL Server clustering, see "Failover Clustering Architecture" in SQL Server Books Online.</span></span>  
  
## <a name="prerequisites"></a><span data-ttu-id="8d8d1-121">前提条件</span><span class="sxs-lookup"><span data-stu-id="8d8d1-121">Prerequisites</span></span>  
 <span data-ttu-id="8d8d1-122">このトピックの手順を実行するための前提条件を次に示します。</span><span class="sxs-lookup"><span data-stu-id="8d8d1-122">The following are prerequisites for performing the procedure in this topic:</span></span>  
  
-   <span data-ttu-id="8d8d1-123">[!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] 管理者グループのメンバーとしてログオンしている必要があります。</span><span class="sxs-lookup"><span data-stu-id="8d8d1-123">You must be logged on as a member of the [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] Administrators group.</span></span>  
  
-   <span data-ttu-id="8d8d1-124">以下の手順の指示では、完全インストール オプションを使用して [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] をインストールしたことを前提としています。</span><span class="sxs-lookup"><span data-stu-id="8d8d1-124">The instructions in the following procedure assume that you have installed [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] with the complete installation option.</span></span> <span data-ttu-id="8d8d1-125">[!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] を完全インストール オプションでインストールしていない場合は、手順 1. で一覧表示される管理オブジェクトの一部がシステムに存在しない可能性があります。</span><span class="sxs-lookup"><span data-stu-id="8d8d1-125">If you did not install [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] with the complete installation option, some of the administration objects listed in step 1 may not be on your system.</span></span>  
  
### <a name="to-create-a-biztalk-server-hosting-environment"></a><span data-ttu-id="8d8d1-126">BizTalk Server のホスティング環境を作成するには</span><span class="sxs-lookup"><span data-stu-id="8d8d1-126">To create a BizTalk Server hosting environment</span></span>  
  
1.  <span data-ttu-id="8d8d1-127">[!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] 構成を使用して新しい BizTalk グループを作成します。</span><span class="sxs-lookup"><span data-stu-id="8d8d1-127">Use [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] Configuration to create a new BizTalk group.</span></span> <span data-ttu-id="8d8d1-128">新たに作成する方法について[!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)]グループを参照してください[、BizTalk Server 構成を使用して構成するグループ](http://msdn.microsoft.com/library/16beb7bb-091c-4056-8622-cc79c95186e9)です。</span><span class="sxs-lookup"><span data-stu-id="8d8d1-128">For information about creating a new [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] group, see [Configuring Groups Using the BizTalk Server Configuration](http://msdn.microsoft.com/library/16beb7bb-091c-4056-8622-cc79c95186e9).</span></span>  
  
     [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)]<span data-ttu-id="8d8d1-129"> 構成により、次の管理オブジェクトが作成されます。</span><span class="sxs-lookup"><span data-stu-id="8d8d1-129"> Configuration creates the following administration objects:</span></span>  
  
    |<span data-ttu-id="8d8d1-130">管理オブジェクト</span><span class="sxs-lookup"><span data-stu-id="8d8d1-130">Administration object</span></span>|<span data-ttu-id="8d8d1-131">Description</span><span class="sxs-lookup"><span data-stu-id="8d8d1-131">Description</span></span>|  
    |---------------------------|-----------------|  
    |<span data-ttu-id="8d8d1-132">**BizTalk 管理**データベース (BizTalkMgmtDb)</span><span class="sxs-lookup"><span data-stu-id="8d8d1-132">**BizTalk Management** database (BizTalkMgmtDb)</span></span>|<span data-ttu-id="8d8d1-133">このデータベースには、すべての [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] のメタ情報が集中的に保存されます。</span><span class="sxs-lookup"><span data-stu-id="8d8d1-133">This database is the central meta-information store for all [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)]s.</span></span>|  
    |<span data-ttu-id="8d8d1-134">**BizTalk メッセージ ボックス**データベース (BizTalkMsgBoxDb)</span><span class="sxs-lookup"><span data-stu-id="8d8d1-134">**BizTalk MessageBox** database (BizTalkMsgBoxDb)</span></span>|<span data-ttu-id="8d8d1-135">このデータベースには、サブスクリプションの述語が格納されます。</span><span class="sxs-lookup"><span data-stu-id="8d8d1-135">This database stores subscriptions predicates.</span></span> <span data-ttu-id="8d8d1-136">このデータベースはホスト プラットフォームであり、各 [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] ホストのキューおよび状態テーブルが保持されます。</span><span class="sxs-lookup"><span data-stu-id="8d8d1-136">It is a host platform, and keeps the queues and state tables for each [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] host.</span></span> <span data-ttu-id="8d8d1-137">また、メッセージ ボックス データベースには、メッセージおよびメッセージ プロパティが格納されます。</span><span class="sxs-lookup"><span data-stu-id="8d8d1-137">The MessageBox database also stores the messages and message properties.</span></span> <span data-ttu-id="8d8d1-138">メッセージ ボックス データベースについてを含む追加のメッセージ ボックス データベースを追加するを参照してください[メッセージ ボックス データベースを管理する](../core/managing-messagebox-databases.md)です。</span><span class="sxs-lookup"><span data-stu-id="8d8d1-138">For information about MessageBox databases, including adding additional MessageBox databases, see [Managing MessageBox Databases](../core/managing-messagebox-databases.md).</span></span>|  
    |<span data-ttu-id="8d8d1-139">**[サーバー]**</span><span class="sxs-lookup"><span data-stu-id="8d8d1-139">**Server**</span></span>|<span data-ttu-id="8d8d1-140">このコンピューターには、[!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] がインストールおよび構成され、ホスト インスタンスが実行されます。</span><span class="sxs-lookup"><span data-stu-id="8d8d1-140">This is the computer on which [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] is installed and configured, and where host instances are running.</span></span> <span data-ttu-id="8d8d1-141">サーバーで作成されたホストから、ホスト インスタンスを作成します。</span><span class="sxs-lookup"><span data-stu-id="8d8d1-141">You create host instances from a host created on a server.</span></span> <span data-ttu-id="8d8d1-142">ホストの作成の詳細については、次を参照してください。[を新しいホストを作成する方法](../core/how-to-create-a-new-host.md)です。</span><span class="sxs-lookup"><span data-stu-id="8d8d1-142">For more information about creating a host, see [How to Create a New Host](../core/how-to-create-a-new-host.md).</span></span> <span data-ttu-id="8d8d1-143">ホスト インスタンスを作成する方法の詳細については、次を参照してください。[ホスト インスタンスを追加する方法](../core/how-to-add-a-host-instance.md)です。</span><span class="sxs-lookup"><span data-stu-id="8d8d1-143">For information about creating host instances, see [How to Add a Host Instance](../core/how-to-add-a-host-instance.md).</span></span>|  
    |<span data-ttu-id="8d8d1-144">**BAM プライマリ インポート**データベース (BAMPrimaryImport)</span><span class="sxs-lookup"><span data-stu-id="8d8d1-144">**BAM Primary Import** database (BAMPrimaryImport)</span></span>|<span data-ttu-id="8d8d1-145">このデータベースには、ビジネス アクティビティ監視ツールによって追跡データが収集されます。</span><span class="sxs-lookup"><span data-stu-id="8d8d1-145">This is the database where the Business Activity Monitoring tool collects tracking data.</span></span>|  
    |<span data-ttu-id="8d8d1-146">**ルール エンジン**データベース (BizTalkRuleEngineDb)</span><span class="sxs-lookup"><span data-stu-id="8d8d1-146">**Rule Engine** database (BizTalkRuleEngineDb)</span></span>|<span data-ttu-id="8d8d1-147">このデータベースは、ポリシー、ルール、およびボキャブラリのリポジトリです。ビジネス ルールのデータ参照に使用されます。</span><span class="sxs-lookup"><span data-stu-id="8d8d1-147">This database is a repository for policies, rules, and vocabularies for data references in business rules.</span></span>|  
    |<span data-ttu-id="8d8d1-148">**BizTalk 追跡**データベース (BizTalkDTADb)</span><span class="sxs-lookup"><span data-stu-id="8d8d1-148">**BizTalk Tracking** database (BizTalkDTADb)</span></span>|<span data-ttu-id="8d8d1-149">このデータベースには、[!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] 追跡エンジンで追跡したビジネス データおよび稼働状況の監視データが格納されます。</span><span class="sxs-lookup"><span data-stu-id="8d8d1-149">This database stores business and health-monitoring data tracked by the [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] tracking engine.</span></span>|  
    |<span data-ttu-id="8d8d1-150">**SSO**データベース (SSODB)</span><span class="sxs-lookup"><span data-stu-id="8d8d1-150">**SSO** database (SSODB)</span></span>|<span data-ttu-id="8d8d1-151">このデータベースには、資格情報が格納されます。</span><span class="sxs-lookup"><span data-stu-id="8d8d1-151">This database stores credential information.</span></span>|  
    |<span data-ttu-id="8d8d1-152">**インプロセス ホスト**に対応するホスト インスタンス</span><span class="sxs-lookup"><span data-stu-id="8d8d1-152">**In-process host** with corresponding host instances</span></span>|<span data-ttu-id="8d8d1-153">インプロセス ホストは、[!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] のプロセス領域内で機能します。</span><span class="sxs-lookup"><span data-stu-id="8d8d1-153">The in-process host operates within the [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] process space.</span></span>|  
    |<span data-ttu-id="8d8d1-154">**分離ホスト**に対応するホスト インスタンス</span><span class="sxs-lookup"><span data-stu-id="8d8d1-154">**Isolated host** with corresponding host instances</span></span>|<span data-ttu-id="8d8d1-155">分離ホストは、[!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] インストールの外部で機能します。</span><span class="sxs-lookup"><span data-stu-id="8d8d1-155">The isolated host operates outside of the [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] installation.</span></span>|  
    |<span data-ttu-id="8d8d1-156">HTTP/S、BizTalk メッセージ キュー、ファイル、SMTP、SOAP、および SQL</span><span class="sxs-lookup"><span data-stu-id="8d8d1-156">HTTP/S, BizTalk Message Queuing, File, SMTP, SOAP, and SQL</span></span>|<span data-ttu-id="8d8d1-157">構成ウィザードで、[!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] の一部であるアダプターを作成します。</span><span class="sxs-lookup"><span data-stu-id="8d8d1-157">The Configuration Wizard creates the adapters that are part of [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)].</span></span>|  
  
2.  <span data-ttu-id="8d8d1-158">[!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] 管理コンソールまたは WMI を使用して、必要に応じて [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] 環境にコンポーネントを追加します。</span><span class="sxs-lookup"><span data-stu-id="8d8d1-158">Use the [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] Administration console or WMI to add components to your [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] environment as needed.</span></span> <span data-ttu-id="8d8d1-159">ソリューションをスケール アウトするには、メッセージ ボックス データベース、ホスト、およびサーバーを追加します。</span><span class="sxs-lookup"><span data-stu-id="8d8d1-159">To scale out your solution, add MessageBox databases, hosts, and servers.</span></span>  
  
3.  <span data-ttu-id="8d8d1-160">BizTalk 管理コンソールまたは WMI を使用して、マップされたサーバーにホスト インスタンスを作成します。</span><span class="sxs-lookup"><span data-stu-id="8d8d1-160">Use the BizTalk Administration Console or WMI to create host instances on the mapped servers.</span></span> <span data-ttu-id="8d8d1-161">この手順では、[!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] を実行するサーバーを決定します。</span><span class="sxs-lookup"><span data-stu-id="8d8d1-161">This step determines on which servers [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] will run.</span></span> <span data-ttu-id="8d8d1-162">企業内のニーズの変化に応じて、サーバーの追加、サーバーの削除、サーバーからホストへのマッピングの変更を行えます。</span><span class="sxs-lookup"><span data-stu-id="8d8d1-162">As the needs in your enterprise change, you can add servers, remove servers, and change server-to-host mapping.</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="8d8d1-163">参照</span><span class="sxs-lookup"><span data-stu-id="8d8d1-163">See Also</span></span>  
 <span data-ttu-id="8d8d1-164">[BizTalk ホストとホスト インスタンスを管理します。](../core/managing-biztalk-hosts-and-host-instances.md) </span><span class="sxs-lookup"><span data-stu-id="8d8d1-164">[Managing BizTalk Hosts and Host Instances](../core/managing-biztalk-hosts-and-host-instances.md) </span></span>  
 <span data-ttu-id="8d8d1-165">[ホスト](../core/hosts.md) </span><span class="sxs-lookup"><span data-stu-id="8d8d1-165">[Hosts](../core/hosts.md) </span></span>  
 [<span data-ttu-id="8d8d1-166">ホスト インスタンス</span><span class="sxs-lookup"><span data-stu-id="8d8d1-166">Host Instances</span></span>](../core/host-instances.md)