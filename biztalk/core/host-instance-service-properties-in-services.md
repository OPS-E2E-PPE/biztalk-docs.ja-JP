---
title: ホストのサービスのインスタンスのサービス プロパティ |Microsoft Docs
ms.custom: ''
ms.date: 06/08/2017
ms.prod: biztalk-server
ms.reviewer: ''
ms.suite: ''
ms.tgt_pltfrm: ''
ms.topic: article
ms.assetid: 8b317161-83a9-42d5-b24f-48ff1e54b94a
caps.latest.revision: 3
author: MandiOhlinger
ms.author: mandia
manager: anneta
ms.openlocfilehash: 69be58a0edd2d834a869d75ef162b11865911c22
ms.sourcegitcommit: 266308ec5c6a9d8d80ff298ee6051b4843c5d626
ms.translationtype: MT
ms.contentlocale: ja-JP
ms.lasthandoff: 06/27/2018
ms.locfileid: "36984835"
---
# <a name="host-instance-service-properties-in-services"></a><span data-ttu-id="a5b18-102">[サービス] 内のホスト インスタンス サービス プロパティ</span><span class="sxs-lookup"><span data-stu-id="a5b18-102">Host Instance Service Properties in Services</span></span>
## <a name="host-instance-service-properties-in-services"></a><span data-ttu-id="a5b18-103">[サービス] 内のホスト インスタンス サービス プロパティ</span><span class="sxs-lookup"><span data-stu-id="a5b18-103">Host Instance Service Properties in Services</span></span>  
 <span data-ttu-id="a5b18-104">BizTalk ホスト インスタンスが作成されると、[サービス] 内にサービスも作成されます。</span><span class="sxs-lookup"><span data-stu-id="a5b18-104">When a BizTalk host instance is created, a service in Services is also created.</span></span> <span data-ttu-id="a5b18-105">次の表では、最も一般的なプロパティについて説明します。</span><span class="sxs-lookup"><span data-stu-id="a5b18-105">The table below discusses the most common properties.</span></span>  
  
|<span data-ttu-id="a5b18-106">オプション</span><span class="sxs-lookup"><span data-stu-id="a5b18-106">Option</span></span>|<span data-ttu-id="a5b18-107">説明</span><span class="sxs-lookup"><span data-stu-id="a5b18-107">Description</span></span>|  
|------------|-----------------|  
|<span data-ttu-id="a5b18-108">[全般]:**スタートアップの種類**</span><span class="sxs-lookup"><span data-stu-id="a5b18-108">General: **Startup Type**</span></span>|<span data-ttu-id="a5b18-109">既定に設定されます**自動**ホスト インスタンスをコンピューターを再起動すると自動的に開始します。</span><span class="sxs-lookup"><span data-stu-id="a5b18-109">Default is set to **Automatic** to allow the host instance to automatically start when the computer is restarted.</span></span> <span data-ttu-id="a5b18-110">運用環境でこのプロパティは通常は、常に設定**自動**します。</span><span class="sxs-lookup"><span data-stu-id="a5b18-110">In a Production environment, this property is normally always set to **Automatic**.</span></span>|  
|<span data-ttu-id="a5b18-111">ログ:**アカウント**</span><span class="sxs-lookup"><span data-stu-id="a5b18-111">Log On: **Account**</span></span>|<span data-ttu-id="a5b18-112">BizTalk の構成時または新しいホスト インスタンスの作成時に、指定されたユーザー アカウントに設定します。</span><span class="sxs-lookup"><span data-stu-id="a5b18-112">Set to the user account specified when BizTalk is configured or when a new host instance is created.</span></span> <span data-ttu-id="a5b18-113">BizTalk と SQL Server が別のコンピューターに配置されている場合、このアカウントはドメイン アカウントである必要があります。</span><span class="sxs-lookup"><span data-stu-id="a5b18-113">When BizTalk and SQL Server are on different computers, the account must be a domain account.</span></span> <span data-ttu-id="a5b18-114">BizTalk と SQL Server が同じコンピューターに配置されている場合、このアカウントはドメイン アカウントでも、ローカル アカウントでも構いません。</span><span class="sxs-lookup"><span data-stu-id="a5b18-114">If BizTalk and SQL Server are on the same computer, the account can be a domain account or a local account.</span></span>|  
|<span data-ttu-id="a5b18-115">回復:**最初のエラー**</span><span class="sxs-lookup"><span data-stu-id="a5b18-115">Recovery: **First failure**</span></span>|<span data-ttu-id="a5b18-116">既定に設定されます**サービスを再起動して**します。</span><span class="sxs-lookup"><span data-stu-id="a5b18-116">Default is set to **Restart the Service**.</span></span> <span data-ttu-id="a5b18-117">ホスト インスタンスが初めて予期せず停止した場合、この設定によりホスト インスタンスの再起動が試行されます。</span><span class="sxs-lookup"><span data-stu-id="a5b18-117">If the host instance stops unexpectedly the first time, then this setting will attempt to restart the host instance.</span></span><br /><br /> <span data-ttu-id="a5b18-118">ホスト インスタンスが正常に開始し、すぐに停止し場合、 **2 つ目のエラー**プロパティが適用されます。</span><span class="sxs-lookup"><span data-stu-id="a5b18-118">If the host instance starts successfully and then immediately stops, then the **Second failure** property is applied.</span></span><br /><br /> <span data-ttu-id="a5b18-119">開始するには、ホスト インスタンスが失敗した場合、 **2 つ目のエラー**プロパティは適用されません。</span><span class="sxs-lookup"><span data-stu-id="a5b18-119">If the host instance fails to start, then the **Second failure** property will not apply.</span></span> <span data-ttu-id="a5b18-120">次の再起動は試行されません。</span><span class="sxs-lookup"><span data-stu-id="a5b18-120">No additional restart attempts will be made.</span></span> <span data-ttu-id="a5b18-121">ホスト インスタンスは停止したままになります。</span><span class="sxs-lookup"><span data-stu-id="a5b18-121">The host instance will remain stopped.</span></span>|  
|<span data-ttu-id="a5b18-122">回復: **2 つ目のエラー**</span><span class="sxs-lookup"><span data-stu-id="a5b18-122">Recovery: **Second failure**</span></span>|<span data-ttu-id="a5b18-123">既定に設定されます**サービスを再起動して**します。</span><span class="sxs-lookup"><span data-stu-id="a5b18-123">Default is set to **Restart the Service**.</span></span> <span data-ttu-id="a5b18-124">ホスト インスタンスの予期しない停止が発生した 2 回目は、この設定によりホスト インスタンスの再起動が試行されます。</span><span class="sxs-lookup"><span data-stu-id="a5b18-124">If the host instance stops unexpectedly the second time, then this setting will attempt to restart the host instance.</span></span><br /><br /> <span data-ttu-id="a5b18-125">ホスト インスタンスが正常に開始し、すぐに停止し場合、**後のエラー**プロパティが適用されます。</span><span class="sxs-lookup"><span data-stu-id="a5b18-125">If the host instance starts successfully and then immediately stops, then the **Subsequent failures** property is applied.</span></span><br /><br /> <span data-ttu-id="a5b18-126">開始するには、ホスト インスタンスが失敗した場合、**その後のエラー**プロパティは適用されません。</span><span class="sxs-lookup"><span data-stu-id="a5b18-126">If the host instance fails to start, then the **Subsequent failure** property will not apply.</span></span> <span data-ttu-id="a5b18-127">次の再起動は試行されません。</span><span class="sxs-lookup"><span data-stu-id="a5b18-127">No additional restart attempts will be made.</span></span> <span data-ttu-id="a5b18-128">ホスト インスタンスは停止したままになります。</span><span class="sxs-lookup"><span data-stu-id="a5b18-128">The host instance will remain stopped.</span></span>|  
|<span data-ttu-id="a5b18-129">回復:**後のエラー**</span><span class="sxs-lookup"><span data-stu-id="a5b18-129">Recovery: **Subsequent failures**</span></span>|<span data-ttu-id="a5b18-130">既定に設定されます**サービスを再起動して**します。</span><span class="sxs-lookup"><span data-stu-id="a5b18-130">Default is set to **Restart the Service**.</span></span> <span data-ttu-id="a5b18-131">ホスト インスタンスの予期しない停止が発生した 3 回目は、この設定によりホスト インスタンスの再起動が試行されます。</span><span class="sxs-lookup"><span data-stu-id="a5b18-131">If the host instance stops unexpectedly the third time, then this setting will attempt to restart the host instance.</span></span><br /><br /> <span data-ttu-id="a5b18-132">ホスト インスタンスが正常に開始し、すぐに停止し場合、**後のエラー**プロパティが引き続き適用されます。</span><span class="sxs-lookup"><span data-stu-id="a5b18-132">If the host instance starts successfully and then immediately stops, then the **Subsequent failures** property will continue to be applied.</span></span><br /><br /> <span data-ttu-id="a5b18-133">開始するには、ホスト インスタンスが失敗した場合、**その後のエラー**プロパティは適用されません。</span><span class="sxs-lookup"><span data-stu-id="a5b18-133">If the host instance fails to start, then the **Subsequent failure** property will not apply.</span></span> <span data-ttu-id="a5b18-134">次の再起動は試行されません。</span><span class="sxs-lookup"><span data-stu-id="a5b18-134">No additional restart attempts will be made.</span></span> <span data-ttu-id="a5b18-135">ホスト インスタンスは停止したままになります。</span><span class="sxs-lookup"><span data-stu-id="a5b18-135">The host instance will remain stopped.</span></span>|  
|<span data-ttu-id="a5b18-136">回復:**サービスの再起動**</span><span class="sxs-lookup"><span data-stu-id="a5b18-136">Recovery: **Restart service after**</span></span>|<span data-ttu-id="a5b18-137">既定値は 1 分で、必要に応じて大きくすることができます。</span><span class="sxs-lookup"><span data-stu-id="a5b18-137">Default is 1 minute and can be increased if needed.</span></span>|  
|<span data-ttu-id="a5b18-138">依存関係</span><span class="sxs-lookup"><span data-stu-id="a5b18-138">Dependencies</span></span>|<span data-ttu-id="a5b18-139">**すべて**は、BizTalk ホスト インスタンスの開始前に、コンポーネントの一覧を開始する必要があります。</span><span class="sxs-lookup"><span data-stu-id="a5b18-139">**All** the listed components must be started before the BizTalk host instance will start.</span></span> <span data-ttu-id="a5b18-140">これにはエンタープライズ シングル サインオンが含まれます。</span><span class="sxs-lookup"><span data-stu-id="a5b18-140">This includes Enterprise Single Sign-On.</span></span> <span data-ttu-id="a5b18-141">Windows Server 2008 を使用している場合、次のサポート技術情報の記事を参照してください。</span><span class="sxs-lookup"><span data-stu-id="a5b18-141">If using Windows Server 2008, refer to the following KB article:</span></span><br /><br /> <span data-ttu-id="a5b18-142">[942284](http://support.microsoft.com/kb/942284) Windows Vista または Windows Server 2008 を実行しているコンピューターを再起動するときに、BizTalk Service サービスが起動しません。</span><span class="sxs-lookup"><span data-stu-id="a5b18-142">[942284](http://support.microsoft.com/kb/942284) A BizTalk Service service may not start as expected when you restart a computer that is running Windows Vista or Windows Server 2008</span></span>|  
  
 <span data-ttu-id="a5b18-143">**注**Services での BizTalk ホスト インスタンスのプロパティは、hkey_local_machine \system\currentcontrolset\services\btssvc $ も格納*BizTalkHostName*レジストリ キー。</span><span class="sxs-lookup"><span data-stu-id="a5b18-143">**Note** The BizTalk host instances properties in Services are also stored in the HKEY_LOCAL_MACHINE\SYSTEM\CurrentControlSet\services\BTSSvc$*BizTalkHostName* registry key.</span></span>  
  
### <a name="recovery"></a><span data-ttu-id="a5b18-144">復旧</span><span class="sxs-lookup"><span data-stu-id="a5b18-144">Recovery</span></span>  
 <span data-ttu-id="a5b18-145">ホスト インスタンス サービスが起動に失敗した時点で、[サービス] の [回復] 機能は無期限にサービスの再起動を試行しなくなります。</span><span class="sxs-lookup"><span data-stu-id="a5b18-145">The Recovery capability in Services does not provide indefinite service restart attempts when the host instance service fails to start.</span></span> <span data-ttu-id="a5b18-146">[回復] のプロパティを変更することで、BizTalk ホスト インスタンスの稼働時間が改善される可能性があります。</span><span class="sxs-lookup"><span data-stu-id="a5b18-146">By modifying the Recovery properties, it is possible to improve uptime of a BizTalk host instance.</span></span> <span data-ttu-id="a5b18-147">BizTalk ホスト インスタンスが停止する最も一般的なシナリオとして次のことが考えられます。</span><span class="sxs-lookup"><span data-stu-id="a5b18-147">The most common scenarios that would cause a BizTalk host instance to stop include:</span></span>  
  
- <span data-ttu-id="a5b18-148">SQL Server とのネットワーク接続が失われた</span><span class="sxs-lookup"><span data-stu-id="a5b18-148">Loss of network connectivity with the SQL Server</span></span>  
  
- <span data-ttu-id="a5b18-149">メモリ不足の例外</span><span class="sxs-lookup"><span data-stu-id="a5b18-149">Out Of Memory exception</span></span>  
  
- <span data-ttu-id="a5b18-150">アクセス違反</span><span class="sxs-lookup"><span data-stu-id="a5b18-150">Access Violation</span></span>  
  
  <span data-ttu-id="a5b18-151">**潜在的なシナリオ**</span><span class="sxs-lookup"><span data-stu-id="a5b18-151">**Potential Scenarios**</span></span>  
  
- <span data-ttu-id="a5b18-152">SQL Server が予期せずダウンしています。</span><span class="sxs-lookup"><span data-stu-id="a5b18-152">The SQL Server goes down unexpectedly.</span></span> <span data-ttu-id="a5b18-153">このような状況で、**最初のエラー**プロパティが適用されます。</span><span class="sxs-lookup"><span data-stu-id="a5b18-153">In this situation, the **First Failure** property will apply.</span></span> <span data-ttu-id="a5b18-154">既定値は、**最初のエラー**と**サービスの再起動**設定、再起動が 1 回の試行が 1 分後に行われます。</span><span class="sxs-lookup"><span data-stu-id="a5b18-154">With the default **First Failure** and **Restart service after** settings, a single restart attempt is made after 1 minute.</span></span> <span data-ttu-id="a5b18-155">1 分後も SQL Server が利用できない場合、再起動は再試行されません。</span><span class="sxs-lookup"><span data-stu-id="a5b18-155">If the SQL Server is still not available after 1 minute, no additional restart attempts will be made.</span></span> <span data-ttu-id="a5b18-156">ホスト インスタンスは停止したままになります。</span><span class="sxs-lookup"><span data-stu-id="a5b18-156">The host instance will remain stopped.</span></span>  
  
- <span data-ttu-id="a5b18-157">SQL Server がクラスター化されていてフェールオーバーが発生し、</span><span class="sxs-lookup"><span data-stu-id="a5b18-157">SQL Server is clustered and a failover occurs.</span></span> <span data-ttu-id="a5b18-158">このフェールオーバーには 5 分以上かかっています。</span><span class="sxs-lookup"><span data-stu-id="a5b18-158">The failover takes more than 5 minutes.</span></span> <span data-ttu-id="a5b18-159">このシナリオでは、既定で**最初のエラー**と**サービスの再起動**設定は 1 分後に再起動が 1 回試行されます。</span><span class="sxs-lookup"><span data-stu-id="a5b18-159">In this scenario, the default **First Failure** and **Restart service after** settings will attempt a single restart after 1 minute.</span></span> <span data-ttu-id="a5b18-160">SQL Server はまだオフラインであるため、再起動は失敗します。</span><span class="sxs-lookup"><span data-stu-id="a5b18-160">The restart will fail because SQL Server is still offline.</span></span> <span data-ttu-id="a5b18-161">その結果、次の再起動は試行されません。</span><span class="sxs-lookup"><span data-stu-id="a5b18-161">As a result, no additional restart attempts will be made.</span></span> <span data-ttu-id="a5b18-162">ホスト インスタンスは停止したままになります。</span><span class="sxs-lookup"><span data-stu-id="a5b18-162">The host instance will remain stopped.</span></span>  
  
  <span data-ttu-id="a5b18-163">**推奨事項**</span><span class="sxs-lookup"><span data-stu-id="a5b18-163">**Recommendations**</span></span>  
  
- <span data-ttu-id="a5b18-164">SQL Server が停止した場合や SQL クラスターのフェールオーバーが発生した場合は、BizTalk ホスト インスタンスを手動で停止します。</span><span class="sxs-lookup"><span data-stu-id="a5b18-164">When stopping the SQL Server or failing over a SQL cluster, manually stop the BizTalk host instances.</span></span> <span data-ttu-id="a5b18-165">SQL Server がオンラインになってから、ホスト インスタンスを再起動します。</span><span class="sxs-lookup"><span data-stu-id="a5b18-165">After the SQL Server is online, restart the host instances.</span></span>  
  
- <span data-ttu-id="a5b18-166">場合 1 分より長くかかる SQL クラスター フェールオーバーの一般的には、大きく、**サービスの再起動**がオンラインである SQL クラスターの値。</span><span class="sxs-lookup"><span data-stu-id="a5b18-166">If it is a common occurrence for a SQL cluster failover to take longer than 1 minute, increase the **Restart service after** value to however long it takes the SQL cluster to be online.</span></span>  
  
- <span data-ttu-id="a5b18-167">SQL Server は非 BizTalk 管理者によって保持される場合は、増やすことを検討してください、**サービスの再起動**値。</span><span class="sxs-lookup"><span data-stu-id="a5b18-167">When SQL Server is maintained by a non-BizTalk Administrator, consider increasing the **Restart service after** value.</span></span> <span data-ttu-id="a5b18-168">BizTalk に関与しない管理者は、BizTalk への影響を認識しないまま SQL Server を停止/開始することがあります。</span><span class="sxs-lookup"><span data-stu-id="a5b18-168">Non-BizTalk Administrators tend to stop/start SQL Server without realizing the impact on BizTalk.</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="a5b18-169">参照</span><span class="sxs-lookup"><span data-stu-id="a5b18-169">See Also</span></span>  
 [<span data-ttu-id="a5b18-170">BizTalk ホストとホスト インスタンスの管理</span><span class="sxs-lookup"><span data-stu-id="a5b18-170">Managing BizTalk Hosts and Host Instances</span></span>](../core/managing-biztalk-hosts-and-host-instances.md)