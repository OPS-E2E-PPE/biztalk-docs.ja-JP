---
title: 'チュートリアル: ポリシーの変更 |Microsoft Docs'
ms.custom: ''
ms.date: 2016-04-05
ms.prod: biztalk-server
ms.reviewer: ''
ms.suite: ''
ms.tgt_pltfrm: ''
ms.topic: article
ms.assetid: 9dd74440-2a45-4a1a-8e36-98796e1e1392
caps.latest.revision: 21
author: MandiOhlinger
ms.author: mandia
manager: anneta
ms.openlocfilehash: c0c6027d4aea6aa522b506845cba9f64baf4208d
ms.sourcegitcommit: 381e83d43796a345488d54b3f7413e11d56ad7be
ms.translationtype: MT
ms.contentlocale: ja-JP
ms.lasthandoff: 05/07/2019
ms.locfileid: "65395329"
---
# <a name="walkthrough-modifying-the-policy"></a>チュートリアル: ポリシーを変更します。
このチュートリアルの新しいバージョンを作成するための手順について説明します、 **POVocabulary**の新しいバージョンを作成、 **ProcessPurchaseOrder**ポリシー、およびの最新バージョンを使用して、**POVocabulary**の新しいバージョンで、 **ProcessPurchaseOrder**ポリシー。  
  
## <a name="prerequisites"></a>前提条件  
 完了する必要があります、[チュートリアル。ポリシーにルールを追加する](../core/walkthrough-adding-a-rule-to-the-policy.md)このチュートリアルを実行する前にチュートリアル。  
  
## <a name="overview-of-this-walkthrough"></a>このチュートリアルの概要  
 このチュートリアルには、次の表に示すように 3 つの手順が含まれます。  
  
|プロシージャ タイトル|手順の説明|  
|---------------------|---------------------------|  
|POVocabulary ボキャブラリを変更するには|値を変更する、新しいボキャブラリ バージョンを作成するための手順について説明します**許可される項目の最大数**から**500**に**1000**します。|  
|更新されたボキャブラリを使用して ProcessPurchaseOrder ポリシーを変更するには|新しいバージョンを作成するための手順について説明します、 **ProcessPurchaseOrder**の新しいバージョンを使用するポリシーを**POVocabulary**します。|  
|ソリューションをテストするには、次の操作を行います。|ソリューションをテストし、新しいポリシーが有効では確認する手順について説明します。|  
  
### <a name="to-modify-the-povocabulary-vocabulary"></a>POVocabulary ボキャブラリを変更するには  
  
1.  **開始**] メニューの [open**ビジネス ルール作成ツール**します。 開く、f5 キーを押して、またはをクリックを既にのビジネス ルール作成ツールがあるかどうかは**再読み込み**上、**ファイル**メニューを更新します。  
  
    > [!NOTE]
    >  ユーザー アカウント制御 (UAC) をサポートするシステムでは、管理者特権を使用してこのツールを実行することが必要な場合があります。 これを行うには、アプリケーションを右クリックし、**管理者として実行**します。  
  
2.  ファクト エクスプ ローラー ウィンドウで、**ボキャブラリ**、順に展開**POVocabulary**します。  
  
3.  右クリックして**バージョン 1.0 - 公開済み**、 をクリックし、**コピー**します。  
  
4.  右クリック**POVocabulary**、 をクリックし、**ボキャブラリのバージョンの貼り付け**します。  
  
5.  ダブルクリック**最大の指定できるアイテム数**で**バージョン 1.1 (未保存)** ボキャブラリの定義ウィザードを開始します。  
  
6.  **[次へ]** をクリックします。  
  
7.  **[次へ]** をクリックします。  
  
8.  値から変更**500**に**1000**します。  
  
9. **[完了]** をクリックします。  
  
10. 右クリック**バージョン 1.1 (未保存)**、 をクリックし、**保存**します。  
  
11. 右クリック**バージョン 1.1**、 をクリックし、**発行**します。  
  
### <a name="to-modify-the-processpurchaseorder-policy-to-use-the-updated-vocabulary"></a>更新されたボキャブラリを使用して ProcessPurchaseOrder ポリシーを変更するには  
  
1.  ポリシー エクスプ ローラーで、**ポリシー**、順に展開**ProcessPurchaseOrder**します。  
  
2.  右クリックして**バージョン 1.2**、 をクリックし、**コピー**します。  
  
3.  右クリックして**ProcessPurchaseOrder**、 をクリックし、 **pastepolicyversion**します。  
  
4.  クリックして**ApprovalRule**で**Version 1.3 (未保存)** します。  
  
5.  ファクト エクスプ ローラーで、**ボキャブラリ**、展開**POVocabulary**、順に展開**バージョン 1.1 - 公開済み**します。  
  
6.  ドラッグ**最大の指定できるアイテム数**で**バージョン 1.1 - 公開済み**を置き換える**最大の指定できるアイテム数**IF ペインで、バージョン 1.0 の。  
  
7.  手順 4-6 を繰り返します**DeniedRule**します。  
  
8.  右クリック**Version 1.3 (未保存)**、 をクリックし、**保存**します。  
  
9. 右クリック**バージョン 1.3**、 をクリックし、**発行**します。  
  
10. 右クリック**Version 1.3**、 をクリックし、**デプロイ**します。  
  
### <a name="to-test-the-solution"></a>ソリューションをテストするには、次の操作を行います。  
  
1.  をクリックして**開始**オープン**BizTalk Server 管理**します。 BizTalk Server 管理コンソールを既に開いている場合は、F5 キーを押して更新します。  
  
2.  右クリック**RuleTestApp**、 をクリックし、**開始**します。 場合**開始**は無効にすると、アプリケーションが既に実行されており、次の手順を無視することができます。  
  
3.  クリックして**開始**します。  
  
4.  コピー、 **SamplePO2.xml**オーケストレーション用の C:\BRE-Walkthroughs\RuleTestSol\Input ディレクトリに C:\BRE-Walkthroughs ディレクトリからファイル。  
  
5.  C:\BRE-Walkthroughs\RuleTestSol\Output ディレクトリに出力ファイルを確認する必要があります。 出力 XML ファイルを開き、注意の値、**状態**にフィールドが設定されている**Approved**します。  
  
    > [!NOTE]
    >  値、**数量**SamplePO2.xml 内のフィールドは 700 です。 バージョン 1.3、 **ProcessPurchaseOrder**ポリシー バージョン 1.2 と同様に 500 と比較では 1000 には、この値を比較します。  
  
## <a name="comments"></a>コメント  
  
-   公開済みのポリシーを変更できません。 これを変更するポリシーの新しいバージョンを作成する必要があります。 同様に、公開済みのボキャブラリは変更できません。 これを変更するボキャブラリの新しいバージョンを作成する必要があります。  
  
-   使用してポリシーを呼び出すオーケストレーション、**ルールの呼び出し**図形を展開した最新バージョンのポリシーを使用します。 たとえば、バージョン 1.0、1.1、1.2、および 1.3 のポリシーを展開した場合、オーケストレーションはバージョン 1.3 を使用します。 バージョン 1.3 がデプロイされておらず、バージョン 1.2 が展開されている場合は、オーケストレーションはバージョン 1.2 を使用します。 そのためバージョン 1.2 を使用する場合は、だけをバージョン 1.3 を展開解除し、そのバージョン 1.2 が展開されているかどうかを確認します。  
  
-   オーケストレーションからのポリシーの特定のバージョンを使用する必要がありますを使用する、**式**図形し、を使用してポリシーをプログラムで実行するルール エンジンを呼び出して、 **Policy.Execute**メソッド。  
  
-   ポリシーはバージョン 1.0 および version 1.1 の POVocabulary ボキャブラリのボキャブラリ定義のバージョン 1.3 に注意してください。 バージョン 1.3 のポリシーを XML ファイルにエクスポートし、別のコンピューターで、ポリシーを作成することをインポートした場合、インポート プロセスは、ボキャブラリの両方のバージョンを探します。 そのために、バージョン 1.0 とバージョン 1.1 のボキャブラリの両方をエクスポートし、バージョン 1.3 のポリシーをインポートする前にインポートする必要があります。  
  
-   新しいバージョンのポリシーを展開した後、ソリューションをテストする前に約 60 秒間を待機する必要があります。 ルール エンジン更新サービス更新を確認ポリシーを 60 秒ごと (1 分) 既定では。 更新プログラムがある場合は、最新の情報をキャッシュを更新します。  
  
## <a name="next-steps"></a>次の手順  
  
-   これで、このチュートリアルを完了すると、実行、[チュートリアル。ポリシー実行の追跡](../core/walkthrough-tracking-policy-execution.md)ポリシー実行の詳細を追跡するための手順を説明するチュートリアル。