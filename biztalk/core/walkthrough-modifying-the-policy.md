---
title: 'チュートリアル: ポリシーの変更 |Microsoft ドキュメント'
ms.custom: ''
ms.date: 2016-04-05
ms.prod: biztalk-server
ms.reviewer: ''
ms.suite: ''
ms.tgt_pltfrm: ''
ms.topic: article
ms.assetid: 9dd74440-2a45-4a1a-8e36-98796e1e1392
caps.latest.revision: 21
author: MandiOhlinger
ms.author: mandia
manager: anneta
ms.openlocfilehash: 7292d541adaf0ae2242d1c504f1a845dde66f5dd
ms.sourcegitcommit: cb908c540d8f1a692d01dc8f313e16cb4b4e696d
ms.translationtype: MT
ms.contentlocale: ja-JP
ms.lasthandoff: 09/20/2017
ms.locfileid: "22289674"
---
# <a name="walkthrough-modifying-the-policy"></a>チュートリアル: ポリシーを変更します。
このチュートリアルでの新しいバージョンを作成する手順については、 **POVocabulary**の新しいバージョンを作成、 **ProcessPurchaseOrder**ポリシー、およびの最新バージョンを使用して、**POVocabulary**の新しいバージョンで、 **ProcessPurchaseOrder**ポリシー。  
  
## <a name="prerequisites"></a>前提条件  
 完了する必要があります、[チュートリアル: ポリシーにルールを追加する](../core/walkthrough-adding-a-rule-to-the-policy.md)このチュートリアルを実行する前にチュートリアルです。  
  
## <a name="overview-of-this-walkthrough"></a>このチュートリアルの概要  
 次の表に示すように、このチュートリアルには 3 つの手順が含まれています。  
  
|手順のタイトル|手順の説明|  
|---------------------|---------------------------|  
|POVocabulary ボキャブラリを変更するには|新しいボキャブラリのバージョンを作成するための値を変更する手順をわかりやすく説明**許可される項目の最大数**から**500**に**1000**です。|  
|ProcessPurchaseOrder ポリシーを変更して、更新されたボキャブラリを使用するには|新しいバージョンを作成するための手順をわかりやすく説明、 **ProcessPurchaseOrder**の新しいバージョンを使用するポリシーを**POVocabulary**です。|  
|ソリューションをテストするには、次の操作を行います。|ステップごとの説明に従って、ソリューションをテストし、新しいポリシーが有効になっていることを確認します。|  
  
### <a name="to-modify-the-povocabulary-vocabulary"></a>POVocabulary ボキャブラリを変更するには  
  
1.  **開始**] メニューの [開いている**ビジネス ルール作成ツール**です。 開く、f5 キーを押して、またはをクリックを既にのビジネス ルール作成ツールがあるかどうか**再読み込み**で、**ファイル**メニューを更新します。  
  
    > [!NOTE]
    >  ユーザー アカウント制御 (UAC) をサポートするシステムでは、管理者特権を使用してこのツールを実行することが必要な場合があります。 これを行うには、アプリケーションを右クリックし、**管理者として実行**です。  
  
2.  ファクト エクスプ ローラー ウィンドウで、**ボキャブラリ**の順に展開および**POVocabulary**です。  
  
3.  右クリック**バージョン 1.0 - 公開済み**、クリックして**コピー**です。  
  
4.  右クリック**POVocabulary**、クリックして**ボキャブラリのバージョンの貼り付け**です。  
  
5.  ダブルクリックして**最大数の指定できるアイテム**で**バージョン 1.1 (未保存)** ボキャブラリの定義ウィザードを開始します。  
  
6.  **[次へ]** をクリックします。  
  
7.  **[次へ]** をクリックします。  
  
8.  値から変更**500**に**1000**です。  
  
9. **[完了]** をクリックします。  
  
10. 右クリック**バージョン 1.1 (未保存)**、クリックして**保存**です。  
  
11. 右クリック**バージョン 1.1**、クリックして**発行**です。  
  
### <a name="to-modify-the-processpurchaseorder-policy-to-use-the-updated-vocabulary"></a>ProcessPurchaseOrder ポリシーを変更して、更新されたボキャブラリを使用するには  
  
1.  ポリシー エクスプ ローラーで、**ポリシー**の順に展開および**ProcessPurchaseOrder**です。  
  
2.  右クリック**バージョン 1.2**、クリックして**コピー**です。  
  
3.  右クリック**ProcessPurchaseOrder**、クリックして **[pastepolicyversion]** です。  
  
4.  をクリックして**ApprovalRule**で**Version 1.3 (未保存)** です。  
  
5.  ファクト エクスプ ローラーで、**ボキャブラリ**、展開**POVocabulary**、順に展開**バージョン 1.1 - 公開済み**です。  
  
6.  ドラッグ**最大数の指定できるアイテム**で**バージョン 1.1 - 公開済み**を置き換える**最大数の指定できるアイテム**[IF] ペインで、バージョン 1.0 のです。  
  
7.  手順 4. ~ 6. を繰り返します**DeniedRule**です。  
  
8.  右クリック**Version 1.3 (未保存)**、クリックして**保存**です。  
  
9. 右クリック**Version 1.3**、クリックして**発行**です。  
  
10. 右クリック**Version 1.3**、クリックして**展開**です。  
  
### <a name="to-test-the-solution"></a>ソリューションをテストするには、次の操作を行います。  
  
1.  をクリックして**開始**、開かれている**BizTalk Server 管理コンソール**です。 BizTalk Server 管理コンソールを既に開いている場合は、F5 キーを押して更新します。  
  
2.  右クリック**RuleTestApp**、クリックして**開始**です。 場合**開始**は無効にすると、アプリケーションが既に実行されていると、次の手順を無視することができます。  
  
3.  をクリックして**開始**です。  
  
4.  コピー、 **SamplePO2.xml**オーケストレーション用の C:\BRE-Walkthroughs\RuleTestSol\Input ディレクトリに C:\BRE-Walkthroughs ディレクトリからファイルです。  
  
5.  C:\BRE-Walkthroughs\RuleTestSol\Output ディレクトリに出力ファイルができます。 出力 XML ファイルを開くことを確認の値、**ステータス**にフィールドが設定されている**Approved**です。  
  
    > [!NOTE]
    >  値、**数量**SamplePO2.xml のフィールドが 700 です。 バージョン 1.3、 **ProcessPurchaseOrder**ポリシーは、この値は、バージョン 1.2 と同様、500 と比較することではなく 1000 とを比較します。  
  
## <a name="comments"></a>コメント  
  
-   公開済みのポリシーは変更できません。 変更するには、新しいバージョンのポリシーを作成する必要があります。 同様に、公開済みのボキャブラリは変更できません。 変更するには、新しいバージョンのボキャブラリを作成する必要があります。  
  
-   使用してポリシーを呼び出すオーケストレーション、**ルールの呼び出し**図形を展開した最新バージョンのポリシーを使用します。 たとえば、展開済みのポリシーのバージョンが 1.0、1.1、1.2、および 1.3 の場合は、オーケストレーションはバージョン 1.3 を使用します。 バージョン 1.3 が展開されておらず、バージョン 1.2 が展開されている場合は、オーケストレーションはバージョン 1.2 を使用します。 したがって、バージョン 1.2 を使用する必要がある場合は、バージョン 1.3 を展開解除し、バージョン 1.2 が展開されていることを確認します。  
  
-   オーケストレーションからポリシーの特定のバージョンを使用する必要がありますを使用する、**式**図形し、ポリシーを使用してプログラムで実行するルール エンジンを呼び出して、 **Policy.Execute**メソッドです。  
  
-   ポリシーのバージョン 1.3 は、バージョン 1.0 およびバージョン 1.1 の POVocabulary ボキャブラリのボキャブラリ定義を使用します。 バージョン 1.3 のポリシーを XML ファイルにエクスポートし、別のコンピューター上でインポートしてポリシーを作成する場合、インポート処理では両方のバージョンのボキャブラリを探します。 そのため、バージョン 1.0 とバージョン 1.1 のボキャブラリをエクスポートし、バージョン 1.3 のポリシーをインポートする前にインポートする必要があります。  
  
-   新しいバージョンのポリシーを展開した後、ソリューションをテストする前に約 60 秒間待つ必要があります。 ルール エンジン更新サービスは、既定では 60 秒 (1 分) ごとにポリシーの更新を確認します。 更新があると、キャッシュの情報を更新します。  
  
## <a name="next-steps"></a>次の手順  
  
-   これで、このチュートリアルを完了すると、実行、[チュートリアル: ポリシーの実行を追跡](../core/walkthrough-tracking-policy-execution.md)ポリシー実行の詳細を追跡するための手順を説明するチュートリアルです。