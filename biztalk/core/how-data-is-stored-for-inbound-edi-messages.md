---
title: 受信 EDI メッセージのデータを格納する方法 |Microsoft ドキュメント
ms.custom: ''
ms.date: 06/08/2017
ms.prod: biztalk-server
ms.reviewer: ''
ms.suite: ''
ms.tgt_pltfrm: ''
ms.topic: article
ms.assetid: f8cbcb96-c0af-4f41-b844-f0e684a4af7c
caps.latest.revision: 11
author: MandiOhlinger
ms.author: mandia
manager: anneta
ms.openlocfilehash: f9a395e691835f3e21622ebf5f29c2845361fb36
ms.sourcegitcommit: 5abd0ed3f9e4858ffaaec5481bfa8878595e95f7
ms.translationtype: MT
ms.contentlocale: ja-JP
ms.lasthandoff: 11/28/2017
ms.locfileid: "25971560"
---
# <a name="how-data-is-stored-for-inbound-edi-messages"></a>受信 EDI メッセージのデータ格納方法
[!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] は次の操作を実行して、受信インターチェンジと、そのインターチェンジに対する応答として送信される受信確認の状態レポート エントリを生成します。  
  
1.  受信メッセージ XML が EDI 受信パイプラインによってメッセージ ボックスに送信されると、受信パイプラインは状態レポートのデータ ストアに次のエントリを作成します。エントリには、次に示す値が設定されます。  
  
    -   受信したインターチェンジごとに 1 つの状態レポート エントリが作成されます。[状態] には [受理]、[一部受理]、[拒否] のいずれかが設定されます。  
  
    -   技術 (インターチェンジ) 確認ごとに 1 つの状態レポート エントリが作成されます。[状態] には [作成] が設定されます。  
  
    -   機能確認 (X12 では 1 グループに 1 つ、EDIFACT ではすべてのグループに 1 つ) ごとに 1 つの状態レポート エントリが作成されます。[状態] には [作成] が設定されます。  
  
2.  送信パイプラインが取引先に受信確認を送信すると、必要に応じて、EDI 送信パイプラインによりインターチェンジ確認状態エントリと機能確認状態エントリが [送信済み] に設定されます。 インターチェンジ状態エントリは変更されません。  
  
## <a name="data-stored-by-the-receive-pipeline-for-inbound-interchanges"></a>受信インターチェンジの受信パイプラインによって格納されるデータ  
 受信パイプラインは、受信する各インターチェンジの状態レポート データ ストアにレコードを作成します。 格納されるデータは次のとおりです。  
  
-   レコードの種類 = インターチェンジの状態  
  
-   インターチェンジ方向 = 受信  
  
-   インターチェンジの受信者 = 更新データ  
  
-   インターチェンジの送信者 = 更新データ  
  
-   インターチェンジの日付 = 更新データ  
  
-   インターチェンジの時刻 = 更新データ  
  
-   インターチェンジ制御 ID = 更新データ  
  
-   インターチェンジの状態 = 更新データ  
  
-   インターチェンジ内のグループ数 = 更新データ (EDIFACT ではグループは省略可能です。存在しない場合は値に "適用できません" が設定されます)  
  
-   インターチェンジの受信ポート ID = 更新データ  
  
## <a name="data-stored-by-the-receive-pipeline-for-each-technical-acknowledgment-generated-in-response-to-an-inbound-interchange"></a>受信インターチェンジへの応答として生成された各技術確認用の受信パイプラインによって格納されるデータ  
 送信パイプラインは、送信した各技術確認用の状態レポート データ ストアにレコードを作成します。 技術確認は、EDIFACT の場合、UCI セグメントのみで、X12 と CONTRL メッセージに対する TA1 です。 エントリに必要なほとんどのデータは、インターチェンジのヘッダー/トレーラー セグメント (ISA/IEA または UNB/UNZ) から使用可能です。 他のデータは、送信ポートのプロパティから使用できます。 格納されるデータは次のとおりです。  
  
-   レコードの種類 = インターチェンジ確認状態  
  
-   インターチェンジ確認方向 = 受信  
  
-   インターチェンジの受信者 = 更新データ (関連付けに必要)  
  
-   インターチェンジの送信者 = 更新データ (関連付けに必要)  
  
-   インターチェンジの日付 = 更新データ  
  
-   インターチェンジ制御 ID = 更新データ (関連付けに必要)  
  
-   インターチェンジ確認状態 =\<必要"または"利用不可\>です。 (技術確認が受信インターチェンジで構成されているか、または値が設定されている場合は、状態は "必要" になります。 それ以外の場合、状態には "適用されません" が設定されます)  
  
-   インターチェンジ確認制御 ID =\<値なし\>  
  
-   インターチェンジ確認日付 =\<値なし\>  
  
-   インターチェンジ確認時刻 =\<値なし\>  
  
-   確認/アクション コード =\<値なし\>  
  
-   確認通知コード =\<値なし\>  
  
## <a name="data-updated-by-the-send-pipeline-for-each-technical-acknowledgment-generated-in-response-to-inbound-interchanges"></a>受信インターチェンジへの応答として生成された各技術確認用の送信パイプラインによって更新されるデータ  
 送信パイプラインが送信した各技術確認用に、関連する受信インターチェンジの状態レポート エントリが更新されます。 送信パイプラインによって作成されたインターチェンジ エンベロープがデータのソースになります。  
  
 EDI アセンブラーは、次のように受信確認の UCI および TA1 セグメントのデータを使用して、データ ストア内でレコードを検索します。  
  
|確認のフィールド|データ ストアのフィールド|解説|  
|-------------------|--------------------------|-------------|  
|インターチェンジの送信者 ID|インターチェンジの受信者|-|  
|インターチェンジの受信者 ID|インターチェンジの送信者|-|  
|-|インターチェンジ日付|-|  
|インターチェンジ制御番号|インターチェンジ制御 ID|-|  
|-|インターチェンジ方向 = 受信|保存されたインターチェンジ シナリオの一意性に必要|  
|レコードの種類|インターチェンジ確認状態|-|  
  
 格納されるデータは次のとおりです。  
  
-   レコードの種類 = インターチェンジ確認状態  
  
-   インターチェンジ確認方向 = 送信 - 既存データ  
  
-   インターチェンジ確認の状態 = 処理済みまたは送信 - 更新データ  
  
-   インターチェンジ受信者 = 既存データ  
  
-   インターチェンジ送信者 = 既存データ  
  
-   インターチェンジ日付 = 既存データ  
  
-   インターチェンジ制御 ID = 既存データ  
  
-   インターチェンジ確認制御 ID = 更新データ  
  
-   インターチェンジ確認日付 = 更新データ  
  
-   インターチェンジ確認時刻 = 更新データ  
  
-   確認/アクション コード = 既存データ  
  
-   確認通知コード = 既存データ  
  
## <a name="data-stored-by-the-receive-pipeline-for-each-functional-acknowledgment-generated-in-response-to-an-inbound-interchange"></a>受信インターチェンジへの応答として生成された各機能確認用の受信パイプラインによって格納されるデータ  
 送信パイプラインは、送信した各機能確認用の状態レポート データ ストアにレコードを作成します。 送信パイプラインは、(受信したインターチェンジへの応答として) 送信した各機能確認のレコードを状態レポート データ ストアに作成します。 EDIFACT では、グループが存在しない場合でも機能確認は 1 つは作成されます。 機能確認用の状態レポート エントリは、機能グループのヘッダーとトレーラー (GS/GE または UNG/UNE) に基づいて設定されます。 技術確認は、X12 では 997 で、EDIFACT では CONTRL メッセージの全文です。 格納されるデータは次のとおりです。  
  
-   レコードの種類 = 機能確認状態  
  
-   機能確認方向 = 受信  
  
-   機能確認状態 =\<必要"または"利用不可\>です。 (PAM で機能確認のタブが選択されている場合、状態は "必要" に設定されます。 それ以外の場合、状態は、該当なし に設定されます。  
  
-   インターチェンジの受信者 = 更新データ (関連付けに必要)  
  
-   インターチェンジの送信者 = 更新データ (関連付けに必要)  
  
-   インターチェンジの日付 = 更新データ  
  
-   インターチェンジ制御 ID = 更新データ (関連付けに必要)  
  
-   グループ制御番号 = 更新データ (関連付けに必要。 EDIFACT では、グループ セグメントが存在しない場合、このフィールドには UNH.1 が設定されます)  
  
-   機能 ID コード = 更新データ (EDIFACT では、グループ セグメントが存在しない場合、"値なし" に設定されます)  
  
-   トランザクション セットの数 = データ (EDIFACT では、UNG/UNE が存在する場合は UNE.1、グループ セグメントが存在しない場合は UNZ.1 にマップされます)  
  
-   機能確認インターチェンジ制御 ID =\<値なし\>  
  
-   機能確認インターチェンジ日付 =\<値なし\>  
  
-   機能確認インターチェンジ時刻 =\<値なし\>  
  
-   カウントの配信されたトランザクション セット =\<値なし\>  
  
-   カウントの受理されたトランザクション セット =\<値なし\>  
  
-   確認/アクション コード =\<値なし\>  
  
-   エラー/構文エラー コード =\<値なし\>  
  
-   追加の X12 確認エラー コード 2 =\<値なし\>  
  
-   追加の X12 確認エラー コード 3 =\<値なし\>  
  
-   追加の X12 確認エラー コード 4 =\<値なし\>  
  
-   追加の X12 確認エラー コード 5 =\<値なし\>  
  
## <a name="data-updated-by-the-send-pipeline-for-each-functional-acknowledgment-generated-in-response-to-inbound-interchanges"></a>受信インターチェンジへの応答として生成された各機能確認用の送信パイプラインによって更新されるデータ  
 送信パイプラインが送信した各機能確認用に、関連する受信インターチェンジの状態レポート エントリが更新されます。 送信パイプラインによって作成されたインターチェンジ エンベロープがデータのソースになります。  
  
 EDI アセンブラーは、次のように、インターチェンジとグループ ヘッダー セグメントに、受信確認の内のデータを使用してデータ ストア内のレコードを検索します。  
  
|確認のフィールド|データ ストアのフィールド|解説|  
|-------------------|--------------------------|-------------|  
|インターチェンジの送信者 ID|インターチェンジの受信者|-|  
|インターチェンジの受信者 ID|インターチェンジの送信者|-|  
|インターチェンジ日付|インターチェンジ日付|-|  
|インターチェンジ制御番号|インターチェンジ制御 ID|-|  
|グループ制御番号|グループ制御番号|EDIFACT では省略可能|  
|-|インターチェンジ方向 = 受信|保存されたインターチェンジ シナリオの一意性に必要|  
|レコードの種類|機能確認状態|-|  
  
 格納されるデータは次のとおりです。  
  
-   レコードの種類 = 機能確認状態  
  
-   機能確認方向 = 受信 - 既存データ  
  
-   機能確認状態 = 送信/処理済み - 更新データ  
  
-   インターチェンジの受信者 = 既存データ  
  
-   インターチェンジ送信者 = 既存データ  
  
-   インターチェンジ日付 = 既存データ  
  
-   インターチェンジ制御 ID = 既存データ  
  
-   グループ制御番号 = 既存データ  
  
-   機能 ID コード = 既存データ  
  
-   トランザクション セットの数 = 既存データ  
  
-   機能確認インターチェンジ制御 ID = 更新データ  
  
-   機能確認インターチェンジ日付 = 更新データ  
  
-   機能確認インターチェンジ時刻 = 更新データ  
  
-   受信したトランザクション セットの数 = 既存データ  
  
-   受理したトランザクション セットの数 = 既存データ  
  
-   確認/アクション コード = 既存データ  
  
-   エラー/構文エラー コード = 既存データ  
  
-   追加の X12 確認エラー コード 2 = 既存データ  
  
-   追加の X12 確認エラー コード 3 = 既存データ  
  
-   追加の X12 確認エラー コード 4 = 既存データ  
  
-   追加の X12 確認エラー コード 5 = 既存データ  
  
## <a name="see-also"></a>参照  
 [EDI および AS2 状態レポートのデータを格納する方法](../core/how-data-is-stored-for-edi-and-as2-status-reports.md)   
 [送信 EDI メッセージのデータ格納方法](../core/how-data-is-stored-for-outbound-edi-messages.md)