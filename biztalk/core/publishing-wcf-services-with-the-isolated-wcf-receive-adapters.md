---
title: 発行の WCF サービスを分離 WCF 受信アダプター |Microsoft ドキュメント
ms.custom: ''
ms.date: 06/08/2017
ms.prod: biztalk-server
ms.reviewer: ''
ms.suite: ''
ms.tgt_pltfrm: ''
ms.topic: article
helpviewer_keywords:
- receive adapters, WCF services
- publishing, WCF services
- WCF services, receive adapters
- WCF services, publishing
ms.assetid: 62ebf373-075c-4c98-8130-ac2cf06e4a70
caps.latest.revision: 18
author: MandiOhlinger
ms.author: mandia
manager: anneta
ms.openlocfilehash: 2c5305560713771e7279eb013d26ff267aa21a74
ms.sourcegitcommit: cb908c540d8f1a692d01dc8f313e16cb4b4e696d
ms.translationtype: MT
ms.contentlocale: ja-JP
ms.lasthandoff: 09/20/2017
ms.locfileid: "22271634"
---
# <a name="publishing-wcf-services-with-the-isolated-wcf-receive-adapters"></a><span data-ttu-id="5e938-102">分離 WCF 受信アダプタでの WCF サービスの公開</span><span class="sxs-lookup"><span data-stu-id="5e938-102">Publishing WCF Services with the Isolated WCF Receive Adapters</span></span>
<span data-ttu-id="5e938-103">BizTalk Windows Communication Foundation (WCF) アダプターを許可する[!INCLUDE[btsCoName](../includes/btsconame-md.md)][!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)]の WCF ベースのアプリケーションと通信します。</span><span class="sxs-lookup"><span data-stu-id="5e938-103">The BizTalk Windows Communication Foundation (WCF) adapters allow [!INCLUDE[btsCoName](../includes/btsconame-md.md)][!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] to communicate with WCF-based applications.</span></span> <span data-ttu-id="5e938-104">BizTalk WCF アダプターには 7 つの物理アダプターが含まれています。</span><span class="sxs-lookup"><span data-stu-id="5e938-104">The BizTalk WCF adapters include seven physical adapters.</span></span> <span data-ttu-id="5e938-105">各アダプター (WCF-CustomIsolated アダプターを除く) は、送信アダプターと受信アダプターで構成されています。</span><span class="sxs-lookup"><span data-stu-id="5e938-105">Each adapter, except the WCF-CustomIsolated adapter, consists of send and receive adapters.</span></span>  
  
 <span data-ttu-id="5e938-106">WCF 受信アダプタの 2 種類のアダプターで提供される: WCF アダプタとインプロセス WCF アダプターを分離します。</span><span class="sxs-lookup"><span data-stu-id="5e938-106">The WCF receive adapters are provided in two types of adapters: isolated WCF adapters and in-process WCF adapters.</span></span> <span data-ttu-id="5e938-107">インプロセス アダプタは [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] によって管理されますが、分離アダプタは [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] ではインスタンス化されません。</span><span class="sxs-lookup"><span data-stu-id="5e938-107">While in-process adapters are managed by [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)], isolated adapters are not instantiated by [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)].</span></span> <span data-ttu-id="5e938-108">代わりに、別のプロセスでインスタンス化され、ホストされます。</span><span class="sxs-lookup"><span data-stu-id="5e938-108">Rather, they are instantiated and hosted in another process.</span></span> <span data-ttu-id="5e938-109">分離 WCF アダプタは、インターネット インフォメーション サービス (IIS) で実行されている Web アプリケーションでホストされます。</span><span class="sxs-lookup"><span data-stu-id="5e938-109">The isolated WCF adapters are hosted in Web applications running in Internet Information Services (IIS).</span></span>  
  
> [!NOTE]
>  <span data-ttu-id="5e938-110">分離 WCF アダプターを使用して WCF サービスを公開する前に、インターネット インフォメーション サービス (IIS) で WCF サービスをホストする方法について理解しておく必要があります。</span><span class="sxs-lookup"><span data-stu-id="5e938-110">Before you publish a WCF service with the isolated WCF adapters, you should have an understanding of how to host WCF services in Internet Information Services (IIS).</span></span> <span data-ttu-id="5e938-111">IIS でホストされる WCF サービスの詳細についてを参照してください「IIS でホストしている」 [http://go.microsoft.com/fwlink/?LinkID=75700](http://go.microsoft.com/fwlink/?LinkID=75700)です。</span><span class="sxs-lookup"><span data-stu-id="5e938-111">For more information about the WCF services that are hosted in IIS, see "Hosting in IIS" at [http://go.microsoft.com/fwlink/?LinkID=75700](http://go.microsoft.com/fwlink/?LinkID=75700).</span></span>  
  
 <span data-ttu-id="5e938-112">**IIS のバージョン**</span><span class="sxs-lookup"><span data-stu-id="5e938-112">**Versions of IIS**</span></span>  
  
 <span data-ttu-id="5e938-113">3 つの分離 WCF アダプター (WCF-CustomIsolated、WCF-BasicHttp、WCF-WSHttp) をホストできるオペレーティング システムの IIS バージョンを次に示します。</span><span class="sxs-lookup"><span data-stu-id="5e938-113">The three isolated WCF adapters (WCF-CustomIsolated, WCF-BasicHttp, and WCF-WSHttp) can be hosted on the following versions of IIS on the following operating systems:</span></span>  
  
-   <span data-ttu-id="5e938-114">**Windows Vista および Windows Server 2008 上の IIS 7.0/7.5。**</span><span class="sxs-lookup"><span data-stu-id="5e938-114">**IIS 7.0/7.5 on Windows Vista and Windows Server 2008.**</span></span> <span data-ttu-id="5e938-115">IIS 7.0/7.5 は IIS 6.0 と同様の高度なプロセス モデルを提供します。</span><span class="sxs-lookup"><span data-stu-id="5e938-115">IIS 7.0/7.5 provides the same advanced process model as IIS 6.0.</span></span> <span data-ttu-id="5e938-116">公開する BizTalk WCF サービスは IIS 7.0/7.5 の ASP.NET 互換モードで実行する必要があります。</span><span class="sxs-lookup"><span data-stu-id="5e938-116">The published BizTalk WCF services must run in ASP.NET Compatibility Mode of IIS 7.0/7.5.</span></span>  
  
> [!NOTE]
>  <span data-ttu-id="5e938-117">IIS 7.0/7.5 の Windows プロセス アクティブ化サービス (WAS) で、HTTP 以外のプロトコル経由でのアクティベーションとネットワーク通信を許可している場合でも、分離 WCF アダプターでは HTTP トランスポートのみをサポートします。</span><span class="sxs-lookup"><span data-stu-id="5e938-117">Even though Windows Process Activation Service (WAS) in IIS 7.0/7.5 allows activation and network communication over protocols other than HTTP, the isolated WCF adapters support only the HTTP transport.</span></span>  
  
 <span data-ttu-id="5e938-118">**分離 WCF アダプタ**</span><span class="sxs-lookup"><span data-stu-id="5e938-118">**Isolated WCF adapters**</span></span>  
  
 <span data-ttu-id="5e938-119">分離 WCF アダプタの一覧を次に示します。</span><span class="sxs-lookup"><span data-stu-id="5e938-119">The following is the list of the isolated WCF adapters:</span></span>  
  
-   <span data-ttu-id="5e938-120">**Wcf-wshttp アダプタ**です。</span><span class="sxs-lookup"><span data-stu-id="5e938-120">**WCF-WSHttp adapter**.</span></span> <span data-ttu-id="5e938-121">HTTP トランスポート経由の WS-\* 標準をサポートします。</span><span class="sxs-lookup"><span data-stu-id="5e938-121">Provides the WS-\* standards support over the HTTP transport.</span></span> <span data-ttu-id="5e938-122">WCF-WSHttp アダプターは、外部アプリケーションと MessageBox データベース間のトランザクション上の対話に WS-Transaction、メッセージ セキュリティと認証に WS-Security という仕様を実装します。</span><span class="sxs-lookup"><span data-stu-id="5e938-122">The WCF-WSHttp adapter implements the following specifications: WS-Transaction for the transactional interactions between external applications and the MessageBox database, and WS-Security for message security and authentication.</span></span> <span data-ttu-id="5e938-123">トランスポートは HTTP または HTTPS で、メッセージのエンコードは、テキスト エンコードまたは Message Transmission Optimization Mechanism (MTOM) エンコードです。</span><span class="sxs-lookup"><span data-stu-id="5e938-123">The transport is HTTP or HTTPS, and message encoding is a Text or Message Transmission Optimization Mechanism (MTOM) encoding.</span></span>  
  
-   <span data-ttu-id="5e938-124">**Wcf-basichttp アダプター**です。</span><span class="sxs-lookup"><span data-stu-id="5e938-124">**WCF-BasicHttp adapter**.</span></span> <span data-ttu-id="5e938-125">ASMX ベースの Web サービスとクライアント、および、WS に準拠するその他のサービスの通信の Basic Profile 1.1 です。</span><span class="sxs-lookup"><span data-stu-id="5e938-125">Communicates with ASMX-based Web services and clients and with other services that conform to the WS-I Basic Profile 1.1.</span></span> <span data-ttu-id="5e938-126">トランスポートは HTTP または HTTPS で、メッセージのエンコードは、テキスト エンコードまたは MTOM エンコードです。</span><span class="sxs-lookup"><span data-stu-id="5e938-126">The transport is HTTP or HTTPS, and message encoding is a Text or MTOM encoding.</span></span>  
  
-   <span data-ttu-id="5e938-127">**Wcf-customisolated アダプター**です。</span><span class="sxs-lookup"><span data-stu-id="5e938-127">**WCF-CustomIsolated adapter**.</span></span> <span data-ttu-id="5e938-128">HTTP トランスポート経由で WCF 拡張機能を使用できるようにします。</span><span class="sxs-lookup"><span data-stu-id="5e938-128">Enables the use of WCF extensibility features over the HTTP transport.</span></span> <span data-ttu-id="5e938-129">このアダプタでは、分離ホストで実行している受信場所に対して、WCF バインドと WCF 動作情報を選択および構成できます。</span><span class="sxs-lookup"><span data-stu-id="5e938-129">The adapter allows you to select and configure a WCF binding and the behavior information for the receive location running in an isolated host.</span></span>  
  
 <span data-ttu-id="5e938-130">**分離 WCF アダプターで WCF サービスの公開**</span><span class="sxs-lookup"><span data-stu-id="5e938-130">**Publishing WCF services with the isolated WCF adapters**</span></span>  
  
 <span data-ttu-id="5e938-131">分離 WCF 受信アダプタを使用して WCF サービスを公開するには、BizTalk WCF サービス公開ウィザードで、分離 WCF アダプタをホストする Web アプリケーションを作成する必要があります。</span><span class="sxs-lookup"><span data-stu-id="5e938-131">To publish WCF services with the isolated WCF receive adapters, you must use the BizTalk WCF Service Publishing Wizard to create a Web application to host the isolated WCF adapters.</span></span> <span data-ttu-id="5e938-132">また、BizTalk WCF サービス公開ウィザードを使用すると、作成した Web アプリケーションのルート フォルダに次のファイルが生成されます。</span><span class="sxs-lookup"><span data-stu-id="5e938-132">Additionally, the BizTalk WCF Service Publishing Wizard generates the following files in the root folder of the created Web application:</span></span>  
  
|<span data-ttu-id="5e938-133">ファイル</span><span class="sxs-lookup"><span data-stu-id="5e938-133">File</span></span>|<span data-ttu-id="5e938-134">フォルダー</span><span class="sxs-lookup"><span data-stu-id="5e938-134">Folder</span></span>|<span data-ttu-id="5e938-135">Description</span><span class="sxs-lookup"><span data-stu-id="5e938-135">Description</span></span>|  
|----------|------------|-----------------|  
|<span data-ttu-id="5e938-136">WCF サービス (.svc ファイル)</span><span class="sxs-lookup"><span data-stu-id="5e938-136">WCF services (.svc files)</span></span>|\|<span data-ttu-id="5e938-137">分離 WCF アダプタを使用して公開される WCF 受信場所の WCF サービス。</span><span class="sxs-lookup"><span data-stu-id="5e938-137">WCF services for the WCF receive locations published with the isolated WCF adapters.</span></span>|  
|<span data-ttu-id="5e938-138">Web.config</span><span class="sxs-lookup"><span data-stu-id="5e938-138">Web.config</span></span>|\|<span data-ttu-id="5e938-139">ASP.NET 構成ファイル。このファイルには、ASP.NET Web アプリケーションの動作、公開済み WCF サービスの動作、メタデータ エンドポイント、および BizTalk 固有の設定についての情報が含まれます。</span><span class="sxs-lookup"><span data-stu-id="5e938-139">ASP.NET configuration file that contains information for the ASP.NET Web application behaviors, the published WCF service behaviors, the metadata endpoint, and the BizTalk-specific settings.</span></span> <span data-ttu-id="5e938-140">BizTalk WCF 公開ウィザードによって生成される既定のメタデータ バインドはセキュリティで保護されていないため、メタデータへの匿名アクセスが可能です。</span><span class="sxs-lookup"><span data-stu-id="5e938-140">The default metadata binding generated by the BizTalk WCF Publishing Wizard is not secure and it allows anonymous access to the metadata.</span></span> <span data-ttu-id="5e938-141">サービス メタデータには、サービスの詳細な説明が含まれており、意図的に、または意図せずに機密情報が含まれる可能性があります。</span><span class="sxs-lookup"><span data-stu-id="5e938-141">The service metadata contains a detailed description about the service and may intentionally or unintentionally contain sensitive information.</span></span> <span data-ttu-id="5e938-142">サービス メタデータを不正アクセスから保護するには、メタデータ エンドポイントでセキュリティ保護されたバインドを使用するように Web.config を変更します。</span><span class="sxs-lookup"><span data-stu-id="5e938-142">To protect service metadata from unauthorized access, you can modify Web.config to use a secure binding for your metadata endpoint.</span></span> <span data-ttu-id="5e938-143">**注:** メタデータ エンドポイントのバインドとサービス エンドポイントのバインドのすべての組み合わせが無効です。</span><span class="sxs-lookup"><span data-stu-id="5e938-143">**Note:**  Not all combinations of metadata endpoint bindings and service endpoint bindings are valid.</span></span> <span data-ttu-id="5e938-144">メタデータ エンドポイントのバインド構成がサービス エンドポイントのバインド構成と一致する必要がある場合もあります。</span><span class="sxs-lookup"><span data-stu-id="5e938-144">In some cases, the binding configurations for a metadata endpoint must be in agreement with the binding configurations of its service endpoint.</span></span> <span data-ttu-id="5e938-145">たとえば、サービス エンドポイントのセキュリティ モードで HTTPS を使用している場合は、HTTP トランスポートを必要とするセキュリティ モードでメタデータ エンドポイントを構成することはできません。</span><span class="sxs-lookup"><span data-stu-id="5e938-145">For example, the metadata endpoint cannot be configured with a security mode requiring the HTTP transport when the security mode of its service endpoint relies on HTTPS.</span></span>|  
|<span data-ttu-id="5e938-146">ServiceDescription.xml</span><span class="sxs-lookup"><span data-stu-id="5e938-146">ServiceDescription.xml</span></span>|\|<span data-ttu-id="5e938-147">メッセージの種類を含む、公開済み WCF サービスのコントラクトが記述されている XML ファイル。</span><span class="sxs-lookup"><span data-stu-id="5e938-147">XML file that describes the published WCF service contracts including the message types.</span></span>|  
|<span data-ttu-id="5e938-148">BizTalk スキーマ (.xsd ファイル)</span><span class="sxs-lookup"><span data-stu-id="5e938-148">BizTalk schemas (.xsd files)</span></span>|<span data-ttu-id="5e938-149">\App_Data</span><span class="sxs-lookup"><span data-stu-id="5e938-149">\App_Data</span></span>|<span data-ttu-id="5e938-150">分離 WCF アダプタを使用して公開される XML インスタンス メッセージの構造を定義する XML スキーマ。</span><span class="sxs-lookup"><span data-stu-id="5e938-150">XML schemas defining the structure of XML instance messages, which are published with the isolated WCF adapters.</span></span>|  
|<span data-ttu-id="5e938-151">SchemaIndex.xml</span><span class="sxs-lookup"><span data-stu-id="5e938-151">SchemaIndex.xml</span></span>|<span data-ttu-id="5e938-152">\App_Data</span><span class="sxs-lookup"><span data-stu-id="5e938-152">\App_Data</span></span>|<span data-ttu-id="5e938-153">公開済み WCF サービスで使用する XML スキーマ ファイルを示す XML ファイル。</span><span class="sxs-lookup"><span data-stu-id="5e938-153">XML file that indicates the XML schema files used in the published WCF services.</span></span>|  
|<span data-ttu-id="5e938-154">Serialization.xsd</span><span class="sxs-lookup"><span data-stu-id="5e938-154">Serialization.xsd</span></span>|<span data-ttu-id="5e938-155">\App_Data</span><span class="sxs-lookup"><span data-stu-id="5e938-155">\App_Data</span></span>|<span data-ttu-id="5e938-156">によってエクスポートされた XML スキーマ[DataContractSerializer](http://go.microsoft.com/fwlink/?LinkId=81722)型、要素、および、名前空間からの属性に対する http://schemas.microsoft.com/2003/10/Serialization/ です。</span><span class="sxs-lookup"><span data-stu-id="5e938-156">XML schema exported by [DataContractSerializer](http://go.microsoft.com/fwlink/?LinkId=81722) for the types, elements, and attributes from the namespace, http://schemas.microsoft.com/2003/10/Serialization/.</span></span>|  
|<span data-ttu-id="5e938-157">BindingInfo.xml</span><span class="sxs-lookup"><span data-stu-id="5e938-157">BindingInfo.xml</span></span>|<span data-ttu-id="5e938-158">\App_Data\Temp</span><span class="sxs-lookup"><span data-stu-id="5e938-158">\App_Data\Temp</span></span>|<span data-ttu-id="5e938-159">公開済み WCF サービスに対応する WCF 受信場所を作成するための BizTalk バインド ファイル。</span><span class="sxs-lookup"><span data-stu-id="5e938-159">BizTalk binding file to create the WCF receive locations that correspond to the published WCF services.</span></span> <span data-ttu-id="5e938-160">開発用コマンド ライン ツールまたはウィザードで BindingInfo.xml ファイルをインポートして、必要な受信場所を作成できます。</span><span class="sxs-lookup"><span data-stu-id="5e938-160">The BindingInfo.xml file can be imported by the development command-line tool or wizard to create the necessary receive locations.</span></span> <span data-ttu-id="5e938-161">公開済み WCF サービスは、実行時にこのファイルと Temp フォルダを使用しません。</span><span class="sxs-lookup"><span data-stu-id="5e938-161">The published WCF services do not use this file and the Temp folder at run time.</span></span>|  
|<span data-ttu-id="5e938-162">WcfServiceDescription.xml</span><span class="sxs-lookup"><span data-stu-id="5e938-162">WcfServiceDescription.xml</span></span>|<span data-ttu-id="5e938-163">\App_Data\Temp</span><span class="sxs-lookup"><span data-stu-id="5e938-163">\App_Data\Temp</span></span>|<span data-ttu-id="5e938-164">BizTalk WCF サービス公開ウィザードで、この Web アプリケーションを作成する際に使用した設定を要約した XML ファイル。</span><span class="sxs-lookup"><span data-stu-id="5e938-164">XML file that summarizes the settings that you used with the BizTalk WCF Service Publishing Wizard to create this Web application.</span></span> <span data-ttu-id="5e938-165">公開済み WCF サービスは、実行時にこのファイルと Temp フォルダを使用しません。</span><span class="sxs-lookup"><span data-stu-id="5e938-165">The published WCF services do not use this file and the Temp folder at run time.</span></span>|  
  
 <span data-ttu-id="5e938-166">また、BizTalk WCF サービス公開ウィザードでは、WCF 受信場所を作成することも、分離 WCF アダプタを実行している受信場所のサービス メタデータを作成することもできます。</span><span class="sxs-lookup"><span data-stu-id="5e938-166">You can also use the BizTalk WCF Service Publishing Wizard to create WCF receive locations and service metadata for the receive locations running the isolated WCF adapters.</span></span>  
  
## <a name="in-this-section"></a><span data-ttu-id="5e938-167">このセクションの内容</span><span class="sxs-lookup"><span data-stu-id="5e938-167">In This Section</span></span>  
  
-   [<span data-ttu-id="5e938-168">BizTalk WCF サービス公開ウィザードを使用してオーケストレーションを WCF サービスとして公開する方法</span><span class="sxs-lookup"><span data-stu-id="5e938-168">How to Use the BizTalk WCF Service Publishing Wizard to Publish Orchestrations as WCF Services</span></span>](../core/publish-orchestrations-as-wcf-services--biztalk-wcf-service-publishing-wizard.md)  
  
-   [<span data-ttu-id="5e938-169">BizTalk WCF サービス公開ウィザードを使用してスキーマを WCF サービスとして公開する方法</span><span class="sxs-lookup"><span data-stu-id="5e938-169">How to Use the BizTalk WCF Service Publishing Wizard to Publish Schemas as WCF Services</span></span>](../core/publish-schemas-as-wcf-services--use-the-biztalk-wcf-service-publishing-wizard.md)  
  
-   [<span data-ttu-id="5e938-170">構成の IIS 分離 wcf 受信アダプター</span><span class="sxs-lookup"><span data-stu-id="5e938-170">Configuring IIS for the Isolated WCF Receive Adapters</span></span>](../core/configuring-iis-for-the-isolated-wcf-receive-adapters.md)  
  
-   [<span data-ttu-id="5e938-171">BizTalk WCF サービス公開ウィザードで公開された WCF サービスを構成する方法</span><span class="sxs-lookup"><span data-stu-id="5e938-171">How to Configure WCF Services Published with the BizTalk WCF Service Publishing Wizard</span></span>](../core/configure-wcf-services-published-with-the-biztalk-wcf-service-publishing-wizard.md)  
  
-   [<span data-ttu-id="5e938-172">BizTalk WCF サービス公開ウィザードによって公開された WCF サービスをテストするための .NET アプリケーションを作成する方法</span><span class="sxs-lookup"><span data-stu-id="5e938-172">How to Create a .NET Application to Test a WCF Service Published with the BizTalk WCF Service Publishing Wizard</span></span>](../core/use-net-application-to-test-wcf-service-published-with-wcf-service-publishing.md)  
  
## <a name="see-also"></a><span data-ttu-id="5e938-173">参照</span><span class="sxs-lookup"><span data-stu-id="5e938-173">See Also</span></span>  
 [<span data-ttu-id="5e938-174">チュートリアル: Wcf-basichttp アダプタを使用して WCF サービスの発行</span><span class="sxs-lookup"><span data-stu-id="5e938-174">Walkthrough: Publishing WCF Services with the WCF-BasicHttp Adapter</span></span>](../core/walkthrough-publishing-wcf-services-with-the-wcf-basichttp-adapter.md)