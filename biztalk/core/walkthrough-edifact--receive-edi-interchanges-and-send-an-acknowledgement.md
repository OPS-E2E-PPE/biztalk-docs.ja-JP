---
title: チュートリアル (EDIFACT):EDI インターチェンジの受信と受信確認の送信 |Microsoft Docs
ms.custom: ''
ms.date: 06/08/2017
ms.prod: biztalk-server
ms.reviewer: ''
ms.suite: ''
ms.tgt_pltfrm: ''
ms.topic: article
ms.assetid: 02751f0c-8e7e-4879-93e4-8bc475640756
caps.latest.revision: 4
author: MandiOhlinger
ms.author: mandia
manager: anneta
ms.openlocfilehash: fae5bbda87851df48daeacf116739744153fa52d
ms.sourcegitcommit: 381e83d43796a345488d54b3f7413e11d56ad7be
ms.translationtype: MT
ms.contentlocale: ja-JP
ms.lasthandoff: 05/07/2019
ms.locfileid: "65395968"
---
# <a name="walkthrough-edifact-receiving-edi-interchanges-and-sending-back-an-acknowledgement"></a>チュートリアル (EDIFACT):EDI インターチェンジの受信と受信確認の送信
このチュートリアルでは、[!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] を使用して EDIFACT インターチェンジの受信用のソリューションを作成する一連の手順について説明します。 このソリューションでは、ある取引先 (Fabrikam) から別の取引先 (Contoso) に EDIFACT インターチェンジが送信されます。  

## <a name="prerequisites"></a>前提条件  
 [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] 管理者グループまたは [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] B2B Operators グループのメンバーとしてログオンしている必要があります。  

## <a name="how-the-solution-receives-edifact-interchanges"></a>ソリューションにより EDIFACT インターチェンジを受信する方法  
 このソリューションは次の処理を実行します。  

> [!NOTE]
>  この一覧のイベントは、示されている順序で発生するとは限りません。  

1.  Fabrikam という取引先から EDIFACT フラット ファイル インターチェンジを受信します。  

2.  EDIFACT インターチェンジをそのスキーマに対して検証し、メッセージを XML に逆アセンブルして、メッセージ XML を MessageBox にドロップします。  

3.  受信した EDI インターチェンジに対する技術確認 (メッセージの受信) を生成して、MessageBox にドロップします。  

4.  機能確認 (受信した EDI インターチェンジの受理または拒否) を生成して、MessageBox にドロップします。  

5.  一方向の FILE 送信ポートでメッセージ XML を取得し、メッセージ EDI インターチェンジをアセンブルします。  

6.  EDI インターチェンジを Contoso ローカル フォルダーに送信します。  

7.  一方向の FILE 送信ポートで技術確認を取得し、インターチェンジをアセンブルします。  

8.  技術確認を Fabrikam ローカル フォルダーに送信します。  

9. 一方向の FILE 送信ポートで機能確認を取得し、インターチェンジをアセンブルします。  

10. 機能確認を Fabrikam に送信します。  

## <a name="the-functionality-in-this-solution"></a>このソリューションの機能  
 このチュートリアルを実行するために、以下の機能を有効にします。  

- ソリューションは EDIFACT エンコードを使用したインターチェンジ用に設計されています。  

  > [!NOTE]
  >  X12 インターチェンジの場合は、同様のソリューションを作成する方法については、次を参照してください[チュートリアル (X12):。EDI インターチェンジの受信と受信確認の送信](../core/walkthrough-x12--receive-edi-interchanges-and-send-back-an-acknowledgement.md)します。  

- EDI の種類の検証および拡張された検証は、受信インターチェンジに対して実行されます。  

- インターチェンジの送信者に返す技術確認および機能確認が生成されます。  

- このソリューションでは、トランスポートの種類が FILE である一方向の受信場所が使用されます。  

  > [!NOTE]
  >  双方向の送信請求応答の受信ポートと受信場所を使用してメッセージを受信できますが、この方法で受信する場合、種類が FILE のトランスポートは受信場所に対して使用できません。 詳細については、次を参照してください。[受信確認と EDI メッセージを受信するポートの構成](../core/configuring-a-port-to-receive-edi-messages-and-acknowledgments.md)します。  

- EDI レポートが有効になり、インターチェンジの状態レポートに表示するトランザクション セットが保存されます。  

- テストを実行するために、ソリューションは 3 つの送信ポートを使用して、作成した EDIFACT インターチェンジと ACK をローカル フォルダーに送信します。  

  次の図は、このソリューションのアーキテクチャを示しています。  

  ![EDIFACT インターチェンジの受信と ACK の送信](../core/media/edifact-walkthrough.gif "EDIFACT_Walkthrough")  

## <a name="configuring-and-testing-the-walkthrough"></a>チュートリアルの構成とテスト  
 このソリューションに必要な手順は以下のとおりです。  

- BizTalk プロジェクトに必要なメッセージ スキーマを追加してビルドおよび展開し、受信したインターチェンジを [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] で処理するときにそのスキーマを利用できるようにします。  

- [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] 用の一方向受信ポートを作成して、取引先から EDIFACT インターチェンジを受信し、受信確認を生成します。 この受信場所は、Fabrikam が Contoso に送信する EDIFACT インターチェンジをドロップするローカル フォルダーに関連付けられています。  

  > [!NOTE]
  >  使用することができます、双方向の送信請求応答の受信ポートと、メッセージを受信する場所が、受信場所のトランスポートの種類が FILE を使用することはできませんを行った場合。  

- EDI インターチェンジをローカル Contoso フォルダーに送信する送信ポート、技術確認と機能確認をローカル Fabrikam フォルダーに送信する送信ポートを作成します。  

  > [!NOTE]
  >  X12 の確認とは異なり、機能確認と技術確認の両方でメッセージの種類は同じです。 したがって、`BTS.MessageType` コンテキスト プロパティを使用して作成した送信ポート フィルターは、両方の確認をフィルター処理し、それらを同じフォルダーに配信します。  

- Fabrikam および Contoso の両方にパーティ (取引先) を作成します。  

- 両方の取引先それぞれにビジネス プロファイルを作成します。  

- 受信するメッセージおよび送信する受信確認の EDI プロパティを構成して、2 つのプロファイル間のアグリーメントを作成します。  

- テスト EDIFACT インターチェンジを使用して、このチュートリアルをテストします。 このチュートリアルでは、以下の内容をコピーしてテキスト ファイルに貼り付けることができます。 このファイルのスキーマは EFACT_D98A_APERAK.xsd です。  

  ```  
  UNA:+,?*'  
  UNB+UNOB:1+7654321:ZZZ+1234567:ZZZ+353501:3023+UNB5'  
  UNG+INVOIC+UNG2.1:ZZZ+UNG3.1:ZZZ+060413:2314+UNG5+UN+D:98B'  
  UNH+UNH1+APERAK:D:98A:UN++13+UNH5.1+UNH6.1+UNH7.1'  
  BGM+1+C10601'  
  DTM+10'  
  FTX+AAA++C10701+C10801'  
  CNT+1:14'  
  RFF+AAA'  
  DTM+10'  
  NAD+AA+C08201+C05801+C08001+C05901'  
  CTA++C05601'  
  COM+C07601:AA'  
  ERC+C90101'  
  FTX+AAA++C10701+C10801'  
  RFF+AAA'  
  FTX+AAA++C10701+C10801'  
  UNT+15+UNH1'  
  UNE+1+UNG5'  
  UNZ+1+UNB5'  
  ```  

### <a name="configuring-the-walkthrough"></a>チュートリアルの構成  
 ここでは、チュートリアルを構成する手順について説明します。  

##### <a name="to-deploy-the-message-schema"></a>メッセージ スキーマを展開するには  

1. [!INCLUDE[btsVStudioNoVersion](../includes/btsvstudionoversion-md.md)] で、BizTalk プロジェクトを作成するか、開きます。  

   > [!NOTE]
   >  このトピックは、EDI スキーマ、パイプライン、およびオーケストレーションを含む BizTalk EDI アプリケーションに別のアプリケーションから参照を既に追加していることを前提としています。 そうでない場合は、次を参照してください。 [、BizTalk Server EDI アプリケーションへの参照を追加する方法](http://msdn.microsoft.com/library/7af066fb-372f-4709-b566-c8d6b4a9d782)します。  

2. プロジェクトを右クリックし、[**追加**、] をクリックし、**既存項目の**します。 スキーマがフォルダーに移動[!INCLUDE[btsBiztalkServerPath](../includes/btsbiztalkserverpath-md.md)]xsd_schema \edi\edifact\d98a, し、スキーマをダブルクリックします (**EFACT_D98A_APERAK.xsd**)。  

   > [!NOTE]
   >  使用する必要がありますこのトピックで提供されるサンプルのテスト メッセージを使用している場合、 **EFACT_D98A_APERAK.xsd**スキーマ。  

   > [!NOTE]
   >  EDI スキーマが \XSD_Schema\EDI フォルダーに展開されていないが、実行、 **MicrosoftEdiXSDTemplates.exe** \XSD_Schema\EDI フォルダーにスキーマを既定のフォルダーに解凍内のファイル。  

3. アセンブリ キー ファイルをプロジェクトに追加し、アセンブリをビルドして展開します。  

##### <a name="to-create-a-one-way-receive-port-for-fabrikam-to-receive-the-edi-interchange"></a>EDI インターチェンジを受信するための一方向の受信ポート (Fabrikam 用) を作成するには  

1. Windows エクスプローラーを使用して、インターチェンジを受信するローカル フォルダーを作成します。  

2. [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)]管理コンソールを右クリックし、**受信ポート**ノードの下、 **BizTalk アプリケーション 1**に**新規**をクリックして**一方向受信ポート**します。  

3. 受信ポートの名前を指定し、をクリックし、**受信場所**コンソール ツリーでします。  

4. **[新規]** をクリックします。  

5. [受信場所の名前**ファイル**の**型**、] をクリックし、**構成**。  

6. フォルダーを参照**受信フォルダー**テキスト ボックス。 このフォルダーは、この手順のステップ 1. で作成したフォルダーです。 ファイル マスクを入力します。  **\*.edi**または **\*.txt**します。  

7. **[OK]** をクリックします。  

8. **受信パイプライン**、 **EdiReceive**します。  

9. クリックして**OK**で、**受信場所のプロパティ** ダイアログ ボックス。 クリックして**OK**で再度、**受信ポートのプロパティ** ダイアログ ボックス。  

10. コンソール ツリーで、クリックして**受信場所**します。 **受信場所**ウィンドウを右クリックし、受信場所をクリックして**を有効にする**します。  

##### <a name="to-create-a-static-one-way-send-port-for-contoso-to-send-the-edi-interchange"></a>EDI インターチェンジを送信するための静的な一方向の送信ポート (Contoso 用) を作成するには  

1. Windows エクスプローラーを使用して、テスト インターチェンジを送信するローカル フォルダーを作成します。  

2. [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)]管理コンソールを右クリックし、**送信ポート**ノードの下、 **BizTalk アプリケーション 1**に**新規**をクリックして**静的な一方向送信ポート**します。  

3. **送信ポートのプロパティ**ダイアログ ボックスで、送信ポートの名前。  

4. **トランスポート**セクションで、**ファイル**の**型**、 をクリックし、**構成**します。  

5. **先フォルダー**インターチェンジを受信するフォルダーを参照します。 このフォルダーは、この手順のステップ 1. で作成したフォルダーです。 **ファイル マスク**、インターチェンジの形式を入力します。  **\*.edi**または **\*.txt**します。  

6. **[OK]** をクリックします。  

7. **送信パイプライン**、 **EdiSend**します。  

8. コンソール ツリーで、選択**フィルター**します。 EDI インターチェンジをサブスクライブするフィルターを入力します。 たとえば、**プロパティ**、入力**BTS します。MessageType**は**演算子**、入力**==**; と**値**、インターチェンジのスキーマを入力します。 `http://schemas.microsoft.com/BizTalk/EDI/EDIFACT/2006#EFACT_D98A_APERAK`。  

   > [!NOTE]
   >  前のフィルター設定では、この送信ポートに関連付けられたフォルダーに、受信確認ではなくインターチェンジが送信されます。  

9. **[OK]** をクリックします。  

10. コンソール ツリーで、クリックして**送信ポート**します。 **送信ポート**ウィンドウは、送信ポートを右クリックし をクリックし、**開始**します。  

##### <a name="to-create-a-static-one-way-send-port-to-send-the-acknowledgments"></a>静的な一方向の送信ポートを作成して確認を送信するには  

1. Windows エクスプローラーで、技術確認と機能確認の送信先となるローカル フォルダーを作成します。  

2. [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)]管理コンソールを右クリックし、**送信ポート**ノードの下、 **BizTalk アプリケーション 1**に**新規**をクリックして**静的な一方向送信ポート**します。  

3. **送信ポートのプロパティ**ダイアログ ボックスで、送信ポートの名前。  

4. **トランスポート**セクションで、**ファイル**の**型**、 をクリックし、**構成**します。  

5. **先フォルダー**、2 つの受信確認を受信するフォルダーを参照します。 このフォルダーは、この手順のステップ 1. で作成したフォルダーです。 **ファイル マスク**、インターチェンジの形式を入力します。  **\*.edi**または **\*.txt**します。  

6. **[OK]** をクリックします。  

7. **送信パイプライン**、 **EdiSend**します。  

8. コンソール ツリーで、選択**フィルター**します。 確認をサブスクライブするフィルターを入力します。 たとえば、**プロパティ**、入力**BTS します。MessageType**は**演算子**、入力**==**; と**値**、受信確認のスキーマを入力します。 `http://schemas.microsoft.com/Edi/Edifact#Efact_Contrl_Root`。  

9. **[OK]** をクリックします。  

10. コンソール ツリーで、クリックして**送信ポート**します。 **送信ポート**ウィンドウは、送信ポートを右クリックし をクリックし、**開始**します。  

##### <a name="to-create-a-party-and-a-business-profile-for-fabrikam"></a>Fabrikam のパーティとビジネス プロファイルを作成するには  

1. 右クリックし、**パーティ**内のノード、[!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)]管理コンソールで、 をポイント**新規**、 をクリックし、**パーティ**します。  

2. パーティの名前を入力、**名前**テキスト ボックス、およびクリック **[ok]** します。  

   > [!NOTE]
   >  選択して、**ローカル BizTalk 受信パーティまたはサポートがこのパーティからメッセージを送信したメッセージを処理**チェック ボックスをオンをホストしている同じ組織のパーティの作成中であること指定できる[!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)]. その指定に基づいて、アグリーメントを作成するときに一部のプロパティが有効または無効になります。 ただし、このチュートリアルでは、このチェック ボックスはオンのままでかまいません。  

3. パーティ名を右クリックし、[**新規**、] をクリックし、**ビジネス プロファイル**します。  

4. **プロファイル プロパティ**] ダイアログ ボックスの [、**全般**ページで、入力 **[fabrikam_profile]** で、**名前**テキスト ボックス。  

   > [!NOTE]
   >  パーティを作成すると、プロファイルも作成されます。 新しいプロファイルを作成する代わりに、そのプロファイルの名前を変更して使用できます。 プロファイルの名前を変更するには、プロファイルを右クリックして**プロパティ**します。 **全般** ページで、プロファイルの名前を指定します。  

##### <a name="to-create-a-party-and-a-business-profile-for-contoso"></a>Contoso のパーティとビジネス プロファイルを作成するには  

1. 右クリックし、**パーティ**内のノード、[!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)]管理コンソールで、 をポイント**新規**、 をクリックし、**パーティ**します。  

2. パーティの名前を入力、**名前**テキスト ボックス、およびクリック **[ok]** します。  

   > [!NOTE]
   >  選択して、**ローカル BizTalk 受信パーティまたはサポートがこのパーティからメッセージを送信したメッセージを処理**チェック ボックスをオンをホストしている同じ組織のパーティの作成中であること指定できる[!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)]. その指定に基づいて、アグリーメントを作成するときに一部のプロパティが有効または無効になります。 ただし、このチュートリアルでは、このチェック ボックスはオンのままでかまいません。  

3. パーティ名を右クリックし、[**新規**、] をクリックし、**ビジネス プロファイル**します。  

4. **プロファイル プロパティ**] ダイアログ ボックスの [、**全般**ページで、入力**Contoso_Profile**で、**名前**テキスト ボックス。  

   > [!NOTE]
   >  パーティを作成すると、プロファイルも作成されます。 新しいプロファイルを作成する代わりに、そのプロファイルの名前を変更して使用できます。 プロファイルの名前を変更するには、プロファイルを右クリックして**プロパティ**します。 **全般** ページで、プロファイルの名前を指定します。  

##### <a name="to-create-an-agreement-between-the-two-business-profiles"></a>2 つのビジネス プロファイル間のアグリーメントを作成するには  

1. 右クリック**fabrikam_profile**、 をポイント**新規**、 をクリックし、**契約**します。  

2. **全般プロパティ** ページの**名前**テキスト ボックスに、アグリーメントの名前を入力します。  

3. **プロトコル**ドロップダウン リストで、 **EDIFACT**します。  

4. **2 番目のパートナー**セクションから、**名前**ドロップダウン リストで、 **Contoso**します。  

5. **2 番目のパートナー**セクションから、**プロファイル**ドロップダウン リストで、 **Contoso_Profile**します。  

    2 つの新しいタブが横に追加の取得と表示されます、**全般**タブ。各タブに 1 つの一方向のアグリーメントを構成するようになっており、一方向の各アグリーメントが 1 つの完全なメッセージ トランザクション (メッセージの送信と受信確認の送信を含む) を表します。  

6. **全般** タブで、**全般プロパティ**ページで、**共通のホスト設定**セクションで、**レポートをオン**、し、選択**メッセージ ペイロードを格納するレポートの**します。  

7. 次のタスクを実行、 **Fabrikam が Contoso を ->** タブ。  

   1. **識別子**ページで、**インターチェンジの設定**セクションで、修飾子と識別子のフィールドの値を入力 (**UNB2.1**、 **[unb2.2]**、 **UNB3.1**、および**UNB3.2**) テスト メッセージのヘッダー フィールドの値に対応しています。  

      > [!NOTE]
      >  [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] では、アグリーメントの解決を実行するために、送信者と受信者の修飾子フィールドおよび ID フィールドを必ず指定する必要があります。 値と一致します**UNB2.1**、 **UNB2.2**、 **UNB3.1**、および**UNB3.2**のプロパティで、インターチェンジ ヘッダーで、契約です。 また、[!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] は、送信者の修飾子および識別子を照合して (受信者の修飾子および識別子は不要)、アグリーメントを解決します。 [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] では、アグリーメントを解決できない場合、フォールバック アグリーメントのプロパティが使用されます。  
      > 
      > [!NOTE]
      >  テスト メッセージとして、このトピックの前に示したサンプル メッセージを使用している場合は、設定**UNB2.1**に**7654321**、 **UNB2.2**に**ZZZ-相互定義**、 **UNB3.1**に**1234567**、および**UNB3.2**に**ZZZ-相互定義**します。  

   2. **受信確認**ページで、**インターチェンジの設定** セクションで、チェック**メッセージの受信 (CONTRL が必要です)** と**受信確認 (CONTRL) が必要**します。  

   3. **エンベロープ**ページで、**インターチェンジの設定** セクションで、チェック**適用の UNA セグメント (文字列サービス通知)** と**適用の UNG セグメント (機能グループ ヘッダー)** します。  

   4. **検証**ページで、**インターチェンジの設定**セクションをご確認ください**インターチェンジ制御番号 (UNB5)** オプションが選択されていません。  

      > [!NOTE]
      >  オフにすると、**インターチェンジ制御番号 (UNB5)** プロパティでは、同じメッセージの複数のインスタンスを受信することができます。  

   5. **文字セットと区切り記号**ページで、**インターチェンジの設定**セクションで、 **CR LF**オプション**UNA6 サフィックス**します。  

   6. **ローカル ホスト設定**ページで、**インターチェンジの設定** セクションで、クリア、**受信ポートで要求-応答送信パイプラインに確認をルーティング**オプション。  

      > [!NOTE]
      >  使用していた場合は、双方向の受信ポートをインターチェンジを受信し、受信確認を返す、ことを確認**受信ポートで要求-応答送信パイプラインに確認をルーティング**します。  

   7. **送信ポート**ページで、**インターチェンジの設定**セクションで、Fabrikam からインターチェンジを受信する送信ポートおよび受信する送信ポートを関連付けます、Contoso から受信確認。 **送信ポート**グリッドで、**名前**列が空のセルをクリックし、ボックスの一覧から、Fabrikam から EDI インターチェンジを受信するために作成した送信ポートを選択します。 します。 技術確認と機能確認の受信用に作成した送信ポートに対してこの手順を繰り返します。  

   8. **検証**ページで、**トランザクション セットの設定**セクションで、そのまま使用**EDI の種類の検証**に、チェック**型の検証を拡張する**.  

   9. 使用するかどうかに付属する標準スキーマのいずれかの[!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)]の**ローカル ホスト設定**ページで、**トランザクション セットの設定**セクションでを使用するスキーマの名前空間を選択します。受信インターチェンジを処理します。 カスタム スキーマを使用している場合は、値を入力します。、**カスタマイズのターゲットの名前空間**グリッド、ように[!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)]グループおよびトランザクションを使用して名前空間のセットのヘッダー値を確認できます。  

   10. **エンベロープ**ページで、**トランザクション セットの設定**セクションで、グリッドの最初の行のすべての列の値を入力します。  


       |          プロパティ           |                                目的                                 |
       |-----------------------------|---------------------------------------------------------------------------|
       |         **[Default]**         |                            選択**既定**します。                            |
       | **メッセージの種類 UNH2.1 の** |         テスト メッセージのメッセージの種類を選択します。 **APERAK**します。         |
       |         **UNH2.2**          |                       EDI のバージョンを入力**D**します。                       |
       |         **UNH2.3**          |                    リリース番号を入力**98 a**します。                     |
       |         **UNH2.5**          |                         空白のままにできます。                         |
       |    **ターゲットの名前空間**     |          選択 **<http://schemas.microsoft.com/Edi/Edifact>** します。           |
       |          **UNG1**           |               機能グループ ID を指定**INVOIC**します。                |
       |         **UNG2.1**          |         アプリケーション送信者 ID を表す値を入力します。          |
       |         **UNG2.1**          | アプリケーション送信者コードの修飾子の値を入力**ZZZ**します。 |
       |         **UNG3.1**          |          アプリケーション受信者 ID を表す値を入力します。           |
       |         **[UNG3.2]**          |  アプリケーション受信者コードの修飾子の値を入力**ZZZ**します。  |
       |          **UNG6**           |        制御機関の値を入力します。 例では、**解除**します。         |
       |         **UNG7.1**          |          メッセージの種類のバージョン番号を入力します。 例では、 **D**します。           |
       |         **UNG7.2**          |         メッセージの種類のリリース番号を入力します。 例では、 **98 a**します。          |
       |         **UNG7.3**          |                         空白のままにできます。                         |
       |          **UNG8**           |                         空白のままにできます。                         |


8. 次のタスクを実行、 **Contoso が Fabrikam]-> [** タブ。  

   > [!NOTE]
   >  このチュートリアルでは、必要な値をタブに指定し、アグリーメントを正常に作成できるようにします。 アグリーメントを正常に作成する両方の一方向アグリーメント タブの値に対して定義されている必要があります**UNG2.1**、 **UNG2.2**、 **UNG3.1**、および**UNG3.2**.  

   > [!NOTE]
   >  受信確認の生成方法に関連するプロパティが構成されている、受信確認が、同じメッセージ トランザクションの一部であって、 **Contoso が Fabrikam-> **タブ。これは、必要なため、受信確認コンテキスト プロパティで指定した値の逆に、送信者と受信者の修飾子を設定、 **Contoso が Fabrikam-> **タブ。たとえば場合、送信者と受信者の識別子が 7654321 と 1234567 に設定されて、 **Fabrikam が Contoso を ->**  タブでは、送信者と受信者のコンテキスト プロパティは、受信確認で 1234567 と 7654321 に設定されます。 通常、もう一方の一方向アグリーメントに関するタブでも、送信者 ID と受信者 ID がそれぞれ 1234567 と 7654321 に設定されます。 そのため、受信確認メッセージは、そのアグリーメントに従って解決され、プロパティの設定が取得されます。 そのため、別の要素の区切り記号または CR LF を使用する受信確認がある場合に使用する受信確認がある場合でプロパティを指定、 **Contoso が Fabrikam]-> [** タブ。  
   >   
   >  概念的には、任意の一方向アグリーメント タブを持つ同じ送信者から受信確認のプロパティが取得され、受信者の修飾子としてが受信確認のコンテキスト プロパティに設定します。 ただし、実際に使いやすいように、一般的には、インターチェンジの解決用に作成したアグリーメントのもう 1 つの一方向のアグリーメント タブでこの設定を行います。  

   1.  **識別子**ページで、**インターチェンジの設定**セクションで、修飾子と識別子のフィールドの値を入力 (**UNG2.1**、 **UNG2.2**、 **UNG3.1**、および**UNG3.2**) テスト メッセージのヘッダー フィールドの値に対応しています。  

       > [!NOTE]
       >  テスト メッセージとして、このトピックの前に示したサンプル メッセージを使用している場合は、設定**UNB2.1**に**1234567**、 **UNB2.2**に**ZZZ-相互定義**、 **UNB3.1**に**7654321**、および**UNB3.2**に**ZZZ-相互定義**します。  

9. **[適用]** をクリックします。  

10. **[OK]** をクリックします。 新しく追加したアグリーメントが一覧表示、**契約**のセクション、**パーティとビジネス プロファイル**ウィンドウ。 新しく追加したアグリーメントは既定で有効になります。  

### <a name="testing-the-walkthrough"></a>チュートリアルのテスト  
 ここでは、チュートリアルをテストする方法について説明します。  

##### <a name="to-test-the-walkthrough"></a>チュートリアルをテストするには  

1. Windows エクスプローラーで、テスト EDI インターチェンジをローカル受信フォルダーにドロップします。  

   > [!NOTE]
   >  このトピックの前半に示したサンプル メッセージをテスト メッセージとして使用できます。 メッセージをテキスト ファイルにコピーし、拡張子を .txt にしてファイルを保存します。 このメッセージを使用する場合は、EFACT_D98A_APERAK.xsd スキーマを展開しておく必要があります。 実行することによって、スキーマが使用可能な**MicrosoftEdiXSDTemplates.exe**ファイル (\XSD_Schema\EDI フォルダーにあります) を既定のフォルダーにスキーマを解凍します。 EFACT_D98A_APERAK.xsd スキーマは、[!INCLUDE[btsBiztalkServerPath](../includes/btsbiztalkserverpath-md.md)]XSD_Schema\EDI\EDIFACT\D98A にあります。  

2. インターチェンジ用の送信ポートに関連付けられたフォルダーを開き、そのフォルダーに EDI インターチェンジが含まれていることを確認します。  

3. 受信確認用の送信ポートに関連付けられたフォルダーを開き、そのフォルダーに技術確認と機能確認が含まれていることを確認します。  

## <a name="see-also"></a>参照  
 [BizTalk Server EDI ソリューションの開発と構成](../core/developing-and-configuring-biztalk-server-edi-solutions.md)