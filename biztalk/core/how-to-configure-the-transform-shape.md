---
title: "変換図形を構成する方法 |Microsoft ドキュメント"
ms.custom: 
ms.date: 06/08/2017
ms.prod: biztalk-server
ms.reviewer: 
ms.suite: 
ms.tgt_pltfrm: 
ms.topic: article
helpviewer_keywords:
- configuring [Orchestration Designer], Transform shape
- Transform shape [Orchestration Designer]
ms.assetid: ca81d153-77a6-4bcc-b14f-8f48469fffe0
caps.latest.revision: "8"
author: MandiOhlinger
ms.author: mandia
manager: anneta
ms.openlocfilehash: 48cdca50620262581469e924fbb2975dde7e91fe
ms.sourcegitcommit: cb908c540d8f1a692d01dc8f313e16cb4b4e696d
ms.translationtype: MT
ms.contentlocale: ja-JP
ms.lasthandoff: 09/20/2017
---
# <a name="how-to-configure-the-transform-shape"></a><span data-ttu-id="46b63-102">変換図形を構成する方法</span><span class="sxs-lookup"><span data-stu-id="46b63-102">How to Configure the Transform Shape</span></span>
![](../core/media/ebiz-orch-transform.gif "ebiz_orch_transform")  
<span data-ttu-id="46b63-103">変換図形</span><span class="sxs-lookup"><span data-stu-id="46b63-103">Transform shape</span></span>  
  
 <span data-ttu-id="46b63-104">変換は、そのため、メッセージを構築するときにのみ使用、**変換**内の図形が常に表示される、**メッセージの構築**図形です。</span><span class="sxs-lookup"><span data-stu-id="46b63-104">Transforms are only used when you construct messages, so your **Transform** shape always appears inside a **Construct Message** shape.</span></span> <span data-ttu-id="46b63-105">削除することができます、**メッセージの構築**デザイン画面で図形のしてから、削除、**変換**するか、内部の図形を削除するだけ、**変換**設計上の図形画面、および作成、囲んでいるオーケストレーション デザイナーは**メッセージの構築**図形です。</span><span class="sxs-lookup"><span data-stu-id="46b63-105">You can drop the **Construct Message** shape on the design surface and then drop the **Transform** shape inside it, or you can simply drop the **Transform** shape on the design surface, and Orchestration Designer will create the enclosing **Construct Message** shape for you.</span></span>  
  
> [!NOTE]
>  <span data-ttu-id="46b63-106">内の送信元または送信先のメッセージ、**変換**スキーマに基づいている必要があります。</span><span class="sxs-lookup"><span data-stu-id="46b63-106">Any source or destination message in a **Transform** must be based on a schema.</span></span>  
  
## <a name="procedure"></a><span data-ttu-id="46b63-107">手順</span><span class="sxs-lookup"><span data-stu-id="46b63-107">Procedure</span></span>  
  
#### <a name="to-configure-a-transform-shape"></a><span data-ttu-id="46b63-108">変換図形を構成するには</span><span class="sxs-lookup"><span data-stu-id="46b63-108">To configure a Transform shape</span></span>  
  
1.  <span data-ttu-id="46b63-109">[プロパティ] ウィンドウ、**省略記号**(**.**) ボタンをクリックして、**入力メッセージ**、**出力メッセージ**、または**マップ名**プロパティです。</span><span class="sxs-lookup"><span data-stu-id="46b63-109">In the Properties Window, click the **Ellipsis** (**...**) button for the **Input Messages**, **Output Messages**, or **Map Name** property.</span></span>  
  
2.  <span data-ttu-id="46b63-110">使用して、**変換の構成**を構成するダイアログ ボックス、**変換**図形です。</span><span class="sxs-lookup"><span data-stu-id="46b63-110">Use the **Transform Configuration** dialog box to configure the **Transform** shape.</span></span>  
  
> [!NOTE]
>  <span data-ttu-id="46b63-111">A**変換**図形を配置できる内でのみ、**メッセージの構築**図形です。</span><span class="sxs-lookup"><span data-stu-id="46b63-111">A **Transform** shape can exist only within a **Construct Message** shape.</span></span> <span data-ttu-id="46b63-112">ドラッグした場合、**メッセージの割り当て**図形のデザイン サーフェイスでは、他の場所から新しい**メッセージの構築**図形が作成されます。</span><span class="sxs-lookup"><span data-stu-id="46b63-112">If you drag a **Message Assignment** shape anywhere else on the design surface, a new **Construct Message** shape will be created.</span></span>  
  
### <a name="important-performance-considerations"></a><span data-ttu-id="46b63-113">パフォーマンスに関する重要な考慮事項</span><span class="sxs-lookup"><span data-stu-id="46b63-113">Important Performance Considerations</span></span>  
 [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)]<span data-ttu-id="46b63-114"> では、サイズの大きいメッセージに対して変換を実行する機能が最適化されます。つまり、サイズの大きいドキュメント全体を一度にメモリに読み込むのではなく、ストリーム方式で読み込みながら変換を適用します。</span><span class="sxs-lookup"><span data-stu-id="46b63-114"> optimizes the ability to perform transforms on large messages by streaming the document into memory while applying the transform as opposed to loading the entire document into memory at once.</span></span> <span data-ttu-id="46b63-115">この最適化により、以前のバージョンの BizTalk Server で制限されていたサイズよりも大きなサイズのドキュメントを、マップまたは変換できるようになりました。</span><span class="sxs-lookup"><span data-stu-id="46b63-115">This optimization permits the mapping/transformation of much larger documents than was possible with earlier versions of BizTalk Server.</span></span> <span data-ttu-id="46b63-116">ただしこの最適化を行う場合、オーケストレーションの変換図形で複数の入力または出力、あるいはその両方を受け入れるときに制限が発生します。</span><span class="sxs-lookup"><span data-stu-id="46b63-116">A limitation of this optimization occurs when an orchestration accepts multiple inputs and/or outputs to transform shapes.</span></span>  
  
 <span data-ttu-id="46b63-117">オーケストレーションの変換図形で複数の入力または出力、あるいはその両方を受け入れる場合、ドキュメントのストリーム処理は実行されず、メモリ使用量は著しく増大します。</span><span class="sxs-lookup"><span data-stu-id="46b63-117">If an orchestration accepts multiple inputs and/or outputs to transform shapes then document streaming is not performed and memory use is increased considerably.</span></span> <span data-ttu-id="46b63-118">この問題を回避する手段の 1 つとしては、オーケストレーションの変換図形で複数の入力または出力を受け入れないよう、1 つまたは複数の変換を受信パイプライン内で適用するという方法があります。</span><span class="sxs-lookup"><span data-stu-id="46b63-118">One possible workaround to this issue would be to apply the transform or transforms in a receive pipeline so that the orchestration never accepts more than a single input or a single output to a transform shape.</span></span>  
  
### <a name="newexisting-map-file"></a><span data-ttu-id="46b63-119">新しいマップ ファイルまたは既存のマップ ファイル</span><span class="sxs-lookup"><span data-stu-id="46b63-119">New/Existing Map File?</span></span>  
 <span data-ttu-id="46b63-120">このセクションでをクリックするか、**新しいマップ**または**既存のマップ**に割り当てるマップを選択するオプション ボタン、**変換**図形です。</span><span class="sxs-lookup"><span data-stu-id="46b63-120">In this section, you can click either the **New Map** or the **Existing Map** option button to select a map to assign to the **Transform** shape.</span></span>  
  
 <span data-ttu-id="46b63-121">使用して、**名前**フィールド マップを指定する選択したオプション ボタンの下。</span><span class="sxs-lookup"><span data-stu-id="46b63-121">Use the **Name** field below the selected option button to specify a map.</span></span> <span data-ttu-id="46b63-122">選択した場合は**新しいマップ**、割り当てるマップの名前を入力することができます。</span><span class="sxs-lookup"><span data-stu-id="46b63-122">If you selected **New Map**, you can type a designation for the map you want to assign.</span></span> <span data-ttu-id="46b63-123">使用すると、**新しいマップ**オプション、テキスト ボックスに、マップの完全修飾名を指定する必要があります。</span><span class="sxs-lookup"><span data-stu-id="46b63-123">When you use the **New Map** option, you must specify the fully qualified name of the map in the text box.</span></span> <span data-ttu-id="46b63-124">プロジェクトの名前空間に基づく一意の識別子の名前を持つことはあらかじめ設定されているため、テキスト ボックスが既定では、このような名前の例を表示および**変換**図形の名前:\<プロジェクトの名前空間 >.\<変換図形の名前 > _Map (例、MyProject.Transform3_Map)。</span><span class="sxs-lookup"><span data-stu-id="46b63-124">The text box displays an example of such a name by default, because it is pre-populated with a unique identifier name based on the project namespace and **Transform** shape name: \<Project namespace>.\<Transform shape name>_Map (for example, MyProject.Transform3_Map).</span></span>  
  
 <span data-ttu-id="46b63-125">選択した場合**既存のマップ**の下向き矢印をクリックして、**名前**フィールドを使用するマップ ファイルを選択します。</span><span class="sxs-lookup"><span data-stu-id="46b63-125">If you selected **Existing Map**, click the Down arrow in the **Name** field to select which map file to use.</span></span> <span data-ttu-id="46b63-126">このリスト ボックスには、プロジェクトで使用できるすべての既存のマップがアルファベット順に表示されます。</span><span class="sxs-lookup"><span data-stu-id="46b63-126">This list box displays an alphabetically sorted list of all the existing maps available in the project.</span></span> <span data-ttu-id="46b63-127">テキストをクリックした場合、この一覧に\<参照されたアセンブリから選択 > では、**成果物の種類の選択** ダイアログ ボックスが表示されます。</span><span class="sxs-lookup"><span data-stu-id="46b63-127">In this list, if you click the text \<Select from referenced assembly>, the **Select Artifact Type** dialog box is displayed.</span></span> <span data-ttu-id="46b63-128">使用できるように、選択の詳細については、次を参照してください。[成果物の種類の選択 ダイアログ ボックスを使用する方法](../core/how-to-use-the-select-artifact-type-dialog-box.md)です。</span><span class="sxs-lookup"><span data-stu-id="46b63-128">For more information about the selections it makes available, see [How to Use the Select Artifact Type Dialog Box](../core/how-to-use-the-select-artifact-type-dialog-box.md).</span></span>  
  
### <a name="select-source-and-destination-messages"></a><span data-ttu-id="46b63-129">変換元のメッセージと変換先のメッセージの選択</span><span class="sxs-lookup"><span data-stu-id="46b63-129">Select Source and Destination Messages</span></span>  
 <span data-ttu-id="46b63-130">この部分を使用して、**変換の構成**で選択したマップを構成するダイアログ ボックス、**新規または既存マップ ファイルですか?**セクションです。</span><span class="sxs-lookup"><span data-stu-id="46b63-130">Use this part of the **Transform Configuration** dialog box to configure the map you selected in the **New/Existing Map File?** section.</span></span> <span data-ttu-id="46b63-131">選択した場合は**新しいマップ**セクションでは、このセクションで構成することによってそのマップを作成します。</span><span class="sxs-lookup"><span data-stu-id="46b63-131">If you selected **New Map** in that section, you create that map by configuring it in this section.</span></span>  
  
 <span data-ttu-id="46b63-132">選択した場合**既存のマップ**、次の 2 つのいずれかの操作をこのセクションの内容を使用することができます。</span><span class="sxs-lookup"><span data-stu-id="46b63-132">If you selected **Existing Map**, you can use this section to do one of two things:</span></span>  
  
-   <span data-ttu-id="46b63-133">既存のマップを選択し、現在の変換でそのまま再使用する。</span><span class="sxs-lookup"><span data-stu-id="46b63-133">Select an existing map to reuse as-is in the current transform.</span></span>  
  
-   <span data-ttu-id="46b63-134">既存のマップを選択して変更 (再構成) し、現在の変換の新しい構成で使用する。</span><span class="sxs-lookup"><span data-stu-id="46b63-134">Select an existing map in order to change (reconfigure) it, and then use it in its new configuration in the current transform.</span></span>  
  
 <span data-ttu-id="46b63-135">使用して送信元と送信先のメッセージの指定、**ソース メッセージ**と**送信先メッセージ**グリッド コントロール。</span><span class="sxs-lookup"><span data-stu-id="46b63-135">Specify source and destination messages by using the **Source Messages** and **Destination Messages** grid controls.</span></span> <span data-ttu-id="46b63-136">これらのグリッド コントロールを使用すると、マップ ファイルをいくつかの方法で変更できます。</span><span class="sxs-lookup"><span data-stu-id="46b63-136">You can use these grid controls to change the map file in several ways.</span></span> <span data-ttu-id="46b63-137">各グリッド コントロールの行で示されるメッセージを削除、追加したり、別の種類のメッセージを選択する場合は、マップの構造を変更します。</span><span class="sxs-lookup"><span data-stu-id="46b63-137">If you delete a message (a row in either grid control), add a message, or select a message of a different type, you alter the structure of the map.</span></span> <span data-ttu-id="46b63-138">マップの構造を変更する場合は、そのマップを使用する他のすべての変換を、マップの新しい構造に合わせて変更する必要があります。</span><span class="sxs-lookup"><span data-stu-id="46b63-138">When you alter the structure of a map, all other transforms that use it must be changed to match the new structure of the map.</span></span> <span data-ttu-id="46b63-139">メッセージを削除して同じ種類のメッセージを代わりに挿入するなど、その他の変更の場合は、マップの構造を変更しないでください。</span><span class="sxs-lookup"><span data-stu-id="46b63-139">Other changes, such as removing a message and inserting in its place a message of the same type, do not alter the structure of the map.</span></span>  
  
 <span data-ttu-id="46b63-140">**ソース メッセージ**と**送信先メッセージ**グリッド コントロールは、外観や動作と同じです。</span><span class="sxs-lookup"><span data-stu-id="46b63-140">The **Source Messages** and **Destination Messages** grid controls are identical in appearance and behavior.</span></span> <span data-ttu-id="46b63-141">各グリッド コントロールが 2 つの列: メッセージと型。</span><span class="sxs-lookup"><span data-stu-id="46b63-141">Each grid control has two columns: Message and Type.</span></span> <span data-ttu-id="46b63-142">[メッセージ] 列でメッセージを選択すると、グリッド コントロールに行を追加できます</span><span class="sxs-lookup"><span data-stu-id="46b63-142">You populate the grid controls by selecting messages in the Message column.</span></span> <span data-ttu-id="46b63-143">(データは [メッセージ] 列にのみ追加でき、[種類] 列は読み取り専用です)。[メッセージ] 列のセルはドロップダウン リストになっており、現在のオーケストレーションのスコープ内にあるメッセージ インスタンスが表示されます。</span><span class="sxs-lookup"><span data-stu-id="46b63-143">(You add data only into the Message column, because the Type column is read-only.) The cells in the Message column have drop-down lists populated with message instances that are within scope for the current orchestration.</span></span>  
  
 <span data-ttu-id="46b63-144">クリックして、グリッド コントロールで行を選択することができます、*右矢印*グリッド コントロールの左側にある (>) ボタンをクリックします。</span><span class="sxs-lookup"><span data-stu-id="46b63-144">You can select a row in either grid control by clicking the *right arrow* (>) button at the left side of the grid control.</span></span> <span data-ttu-id="46b63-145">行を選択した後で <localizedText>Delete</localizedText> キーを押すと、その行を削除できます。</span><span class="sxs-lookup"><span data-stu-id="46b63-145">After you have selected a row, you can delete it by pressing the DELETE key.</span></span> <span data-ttu-id="46b63-146">行 (メッセージ) を削除すると、その行が含まれるマップ ファイルの構造が変更されます。</span><span class="sxs-lookup"><span data-stu-id="46b63-146">Deleting a row (a message) alters the structure of the map file that contained it.</span></span> <span data-ttu-id="46b63-147">編集できるマップ ファイルは、プロジェクトにローカルのマップ ファイルだけです。</span><span class="sxs-lookup"><span data-stu-id="46b63-147">You can modify only map files that are local to the project.</span></span>  
  
### <a name="when-i-click-ok-launch-the-biztalk-mapper"></a><span data-ttu-id="46b63-148">[[OK] をクリックしたら Biztalk マッパーを起動する]</span><span class="sxs-lookup"><span data-stu-id="46b63-148">When I click OK, launch the BizTalk Mapper</span></span>  
 <span data-ttu-id="46b63-149">クリックすると**ok をクリックしたら BizTalk マッパーを起動** をクリックすると、BizTalk マッパーを自動的に開きます**OK**を閉じる、**変換の構成** ダイアログ ボックスし、保存変更します。</span><span class="sxs-lookup"><span data-stu-id="46b63-149">Clicking **When I click OK, launch the BizTalk Mapper** opens BizTalk Mapper automatically when you click **OK** to close the **Transform Configuration** dialog box and save your changes.</span></span> <span data-ttu-id="46b63-150">ただし、必要な情報が不足している場合は変更を保存できません。</span><span class="sxs-lookup"><span data-stu-id="46b63-150">You cannot save changes, however, if required information is missing.</span></span> <span data-ttu-id="46b63-151">ここでは、ダイアログ ボックスのフィールドの入力を完了し、をクリックして**OK**です。</span><span class="sxs-lookup"><span data-stu-id="46b63-151">In this case, finish filling out the fields in the dialog box and then click **OK**.</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="46b63-152">参照</span><span class="sxs-lookup"><span data-stu-id="46b63-152">See Also</span></span>  
 <span data-ttu-id="46b63-153">[マップの概要](../core/about-maps.md) </span><span class="sxs-lookup"><span data-stu-id="46b63-153">[About Maps](../core/about-maps.md) </span></span>  
 <span data-ttu-id="46b63-154">[メッセージの構築](../core/constructing-messages.md) </span><span class="sxs-lookup"><span data-stu-id="46b63-154">[Constructing Messages](../core/constructing-messages.md) </span></span>  
 [<span data-ttu-id="46b63-155">メッセージを動的に変換する式を使用する方法</span><span class="sxs-lookup"><span data-stu-id="46b63-155">How to Use Expressions to Dynamic Transform Messages</span></span>](../core/how-to-use-expressions-to-dynamic-transform-messages.md)