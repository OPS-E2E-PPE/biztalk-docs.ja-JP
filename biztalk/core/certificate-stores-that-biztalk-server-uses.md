---
title: BizTalk Server で使用される証明書ストア |Microsoft Docs
ms.custom: ''
ms.date: 06/08/2017
ms.prod: biztalk-server
ms.reviewer: ''
ms.suite: ''
ms.tgt_pltfrm: ''
ms.topic: article
helpviewer_keywords:
- public key certificates
- certificate stores, warnings
- private key certificates
- certificates, private key
- Other People stores [certificates]
- certificate stores, Personal store
- Personal store [certificates]
- certificate stores, Windows stores
- certificates, public key
- certificates, certificate stores
- certificate stores
ms.assetid: 29b65913-be3b-45d9-9865-02e52e4370f4
caps.latest.revision: 11
author: MandiOhlinger
ms.author: mandia
manager: anneta
ms.openlocfilehash: 55164b3c96bf0cc5ee5c9eac7d0d70a04b2a9d5e
ms.sourcegitcommit: 381e83d43796a345488d54b3f7413e11d56ad7be
ms.translationtype: MT
ms.contentlocale: ja-JP
ms.lasthandoff: 05/07/2019
ms.locfileid: "65358019"
---
# <a name="certificate-stores-that-biztalk-server-uses"></a><span data-ttu-id="f1e24-102">BizTalk Server で使用される証明書ストア</span><span class="sxs-lookup"><span data-stu-id="f1e24-102">Certificate Stores that BizTalk Server Uses</span></span>
<span data-ttu-id="f1e24-103">BizTalk Server では、秘密キーの各ホスト インスタンス サービス アカウントの 2 種類の証明書ストア、公開キーには、その他のユーザー証明書ストアと、個人証明書ストアを使用します。</span><span class="sxs-lookup"><span data-stu-id="f1e24-103">BizTalk Server uses two types of certificate stores, the Other People certificate store for public keys, and the Personal certificate store for each host instance service account for the private key.</span></span>  
  
 <span data-ttu-id="f1e24-104">**その他のユーザーの証明書ストア。**</span><span class="sxs-lookup"><span data-stu-id="f1e24-104">**Other People certificate store.**</span></span> <span data-ttu-id="f1e24-105">公開キー証明書の名前が示すようはパブリックと格納されているコンピューターにアクセス権を持つすべてのユーザーがアクセスできます。</span><span class="sxs-lookup"><span data-stu-id="f1e24-105">Public key certificates, as their name implies, are public and accessible by anyone with access to the computer on which they are stored.</span></span> <span data-ttu-id="f1e24-106">BizTalk Server は、特定のパーティにメッセージを暗号化して、特定のパーティから受信したメッセージのデジタル署名を検証する公開キー証明書を使用します。</span><span class="sxs-lookup"><span data-stu-id="f1e24-106">BizTalk Server uses public key certificates to encrypt messages to specific parties and to verify the digital signatures for incoming messages from specific parties.</span></span> <span data-ttu-id="f1e24-107">Windows では、コンピューター上で使用する公開キー証明書にストアをその他のユーザーの証明書に提供します。</span><span class="sxs-lookup"><span data-stu-id="f1e24-107">Windows provides the Other People certificate store to store the public key certificates used on the computer.</span></span> <span data-ttu-id="f1e24-108">すべてのユーザーが読み取るし、このストアに証明書を使用し、Windows 管理者がこのストアを管理する権限を持っています。</span><span class="sxs-lookup"><span data-stu-id="f1e24-108">All users can read and use the certificates in this store, and Windows administrators have permissions to maintain this store.</span></span>  
  
> [!NOTE]
>  <span data-ttu-id="f1e24-109">ローカル コンピューターの Local machine \other People 証明書ストアに公開キー証明書を保存する必要があります、署名の検証またはリモートのパートナーに送信されるメッセージの暗号化に使用する BizTalk ホスト インスタンスが存在します。</span><span class="sxs-lookup"><span data-stu-id="f1e24-109">You must save the public key certificates on the Local Machine\Other People certificate store of the local computer where there is a BizTalk Host instance that is used to verify the signature or encrypt messages sent to a remote partner.</span></span>  
  
 <span data-ttu-id="f1e24-110">次の図は、BizTalk Server は公開キー証明書を使用するその他のユーザー証明書ストアを示しています。</span><span class="sxs-lookup"><span data-stu-id="f1e24-110">The following figure shows the Other People certificate store that BizTalk Server uses for public key certificates:</span></span>  
  
 <span data-ttu-id="f1e24-111">![他のユーザーの証明書ストア](../core/media/bpi-sp-msgsec-otherpeoplecertstore.gif "BPI_SP_MSGSEC_OTHERPEOPLECERTSTORE")</span><span class="sxs-lookup"><span data-stu-id="f1e24-111">![Other People's Certificates Store](../core/media/bpi-sp-msgsec-otherpeoplecertstore.gif "BPI_SP_MSGSEC_OTHERPEOPLECERTSTORE")</span></span>  
  
 <span data-ttu-id="f1e24-112">**個人証明書ストア。**</span><span class="sxs-lookup"><span data-stu-id="f1e24-112">**Personal certificate store.**</span></span> <span data-ttu-id="f1e24-113">BizTalk Server では、受信メッセージの解読し、送信メッセージの署名に秘密キー証明書を使用します。</span><span class="sxs-lookup"><span data-stu-id="f1e24-113">BizTalk Server uses private key certificates to decrypt incoming messages and sign outbound messages.</span></span> <span data-ttu-id="f1e24-114">コンピューターで対話型ログオンに有効になっているすべての Windows アカウントが、そのアカウントのみがアクセスできるオペレーティング システムによって格納個人証明書。</span><span class="sxs-lookup"><span data-stu-id="f1e24-114">Every Windows account enabled to log on interactively on a computer has a personal certificate store by the operating system, which only that account can access.</span></span> <span data-ttu-id="f1e24-115">BizTalk Server では、各ホスト インスタンス サービス アカウントの個人証明書ストアを使用して、各サービス アカウントにアクセス権の秘密キー証明書にアクセスします。</span><span class="sxs-lookup"><span data-stu-id="f1e24-115">BizTalk Server uses the personal certificate stores for each of the host instances service accounts to access the private key certificates to which each service account has access.</span></span> <span data-ttu-id="f1e24-116">証明書ストアの所有者のみがアクセスし、個人証明書ストアを管理できます。</span><span class="sxs-lookup"><span data-stu-id="f1e24-116">Only owners of the certificate store can access and maintain their personal certificate stores.</span></span> <span data-ttu-id="f1e24-117">つまり、する必要がありますログインする各コンピューターにことはホスト S/MIME デコード パイプラインとして各のホストのサービス アカウント、および証明書スナップインを使用してストアを復号化証明書を個人証明書をインポートします。</span><span class="sxs-lookup"><span data-stu-id="f1e24-117">In other words, you must log in into each computer that will host S/MIME decode pipelines as each host service account, and import the decryption certificate to the personal certificate store using the Certificates snap-in.</span></span>  
  
 <span data-ttu-id="f1e24-118">次の図は、秘密キー証明書に BizTalk Server を使用する個人用証明書ストアを示しています。</span><span class="sxs-lookup"><span data-stu-id="f1e24-118">The following figure shows the Personal certificate store that BizTalk Server uses for private key certificates:</span></span>  
  
 <span data-ttu-id="f1e24-119">![現在のユーザーの証明書ストア](../core/media/bpi-sp-msgsec-mystore.gif "BPI_SP_MSGSEC_MYSTORE")</span><span class="sxs-lookup"><span data-stu-id="f1e24-119">![Current User's Certificates Store](../core/media/bpi-sp-msgsec-mystore.gif "BPI_SP_MSGSEC_MYSTORE")</span></span>  
  
> [!IMPORTANT]
>  <span data-ttu-id="f1e24-120">BizTalk に解読や送信署名証明書を必要とする実行中のホスト インスタンスをされている各コンピューターでは各ホスト インスタンス サービス アカウントの Current user \personal 証明書ストアには、秘密キー証明書を保存する必要があります。メッセージ。</span><span class="sxs-lookup"><span data-stu-id="f1e24-120">The private key certificates must be stored in the Current User\Personal certificate store for each host instance service account on each computer that has a BizTalk a running host instance that requires the certificate for decryption or for signing outbound messages.</span></span>  
  
> [!NOTE]
>  <span data-ttu-id="f1e24-121">秘密キーを使用して送信メッセージに署名するためのサービス アカウントの個人証明書ストアに証明書を追加した後は、BizTalk 管理コンソールでこの署名証明書を指定することも必要があります。</span><span class="sxs-lookup"><span data-stu-id="f1e24-121">After you have added the certificate with the private key to the personal certificate store of the service accounts that will sign outbound messages, you must also specify this signing certificate in the BizTalk Administration console.</span></span> <span data-ttu-id="f1e24-122">詳細については、次を参照してください。[署名付きメッセージの送信用の BizTalk Server を構成する方法](../core/how-to-configure-biztalk-server-for-sending-signed-messages.md)します。</span><span class="sxs-lookup"><span data-stu-id="f1e24-122">For more information, see [How to Configure BizTalk Server for Sending Signed Messages](../core/how-to-configure-biztalk-server-for-sending-signed-messages.md).</span></span>  
  
> [!NOTE]
>  <span data-ttu-id="f1e24-123">スライドをインポートするスクリプトと証明書のエクスポートなどのプログラムによる操作の際、個人証明書ストアにも、MY 証明書ストアが呼び出されます。</span><span class="sxs-lookup"><span data-stu-id="f1e24-123">The personal certificate store is also called the MY certificate store when it is used for programmatic operations, such as scripting the importing and exporting of certificates.</span></span>  
  
 <span data-ttu-id="f1e24-124">次の表では、各 Windows 証明書ストアにインストールする必要がある証明書について説明します。</span><span class="sxs-lookup"><span data-stu-id="f1e24-124">The following table describes the certificates that you must install in each Windows certificate store.</span></span>  
  
### <a name="table-1-certificates-for-each-windows-certificate-store"></a><span data-ttu-id="f1e24-125">表 1 の証明書の各 Windows 証明書ストア</span><span class="sxs-lookup"><span data-stu-id="f1e24-125">Table 1 Certificates for each Windows certificate store</span></span>  
  
|<span data-ttu-id="f1e24-126">**証明書の目的**</span><span class="sxs-lookup"><span data-stu-id="f1e24-126">**Certificate purpose**</span></span>|<span data-ttu-id="f1e24-127">**証明書の種類**</span><span class="sxs-lookup"><span data-stu-id="f1e24-127">**Certificate type**</span></span>|<span data-ttu-id="f1e24-128">**証明書ストア**</span><span class="sxs-lookup"><span data-stu-id="f1e24-128">**Certificate store**</span></span>|  
|-----------------------------|--------------------------|---------------------------|  
|<span data-ttu-id="f1e24-129">署名</span><span class="sxs-lookup"><span data-stu-id="f1e24-129">Signing</span></span>|<span data-ttu-id="f1e24-130">独自の秘密キー</span><span class="sxs-lookup"><span data-stu-id="f1e24-130">Own private key</span></span>|<span data-ttu-id="f1e24-131">MIME/SMIME エンコーダー パイプライン コンポーネントはメッセージに署名するように構成、送信パイプラインに含まれるホスト インスタンスの場合は、各サービス アカウントの個人用ストア (**署名証明書をメッセージに追加**プロパティに設定`True`)。</span><span class="sxs-lookup"><span data-stu-id="f1e24-131">Personal store for each service account of a host instance that has a send pipeline with a MIME/SMIME Encoder pipeline component configured to sign messages (**Add Signing Cert To Message** property set to `True`).</span></span> <span data-ttu-id="f1e24-132">詳細については、次を参照してください[署名付きメッセージの送信用の BizTalk Server を構成する方法。](../core/how-to-configure-biztalk-server-for-sending-signed-messages.md)</span><span class="sxs-lookup"><span data-stu-id="f1e24-132">For more information, see [How to Configure BizTalk Server for Sending Signed Messages](../core/how-to-configure-biztalk-server-for-sending-signed-messages.md)</span></span>|  
|<span data-ttu-id="f1e24-133">署名の検証</span><span class="sxs-lookup"><span data-stu-id="f1e24-133">Verifying signature</span></span>|<span data-ttu-id="f1e24-134">パートナーの公開キー</span><span class="sxs-lookup"><span data-stu-id="f1e24-134">Partner's public key</span></span>|<span data-ttu-id="f1e24-135">他のユーザーは、MIME/SMIME デコーダー パイプライン コンポーネントの受信パイプラインに含まれるホスト インスタンスがある各コンピューターに格納します。</span><span class="sxs-lookup"><span data-stu-id="f1e24-135">Other People store on each computer that has a host instance that has a receive pipeline with a MIME/SMIME Decoder pipeline component.</span></span> <span data-ttu-id="f1e24-136">詳細については、次を参照してください。[署名付きメッセージの受信用の BizTalk Server を構成する方法](../core/how-to-configure-biztalk-server-for-receiving-signed-messages.md)します。</span><span class="sxs-lookup"><span data-stu-id="f1e24-136">For more information, see [How to Configure BizTalk Server for Receiving Signed Messages](../core/how-to-configure-biztalk-server-for-receiving-signed-messages.md).</span></span>|  
|<span data-ttu-id="f1e24-137">復号化</span><span class="sxs-lookup"><span data-stu-id="f1e24-137">Decrypting</span></span>|<span data-ttu-id="f1e24-138">独自の秘密キー</span><span class="sxs-lookup"><span data-stu-id="f1e24-138">Own private key</span></span>|<span data-ttu-id="f1e24-139">MIME/SMIME デコーダー パイプライン コンポーネントの受信パイプラインに含まれるホスト インスタンスの場合は、各サービス アカウントの個人用ストア。</span><span class="sxs-lookup"><span data-stu-id="f1e24-139">Personal store for each service account of a host instance that has a receive pipeline with a MIME/SMIME Decoder pipeline component.</span></span> <span data-ttu-id="f1e24-140">詳細については、次を参照してください。[暗号化されたメッセージの受信用の BizTalk Server を構成する方法](../core/how-to-configure-biztalk-server-for-receiving-encrypted-messages.md)します。</span><span class="sxs-lookup"><span data-stu-id="f1e24-140">For more information, see [How to Configure BizTalk Server for Receiving Encrypted Messages](../core/how-to-configure-biztalk-server-for-receiving-encrypted-messages.md).</span></span>|  
|<span data-ttu-id="f1e24-141">暗号化</span><span class="sxs-lookup"><span data-stu-id="f1e24-141">Encrypting</span></span>|<span data-ttu-id="f1e24-142">パートナーの公開キー</span><span class="sxs-lookup"><span data-stu-id="f1e24-142">Partner's public key</span></span>|<span data-ttu-id="f1e24-143">その他の"人"ストア MIME/SMIME エンコーダー パイプライン コンポーネントはメッセージを暗号化するように構成、送信パイプラインに含まれるホスト インスタンスがある各コンピューター (**暗号化を有効にする**プロパティに設定`True)`します。</span><span class="sxs-lookup"><span data-stu-id="f1e24-143">Other People store on each computer that has a host instance that has a send pipeline with a MIME/SMIME Encoder pipeline component configured to encrypt messages (**Enable encryption** property set to `True)`.</span></span> <span data-ttu-id="f1e24-144">詳細については、次を参照してください。[暗号化されたメッセージの送信用 BizTalk Server を構成する方法](../core/how-to-configure-biztalk-server-for-sending-encrypted-messages.md)します。</span><span class="sxs-lookup"><span data-stu-id="f1e24-144">For more information, see [How to Configure BizTalk Server for Sending Encrypted Messages](../core/how-to-configure-biztalk-server-for-sending-encrypted-messages.md).</span></span>|  
|<span data-ttu-id="f1e24-145">パーティの解決</span><span class="sxs-lookup"><span data-stu-id="f1e24-145">Party resolution</span></span>|<span data-ttu-id="f1e24-146">パートナーの公開キー</span><span class="sxs-lookup"><span data-stu-id="f1e24-146">Partner's public key</span></span>|<span data-ttu-id="f1e24-147">他のユーザーは、パーティの解決を構成する管理コンピューターに保存します。</span><span class="sxs-lookup"><span data-stu-id="f1e24-147">Other People store on the administration computer from which you are configuring party resolution.</span></span> <span data-ttu-id="f1e24-148">詳細については、次を参照してください。[パーティの解決用の証明書を使用して](../core/using-certificates-for-party-resolution.md)します。</span><span class="sxs-lookup"><span data-stu-id="f1e24-148">For more information, see [Using Certificates for Party Resolution](../core/using-certificates-for-party-resolution.md).</span></span>|  
  
 <span data-ttu-id="f1e24-149">次の図は、メッセージの受信専用証明書が必要なすべての証明書に格納する BizTalk Server を示します。</span><span class="sxs-lookup"><span data-stu-id="f1e24-149">The following figure shows what certificates you will need in each certificate store on a BizTalk Server dedicated to receiving messages.</span></span>  
  
 <span data-ttu-id="f1e24-150">![セキュリティで保護されたメッセージを受信するために必要な証明書](../core/media/bpi-sp-msgsec-certmgmt-certstores-receive.gif "BPI_SP_MSGSEC_CertMgmt_CertStores_Receive")</span><span class="sxs-lookup"><span data-stu-id="f1e24-150">![Certificates required to receive secure messages](../core/media/bpi-sp-msgsec-certmgmt-certstores-receive.gif "BPI_SP_MSGSEC_CertMgmt_CertStores_Receive")</span></span>  
  
 <span data-ttu-id="f1e24-151">次の図は、メッセージを送信する証明書が必要なすべての証明書に格納する BizTalk Server の専用を示します。</span><span class="sxs-lookup"><span data-stu-id="f1e24-151">The following figure shows what certificates you will need in each certificate store on a BizTalk Server dedicated to sending messages.</span></span>  
  
 <span data-ttu-id="f1e24-152">![セキュリティで保護されたメッセージを送信するために必要な証明書](../core/media/bpi-sp-msgsec-certmgmt-certstores-send.gif "BPI_SP_MSGSEC_CertMgmt_CertStores_Send")</span><span class="sxs-lookup"><span data-stu-id="f1e24-152">![Certificates required to send secure messages](../core/media/bpi-sp-msgsec-certmgmt-certstores-send.gif "BPI_SP_MSGSEC_CertMgmt_CertStores_Send")</span></span>  
  
 <span data-ttu-id="f1e24-153">証明書ストアと Microsoft 管理コンソール (MMC) の証明書スナップインの詳細については、Windows のヘルプで「証明書コンソール」を検索します。</span><span class="sxs-lookup"><span data-stu-id="f1e24-153">For more information about the Certificate stores and the Certificate snap-in for the Microsoft Management Console (MMC), search for "Certificate console" on the Windows Help.</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="f1e24-154">参照</span><span class="sxs-lookup"><span data-stu-id="f1e24-154">See Also</span></span>  
 <span data-ttu-id="f1e24-155">[BizTalk Server は、署名付きメッセージで使用する証明書](../core/certificates-that-biztalk-server-uses-for-signed-messages.md) </span><span class="sxs-lookup"><span data-stu-id="f1e24-155">[Certificates that BizTalk Server Uses for Signed Messages](../core/certificates-that-biztalk-server-uses-for-signed-messages.md) </span></span>  
 <span data-ttu-id="f1e24-156">[BizTalk Server は、暗号化されたメッセージで使用する証明書](../core/certificates-that-biztalk-server-uses-for-encrypted-messages.md) </span><span class="sxs-lookup"><span data-stu-id="f1e24-156">[Certificates that BizTalk Server Uses for Encrypted Messages](../core/certificates-that-biztalk-server-uses-for-encrypted-messages.md) </span></span>  
 <span data-ttu-id="f1e24-157">[暗号化および署名証明書](../core/encryption-and-signing-certificates.md) </span><span class="sxs-lookup"><span data-stu-id="f1e24-157">[Encryption and Signing Certificates](../core/encryption-and-signing-certificates.md) </span></span>  
 [<span data-ttu-id="f1e24-158">メッセージ セキュリティの実装</span><span class="sxs-lookup"><span data-stu-id="f1e24-158">Implementing Message Security</span></span>](../core/implementing-message-security.md)