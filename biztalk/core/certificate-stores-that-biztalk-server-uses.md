---
title: "BizTalk Server で使用される証明書ストア |Microsoft ドキュメント"
ms.custom: 
ms.date: 06/08/2017
ms.prod: biztalk-server
ms.reviewer: 
ms.suite: 
ms.tgt_pltfrm: 
ms.topic: article
helpviewer_keywords:
- public key certificates
- certificate stores, warnings
- private key certificates
- certificates, private key
- Other People stores [certificates]
- certificate stores, Personal store
- Personal store [certificates]
- certificate stores, Windows stores
- certificates, public key
- certificates, certificate stores
- certificate stores
ms.assetid: 29b65913-be3b-45d9-9865-02e52e4370f4
caps.latest.revision: "11"
author: MandiOhlinger
ms.author: mandia
manager: anneta
ms.openlocfilehash: b142ff5b9c9007a86b09acd25f53f8c88796988c
ms.sourcegitcommit: cb908c540d8f1a692d01dc8f313e16cb4b4e696d
ms.translationtype: MT
ms.contentlocale: ja-JP
ms.lasthandoff: 09/20/2017
---
# <a name="certificate-stores-that-biztalk-server-uses"></a><span data-ttu-id="05e8f-102">BizTalk Server で使用される証明書ストア</span><span class="sxs-lookup"><span data-stu-id="05e8f-102">Certificate Stores that BizTalk Server Uses</span></span>
<span data-ttu-id="05e8f-103">BizTalk Server では、2 種類の証明書ストアが使用されます。公開キーには "ほかの人" 証明書ストアが使用され、秘密キーには各ホスト インスタンス サービス アカウント用の個人証明書ストアが使用されます。</span><span class="sxs-lookup"><span data-stu-id="05e8f-103">BizTalk Server uses two types of certificate stores, the Other People certificate store for public keys, and the Personal certificate store for each host instance service account for the private key.</span></span>  
  
 <span data-ttu-id="05e8f-104">**その他のユーザーの証明書ストア。**</span><span class="sxs-lookup"><span data-stu-id="05e8f-104">**Other People certificate store.**</span></span> <span data-ttu-id="05e8f-105">: 公開キー証明書は、その名前が意味するとおり、公開された証明書であり、証明書が保存されているコンピューターへのアクセスが許可されているユーザーであればだれでもアクセスできます。</span><span class="sxs-lookup"><span data-stu-id="05e8f-105">Public key certificates, as their name implies, are public and accessible by anyone with access to the computer on which they are stored.</span></span> <span data-ttu-id="05e8f-106">BizTalk Server では、公開キー証明書を使用して特定のパーティへのメッセージを暗号化したり、特定のパーティからの受信メッセージのデジタル署名を確認します。</span><span class="sxs-lookup"><span data-stu-id="05e8f-106">BizTalk Server uses public key certificates to encrypt messages to specific parties and to verify the digital signatures for incoming messages from specific parties.</span></span> <span data-ttu-id="05e8f-107">"ほかの人" 証明書ストアは Windows で提供され、ストアにはコンピュータで使用される公開キー証明書が保存されます。</span><span class="sxs-lookup"><span data-stu-id="05e8f-107">Windows provides the Other People certificate store to store the public key certificates used on the computer.</span></span> <span data-ttu-id="05e8f-108">このストアにある証明書はすべてのユーザーが読み取りおよび使用できます。このストアを管理する権限は Windows 管理者が持っています。</span><span class="sxs-lookup"><span data-stu-id="05e8f-108">All users can read and use the certificates in this store, and Windows administrators have permissions to maintain this store.</span></span>  
  
> [!NOTE]
>  <span data-ttu-id="05e8f-109">公開キー証明書は、BizTalk ホスト インスタンスが置かれているローカル コンピュータの Local Machine\Other People 証明書ストアに保存する必要があります。ホスト インスタンスは、署名の確認やリモートのパートナーに送信するメッセージの暗号化に使用されます。</span><span class="sxs-lookup"><span data-stu-id="05e8f-109">You must save the public key certificates on the Local Machine\Other People certificate store of the local computer where there is a BizTalk Host instance that is used to verify the signature or encrypt messages sent to a remote partner.</span></span>  
  
 <span data-ttu-id="05e8f-110">次の図に、BizTalk Server で公開キー証明書に対して使用される "ほかの人" 証明書ストアを示します。</span><span class="sxs-lookup"><span data-stu-id="05e8f-110">The following figure shows the Other People certificate store that BizTalk Server uses for public key certificates:</span></span>  
  
 <span data-ttu-id="05e8f-111">![その他のユーザーの証明書ストア](../core/media/bpi-sp-msgsec-otherpeoplecertstore.gif "BPI_SP_MSGSEC_OTHERPEOPLECERTSTORE")</span><span class="sxs-lookup"><span data-stu-id="05e8f-111">![Other People's Certificates Store](../core/media/bpi-sp-msgsec-otherpeoplecertstore.gif "BPI_SP_MSGSEC_OTHERPEOPLECERTSTORE")</span></span>  
  
 <span data-ttu-id="05e8f-112">**個人証明書ストア。**</span><span class="sxs-lookup"><span data-stu-id="05e8f-112">**Personal certificate store.**</span></span> <span data-ttu-id="05e8f-113">BizTalk Server では、秘密キー証明書を使用して、受信メッセージの解読や送信メッセージの署名を行います。</span><span class="sxs-lookup"><span data-stu-id="05e8f-113">BizTalk Server uses private key certificates to decrypt incoming messages and sign outbound messages.</span></span> <span data-ttu-id="05e8f-114">コンピューターに対話形式でログオンできるすべての Windows アカウントには、オペレーティング システムによって個人証明書ストアが作成されます。証明書ストアには、そのアカウントのみがアクセスできます。</span><span class="sxs-lookup"><span data-stu-id="05e8f-114">Every Windows account enabled to log on interactively on a computer has a personal certificate store by the operating system, which only that account can access.</span></span> <span data-ttu-id="05e8f-115">BizTalk Server では、ホスト インスタンス サービス アカウントごとの個人証明書ストアを使用して、各サービス アカウントがアクセスできる秘密キー証明書にアクセスします。</span><span class="sxs-lookup"><span data-stu-id="05e8f-115">BizTalk Server uses the personal certificate stores for each of the host instances service accounts to access the private key certificates to which each service account has access.</span></span> <span data-ttu-id="05e8f-116">個人証明書ストアにアクセスし、管理できるのはその証明書ストアの所有者のみです。</span><span class="sxs-lookup"><span data-stu-id="05e8f-116">Only owners of the certificate store can access and maintain their personal certificate stores.</span></span> <span data-ttu-id="05e8f-117">つまり、ホスト サービス アカウントごとに S/MIME デコード パイプラインをホストする各コンピュータにログオンし、証明書スナップインを使用して解読証明書を個人証明書ストアにインポートする必要があります。</span><span class="sxs-lookup"><span data-stu-id="05e8f-117">In other words, you must log in into each computer that will host S/MIME decode pipelines as each host service account, and import the decryption certificate to the personal certificate store using the Certificates snap-in.</span></span>  
  
 <span data-ttu-id="05e8f-118">次の図に、BizTalk Server で秘密キー証明書に対して使用される個人証明書ストアを示します。</span><span class="sxs-lookup"><span data-stu-id="05e8f-118">The following figure shows the Personal certificate store that BizTalk Server uses for private key certificates:</span></span>  
  
 <span data-ttu-id="05e8f-119">![現在のユーザーの証明書ストア](../core/media/bpi-sp-msgsec-mystore.gif "BPI_SP_MSGSEC_MYSTORE")</span><span class="sxs-lookup"><span data-stu-id="05e8f-119">![Current User's Certificates Store](../core/media/bpi-sp-msgsec-mystore.gif "BPI_SP_MSGSEC_MYSTORE")</span></span>  
  
> [!IMPORTANT]
>  <span data-ttu-id="05e8f-120">秘密キー証明書は、各コンピュータでホスト インスタンス サービス アカウントごとに設定されている Current User\Personal 証明書ストアに保存する必要があります。BizTalk ホスト インスタンスでは解読や送信メッセージの署名の実行にこの証明書が必要です。</span><span class="sxs-lookup"><span data-stu-id="05e8f-120">The private key certificates must be stored in the Current User\Personal certificate store for each host instance service account on each computer that has a BizTalk a running host instance that requires the certificate for decryption or for signing outbound messages.</span></span>  
  
> [!NOTE]
>  <span data-ttu-id="05e8f-121">送信メッセージへの署名に使う秘密キー証明書をサービス アカウントの個人証明書ストアに追加した後は、BizTalk 管理コンソールでこの署名証明書を指定する必要もあります。</span><span class="sxs-lookup"><span data-stu-id="05e8f-121">After you have added the certificate with the private key to the personal certificate store of the service accounts that will sign outbound messages, you must also specify this signing certificate in the BizTalk Administration console.</span></span> <span data-ttu-id="05e8f-122">詳細については、次を参照してください。[署名付きメッセージを送信する、BizTalk Server を構成する方法](../core/how-to-configure-biztalk-server-for-sending-signed-messages.md)です。</span><span class="sxs-lookup"><span data-stu-id="05e8f-122">For more information, see [How to Configure BizTalk Server for Sending Signed Messages](../core/how-to-configure-biztalk-server-for-sending-signed-messages.md).</span></span>  
  
> [!NOTE]
>  <span data-ttu-id="05e8f-123">個人証明書ストアは、証明書のインポートやエクスポートをスクリプト記述するなどのプログラム操作に使用する場合、MY 証明書ストアとも呼ばれます。</span><span class="sxs-lookup"><span data-stu-id="05e8f-123">The personal certificate store is also called the MY certificate store when it is used for programmatic operations, such as scripting the importing and exporting of certificates.</span></span>  
  
 <span data-ttu-id="05e8f-124">次の表で、各 Windows 証明書ストアにインストールする必要がある証明書を説明します。</span><span class="sxs-lookup"><span data-stu-id="05e8f-124">The following table describes the certificates that you must install in each Windows certificate store.</span></span>  
  
### <a name="table-1-certificates-for-each-windows-certificate-store"></a><span data-ttu-id="05e8f-125">表 1 Windows 証明書ストアごとの証明書</span><span class="sxs-lookup"><span data-stu-id="05e8f-125">Table 1 Certificates for each Windows certificate store</span></span>  
  
|<span data-ttu-id="05e8f-126">**証明書の目的**</span><span class="sxs-lookup"><span data-stu-id="05e8f-126">**Certificate purpose**</span></span>|<span data-ttu-id="05e8f-127">**証明書の種類**</span><span class="sxs-lookup"><span data-stu-id="05e8f-127">**Certificate type**</span></span>|<span data-ttu-id="05e8f-128">**証明書ストア**</span><span class="sxs-lookup"><span data-stu-id="05e8f-128">**Certificate store**</span></span>|  
|-----------------------------|--------------------------|---------------------------|  
|<span data-ttu-id="05e8f-129">署名</span><span class="sxs-lookup"><span data-stu-id="05e8f-129">Signing</span></span>|<span data-ttu-id="05e8f-130">固有の秘密キー</span><span class="sxs-lookup"><span data-stu-id="05e8f-130">Own private key</span></span>|<span data-ttu-id="05e8f-131">MIME/SMIME エンコーダー パイプライン コンポーネントはメッセージに署名するように構成、送信パイプラインをあるホスト インスタンスの場合は、各サービス アカウントの個人用ストア (**署名証明書をメッセージの追加**プロパティに設定`True`)。</span><span class="sxs-lookup"><span data-stu-id="05e8f-131">Personal store for each service account of a host instance that has a send pipeline with a MIME/SMIME Encoder pipeline component configured to sign messages (**Add Signing Cert To Message** property set to `True`).</span></span> <span data-ttu-id="05e8f-132">詳細については、次を参照してください[署名付きメッセージを送信する、BizTalk Server を構成する方法。](../core/how-to-configure-biztalk-server-for-sending-signed-messages.md)</span><span class="sxs-lookup"><span data-stu-id="05e8f-132">For more information, see [How to Configure BizTalk Server for Sending Signed Messages](../core/how-to-configure-biztalk-server-for-sending-signed-messages.md)</span></span>|  
|<span data-ttu-id="05e8f-133">署名の検証</span><span class="sxs-lookup"><span data-stu-id="05e8f-133">Verifying signature</span></span>|<span data-ttu-id="05e8f-134">パートナーの公開キー</span><span class="sxs-lookup"><span data-stu-id="05e8f-134">Partner's public key</span></span>|<span data-ttu-id="05e8f-135">ホスト インスタンスが置かれている各コンピュータの "ほかの人" ストア。ホスト インスタンスの受信パイプラインには、MIME/SMIME デコーダ パイプライン コンポーネントが含まれます。</span><span class="sxs-lookup"><span data-stu-id="05e8f-135">Other People store on each computer that has a host instance that has a receive pipeline with a MIME/SMIME Decoder pipeline component.</span></span> <span data-ttu-id="05e8f-136">詳細については、次を参照してください。[署名付きメッセージの受信、BizTalk Server を構成する方法](../core/how-to-configure-biztalk-server-for-receiving-signed-messages.md)です。</span><span class="sxs-lookup"><span data-stu-id="05e8f-136">For more information, see [How to Configure BizTalk Server for Receiving Signed Messages](../core/how-to-configure-biztalk-server-for-receiving-signed-messages.md).</span></span>|  
|<span data-ttu-id="05e8f-137">解読</span><span class="sxs-lookup"><span data-stu-id="05e8f-137">Decrypting</span></span>|<span data-ttu-id="05e8f-138">固有の秘密キー</span><span class="sxs-lookup"><span data-stu-id="05e8f-138">Own private key</span></span>|<span data-ttu-id="05e8f-139">ホスト インスタンス サービス アカウントごとの個人用ストア。ホスト インスタンスの受信パイプラインには、MIME/SMIME デコーダ パイプライン コンポーネントが含まれます。</span><span class="sxs-lookup"><span data-stu-id="05e8f-139">Personal store for each service account of a host instance that has a receive pipeline with a MIME/SMIME Decoder pipeline component.</span></span> <span data-ttu-id="05e8f-140">詳細については、次を参照してください。[暗号化されたメッセージの受信、BizTalk Server を構成する方法](../core/how-to-configure-biztalk-server-for-receiving-encrypted-messages.md)です。</span><span class="sxs-lookup"><span data-stu-id="05e8f-140">For more information, see [How to Configure BizTalk Server for Receiving Encrypted Messages](../core/how-to-configure-biztalk-server-for-receiving-encrypted-messages.md).</span></span>|  
|<span data-ttu-id="05e8f-141">暗号化</span><span class="sxs-lookup"><span data-stu-id="05e8f-141">Encrypting</span></span>|<span data-ttu-id="05e8f-142">パートナーの公開キー</span><span class="sxs-lookup"><span data-stu-id="05e8f-142">Partner's public key</span></span>|<span data-ttu-id="05e8f-143">ホスト インスタンスを送信パイプラインを持つ MIME/SMIME エンコーダー パイプライン コンポーネントはメッセージを暗号化するように構成されている各コンピューター上の他の"人"ストア (**暗号化を有効にする**プロパティに設定`True)`です。</span><span class="sxs-lookup"><span data-stu-id="05e8f-143">Other People store on each computer that has a host instance that has a send pipeline with a MIME/SMIME Encoder pipeline component configured to encrypt messages (**Enable encryption** property set to `True)`.</span></span> <span data-ttu-id="05e8f-144">詳細については、次を参照してください。[暗号化されたメッセージの送信の BizTalk Server を構成する方法](../core/how-to-configure-biztalk-server-for-sending-encrypted-messages.md)です。</span><span class="sxs-lookup"><span data-stu-id="05e8f-144">For more information, see [How to Configure BizTalk Server for Sending Encrypted Messages](../core/how-to-configure-biztalk-server-for-sending-encrypted-messages.md).</span></span>|  
|<span data-ttu-id="05e8f-145">パーティの解決</span><span class="sxs-lookup"><span data-stu-id="05e8f-145">Party resolution</span></span>|<span data-ttu-id="05e8f-146">パートナーの公開キー</span><span class="sxs-lookup"><span data-stu-id="05e8f-146">Partner's public key</span></span>|<span data-ttu-id="05e8f-147">パーティの解決を構成する管理コンピュータの "ほかの人" ストア。</span><span class="sxs-lookup"><span data-stu-id="05e8f-147">Other People store on the administration computer from which you are configuring party resolution.</span></span> <span data-ttu-id="05e8f-148">詳細については、次を参照してください。[パーティの解決用の証明書を使用して](../core/using-certificates-for-party-resolution.md)です。</span><span class="sxs-lookup"><span data-stu-id="05e8f-148">For more information, see [Using Certificates for Party Resolution](../core/using-certificates-for-party-resolution.md).</span></span>|  
  
 <span data-ttu-id="05e8f-149">次の図に、メッセージの受信専用の BizTalk Server に設定された各証明書ストアに必要な証明書を示します。</span><span class="sxs-lookup"><span data-stu-id="05e8f-149">The following figure shows what certificates you will need in each certificate store on a BizTalk Server dedicated to receiving messages.</span></span>  
  
 <span data-ttu-id="05e8f-150">![セキュリティで保護されたメッセージの受信に必要な証明書](../core/media/bpi-sp-msgsec-certmgmt-certstores-receive.gif "BPI_SP_MSGSEC_CertMgmt_CertStores_Receive")</span><span class="sxs-lookup"><span data-stu-id="05e8f-150">![Certificates required to receive secure messages](../core/media/bpi-sp-msgsec-certmgmt-certstores-receive.gif "BPI_SP_MSGSEC_CertMgmt_CertStores_Receive")</span></span>  
  
 <span data-ttu-id="05e8f-151">次の図に、メッセージの送信専用の BizTalk Server に設定された各証明書ストアに必要な証明書を示します。</span><span class="sxs-lookup"><span data-stu-id="05e8f-151">The following figure shows what certificates you will need in each certificate store on a BizTalk Server dedicated to sending messages.</span></span>  
  
 <span data-ttu-id="05e8f-152">![セキュリティで保護されたメッセージの送信に必要な証明書](../core/media/bpi-sp-msgsec-certmgmt-certstores-send.gif "BPI_SP_MSGSEC_CertMgmt_CertStores_Send")</span><span class="sxs-lookup"><span data-stu-id="05e8f-152">![Certificates required to send secure messages](../core/media/bpi-sp-msgsec-certmgmt-certstores-send.gif "BPI_SP_MSGSEC_CertMgmt_CertStores_Send")</span></span>  
  
 <span data-ttu-id="05e8f-153">証明書ストアと Microsoft 管理コンソール (MMC) の証明書スナップインの詳細については、Windows ヘルプで "証明書コンソール" を検索してください。</span><span class="sxs-lookup"><span data-stu-id="05e8f-153">For more information about the Certificate stores and the Certificate snap-in for the Microsoft Management Console (MMC), search for "Certificate console" on the Windows Help.</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="05e8f-154">参照</span><span class="sxs-lookup"><span data-stu-id="05e8f-154">See Also</span></span>  
 <span data-ttu-id="05e8f-155">[BizTalk Server が署名されたメッセージで使用する証明書](../core/certificates-that-biztalk-server-uses-for-signed-messages.md) </span><span class="sxs-lookup"><span data-stu-id="05e8f-155">[Certificates that BizTalk Server Uses for Signed Messages](../core/certificates-that-biztalk-server-uses-for-signed-messages.md) </span></span>  
 <span data-ttu-id="05e8f-156">[BizTalk Server は暗号化されたメッセージを使用する証明書](../core/certificates-that-biztalk-server-uses-for-encrypted-messages.md) </span><span class="sxs-lookup"><span data-stu-id="05e8f-156">[Certificates that BizTalk Server Uses for Encrypted Messages](../core/certificates-that-biztalk-server-uses-for-encrypted-messages.md) </span></span>  
 <span data-ttu-id="05e8f-157">[暗号化と証明書の署名](../core/encryption-and-signing-certificates.md) </span><span class="sxs-lookup"><span data-stu-id="05e8f-157">[Encryption and Signing Certificates](../core/encryption-and-signing-certificates.md) </span></span>  
 [<span data-ttu-id="05e8f-158">メッセージ セキュリティを実装します。</span><span class="sxs-lookup"><span data-stu-id="05e8f-158">Implementing Message Security</span></span>](../core/implementing-message-security.md)