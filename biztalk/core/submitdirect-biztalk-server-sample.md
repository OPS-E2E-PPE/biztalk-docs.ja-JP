---
title: "SubmitDirect (BizTalk Server サンプル) |Microsoft ドキュメント"
ms.custom: 
ms.date: 06/08/2017
ms.prod: biztalk-server
ms.reviewer: 
ms.suite: 
ms.tgt_pltfrm: 
ms.topic: article
helpviewer_keywords:
- adapters, receive adapters
- receive adapters, examples
- examples, receive adapters
ms.assetid: 3540368b-cf46-4c83-a87b-94aec9cd1b36
caps.latest.revision: "23"
author: MandiOhlinger
ms.author: mandia
manager: anneta
ms.openlocfilehash: c4941cb95e180b7075b7e113fb89f7734a9abd82
ms.sourcegitcommit: 5abd0ed3f9e4858ffaaec5481bfa8878595e95f7
ms.translationtype: MT
ms.contentlocale: ja-JP
ms.lasthandoff: 11/28/2017
---
# <a name="submitdirect-biztalk-server-sample"></a><span data-ttu-id="e9276-102">SubmitDirect (BizTalk Server サンプル)</span><span class="sxs-lookup"><span data-stu-id="e9276-102">SubmitDirect (BizTalk Server Sample)</span></span>
<span data-ttu-id="e9276-103">SubmitDirect サンプルは、.NET ベースのアプリケーションから Microsoft [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] に一方向のメッセージおよび要求 - 応答メッセージをプログラムで送信する方法を示します。</span><span class="sxs-lookup"><span data-stu-id="e9276-103">The SubmitDirect sample demonstrates how to programmatically submit one-way and request/response messages to Microsoft [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] from .NET-based applications.</span></span> <span data-ttu-id="e9276-104">このサンプルでは、アダプターに [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] API を使用する例を示します。</span><span class="sxs-lookup"><span data-stu-id="e9276-104">The sample demonstrates the use of [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] APIs for adapters.</span></span> <span data-ttu-id="e9276-105">また、[!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] にメッセージを送信するために使用できる、Submit という名前の受信アダプターを提供します。</span><span class="sxs-lookup"><span data-stu-id="e9276-105">It also provides a receive adapter, named Submit, that can be used to submit messages to [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)].</span></span>  
  
## <a name="prerequisites"></a><span data-ttu-id="e9276-106">前提条件</span><span class="sxs-lookup"><span data-stu-id="e9276-106">Prerequisites</span></span>  
 <span data-ttu-id="e9276-107">このサンプルを実行する前に、BizTalk 分離ホスト ユーザー グループに属するユーザーとしてログオンしていることを確認してください。</span><span class="sxs-lookup"><span data-stu-id="e9276-107">Before running this sample, ensure you are logged on as a user who belongs to BizTalk Isolated Host Users group.</span></span>  
  
## <a name="what-this-sample-does"></a><span data-ttu-id="e9276-108">このサンプルの処理</span><span class="sxs-lookup"><span data-stu-id="e9276-108">What This Sample Does</span></span>  
 <span data-ttu-id="e9276-109">このサンプルでは、BizTalk アダプタに関連するさまざまな作業を実行する方法を示します。</span><span class="sxs-lookup"><span data-stu-id="e9276-109">This sample shows how to perform various tasks related to BizTalk adapters.</span></span> <span data-ttu-id="e9276-110">具体的には、表示する方法。</span><span class="sxs-lookup"><span data-stu-id="e9276-110">Specifically, it shows how to:</span></span>  
  
-   <span data-ttu-id="e9276-111">[!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] プロセスの外部で実行される分離アダプターを操作します。</span><span class="sxs-lookup"><span data-stu-id="e9276-111">Work with isolated adapters that run outside of the [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] process.</span></span> <span data-ttu-id="e9276-112">Submit アダプターは、[!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] プロセスの外部のプロセスによって作成されるので、分離アダプターです (Submit アダプターは .NET アプリケーションとして起動されます)。</span><span class="sxs-lookup"><span data-stu-id="e9276-112">The Submit adapter is an isolated adapter because it is created by a process external to the [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] process (you start it as a .NET application).</span></span>  
  
-   <span data-ttu-id="e9276-113">メッセージのバッチを [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] に送信します。</span><span class="sxs-lookup"><span data-stu-id="e9276-113">Submit batches of messages to [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)].</span></span> <span data-ttu-id="e9276-114">Submit アダプタは、バッチ メッセージ送信機能を使用して複数のメッセージを同時に送信します。</span><span class="sxs-lookup"><span data-stu-id="e9276-114">The Submit adapter uses batch message submittal functionality to submit several messages at once.</span></span>  
  
-   <span data-ttu-id="e9276-115">要求 - 応答パラダイムを使用したメッセージの同期送信と、一方向パラダイムを使用したメッセージの非同期送信を行います。</span><span class="sxs-lookup"><span data-stu-id="e9276-115">Submit messages synchronously using a request/response paradigm, as well as asynchronously using a one-way paradigm.</span></span>  
  
-   <span data-ttu-id="e9276-116">アダプターを [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] に登録します。</span><span class="sxs-lookup"><span data-stu-id="e9276-116">Register an adapter with [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)].</span></span> <span data-ttu-id="e9276-117">このサンプルでは、アダプタの登録方法を示し、アダプタの登録を自動化する登録実行可能ファイルを提供します。</span><span class="sxs-lookup"><span data-stu-id="e9276-117">This sample shows how to register an adapter and provides a registration executable that automates the registration of an adapter.</span></span>  
  
 <span data-ttu-id="e9276-118">このサンプルは、次の 2 つのサンプルを 1 つにまとめたものです。</span><span class="sxs-lookup"><span data-stu-id="e9276-118">This sample is actually two samples in one, as follows:</span></span>  
  
-   <span data-ttu-id="e9276-119">**一方向のメッセージ バッチの送信。**</span><span class="sxs-lookup"><span data-stu-id="e9276-119">**Submission of a batch of one-way messages.**</span></span> <span data-ttu-id="e9276-120">コンソール アプリケーション SubmitMessages.exe は、コマンドラインから文字列を受け取るし、ごとに個別のメッセージとして送信[!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)]です。</span><span class="sxs-lookup"><span data-stu-id="e9276-120">The console application SubmitMessages.exe takes the strings from its command line and submits each one as a separate message to [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)].</span></span> <span data-ttu-id="e9276-121">送信された各メッセージは、受信場所で [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] によって取得され、パススルー受信パイプラインおよびパススルー送信パイプライン経由で送信された後、テキスト ファイルに書き込まれます。</span><span class="sxs-lookup"><span data-stu-id="e9276-121">Each of these submitted messages is picked up at the receive location by [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)], sent through pass-through receive and send pipelines, and then written to a text file.</span></span>  
  
-   <span data-ttu-id="e9276-122">**要求/応答メッセージの送信。**</span><span class="sxs-lookup"><span data-stu-id="e9276-122">**Submission of request/response message.**</span></span> <span data-ttu-id="e9276-123">コンソール アプリケーション SubmitRequest.exe は、コマンドラインで指定された .xml ファイルを受け取るし、それに送信[!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)]です。</span><span class="sxs-lookup"><span data-stu-id="e9276-123">The console application SubmitRequest.exe takes the .xml file specified on its command line and submits it to [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)].</span></span> <span data-ttu-id="e9276-124">この .xml ファイルのスキーマは、2 つの整数フィールドを含む要素を定義します。</span><span class="sxs-lookup"><span data-stu-id="e9276-124">The schema of this .xml file defines elements that contain two integer fields.</span></span> [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)]<span data-ttu-id="e9276-125"> は .xml ファイルを取得し、それを 1 つの要求 - 応答ポートを使用するオーケストレーションによって処理します。</span><span class="sxs-lookup"><span data-stu-id="e9276-125"> picks up the .xml file and processes it with an orchestration (with one request/response port).</span></span> <span data-ttu-id="e9276-126">このとき、マップを使用して、要求に含まれる 2 つの整数の積を表す整数を返す XML 応答メッセージを生成します。</span><span class="sxs-lookup"><span data-stu-id="e9276-126">It uses a map to produce an XML response message that returns an integer that is the product of the two integers in the request.</span></span> <span data-ttu-id="e9276-127">コンソール アプリケーションが応答を受け取ると、結果が表示されます。</span><span class="sxs-lookup"><span data-stu-id="e9276-127">When the console application receives the response, it displays the result.</span></span>  
  
## <a name="where-to-find-this-sample"></a><span data-ttu-id="e9276-128">このサンプルの場所</span><span class="sxs-lookup"><span data-stu-id="e9276-128">Where to Find This Sample</span></span>  
 <span data-ttu-id="e9276-129">\<*パスのサンプル*\>\AdaptersDevelopment\SubmitDirect\\</span><span class="sxs-lookup"><span data-stu-id="e9276-129">\<*Samples Path*\>\AdaptersDevelopment\SubmitDirect\\</span></span>  
  
 <span data-ttu-id="e9276-130">次の表は、このサンプルのファイルとその目的を示しています。</span><span class="sxs-lookup"><span data-stu-id="e9276-130">The following table lists the files in this sample and describes their purpose.</span></span>  
  
|<span data-ttu-id="e9276-131">ファイル</span><span class="sxs-lookup"><span data-stu-id="e9276-131">File(s)</span></span>|<span data-ttu-id="e9276-132">Description</span><span class="sxs-lookup"><span data-stu-id="e9276-132">Description</span></span>|  
|---------------|-----------------|  
|<span data-ttu-id="e9276-133">Cleanup.bat</span><span class="sxs-lookup"><span data-stu-id="e9276-133">Cleanup.bat</span></span>|<span data-ttu-id="e9276-134">必要に応じて、アセンブリの展開の解除とグローバル アセンブリ キャッシュ (GAC) からのアセンブリの削除、送信および受信ポートの削除、Microsoft インターネット インフォメーション サービス (IIS) の仮想ディレクトリの削除などを行います。</span><span class="sxs-lookup"><span data-stu-id="e9276-134">Undeploys assemblies and removes them from the global assembly cache (GAC); removes send and receive ports; removes Microsoft Internet Information Services (IIS) virtual directories as needed.</span></span>|  
|<span data-ttu-id="e9276-135">Setup.bat</span><span class="sxs-lookup"><span data-stu-id="e9276-135">Setup.bat</span></span>|<span data-ttu-id="e9276-136">このサンプルを作成および初期化します。</span><span class="sxs-lookup"><span data-stu-id="e9276-136">Builds and initializes this sample.</span></span>|  
|<span data-ttu-id="e9276-137">SubmitDirect.sln</span><span class="sxs-lookup"><span data-stu-id="e9276-137">SubmitDirect.sln</span></span>|<span data-ttu-id="e9276-138">ProcessRequest フォルダの BizTalk プロジェクトとその他のフォルダの Microsoft Visual C# プロジェクトを含むソリューション ファイルです。</span><span class="sxs-lookup"><span data-stu-id="e9276-138">Solution file that includes the BizTalk project in the ProcessRequest folder and the Microsoft Visual C# projects in the other folders.</span></span>|  
|<span data-ttu-id="e9276-139">SubmitMessagesBinding.xml、SubmitRequestBinding.xml</span><span class="sxs-lookup"><span data-stu-id="e9276-139">SubmitMessagesBinding.xml, SubmitRequestBinding.xml</span></span>|<span data-ttu-id="e9276-140">ポートのバインドなど、自動化されたセットアップに使用されます。</span><span class="sxs-lookup"><span data-stu-id="e9276-140">Used for automated setup such as port binding.</span></span>|  
|<span data-ttu-id="e9276-141">\ProcessRequest フォルダには、次のファイルが含まれます。</span><span class="sxs-lookup"><span data-stu-id="e9276-141">In the \ProcessRequest folder:</span></span><br /><br /> <span data-ttu-id="e9276-142">DocIn.xsd、DocOut.xsd、Multiplier.odx、Multiply.btm、ProcessRequest.btproj</span><span class="sxs-lookup"><span data-stu-id="e9276-142">DocIn.xsd, DocOut.xsd, Multiplier.odx, Multiply.btm, ProcessRequest.btproj</span></span>|<span data-ttu-id="e9276-143">要求 - 応答シナリオで整数の乗算を実行する BizTalk プロジェクトを提供します。</span><span class="sxs-lookup"><span data-stu-id="e9276-143">Provides a BizTalk project that performs the multiplication of integers in the request/response scenario.</span></span>|  
|<span data-ttu-id="e9276-144">\SubmitMessages フォルダには、次のファイルが含まれます。</span><span class="sxs-lookup"><span data-stu-id="e9276-144">In the \SubmitMessages folder:</span></span><br /><br /> <span data-ttu-id="e9276-145">AssemblyInfo.cs、SubmitMessages.cs、SubmitMessages.csproj</span><span class="sxs-lookup"><span data-stu-id="e9276-145">AssemblyInfo.cs, SubmitMessages.cs, SubmitMessages.csproj</span></span>|<span data-ttu-id="e9276-146">コマンド ライン文字列パラメータを別々のメッセージのバッチとして渡すコンソール アプリケーションの Visual C# プロジェクトを提供します。</span><span class="sxs-lookup"><span data-stu-id="e9276-146">Provides a Visual C# project for the console application that passes its command line string parameters as a batch of separate messages.</span></span>|  
|<span data-ttu-id="e9276-147">\SubmitRequest フォルダには、次のファイルが含まれます。</span><span class="sxs-lookup"><span data-stu-id="e9276-147">In the \SubmitRequest folder:</span></span><br /><br /> <span data-ttu-id="e9276-148">AssemblyInfo.cs、DocInstance.xml、SubmitRequest.cs、SubmitRequest.csproj</span><span class="sxs-lookup"><span data-stu-id="e9276-148">AssemblyInfo.cs, DocInstance.xml, SubmitRequest.cs, SubmitRequest.csproj</span></span>|<span data-ttu-id="e9276-149">乗算する 2 つの整数を含む .xml ファイル (DocInstance.xml) を渡すコンソール アプリケーションの C# プロジェクトを提供します。</span><span class="sxs-lookup"><span data-stu-id="e9276-149">Provides a C# project for the console application that passes an .xml file (DocInstance.xml) containing two integers to be multiplied.</span></span>|  
|<span data-ttu-id="e9276-150">\TransportProxyUtils フォルダには、次のファイルが含まれます。</span><span class="sxs-lookup"><span data-stu-id="e9276-150">In the \TransportProxyUtils folder:</span></span><br /><br /> <span data-ttu-id="e9276-151">AssemblyInfo.cs、MessageHelper.cs、MessagingAPIInterface.cs、MessagingAPIs.cs、ResponseCallBack.cs、TpBatchAsyncCallback.cs、TpBatchAsyncResult.cs、TpBatchStatus.cs、TransportProxyUtils.csproj</span><span class="sxs-lookup"><span data-stu-id="e9276-151">AssemblyInfo.cs, MessageHelper.cs, MessagingAPIInterface.cs, MessagingAPIs.cs, ResponseCallBack.cs, TpBatchAsyncCallback.cs, TpBatchAsyncResult.cs, TpBatchStatus.cs, TransportProxyUtils.csproj</span></span>|<span data-ttu-id="e9276-152">Submit アダプタの、同期および非同期のメッセージ送信を行うメソッドとバッチおよび単一の要求メッセージ送信を行うメソッドを実装するランタイム部分の C# プロジェクトを提供します。</span><span class="sxs-lookup"><span data-stu-id="e9276-152">Provides a C# project for the run-time portion of the Submit adapter that implements methods for synchronous and asynchronous message submission, and for batch and single request message submission.</span></span>|  
|<span data-ttu-id="e9276-153">\TransportProxyUtilsReg フォルダには、次のファイルが含まれます。</span><span class="sxs-lookup"><span data-stu-id="e9276-153">In the \TransportProxyUtilsReg folder:</span></span><br /><br /> <span data-ttu-id="e9276-154">AssemblyInfo.cs、RegisterAdapter.cs、TransportProxyUtilsReg.csproj</span><span class="sxs-lookup"><span data-stu-id="e9276-154">AssemblyInfo.cs, RegisterAdapter.cs, TransportProxyUtilsReg.csproj</span></span>|<span data-ttu-id="e9276-155">[!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] にアダプターを登録するために使用するコードを示す Visual C# プロジェクトを提供します。</span><span class="sxs-lookup"><span data-stu-id="e9276-155">Provides a Visual C# project that demonstrates code that you can use to register adapters with [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)].</span></span>|  
|<span data-ttu-id="e9276-156">\TransportProxyUtilsUI フォルダには、次のファイルが含まれます。</span><span class="sxs-lookup"><span data-stu-id="e9276-156">In the \TransportProxyUtilsUI folder:</span></span><br /><br /> <span data-ttu-id="e9276-157">AssemblyInfo.cs、TransportProxyUtilsMgmt.cs、TransportProxyUtilsUI.csproj</span><span class="sxs-lookup"><span data-stu-id="e9276-157">AssemblyInfo.cs, TransportProxyUtilsMgmt.cs, TransportProxyUtilsUI.csproj</span></span>|<span data-ttu-id="e9276-158">Submit アダプターのユーザー インターフェイス部分の Visual C# プロジェクトを提供します。</span><span class="sxs-lookup"><span data-stu-id="e9276-158">Provides a Visual C# project for the user interface portion of the Submit adapter.</span></span>|  
  
## <a name="building-and-initializing-the-sample"></a><span data-ttu-id="e9276-159">サンプルのビルドおよび初期化</span><span class="sxs-lookup"><span data-stu-id="e9276-159">Building and Initializing the Sample</span></span>  
  
#### <a name="to-build-and-initialize-the-submitdirect-sample"></a><span data-ttu-id="e9276-160">SubmitDirect サンプルをビルドおよび初期化するには</span><span class="sxs-lookup"><span data-stu-id="e9276-160">To build and initialize the SubmitDirect sample</span></span>  
  
1.  <span data-ttu-id="e9276-161">コマンド ウィンドウで、次のフォルダーに移動します。</span><span class="sxs-lookup"><span data-stu-id="e9276-161">In a command window, navigate to the following folder:</span></span>  
  
     <span data-ttu-id="e9276-162">\<*パスのサンプル*\>\AdaptersDevelopment\SubmitDirect</span><span class="sxs-lookup"><span data-stu-id="e9276-162">\<*Samples Path*\>\AdaptersDevelopment\SubmitDirect</span></span>  
  
2.  <span data-ttu-id="e9276-163">次の操作を実行する Setup.bat ファイルを実行します。</span><span class="sxs-lookup"><span data-stu-id="e9276-163">Run the file Setup.bat, which performs the following actions:</span></span>  
  
    -   <span data-ttu-id="e9276-164">このサンプルのバッチ送信部分用に、次の出力フォルダを作成します。</span><span class="sxs-lookup"><span data-stu-id="e9276-164">Creates the following output folder for the batch submission portion of this sample.</span></span>  
  
         <span data-ttu-id="e9276-165">\<*パスのサンプル*\>\AdaptersDevelopment\SubmitDirect\Out</span><span class="sxs-lookup"><span data-stu-id="e9276-165">\<*Samples Path*\>\AdaptersDevelopment\SubmitDirect\Out</span></span>  
  
    -   <span data-ttu-id="e9276-166">このサンプル用に、さまざまな [!INCLUDE[btsVStudioNoVersion](../includes/btsvstudionoversion-md.md)] プロジェクトをコンパイルします。</span><span class="sxs-lookup"><span data-stu-id="e9276-166">Compiles the various [!INCLUDE[btsVStudioNoVersion](../includes/btsvstudionoversion-md.md)] projects for this sample.</span></span>  
  
    -   <span data-ttu-id="e9276-167">Submit アダプターを登録[!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)]です。</span><span class="sxs-lookup"><span data-stu-id="e9276-167">Registers the Submit adapter with [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)].</span></span>  
  
    -   <span data-ttu-id="e9276-168">[!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] の受信場所、送信ポート、および受信ポートを作成してバインドします。</span><span class="sxs-lookup"><span data-stu-id="e9276-168">Creates and binds the [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] receive locations, and the send and receive ports.</span></span>  
  
        > [!NOTE]
        >  <span data-ttu-id="e9276-169">このサンプルは、ポートを作成してバインドする際に、以下の警告を表示します。</span><span class="sxs-lookup"><span data-stu-id="e9276-169">This sample displays the following warnings when creating and binding the ports:</span></span>  
        >   
        >  `Warning: Receive handler not specified for receive location "SubmitDirectRL"; updating with first receive handler with matching transport type.`  
        >   
        >  `Warning: Host not specified for orchestration "Microsoft.Samples.BizTalk.ProcessRequest.Multiplier"; updating with first available host.`  
        >   
        >  <span data-ttu-id="e9276-170">これらの警告は、無視してもかまいません </span><span class="sxs-lookup"><span data-stu-id="e9276-170">You can safely ignore these warnings.</span></span> <span data-ttu-id="e9276-171">(インストールでの名前付け方法はユーザーによって異なる可能性があるため、ホスト名と受信ハンドラーはバインド ファイルから除外されています。)</span><span class="sxs-lookup"><span data-stu-id="e9276-171">(To accommodate for possible naming differences in user installations, the host name and receive handler have been omitted from the binding file.)</span></span>  
  
    -   <span data-ttu-id="e9276-172">受信場所を有効にし、送信ポートとオーケストレーションを開始します。</span><span class="sxs-lookup"><span data-stu-id="e9276-172">Enables the receive locations, and starts the send ports and orchestration.</span></span>  
  
        > [!NOTE]
        >  <span data-ttu-id="e9276-173">このサンプルを実行する前に、ビルドと初期化のプロセス中に [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] でエラーが報告されていないことを確認する必要があります。</span><span class="sxs-lookup"><span data-stu-id="e9276-173">You should confirm that [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] did not report any errors during the build and initialization process before attempting to run this sample.</span></span>  
  
        > [!NOTE]
        >  <span data-ttu-id="e9276-174">開き、Setup.bat ファイルを実行せずにこのサンプルのプロジェクトをビルドする場合は、まず、.NET Framework の厳密名ユーティリティ (sn.exe) を使用して厳密な名前キーのペアを作成する必要があります。</span><span class="sxs-lookup"><span data-stu-id="e9276-174">If you choose to open and build the projects in this sample without running the file Setup.bat, you must first create a strong name key pair using the .NET Framework Strong Name Utility (sn.exe).</span></span> <span data-ttu-id="e9276-175">このキー ペアは、生成されたアセンブリの署名に使用します。</span><span class="sxs-lookup"><span data-stu-id="e9276-175">Use this key pair to sign the resulting assemblies.</span></span>  
  
        > [!NOTE]
        >  <span data-ttu-id="e9276-176">Setup.bat によって行われた変更を元に戻すには、Cleanup.bat を実行します。</span><span class="sxs-lookup"><span data-stu-id="e9276-176">To undo changes made by Setup.bat, run Cleanup.bat.</span></span> <span data-ttu-id="e9276-177">Setup.bat を 2 回目に実行する場合は、その前に Cleanup.bat を実行してください。</span><span class="sxs-lookup"><span data-stu-id="e9276-177">You must run Cleanup.bat before running Setup.bat a second time.</span></span>  
  
## <a name="running-the-sample"></a><span data-ttu-id="e9276-178">サンプルを実行します。</span><span class="sxs-lookup"><span data-stu-id="e9276-178">Running the Sample</span></span>  
 <span data-ttu-id="e9276-179">このサンプルではファイル アダプタを使用するため、BizTalk ホスト (BizTalkServerApplication) が実行されている必要があります。</span><span class="sxs-lookup"><span data-stu-id="e9276-179">Because this sample uses File adapter, the BizTalk host (BizTalkServerApplication) must be running.</span></span> <span data-ttu-id="e9276-180">次の手順を使用して、SubmitDirect サンプルを実行します。</span><span class="sxs-lookup"><span data-stu-id="e9276-180">Use the following procedures to run the SubmitDirect sample.</span></span>  
  
#### <a name="to-run-the-batch-submission-portion-of-the-submitdirect-sample"></a><span data-ttu-id="e9276-181">SubmitDirect サンプルのバッチ送信部分を実行するには</span><span class="sxs-lookup"><span data-stu-id="e9276-181">To run the batch submission portion of the SubmitDirect sample</span></span>  
  
1.  <span data-ttu-id="e9276-182">コマンド ウィンドウで、次のフォルダーに移動します。</span><span class="sxs-lookup"><span data-stu-id="e9276-182">In a command window, navigate to the following folder:</span></span>  
  
     <span data-ttu-id="e9276-183">\<*パスのサンプル*\>\AdaptersDevelopment\SubmitDirect\SubmitMessages\bin\Debug</span><span class="sxs-lookup"><span data-stu-id="e9276-183">\<*Samples Path*\>\AdaptersDevelopment\SubmitDirect\SubmitMessages\bin\Debug</span></span>  
  
2.  <span data-ttu-id="e9276-184">ファイル SubmitMessages.exe を実行し、コマンド ラインで複数の文字列を渡します。</span><span class="sxs-lookup"><span data-stu-id="e9276-184">Run the file SubmitMessages.exe, passing multiple strings on the command line.</span></span>  
  
     <span data-ttu-id="e9276-185">例: SubmitMessages msg1 msg2 msg3</span><span class="sxs-lookup"><span data-stu-id="e9276-185">Example: SubmitMessages msg1 msg2 msg3</span></span>  
  
3.  <span data-ttu-id="e9276-186">複数のテキスト ファイルが Out 出力フォルダに作成されることを確認します。これらのファイルには、ファイルごとに 1 つずつ、コマンド ラインで渡された文字列が含まれています。</span><span class="sxs-lookup"><span data-stu-id="e9276-186">Observe the multiple text files created in the output folder Out. These files contain the strings passed on the command line, one per file.</span></span>  
  
#### <a name="to-run-the-requestresponse-portion-of-the-submitdirect-sample"></a><span data-ttu-id="e9276-187">SubmitDirect サンプルの要求 - 応答部分を実行するには</span><span class="sxs-lookup"><span data-stu-id="e9276-187">To run the request/response portion of the SubmitDirect sample</span></span>  
  
1.  <span data-ttu-id="e9276-188">コマンド ウィンドウで、次のフォルダーに移動します。</span><span class="sxs-lookup"><span data-stu-id="e9276-188">In a command window, navigate to the following folder:</span></span>  
  
     <span data-ttu-id="e9276-189">\<*パスのサンプル*\>\AdaptersDevelopment\SubmitDirect\SubmitRequest\bin\Debug</span><span class="sxs-lookup"><span data-stu-id="e9276-189">\<*Samples Path*\>\AdaptersDevelopment\SubmitDirect\SubmitRequest\bin\Debug</span></span>  
  
2.  <span data-ttu-id="e9276-190">ファイル SubmitRequest.exe を実行し、コマンド ラインで適切な .xml ファイル名を渡します。</span><span class="sxs-lookup"><span data-stu-id="e9276-190">Run the file SubmitRequest.exe, passing an appropriate .xml file name on the command line.</span></span>  
  
     <span data-ttu-id="e9276-191">例: SubmitRequest.\\..\DocInstance.xml</span><span class="sxs-lookup"><span data-stu-id="e9276-191">Example: SubmitRequest ..\\..\DocInstance.xml</span></span>  
  
3.  <span data-ttu-id="e9276-192">乗算演算の結果を含む応答 XML メッセージがコンソールに表示されることを確認します。</span><span class="sxs-lookup"><span data-stu-id="e9276-192">Observe the response XML message, containing the result of the multiplication operation, displayed to the console.</span></span>  
  
## <a name="comments"></a><span data-ttu-id="e9276-193">コメント</span><span class="sxs-lookup"><span data-stu-id="e9276-193">Comments</span></span>  
 <span data-ttu-id="e9276-194">Submit アダプタは、他のアプリケーションでも使用できます。</span><span class="sxs-lookup"><span data-stu-id="e9276-194">You can use the Submit adapter in other applications.</span></span> <span data-ttu-id="e9276-195">このアダプターを任意の .NET ベースのコードから使用すると、プログラムで [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] にメッセージを送信できます。</span><span class="sxs-lookup"><span data-stu-id="e9276-195">You can use it from any .NET-based code to submit messages to your [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] programmatically.</span></span> <span data-ttu-id="e9276-196">このアダプタをコードで使用するには、次の手順を実行します。</span><span class="sxs-lookup"><span data-stu-id="e9276-196">To use this adapter with your code, use the following procedure.</span></span>  
  
#### <a name="to-use-the-sample-adapter-with-your-code"></a><span data-ttu-id="e9276-197">サンプル アダプタをコードで使用するには</span><span class="sxs-lookup"><span data-stu-id="e9276-197">To use the sample adapter with your code</span></span>  
  
1.  <span data-ttu-id="e9276-198">Submit アダプターを [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] に登録します。</span><span class="sxs-lookup"><span data-stu-id="e9276-198">Register the Submit adapter with your [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)].</span></span> <span data-ttu-id="e9276-199">このサンプルで提供されているファイル Setup.bat を実行済みの場合、このアダプタは既に登録されて使用できる状態になっています。</span><span class="sxs-lookup"><span data-stu-id="e9276-199">If you have run the file Setup.bat provided with this sample, the adapter should be registered and ready to use.</span></span> <span data-ttu-id="e9276-200">それ以外の場合は、TransportProxyUtils.csproj、TransportProxyUtilsUI.csproj、および TransportProxyUtilsReg.csproj プロジェクトをビルドし、TransportProxyUtilsReg.csproj プロジェクトによって生成された実行可能ファイル RegisterAdapter.exe を実行するとアダプタを登録できます。</span><span class="sxs-lookup"><span data-stu-id="e9276-200">Otherwise, you can register it by building the projects TransportProxyUtils.csproj, TransportProxyUtilsUI.csproj, and TransportProxyUtilsReg.csproj, and then running the executable produced by the latter project, RegisterAdapter.exe.</span></span>  
  
    > [!IMPORTANT]
    >  <span data-ttu-id="e9276-201">BizTalk を 64 ビット コンピューターにインストールする場合は、hkey_classes_root \clsid\ レジストリ エントリのすべてのインスタンスを hkey_classes_root \wow6432node\clsid\ に変更、 **RegisterAdapter.cs**ファイル。</span><span class="sxs-lookup"><span data-stu-id="e9276-201">If you install BizTalk on a 64 bit machine, change all instances of the HKEY_CLASSES_ROOT\CLSID\ registry entry to HKEY_CLASSES_ROOT\Wow6432Node\CLSID\ in the **RegisterAdapter.cs** file.</span></span>  
  
2.  <span data-ttu-id="e9276-202">Submit アダプタを使用する受信場所を指定して、受信ポートを作成します。</span><span class="sxs-lookup"><span data-stu-id="e9276-202">Create a receive port with a receive location that uses the Submit adapter.</span></span> <span data-ttu-id="e9276-203">受信場所のアドレスを指定します。</span><span class="sxs-lookup"><span data-stu-id="e9276-203">Specify the address of the receive location.</span></span> <span data-ttu-id="e9276-204">アドレスには、このアダプタを使用する受信場所内で一意の、任意の文字列を指定できます。</span><span class="sxs-lookup"><span data-stu-id="e9276-204">The address can be any string that is unique within the receive locations that use this adapter.</span></span>  
  
3.  <span data-ttu-id="e9276-205">[!INCLUDE[btsVStudioNoVersion](../includes/btsvstudionoversion-md.md)] プロジェクト内でアセンブリ Microsoft.BizTalk.SDKSamples.AdaptersDevelopment.TransportProxyUtils.dll を参照します。</span><span class="sxs-lookup"><span data-stu-id="e9276-205">Reference the assembly Microsoft.BizTalk.SDKSamples.AdaptersDevelopment.TransportProxyUtils.dll in your [!INCLUDE[btsVStudioNoVersion](../includes/btsvstudionoversion-md.md)] project.</span></span>  
  
4.  <span data-ttu-id="e9276-206">このアセンブリによって提供される次のメソッドを 1 つ以上使用して、[!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] にメッセージを送信します。</span><span class="sxs-lookup"><span data-stu-id="e9276-206">Submit messages to your [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] by using one or more of the following methods provided by this assembly.</span></span>  
  
    |<span data-ttu-id="e9276-207">メソッド</span><span class="sxs-lookup"><span data-stu-id="e9276-207">Method(s)</span></span>|<span data-ttu-id="e9276-208">Description</span><span class="sxs-lookup"><span data-stu-id="e9276-208">Description</span></span>|  
    |-----------------|-----------------|  
    |<span data-ttu-id="e9276-209">**SubmitMessage()**</span><span class="sxs-lookup"><span data-stu-id="e9276-209">**SubmitMessage()**</span></span><br /><br /> <span data-ttu-id="e9276-210">**BeginSubmitMessage()**</span><span class="sxs-lookup"><span data-stu-id="e9276-210">**BeginSubmitMessage()**</span></span><br /><br /> <span data-ttu-id="e9276-211">**EndSubmitMessage()**</span><span class="sxs-lookup"><span data-stu-id="e9276-211">**EndSubmitMessage()**</span></span>|<span data-ttu-id="e9276-212">一方向のメッセージを [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] に送信するための同期メソッドおよび非同期メソッドです。</span><span class="sxs-lookup"><span data-stu-id="e9276-212">Synchronous and asynchronous methods to submit a one-way message to [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)].</span></span> <span data-ttu-id="e9276-213">メッセージが送信される受信場所のアドレスは、メッセージ コンテキストに設定する必要があります。</span><span class="sxs-lookup"><span data-stu-id="e9276-213">The address of the receive location where the message is submitted must be set on the message context.</span></span><br /><br /> <span data-ttu-id="e9276-214">送信の状態 (成功または失敗) を示すブール値が返されます。</span><span class="sxs-lookup"><span data-stu-id="e9276-214">A Boolean value indicating the status of submission (success/failure) is returned.</span></span>|  
    |<span data-ttu-id="e9276-215">**SubmitMessages()**</span><span class="sxs-lookup"><span data-stu-id="e9276-215">**SubmitMessages()**</span></span><br /><br /> <span data-ttu-id="e9276-216">**BeginSubmitMessages()**</span><span class="sxs-lookup"><span data-stu-id="e9276-216">**BeginSubmitMessages()**</span></span><br /><br /> <span data-ttu-id="e9276-217">**EndSubmitMessages()**</span><span class="sxs-lookup"><span data-stu-id="e9276-217">**EndSubmitMessages()**</span></span>|<span data-ttu-id="e9276-218">一方向のメッセージの配列を [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] に送信するための同期メソッドおよび非同期メソッドです。</span><span class="sxs-lookup"><span data-stu-id="e9276-218">Synchronous and asynchronous methods to submit an array of one-way messages to [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)].</span></span> <span data-ttu-id="e9276-219">メッセージが受信される受信場所のアドレスをメッセージのコンテキストで設定する必要があります。</span><span class="sxs-lookup"><span data-stu-id="e9276-219">The addresses of the receive locations where the messages are submitted should be set on the context of the messages.</span></span><br /><br /> <span data-ttu-id="e9276-220">送信の状態 (成功または失敗) を示すブール値が返されます。</span><span class="sxs-lookup"><span data-stu-id="e9276-220">A Boolean value indicating the status of submission (success/failure) is returned.</span></span>|  
    |<span data-ttu-id="e9276-221">**SubmitSyncMessage()**</span><span class="sxs-lookup"><span data-stu-id="e9276-221">**SubmitSyncMessage()**</span></span><br /><br /> <span data-ttu-id="e9276-222">**BeginSubmitSyncMessage()**</span><span class="sxs-lookup"><span data-stu-id="e9276-222">**BeginSubmitSyncMessage()**</span></span><br /><br /> <span data-ttu-id="e9276-223">**EndSubmitSyncMessage()**</span><span class="sxs-lookup"><span data-stu-id="e9276-223">**EndSubmitSyncMessage()**</span></span>|<span data-ttu-id="e9276-224">要求メッセージを [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] に送信するための同期メソッドおよび非同期メソッドです。</span><span class="sxs-lookup"><span data-stu-id="e9276-224">Synchronous and asynchronous methods to submit a request message to [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)].</span></span> <span data-ttu-id="e9276-225">メッセージが受信される受信場所のアドレスをメッセージ コンテキストで設定する必要があります。</span><span class="sxs-lookup"><span data-stu-id="e9276-225">The address of the receive location where the message is submitted should be set on the message context.</span></span><br /><br /> <span data-ttu-id="e9276-226">応答メッセージが返されます。</span><span class="sxs-lookup"><span data-stu-id="e9276-226">The response message is returned.</span></span>|  
    |<span data-ttu-id="e9276-227">**CreateMessageFromString()**</span><span class="sxs-lookup"><span data-stu-id="e9276-227">**CreateMessageFromString()**</span></span>|<span data-ttu-id="e9276-228">文字列から [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] メッセージ オブジェクトを作成し、メッセージ コンテキストで受信場所のアドレスのプロパティを設定します。</span><span class="sxs-lookup"><span data-stu-id="e9276-228">Creates a [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] message object from a string and sets the receive location address property on the message context.</span></span><br /><br /> <span data-ttu-id="e9276-229">BizTalk メッセージ オブジェクトを返します。</span><span class="sxs-lookup"><span data-stu-id="e9276-229">Returns a BizTalk message object.</span></span>|  
    |<span data-ttu-id="e9276-230">**CreateMessageFromStream()**</span><span class="sxs-lookup"><span data-stu-id="e9276-230">**CreateMessageFromStream()**</span></span>|<span data-ttu-id="e9276-231">ストリームから [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] メッセージ オブジェクトを作成し、メッセージ コンテキストで受信場所のアドレスのプロパティを設定します。</span><span class="sxs-lookup"><span data-stu-id="e9276-231">Creates a [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] message object from a stream and sets the receive location address property on the message context.</span></span><br /><br /> <span data-ttu-id="e9276-232">[!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] メッセージ オブジェクトを返します。</span><span class="sxs-lookup"><span data-stu-id="e9276-232">Returns a [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] message object.</span></span>|  
  
     <span data-ttu-id="e9276-233">これらのメソッドのパラメータおよび戻り値の型の詳細については、TransportProxyUtils フォルダの MessagingAPIInterface.cs ファイルを参照してください。</span><span class="sxs-lookup"><span data-stu-id="e9276-233">For details about the parameter and return types for these methods, see the file MessagingAPIInterface.cs in the TransportProxyUtils folder.</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="e9276-234">参照</span><span class="sxs-lookup"><span data-stu-id="e9276-234">See Also</span></span>  
 <span data-ttu-id="e9276-235">[アダプタ サンプル - 開発](../core/adapter-samples-development.md) </span><span class="sxs-lookup"><span data-stu-id="e9276-235">[Adapter Samples - Development](../core/adapter-samples-development.md) </span></span>  
 [<span data-ttu-id="e9276-236">アダプターの登録</span><span class="sxs-lookup"><span data-stu-id="e9276-236">Registering an Adapter</span></span>](../core/registering-an-adapter.md)