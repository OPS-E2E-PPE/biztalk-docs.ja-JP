---
title: "ルール エンジンの構成およびチューニング パラメーター |Microsoft ドキュメント"
ms.custom: 
ms.date: 06/08/2017
ms.prod: biztalk-server
ms.reviewer: 
ms.suite: 
ms.tgt_pltfrm: 
ms.topic: article
helpviewer_keywords:
- troubleshooting, registry keys
- registry keys
- Business Rules Engine, registry keys
- troubleshooting, business rules
- validating, business rules
- business rules, validating
ms.assetid: cb0bcffe-bbc6-4495-84d2-2a822c3413b3
caps.latest.revision: "16"
author: MandiOhlinger
ms.author: mandia
manager: anneta
ms.openlocfilehash: e6d2acc5b70f7a2be120db5159f893922135a429
ms.sourcegitcommit: cb908c540d8f1a692d01dc8f313e16cb4b4e696d
ms.translationtype: MT
ms.contentlocale: ja-JP
ms.lasthandoff: 09/20/2017
---
# <a name="rule-engine-configuration-and-tuning-parameters"></a><span data-ttu-id="e7d7a-102">ルール エンジンの構成およびチューニング パラメーター</span><span class="sxs-lookup"><span data-stu-id="e7d7a-102">Rule Engine Configuration and Tuning Parameters</span></span>
<span data-ttu-id="e7d7a-103">次の表に、構成の検証およびトラブルシューティングに利用できるレジストリ キーの一覧を示します。</span><span class="sxs-lookup"><span data-stu-id="e7d7a-103">The following table contains a list of registry keys that may be useful for configuration validation and troubleshooting.</span></span> <span data-ttu-id="e7d7a-104">これらのレジストリ キーが格納されている**HKEY_LOCAL_MACHINE\SOFTWARE\Microsoft\BusinessRules\3.0**です。</span><span class="sxs-lookup"><span data-stu-id="e7d7a-104">These registry keys are stored under **HKEY_LOCAL_MACHINE\SOFTWARE\Microsoft\BusinessRules\3.0**.</span></span>  
  
 <span data-ttu-id="e7d7a-105">製品を許可するものではこれらのキーに記載された最初の 3 つのキー、を除き — とユーザーではなく — をルール エンジンをカスタマイズします。</span><span class="sxs-lookup"><span data-stu-id="e7d7a-105">With the exception of the first three keys listed, these keys are intended to allow products—and not users—to customize the rule engine.</span></span> <span data-ttu-id="e7d7a-106">これらはすべてインストール時に作成されますが、値を設定するためのインターフェイスは提供されません。</span><span class="sxs-lookup"><span data-stu-id="e7d7a-106">All of them are created upon installation; however, no interface is provided to set any of these values.</span></span>  
  
 <span data-ttu-id="e7d7a-107">次の表の列は、次のように定義されています。</span><span class="sxs-lookup"><span data-stu-id="e7d7a-107">The definitions for the table columns are as follows:</span></span>  
  
-   <span data-ttu-id="e7d7a-108">**名前**です。</span><span class="sxs-lookup"><span data-stu-id="e7d7a-108">**Name**.</span></span> <span data-ttu-id="e7d7a-109">レジストリ キーの名前。</span><span class="sxs-lookup"><span data-stu-id="e7d7a-109">Name of the registry key.</span></span>  
  
-   <span data-ttu-id="e7d7a-110">**説明**です。</span><span class="sxs-lookup"><span data-stu-id="e7d7a-110">**Description**.</span></span> <span data-ttu-id="e7d7a-111">レジストリ キーの場所と用途に関する簡単な説明。</span><span class="sxs-lookup"><span data-stu-id="e7d7a-111">A brief description about the location or use of the key.</span></span>  
  
-   <span data-ttu-id="e7d7a-112">**構成の既定値**です。</span><span class="sxs-lookup"><span data-stu-id="e7d7a-112">**Config default**.</span></span> <span data-ttu-id="e7d7a-113">レジストリ キーが存在しない場合に返される値。</span><span class="sxs-lookup"><span data-stu-id="e7d7a-113">Value returned if the key does not exist.</span></span>  
  
-   <span data-ttu-id="e7d7a-114">**インストールの既定値**です。</span><span class="sxs-lookup"><span data-stu-id="e7d7a-114">**Install default**.</span></span> <span data-ttu-id="e7d7a-115">ルール エンジンのインストール時に BizTalk Server によって設定される値。</span><span class="sxs-lookup"><span data-stu-id="e7d7a-115">Value set by BizTalk Server when installing the rule engine.</span></span>  
  
|<span data-ttu-id="e7d7a-116">名前</span><span class="sxs-lookup"><span data-stu-id="e7d7a-116">Name</span></span>|<span data-ttu-id="e7d7a-117">Description</span><span class="sxs-lookup"><span data-stu-id="e7d7a-117">Description</span></span>|<span data-ttu-id="e7d7a-118">構成の既定値</span><span class="sxs-lookup"><span data-stu-id="e7d7a-118">Config default</span></span>|<span data-ttu-id="e7d7a-119">インストールの既定値</span><span class="sxs-lookup"><span data-stu-id="e7d7a-119">Install default</span></span>|  
|----------|-----------------|--------------------|---------------------|  
|<span data-ttu-id="e7d7a-120">InstallPath</span><span class="sxs-lookup"><span data-stu-id="e7d7a-120">InstallPath</span></span>|<span data-ttu-id="e7d7a-121">構成時に使用される BRE ファイルの場所。</span><span class="sxs-lookup"><span data-stu-id="e7d7a-121">Location of BRE files that is used at the configuration time.</span></span>|<span data-ttu-id="e7d7a-122">(null)</span><span class="sxs-lookup"><span data-stu-id="e7d7a-122">(null)</span></span>|<span data-ttu-id="e7d7a-123">C:\Program Files\Common Files\Microsoft BizTalk (64 ビット オペレーティング システムでは C:\Program Files (x86)\Common Files\Microsoft BizTalk)</span><span class="sxs-lookup"><span data-stu-id="e7d7a-123">C:\Program Files\Common Files\Microsoft BizTalk (or C:\Program Files (x86)\Common Files\Microsoft BizTalk on a 64-bit operating system)</span></span>|  
|<span data-ttu-id="e7d7a-124">DatabaseServer</span><span class="sxs-lookup"><span data-stu-id="e7d7a-124">DatabaseServer</span></span>|<span data-ttu-id="e7d7a-125">使用されるデータベース サーバー。</span><span class="sxs-lookup"><span data-stu-id="e7d7a-125">Database server used.</span></span>|<span data-ttu-id="e7d7a-126">(空の文字列)</span><span class="sxs-lookup"><span data-stu-id="e7d7a-126">(empty string)</span></span>|<span data-ttu-id="e7d7a-127">BRE の構成時に指定されたデータベース サーバーの名前。</span><span class="sxs-lookup"><span data-stu-id="e7d7a-127">Name of the database server specified during configuration of BRE.</span></span>|  
|<span data-ttu-id="e7d7a-128">DatabaseName</span><span class="sxs-lookup"><span data-stu-id="e7d7a-128">DatabaseName</span></span>|<span data-ttu-id="e7d7a-129">使用されるデータベース ユーザーの名前。</span><span class="sxs-lookup"><span data-stu-id="e7d7a-129">Name of database to be used.</span></span>|<span data-ttu-id="e7d7a-130">(空の文字列)</span><span class="sxs-lookup"><span data-stu-id="e7d7a-130">(empty string)</span></span>|<span data-ttu-id="e7d7a-131">BRE の構成時に指定されたデータベースの名前。</span><span class="sxs-lookup"><span data-stu-id="e7d7a-131">Name of the database specified during configuration of BRE.</span></span> <span data-ttu-id="e7d7a-132">通常は BizTalkRuleEngineDb。</span><span class="sxs-lookup"><span data-stu-id="e7d7a-132">Typically, it is BizTalkRuleEngineDb</span></span>|  
|<span data-ttu-id="e7d7a-133">PubSubAdapterAssembly</span><span class="sxs-lookup"><span data-stu-id="e7d7a-133">PubSubAdapterAssembly</span></span>|<span data-ttu-id="e7d7a-134">パブリッシュ/サブスクライブ アダプターのアセンブリ名。</span><span class="sxs-lookup"><span data-stu-id="e7d7a-134">Assembly name of pub/sub adapter.</span></span>|<span data-ttu-id="e7d7a-135">Microsoft.RuleEngine</span><span class="sxs-lookup"><span data-stu-id="e7d7a-135">Microsoft.RuleEngine</span></span>|<span data-ttu-id="e7d7a-136">Microsoft.RuleEngine</span><span class="sxs-lookup"><span data-stu-id="e7d7a-136">Microsoft.RuleEngine</span></span>|  
|<span data-ttu-id="e7d7a-137">PubSubAdapterClass</span><span class="sxs-lookup"><span data-stu-id="e7d7a-137">PubSubAdapterClass</span></span>|<span data-ttu-id="e7d7a-138">パブリッシュ/サブスクライブ アダプターのクラス名。</span><span class="sxs-lookup"><span data-stu-id="e7d7a-138">Class name of pub/sub adapter.</span></span>|<span data-ttu-id="e7d7a-139">Microsoft.RuleEngine.PubSubAdapter</span><span class="sxs-lookup"><span data-stu-id="e7d7a-139">Microsoft.RuleEngine.PubSubAdapter</span></span>|<span data-ttu-id="e7d7a-140">Microsoft.RuleEngine.PubSubAdapter</span><span class="sxs-lookup"><span data-stu-id="e7d7a-140">Microsoft.RuleEngine.PubSubAdapter</span></span>|  
|<span data-ttu-id="e7d7a-141">DeploymentDriverAssembly</span><span class="sxs-lookup"><span data-stu-id="e7d7a-141">DeploymentDriverAssembly</span></span>|<span data-ttu-id="e7d7a-142">展開ドライバーのアセンブリ名。</span><span class="sxs-lookup"><span data-stu-id="e7d7a-142">Assembly name of deployment driver.</span></span>|<span data-ttu-id="e7d7a-143">Microsoft.RuleEngine</span><span class="sxs-lookup"><span data-stu-id="e7d7a-143">Microsoft.RuleEngine</span></span>|<span data-ttu-id="e7d7a-144">Microsoft.BizTalk.RuleEngineExtensions</span><span class="sxs-lookup"><span data-stu-id="e7d7a-144">Microsoft.BizTalk.RuleEngineExtensions</span></span>|  
|<span data-ttu-id="e7d7a-145">DeploymentDriverClass</span><span class="sxs-lookup"><span data-stu-id="e7d7a-145">DeploymentDriverClass</span></span>|<span data-ttu-id="e7d7a-146">展開ドライバーのクラス名。</span><span class="sxs-lookup"><span data-stu-id="e7d7a-146">Class name of deployment driver.</span></span>|<span data-ttu-id="e7d7a-147">Microsoft.RuleEngine.RuleSetDeploymentDriver</span><span class="sxs-lookup"><span data-stu-id="e7d7a-147">Microsoft.RuleEngine.RuleSetDeploymentDriver</span></span>|<span data-ttu-id="e7d7a-148">Microsoft.BizTalk.RuleEngineExtensions.RuleSetDeploymentDriver</span><span class="sxs-lookup"><span data-stu-id="e7d7a-148">Microsoft.BizTalk.RuleEngineExtensions.RuleSetDeploymentDriver</span></span>|  
|<span data-ttu-id="e7d7a-149">TrackingInterceptorAssembly</span><span class="sxs-lookup"><span data-stu-id="e7d7a-149">TrackingInterceptorAssembly</span></span>|<span data-ttu-id="e7d7a-150">追跡情報インターセプターのアセンブリ名。</span><span class="sxs-lookup"><span data-stu-id="e7d7a-150">Assembly name of tracking interceptor.</span></span>|<span data-ttu-id="e7d7a-151">(空の文字列)</span><span class="sxs-lookup"><span data-stu-id="e7d7a-151">(empty string)</span></span>|<span data-ttu-id="e7d7a-152">Microsoft.BizTalk.RuleEngineExtensions</span><span class="sxs-lookup"><span data-stu-id="e7d7a-152">Microsoft.BizTalk.RuleEngineExtensions</span></span>|  
|<span data-ttu-id="e7d7a-153">TrackingInterceptorClass</span><span class="sxs-lookup"><span data-stu-id="e7d7a-153">TrackingInterceptorClass</span></span>|<span data-ttu-id="e7d7a-154">追跡情報インターセプターのクラス名。</span><span class="sxs-lookup"><span data-stu-id="e7d7a-154">Class name of tracking interceptor.</span></span>|<span data-ttu-id="e7d7a-155">(空の文字列)</span><span class="sxs-lookup"><span data-stu-id="e7d7a-155">(empty string)</span></span>|<span data-ttu-id="e7d7a-156">Microsoft.BizTalk.RuleEngineExtensions.RuleSetTrackingInterceptor</span><span class="sxs-lookup"><span data-stu-id="e7d7a-156">Microsoft.BizTalk.RuleEngineExtensions.RuleSetTrackingInterceptor</span></span>|  
|<span data-ttu-id="e7d7a-157">TranslationTimeout</span><span class="sxs-lookup"><span data-stu-id="e7d7a-157">TranslationTimeout</span></span>|<span data-ttu-id="e7d7a-158">ルール セットの変換に使用できる最大時間 (ミリ秒)。</span><span class="sxs-lookup"><span data-stu-id="e7d7a-158">Maximum time in milliseconds that can be used to translate a ruleset.</span></span> <span data-ttu-id="e7d7a-159">**注:**これは ruleset ごとに、RuleSetConfiguration を使用してオーバーライドすることができます)。</span><span class="sxs-lookup"><span data-stu-id="e7d7a-159">**Note:**  This can be overridden on a per-ruleset basis by using the RuleSetConfiguration).</span></span>|<span data-ttu-id="e7d7a-160">60000 (1 分)</span><span class="sxs-lookup"><span data-stu-id="e7d7a-160">60000 (1 minute)</span></span>|<span data-ttu-id="e7d7a-161">60000</span><span class="sxs-lookup"><span data-stu-id="e7d7a-161">60000</span></span>|  
|<span data-ttu-id="e7d7a-162">UpdateServiceName</span><span class="sxs-lookup"><span data-stu-id="e7d7a-162">UpdateServiceName</span></span>|<span data-ttu-id="e7d7a-163">更新サービスの名前。.NET リモート処理で、サービスを探す場合に使用されます。</span><span class="sxs-lookup"><span data-stu-id="e7d7a-163">Name of the Update service, used by .NET remoting to locate the service.</span></span>|<span data-ttu-id="e7d7a-164">RemoteUpdateService</span><span class="sxs-lookup"><span data-stu-id="e7d7a-164">RemoteUpdateService</span></span>|<span data-ttu-id="e7d7a-165">RemoteUpdateService</span><span class="sxs-lookup"><span data-stu-id="e7d7a-165">RemoteUpdateService</span></span>|  
|<span data-ttu-id="e7d7a-166">UpdateServiceHost</span><span class="sxs-lookup"><span data-stu-id="e7d7a-166">UpdateServiceHost</span></span>|<span data-ttu-id="e7d7a-167">更新サービスをホストするコンピューター。.NET リモート処理で、サービスを探す場合に使用されます。</span><span class="sxs-lookup"><span data-stu-id="e7d7a-167">Computer hosting the Update service, used by .NET remoting to locate the service.</span></span> <span data-ttu-id="e7d7a-168">**注:**サービスが現在受信メッセージを同じコンピューターにのみに制限します。</span><span class="sxs-lookup"><span data-stu-id="e7d7a-168">**Note:**  The service currently restricts incoming messages to same machine only.</span></span>|<span data-ttu-id="e7d7a-169">localhost</span><span class="sxs-lookup"><span data-stu-id="e7d7a-169">localhost</span></span>|<span data-ttu-id="e7d7a-170">localhost</span><span class="sxs-lookup"><span data-stu-id="e7d7a-170">localhost</span></span>|  
|<span data-ttu-id="e7d7a-171">UpdateServicePort</span><span class="sxs-lookup"><span data-stu-id="e7d7a-171">UpdateServicePort</span></span>|<span data-ttu-id="e7d7a-172">更新サービスが使用する TCP ポート番号。.NET リモート処理で、サービスを探す場合に使用されます。</span><span class="sxs-lookup"><span data-stu-id="e7d7a-172">TCP port number used by the Update service, used by .NET remoting to locate the service.</span></span>|<span data-ttu-id="e7d7a-173">3132</span><span class="sxs-lookup"><span data-stu-id="e7d7a-173">3132</span></span>|<span data-ttu-id="e7d7a-174">3132</span><span class="sxs-lookup"><span data-stu-id="e7d7a-174">3132</span></span>|  
|<span data-ttu-id="e7d7a-175">CacheEntries</span><span class="sxs-lookup"><span data-stu-id="e7d7a-175">CacheEntries</span></span>|<span data-ttu-id="e7d7a-176">更新サービスによってキャッシュされるルール セットの最大数。</span><span class="sxs-lookup"><span data-stu-id="e7d7a-176">Maximum number of rulesets cached by the Update service.</span></span>|<span data-ttu-id="e7d7a-177">32</span><span class="sxs-lookup"><span data-stu-id="e7d7a-177">32</span></span>|<span data-ttu-id="e7d7a-178">32</span><span class="sxs-lookup"><span data-stu-id="e7d7a-178">32</span></span>|  
|<span data-ttu-id="e7d7a-179">CacheTimeout</span><span class="sxs-lookup"><span data-stu-id="e7d7a-179">CacheTimeout</span></span>|<span data-ttu-id="e7d7a-180">更新サービス キャッシュのエントリが期限切れになるまでの時間 (秒)。</span><span class="sxs-lookup"><span data-stu-id="e7d7a-180">Time in seconds for entries to age out of the Update service cache.</span></span>|<span data-ttu-id="e7d7a-181">3600 (1 時間)</span><span class="sxs-lookup"><span data-stu-id="e7d7a-181">3600 (1 hour)</span></span>|<span data-ttu-id="e7d7a-182">3600</span><span class="sxs-lookup"><span data-stu-id="e7d7a-182">3600</span></span>|  
|<span data-ttu-id="e7d7a-183">PollingInterval</span><span class="sxs-lookup"><span data-stu-id="e7d7a-183">PollingInterval</span></span>|<span data-ttu-id="e7d7a-184">更新サービスが更新のために SqlRuleStore をチェックする時間 (秒)。</span><span class="sxs-lookup"><span data-stu-id="e7d7a-184">Time in seconds for the Update service to check SqlRuleStore for updates.</span></span>|<span data-ttu-id="e7d7a-185">60 (1 分)</span><span class="sxs-lookup"><span data-stu-id="e7d7a-185">60 (1 minute)</span></span>|<span data-ttu-id="e7d7a-186">60</span><span class="sxs-lookup"><span data-stu-id="e7d7a-186">60</span></span>|  
|<span data-ttu-id="e7d7a-187">SqlTimeout</span><span class="sxs-lookup"><span data-stu-id="e7d7a-187">SqlTimeout</span></span>|<span data-ttu-id="e7d7a-188">SQL ルール ストアにアクセスする SQL コマンドのタイムアウト値。</span><span class="sxs-lookup"><span data-stu-id="e7d7a-188">Timeout value for SQL commands that access the SQL rule store.</span></span> <span data-ttu-id="e7d7a-189">このキーの値は、次のように解釈されます。</span><span class="sxs-lookup"><span data-stu-id="e7d7a-189">The value for this key is interpreted as follows:</span></span><br /><br /> <span data-ttu-id="e7d7a-190">< 0 - .NET の既定値 (30 秒) の使用</span><span class="sxs-lookup"><span data-stu-id="e7d7a-190">< 0 - Uses the .NET default value (30 seconds)</span></span><br /><br /> <span data-ttu-id="e7d7a-191">= 0 - 無限のタイムアウト</span><span class="sxs-lookup"><span data-stu-id="e7d7a-191">= 0 - Unlimited timeout</span></span><br /><br /> <span data-ttu-id="e7d7a-192">> 0 - クエリがタイムアウトするまでの最大時間</span><span class="sxs-lookup"><span data-stu-id="e7d7a-192">> 0 - Maximum time for a query before it times out</span></span>|<span data-ttu-id="e7d7a-193">-1</span><span class="sxs-lookup"><span data-stu-id="e7d7a-193">-1</span></span>|<span data-ttu-id="e7d7a-194">-1</span><span class="sxs-lookup"><span data-stu-id="e7d7a-194">-1</span></span>|  
  
 <span data-ttu-id="e7d7a-195">説明したように StaticSupport をという名前のレジストリ キーを追加することもできます。[クラスの静的メンバーの呼び出し](../core/invoking-static-members-of-a-class.md)です。</span><span class="sxs-lookup"><span data-stu-id="e7d7a-195">You can also add a registry key named StaticSupport as mentioned in [Invoking Static Members of a Class](../core/invoking-static-members-of-a-class.md).</span></span>  
  
 <span data-ttu-id="e7d7a-196">レジストリの設定は、ルール エンジン インスタンスをホストする全アプリケーションに対してグローバルに適用されます。</span><span class="sxs-lookup"><span data-stu-id="e7d7a-196">The registry settings are global for all applications that host a rule engine instance.</span></span> <span data-ttu-id="e7d7a-197">これらのレジストリの設定は、アプリケーション レベルで、アプリケーション構成ファイルを使用して上書きすることができます。</span><span class="sxs-lookup"><span data-stu-id="e7d7a-197">You can override these registry settings at an application level by using the application configuration file.</span></span> <span data-ttu-id="e7d7a-198">[!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] アプリケーションでは、ホスト アプリケーションは BTSNTSvc.exe であり、構成ファイルは BTSNTSvc.exe.config です。これらは [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] インストール ディレクトリ内にあります。</span><span class="sxs-lookup"><span data-stu-id="e7d7a-198">For [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] applications, the host application is the BTSNTSvc.exe and the configuration file is the BTSNTSvc.exe.config, which you can find in the [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] installation directory.</span></span>  <span data-ttu-id="e7d7a-199">次に示すように、アプリケーション構成ファイルで上書きする構成パラメーターに対して値を指定する必要があります。</span><span class="sxs-lookup"><span data-stu-id="e7d7a-199">You need to specify the values for the configuration parameters that you want to override in the application configuration file as show below:</span></span>  
  
```  
<configuration>  
    <configSections>  
        <section name="Microsoft.RuleEngine" type="System.Configuration.SingleTagSectionHandler" />  
    </configSections>  
    <Microsoft.RuleEngine  
        UpdateServiceHost="localhost"  
        UpdateServicePort="3132"  
        UpdateServiceName="RemoteUpdateService"  
        CacheEntries="32"  
        CacheTimeout="3600"  
        PollingInterval="60"  
        TranslationTimeout="3600"  
        CachePruneInterval="60"  
        DatabaseServer="(localhost)"  
        DatabaseName="BizTalkRuleEngineDb"  
        SqlTimeout="-1"  
        StaticSupport="1"  
    />  
</configuration>  
```