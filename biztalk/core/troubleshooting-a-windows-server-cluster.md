---
title: Windows Server クラスターのトラブルシューティング |Microsoft ドキュメント
ms.custom: ''
ms.date: 06/08/2017
ms.prod: biztalk-server
ms.reviewer: ''
ms.suite: ''
ms.tgt_pltfrm: ''
ms.topic: article
ms.assetid: 283cf4cd-ce40-48b7-8549-9ab17d7d2c34
caps.latest.revision: 27
author: MandiOhlinger
ms.author: mandia
manager: anneta
ms.openlocfilehash: da1159bafc42f6cfbf47621e3b846764e50e5267
ms.sourcegitcommit: cb908c540d8f1a692d01dc8f313e16cb4b4e696d
ms.translationtype: MT
ms.contentlocale: ja-JP
ms.lasthandoff: 09/20/2017
ms.locfileid: "22279962"
---
# <a name="troubleshooting-a-windows-server-cluster"></a><span data-ttu-id="98a15-102">Windows Server クラスターのトラブルシューティング</span><span class="sxs-lookup"><span data-stu-id="98a15-102">Troubleshooting a Windows Server Cluster</span></span>
<span data-ttu-id="98a15-103">Microsoft [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] は、ホスト クラスター サポートを利用するために Windows Server クラスターをサポートし、エンタープライズ シングル サインオン (SSO) マスター シークレットおよび [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] データベースの高可用性を実現します。</span><span class="sxs-lookup"><span data-stu-id="98a15-103">Microsoft [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] supports the use of Windows Server cluster for host cluster support, to provide high availability for the Enterprise Single Sign-On (SSO) Master Secret, and to provide high availability for the [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] databases.</span></span> <span data-ttu-id="98a15-104">このトピックでは、Windows Server クラスター環境で [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] を使用するための一般的なガイドラインを示し、Windows Server クラスター環境で [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] を使用する際に発生する可能性がある既知の問題点について説明します。</span><span class="sxs-lookup"><span data-stu-id="98a15-104">This topic provides some general guidelines for using [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] in a Windows Server cluster environment and discusses some known issues that may occur when using [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] in a Windows Server cluster environment.</span></span>  
  
## <a name="general-guidelines"></a><span data-ttu-id="98a15-105">一般的なガイドライン</span><span class="sxs-lookup"><span data-stu-id="98a15-105">General Guidelines</span></span>  
 <span data-ttu-id="98a15-106">Windows Server クラスターの生産性を最大化し、影響を与える可能性があります、Windows Server クラスターの問題のトラブルシューティングを行うに次の一般的なガイドラインに従って[!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)]です。</span><span class="sxs-lookup"><span data-stu-id="98a15-106">Follow these general guidelines to maximize productivity with Windows Server cluster and to troubleshoot Windows Server cluster problems that may affect [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)].</span></span>  
  
1.  <span data-ttu-id="98a15-107">[!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] の完全な概念実証によって、仮想化されたサーバー環境で Windows Server クラスターを機能させることができます。</span><span class="sxs-lookup"><span data-stu-id="98a15-107">Complete [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] proof of concept work with a Windows Server cluster in a virtualized server environment.</span></span>  
  
     <span data-ttu-id="98a15-108">**仮想化されたサーバー環境を作成する、Windows Server 2008 で使用可能な HYPER-V の役割を使用できます。**</span><span class="sxs-lookup"><span data-stu-id="98a15-108">**The Hyper-V role available with Windows Server 2008 can be used to create a virtualized server environment.**</span></span>  
  
    -   <span data-ttu-id="98a15-109">Windows Server 2008 HYPER-V の詳細を参照してください「の仮想化との統合」 [http://go.microsoft.com/fwlink/?LinkID=121187](http://go.microsoft.com/fwlink/?LinkID=121187)です。</span><span class="sxs-lookup"><span data-stu-id="98a15-109">For more information about Windows Server 2008 Hyper-V, see “Virtualization and Consolidation” at [http://go.microsoft.com/fwlink/?LinkID=121187](http://go.microsoft.com/fwlink/?LinkID=121187).</span></span>  
  
    -   <span data-ttu-id="98a15-110">HYPER-V で提供される仮想化テクノロジを活用することの利点の深さについての詳細は、"高度な仮想化の利点がありますの Windows Server 2008 のエディションの Enterprise"からダウンロードできるホワイト ペーパーを参照してください[。http://go.microsoft.com/fwlink/?LinkId=123530](http://go.microsoft.com/fwlink/?LinkId=123530)です。</span><span class="sxs-lookup"><span data-stu-id="98a15-110">For more in depth information about the benefits of leveraging virtualization technology provided with Hyper-V, see the whitepaper "Advanced Virtualization Benefits of Windows Server 2008 Editions for the Enterprise" available for download at [http://go.microsoft.com/fwlink/?LinkId=123530](http://go.microsoft.com/fwlink/?LinkId=123530).</span></span>  
  
    -   <span data-ttu-id="98a15-111">HYPER-V を使用して、Windows Server 2008 クラスターを作成する手順については、「 [http://go.microsoft.com/fwlink/?LinkId=129680](http://go.microsoft.com/fwlink/?LinkId=129680)です。</span><span class="sxs-lookup"><span data-stu-id="98a15-111">Steps for using Hyper-V to create a Windows Server 2008 cluster are available at [http://go.microsoft.com/fwlink/?LinkId=129680](http://go.microsoft.com/fwlink/?LinkId=129680).</span></span>  
  
     <span data-ttu-id="98a15-112">[!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] の概念実証により仮想化されたサーバー環境で Windows Server クラスターを使用できるようになると、高い柔軟性が得られ、使用するハードウェア リソースも Windows Server クラスターに比べて大幅に削減できます。</span><span class="sxs-lookup"><span data-stu-id="98a15-112">Doing [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] proof of concept work with a Windows Server cluster in a virtualized server environment offers great flexibility and uses considerably fewer hardware resources than required for a Windows Server cluster.</span></span> <span data-ttu-id="98a15-113">この方法を利用する場合は、ホスト コンピューター上で同時に実行する各仮想マシンに対して 512 MB 以上のメモリを割り当て、ホスト オペレーティング システムには 512 MB のメモリを追加します。</span><span class="sxs-lookup"><span data-stu-id="98a15-113">If this approach is used, allocate at least 512 MB of memory for each virtual machine that is concurrently running on the host computer and an additional 512 MB of memory for the host operating system.</span></span> <span data-ttu-id="98a15-114">たとえば、5 つの仮想マシン (BizTalk Server の 2 クラスター ノード、Microsoft SQL Server の 2 クラスター ノード、および 1 つのドメイン コントローラー) で構成した Windows Server クラスターを使用する [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] のソリューションでは、ホスト コンピューターに 3 GB のメモリをインストールすることを計画します。</span><span class="sxs-lookup"><span data-stu-id="98a15-114">For example, for a [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] solution with a Windows Server cluster that uses five virtual machines (two BizTalk Server cluster nodes, two Microsoft SQL Server cluster nodes, and one domain controller), you would plan to have 3 GB of memory installed on the host computer.</span></span> <span data-ttu-id="98a15-115">[!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] の概念実証の環境で 2 GB を超えるメモリが必要な場合は、インストールしたすべてのメモリにホスト オペレーティング システムからアクセスできるように、ホスト コンピューターには 64 ビット版 Windows のインストールを検討してください (Hyper-V の役割に必要)。</span><span class="sxs-lookup"><span data-stu-id="98a15-115">If the [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] proof of concept environment requires more than 2 GB of memory, consider installing a 64-bit version of Windows on the host computer (required for the Hyper-V role) to ensure that all installed memory is accessible by the host operating system.</span></span>  
  
## <a name="troubleshooting-resources"></a><span data-ttu-id="98a15-116">トラブルシューティングのリソース</span><span class="sxs-lookup"><span data-stu-id="98a15-116">Troubleshooting Resources</span></span>  
 <span data-ttu-id="98a15-117">**Windows Server 2008 フェールオーバー クラスタ リングのトラブルシューティングに関するリソース**</span><span class="sxs-lookup"><span data-stu-id="98a15-117">**Resources for troubleshooting Windows Server 2008 failover clustering**</span></span>  
  
-   <span data-ttu-id="98a15-118">確認、[フェールオーバー クラスターの検証および Windows Server 2008 でのトラブルシューティング](http://go.microsoft.com/fwlink/?LinkId=129729)Microsoft TechNet Web サイト上の TechNet web キャストします。</span><span class="sxs-lookup"><span data-stu-id="98a15-118">Review the [Failover Cluster Validation and Troubleshooting with Windows Server 2008](http://go.microsoft.com/fwlink/?LinkId=129729) TechNet Webcast on the Microsoft TechNet Web site.</span></span> <span data-ttu-id="98a15-119">この Web キャストでは、Windows Server 2008 でフェールオーバー クラスターの検証とトラブルシューティングの方法が説明されています。</span><span class="sxs-lookup"><span data-stu-id="98a15-119">This web cast describes how to troubleshoot failover cluster validation and troubleshooting with Windows Server 2008.</span></span>  
  
-   <span data-ttu-id="98a15-120">Windows Server 2008 フェールオーバー クラスタ リングに関する問題の分析の詳細については、のトピックを参照します[フェールオーバー クラスターのビュー イベントおよびログ](http://go.microsoft.com/fwlink/?LinkId=129730)Microsoft TechNet Web サイトにします。</span><span class="sxs-lookup"><span data-stu-id="98a15-120">For more information about analyzing problems with Windows Server 2008 failover clustering, review the topic [View Events and Logs for a Failover Cluster](http://go.microsoft.com/fwlink/?LinkId=129730) on the Microsoft TechNet Web site.</span></span>  
  
## <a name="known-issues"></a><span data-ttu-id="98a15-121">既知の問題</span><span class="sxs-lookup"><span data-stu-id="98a15-121">Known Issues</span></span>  
  
#### <a name="any-attempt-to-bring-a-clustered-msdtc-resource-online-fails-which-causes-dependent-biztalk-server-services-to-fail"></a><span data-ttu-id="98a15-122">MSDTC のクラスター化リソースをオンラインにしようとすると、依存関係のある BizTalk Server サービスが動作しなくなる</span><span class="sxs-lookup"><span data-stu-id="98a15-122">Any attempt to bring a clustered MSDTC resource online fails which causes dependent BizTalk Server services to fail</span></span>  
  
##### <a name="problem"></a><span data-ttu-id="98a15-123">問題</span><span class="sxs-lookup"><span data-stu-id="98a15-123">Problem</span></span>  
 <span data-ttu-id="98a15-124">クラスター化された分散トランザクション コーディネーター (MSDTC) リソースをオンラインにすることはできません、**オンライン**オプション クラスター アドミニストレーターで、これにより、 [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] MSDTC に依存している実行時の操作トランザクションのサポートが失敗します。</span><span class="sxs-lookup"><span data-stu-id="98a15-124">A clustered Distributed Transaction Coordinator (MSDTC) resource cannot be brought online through the **Bring Online** option in Cluster Administrator, which causes [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] run-time operations that are dependent upon MSDTC transaction support to fail.</span></span>  
  
##### <a name="cause"></a><span data-ttu-id="98a15-125">原因</span><span class="sxs-lookup"><span data-stu-id="98a15-125">Cause</span></span>  
 <span data-ttu-id="98a15-126">MSDTC のクラスター化リソースで発生するエラーには、次のような理由が考えられます。</span><span class="sxs-lookup"><span data-stu-id="98a15-126">Clustered MSDTC resource failure can occur for a number of reasons including the following:</span></span>  
  
-   <span data-ttu-id="98a15-127">MSDTC のクラスター リソースが正しいディスクを使用して構成されていないと、ネットワーク名リソースの依存関係またはリソースの依存関係が失敗しています。</span><span class="sxs-lookup"><span data-stu-id="98a15-127">The clustered MSDTC resource is not configured with the correct Disk and Network Name resource dependencies or the resource dependencies are failing.</span></span>  
  
-   <span data-ttu-id="98a15-128">アクセス許可に問題があり、MSDTC のクラスター化リソースのアクティブ化を妨げています。</span><span class="sxs-lookup"><span data-stu-id="98a15-128">Permissions problems are preventing the clustered MSDTC resource from being activated.</span></span>  
  
##### <a name="resolution"></a><span data-ttu-id="98a15-129">解決策</span><span class="sxs-lookup"><span data-stu-id="98a15-129">Resolution</span></span>  
 <span data-ttu-id="98a15-130">**Windows Server 2008 クラスターで、次の手順を行います。**</span><span class="sxs-lookup"><span data-stu-id="98a15-130">**Complete the following steps on a Windows Server 2008 cluster:**</span></span>  
  
-   <span data-ttu-id="98a15-131">手順に従います[チェックリスト: Windows Server 2008 フェールオーバー クラスターでの MS DTC リソースの作成](http://go.microsoft.com/fwlink/?LinkId=129677)Windows Server 2008 フェールオーバー クラスターで 1 つまたは複数のクラスター化された MSDTC リソースを作成するためです。</span><span class="sxs-lookup"><span data-stu-id="98a15-131">Follow the steps in [Checklist: Creating an MS DTC Resource in a Windows Server 2008 Failover Cluster](http://go.microsoft.com/fwlink/?LinkId=129677) for creating one or more clustered MSDTC resources on a Windows Server 2008 failover cluster.</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="98a15-132">参照</span><span class="sxs-lookup"><span data-stu-id="98a15-132">See Also</span></span>  
 <span data-ttu-id="98a15-133">[Windows Server クラスターを使用して BizTalk Server Hosts2 の高可用性を実現するには](../core/use-windows-cluster-to-provide-high-availability-for-biztalk-hosts.md) </span><span class="sxs-lookup"><span data-stu-id="98a15-133">[Using Windows Server Cluster to Provide High Availability for BizTalk Server Hosts2](../core/use-windows-cluster-to-provide-high-availability-for-biztalk-hosts.md) </span></span>  
 <span data-ttu-id="98a15-134">[BizTalk Server データベースをクラスタ リング](../core/clustering-the-biztalk-server-databases1.md) </span><span class="sxs-lookup"><span data-stu-id="98a15-134">[Clustering the BizTalk Server Databases](../core/clustering-the-biztalk-server-databases1.md) </span></span>  
 <span data-ttu-id="98a15-135">[サンプル BizTalk Server の高可用性のシナリオ](../core/sample-biztalk-server-high-availability-scenarios.md) </span><span class="sxs-lookup"><span data-stu-id="98a15-135">[Sample BizTalk Server High Availability Scenarios](../core/sample-biztalk-server-high-availability-scenarios.md) </span></span>  
 [<span data-ttu-id="98a15-136">高可用性 SSO インストール オプション</span><span class="sxs-lookup"><span data-stu-id="98a15-136">High-Availability SSO Installation Options</span></span>](../core/high-availability-sso-installation-options.md)