---
title: MSMQ 受信場所を構成する方法 |Microsoft ドキュメント
ms.custom: ''
ms.date: 06/08/2017
ms.prod: biztalk-server
ms.reviewer: ''
ms.suite: ''
ms.tgt_pltfrm: ''
ms.topic: article
helpviewer_keywords:
- MSMQ adapters, receive locations
- receive locations, MSMQ adapters
- configuring [MSMQ adapters], receive locations
ms.assetid: ba25cf43-18f1-4c19-84fb-74c7b82b95a9
caps.latest.revision: 43
author: MandiOhlinger
ms.author: mandia
manager: anneta
ms.openlocfilehash: 795b72318054525485a64c9dd704b81ddf6cb6b9
ms.sourcegitcommit: 3fc338e52d5dbca2c3ea1685a2faafc7582fe23a
ms.translationtype: MT
ms.contentlocale: ja-JP
ms.lasthandoff: 12/01/2017
ms.locfileid: "26008251"
---
# <a name="how-to-configure-an-msmq-receive-location"></a>MSMQ の受信場所を構成する方法
MSMQ の受信場所のアダプター変数は、BizTalk Server 管理コンソールで設定できます。 プロパティが受信場所に設定されていない場合は、BizTalk Server 管理コンソールで設定された既定の受信ハンドラーの値が使用されます。  
  
> [!NOTE]
>  次の手順を実行する前に、受信ポートを追加する必要があります。 詳細については、次を参照してください。[受信ポートを作成する方法](../core/how-to-create-a-receive-port.md)です。  
  
> [!IMPORTANT]
>  ホスト インスタンスが MSMQ 送信ポートまたは受信場所に関連付けられている場合、そのコンピューターで MSMQ サービスが実行されていることを確認してください。 サービスが実行されていない場合、MSMQ 受信ポートは、起動後すぐにシャットダウンされ、MSMQ 送信ポートに送信されたメッセージは中断されます。  
>   
>  クラスター環境では、クラスター化された MSMQ インスタンスが実行されていることに加え、各クラスター コンピューターでローカル MSMQ サービスが実行されている必要があります。  
  
## <a name="to-configure-variables-for-an-msmq-receive-location"></a>MSMQ の受信場所の変数を構成するには  
 MSMQ の受信場所の変数を構成するには、次の手順を実行します。  
  
1.  BizTalk Server 管理コンソールで、次のように展開します**BizTalk Server 管理コンソール**、展開**BizTalk グループ**、展開**アプリケーション**、の順に展開し、。受信場所を作成するアプリケーション。  
  
2.  BizTalk Server 管理コンソールで、左側のウィンドウでをクリックして、**受信ポート**ノード。 次に右ウィンドウで、既存の受信場所に関連付けられているか、新しい受信場所に関連付ける受信ポートを右クリックし、**[プロパティ]** をクリックします。  
  
3.  **受信ポートのプロパティ**ダイアログ ボックスで、左ペインで、select、**受信場所**、右側のペインをダブルクリックして、既存の受信場所またはをクリックし **新規**新しい受信場所を作成します。  
  
4.  **受信場所のプロパティ**] ダイアログ ボックスで、**トランスポート**横**型**[ **MSMQ**ドロップダウン リストからクリックして**構成**です。  
  
5.  **MSMQ トランスポートのプロパティ** ダイアログ ボックスで、次の操作します。  
  
    |プロパティ|目的|日付型|既定値|  
    |--------------|----------------|---------------|-------------------|  
    |**Password**|リモート キューに使用するパスワードを設定します。|文字列|空白|  
    |**[ユーザー名]**|リモート キューにアクセスするため、パスワードと組み合わせて使用するユーザー名を設定します。 リモート コンピューターのローカル ユーザーは、ユーザー名に使用できません。|文字列|空白|  
    |**バッチ サイズ**|バッチ サイズを構成します。 MSMQ アダプターでは、メッセージがメッセージ ボックス データベースにバッチ単位で送信されます。 既定のバッチ サイズは 20 で、最小値は 1 です。 **注:** 場合、**トランザクション**受信場所のプロパティに設定されて**True**; 各メッセージ バッチは、Microsoft 分散のコンテキストでメッセージ ボックス データベースに送信トランザクション コーディネーター (MSDTC) トランザクションです。 メッセージ バッチ用に作成された MSDTC トランザクションは、そのメッセージ バッチのすべてのメッセージがメッセージ ボックスに保存され、適切なサブスクライバー キューに置かれるまで、開いたままになります。 したがって、この MSDTC トランザクションの期間を増やしてとして、**バッチ サイズ**パラメーターが増加します。 多数の MSDTC トランザクションのオープンを同時に持つことができますに悪影響を与える全体的なパフォーマンスは、ので、**バッチ サイズ**トランザクションのサポートが有効にすると、パラメーターを非常に大きな値を設定しない必要があります。|int|20|  
    |**エラー発生時に**|エラーに対するアダプターの対応方法を指定します。 このプロパティには、次のいずれかの値を設定します。<br /><br /> -   **停止します。** エラー状態になった場合、この受信場所からのメッセージの受信を停止します。<br />-   **Suspend(non-resumable) です。** メッセージを中断し、再開不可のマークを付けます。<br />-   **Suspend(resumable) です。** メッセージを中断し、再開可能のマークを付けます。 **重要:** 場合、 **True**オプションを**順次処理**、プロパティ、**停止**オプションを**エラー時**プロパティ、および**False**オプションを**トランザクション**プロパティは、同時に適用し、配信に失敗したメッセージは一時停止中またはソースのキューに残っていません。 この場合、メッセージが失われる可能性があります。 使用する場合に、データ損失を防ぐために、**順次処理**、機能、**停止**オプションを**エラー時**プロパティは、場合にのみ適用する必要があります、**は True。** オプションを**トランザクション**プロパティを適用します。 これにより、メッセージの配信エラーが発生した場合も、送信元の MSMQ キューに元のメッセージが残ります。 場合、**順次処理**の値に設定されて**False** 、**エラー時**とメッセージをメッセージ配信エラーが発生したかどうかの影響を行わないプロパティ状態が中断されます**中断 (再開可能)** です。|文字列|中断 (再開可能)|  
    |**順次処理**|このプロパティを設定**True**または**False**です。 このプロパティは、メッセージを順番に処理するかどうかを示しています。 プロパティを設定**True** 、BizTalk メッセージングまたはオーケストレーション送信ポートを持つと組み合わせて使用すると、メッセージの順次配送を合わせて、**順次配送**にセットのオプション**True**です。 詳細については、次を参照してください。[のメッセージ配信の順序付け](../core/ordered-delivery-of-messages.md)です。<br /><br /> このプロパティを設定**True**アダプターをシングル スレッド化して大きなメッセージを処理する場合にもリソースの利用状況を最適化します。 詳細については、次を参照してください。 [MSMQ アダプターを使用してサイズの大きいメッセージを送受信する](../core/sending-and-receiving-large-messages-using-the-msmq-adapter.md)です。|ブール値|False|  
    |**キュー**|有効なキューのパスを入力します。 指定するキューのパスに応じて、システムが適切な検証を行います。 **注:** の URI を送信ポートまたは受信場所は、256 文字を超えることはできません。 **注:** MSMQ 受信アダプターでは、ポーリング メカニズムを使用して 0.5 秒ごとに新しいメッセージの指定した MSMQ キューを監視します。 この 0.5 秒は固定の間隔です。|文字列|空白|  
    |**トランザクション**|このプロパティを設定**True**または**False**です。 **注:** アダプターがメッセージ キュー 4.0 以降のみでのリモート キューのトランザクション読み取りをサポートします。 このシナリオでは、BizTalk Server とリモートのメッセージ キュー サーバーの両方あります実行されているメッセージ キュー 4.0 またはそれ以降。 <br /><br /> 詳細については、次を参照してください。 [MSMQ アダプタを構成する](../core/configuring-the-msmq-adapter.md)と[化されたクラスター化されたホストでアダプター ハンドラーの実行に関する考慮事項](../core/considerations-for-running-adapter-handlers-within-a-clustered-host1.md)です。|ブール値|False|  
  
    > [!NOTE]
    >  **ユーザー名**と**パスワード**リモート キューにアクセスするために使用する Windows アカウントのみに適用します。  
  
6.  **[OK]** をクリックします。  
  
7.  **受信場所のプロパティ** ダイアログ ボックスで、受信場所の構成を完了し、をクリックするには、適切な値を入力して**OK**設定を保存します。 については、**受信場所のプロパティ**ダイアログ ボックスを参照してください[受信場所を作成する方法](../core/how-to-create-a-receive-location.md)です。  
  
## <a name="see-also"></a>参照  
 [MSMQ アダプターの構成](../core/configuring-the-msmq-adapter.md)