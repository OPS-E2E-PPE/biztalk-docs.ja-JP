---
title: MSMQ 受信場所を構成する方法 |Microsoft Docs
ms.custom: ''
ms.date: 06/08/2017
ms.prod: biztalk-server
ms.reviewer: ''
ms.suite: ''
ms.tgt_pltfrm: ''
ms.topic: article
helpviewer_keywords:
- MSMQ adapters, receive locations
- receive locations, MSMQ adapters
- configuring [MSMQ adapters], receive locations
ms.assetid: ba25cf43-18f1-4c19-84fb-74c7b82b95a9
caps.latest.revision: 43
author: MandiOhlinger
ms.author: mandia
manager: anneta
ms.openlocfilehash: 1c6fcccda5b338df469baf740a118bded4b160f9
ms.sourcegitcommit: 381e83d43796a345488d54b3f7413e11d56ad7be
ms.translationtype: MT
ms.contentlocale: ja-JP
ms.lasthandoff: 05/07/2019
ms.locfileid: "65341723"
---
# <a name="how-to-configure-an-msmq-receive-location"></a>MSMQ 受信場所を構成する方法
MSMQ を設定する受信場所のアダプタ変数は、BizTalk Server 管理コンソールでします。 プロパティが受信場所に設定されていない場合は、BizTalk Server 管理コンソールで設定された既定の受信ハンドラーの値が使用されます。  
  
> [!NOTE]
>  次の手順を実行する前に、受信ポートを追加する必要があります。 詳細については、次を参照してください。[受信ポートを作成する方法](../core/how-to-create-a-receive-port.md)します。  
  
> [!IMPORTANT]
>  ホスト インスタンスが MSMQ 送信ポートまたは受信場所に関連付けられている場合、そのコンピューターで MSMQ サービスが実行されていることを確認してください。 サービスが実行されていない場合、MSMQ 受信ポートは、起動後すぐにシャットダウンされ、MSMQ 送信ポートに送信されたメッセージは中断されます。  
>   
>  クラスター環境では、クラスター化された MSMQ インスタンスが実行されていることに加え、各クラスター コンピューターでローカル MSMQ サービスが実行されている必要があります。  
  
## <a name="to-configure-variables-for-an-msmq-receive-location"></a>変数は MSMQ の受信場所を構成するには  
 MSMQ 受信場所の変数を構成するこれらの手順に従います。  
  
1.  BizTalk Server 管理コンソールで  **BizTalk Server 管理**、展開**BizTalk グループ**、展開**アプリケーション**の順に展開し、受信場所を作成するアプリケーション。  
  
2.  左側のウィンドウで、BizTalk Server 管理コンソールでをクリックして、**受信ポート**ノード。 次に右ウィンドウで、既存の受信場所に関連付けられているか、新しい受信場所に関連付ける受信ポートを右クリックし、**[プロパティ]** をクリックします。  
  
3.  **受信ポートのプロパティ**ダイアログ ボックスで、左側のウィンドウで、**受信場所**、右側のウィンドウは、既存の受信場所] をクリックしてまたはダブルクリックし [**新規**、新しい受信場所を作成します。  
  
4.  **受信場所のプロパティ** ダイアログ ボックスで、**トランスポート**の横**型**を選択します**MSMQ**ドロップダウン リストからクリックして**構成**します。  
  
5.  **MSMQ トランスポートのプロパティ** ダイアログ ボックスで、次の操作を行います。  
  
    |プロパティ|目的|日付型|既定値|  
    |--------------|----------------|---------------|-------------------|  
    |**Password**|リモート キューを使用するパスワードを設定します。|String|空白|  
    |**[ユーザー名]**|使用するには、パスワードと組み合わせて、リモート キューにアクセスするためのユーザー名を決定します。 リモート コンピューターのローカル ユーザーは、ユーザー名に使用できません。|String|空白|  
    |**バッチ サイズ**|バッチ サイズを構成します。 MSMQ アダプターでは、バッチ内のメッセージ ボックス データベースにメッセージを送信します。 既定のバッチ サイズは 20 で、最小バッチ サイズは 1。 **注:** 場合、**トランザクション**受信場所のプロパティに設定されて**True**; Microsoft 分散トランザクション コーディネーターのコンテキストでメッセージ ボックス データベースに各メッセージ バッチが送信されます。(MSDTC) トランザクション。 バッチ内のすべてのメッセージをメッセージ ボックス データベースに保存し、適切なサブスクライバー キューに配置されるまで、メッセージ バッチ用に作成した MSDTC トランザクションが開いたままです。 として、この MSDTC トランザクションの期間を増加するため、**バッチ サイズ**パラメーターが増加します。 全体のパフォーマンスに悪影響 MSDTC トランザクションのオープンの数が多いを同時に持つため、**バッチ サイズ**トランザクションのサポートが有効にすると、パラメーターを非常に大きな値に設定しない必要があります。|Int|20|  
    |**エラー発生時**|アダプターがエラーに応答する方法を指定します。 このプロパティを次の値のいずれかに設定します。<br /><br /> -   **停止します。** これで終了します。 メッセージの受信に受信場所が、エラー状態が発生した場合。<br />-   **Suspend(non-resumable) します。** メッセージを中断し、再開不可としてマークします。<br />-   **Suspend(resumable) します。** メッセージを中断し、再開可能としてマークします。 **重要:** 場合、 **True**オプション**順次処理**プロパティ、**停止**オプション、**エラー時**プロパティ、および**False**オプション、**トランザクション**プロパティは、同時に適用し、配信に失敗したメッセージは中断またはソースのキューに残っていません。 このシナリオでは、メッセージの損失が発生することができます。 使用する場合に、データ損失を防ぐために、**順次処理**機能、**停止**オプション、**エラー時**プロパティは、場合にのみ適用する必要があります、**は True。** オプション、**トランザクション**プロパティが適用されます。 次に、メッセージの配信エラーが発生した場合、元のメッセージをソース MSMQ キューに左されます。 場合、**順次処理**の値に設定されて**False** 、**エラー時**効果と、メッセージをメッセージ配信エラーが発生したかどうか、プロパティは実行されません状態が中断されます**中断 (再開可能)** します。|String|Suspend(resumable)|  
    |**順次処理**|このプロパティを設定**True**または**False**します。 これは、メッセージを順番に処理するかどうかを示します。 プロパティを設定する**True** BizTalk メッセージングまたはオーケストレーション送信のポートを持つと組み合わせて使用すると、メッセージの順次配送が可能になります、**順次配送**に設定するオプション**True**します。 詳細については、次を参照してください。[のメッセージ配信の順序付けられた](../core/ordered-delivery-of-messages.md)します。<br /><br /> このプロパティを設定**True**アダプターをシングル スレッド化して大きなメッセージを処理する場合にもリソースの使用状況を最適化します。 詳細については、次を参照してください。 [MSMQ アダプターを使用してサイズの大きいメッセージを送受信する](../core/sending-and-receiving-large-messages-using-the-msmq-adapter.md)します。|ブール値|False|  
    |**キュー**|有効なキューのパスを入力します。 キューのパスを指定する、によっては、システムは、適切な検証を実行します。 **注:** URI を送信ポートまたは受信場所が 256 文字を超えることはできません。 **注:** MSMQ 受信アダプターは、0.5 秒おきに新しいメッセージの指定された MSMQ キューを監視するためのポーリング メカニズムを使用します。 この 0.5 秒の間隔は、固定間隔です。|String|空白|  
    |**トランザクション**|このプロパティを設定**True**または**False**します。 **注:** アダプターはメッセージ キュー 4.0 以降を使用したリモート キューのトランザクション読み込みのみをサポートしています。 このシナリオでは、BizTalk Server とリモート メッセージ キュー サーバーの両方必要があります実行しているメッセージ キュー 4.0 またはそれ以降。 <br /><br /> 詳細については、次を参照してください。 [MSMQ アダプターの構成](../core/configuring-the-msmq-adapter.md)と[されたクラスター化されたホストでアダプター ハンドラーの実行に関する考慮事項](../core/considerations-for-running-adapter-handlers-within-a-clustered-host1.md)します。|ブール値|False|  
  
    > [!NOTE]
    >  **ユーザー名**と**パスワード**リモート キューにアクセスするために使用する Windows アカウントにのみ適用されます。  
  
6.  **[OK]** をクリックします。  
  
7.  **受信場所のプロパティ** ダイアログ ボックスに、受信場所の構成を完了し、をクリックするには、適切な値を入力して、 **OK**設定を保存します。 **[受信場所のプロパティ]** ダイアログ ボックスの詳細については、「 [受信場所を作成する方法](../core/how-to-create-a-receive-location.md)」を参照してください。  
  
## <a name="see-also"></a>参照  
 [MSMQ アダプターの構成](../core/configuring-the-msmq-adapter.md)