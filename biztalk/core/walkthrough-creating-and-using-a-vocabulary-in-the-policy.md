---
title: 'チュートリアル: を作成して、ポリシーで、ボキャブラリを使用して |Microsoft Docs'
ms.custom: ''
ms.date: 2016-04-05
ms.prod: biztalk-server
ms.reviewer: ''
ms.suite: ''
ms.tgt_pltfrm: ''
ms.topic: article
ms.assetid: 2c306a6e-3384-4f43-9c75-c5407cd9aed2
caps.latest.revision: 24
author: MandiOhlinger
ms.author: mandia
manager: anneta
ms.openlocfilehash: 92a2f458d3ae4aa43befff248d564c92d78ef132
ms.sourcegitcommit: 266308ec5c6a9d8d80ff298ee6051b4843c5d626
ms.translationtype: MT
ms.contentlocale: ja-JP
ms.lasthandoff: 06/27/2018
ms.locfileid: "36974771"
---
# <a name="walkthrough-creating-and-using-a-vocabulary-in-the-policy"></a>チュートリアル: を作成して、ポリシーで、ボキャブラリを使用します。
このチュートリアルでは、ボキャブラリを作成すると、では、ボキャブラリを使用してステップ バイ ステップ、 **ProcessPurchaseOrder**ポリシー。  
  
## <a name="prerequisites"></a>前提条件  
 完了する必要があります、[チュートリアル: 単純なビジネス ポリシーを作成する](../core/walkthrough-creating-a-simple-business-policy.md)このチュートリアルを実行する前にチュートリアル。 ただし、このドキュメントでここまでに記載されていたチュートリアルについては、すべて完了しておくことをお勧めします。  
  
## <a name="overview-of-this-walkthrough"></a>このチュートリアルの概要  
 次の表に示すように、このチュートリアルには 3 つの手順が含まれています。  
  
|プロシージャ タイトル|プロシージャ descritpion|  
|---------------------|---------------------------|  
|POVocabulary ボキャブラリを作成するには|作成するための手順について説明します、 **POVocabulary** 3 つの定義をボキャブラリ: 要求された数量、最大の指定できるアイテム数、および要求の状態。|  
|ProcessPurchaseOrder ポリシーで POVocabulary を使用するには|新しいバージョンを作成するための手順について説明します、 **ProcessPurchaseOrder**ポリシーを使用して**POVocabulary**します。|  
|ソリューションをテストするには、次の操作を行います。|ソリューションをテストします。|  
  
### <a name="to-create-the-povocabulary-vocabulary"></a>POVocabulary ボキャブラリを作成するには  
  
1.  **開始**] メニューの [open**ビジネス ルール作成ツール**します。 ビジネス ルール作成ツールを既に開いている場合は、F5 キーを押して更新します。  
  
    > [!NOTE]
    >  ユーザー アカウント制御 (UAC) をサポートするシステムでは、管理者特権を使用してこのツールを実行することが必要な場合があります。 これを行うには、アプリケーションを右クリックし、**管理者として実行**します。  
  
2.  [ファクト エクスプ ローラー] ウィンドウ、**ボキャブラリ**タブ。  
  
3.  右クリック**ボキャブラリ**、 をクリックして**新しいボキャブラリの追加**、し、入力**POVocabulary**として、ボキャブラリの名前。  
  
4.  手順 3. でを POVocabulary ボキャブラリの名前を変更しなかった場合に、ボキャブラリの名前を変更**POVocabulary**プロパティ ウィンドウでします。  
  
5.  右クリック**バージョン 1.0 (未保存)** で**POVocabulary**、 をクリックし、**新しい定義の追加**します。  
  
6.  ボキャブラリの定義ウィザードで選択**XML ドキュメントの要素または属性**、 をクリックし、**次**。  
  
7.  **定義名**、型**要求された数量**します。  
  
8.  をクリックして**参照**を選択し、 **PO.xsd**ファイルで作成した[チュートリアル: 単純なビジネス ポリシーを作成する](../core/walkthrough-creating-a-simple-business-policy.md)します。  
  
9. **バインドの選択** ダイアログ ボックスで、展開**PurchaseOrder**、展開**項目**、し、ダブルクリック**数量**します。  
  
10. 必ず、**ドキュメントの種類**に設定されている**RuleTest.PO**します。 そうでない場合、ドキュメントの種類を RuleTest.PO に変更します。 この手順は非常に重要です。  
  
     ![BRE&#45;チュートリアル&#45;ChangeDocType2](../core/media/090f0bce-0594-4a67-87d0-3cd22fbb1796.gif "090f0bce-0594-4a67-87d0-3cd22fbb1796")  
  
11. 指定、**操作を選択して**で、**操作の選択**グループとして**Get 操作の実行**。  
  
     ![BRE&#45;チュートリアル&#45;SelectGet](../core/media/3034649a-2d81-4f08-8044-3ab66a201672.gif "3034649a-2d81-4f08-8044-3ab66a201672")  
  
12. **[完了]** をクリックします。  
  
13. 右クリック**バージョン 1.0 (未保存)**、 をクリックし、**新しい定義の追加**します。  
  
14. 選択**XML ドキュメントの要素または属性**、 をクリックし、**次**。  
  
15. **定義名**、型**要求の状態**します。  
  
16. クリックして**参照**を選択し、 **PO.xsd**ファイル。  
  
17. **バインドの選択** ダイアログ ボックスで、展開**PurchaseOrder**、し、ダブルクリック**状態**します。  
  
18. 変更、**ドキュメントの種類**に**RuleTest.PO**します。 この手順は非常に重要です。  
  
19. 確認します、**操作の実行設定**オプションが選択されているし、クリックして **[次へ]。**  
  
20. **[完了]** をクリックします。  
  
21. 右クリック**バージョン 1.0 (未保存)**、 をクリックし、**新しい定義の追加**します。  
  
22. 確認します**定数値、値の範囲、または値セットの**が選択されているし、をクリックし、**次**します。  
  
23. **定義名**、型**最大の指定できるアイテム数**します。  
  
24. 確認します**定数値の定義の種類**が選択されているし、をクリックし、**次**します。  
  
25. 型**500**値、およびクリック**完了**します。  
  
26. 右クリック**バージョン 1.0 (未保存)**、 をクリックし、**保存**します。  
  
27. 右クリック**バージョン 1.0 (未保存)**、 をクリックし、**発行**します。  
  
### <a name="to-use-the-povocabulary-in-the-processpurchaseorder-policy"></a>ProcessPurchaseOrder ポリシーで POVocabulary を使用するには  
  
1.  ポリシー エクスプ ローラー ウィンドウで、**ポリシー**、展開**ProcessPurchaseOrder**、右クリック**バージョン 1.0**、順にクリックします**コピー**.  
  
2.  右クリック**ProcessPurchaseOrder**  をクリックし、**ポリシーのバージョンの貼り付け**します。  
  
3.  クリックして**ApprovalRule**で**バージョン 1.1 (未保存)** します。  
  
4.  ファクト エクスプ ローラー ウィンドウで、**ボキャブラリ**、展開**POVocabulary**、展開**バージョン 1.0**、し、ドラッグ**要求された数量**LessThanOrEqual の述語の左側 (lhs) 引数の置換を IF ペインにします。  
  
     ![BRE&#45;チュートリアル&#45;DragReqQty](../core/media/f5ec8bca-344e-4099-a347-0a2298a3f088.gif "f5ec8bca-344e-4099-a347-0a2298a3f088")  
  
     ![BRE&#45;チュートリアル&#45;ReqQty](../core/media/7afddd71-31ce-4868-94c1-d7ffd81f1e47.gif "7afddd71-31ce-4868-94c1-d7ffd81f1e47")  
  
5.  ドラッグ**最大の指定できるアイテム数**条件の右側 (rhs) の引数を置き換える (**500**)。  
  
6.  [THEN] ペイン、右クリックし、クリックで既存のアクションを選択します。**アクションの削除**します。  
  
    > [!NOTE]
    >  アクションを選択してから Del キーを押して削除することもできます。  
  
7.  ドラッグ**要求の状態**を**し**ウィンドウ。  
  
8.  クリックして**\<空の文字列\>** し、入力**Approved**します。  
  
9. 右クリック**バージョン 1.1 (未保存)** ポリシー エクスプ ローラー ウィンドウでクリック**保存**します。  
  
10. 右クリック**バージョン 1.1 (未保存)** ポリシー エクスプ ローラー ウィンドウでクリック**発行**します。  
  
### <a name="to-test-the-solution"></a>ソリューションをテストするには、次の操作を行います。  
  
1.  ビジネス ルール作成ツールで展開**ポリシー**、展開**ProcessPurchaseOrder**、右クリックして**バージョン 1.0 - 展開済み**、順にクリックします**展開解除**.  
  
    > [!NOTE]
    >  オーケストレーションでは、常に最後に展開されたポリシーのバージョン、つまり、手順 2. を実行した後のバージョン 1.1 が取得されるため、この手順は省略できます。  
  
2.  右クリック**バージョン 1.1-公開**、 をクリックし、**デプロイ**します。  
  
3.  程度待ちます**60**秒。 キャッシュされたポリシーに変更があった場合は、ルール エンジン更新サービスによって 60 秒ごとにキャッシュが更新されています。 これは、手順 1. を実行したかどうかには関係ありません。オーケストレーションは、最後に展開されたポリシーのバージョン、つまり、バージョン 1.1 を取得します。  
  
4.  開いている**SamplePO.xml**と**SamplePO2.xml**メモ帳での値を変更し、**状態**フィールドを**XYZ**します。  
  
5.  コピー、 **SamplePO.xml**オーケストレーション用の C:\BRE-Walkthroughs\RuleTestSol\Input ディレクトリに C:\BRE-Walkthroughs ディレクトリからファイル。  
  
6.  オーケストレーションの C:\BRE-Walkthroughs\RuleTestSol\Output ディレクトリに出力ファイルが表示されます。 出力 XML ファイルを開き、注意の値、**状態**にフィールドが設定されている**Approved**します。  
  
7.  手順 5. と 6. を繰り返します**SamplePO2.xml**、いることを確認しの値、**状態**出力ドキュメント内のフィールドは、入力ドキュメントと同じ (**XYZ**)。  
  
    > [!NOTE]
    >  値、**状態**フィールド、ルール エンジンがアクションを実行していないため、同じ (XYZ) のまま、 **ApprovalRule**規則条件評価のため`false`します。  
  
## <a name="comments"></a>コメント  
  
- ボキャブラリは、保存した後も変更できます。 公開した後は変更できません。  
  
- 定義の変更、新しい定義の追加、または定義の削除が必要になった場合は、ボキャブラリの新しいバージョンを作成する必要があります。  
  
- ポリシーでは、公開されたボキャブラリだけを使用できます。  
  
- 「POVocabulary ボキャブラリを作成するには」の手順でドキュメント種類を変更した**RuleTest.PO**します。 この変更の結果を表示する[!INCLUDE[btsVStudioNoVersion](../includes/btsvstudionoversion-md.md)]、ソリューション エクスプ ローラーでクリックして**PO.xsd**します。 [プロパティ] ウィンドウで**RuleTest** 、名前空間の名前を指定し、 **PO**の名前を指定、**型**。  
  
- このチュートリアルでは、ポリシーのファクトとして XML ドキュメントのみを使用しました。 ポリシーの作成には、.NET のファクトやデータベースのファクトを使用することもできます。  
  
- 選択すると **「設定」操作の実行**ボキャブラリの定義ウィザードの 2 番目のページで指定できます、**表示書式文字列**で次のページ。 表示形式文字列を変更するなど、**要求の状態{0}** に**要求の状態: {0}** クリックする前に**完了**でボキャブラリの作成」の手順の手順 20 です。  
  
## <a name="next-steps"></a>次の手順  
 これで、このチュートリアルを完了すると、実行、[チュートリアル: ポリシーにルールを追加する](../core/walkthrough-adding-a-rule-to-the-policy.md)する新しい規則を追加する手順を説明するチュートリアル、 **ProcessPurchaseOrder**ポリシー。  
  
## <a name="see-also"></a>参照  
 [ボキャブラリ](../core/vocabularies.md)   
 [ボキャブラリを作成する方法](../core/how-to-develop-vocabularies.md)   
 [条件の評価とアクションの実行](../core/condition-evaluation-and-action-execution.md)   
 [議題と優先度](../core/agenda-and-priority.md)