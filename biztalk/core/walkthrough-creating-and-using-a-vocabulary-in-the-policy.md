---
title: "チュートリアル: を作成して、ポリシーで、ボキャブラリを使用して |Microsoft ドキュメント"
ms.custom: 
ms.date: 2016-04-05
ms.prod: biztalk-server
ms.reviewer: 
ms.suite: 
ms.tgt_pltfrm: 
ms.topic: article
ms.assetid: 2c306a6e-3384-4f43-9c75-c5407cd9aed2
caps.latest.revision: "24"
author: MandiOhlinger
ms.author: mandia
manager: anneta
ms.openlocfilehash: 5f44ebd8cb41f96260b48910410014da90bbed0c
ms.sourcegitcommit: cb908c540d8f1a692d01dc8f313e16cb4b4e696d
ms.translationtype: MT
ms.contentlocale: ja-JP
ms.lasthandoff: 09/20/2017
---
# <a name="walkthrough-creating-and-using-a-vocabulary-in-the-policy"></a>チュートリアル: を作成して、ポリシーで、ボキャブラリを使用します。
このチュートリアルでは、ボキャブラリを作成してで使用の詳細な手順、 **ProcessPurchaseOrder**ポリシー。  
  
## <a name="prerequisites"></a>前提条件  
 完了する必要があります、[チュートリアル: 単純なビジネス ポリシーを作成する](../core/walkthrough-creating-a-simple-business-policy.md)このチュートリアルを実行する前にチュートリアルです。 ただし、このドキュメントでここまでに記載されていたチュートリアルについては、すべて完了しておくことをお勧めします。  
  
## <a name="overview-of-this-walkthrough"></a>このチュートリアルの概要  
 次の表に示すように、このチュートリアルには 3 つの手順が含まれています。  
  
|手順のタイトル|プロシージャ descritpion|  
|---------------------|---------------------------|  
|POVocabulary ボキャブラリを作成するには|作成するための手順をわかりやすく説明、 **POVocabulary** 3 つの定義のボキャブラリ: 要求された数量、最大数の指定できるアイテム、および要求の状態。|  
|ProcessPurchaseOrder ポリシーで POVocabulary を使用するには|新しいバージョンを作成するための手順をわかりやすく説明、 **ProcessPurchaseOrder**ポリシーを使用して**POVocabulary**です。|  
|ソリューションをテストするには、次の操作を行います。|ソリューションをテストします。|  
  
### <a name="to-create-the-povocabulary-vocabulary"></a>POVocabulary ボキャブラリを作成するには  
  
1.  **開始**] メニューの [開いている**ビジネス ルール作成ツール**です。 ビジネス ルール作成ツールを既に開いている場合は、F5 キーを押して更新します。  
  
    > [!NOTE]
    >  ユーザー アカウント制御 (UAC) をサポートするシステムでは、管理者特権を使用してこのツールを実行することが必要な場合があります。 これを行うには、アプリケーションを右クリックし、**管理者として実行**です。  
  
2.  [ファクト エクスプ ローラー] ウィンドウ、**ボキャブラリ**タブです。  
  
3.  右クリック**ボキャブラリ**をクリックして**新しいボキャブラリの追加**、し、入力**POVocabulary**ボキャブラリの名前として。  
  
4.  手順 3 を POVocabulary ボキャブラリの名前を変更しなかった場合に、ボキャブラリの名前を変更**POVocabulary**プロパティ ウィンドウでします。  
  
5.  右クリック**バージョン 1.0 (未保存)**で**POVocabulary**、クリックして**新しい定義の追加**です。  
  
6.  ボキャブラリの定義ウィザードで選択**XML ドキュメントの要素または属性**、クリックして**次**です。  
  
7.  **定義名**、型**要求された数量**です。  
  
8.  をクリックして**参照**を選択し、 **PO.xsd**ファイルで作成した[チュートリアル: 単純なビジネス ポリシーを作成する](../core/walkthrough-creating-a-simple-business-policy.md)です。  
  
9. **バインドの選択** ダイアログ ボックスで、展開**PurchaseOrder**、展開**項目**、順にダブルクリック**数量**です。  
  
10. 確認して、**ドキュメントの種類**に設定されている**RuleTest.PO**です。 そうでない場合は、ドキュメントの種類を RuleTest.PO に変更します。 この手順は非常に重要です。  
  
     ![BRE &#45;チュートリアル &#45;ChangeDocType2](../core/media/090f0bce-0594-4a67-87d0-3cd22fbb1796.gif "090f0bce-0594-4a67-87d0-3cd22fbb1796")  
  
11. 指定、**操作を選択して**で、**操作を選択して**グループとして**Get 操作の実行**です。  
  
     ![BRE &#45;チュートリアル &#45;SelectGet](../core/media/3034649a-2d81-4f08-8044-3ab66a201672.gif "3034649a-2d81-4f08-8044-3ab66a201672")  
  
12. **[完了]**をクリックします。  
  
13. 右クリック**バージョン 1.0 (未保存)**、クリックして**新しい定義の追加**です。  
  
14. 選択**XML ドキュメントの要素または属性**、順にクリック**次**です。  
  
15. **定義名**、型**要求の状態**です。  
  
16. をクリックして**参照**を選択し、 **PO.xsd**ファイル。  
  
17. **バインドの選択** ダイアログ ボックスで、展開**PurchaseOrder**、順にダブルクリック**ステータス**です。  
  
18. 変更、**ドキュメントの種類**に**RuleTest.PO**です。 この手順は非常に重要です。  
  
19. 確認して、**操作の実行設定**オプションを選択して、をクリックして**[次へ] です。**  
  
20. **[完了]**をクリックします。  
  
21. 右クリック**バージョン 1.0 (未保存)**、クリックして**新しい定義の追加**です。  
  
22. 確認して**定数値、値の範囲、または値セット**を選択して、をクリックして**次**です。  
  
23. **定義名**、型**最大数の指定できるアイテム**です。  
  
24. 確認して**定数値の定義の型**を選択して、をクリックして**次**です。  
  
25. 型**500**値、およびクリックを**完了**です。  
  
26. 右クリック**バージョン 1.0 (未保存)**、クリックして**保存**です。  
  
27. 右クリック**バージョン 1.0 (未保存)**、クリックして**発行**です。  
  
### <a name="to-use-the-povocabulary-in-the-processpurchaseorder-policy"></a>ProcessPurchaseOrder ポリシーで POVocabulary を使用するには  
  
1.  ポリシー エクスプ ローラー ウィンドウで、**ポリシー**、展開**ProcessPurchaseOrder**を右クリックして**バージョン 1.0**、クリックして**をコピー**.  
  
2.  右クリック**ProcessPurchaseOrder**  をクリックし、**ポリシーのバージョンの貼り付け**です。  
  
3.  をクリックして**ApprovalRule**で**バージョン 1.1 (未保存)**です。  
  
4.  ファクト エクスプ ローラー ウィンドウで、**ボキャブラリ**、展開**POVocabulary**、展開**バージョン 1.0**、し、ドラッグ**要求された数量**、LessThanOrEqual の述語の左側 (lhs) の引数を置換する IF ペインにします。  
  
     ![BRE &#45;チュートリアル &#45; DragReqQty](../core/media/f5ec8bca-344e-4099-a347-0a2298a3f088.gif "f5ec8bca-344e-4099-a347-0a2298a3f088")  
  
     ![BRE &#45;チュートリアル &#45;ReqQty](../core/media/7afddd71-31ce-4868-94c1-d7ffd81f1e47.gif "7afddd71-31ce-4868-94c1-d7ffd81f1e47")  
  
5.  ドラッグ**最大数の指定できるアイテム**条件の右側 (rhs) 引数を置換する (**500**)。  
  
6.  [THEN] ペイン、右クリックし、クリックして既存のアクションを選択して**アクションの削除**です。  
  
    > [!NOTE]
    >  アクションを選択してから Del キーを押して削除することもできます。  
  
7.  ドラッグ**要求の状態**を**し**ウィンドウです。  
  
8.  をクリックして**\<空の文字列 >**し入力**Approved**です。  
  
9. 右クリック**バージョン 1.1 (未保存)**をクリックして ポリシー エクスプ ローラー ウィンドウ、**保存**です。  
  
10. 右クリック**バージョン 1.1 (未保存)**をクリックして ポリシー エクスプ ローラー ウィンドウ、**発行**です。  
  
### <a name="to-test-the-solution"></a>ソリューションをテストするには、次の操作を行います。  
  
1.  ビジネス ルール作成ツールで展開**ポリシー**、展開**ProcessPurchaseOrder**を右クリックして**バージョン 1.0 - 展開済み**、クリックして**Undeploy**.  
  
    > [!NOTE]
    >  オーケストレーションでは、常に最後に展開されたポリシーのバージョン、つまり、手順 2. を実行した後のバージョン 1.1 が取得されるため、この手順は省略できます。  
  
2.  右クリック**バージョン 1.1-公開**、クリックして**展開**です。  
  
3.  程度待ちます**60** (秒)。 キャッシュされたポリシーに変更があった場合は、ルール エンジン更新サービスによって 60 秒ごとにキャッシュが更新されています。 これは、手順 1. を実行したかどうかには関係ありません。オーケストレーションは、最後に展開されたポリシーのバージョン、つまり、バージョン 1.1 を取得します。  
  
4.  開いている**SamplePO.xml**と**SamplePO2.xml**メモ帳での値を変更し、**ステータス**フィールドを**XYZ**です。  
  
5.  コピー、 **SamplePO.xml**オーケストレーション用の C:\BRE-Walkthroughs\RuleTestSol\Input ディレクトリに C:\BRE-Walkthroughs ディレクトリからファイルです。  
  
6.  オーケストレーションの C:\BRE-Walkthroughs\RuleTestSol\Output ディレクトリに出力ファイルが表示されます。 出力 XML ファイルを開くことを確認の値、**ステータス**にフィールドが設定されている**Approved**です。  
  
7.  手順 5. と 6. を繰り返します**SamplePO2.xml**、ことを確認の値、**ステータス**出力ドキュメント内のフィールドは、入力ドキュメントと同じ (**XYZ**)。  
  
    > [!NOTE]
    >  値、**ステータス**フィールドは、ルール エンジンがアクションを実行しないため、同じ ("xyz") のまま、 **ApprovalRule**ルールの条件が評価されたため`false`です。  
  
## <a name="comments"></a>コメント  
  
-   ボキャブラリは、保存した後も変更できます。 公開した後は変更できません。  
  
-   定義の変更、新しい定義の追加、または定義の削除が必要になった場合は、ボキャブラリの新しいバージョンを作成する必要があります。  
  
-   ポリシーでは、公開されたボキャブラリだけを使用できます。  
  
-   ドキュメントの種類を変更して POVocabulary ボキャブラリを作成するには"するには」の手順で**RuleTest.PO**です。 この変更の結果を表示する[!INCLUDE[btsVStudioNoVersion](../includes/btsvstudionoversion-md.md)]、ソリューション エクスプ ローラーでクリックして**PO.xsd**です。 [プロパティ] ウィンドウで**RuleTest** 、名前空間の名前を指定し、 **PO**の名前を指定、**型**です。  
  
-   このチュートリアルでは、ポリシーのファクトとして XML ドキュメントのみを使用しました。 ポリシーの作成には、.NET のファクトやデータベースのファクトを使用することもできます。  
  
-   選択すると**「設定」操作の実行**ボキャブラリの定義ウィザードの 2 番目のページを指定できます、**表示書式文字列**次のページにします。 表示形式文字列を変更するなど、**要求の状態 {0}**に**要求の状態: {0}**クリックする前に**完了**の手順 20. で、"を作成ボキャブラリ"プロシージャです。  
  
## <a name="next-steps"></a>次の手順  
 これで、このチュートリアルを完了すると、実行、[チュートリアル: ポリシーにルールを追加する](../core/walkthrough-adding-a-rule-to-the-policy.md)する新しい規則を追加するための手順を説明するチュートリアル、 **ProcessPurchaseOrder**ポリシー。  
  
## <a name="see-also"></a>参照  
 [ボキャブラリ](../core/vocabularies.md)   
 [ボキャブラリを作成する方法](../core/how-to-develop-vocabularies.md)   
 [条件の評価とアクションの実行](../core/condition-evaluation-and-action-execution.md)   
 [議題と優先度](../core/agenda-and-priority.md)