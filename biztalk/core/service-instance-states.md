---
title: サービス インスタンスの状態 |Microsoft Docs
ms.custom: ''
ms.date: 06/08/2017
ms.prod: biztalk-server
ms.reviewer: ''
ms.suite: ''
ms.tgt_pltfrm: ''
ms.topic: article
helpviewer_keywords:
- service instances, states
- messages, processing
- states, service instances
ms.assetid: 38189538-72b3-49df-810b-e134362e35ef
caps.latest.revision: 21
author: MandiOhlinger
ms.author: mandia
manager: anneta
ms.openlocfilehash: e45123ab831f06220d594b3d4e71c9c7269b1138
ms.sourcegitcommit: 381e83d43796a345488d54b3f7413e11d56ad7be
ms.translationtype: MT
ms.contentlocale: ja-JP
ms.lasthandoff: 05/07/2019
ms.locfileid: "65393286"
---
# <a name="service-instance-states"></a>サービス インスタンスの状態
メッセージが処理されると、次の操作が行われます。  
  
- 受信アダプターの受信場所に、またはトランスポート コンポーネント: 外部アプリケーションからメッセージを受信および処理のための BizTalk Server に送信します。  
  
  > [!NOTE]
  >  さまざまな形式でシステムによってメッセージが表示されます。XML、フラット ファイル、または企業間電子データ交換 (EDI) として。  
  
- 受信パイプラインを復号化するには、デコードすると、およびメッセージを逆アセンブルします。  
  
- メッセージ エンジンは、メッセージとそのショートカット プロパティに送信: メッセージの種類や送信元など、メッセージ ボックス データベースにします。  
  
- 一致するサブスクリプションが見つかると、一連のスキーマとマップともビジネス ルールまたはホスト サーバー上に存在するポリシーに従って、メッセージが処理されます。  
  
- 処理された後、結果のメッセージに保存されます (書き込み)、メッセージ ボックス データベースです。 ショートカットのプロパティが変更されましたをメッセージを送信する場所を示すために使用する送信ポート。  
  
- メッセージのショートカットのプロパティが、送信ポートに対して定義されているフィルター式に対して評価され、メッセージ ボックス データベースには、適切な送信ポートにメッセージが配信されます。  
  
- 送信されるメッセージの送信パイプラインや送信ポートへのサブスクリプションを満たす必要があります。 メッセージが暗号化され、送信されます。  
  
  このサイクルの各プロセスは、独自のイベントのセットを生成します。  
  
  サービス インスタンス (受信ポート、オーケストレーション、送信ポート) メッセージの処理が BizTalk Server 内を移動、これらのサービス インスタンスは、いくつかの状態のいずれかであることができます。 このセクションでは、そのライフ サイクルの異なる時期にこれらの状態とは何と状態の例を示しますについて説明します。  
  
## <a name="service-instance-states"></a>サービス インスタンスの状態  
 次の表では、各状態の説明でのサービス インスタンスのさまざまな状態を示します。  
  
|状態|説明|  
|-----------|-----------------|  
|**ブレークポイント**|アクティブなオーケストレーションには、BizTalk Server ソリューション開発者が通常 1 つのセット、ブレークポイントがヒットします。 この状態は、オーケストレーションでのみ有効です。|  
|**実行の準備完了**|サービス インスタンスがアクティブ化されていないがまだ実行、通常、サーバーの処理負荷が高い場合などのリソースの一時が利用できないのためが開始します。|  
|**Active**|サービス インスタンスを実行します。|  
|**退避**|メッセージ ボックス データベースにインスタンスの状態が解決しないし、Windows サービスがそのインスタンスを実行していません。|  
|**メッセージを破棄して完了**|サービス インスタンスが完了しましたが、いくつかのメッセージは、インスタンスによって使用されませんでした。|  
|**中断 (再開可能)**|中断されたインスタンス、それを再開できます。 **重要:** メッセージング インスタンスを再開するには、次を行います。 <ul><li>メッセージング インスタンスを再開します。</li><li>送信ポートにメッセージを送信します。</li><li>送信ポートを送信先にメッセージが配信されます。場合でも、送信ポートは、開始状態でないです。</li></ul> <br /><br /> スケジュール済みのインスタンスを中断して再開すると、インスタンスが退避済み状態に注意してください。|  
|**中断 (再開不可)**|中断されたインスタンスを再開できません。 インスタンスによって参照されたメッセージを保存して、インスタンスを終了することができます。<br /><br /> スケジュール済みのインスタンスを中断して再開すると、インスタンスが退避済み状態に注意してください。|  
|**中断の保留/終了の保留**|状態の場合、独立した状態ではありません。 他の状態と組み合わせて使用することができます。<br /><br /> 中断または終了コントロール メッセージは、サービス インスタンスに送信されましたがまだ選択されませんでした、インスタンスによって。 1 つだけ保留中の操作を一度に実行できます。 保留中の操作を持つインスタンスが退避の各状態になると、インスタンスを終了できます。|  
  
### <a name="tracked-service-instance-states"></a>追跡サービス インスタンスの状態  
 次の表では、各状態の説明で状態を追跡サービス インスタンスを示します。  
  
|状態|説明|  
|-----------|-----------------|  
|**開始**|メッセージ ボックスで現在などで中断 (再開可能) サービス インスタンスやブレークポイント状態を起動すると、BizTalk 追跡データベース示しています。|  
|**完了しました**|サービス インスタンスの処理が正常に完了しました。|  
|**終了**|サービス インスタンスが終了しました。|  
  
## <a name="message-states"></a>メッセージの状態  
 次の表は、各状態の説明と、メッセージの状態を示しています。  
  
|状態|説明|  
|-----------|-----------------|  
|**消費**|メッセージは、サービス インスタンスによって処理されるは。|  
|**プロセスで**|メッセージがエンジンに配信された、処理中です。 メモリ内になります。|  
|**キューに登録**|キューに登録済み (処理を待機しています) をキューに登録済み、Queued (配信スケジュール済み)、および (再試行を待機している) キューに登録済みの包含状態のインスタンスします。|  
|**キュー (処理の待機中)**|メッセージは順次配送のシナリオでは、前のメッセージを順次配送の送信ポートによって再試行されている場合です。|  
|**キュー (配信スケジュール済み)**|サービス時間帯が設定を含む送信ポートによって送信されるメッセージが待機しています。|  
|**キューに置かれた (再試行の待機中)**|メッセージが、送信先 URI が利用できないため、再送信を試行する送信ポートに関連付けられています。|  
|**中断**|中断 (再開) および中断 (再開できない) インスタンスの状態が含まれます。|  
|**中断 (再開可能)**|メッセージに関連付けられているサービス インスタンスが中断して再開できます。<br /><br /> メッセージング インスタンスを再開するには、次を行います。<br /><br /> -メッセージのインスタンスを再開します。<br />-送信ポートにメッセージを送信します。<br />-送信ポートを送信先にメッセージが配信されます。場合でも、送信ポートは、開始状態でないです。|  
|**中断 (再開不可)**|メッセージに関連付けられているサービス インスタンスが中断して再開することはできません。|  
  
## <a name="instance-states-before-and-after-an-operation"></a>前に、と操作の後にインスタンスの状態  
 次の表は前に、と操作の後に状態を示します。  
  
> [!NOTE]
>  最初と最後の状態は、左の列と上部の行では太字で表示します。 テーブルの本文で、操作を示しています。  
  
|最初の状態|操作が適用された後、新しい状態|||||||  
|--------------------|------------------------------------------|------|------|------|------|------|------|  
||**ブレークポイント**|**Active**|**退避**|**中断**|**終了**|**終了の保留**|**中断の保留**|  
|**ブレークポイント**|デバッガーからアタッチします。|デバッガーから続行します。|Windows サービスを停止します|||終了|[中断]|  
|**ブレークポイント (退避済み)**|デバッガーからアタッチします。|デバッガーから続行します。|Windows サービスを停止します|[中断]|終了|||  
|**実行の準備完了**||||[中断]|終了|||  
|**[スケジュール]**||Windows サービスが開始されて、ランタイムがインスタンスを取得します。||||||  
|**Active**|||Windows サービスを停止します|||終了|[中断]|  
|**退避**||ランタイムがインスタンスを取得します。|Windows サービスを停止します|[中断]|終了|||  
|**中断 (再開可能)**|デバッガーでブレークポイントから再開します。|[再開]|||終了|||  
|**中断 (再開不可)**|||||終了|||  
|**終了 (メッセージ未消費)**|||||終了|||  
|**中断の保留**|アタッチを試行するが、最終的に失敗する必要があります||Windows サービスを停止します|要求の処理|インスタンスが退避されたときにのみ機能を停止します。|||  
|**終了の保留**|アタッチを試行するが、最終的に失敗する必要があります||Windows サービスの停止、インスタンスを退避します。||要求を処理またはインスタンスを退避|||  
  
## <a name="instance-states-during-an-operation"></a>操作中にインスタンスの状態  
 次の表は、システム インスタンスで操作を実行するときに、状態の変化を示します。  
  
|最初の状態|操作||||||  
|--------------------|---------------|------|------|------|------|------|  
||**終了**|**[中断]**|**[再開]**|**ブレークポイントから再開します。**|**Continue**|**Attach**|  
|**ブレークポイント**|終了|中断|||Active|ブレークポイント|  
|**ブレークポイント (退避済み)**|終了|中断|||Active|ブレークポイント|  
|**準備が実行するには**|終了|中断|||||  
|**[スケジュール]**|終了|中断|||||  
|**Active**|終了|中断|||||  
|**退避**|終了|中断|||||  
|**中断 (再開可能)**|終了||Active|ブレークポイント|||  
|**中断 (再開不可)**|終了||||||  
|**終了 (メッセージ未消費)**|終了||||||  
|**中断の保留**|終了します。インスタンスが退避済みの場合にのみ機能します。|||||競合状態|  
|**終了の保留**|終了します。場合にのみ機能のインスタンスを退避|||||競合状態|  
  
> [!NOTE]
>  競合状態が発生、システムが、インスタンスを複数のコントロール メッセージを提供し、インスタンスがそれを処理する順序は保証されません。  
  
## <a name="see-also"></a>参照  
 [グループ ハブ ページの使用](../core/using-the-group-hub-page.md)