---
title: 手順 8:当事者間で取引先アグリーメントの構成 |Microsoft Docs
ms.custom: ''
ms.date: 06/08/2017
ms.prod: biztalk-server
ms.reviewer: ''
ms.suite: ''
ms.tgt_pltfrm: ''
ms.topic: article
ms.assetid: 9f532f85-3f09-4b60-b7bb-817ee3c79899
caps.latest.revision: 6
author: MandiOhlinger
ms.author: mandia
manager: anneta
ms.openlocfilehash: 01641d539f77c3cce60b11edee30ff81e7b43b80
ms.sourcegitcommit: 381e83d43796a345488d54b3f7413e11d56ad7be
ms.translationtype: MT
ms.contentlocale: ja-JP
ms.lasthandoff: 05/07/2019
ms.locfileid: "65244243"
---
# <a name="step-8-configure-the-trading-partner-agreement-between-the-parties"></a>手順 8:当事者間で取引先アグリーメントを構成します。
![手順 9 の 8](../adapters-and-accelerators/wcf-lob-adapter-sdk/media/step-8of9.gif "Step_8of9")  

 この手順で、X12 アグリーメント X12 を交換するためのパラメーターを定義する取引先を構成する OrderSystem と Fabrikam の 2 つの取引先パートナー間のメッセージ。  

## <a name="prerequisites"></a>前提条件  
 [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] 管理者グループのメンバーとしてログオンしている必要があります。  

### <a name="to-configure-an-agreement"></a>アグリーメントを構成するには  

1. クリックして**開始**、 をクリックして**すべてのプログラム**、 をクリックして**Microsoft BizTalk Server**、順にクリックします**BizTalk Server 管理**します。  

2. [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)]管理コンソールで、をクリックして**パーティ**し、コンソール ツリーで、**パーティとビジネス プロファイル** ページで、右クリックして**Fabrikam_Profile**、 をポイント**新規**、 をクリックし、**契約**します。  

3. **全般プロパティ** ページの**名前**テキスト ボックスに、アグリーメントの名前を入力します。  

4. **プロトコル**ドロップダウン リストで、 **X12**します。  

5. **2 番目のパーティ**セクションから、**パーティ**ドロップダウン リストで、 **OrderSystem**します。  

6. **2 番目のパーティ**セクションから、**ビジネス**ドロップダウン リストで、 **OrderSystem_Profile**します。  

    2 つの新しいタブが横に追加の取得と表示されます、**全般**タブ。各タブに 1 つの一方向のアグリーメントを構成するようになっており、一方向の各アグリーメントが 1 つの完全なメッセージ トランザクション (メッセージの送信と受信確認の送信を含む) を表します。  

7. **全般** タブで、**全般プロパティ**ページで、**共通のホスト設定**セクションで、**レポートをオン**、し、選択**メッセージ ペイロードを格納するレポートの**します。  

8. 次のタスクを実行、 **Fabrikam OrderSystem]-> [** タブ。  

   1. **識別子**ページで、**インターチェンジの設定**セクションで、修飾子と識別子のフィールドの値を入力 (**ISA5**、 **ISA6**、 **ISA7**、および**ISA8**) テスト メッセージのヘッダー フィールドの値に対応しています。  

      |プロパティ|目的|  
      |--------------|----------------|  
      |**送信者の修飾子 (ISA5)**|選択**ZZ - 相互定義**します。|  
      |**送信者 id (ISA6)**|入力**THEM**します。|  
      |**受信者の修飾子 (ISA7)**|選択**ZZ - 相互定義**します。|  
      |**受信者 id (ISA8)**|入力**米国**します。|  

      > [!NOTE]
      >  [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] では、アグリーメントの解決を実行するために、送信者と受信者の修飾子フィールドおよび ID フィールドを必ず指定する必要があります。 値と一致します**ISA5**、 **ISA6**、 **ISA7**、および**ISA8**をアグリーメントのプロパティと、インターチェンジ ヘッダー。 また、[!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] は、送信者の修飾子および識別子を照合して (受信者の修飾子および識別子は不要)、アグリーメントを解決します。 [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] では、アグリーメントを解決できない場合、フォールバック アグリーメントのプロパティが使用されます。  

   2. **受信確認**ページの**インターチェンジの設定**セクションで、 **997 が必要**します。 このチェック ボックスをオンには、受信パイプライン、850 インターチェンジを受信したときに 997 受信確認を生成するように求められます.  

   3. **検証**ページで、**インターチェンジの設定**セクションをご確認ください**インターチェンジ制御番号 (重複している isa13 を確認)** オプションが選択されていません。  

      > [!NOTE]
      >  オフにすると、**重複している isa13 を確認**プロパティでは、同じメッセージの複数のインスタンスを受信することができます。  

   4. **ローカル ホスト設定**ページの**インターチェンジの設定** セクションで、クリア**受信ポートで要求-応答送信パイプラインに確認をルーティング**します。  

      > [!NOTE]
      >  オフにすると、**受信確認をルーティング**双方向に関連付けられている送信ポートを通じて同期受信確認の受信ポートではなく、個別を使用して非同期の受信確認の送信ポート、このソリューションが返されるために、プロパティが必要です。  

   5. **ローカル ホスト設定**ページで、**トランザクション セットの設定**セクションで受信インターチェンジの処理に使用するスキーマの名前空間を選択します。  


      |       プロパティ       |                           目的                            |
      |----------------------|-----------------------------------------------------------------|
      |     **[Default]**      |                列のチェック ボックスをオンにします                |
      |     **St1 の場合**      |                選択**850 - 注文書**します。                 |
      |       **[GS2]**        |                         入力**THEM**します。                         |
      | **Target Namespace** | 選択 **<http://schemas.microsoft.com/BizTalk/EDI/X12/2006>** します。 |

      > [!NOTE]
      >  プロパティを設定すると、[!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] は、受信 850 インターチェンジの処理に使用するスキーマを決定できるようになります。 グリッド内の行に入力された [GS02] と [ST01] の値がインターチェンジに設定されている場合は、同じ行にあるターゲットの名前空間により、使用するスキーマが決定されます。  

9. 次のタスクを実行、 **OrderSystem Fabrikam]-> [** タブ。  

   1. **識別子**ページで、**インターチェンジの設定**セクションで、修飾子と識別子のフィールドの値を入力 (**ISA5**、 **ISA6**、 **ISA7**、および**ISA8**) テスト メッセージのヘッダー フィールドの値に対応しています。  


      |            プロパティ            |            目的             |
      |--------------------------------|-----------------------------------|
      |  **送信者の修飾子 (ISA5)**   | 選択**ZZ - 相互定義**します。 |
      |  **送信者 id (ISA6)**  |           入力**米国**します。           |
      | **受信者の修飾子 (ISA7)**  | 選択**ZZ - 相互定義**します。 |
      | **受信者 id (ISA8)** |          入力**THEM**します。          |


   2. **文字セットと区切り記号**ページの**インターチェンジの設定**セクションで、 **CR LF**の**サフィックス**プロパティ。  

   3. **送信ポート**ページで、**インターチェンジの設定**セクションで、Fabrikam に返信する受信確認を送信する送信ポートを関連付けます。 **送信ポート**グリッドで、**名前**列、空のセルをクリックしておよびドロップダウン リストから、送信ポートを選択します (**toTHEM_997**)、997 を送信するために作成Fabrikam を確認します。  

   4. **エンベロープ**ページで、**トランザクション セットの設定**セクションで、グリッドの最初の行のすべての列の値を入力します。  


      |       プロパティ       |                                                                                                                                               目的                                                                                                                                               |
      |----------------------|--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
      |     **[Default]**      | チェック ボックスをオン、**既定**列。 **注:** 既定の値としてこの行を選択すると**GS1**、 **GS2**、 **GS3**、 **GS7**、および**GS8**は使用されている場合であってもの値は、**トランザクションの種類**、**バージョン/リリース**と**ターゲットの名前空間**と一致するメッセージではありません。 |
      | **トランザクションの種類** |                                                                                                                テスト メッセージのメッセージの種類を選択します。 **850 - 注文書**します。                                                                                                                 |
      | **バージョン/リリース**  |                                                                                                                                   EDI のバージョンを入力**00401**します。                                                                                                                                    |
      | **ターゲットの名前空間** |                                                                                                                           選択 **<http://schemas.microsoft.com/Edi/X12>** します。                                                                                                                           |
      |       **[GS1]**        |                                                                                                                         いることを確認**PO - 注文書 (850)** が選択されています。                                                                                                                         |
      |       **[GS2]**        |                                                                                                                       入力**1234567**します。<br /><br /> **送信者アプリケーション id。**                                                                                                                        |
      |       **[GS3]**        |                                                                                                                      入力**0000000**します。<br /><br /> **受信者アプリケーション id。**                                                                                                                       |
      |       **GS4**        |                    選択**CCYYMMDD**します。 **注:** ドロップダウン リストで、値を選択し、だけでなく、既定値を表示するフィールドをクリックする必要があります。 ドロップダウン リストから値を選択せずにフィールドをクリックしても、値は実際に選択されません。                     |
      |       **GS5**        |                                                                                                                                            選択**HHMM**します。                                                                                                                                            |
      |       **GS7**        |                                                                                                                           選択**X - 正式認可を受けた Standards Committee X12**します。                                                                                                                           |
      |       **GS8**        |                                                                                                                                いることを確認**00401**が入力されました。                                                                                                                                 |

      > [!NOTE]
      >  [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] GS01、GS02、GS03、GS04、GS05、GS07、および入力した値に基づいて、送信する受信確認の GS08 の値が設定されます**トランザクション タイプ**、**バージョン/リリース**、および**ターゲット名前空間**します。 送信パイプラインは、トランザクション セットの種類、X12 バージョン、およびターゲットの名前空間と、メッセージ ヘッダー内の対応する値との照合を試みます。 成功すると、その値が使用 GS に関連付けられている、**トランザクションの種類**、**バージョン/リリース**、および**ターゲットの名前空間**値。  

10. **[適用]** をクリックします。  

11. **[OK]** をクリックします。 新しく追加したアグリーメントが一覧表示、**契約**のセクション、**パーティとビジネス プロファイル**ウィンドウ。 新しく追加したアグリーメントは既定で有効になります。  

12. BizTalk サービスを再起動します。 BizTalk Server 管理コンソールで [**プラットフォームの設定**、] をクリックして**ホスト インスタンス**、右クリック**BizTalkServerApplication**順にクリックします**再起動**します。  

    > [!NOTE]
    >  EDI 状態レポートをアクティブ化または非アクティブ化した後は、変更を有効にするために、BizTalk サービスを再起動する必要があります。  

## <a name="next-steps"></a>次の手順  
 EDI ソリューションのテスト」の説明に従って[手順 9。EDI ソリューションをテストします。](../core/step-9-test-the-edi-solution.md)  

## <a name="see-also"></a>参照  
 [エンコード アグリーメントのプロパティの構成](../core/configuring-encoding-agreement-properties.md)