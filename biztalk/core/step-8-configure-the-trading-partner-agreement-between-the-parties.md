---
title: '手順 8: 当事者間の取引先アグリーメントの構成 |Microsoft ドキュメント'
ms.custom: ''
ms.date: 06/08/2017
ms.prod: biztalk-server
ms.reviewer: ''
ms.suite: ''
ms.tgt_pltfrm: ''
ms.topic: article
ms.assetid: 9f532f85-3f09-4b60-b7bb-817ee3c79899
caps.latest.revision: 6
author: MandiOhlinger
ms.author: mandia
manager: anneta
ms.openlocfilehash: 25e49bf5dcae7324fa3b68fe5080d094b4a2f603
ms.sourcegitcommit: cb908c540d8f1a692d01dc8f313e16cb4b4e696d
ms.translationtype: MT
ms.contentlocale: ja-JP
ms.lasthandoff: 09/20/2017
ms.locfileid: "22280018"
---
# <a name="step-8-configure-the-trading-partner-agreement-between-the-parties"></a>手順 8: 当事者間の取引先アグリーメントを構成します。
![手順 9 の 8](../adapters-and-accelerators/wcf-lob-adapter-sdk/media/step-8of9.gif "Step_8of9")  
  
 この手順で、X12 取引先アグリーメントの X12 を交換するためのパラメーターの定義を構成する OrderSystem と Fabrikam の 2 つの取引パートナー間のメッセージ。  
  
## <a name="prerequisites"></a>前提条件  
 [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] 管理者グループのメンバーとしてログオンしている必要があります。  
  
### <a name="to-configure-an-agreement"></a>アグリーメントを構成するには  
  
1.  をクリックして**開始**、 をクリックして**すべてのプログラム**、 をクリックして**Microsoft BizTalk Server**、順にクリック**BizTalk Server 管理コンソール**です。  
  
2.  [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)]管理コンソールで、をクリックして**パーティ**し、コンソール ツリーで、[、**パーティとビジネス プロファイル**] ページを右クリックして**Fabrikam_Profile**、をポイント**新規**、クリックして**アグリーメント**です。  
  
3.  **全般プロパティ** ページの**名前**テキスト ボックスに、アグリーメントの名前を入力します。  
  
4.  **プロトコル**ドロップダウン リストで、 **X12**です。  
  
5.  **2 番目のパーティ** セクションから、**パーティ**ドロップダウン リストで、 **OrderSystem**です。  
  
6.  **2 番目のパーティ** セクションから、**ビジネス**ドロップダウン リストで、 **OrderSystem_Profile**です。  
  
     2 つの新しいタブの追加を取得 の横に表示されます、**全般**タブです。各タブに 1 つの一方向のアグリーメントを構成するようになっており、一方向の各アグリーメントが 1 つの完全なメッセージ トランザクション (メッセージの送信と受信確認の送信を含む) を表します。  
  
7.  **全般** タブで、**全般プロパティ** ページの 、**共通のホスト設定**セクションで、**レポートをオンに**、し、選択**reporting 用メッセージ ペイロードを格納**です。  
  
8.  次のタスクを実行、 **Fabrikam OrderSystem]-> [** タブです。  
  
    1.  **識別子**ページで、**インターチェンジの設定**セクションで、修飾子と識別子のフィールドの値を入力 (**ISA5**、 **ISA6**、 **ISA7**、および**ISA8**) テスト メッセージのヘッダー フィールドの値に対応します。  
  
        |プロパティ|目的|  
        |--------------|----------------|  
        |**送信者の修飾子 (ISA5)**|選択**ZZ - 相互定義**です。|  
        |**送信者 id (ISA6)**|入力**THEM**です。|  
        |**受信者の修飾子 (ISA7)**|選択**ZZ - 相互定義**です。|  
        |**受信者 id (ISA8)**|入力**米国**です。|  
  
        > [!NOTE]
        >  [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] では、アグリーメントの解決を実行するために、送信者と受信者の修飾子フィールドおよび ID フィールドを必ず指定する必要があります。 値と照合**ISA5**、 **ISA6**、 **ISA7**、および**ISA8**とアグリーメントのプロパティで、インターチェンジ ヘッダーです。 また、[!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] は、送信者の修飾子および識別子を照合して (受信者の修飾子および識別子は不要)、アグリーメントを解決します。 [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] では、アグリーメントを解決できない場合、フォールバック アグリーメントのプロパティが使用されます。  
  
    2.  **受信確認** ページの 、**インターチェンジの設定**セクションで、 **997 が必要**です。 このチェック ボックスをオンにすることで、850 インターチェンジを受信したときに 997 受信確認を生成するという指示が受信パイプラインに対して出されます。  
  
    3.  **検証**ページで、、**インターチェンジの設定**セクションで、確認してください**インターチェンジ制御番号 (ISA13 の重複のチェック)** オプションがオフになっています。  
  
        > [!NOTE]
        >  オフにすると、**重複している isa13 を確認して**プロパティでは、同じメッセージの複数のインスタンスを受信することができます。  
  
    4.  **ローカル ホスト設定** ページの 、**インターチェンジの設定** セクションで、クリア**要求-応答で送信パイプラインに確認をルーティングの受信ポート**です。  
  
        > [!NOTE]
        >  オフにすると、**確認をルーティングする**プロパティは、このソリューションは、双方向に関連付けられている送信ポートを通じて同期受信確認の受信ポートのではなく、個別を使用して非同期受信確認の送信ポートを返すために必要です。  
  
    5.  **ローカル ホスト設定**ページで、**トランザクション セットの設定**セクションで、受信インターチェンジを処理するために使用するスキーマの名前空間を選択します。  
  
        |プロパティ|目的|  
        |--------------|----------------|  
        |**[Default]**|列のチェック ボックスをオンにします|  
        |**ST1 の場合**|選択**850 - 注文**です。|  
        |**[GS2]**|入力**THEM**です。|  
        |**Target Namespace**|選択**http://schemas.microsoft.com/BizTalk/EDI/X12/2006**です。|  
  
        > [!NOTE]
        >  プロパティを設定すると、[!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] は、受信 850 インターチェンジの処理に使用するスキーマを決定できるようになります。 グリッド内の行に入力された [GS02] と [ST01] の値がインターチェンジに設定されている場合は、同じ行にあるターゲットの名前空間により、使用するスキーマが決定されます。  
  
9. 次のタスクを実行、 **OrderSystem Fabrikam]-> [** タブです。  
  
    1.  **識別子**ページで、**インターチェンジの設定**セクションで、修飾子と識別子のフィールドの値を入力 (**ISA5**、 **ISA6**、 **ISA7**、および**ISA8**) テスト メッセージのヘッダー フィールドの値に対応します。  
  
        |プロパティ|目的|  
        |--------------|----------------|  
        |**送信者の修飾子 (ISA5)**|選択**ZZ - 相互定義**です。|  
        |**送信者 id (ISA6)**|入力**米国**です。|  
        |**受信者の修飾子 (ISA7)**|選択**ZZ - 相互定義**です。|  
        |**受信者 id (ISA8)**|入力**THEM**です。|  
  
    2.  **文字セットと区切り記号**] ページの [、**インターチェンジの設定**セクションで、 **CR LF**の**サフィックス**プロパティです。  
  
    3.  **送信ポート**ページで、**インターチェンジの設定**セクションには、Fabrikam に返信する受信確認を送信する送信ポートを関連付けます。 **送信ポート**グリッド 、**名前**列は、空のセルをクリックし、ドロップダウン リストから、送信ポートを選択します (**toTHEM_997**)、997 を送信するための作成受信確認を Fabrikam にされました。  
  
    4.  **エンベロープ**ページで、**トランザクション セットの設定**セクションで、グリッドの最初の行のすべての列の値を入力します。  
  
        |プロパティ|目的|  
        |--------------|----------------|  
        |**[Default]**|チェック ボックスをオン、**既定**列です。 **注:** 、既定の値は、この行を選択すると**GS1**、 **GS2**、 **GS3**、 **GS7**、および**GS8**が使用される場合でもの値は、**トランザクションの種類**、**バージョン/リリース**、および**ターゲットの名前空間**の一致するものではありません、メッセージ。|  
        |**トランザクションの種類**|テスト メッセージのメッセージの種類を選択して**850 - 注文**です。|  
        |**バージョン/リリース**|EDI のバージョンを入力**00401**です。|  
        |**ターゲットの名前空間**|選択**http://schemas.microsoft.com/Edi/X12**です。|  
        |**GS1**|いることを確認**PO - 注文書 (850)** が選択されています。|  
        |**[GS2]**|入力**1234567**です。<br /><br /> **送信者アプリケーション id。**|  
        |**[GS3]**|入力**0000000**です。<br /><br /> **受信者アプリケーション id。**|  
        |**GS4**|選択**CCYYMMDD**です。 **注:** ドロップダウン リストで、値を選択し、だけでなく、既定値を表示するフィールドをクリックする必要があります。 ドロップダウン リストから値を選択せずにフィールドをクリックしても、値は実際に選択されません。|  
        |**GS5**|選択**HHMM**です。|  
        |**GS7**|選択**X の間に認可 Standards Committee X12**です。|  
        |**GS8**|いることを確認**00401**が入力されました。|  
  
        > [!NOTE]
        >  [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)]GS01、GS02、GS03、GS04、GS05、GS07、および入力した値に基づいて、送信する受信確認の GS08 の値が設定されます**トランザクション タイプ**、**バージョン/リリース**、および**ターゲット名前空間**です。 送信パイプラインは、トランザクション セットの種類、X12 バージョン、およびターゲットの名前空間と、メッセージ ヘッダー内の対応する値との照合を試みます。 成功すると、その値が使用 GS に関連付けられている、**トランザクション タイプ**、**バージョン/リリース**、および**ターゲットの名前空間**値。  
  
10. **[適用]** をクリックします。  
  
11. **[OK]** をクリックします。 新しく追加したアグリーメントが一覧表示、**契約**のセクションで、**パーティとビジネス プロファイル**ウィンドウです。 新しく追加したアグリーメントは既定で有効になります。  
  
12. BizTalk サービスを再開します。 BizTalk Server 管理コンソールで **プラットフォームの設定**をクリックして**ホスト インスタンス**を右クリックして**BizTalkServerApplication**をクリックして**再起動**です。  
  
    > [!NOTE]
    >  EDI 状態レポートをアクティブ化または非アクティブ化した後は、変更を有効にするために、BizTalk サービスを再起動する必要があります。  
  
## <a name="next-steps"></a>次の手順  
 EDI ソリューションのテスト」の説明に従って[手順 9: EDI ソリューションのテスト](../core/step-9-test-the-edi-solution.md)  
  
## <a name="see-also"></a>参照  
 [エンコード アグリーメントのプロパティを構成します。](../core/configuring-encoding-agreement-properties.md)