---
title: BizTalk アプリケーションをインストールする方法 |Microsoft Docs
ms.custom: ''
ms.date: 06/08/2017
ms.prod: biztalk-server
ms.reviewer: ''
ms.suite: ''
ms.tgt_pltfrm: ''
ms.topic: article
helpviewer_keywords:
- installing, requirements
- installing, applications
- installing, warnings
- applications, installing
ms.assetid: 99ee0b1a-d46a-4fb6-802b-6827dc740418
caps.latest.revision: 56
author: MandiOhlinger
ms.author: mandia
manager: anneta
ms.openlocfilehash: 2dc973315d804aeec615b5f2591e07d3a6c26031
ms.sourcegitcommit: 266308ec5c6a9d8d80ff298ee6051b4843c5d626
ms.translationtype: MT
ms.contentlocale: ja-JP
ms.lasthandoff: 06/27/2018
ms.locfileid: "36997771"
---
# <a name="how-to-install-a-biztalk-application"></a>BizTalk アプリケーションをインストールする方法
ここでは、ローカル コンピューターにアプリケーションをインストールする方法について説明します。ローカル コンピューターにアプリケーションをインストールするには、Windows インターフェイスでアプリケーションの Windows インストーラー (.msi) ファイルをダブルクリックする方法と、コマンド ラインから msiexec を実行する方法があります。 」の説明に従って、インポート ウィザードの最後の手順として、インストール ウィザードに開始することもできます[BizTalk アプリケーションをインポートする方法](../core/how-to-import-a-biztalk-application.md)します。  

> [!CAUTION]
>  アプリケーションが既にコンピューターにインストールされている場合は、アプリケーションの修復オプションが表示されます。 修復がサポートされるのは、アプリケーション用に単一の .msi ファイルがインストールされている場合のみです。 アプリケーション用に複数の .msi をコンピューターにインストールしている場合は、このオプションを選択しないでください。 [修復] を選択すると、後からインストールした .msi ファイルによって加えられた変更がすべて元に戻され、アプリケーションが正常に機能しなくなる可能性があります。  

 アプリケーションの運用を開始するには、アプリケーションを実行する [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] コンピューターにアプリケーションをインストールする必要があります。 アプリケーションをインストールすると、アプリケーションのリソースがローカル ファイル システムに格納されます。 アプリケーションとそのコンテンツおよび構成によっては、インストールで次の操作も実行されます。  

- グローバル アセンブリ キャッシュ (GAC) へのアセンブリの追加  

- 証明書と仮想ディレクトリのインストール  

- Windows レジストリへのコンポーネントの追加  

- 処理前または処理後のスクリプトの実行 (.msi ファイルに存在する場合)  

  背景情報は、次を参照してください。[成果物の中にインストールとアンインストールに起こる](../core/what-happens-to-artifacts-during-installation-and-uninstallation.md)します。  

## <a name="prerequisites"></a>前提条件  
 このトピックの手順を実行するには、ローカル ファイル システムへの書き込みアクセス許可を持つアカウントでログオンする必要があります。 アプケーションに含まれるアイテムによっては、Windows レジストリ、GAC、証明書ストア、およびインターネット インフォメーション サービスに対する書き込みアクセス許可も必要になります。 ローカル コンピューターの管理者アカウントには、これらのアクセス許可が与えられています。 詳細なアクセス許可についてを参照してください。[を展開すると、BizTalk アプリケーションの管理に必要なアクセス許可](../core/permissions-required-for-deploying-and-managing-a-biztalk-application.md)します。  

## <a name="considerations-for-installing-an-application"></a>アプリケーションのインストールに関する考慮事項  
 アプリケーションのインストール時には、次のことを考慮してください。  

- **このアプリケーションが依存関係を持っているすべてのアプリケーションをインストールすることも必要があります。** 他のアプリケーションに含まれるアイテム (BizTalk アセンブリなど) と依存関係があるアプリケーションをインストールする場合は、そのアイテムを含むアプリケーションもインストールする必要があります。 アプリケーションを実行する前に、これを行う必要があります。 たとえば場合アプリケーション A は、アプリケーション B 内のアセンブリに依存する必要がありますもインストールするアプリケーション Bアプリケーション A をインストールすることができます。背景情報は、次を参照してください。[依存関係とアプリケーションの展開](../core/dependencies-and-application-deployment.md)します。  

- **更新しているアプリケーションを停止する必要があります。** インストールによってアプリケーションのアイテムを更新する場合、本来はアプリケーションを停止する必要はありませんが、更新対象に既存のアセンブリと同じバージョンのアセンブリが含まれる場合は、 更新のインストール前にアプリケーションを停止する必要があります。 更新がアプリケーション実行の妨げにならないことが確実にわかっていない限り、すべての場合でアプリケーションを停止することをお勧めします。 詳細については、次を参照してください。 [BizTalk アプリケーションの更新](../core/updating-biztalk-applications.md)します。  

- **同じアプリケーションに対して複数の .msi ファイルをインストールするときに、1 つだけのエントリの追加と削除 で作成します。** 既存のアプリケーションを更新する場合などは、このような処理になります。 できますし、使用するプログラム追加と削除 (コントロール パネル) でアプリケーションを完全にアンインストールする更新したアイテムを含みます。 .msi ファイルをダブルクリックしてアプリケーションをアンインストールしたり、msiexec を使用してアプリケーションをアンインストールすることはできません。 詳細については、次を参照してください。 [BizTalk アプリケーションをアンインストールする方法](../core/how-to-uninstall-a-biztalk-application.md)します。  

- **証明書は、アプリケーションを実行できる前に、送信ポートをホストするすべてのコンピューターに存在する必要があります。** "その他のユーザー" 証明書ストアには、送信ポートで使用される証明書が含まれます。  

- **インストールの複数の .msi ファイルにアプリケーション アイテムを考慮することができます。** アプリケーションを実行するコンピューターごとに、アプリケーションのすべてのアイテムをインストールする必要はありません。 代わりに、アプリケーションのアイテムを複数の .msi ファイルに分けてエクスポートし、別々のコンピューターにインストールすることができます。 手順については、次を参照してください。 [BizTalk アプリケーションのエクスポート方法](../core/how-to-export-a-biztalk-application.md)します。  

- **アプリケーションの .msi ファイルには、仮想ディレクトリが含まれている場合、ローカル コンピューターのインターネット インフォメーション サービス (IIS) を実行する必要があります。** ローカル コンピューターでインターネット インフォメーション サービス (IIS) が実行されていない場合、インストールは失敗します。  

- **アプリケーションには、ローカル コンピューターに既に存在する 1 つとして同じ名前の仮想ディレクトリが含まれている場合は、アプリケーションのリソースがそれに追加されます。** 同じ名前の仮想ディレクトリがない場合は、仮想ディレクトリが作成されます。 追加するファイルと同じ名前の既存のファイルはすべて上書きされます。 既存の仮想ディレクトリのセキュリティ関連の設定は変更されないので、既存の仮想ディレクトリが十分に安全かどうかを確認する必要があります。  

- **アプリケーションをインストールする前に、仮想ディレクトリのアプリケーション プールを作成します。** アプリケーションに仮想ディレクトリが含まれており、IIS にアプリケーション プールが存在しない場合は、インストール前に手動でアプリケーション プールを作成する必要があります。 こうすると、インストール時に仮想ディレクトリがアプリケーション プールにバインドされます。 アプリケーションを作成しない場合、仮想ディレクトリはインストール時に既定のアプリケーション プールにバインドされます。  

- **BTSHttpReceive.dll がハンドラー マッピング インターネット インフォメーション サービス (IIS) 7.0 として登録されていることを確認します。** アプリケーションでは、HTTP 受信場所が動作する順序で仮想ディレクトリを含む場合に、これを行う必要があります。  

- **32 ビット コンピューター上の 64 ビット アイテムを含むアプリケーションをインストールするときに問題が発生する可能性があります。** 詳細については、次を参照してください。[アプリケーションを 64 ビット アイテムを追加する方法](../core/how-to-add-a-64-bit-artifact-to-an-application.md)します。  

- **ターゲット ディレクトリの長さが 260 文字を超える場合は、問題が発生する可能性があります。** MSI パッケージのインストール時に指定したインストール先ディレクトリの文字数が 260 文字を超える場合、インストールは失敗します。 この問題を解決するには、インストール先ディレクトリに指定されている文字数が 260 文字を超えていないことを確認してください。  

- **インストール フォルダーに再配置する必要がありますされません。** アプリケーションをインストールした後は、インストール フォルダーまたはインストール フォルダーに含まれるファイルの場所を変更しないでください。 これらのフォルダーやファイルの場所を変更すると、後でアプリケーションを削除 (アンインストール) するときに、削除操作が失敗する可能性があります。 特にアプリケーションのインストール フォルダーには、[!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] によって生成された、アプリケーションの削除の実行に必要なファイルが含まれています。 これらのファイルの名前を変更したり、移動や削除を行わないでください。 該当するファイルは次のとおりです。  

  -   ApplicationDefinition.adf  

  -   Microsoft.BizTalk.CustomInstaller.dll  

  -   Microsoft.BizTalk.CustomInstaller.InstallState  

> [!NOTE]
>  インストールの完了前にインストール操作を取り消すと、[!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] ではインストールがロールバックされます。ただし、操作の取り消し前に処理前および処理後のスクリプトによって実行されたアクションはロールバックされません。  
> 
> [!IMPORTANT]
>  任意のアプリケーションをインストールする前に、信頼できる発行元の .msi ファイルを受信したことを確認します。 悪意のあるユーザーは、システムまたはネットワーク上の望ましくない影響する可能性のある .msi ファイルにコードを含めることができます。  詳細については、次を参照してください。[セキュリティと Windows インストーラー](../core/security-and-windows-installer.md)します。  
> 
>  アプリケーションに Web サイトが含まれている場合、または Web サービスを使用するオーケストレーションが含まれている場合、仮想ディレクトリのセキュリティ設定は、アプリケーションのエクスポートで .msi ファイルが生成されたときに使用されていた設定になります。ただし、仮想ディレクトリが存在する場合は既存の設定が使用されます。 アプリケーションをインストールした後は、設定がセキュリティの要件を満たしているかどうかを確認してください。  
> 
>  Alldiscretionary アクセス制御リスト (Dacl) は、アプリケーションをエクスポートするときに、ファイルとフォルダーから削除されます。 ホスト インスタンスにアプリケーションをインストールした後は、ファイルとフォルダーのすべてのセキュリティ設定 (仮想ディレクトリを含む) を再構築する必要があります。  

-   **ローカル パスを変更する必要があります。 ターゲット コンピューターで作成した後、HTTP によって参照されている仮想ディレクトリの指定受信場所。**  

     ターゲット コンピューターに作成された仮想ディレクトリは、次のいずれかの物理ディレクトリを指します。  

     \<*インストール ドライブ*\>\Program Files\Microsoft BizTalk Server\HttpReceive  

     \- **または**–  

     \<*インストール ドライブ*\>\Program Files (x86) \Microsoft BizTalk Server\HttpReceive  

     BizTalk HTTP 受信 ISAPI 拡張 BTSHTTPReceive.dll が指定されたディレクトリに存在しない場合、またはターゲット コンピューターが 64 ビットのオペレーティング システムを実行している場合は、ローカル パスを変更し、BizTalk HTTP 受信 ISAPI 拡張ファイルを格納する物理ディレクトリを指すように、仮想ディレクトリの場所を変更する必要があります。 たとえば、ターゲット マシンが実行されている 64 ビット バージョンの Windows Vista では、ローカル パス: 仮想ディレクトリの指定を変更する必要が\<インストール ドライブ\>\Program Files (x86) \Microsoft BizTalk Server\HttpReceive64 します。  

## <a name="to-install-a-biztalk-application"></a>BizTalk アプリケーションをインストールするには  

#### <a name="using-the-windows-interface"></a>Windows インターフェイスを使用する場合  

1. アプリケーションの .msi ファイルをローカル コンピューターにコピーします。  

2. 再インストールまたは既存の BizTalk アプリケーションをアップグレードすると、新しいインストールには、既にアプリケーションでは、存在するか更新している成果物と対話する 1 つとして同じバージョンを持つアセンブリが含まれています、ことを確認します、。アプリケーション フォルダーを右クリックし、をクリックしてアプリケーションを停止して**停止**します。  

3. Windows エクスプローラーで、.msi ファイルをダブルクリックしてインストール ウィザードを起動します。  

4. **インストール フォルダーの選択**] ページの [**フォルダー**、BizTalk アプリケーションの完全なインストール パスを入力します。 たとえば、「C:\Program Files\Generated by BizTalk\MyApplication」のように入力します。  

5. をクリックして**次**4 回し、**インストールの完了**] ページで [**閉じる**します。  

6. 複数のコンピューターでアプリケーションを実行する場合は、それぞれのコンピューターで上記の手順を繰り返します。  

    アプリケーションを起動するには、アプリケーションが実行するすべてのコンピューターにインストールされ、アプリケーションが BizTalk グループにインポートされて、[!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)]をアプリケーションのフォルダーを右クリックして、管理コンソール**開始**します。 完全な手順については、次を参照してください。 [BizTalk アプリケーション開始および停止方法](../core/how-to-start-and-stop-a-biztalk-application.md)します。  

#### <a name="using-the-command-line"></a>コマンドラインを使用  

1. アプリケーションの .msi ファイルをローカル コンピューターにコピーします。  

2. クリックして**開始**、 をクリックして**実行**、型`cmd`、し、ENTER キーを押します。  

3. .msi ファイルが格納されている場所へ移動します。  

4. 次のコマンドを入力し、アプリケーションをインストールします。指定するパラメーターと値は次のとおりです。  

   > [!IMPORTANT]
   >  msiexec のパラメーターは、次の表に示すものだけがサポートされます。  

    **msiexec** **[/i]***パッケージ***[/qn]** **TARGETDIR ="**<em>値</em>**"**]  

    例: **msiexec/i MyApplication.msi**  


   |           パラメーター           |                                                                                                 値                                                                                                 |
   |-------------------------------|-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
   |            **/i**             |                                                                                       アプリケーションをインストールします。                                                                                       |
   |           *[パッケージ]*           |                                                                              Windows インストーラー (.msi) ファイルの名前を指定します。                                                                               |
   |            **/qn**            |                                                                    ユーザー インターフェイスを表示しないでインストールを実行します。                                                                     |
   | **TARGETDIR ="** *値* **"** | アプリケーションのインストール フォルダーを指定します。 この値は %BTAD_InstallDir% 環境変数にも設定されます。<br /><br /> たとえば、「TARGETDIR="C:\Programs\BizTalk Applications\My Application"」のように指定します。 |


5. 複数のコンピューターでアプリケーションを実行する場合は、それぞれのコンピューターで上記の手順を繰り返します。  

    アプリケーションを実行するすべてのコンピューターにインストールするからアプリケーションを開始することができます、[!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)]管理コンソールをアプリケーションのフォルダーを右クリックして**開始**します。 完全な手順については、次を参照してください。 [BizTalk アプリケーション開始および停止方法](../core/how-to-start-and-stop-a-biztalk-application.md)します。  

## <a name="see-also"></a>参照  
 [BizTalk アプリケーションの展開](../core/deploying-biztalk-applications.md)   
 [BizTalk アプリケーションをアンインストールする方法](../core/how-to-uninstall-a-biztalk-application.md)