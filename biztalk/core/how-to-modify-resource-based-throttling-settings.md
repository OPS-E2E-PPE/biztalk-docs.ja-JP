---
title: "調整の設定ベースのリソースを変更する方法 |Microsoft ドキュメント"
ms.custom: 
ms.date: 06/08/2017
ms.prod: biztalk-server
ms.reviewer: 
ms.suite: 
ms.tgt_pltfrm: 
ms.topic: article
f1_keywords: Bts10.settings.HostResource
ms.assetid: 5f8b32a8-d8cc-4045-a8be-0de0bbadcce4
caps.latest.revision: "12"
author: MandiOhlinger
ms.author: mandia
manager: anneta
ms.openlocfilehash: 67207816c96a808118cceb52fc71782955f881cf
ms.sourcegitcommit: cb908c540d8f1a692d01dc8f313e16cb4b4e696d
ms.translationtype: MT
ms.contentlocale: ja-JP
ms.lasthandoff: 09/20/2017
---
# <a name="how-to-modify-resource-based-throttling-settings"></a>リソース ベースの制限の設定を変更する方法
設定ダッシュボードを使用すると、BizTalk グループ内で特定のホストのリソース ベースの制限構成の設定を変更できます。 これらの設定は、特定のホストに割り当てられているすべてのホスト インスタンスに適用されます。 このトピックでは、これらの設定を変更する手順を説明します。  
  
 ホスト インスタンス プロセスによるシステム リソース (スレッド、メモリ、データベース サイズなど) の使用を管理するために、[!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] では、ホスト インスタンス全体のメッセージのフローおよび処理を管理する、調整可能な制限メカニズムが使用されます。 [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] ホスト制限メカニズムにより、システムは継続的に最適なレベルで動作できます。  
  
-   ホスト インスタンスの作業負荷を軽減します。  
  
-   ホスト インスタンス プロセスまたは他のシステム プロセスのパフォーマンス全体を低下させるリソース競合を回避します。  
  
-   使用可能なリソースが十分に活用されていない状況を検出します。  
  
## <a name="prerequisites"></a>前提条件  
 ここで示す操作を実行するには、BizTalk Server 管理者グループのメンバーとしてログオンする必要があります。  
  
### <a name="to-modify-the-resource-based-throttling-settings-of-a-host"></a>ホストのリソース ベースの制限設定を変更するには  
  
1.  **BizTalk Server 管理コンソール**、展開[!INCLUDE[btsBizTalkServerAdminConsoleui](../includes/btsbiztalkserveradminconsoleui-md.md)]を右クリックして**BizTalk グループ**、クリックして**設定**です。  
  
2.  **BizTalk 設定ダッシュ ボード**ダイアログ ボックスの**ホスト**タブをクリックし、**リソース ベースの制限**タブです。  
  
3.  クリックして、次の操作、**適用**を変更を適用し、別のタブに進みます。それ以外の場合、をクリックして**OK**を変更を適用し、設定ダッシュ ボードを終了します。  
  
    |**これを使用してください。**|目的|境界値|既定値|アップグレード ロジック|  
    |------------------|----------------|---------------------|-------------------|-------------------|  
    |**ホスト**|ドロップダウン リストから、[!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] ランタイム インスタンスを表すホストを選択します。|-|-|-|  
    |**CPU あたりの設定**||-|-|-|  
    |**スレッド**|CPU あたりのプロセスにおけるスレッドの最大数を指定します。この値を超えると制限が適用されます。|0、整数型の最大値|0|-|  
    |**データベース接続**|使用できる (CPU あたりの) 同時実行データベース セッションの最大数を指定します。この値を超えると制限が開始されます。|1 – 整数型の最大値|0|-|  
    |**インプロセス メッセージ**|エンド ポイント マネージャー (EPM) または XLANG に配信される処理されていないメッセージの最大数を指定します。 これには、インメモリ キューの配信を待機しているデータベースから取得されるメッセージは含まれません。|1 – 整数型の最大値|1000|-|  
    |**内部メッセージ キュー サイズ**|インメモリ キューのサイズを表します。 このキューは、メッセージを配信するための一時的な格納場所として機能します。<br /><br /> このパラメーターに大きな値を設定すると、処理用のメッセージ ボックス データベースから多くのメッセージがあらかじめ取得されるため、待機時間の短いシナリオがある程度改善される場合があります。 このキューのメッセージがメモリを消費するので、プロセスのメモリ ベースの制限を避けるため、このパラメーターに小さな値を設定すると、サイズの大きいメッセージを含むシナリオに有効な場合があります。 **注:**ホストを変更を反映するために再起動する必要がある場合、この値を変更します。|1 – 整数型の最大値|100|-|  
    |**DB のメッセージ カウント**|サブスクライブを行うホストの作業キュー、状態キュー、および保留キューにこのホスト インスタンスによって公開されるメッセージの総数を表します。<br /><br /> **DB 内の数をメッセージ**も直接に設定されていないスプール テーブルまたは追跡テーブル内のメッセージの数に基づいて、制限の条件のしきい値を定義します。 スプール テーブルまたは追跡テーブルのメッセージの数がこの値の 10 倍を超えると、制限の条件が発生します。|1 – 整数型の最大値|50000|-|  
    |**メモリ使用量**||-|-|-|  
    |**グローバル物理メモリ**|システム全体の最大仮想メモリを % 単位で指定します。この値を超えると制限が適用されます。|0: 無効<br /><br /> 1% – 100%<br /><br /> 100% を超える値は MB と見なされ、整数型の最大値まで指定できます。|0|-|  
    |**プロセス仮想メモリ**|使用できるプロセス メモリの最大値を % 単位で指定します。この値を超えると制限が適用されます (% または MB)。|0: 無効<br /><br /> 1% – 100%<br /><br /> 100% を超える値は MB と見なされ、整数型の最大値まで指定できます。|25|-|  
    |**スプール乗数**|場合の係数を示す、 **DB 内の数をメッセージ**しきい値が乗算され、その後、スプール テーブルの現在のレコード数を比較します。<br /><br /> これにより、スプール テーブル サイズで制限を行うかどうかが決定されます。 この値に 0 を設定した場合、制限の条件を決めるためにスプール テーブル サイズは使用されません。|0-1000|10|レジストリから読み取られた制限パラメーターは、ホスト インスタンス パラメーターと 1 対 1 でマップされます。|  
    |**追跡データ乗数**|係数を指定する、 **DB 内の数をメッセージ**しきい値が乗算され、その後、追跡テーブルの現在のレコード数を比較します。<br /><br /> これは、システムが追跡テーブル サイズで制限する必要があるかどうかが決定します。 この値が 0 に設定されている場合追跡テーブル サイズは、制限の条件を決定するために使用されません。|0-1000|10|レジストリから読み取られた制限パラメーターは、ホスト インスタンス パラメーターと 1 対 1 でマップされます。|  
    |**GC をトリガーする制限**|プロセス メモリの使用量が増えてしきい値に近づいた場合の .NET ガベージ コレクション (GC) が発生するタイミングを指定します。 メモリ使用量がメモリのしきい値のこの比率を超えると、GC が発生します。|50-100|80|レジストリから読み取られた制限パラメーターは、ホスト インスタンス パラメーターと 1 対 1 でマップされます。|  
    |**バッチのメモリのしきい値**|メッセージ バッチの公開を制限するメモリのしきい値を % 単位で表します。<br /><br /> バッチのメモリのしきい値は、この割合係数を掛けることによって計算は、**プロセス仮想メモリ**しきい値です。 公開バッチを実行するために推定されるメモリ使用量がバッチのメモリのしきい値を超える場合、バッチは、メモリ ベースの制限を受けます。 それ以外の場合、バッチがから除外されるプロセス メモリ ベースの制限合計のプロセスのメモリを超える場合でも、**プロセス仮想メモリ**しきい値です。<br /><br /> 値 0 を指定すると、バッチを実行するために推定されるメモリ使用量が非常に少なくても、すべての公開バッチがプロセス メモリ ベースの制限を受ける可能性があります。|0%-100%||レジストリから読み取られた制限パラメーターは、ホスト インスタンス パラメーターと 1 対 1 でマップされます。|  
    |**Severity**||-|-|-|  
    |**[メモリ]**|プロセス メモリで発生した制限の条件の重大度を表します。 このパラメーター パーセント値で指定されている場合に発生する制限の条件の重大度を設定、**プロセス仮想メモリ**のしきい値を超過します。|1 ～ 1000|500|すべてのホスト インスタンス値の最小値|  
    |**DB サイズ**|データベース サイズで発生した制限の条件の重大度を表します。 このパラメーター パーセント値で指定されている場合に発生する制限の条件の重大度を設定、 **DB 内の数をメッセージ**のしきい値を超過します。|1 ～ 1000|1|すべてのホスト インスタンス値の最小値|  
    |**インフライト メッセージ**|場合の制限の反応時間を指定の値は、**インプロセス メッセージ**しきい値を超えています。 これはパーセント値で指定し、このパラメーターが原因となったときに、制限の条件の重大度を設定の値は、**インプロセス メッセージ**しきい値を超えた。|1 ～ 1000|75|すべてのホスト インスタンス値の最小値|  
  
    > [!NOTE]
    >  既定の設定を復元する をクリックして**既定値に戻す**です。  
  
## <a name="see-also"></a>参照  
 [ホストの設定を変更する方法](../core/how-to-modify-host-settings.md)