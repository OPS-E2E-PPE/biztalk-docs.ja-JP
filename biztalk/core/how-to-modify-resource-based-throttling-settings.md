---
title: ベースの制限の設定をリソースを変更する方法 |Microsoft Docs
ms.custom: ''
ms.date: 06/08/2017
ms.prod: biztalk-server
ms.reviewer: ''
ms.suite: ''
ms.tgt_pltfrm: ''
ms.topic: article
f1_keywords:
- Bts10.settings.HostResource
ms.assetid: 5f8b32a8-d8cc-4045-a8be-0de0bbadcce4
caps.latest.revision: 12
author: MandiOhlinger
ms.author: mandia
manager: anneta
ms.openlocfilehash: f3b00ca31467592a7ba071b96ec6f52367b4149f
ms.sourcegitcommit: 381e83d43796a345488d54b3f7413e11d56ad7be
ms.translationtype: MT
ms.contentlocale: ja-JP
ms.lasthandoff: 05/07/2019
ms.locfileid: "65384566"
---
# <a name="how-to-modify-resource-based-throttling-settings"></a>ベースの制限の設定のリソースを変更する方法
設定ダッシュ ボードを使用して、BizTalk グループ全体で特定のホストのリソース ベースのスロットル構成設定を変更できます。 これらの設定は、特定のホストに割り当てられているすべてのホスト インスタンスに適用されます。 このトピックでは、これらの設定を変更するための手順を提供します。  

 ホスト インスタンス プロセスによるシステム リソース (スレッド、メモリ、およびデータベースのサイズ) などの使用状況を管理する[!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)]調整可能な制限メカニズムが、フローと、ホスト インスタンス全体のメッセージの処理を利用します。 [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)]ホスト制限メカニズムによって、最適かつ維持可能なレベルでシステムが動作することができます。  

-   ホスト インスタンスのワークロードを調整します。  

-   ホスト インスタンス プロセスまたは他のシステム プロセスの全体的なパフォーマンスが低下するリソースの競合を防止します。  

-   使用可能なリソースは過小使用されているときに検出しています。  

## <a name="prerequisites"></a>前提条件  
 この操作を実行するには、BizTalk Server 管理者グループのメンバーとしてログオンする必要があります。  

### <a name="to-modify-the-resource-based-throttling-settings-of-a-host"></a>リソースを変更するには、ベースのホストの制限の設定  

1. **BizTalk Server 管理コンソール**、展開[!INCLUDE[btsBizTalkServerAdminConsoleui](../includes/btsbiztalkserveradminconsoleui-md.md)]を右クリックして**BizTalk グループ**、 をクリックし、**設定**します。  

2. **BizTalk 設定ダッシュ ボード**] ダイアログ ボックスの [、**ホスト**タブをクリックし、**リソース ベースの制限**タブ。  

3. クリックして、次の操作を**適用**を変更を適用し、別のタブに進みます。それ以外の場合、をクリックして**OK**変更を適用し、設定ダッシュ ボードを終了します。  


   |          **これを使用して、**           |                                                                                                                                                                                                                                                                                                                                                             目的                                                                                                                                                                                                                                                                                                                                                             |                                            境界値                                             | 既定値 |                                           アップグレード ロジック                                           |
   |---------------------------------|------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|--------------------------------------------------------------------------------------------------------|---------------|---------------------------------------------------------------------------------------------------|
   |            **ホスト**             |                                                                                                                                                                                                                                                                                  ドロップダウン リストから選択を表すホスト、[!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)]ランタイム インスタンス。                                                                                                                                                                                                                                                                                   |                                                   -                                                    |       -       |                                                 -                                                 |
   |      **CPU ごとの設定**       |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    |                                                   -                                                    |       -       |                                                 -                                                 |
   |           **スレッド**           |                                                                                                                                                                                                                                                                                                                許可、制限が適用されます (CPU) ごとの処理中のスレッドの最大数を指定します。                                                                                                                                                                                                                                                                                                                |                                   [0、整数型の最大値)                                   |       0       |                                                 -                                                 |
   |    **データベース接続**     |                                                                                                                                                                                                                                                                                                                    許可の制限が適用されます (CPU) ごとのデータベース セッションの最大数を指定します。                                                                                                                                                                                                                                                                                                                     |                                   1 – 整数型の最大値                                    |       0       |                                                 -                                                 |
   |     **インプロセス メッセージ**     |                                                                                                                                                                                                                                              処理されていない、エンド ポイント マネージャー (EPM) または XLANG に配信されたメッセージの最大数を指定します。 これは、データベースから取得されますが、インメモリ キューに配信を待機しているメッセージには含まれません。                                                                                                                                                                                                                                              |                                   1 – 整数型の最大値                                    |     1000      |                                                 -                                                 |
   | **内部メッセージ キュー サイズ** |                                                インメモリ キューのサイズを指定します。 このキューは、メッセージを配信するための一時的なプレース ホルダーとして機能します。<br /><br /> このパラメーターに大きな値の設定によりより多くのメッセージが処理するためのメッセージ ボックス データベースからあらかじめ取得されるため、ある程度の待機時間の短いシナリオが向上します。 このキュー内のメッセージは、メモリを消費するので値を小さくするこのパラメーターを設定は、プロセスのメモリ ベースの制限を回避するために、サイズの大きいメッセージに関連するシナリオに有効なかもしれません。 **注:** この値を変更する場合、ホストを再起動しなければ、変更を反映する必要があります。                                                |                                   1 – 整数型の最大値                                    |      100      |                                                 -                                                 |
   |     **DB のメッセージ カウント**     |                                                                                                                              作業、状態、およびサブスクライブを行うホストの保留キューにホスト インスタンスによって公開されたメッセージの総数を示します。<br /><br /> **DB のメッセージ カウント**設定も間接的スプール テーブルまたは追跡テーブル内のメッセージの数に基づいて、制限の条件のしきい値を定義します。 スプール テーブルまたは追跡テーブル内のメッセージの数がこの値を 10 回を超えた場合は、制限の条件がトリガーされます。                                                                                                                              |                                   1 – 整数型の最大値                                    |     50000     |                                                 -                                                 |
   |        **メモリ使用量**         |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    |                                                   -                                                    |       -       |                                                 -                                                 |
   |       **グローバル物理メモリ**       |                                                                                                                                                                                                                                                                                                                制限が適用されますを許可される最大のシステム全体の仮想メモリ使用率 (%) で指定します。                                                                                                                                                                                                                                                                                                                 | 0: 無効にします。<br /><br /> 1% – 100%<br /><br /> > 100% の値は mb 単位として扱われ、int 最大まで進むことができます。 |       0       |                                                 -                                                 |
   |       **プロセス仮想メモリ**       |                                                                                                                                                                                                                                                                                                            許可 (% またはメガバイト単位) の制限が適用されます (%) で、最大プロセス メモリを指定します。                                                                                                                                                                                                                                                                                                             | 0: 無効にします。<br /><br /> 1% – 100%<br /><br /> > 100% の値は mb 単位として扱われ、int 最大まで進むことができます。 |      25       |                                                 -                                                 |
   |      **スプール乗数**       |                                                                                                                                                                              使用される係数を示す、 **DB のメッセージ カウント**しきい値を乗算した値し、スプール テーブルの現在のレコード数を比較します。<br /><br /> これは、システムがスプール テーブル サイズで制限するかどうかを判断します。 この値が 0 に設定されている場合、スプール テーブル サイズは、制限の条件を決定するための考慮事項として使用されません。                                                                                                                                                                              |                                                 0-1000                                                 |      10       | レジストリから読み取られた制限パラメーターをホスト インスタンス パラメーターと一対一でマップする必要があります。 |
   |  **追跡データ乗数**   |                                                                                                                                                                          使用される係数を指定して、 **DB のメッセージ カウント**しきい値を乗算した値し、追跡テーブルの現在のレコード数を比較します。<br /><br /> これは、システムが追跡テーブル サイズで制限するかどうかを判断します。 この値が 0 に設定されている場合追跡テーブル サイズは、制限の条件を決定するための考慮事項として使用されません。                                                                                                                                                                          |                                                 0-1000                                                 |      10       | レジストリから読み取られた制限パラメーターをホスト インスタンス パラメーターと一対一でマップする必要があります。 |
   |     **GC のトリガーに制限**     |                                                                                                                                                                                                                                               .NET ガベージ コレクション (GC) がプロセス メモリ消費量が増加するにつれてがトリガーされ、しきい値に近づくを指定します。 メモリ消費量がこの割合は、メモリのしきい値の値を超えると、GC が発生します。                                                                                                                                                                                                                                               |                                                 50-100                                                 |      80       | レジストリから読み取られた制限パラメーターをホスト インスタンス パラメーターと一対一でマップする必要があります。 |
   |   **バッチのメモリのしきい値**    | メモリのしきい値を超えるとバッチのメッセージの公開を制限するを % 単位で示します。<br /><br /> バッチのメモリのしきい値は、この割合係数を乗算して算出されます、**プロセス仮想**しきい値。 公開バッチを実行するには、バッチのメモリのしきい値を超えています。 メモリの推定、バッチはプロセス メモリ ベースの制限の対象です。 バッチがプロセス メモリ ベースの制限から適用除外された合計のプロセスのメモリを超える場合でも、それ以外の場合、**プロセス仮想**しきい値。<br /><br /> 値 0 は、すべての公開バッチがプロセス メモリ ベースの制限場合でも、バッチを実行するは最小限のメモリの推定されるとする可能性がありますを示します。 |                                                0%-100%                                                 |               | レジストリから読み取られた制限パラメーターをホスト インスタンス パラメーターと一対一でマップする必要があります。 |
   |          **Severity**           |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    |                                                   -                                                    |       -       |                                                 -                                                 |
   |           **[メモリ]**            |                                                                                                                                                                                                                                                   発生した制限の条件のプロセス メモリの重大度を示します。 このパラメーター パーセント値で指定されている場合に発生する制限の条件の重大度を設定、**プロセス仮想**しきい値を超えた。                                                                                                                                                                                                                                                   |                                                1 – 1000                                                |      500      |                                すべてのホスト インスタンスの値の最小値                                 |
   |           **DB サイズ**           |                                                                                                                                                                                                                                                 発生した制限の条件をデータベース サイズの重大度を示します。 このパラメーター パーセント値で指定されている場合に発生する制限の条件の重大度を設定、 **DB のメッセージ カウント**しきい値を超えた。                                                                                                                                                                                                                                                 |                                                1 – 1000                                                |       1       |                                すべてのホスト インスタンスの値の最小値                                 |
   |      **インフライト メッセージ**       |                                                                                                                                                                                                                      場合の制限の反応時間を指定の値は、**インプロセス メッセージ**しきい値を超えています。 これはパーセント値で指定し、このパラメーターは、場合に発生する制限の条件の重大度を設定の値は、**インプロセス メッセージ**しきい値を超えた。                                                                                                                                                                                                                       |                                                1 – 1000                                                |      75       |                                すべてのホスト インスタンスの値の最小値                                 |

   > [!NOTE]
   >  既定の設定を復元するには、次のようにクリックします。**既定値に戻す**します。  

## <a name="see-also"></a>参照  
 [ホストの設定を変更する方法](../core/how-to-modify-host-settings.md)