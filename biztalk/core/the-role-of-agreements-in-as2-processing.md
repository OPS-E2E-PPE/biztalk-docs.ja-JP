---
title: AS2 処理におけるアグリーメントのロール |Microsoft Docs
ms.custom: ''
ms.date: 06/08/2017
ms.prod: biztalk-server
ms.reviewer: ''
ms.suite: ''
ms.tgt_pltfrm: ''
ms.topic: article
ms.assetid: bb6a6fe1-8fb4-4998-a1b4-aadad7e672c4
caps.latest.revision: 23
author: MandiOhlinger
ms.author: mandia
manager: anneta
ms.openlocfilehash: b6b5b93332f74743c4798f0ce821794d29e5262c
ms.sourcegitcommit: 381e83d43796a345488d54b3f7413e11d56ad7be
ms.translationtype: MT
ms.contentlocale: ja-JP
ms.lasthandoff: 05/07/2019
ms.locfileid: "65394051"
---
# <a name="the-role-of-agreements-in-as2-processing"></a><span data-ttu-id="e688f-102">AS2 処理におけるアグリーメントのロール</span><span class="sxs-lookup"><span data-stu-id="e688f-102">The Role of Agreements in AS2 Processing</span></span>
<span data-ttu-id="e688f-103">組織は [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] を使用して、1 つ以上の取引先との間で AS2 メッセージを送受信します。</span><span class="sxs-lookup"><span data-stu-id="e688f-103">An organization uses [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] to receive AS2 messages from, and send AS2 messages to, one or more trading partners.</span></span> <span data-ttu-id="e688f-104">取引先は、組織内の Business Entities であるビジネス プロファイルを順番に定義します。</span><span class="sxs-lookup"><span data-stu-id="e688f-104">The trading partners, in turn define business profiles that are business entities within an organization.</span></span> <span data-ttu-id="e688f-105">さまざまな取引先に属する 2 つのビジネス プロファイル間の双方向の取引先契約に AS2 プロパティを設定します。</span><span class="sxs-lookup"><span data-stu-id="e688f-105">You set AS2 properties in bi-directional trading partner agreements between two business profiles belonging to different trading partners.</span></span>  
  
 <span data-ttu-id="e688f-106">取引先管理 (TPM) ユーザー インターフェイスでは、取引先契約を作成できます。</span><span class="sxs-lookup"><span data-stu-id="e688f-106">You can create trading partner agreements in the Trading Partner Management (TPM) user interface.</span></span> <span data-ttu-id="e688f-107">TPM の画面はでは、**パーティ**のノード、[!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)]管理コンソール。</span><span class="sxs-lookup"><span data-stu-id="e688f-107">The TPM screens are in the **Parties** node of the [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] Administration Console.</span></span>  
  
 <span data-ttu-id="e688f-108">ビジネス プロファイル、および、TPM ソリューションにまとめて契約同順位の取引方法の詳細についてを参照[、取引先管理ソリューションのビルド ブロック](../core/building-blocks-of-a-trading-partner-management-solution.md)します。</span><span class="sxs-lookup"><span data-stu-id="e688f-108">For more information about how trading partners, business profiles, and agreements tie together into a TPM solution, see [Building Blocks of a Trading Partner Management Solution](../core/building-blocks-of-a-trading-partner-management-solution.md).</span></span>  
  
## <a name="configuring-an-agreement-for-as2-processing"></a><span data-ttu-id="e688f-109">AS2 処理のためのアグリーメントの構成</span><span class="sxs-lookup"><span data-stu-id="e688f-109">Configuring an Agreement for AS2 Processing</span></span>  
 <span data-ttu-id="e688f-110">取引パートナーが別の取引パートナーから AS2 メッセージを受信するか、または別の取引パートナーに AS2 メッセージを送信すると、そのメッセージは [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] AS2 受信パイプラインまたは AS2 送信パイプラインによって 2 つの取引パートナー間の AS2 アグリーメントのプロパティに基づいて処理されます。</span><span class="sxs-lookup"><span data-stu-id="e688f-110">Any time a trading partner receives an AS2 message from, or sends an AS2 message to, another trading partner, the [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] AS2 receive pipeline or AS2 send pipeline will process the message according to the AS2 agreement properties between the two trading partners.</span></span> <span data-ttu-id="e688f-111">[!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] が受信と送信の両方の AS2 通信を行う方法を定義する AS2 プロパティを構成できます。</span><span class="sxs-lookup"><span data-stu-id="e688f-111">You can configure the AS2 properties that define how [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] will perform AS2 communications, both incoming and outgoing.</span></span>  
  
> [!NOTE]
>  <span data-ttu-id="e688f-112">EDI 処理とは異なり、アグリーメントを特定できない場合に [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] が使用できるフォールバック AS2 アグリーメントはありません。</span><span class="sxs-lookup"><span data-stu-id="e688f-112">Unlike in EDI processing, there are no fallback AS2 agreements that [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] can use if it cannot determine the agreement.</span></span> <span data-ttu-id="e688f-113">AS2 受信または送信パイプラインは、アグリーメントが特定された場合にのみメッセージを処理します。</span><span class="sxs-lookup"><span data-stu-id="e688f-113">The AS2 receive or send pipeline will process the message only if an agreement is determined.</span></span>  
> 
> [!NOTE]
>  <span data-ttu-id="e688f-114">AS2 アグリーメントは、EDI アグリーメントとは別に構成されます。</span><span class="sxs-lookup"><span data-stu-id="e688f-114">The AS2 agreement is configured separately from the EDI agreement.</span></span> <span data-ttu-id="e688f-115">ドキュメントを受信すると、AS2 アグリーメントは AS2 処理時に解決され、それとは別に EDI アグリーメントが EDI 処理時に解決されます。</span><span class="sxs-lookup"><span data-stu-id="e688f-115">When receiving documents, the AS2 agreement is resolved during AS2 processing, then the EDI agreement is resolved separately during EDI processing.</span></span> <span data-ttu-id="e688f-116">両方のアグリーメントにより、パートナーシップが形成されます。</span><span class="sxs-lookup"><span data-stu-id="e688f-116">Both the agreements together make a partnership.</span></span> <span data-ttu-id="e688f-117">詳細については、次を参照してください。[取引先アグリーメント](../core/trading-partner-agreement.md)します。</span><span class="sxs-lookup"><span data-stu-id="e688f-117">For more information see [Trading Partner Agreement](../core/trading-partner-agreement.md).</span></span>  
> 
> [!NOTE]
>  <span data-ttu-id="e688f-118">名前やエイリアス、送信ポート、署名証明書など、パーティの全般的な側面を定義するプロパティは、取引先プロパティの一部に指定されます。</span><span class="sxs-lookup"><span data-stu-id="e688f-118">Properties that define general aspects of the party, such as name and aliases, send ports, and signing certificate are specified as part of the trading partner’s properties.</span></span>  
  
 <span data-ttu-id="e688f-119">HTTP/HTTPS トランスポートは、EDIINT/AS2 でエンコードされたメッセージにも AS2 を経由して非 EDI でエンコードされたメッセージにも使用できます。</span><span class="sxs-lookup"><span data-stu-id="e688f-119">You can use HTTP/HTTPS transport for either EDIINT/AS2-encoded messages or non-EDI over AS2-encoded messages.</span></span> <span data-ttu-id="e688f-120">EDIINT/AS2 でエンコードされたメッセージを HTTP/HTTPS トランスポート経由で送信すると、アグリーメントの EDI プロパティが適用されます。</span><span class="sxs-lookup"><span data-stu-id="e688f-120">If you transmit EDIINT/AS2-encoded messages over HTTP/HTTPS transport, the EDI properties for the agreement will apply.</span></span>  
  
 <span data-ttu-id="e688f-121">ホーム組織の署名証明書がで定義されている、**証明書**のページ、 **BizTalk グループ - グループのプロパティ** ダイアログ ボックス。</span><span class="sxs-lookup"><span data-stu-id="e688f-121">The signing certificate for the home organization is defined in the **Certificate** page of the **BizTalk Group - Group Properties** dialog box.</span></span> <span data-ttu-id="e688f-122">さらに、[!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)]既定のアグリーメントのプロパティの一部として、証明書を定義することで AS2 メッセージ用の証明書の署名をオーバーライドすることができます。</span><span class="sxs-lookup"><span data-stu-id="e688f-122">Additionally, [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] enables you to override the default signing certificate for AS2 messages by defining a certificate as part of the agreement properties.</span></span>  <span data-ttu-id="e688f-123">特定のアグリーメントを別の証明書を定義するには、使用、**署名証明書**一方向の AS2 アグリーメントのページ、**アグリーメントのプロパティ** ダイアログ ボックス。</span><span class="sxs-lookup"><span data-stu-id="e688f-123">To define a different certificate for a specific agreement, use the **Signature Certificate** page of the one-way AS2 agreement in the **Agreement Properties** dialog box.</span></span> <span data-ttu-id="e688f-124">別の証明書を指定する方法については、次を参照してください。[署名証明書を構成 (AS2)](../core/configuring-signature-certificates-as2.md)します。</span><span class="sxs-lookup"><span data-stu-id="e688f-124">For instructions on how to specify a different certificate, see [Configuring Signature Certificates (AS2)](../core/configuring-signature-certificates-as2.md).</span></span>  
  
## <a name="determining-an-agreement-for-as2-processing"></a><span data-ttu-id="e688f-125">AS2 処理のためのアグリーメントの決定</span><span class="sxs-lookup"><span data-stu-id="e688f-125">Determining an Agreement for AS2 Processing</span></span>  
 <span data-ttu-id="e688f-126">[!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)]は、AS2 でエンコードされたメッセージを受信すると、AS2-From ヘッダーをパーティの一方向アグリーメントの AS2-From アグリーメント設定と照合することにより、メッセージを送信したパーティの決定を試みます。</span><span class="sxs-lookup"><span data-stu-id="e688f-126">When [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] receives an AS2-encoded message, it attempts to determine the party that sent the message by matching the AS2-From header to the AS2-From agreement settings in the one-way agreement for the party.</span></span> <span data-ttu-id="e688f-127">[!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)]は、AS2 でエンコードされたメッセージを送信すると、AS2-To ヘッダーをパーティの一方向アグリーメントの AS2-To アグリーメントのプロパティと照合することにより、メッセージを受信するパーティの決定を試みます。</span><span class="sxs-lookup"><span data-stu-id="e688f-127">When [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] sends an AS2-encoded message, it attempts to determine the party that will receive the message by matching the AS2-To header to the AS2-To agreement property in the one-way agreement for the party.</span></span> <span data-ttu-id="e688f-128">詳細については、次を参照してください。[受信 AS2 メッセージのアグリーメントの解決](../core/agreement-resolution-for-incoming-as2-messages.md)または[送信 AS2 メッセージのアグリーメントの解決](../core/agreement-resolution-for-outgoing-as2-messages.md)します。</span><span class="sxs-lookup"><span data-stu-id="e688f-128">For more information, see [Agreement Resolution for Incoming AS2 Messages](../core/agreement-resolution-for-incoming-as2-messages.md) or [Agreement Resolution for Outgoing AS2 Messages](../core/agreement-resolution-for-outgoing-as2-messages.md).</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="e688f-129">参照</span><span class="sxs-lookup"><span data-stu-id="e688f-129">See Also</span></span>  
 <span data-ttu-id="e688f-130">[受信 AS2 メッセージのアグリーメントの解決](../core/agreement-resolution-for-incoming-as2-messages.md) </span><span class="sxs-lookup"><span data-stu-id="e688f-130">[Agreement Resolution for Incoming AS2 Messages](../core/agreement-resolution-for-incoming-as2-messages.md) </span></span>  
 <span data-ttu-id="e688f-131">[送信 AS2 メッセージのアグリーメントの解決](../core/agreement-resolution-for-outgoing-as2-messages.md) </span><span class="sxs-lookup"><span data-stu-id="e688f-131">[Agreement Resolution for Outgoing AS2 Messages](../core/agreement-resolution-for-outgoing-as2-messages.md) </span></span>  
 [<span data-ttu-id="e688f-132">AS2 プロパティの構成</span><span class="sxs-lookup"><span data-stu-id="e688f-132">Configuring AS2 Properties</span></span>](../core/configuring-as2-properties.md)