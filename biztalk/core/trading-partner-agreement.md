---
title: 取引先アグリーメント |Microsoft ドキュメント
ms.custom: ''
ms.date: 06/08/2017
ms.prod: biztalk-server
ms.reviewer: ''
ms.suite: ''
ms.tgt_pltfrm: ''
ms.topic: article
ms.assetid: e40a3847-ee36-4a75-ab50-def9b0caf07e
caps.latest.revision: 9
author: MandiOhlinger
ms.author: mandia
manager: anneta
ms.openlocfilehash: 6a62ada3317bc347a6d39af9fb2f983e02647e5e
ms.sourcegitcommit: cb908c540d8f1a692d01dc8f313e16cb4b4e696d
ms.translationtype: MT
ms.contentlocale: ja-JP
ms.lasthandoff: 09/20/2017
ms.locfileid: "22279978"
---
# <a name="trading-partner-agreement"></a><span data-ttu-id="f3f26-102">取引先アグリーメント</span><span class="sxs-lookup"><span data-stu-id="f3f26-102">Trading Partner Agreement</span></span>
## <a name="overview"></a><span data-ttu-id="f3f26-103">概要</span><span class="sxs-lookup"><span data-stu-id="f3f26-103">Overview</span></span>
<span data-ttu-id="f3f26-104">取引先アグリーメント (TPA) は、特定の B2B プロトコルでメッセージをやり取りする際に 2 つの取引パートナー間で交わされる決定的で拘束力があるアグリーメントと定義されます。</span><span class="sxs-lookup"><span data-stu-id="f3f26-104">A Trading Partner Agreement (TPA) is defined as a definitive and binding agreement between two trading partners for transacting messages over a specific B2B Protocol.</span></span> <span data-ttu-id="f3f26-105">アグリーメントには、両方の取引先の特定のビジネス プロファイルから、共通する双方向のメッセージ処理プロパティがまとめられます。</span><span class="sxs-lookup"><span data-stu-id="f3f26-105">Agreements bring together common bi-directional message processing properties from specific business profiles of both partners.</span></span> <span data-ttu-id="f3f26-106">これは、2 つの取引先間のビジネス トランザクションを管理するすべての分野の包括的なコレクションです。</span><span class="sxs-lookup"><span data-stu-id="f3f26-106">It is a comprehensive collection of all aspects governing the business transaction between the two trading partners.</span></span> <span data-ttu-id="f3f26-107">TPA は一般的に、各パートナーのプロファイルから派生しますが、カスタマイズ可能で、必要な設定を上書きできます。</span><span class="sxs-lookup"><span data-stu-id="f3f26-107">A TPA is typically derived from the profiles of each partner, with the ability to customize and override the required settings.</span></span>  
  
 <span data-ttu-id="f3f26-108">より簡単に説明すると、TPA は、相互に B2B メッセージを交換するときに特定のメッセージ エンコード プロトコルまたは特定のトランスポート プロトコルを使用するという、2 つのビジネス プロファイル間の取り決めを示すものです。</span><span class="sxs-lookup"><span data-stu-id="f3f26-108">In simpler terms, a TPA is an understanding between two business profiles to use a specific message encoding protocol or a specific transport protocol while exchanging B2B messages with each other.</span></span>  
  
 <span data-ttu-id="f3f26-109">![パートナー アグリーメントでプロファイル](../core/media/tradingpartneragreement.gif "TradingPartnerAgreement")</span><span class="sxs-lookup"><span data-stu-id="f3f26-109">![Partner profiles with agreements](../core/media/tradingpartneragreement.gif "TradingPartnerAgreement")</span></span>  
  
 <span data-ttu-id="f3f26-110">前の図では、使用する X12 メッセージのエンコードとしてビジネスをそれぞれ Contoso および Fabrikam の「出荷」および「請求書」プロファイル間の契約 (**エンコード アグリーメント**) および AS2 トランスポートをメッセージを交換する (**トランスポート アグリーメント**)。</span><span class="sxs-lookup"><span data-stu-id="f3f26-110">In the preceding illustration, there’s an agreement between the “Shipping” and “Invoice” profiles of Fabrikam and Contoso respectively to use the X12 encoding for business messages (**encoding agreement**) and AS2 transport for exchanging messages (**transport agreement**).</span></span> <span data-ttu-id="f3f26-111">各種のビジネス プロファイル間に、このようなアグリーメントを多数設定できます。</span><span class="sxs-lookup"><span data-stu-id="f3f26-111">There can be many such agreements between various business profiles.</span></span> <span data-ttu-id="f3f26-112">たとえば、"支払い" と "請求書" のプロファイル間に、EDIFACT メッセージ エンコード標準を使用するというアグリーメントを設定できます。</span><span class="sxs-lookup"><span data-stu-id="f3f26-112">For example, there can be an agreement between the “Payments” and “Invoice” profiles to use the EDIFACT message encoding standard.</span></span> <span data-ttu-id="f3f26-113">すべてのすべてのプロファイルのアグリーメントの取引先のペアを構成、**パートナーシップ**2 つの取引先。</span><span class="sxs-lookup"><span data-stu-id="f3f26-113">All such agreements for all the profiles for a pair of trading partners constitute a **Partnership** between the two trading partners.</span></span>  
  
## <a name="bi-directional-agreements"></a><span data-ttu-id="f3f26-114">双方向アグリーメント</span><span class="sxs-lookup"><span data-stu-id="f3f26-114">Bi-directional agreements</span></span>  
 <span data-ttu-id="f3f26-115">2 つのビジネス プロファイル間の各アグリーメントは、双方向です。</span><span class="sxs-lookup"><span data-stu-id="f3f26-115">Each agreement between two business profiles is bi-directional.</span></span> <span data-ttu-id="f3f26-116">たとえば、"出荷" と "請求書" のビジネス プロファイル間のアグリーメントには、メッセージ処理に次のような特性があります。</span><span class="sxs-lookup"><span data-stu-id="f3f26-116">For example, the agreement between “Shipping” and “Invoice” business profiles will contain properties to process messages:</span></span>  
  
-   <span data-ttu-id="f3f26-117">"出荷" プロファイルは "請求書" プロファイルから受信</span><span class="sxs-lookup"><span data-stu-id="f3f26-117">Received by “Shipping” profile from “Invoice” profile, and</span></span>  
  
-   <span data-ttu-id="f3f26-118">"出荷" プロファイルから "請求書" プロファイルに送信</span><span class="sxs-lookup"><span data-stu-id="f3f26-118">Sent by “Shipping” profile to “Invoice” profile</span></span>  
  
 <span data-ttu-id="f3f26-119">つまり、双方向アグリーメントは 2 つの一方向のアグリーメントの組み合わせになります。</span><span class="sxs-lookup"><span data-stu-id="f3f26-119">In simpler terms, a bi-directional agreement is a collection of two one-way agreements.</span></span> <span data-ttu-id="f3f26-120">1 つの一方向アグリーメントが B. をパーティには、パーティ A からのメッセージのトランザクションの動作を定義するプロパティのコレクションとして見なすことができます。その他の一方向のアグリーメントがパーティ B からパーティ A にメッセージ トランザクションの動作を定義するプロパティのコレクションとして見なすことができます。</span><span class="sxs-lookup"><span data-stu-id="f3f26-120">One one-way agreement can be considered as a collection of properties that define how message transaction happens from party A to party B. The other one-way agreement can be considered as a collection of properties that define how message transaction happens from party B to party A.</span></span>  
  
## <a name="considerations-when-defining-an-agreement"></a><span data-ttu-id="f3f26-121">アグリーメントを定義する際の考慮事項</span><span class="sxs-lookup"><span data-stu-id="f3f26-121">Considerations when defining an agreement</span></span>  
 <span data-ttu-id="f3f26-122">TPA を作成する場合は、以下の点に注意する必要があります。</span><span class="sxs-lookup"><span data-stu-id="f3f26-122">You must consider the following points while creating a Trading Partner Agreement:</span></span>  
  
-   <span data-ttu-id="f3f26-123">2 つのビジネス プロファイルが B2B メッセージを相互に交換する場合、メッセージ エンコード アグリーメントの定義は必須です。</span><span class="sxs-lookup"><span data-stu-id="f3f26-123">For two business profiles that exchange B2B messages with each other, defining a message encoding agreement is mandatory.</span></span> <span data-ttu-id="f3f26-124">事業部がメッセージ転送に AS2 プロトコルを使用する場合は、AS2 アグリーメントだけを選択します。</span><span class="sxs-lookup"><span data-stu-id="f3f26-124">The divisions may choose to have an AS2 agreement only if they want to use the AS2 protocol to transfer messages.</span></span> <span data-ttu-id="f3f26-125">事業部がメッセージを電子メールで転送する場合、AS2 アグリーメントは不要です。</span><span class="sxs-lookup"><span data-stu-id="f3f26-125">For example, an AS2 agreement is not required if the business divisions choose to transfer messages over e-mail.</span></span>  
  
-   <span data-ttu-id="f3f26-126">2 つのビジネス プロファイルが X12 と EDIFACT の両方のエンコードをサポートし、両方のビジネス プロファイルが、両方のエンコード プロトコルをメッセージ交換に使用することに同意する場合は、各プロトコルごとにアグリーメントが必要です。</span><span class="sxs-lookup"><span data-stu-id="f3f26-126">If two business profiles support both X12 and EDIFACT encoding and both business profiles agree to use both encoding protocols while exchanging messages, there should be separate agreements for each protocol.</span></span> <span data-ttu-id="f3f26-127">つまり、X12 プロトコル用に 1 つのアグリーメント、EDIFACT プロトコル用に 1 つのアグリーメントを作成します。</span><span class="sxs-lookup"><span data-stu-id="f3f26-127">There should be one agreement for X12 protocol and one agreement for EDIFACT protocol.</span></span> <span data-ttu-id="f3f26-128">1 つのアグリーメントを両方のプロトコルに適用することはできません。</span><span class="sxs-lookup"><span data-stu-id="f3f26-128">There cannot be a single agreement that can be used for both protocols.</span></span>  
  
-   <span data-ttu-id="f3f26-129">X12 と EDIFACT メッセージ用のエンコード アグリーメントとトランスポート アグリーメント (AS2 用) を 1 つのアグリーメントに統合することはできません。</span><span class="sxs-lookup"><span data-stu-id="f3f26-129">The encoding agreement for X12 and EDIFACT messages and transport agreement (for AS2) cannot be part of one agreement.</span></span> <span data-ttu-id="f3f26-130">両方に個別のアグリーメントを作成する必要があります。</span><span class="sxs-lookup"><span data-stu-id="f3f26-130">You must create separate agreements for both.</span></span>  
  
## <a name="global-or-fallback-agreement"></a><span data-ttu-id="f3f26-131">グローバルまたはフォールバック アグリーメント</span><span class="sxs-lookup"><span data-stu-id="f3f26-131">Global or fallback agreement</span></span>  
 <span data-ttu-id="f3f26-132">事業組織によっては、特定の B2B メッセージングにかかわるパートナーを区別せずに、1 セットの B2B 処理メカニズムを使用することがあります。</span><span class="sxs-lookup"><span data-stu-id="f3f26-132">Certain business organizations may choose to have a singular set of B2B processing mechanism without differentiating on the partners involved in specific B2B messaging.</span></span> <span data-ttu-id="f3f26-133">この場合、事業組織は 1 つの共通 B2B プロトコル設定だけを保持し、これを他のすべての取引先と共有します。</span><span class="sxs-lookup"><span data-stu-id="f3f26-133">In effect, such business organizations have just one common B2B protocol setting that is shared with all other trading partners.</span></span> <span data-ttu-id="f3f26-134">また、このような組織は特定のパートナーに対して特定の設定を保持する必要がないので、B2B プロトコル設定は、取引ビジネス プロファイルではなく、取引先そのものに対して定義されます。</span><span class="sxs-lookup"><span data-stu-id="f3f26-134">Also, because such organizations do not need to have specific settings for specific partners, the B2B protocol settings are defined for the trading partner itself and not for a trading business profile.</span></span> <span data-ttu-id="f3f26-135">[!INCLUDE[btsBizTalkServerNoVersion_md](../includes/btsbiztalkservernoversion-md.md)]、このようなビジネス組織に反映されている**グローバル取引先**です。</span><span class="sxs-lookup"><span data-stu-id="f3f26-135">In [!INCLUDE[btsBizTalkServerNoVersion_md](../includes/btsbiztalkservernoversion-md.md)], such business organizations are reflected as **Global Trading Partners**.</span></span> <span data-ttu-id="f3f26-136">グローバル取引先として表されるビジネスを犠牲にする必要がある他の企業と呼ばれるグローバル取引先契約を使用して**グローバル取引先契約**です。</span><span class="sxs-lookup"><span data-stu-id="f3f26-136">Other businesses that need to trade with a business represented as a global trading partner use agreements with the global trading partner that are called **Global Trading Partner Agreement**.</span></span> <span data-ttu-id="f3f26-137">これらのアグリーメントは、グローバル取引先に定義されているメッセージ エンコードとプロトコルの設定と一致しています。</span><span class="sxs-lookup"><span data-stu-id="f3f26-137">These agreements conform to the message encoding and protocol settings defined for the global trading partner.</span></span>  
  
 <span data-ttu-id="f3f26-138">グローバル レベルで定義された設定は、2 つの取引先間のプロファイル固有のプロトコル設定では取引先契約が成立しない場合にも役立ちます。</span><span class="sxs-lookup"><span data-stu-id="f3f26-138">The settings defined at the global level can also be useful in scenarios when the profile-specific protocol settings between two trading partners do not formulate a trading partner agreement.</span></span> <span data-ttu-id="f3f26-139">この場合、[!INCLUDE[btsBizTalkServerNoVersion_md](../includes/btsbiztalkservernoversion-md.md)] をホスティングする組織は、パートナー用に定義されたプロトコル設定を使用して、他の取引ビジネス プロファイルとのアグリーメントを定式化できます。</span><span class="sxs-lookup"><span data-stu-id="f3f26-139">In this scenario, the organization hosting [!INCLUDE[btsBizTalkServerNoVersion_md](../includes/btsbiztalkservernoversion-md.md)] can use the protocol settings defined for the partner to formulate an agreement with another trading business profile.</span></span> <span data-ttu-id="f3f26-140">このような場合、アグリーメントに、パートナーが呼び出されたに対して定義されたグローバル プロトコル設定を使用して到着、**フォールバック取引先契約**です。</span><span class="sxs-lookup"><span data-stu-id="f3f26-140">In such cases, the agreement arrived at using the global protocol settings defined for the partner is called the **Fallback Trading Partner Agreement**.</span></span>  

## <a name="learn-next"></a><span data-ttu-id="f3f26-141">次の説明します。</span><span class="sxs-lookup"><span data-stu-id="f3f26-141">Learn next</span></span>

[<span data-ttu-id="f3f26-142">まとめ: 管理ソリューションのパートナー取引を定義します。</span><span class="sxs-lookup"><span data-stu-id="f3f26-142">Putting it all together: Defining a trading partner management solution</span></span>](../core/putting-it-all-together-defining-a-trading-partner-management-solution.md)
  
## <a name="see-also"></a><span data-ttu-id="f3f26-143">参照</span><span class="sxs-lookup"><span data-stu-id="f3f26-143">See Also</span></span>  
 [<span data-ttu-id="f3f26-144">取引先管理ソリューションのビルド ブロック</span><span class="sxs-lookup"><span data-stu-id="f3f26-144">Building Blocks of a Trading Partner Management Solution</span></span>](../core/building-blocks-of-a-trading-partner-management-solution.md)