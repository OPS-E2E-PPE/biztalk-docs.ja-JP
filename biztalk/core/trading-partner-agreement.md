---
title: パートナー アグリーメントを取引先 |Microsoft Docs
ms.custom: ''
ms.date: 06/08/2017
ms.prod: biztalk-server
ms.reviewer: ''
ms.suite: ''
ms.tgt_pltfrm: ''
ms.topic: article
ms.assetid: e40a3847-ee36-4a75-ab50-def9b0caf07e
caps.latest.revision: 9
author: MandiOhlinger
ms.author: mandia
manager: anneta
ms.openlocfilehash: ea4f60dc4a05f3e6bbe1fca8347482db6297c04a
ms.sourcegitcommit: 266308ec5c6a9d8d80ff298ee6051b4843c5d626
ms.translationtype: MT
ms.contentlocale: ja-JP
ms.lasthandoff: 06/27/2018
ms.locfileid: "36994835"
---
# <a name="trading-partner-agreement"></a>取引先アグリーメント
## <a name="overview"></a>概要
取引先アグリーメント (TPA) は、特定の B2B プロトコルでメッセージをやり取りする際に 2 つの取引パートナー間で交わされる決定的で拘束力があるアグリーメントと定義されます。 アグリーメントには、両方の取引先の特定のビジネス プロファイルから、共通する双方向のメッセージ処理プロパティがまとめられます。 これは、2 つの取引先間のビジネス トランザクションを管理するすべての分野の包括的なコレクションです。 TPA は一般的に、各パートナーのプロファイルから派生しますが、カスタマイズ可能で、必要な設定をオーバーライドできます。  
  
 より簡単に説明すると、TPA は、相互に B2B メッセージを交換するときに特定のメッセージ エンコード プロトコルまたは特定のトランスポート プロトコルを使用するという、2 つのビジネス プロファイル間の取り決めを示すものです。  
  
 ![パートナー契約プロファイル](../core/media/tradingpartneragreement.gif "TradingPartnerAgreement")  
  
 上の図では、使用して、X12 エンコード ビジネス メッセージをそれぞれに Contoso および Fabrikam の「出荷」および「請求書」プロファイル間の契約 (**エンコード アグリーメント**) および AS2 トランスポートをメッセージを交換する (**トランスポート アグリーメント**)。 各種のビジネス プロファイル間に、このようなアグリーメントを多数設定できます。 たとえば、"支払い" と "請求書" のプロファイル間に、EDIFACT メッセージ エンコード標準を使用するというアグリーメントを設定できます。 取引先のペアのすべてのプロファイルのすべてのアグリーメントを構成、**パートナーシップ**2 つの間の取引先。  
  
## <a name="bi-directional-agreements"></a>双方向アグリーメント  
 2 つのビジネス プロファイル間の各アグリーメントは、双方向です。 たとえば、"出荷" と "請求書" のビジネス プロファイル間のアグリーメントには、メッセージ処理に次のような特性があります。  
  
- "出荷" プロファイルは "請求書" プロファイルから受信  
  
- "出荷" プロファイルから "請求書" プロファイルに送信  
  
  つまり、双方向アグリーメントは 2 つの一方向のアグリーメントの組み合わせになります。 1 つの一方向アグリーメントが B. をパーティには、パーティ A からのメッセージのトランザクションの処理方法を定義するプロパティのコレクションとして見なすことができます。その他の一方向のアグリーメントがパーティ B からパーティ A にメッセージのトランザクションの動作を定義するプロパティのコレクションとして見なすことができます。  
  
## <a name="considerations-when-defining-an-agreement"></a>アグリーメントを定義する際の考慮事項  
 TPA を作成する場合は、以下の点に注意する必要があります。  
  
-   2 つのビジネス プロファイルが B2B メッセージを相互に交換する場合、メッセージ エンコード アグリーメントの定義は必須です。 事業部がメッセージ転送に AS2 プロトコルを使用する場合は、AS2 アグリーメントだけを選択します。 事業部がメッセージを電子メールで転送する場合、AS2 アグリーメントは不要です。  
  
-   2 つのビジネス プロファイルが X12 と EDIFACT の両方のエンコードをサポートし、両方のビジネス プロファイルが、両方のエンコード プロトコルをメッセージ交換に使用することに同意する場合は、各プロトコルごとにアグリーメントが必要です。 つまり、X12 プロトコル用に 1 つのアグリーメント、EDIFACT プロトコル用に 1 つのアグリーメントを作成します。 1 つのアグリーメントを両方のプロトコルに適用することはできません。  
  
-   X12 と EDIFACT メッセージ用のエンコード アグリーメントとトランスポート アグリーメント (AS2 用) を 1 つのアグリーメントに統合することはできません。 両方に個別のアグリーメントを作成する必要があります。  
  
## <a name="global-or-fallback-agreement"></a>グローバルまたはフォールバック アグリーメント  
 事業組織によっては、特定の B2B メッセージングにかかわるパートナーを区別せずに、1 セットの B2B 処理メカニズムを使用することがあります。 この場合、事業組織は 1 つの共通 B2B プロトコル設定だけを保持し、これを他のすべての取引先と共有します。 また、このような組織は特定のパートナーに対して特定の設定を保持する必要がないので、B2B プロトコル設定は、取引ビジネス プロファイルではなく、取引先そのものに対して定義されます。 [!INCLUDE[btsBizTalkServerNoVersion_md](../includes/btsbiztalkservernoversion-md.md)]、このような事業組織として反映**グローバル取引先パートナー**します。 グローバル取引先パートナーとして表される業務を犠牲にする必要がある他の企業と呼ばれるグローバル取引先パートナーと契約を使用して**グローバル取引先アグリーメント**します。 これらのアグリーメントは、グローバル取引先に定義されているメッセージ エンコードとプロトコルの設定と一致しています。  
  
 グローバル レベルで定義された設定は、2 つの取引先間のプロファイル固有のプロトコル設定では取引先契約が成立しない場合にも役立ちます。 この場合、[!INCLUDE[btsBizTalkServerNoVersion_md](../includes/btsbiztalkservernoversion-md.md)] をホスティングする組織は、パートナー用に定義されたプロトコル設定を使用して、他の取引ビジネス プロファイルとのアグリーメントを定式化できます。 このような場合は、パートナーと呼ばれる定義されたグローバル プロトコル設定を使用してで成立したアグリーメント、**フォールバック取引先アグリーメント**します。  

## <a name="learn-next"></a>次に説明します。

[まとめ: 取引先を定義するパートナーの管理ソリューション](../core/putting-it-all-together-defining-a-trading-partner-management-solution.md)
  
## <a name="see-also"></a>参照  
 [取引先管理ソリューションの構成要素](../core/building-blocks-of-a-trading-partner-management-solution.md)