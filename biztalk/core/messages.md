---
title: メッセージ |Microsoft Docs
ms.custom: ''
ms.date: 06/08/2017
ms.prod: biztalk-server
ms.reviewer: ''
ms.suite: ''
ms.tgt_pltfrm: ''
ms.topic: article
helpviewer_keywords:
- messages, headers
- messages, acknowledgements
- messages, persisting
- messages
- examples, message headers
- properties
- message headers
- EMS messages
ms.assetid: 65bb3431-7186-4d4c-b004-932cdf070e73
caps.latest.revision: 11
author: MandiOhlinger
ms.author: mandia
manager: anneta
ms.openlocfilehash: e28c7296023cc9dec30dfede9c31f2de78e89dbd
ms.sourcegitcommit: 381e83d43796a345488d54b3f7413e11d56ad7be
ms.translationtype: MT
ms.contentlocale: ja-JP
ms.lasthandoff: 05/07/2019
ms.locfileid: "65394517"
---
# <a name="messages"></a><span data-ttu-id="c4ae5-102">メッセージ</span><span class="sxs-lookup"><span data-stu-id="c4ae5-102">Messages</span></span>
<span data-ttu-id="c4ae5-103">JMS メッセージのように、Enterprise Message Service (EMS) メッセージには、次の 3 つの独立したパーツが含まれています。 ヘッダー、プロパティ、および本文です。</span><span class="sxs-lookup"><span data-stu-id="c4ae5-103">An Enterprise Message Service (EMS) message, like a JMS message, contains three separate parts: header, properties, and body.</span></span> <span data-ttu-id="c4ae5-104">ヘッダーでは、EMS メッセージの唯一の必須部分です。</span><span class="sxs-lookup"><span data-stu-id="c4ae5-104">The header is the only required part of an EMS message.</span></span> <span data-ttu-id="c4ae5-105">このトピックでは、メッセージの処理方法には、Microsoft BizTalk Adapter for TIBCO Enterprise Message Service について説明します。</span><span class="sxs-lookup"><span data-stu-id="c4ae5-105">This topic describes how messages are treated in Microsoft BizTalk Adapter for TIBCO Enterprise Message Service.</span></span>  
  
> [!NOTE]
>  <span data-ttu-id="c4ae5-106">ヘッダー フィールドを取得または設定する (メッセージの優先度または関連付け ID は設定など) またはオーケストレーションからのメッセージ プロパティへの参照を追加する必要があります、 **Microsoft.BizTalk.Adapters.TIBCOEMSProperties.dll**で、プロジェクトがソリューション エクスプ ローラーを使用します。</span><span class="sxs-lookup"><span data-stu-id="c4ae5-106">To set or retrieve a header field (for example, set the Message Priority or Correlation ID) or a message property from the orchestration, you must add a reference to the **Microsoft.BizTalk.Adapters.TIBCOEMSProperties.dll** in your project using Solution Explorer.</span></span>  
  
## <a name="message-header"></a><span data-ttu-id="c4ae5-107">メッセージ ヘッダー</span><span class="sxs-lookup"><span data-stu-id="c4ae5-107">Message Header</span></span>  
 <span data-ttu-id="c4ae5-108">メッセージ ヘッダーには、一連値を含む定義済みのフィールドにはが含まれています。</span><span class="sxs-lookup"><span data-stu-id="c4ae5-108">The message header contains a series of predefined fields that contain values.</span></span> <span data-ttu-id="c4ae5-109">BizTalk Adapter for TIBCO Enterprise Message Service を認識できること確認し、ヘッダーに設定することはできません。</span><span class="sxs-lookup"><span data-stu-id="c4ae5-109">BizTalk Adapter for TIBCO Enterprise Message Service knows what it can and cannot set in the header.</span></span> <span data-ttu-id="c4ae5-110">アダプターをリダイレクトのプロパティで、値を設定または読み取り専用の値を設定しようとすると、{}セクション。</span><span class="sxs-lookup"><span data-stu-id="c4ae5-110">If you try to set a read-only value, the adapter redirects or sets your value in the Properties{} section.</span></span>  
  
### <a name="header-example"></a><span data-ttu-id="c4ae5-111">ヘッダーの例</span><span class="sxs-lookup"><span data-stu-id="c4ae5-111">Header Example</span></span>  
 <span data-ttu-id="c4ae5-112">次の例では、**プロパティ = {先 = {String:queue [Q2]}}** します。</span><span class="sxs-lookup"><span data-stu-id="c4ae5-112">In the following example, notice that **Properties= { Destination={String:Queue[Q2]} }**.</span></span> <span data-ttu-id="c4ae5-113">`Properties` 文字列を含むプロパティであり、文字列の内容は**Q2**します。</span><span class="sxs-lookup"><span data-stu-id="c4ae5-113">`Properties` is a property that contains a string, and the contents of the string is **Q2**.</span></span> <span data-ttu-id="c4ae5-114">目的のセクションでは関係ありません。このセクションでは、ここで、アダプターで保持がように、移動できませんでした。 任意の場所、設定した値の文字列が含まれます。</span><span class="sxs-lookup"><span data-stu-id="c4ae5-114">This has nothing to do with the Destination section; it contains strings of values that you set that could not go anywhere else, so the adapter has held them here in this section.</span></span>  
  
 <span data-ttu-id="c4ae5-115">`ReplyTo`最終的なコンシューマ応答を送信する場所をオーケストレーションのプロパティを設定できます。</span><span class="sxs-lookup"><span data-stu-id="c4ae5-115">The `ReplyTo` property can be set in the orchestration to tell an eventual consumer where to send a response.</span></span> <span data-ttu-id="c4ae5-116">EMS の設定、`Destination`プロパティ TIBCOEMS からメッセージを受信するとします。</span><span class="sxs-lookup"><span data-stu-id="c4ae5-116">EMS sets the `Destination` property when the message is received from TIBCOEMS.</span></span> <span data-ttu-id="c4ae5-117">この 2 番目のプロパティは読み取り専用では、TIBCOEMS からメッセージを受信するオーケストレーションと、オーケストレーションでは編集できません。</span><span class="sxs-lookup"><span data-stu-id="c4ae5-117">This second property is read-only in the orchestration receiving the message from TIBCOEMS and cannot be edited in the orchestration.</span></span>  
  
 <span data-ttu-id="c4ae5-118">たとえば、オーケストレーションはメッセージをディスパッチし、オーケストレーション内で動的にリンク先を設定できません。</span><span class="sxs-lookup"><span data-stu-id="c4ae5-118">For example, an orchestration cannot dispatch messages and set the destination dynamically inside an orchestration.</span></span> <span data-ttu-id="c4ae5-119">変換先の値は、メッセージを送信するポートが設定されます。</span><span class="sxs-lookup"><span data-stu-id="c4ae5-119">The value of Destination is set by the port to which the message is being transmitted.</span></span>  
  
 <span data-ttu-id="c4ae5-120">別のキューにメッセージをディスパッチする場合は、キューごとの送信ポートを作成する必要があります。</span><span class="sxs-lookup"><span data-stu-id="c4ae5-120">If you want to dispatch messages to different queues, you must create send ports for each queue.</span></span> <span data-ttu-id="c4ae5-121">オーケストレーションは、メッセージの割り当てにどのポートを決定できます。</span><span class="sxs-lookup"><span data-stu-id="c4ae5-121">The orchestration can then decide which port to assign the message.</span></span>  
  
 <span data-ttu-id="c4ae5-122">次のメッセージ例で、Destination =`{Queue[Q1]}`は読み取り専用です。</span><span class="sxs-lookup"><span data-stu-id="c4ae5-122">In the following message example, the Destination= `{Queue[Q1]}` is read-only.</span></span> <span data-ttu-id="c4ae5-123">この値は、サーバーは、メッセージを受信するときに、TIBCOEMS によって設定されます。</span><span class="sxs-lookup"><span data-stu-id="c4ae5-123">This value is set by TIBCOEMS when the server receives the message.</span></span> <span data-ttu-id="c4ae5-124">変換先、Q1 は、の値は、トランスポートのプロパティに由来します。</span><span class="sxs-lookup"><span data-stu-id="c4ae5-124">The value for Destination, Q1, comes from the Transport Properties.</span></span>  
  
#### <a name="example"></a><span data-ttu-id="c4ae5-125">例</span><span class="sxs-lookup"><span data-stu-id="c4ae5-125">Example</span></span>  
  
```  
TextMessage={   
    Header={ MessageID={ID:EMS-SERVER.824437A58B11C75F4:1}   
    Destination={Queue[Q1]}   
  
        ' This is READONLY. It gets set by the server when the  
        ' message is received by the server (EMS). It is set in the  
        ' Transport Properties when you specify that you want to  
        ' listen for messages on Q1.  
    ReplyTo={}   
    DeliveryMode={Persistent}   
    Redelivered={False}   
    CorrelationID={}   
    MsgType={}   
    Timestamp={12/1/2005 11:59:01 PM}   
    Expiration={0}   
    Priority={1} }   
    Properties={ Destination={String:Queue[Q2]} }   
  
        ' This is a property that contains a string, and the   
        ' contents of the string is Q2. This has nothing to do with  
        ' the Destination section above – it is just another   
        ' property that is set.   
        ' This is in the schema. The adapter knows what it can and   
        ' cannot set in an EMS header. The values that the adapter   
        ' cannot set are put in the Properties section.   
    text={<?xml version="1.0" encoding="utf-16"?>  
    <ns0:Employees xmlns:ns0="http://BizTalk_Server_Project1.Employee">  
        <Emp Id="Id_0">  
            Name>Name_0</Name>  
        </Emp>  
    </ns0:Employees>  
    }  
```  
  
 <span data-ttu-id="c4ae5-126">ヘッダーには、一連オーケストレーションで使用するための BizTalk Server メッセージ コンテキストに昇格されて、値が含まれている定義済みのフィールドにはが含まれています。</span><span class="sxs-lookup"><span data-stu-id="c4ae5-126">The header contains a series of predefined fields that contain values, which the adapter promotes to the BizTalk Server message context for use in the orchestration.</span></span> <span data-ttu-id="c4ae5-127">昇格させたプロパティは、JMS 仕様および TIBCO Enterprise Message Service 拡張機能で定義されている標準のヘッダー プロパティに定義と同じです。</span><span class="sxs-lookup"><span data-stu-id="c4ae5-127">The promoted properties are identical in definition to the standard header properties as defined by the JMS specification and the TIBCO Enterprise Message Service extensions.</span></span> <span data-ttu-id="c4ae5-128">2 つを除くすべてのプロパティは EMS から受信すると、オーケストレーションに使用可能な:`Destination`と`ReplyTo`用に 1 つのプロパティとしてオーケストレーションで正しくマップできない変換先について説明します。</span><span class="sxs-lookup"><span data-stu-id="c4ae5-128">All properties except for two are available to the orchestration as received from EMS: `Destination` and `ReplyTo` describe a destination that cannot be correctly mapped for use in an orchestration as a single property.</span></span>  
  
 <span data-ttu-id="c4ae5-129">BizTalk Adapter for TIBCO EMS は、TIBCOEMS プロパティを文字列型にマップし、変換先の文字列表現を使用します。</span><span class="sxs-lookup"><span data-stu-id="c4ae5-129">BizTalk Adapter for TIBCO EMS maps the TIBCOEMS property to a string type and uses the Destination string representation.</span></span> <span data-ttu-id="c4ae5-130">次のようにこの`StaticQueue[queuename]`または`StatisTopic[topicname]`します。</span><span class="sxs-lookup"><span data-stu-id="c4ae5-130">This looks like `StaticQueue[queuename]` or `StatisTopic[topicname]`.</span></span> <span data-ttu-id="c4ae5-131">オーケストレーションでの値を設定できます`ReplyTo`、し、アダプターがヘッダーに有効な変換先のオブジェクトで置き換えます。</span><span class="sxs-lookup"><span data-stu-id="c4ae5-131">The orchestration can set the value for `ReplyTo`, and the adapter replaces it with a valid destination object in the header.</span></span>  
  
 <span data-ttu-id="c4ae5-132">アダプターは、オーケストレーションで使用できるすべての TIBCO EMS ヘッダー プロパティを記述するスキーマと参照アセンブリを提供します。</span><span class="sxs-lookup"><span data-stu-id="c4ae5-132">The adapter provides a schema and reference assembly describing all TIBCO EMS header properties that can be used by orchestrations.</span></span> <span data-ttu-id="c4ae5-133">受信メッセージをフィルター処理または送信メッセージに追加する、これらのプロパティを使用できます。</span><span class="sxs-lookup"><span data-stu-id="c4ae5-133">These properties can be used to either filter incoming messages or to add to the outgoing message.</span></span> <span data-ttu-id="c4ae5-134">オーケストレーションのフィルタの規則は、EMS サーバーのメッセージ セレクタのものとは異なります。</span><span class="sxs-lookup"><span data-stu-id="c4ae5-134">The rules governing the orchestration filter differs from those for the message selector for the EMS server.</span></span> <span data-ttu-id="c4ae5-135">たとえば、オーケストレーションをフィルター処理できます、`TibcoEMS.ReplyTo`または`TibcoEMS.Destination`プロパティ、プロパティに基づくメッセージ セレクタを使用する JMS 仕様ではサポートされていませんが。</span><span class="sxs-lookup"><span data-stu-id="c4ae5-135">For example, orchestrations can filter on the `TibcoEMS.ReplyTo` or the `TibcoEMS.Destination` property, but there is no support in the JMS specification to allow message selector on this same property.</span></span>  
  
 <span data-ttu-id="c4ae5-136">オーケストレーションでは、これらのプロパティが定義されている、ときに、JMS メッセージのヘッダー プロパティに含まれます。</span><span class="sxs-lookup"><span data-stu-id="c4ae5-136">When these properties are defined by the orchestration, they are included in the header properties of the JMS message.</span></span> <span data-ttu-id="c4ae5-137">また、EMS メッセージが受信したときに、これらのヘッダー プロパティは BizTalk Server のメッセージ コンテキストにコピーされます。</span><span class="sxs-lookup"><span data-stu-id="c4ae5-137">Alternatively, when the EMS message is received, these header properties are copied to the BizTalk Server message context.</span></span>  
  
 <span data-ttu-id="c4ae5-138">プロパティには、ポートの構成が一致すると、メッセージのプロパティの値は、ポートの構成にも優先されます。</span><span class="sxs-lookup"><span data-stu-id="c4ae5-138">When a property matches the port configuration, the value of the property on the message takes precedence on the port’s configuration.</span></span> <span data-ttu-id="c4ae5-139">たとえば、ポート、優先度が 4 に設定されて、オーケストレーションのロジックで 9 に、メッセージの優先順位を設定する場合、メッセージの受信、TIBCO EMS によって 9 の優先順位を持つものとして。</span><span class="sxs-lookup"><span data-stu-id="c4ae5-139">For example, if the priority is set to 4 in the port, but you set the priority of the message to 9 in the logic of the orchestration, the message is received by TIBCO EMS as having a priority of 9.</span></span>  
  
### <a name="property-descriptions"></a><span data-ttu-id="c4ae5-140">プロパティの説明</span><span class="sxs-lookup"><span data-stu-id="c4ae5-140">Property Descriptions</span></span>  
 <span data-ttu-id="c4ae5-141">次の表では、TIBCO Enterprise Message Service の各プロパティは BizTalk アダプターで使用する方法について説明します。</span><span class="sxs-lookup"><span data-stu-id="c4ae5-141">The following table describes how each property is used by BizTalk Adapter for TIBCO Enterprise Message Service.</span></span>  
  
|<span data-ttu-id="c4ae5-142">名前</span><span class="sxs-lookup"><span data-stu-id="c4ae5-142">Name</span></span>|<span data-ttu-id="c4ae5-143">型</span><span class="sxs-lookup"><span data-stu-id="c4ae5-143">Type</span></span>|<span data-ttu-id="c4ae5-144">説明</span><span class="sxs-lookup"><span data-stu-id="c4ae5-144">Description</span></span>|  
|----------|----------|-----------------|  
|<span data-ttu-id="c4ae5-145">TibcoEMS.MessageID</span><span class="sxs-lookup"><span data-stu-id="c4ae5-145">TibcoEMS.MessageID</span></span>|<span data-ttu-id="c4ae5-146">string</span><span class="sxs-lookup"><span data-stu-id="c4ae5-146">string</span></span>|<span data-ttu-id="c4ae5-147">送信呼び出しでは、各メッセージに一意の ID を割り当てるし、ヘッダーに記録します。</span><span class="sxs-lookup"><span data-stu-id="c4ae5-147">Sending calls assign a unique ID to each message and record it in the header.</span></span><br /><br /> <span data-ttu-id="c4ae5-148">すべてのメッセージ ID の値は、3 文字のプレフィックス ID (これは、この目的のため予約されています) を起動します。</span><span class="sxs-lookup"><span data-stu-id="c4ae5-148">All message ID values start with the three-character prefix ID (which is reserved for this purpose).</span></span><br /><br /> <span data-ttu-id="c4ae5-149">読み取り専用。</span><span class="sxs-lookup"><span data-stu-id="c4ae5-149">Read-only.</span></span> <span data-ttu-id="c4ae5-150">値を変更しても、メッセージには影響しません。</span><span class="sxs-lookup"><span data-stu-id="c4ae5-150">Changing the value does not affect the message.</span></span>|  
|<span data-ttu-id="c4ae5-151">TibcoEMS.Timestamp</span><span class="sxs-lookup"><span data-stu-id="c4ae5-151">TibcoEMS.Timestamp</span></span>|<span data-ttu-id="c4ae5-152">long</span><span class="sxs-lookup"><span data-stu-id="c4ae5-152">long</span></span>|<span data-ttu-id="c4ae5-153">ヘッダーに UTC タイムスタンプ呼び出しレコードを送信します。</span><span class="sxs-lookup"><span data-stu-id="c4ae5-153">Sending calls record a UTC timestamp in the header.</span></span> <span data-ttu-id="c4ae5-154">これは、おおよその時間、サーバーがメッセージを受け入れることを示します。</span><span class="sxs-lookup"><span data-stu-id="c4ae5-154">This indicates the approximate time that the server accepted the message.</span></span><br /><br /> <span data-ttu-id="c4ae5-155">値が 1970 年 1 月 1 日以降はミリ秒単位</span><span class="sxs-lookup"><span data-stu-id="c4ae5-155">The value is in milliseconds since January 1, 1970</span></span><br /><br /> <span data-ttu-id="c4ae5-156">読み取り専用。</span><span class="sxs-lookup"><span data-stu-id="c4ae5-156">Read-only.</span></span> <span data-ttu-id="c4ae5-157">値を変更しても、メッセージには影響しません。</span><span class="sxs-lookup"><span data-stu-id="c4ae5-157">Changing the value does not affect the message.</span></span>|  
|<span data-ttu-id="c4ae5-158">TibcoEMS.Redelivered</span><span class="sxs-lookup"><span data-stu-id="c4ae5-158">TibcoEMS.Redelivered</span></span>|<span data-ttu-id="c4ae5-159">boolean</span><span class="sxs-lookup"><span data-stu-id="c4ae5-159">boolean</span></span>|<span data-ttu-id="c4ae5-160">サーバーは、メッセージが前に配信されたメッセージを複製するかどうかを示すヘッダーを設定します。</span><span class="sxs-lookup"><span data-stu-id="c4ae5-160">The server sets the header to indicate whether a message might duplicate a previously delivered message:</span></span><br /><br /> <span data-ttu-id="c4ae5-161">-false-サーバーが、以前にコンシューマーに対してこのメッセージの配信は試行されません。</span><span class="sxs-lookup"><span data-stu-id="c4ae5-161">-   false—The server has not previously tried to deliver this message to the consumer.</span></span><br /><span data-ttu-id="c4ae5-162">-true-可能性がありますが、保証されていないが、コンシューマーにこのメッセージを配信しようとして、サーバーが以前に、コンシューマーでは、適切な受信確認は返されませんでした。</span><span class="sxs-lookup"><span data-stu-id="c4ae5-162">-   true—It is likely, but not guaranteed, that the server has previously tried to deliver this message to the consumer, but the consumer did not return timely acknowledgement.</span></span><br /><br /> <span data-ttu-id="c4ae5-163">読み取り専用。</span><span class="sxs-lookup"><span data-stu-id="c4ae5-163">Read-only.</span></span> <span data-ttu-id="c4ae5-164">値を変更しても、メッセージには影響しません。</span><span class="sxs-lookup"><span data-stu-id="c4ae5-164">Changing the value does not affect the message.</span></span>|  
|<span data-ttu-id="c4ae5-165">TibcoEMS.Destination</span><span class="sxs-lookup"><span data-stu-id="c4ae5-165">TibcoEMS.Destination</span></span>|<span data-ttu-id="c4ae5-166">string</span><span class="sxs-lookup"><span data-stu-id="c4ae5-166">string</span></span>|<span data-ttu-id="c4ae5-167">このヘッダーで、メッセージの送信先 (キューまたはトピック) 呼び出しレコードを送信します。</span><span class="sxs-lookup"><span data-stu-id="c4ae5-167">Sending calls record the destination (queue or topic) of the message in this header.</span></span> <span data-ttu-id="c4ae5-168">形式は、適合変換先から文字列。</span><span class="sxs-lookup"><span data-stu-id="c4ae5-168">The format is adapted from a destination to a string.</span></span> <span data-ttu-id="c4ae5-169">以前は、形式が説明します。</span><span class="sxs-lookup"><span data-stu-id="c4ae5-169">The format is previously described.</span></span><br /><br /> <span data-ttu-id="c4ae5-170">読み取り専用。</span><span class="sxs-lookup"><span data-stu-id="c4ae5-170">Read-only.</span></span> <span data-ttu-id="c4ae5-171">値を変更しても、メッセージには影響しません。</span><span class="sxs-lookup"><span data-stu-id="c4ae5-171">Changing the value does not affect the message.</span></span>|  
|<span data-ttu-id="c4ae5-172">TibcoEMS.DeliveryMode</span><span class="sxs-lookup"><span data-stu-id="c4ae5-172">TibcoEMS.DeliveryMode</span></span>|<span data-ttu-id="c4ae5-173">string</span><span class="sxs-lookup"><span data-stu-id="c4ae5-173">string</span></span>|<span data-ttu-id="c4ae5-174">2 つの値があります。PERSISTENT と NON-PERSISTENT です。</span><span class="sxs-lookup"><span data-stu-id="c4ae5-174">Has two possible values: PERSISTENT and NON-PERSISTENT.</span></span> <span data-ttu-id="c4ae5-175">既定値は、永続的なモードです。</span><span class="sxs-lookup"><span data-stu-id="c4ae5-175">Default value is PERSISTENT mode.</span></span><br /><br /> <span data-ttu-id="c4ae5-176">アダプターは、BizTalk Server に送信されるメッセージの受信確認を行う前に、EMS サーバーからの受信確認を待機します。</span><span class="sxs-lookup"><span data-stu-id="c4ae5-176">The adapter waits for an acknowledgement from the EMS server before acknowledging the message sent to BizTalk Server.</span></span> <span data-ttu-id="c4ae5-177">このヘッダーのプロパティとポートの構成項目は、EMS は、アダプターにこの受信確認を送信し、メッセージ送信の信頼性の制御にかかる時間を制御します。</span><span class="sxs-lookup"><span data-stu-id="c4ae5-177">This header property and port configuration item controls the time EMS takes to send this acknowledgement to the adapter and control the reliability of message transmission.</span></span><br /><br /> <span data-ttu-id="c4ae5-178">PERSISTENT 配信モードを使用して、EMS サーバーが、メッセージは、EMS サーバーで正常に保存するまでに待機します。</span><span class="sxs-lookup"><span data-stu-id="c4ae5-178">Using PERSISTENT delivery mode—the EMS server waits until the message is successfully persisted in the EMS server.</span></span> <span data-ttu-id="c4ae5-179">このアクションは、メッセージがキューに到着したことを保証します。</span><span class="sxs-lookup"><span data-stu-id="c4ae5-179">This action guarantees that the message has arrived in the queue.</span></span> <span data-ttu-id="c4ae5-180">PERSISTENT モードの配信を使用する場合は、次を考慮してください。</span><span class="sxs-lookup"><span data-stu-id="c4ae5-180">When you use PERSISTENT mode delivery, consider the following:</span></span><br /><br /> <span data-ttu-id="c4ae5-181">メッセージが大きいほど、長く、送信されると、メッセージを考慮する BizTalk Server がかかります。</span><span class="sxs-lookup"><span data-stu-id="c4ae5-181">The larger the messages, the longer it takes for BizTalk Server to consider the message as sent.</span></span><br /><br /> <span data-ttu-id="c4ae5-182">NON-PERSISTENT モードを使用して、EMS サーバーは、メッセージを保持する前に受信確認を返します。</span><span class="sxs-lookup"><span data-stu-id="c4ae5-182">Using NON-PERSISTENT mode—the EMS server returns the acknowledgement before persisting the message.</span></span> <span data-ttu-id="c4ae5-183">エラーが、EMS サーバーで発生する場合は、BizTalk Server から正常に送信されたと見なされると、メッセージが失われます。</span><span class="sxs-lookup"><span data-stu-id="c4ae5-183">If a failure were to occur with the EMS server, the message might be lost when it is considered successfully sent by BizTalk Server.</span></span>|  
|<span data-ttu-id="c4ae5-184">TibcoEMS.Expiration</span><span class="sxs-lookup"><span data-stu-id="c4ae5-184">TibcoEMS.Expiration</span></span>|<span data-ttu-id="c4ae5-185">long</span><span class="sxs-lookup"><span data-stu-id="c4ae5-185">long</span></span>|<span data-ttu-id="c4ae5-186">有効期限の前に、メッセージが存在する時間の長さ。</span><span class="sxs-lookup"><span data-stu-id="c4ae5-186">Length of time that the message will live before expiration.</span></span> <span data-ttu-id="c4ae5-187">かどうかは 0 に設定すると、メッセージは期限切れになりません。</span><span class="sxs-lookup"><span data-stu-id="c4ae5-187">If set to 0, message does not expire.</span></span><br /><br /> <span data-ttu-id="c4ae5-188">Time to live は、ミリ秒単位で指定されます。</span><span class="sxs-lookup"><span data-stu-id="c4ae5-188">The time-to-live is specified in milliseconds.</span></span>|  
|<span data-ttu-id="c4ae5-189">TibcoEMS.Priority</span><span class="sxs-lookup"><span data-stu-id="c4ae5-189">TibcoEMS.Priority</span></span>|<span data-ttu-id="c4ae5-190">ssNoversion</span><span class="sxs-lookup"><span data-stu-id="c4ae5-190">int</span></span>|<span data-ttu-id="c4ae5-191">通常、または優先としてメッセージの優先度を定義するのにには、順位付け、0 から 9 までの数値を使用します。</span><span class="sxs-lookup"><span data-stu-id="c4ae5-191">Uses a numeric ranking, between 0 and 9, to define message priority as normal or expedited.</span></span> <span data-ttu-id="c4ae5-192">数字が大きくなるほど、優先順位が高い。</span><span class="sxs-lookup"><span data-stu-id="c4ae5-192">Larger numbers represent higher priority.</span></span>|  
|<span data-ttu-id="c4ae5-193">TibcoEMS.CorrolationID</span><span class="sxs-lookup"><span data-stu-id="c4ae5-193">TibcoEMS.CorrolationID</span></span>|<span data-ttu-id="c4ae5-194">string</span><span class="sxs-lookup"><span data-stu-id="c4ae5-194">string</span></span>|<span data-ttu-id="c4ae5-195">要求メッセージに応答メッセージのリンクなどのメッセージをリンクするために使用します。</span><span class="sxs-lookup"><span data-stu-id="c4ae5-195">Can be used to link messages, such as linking a response message to a request message.</span></span><br /><br /> <span data-ttu-id="c4ae5-196">これと同じ値は、通常、`EMS.JMSMessageID`します。</span><span class="sxs-lookup"><span data-stu-id="c4ae5-196">Usually this is the same value as the `EMS.JMSMessageID`.</span></span> <span data-ttu-id="c4ae5-197">通常はと共に使用、`EMS.JMSReplyTo`プロパティ。</span><span class="sxs-lookup"><span data-stu-id="c4ae5-197">This is usually used together with the `EMS.JMSReplyTo` property.</span></span>|  
|<span data-ttu-id="c4ae5-198">TibcoEMS.ReplyTo</span><span class="sxs-lookup"><span data-stu-id="c4ae5-198">TibcoEMS.ReplyTo</span></span>|<span data-ttu-id="c4ae5-199">string</span><span class="sxs-lookup"><span data-stu-id="c4ae5-199">string</span></span>|<span data-ttu-id="c4ae5-200">メッセージの返信を送信する宛先。</span><span class="sxs-lookup"><span data-stu-id="c4ae5-200">A destination to which a message reply should be sent.</span></span> <span data-ttu-id="c4ae5-201">形式のと同じですが、`EMS.JMSDestination`とポートの構成もできます。</span><span class="sxs-lookup"><span data-stu-id="c4ae5-201">Format is identical to the `EMS.JMSDestination` and also the port's configuration.</span></span>|  
|<span data-ttu-id="c4ae5-202">TibcoEMS.Type</span><span class="sxs-lookup"><span data-stu-id="c4ae5-202">TibcoEMS.Type</span></span>|<span data-ttu-id="c4ae5-203">string</span><span class="sxs-lookup"><span data-stu-id="c4ae5-203">string</span></span>|<span data-ttu-id="c4ae5-204">メッセージの種類 (テキスト、バイト、文字列など) については説明しません。</span><span class="sxs-lookup"><span data-stu-id="c4ae5-204">Does not describe the message type (text, byte, string …).</span></span><br /><br /> <span data-ttu-id="c4ae5-205">一部の JMS プロバイダでは、メッセージ リポジトリを使用して、メッセージの種類の定義を格納します。</span><span class="sxs-lookup"><span data-stu-id="c4ae5-205">Some JMS providers use a message repository to store message type definitions.</span></span> <span data-ttu-id="c4ae5-206">クライアント プログラムは、リポジトリ内の定義を参照するには、このフィールドに値を格納することができます。</span><span class="sxs-lookup"><span data-stu-id="c4ae5-206">Client programs can store a value in this field to reference a definition in the repository.</span></span> <span data-ttu-id="c4ae5-207">EMS では、このヘッダーをサポートしますが、これを使用しません。</span><span class="sxs-lookup"><span data-stu-id="c4ae5-207">EMS supports this header but does not use it.</span></span><br /><br /> <span data-ttu-id="c4ae5-208">JMS 仕様では、標準のメッセージ定義リポジトリは定義しませんもはメッセージの種類の定義の名前付けポリシーを定義します。</span><span class="sxs-lookup"><span data-stu-id="c4ae5-208">The JMS specification does not define a standard message definition repository, nor does it define a naming policy for message type definitions.</span></span><br /><br /> <span data-ttu-id="c4ae5-209">一部のプロバイダーでは、アプリケーション メッセージごとにメッセージの種類の定義が必要です。</span><span class="sxs-lookup"><span data-stu-id="c4ae5-209">Some providers require message type definitions for each application message.</span></span> <span data-ttu-id="c4ae5-210">このようなプロバイダーとの互換性を保証するためにクライアント プログラムは、クライアント アプリケーションがそれを使用しない場合でも、このヘッダーを設定できます。</span><span class="sxs-lookup"><span data-stu-id="c4ae5-210">To guarantee compatibility with such providers, client programs can set this header, even if the client application does not use it.</span></span><br /><br /> <span data-ttu-id="c4ae5-211">移植性を保証するためにクライアントは、(リテラル) ではなくシンボリック値では、このヘッダーを設定して、プロバイダのリポジトリに一致するように構成します。</span><span class="sxs-lookup"><span data-stu-id="c4ae5-211">To guarantee portability, clients can set this header with symbolic values (instead of literals), and configure them to match the provider's repository.</span></span>|  
  
## <a name="properties"></a><span data-ttu-id="c4ae5-212">プロパティ</span><span class="sxs-lookup"><span data-stu-id="c4ae5-212">Properties</span></span>  
 <span data-ttu-id="c4ae5-213">インテグレータは、JMS メッセージのプロパティの一部に、プロパティを追加するまで、BizTalk Server メッセージ コンテキストに昇格するプロパティのセットを定義できます。</span><span class="sxs-lookup"><span data-stu-id="c4ae5-213">The integrator can define a set of properties to promote to the BizTalk Server message context, after which the properties are added to the properties part of the JMS message.</span></span> <span data-ttu-id="c4ae5-214">インテグレータは、スキーマの作成中に、プロパティの型を定義するときに行われます。</span><span class="sxs-lookup"><span data-stu-id="c4ae5-214">The integrator takes care when defining the type of the property while it is creating the schema.</span></span> <span data-ttu-id="c4ae5-215">メッセージ セレクタでこのプロパティの値を使用する場合、特定の操作は、プロパティの型に応じて有効です。</span><span class="sxs-lookup"><span data-stu-id="c4ae5-215">If this property value is used in a message selector, certain operations are valid depending on the type of the property.</span></span> <span data-ttu-id="c4ae5-216">たとえば、メッセージ セレクタ**myMessageProperty > 5**は整数値として、プロパティを定義する必要があり、アダプターでは、値を整数値としてメッセージに使用すると、します。</span><span class="sxs-lookup"><span data-stu-id="c4ae5-216">For example, if a message selector **myMessageProperty > 5** is used, the property must be defined as an integer value, and the adapter puts the value in the message as an integer value.</span></span> <span data-ttu-id="c4ae5-217">昇格させるプロパティ、プロパティ名は、先頭が EMSX で始まる必要があります。</span><span class="sxs-lookup"><span data-stu-id="c4ae5-217">For the properties to be promoted, the property names must start with EMSX.</span></span> <span data-ttu-id="c4ae5-218">定義済みプロパティと同じ名前もありませんが、必要です。</span><span class="sxs-lookup"><span data-stu-id="c4ae5-218">They must also not have the same name as the predefined properties.</span></span>  
  
 <span data-ttu-id="c4ae5-219">BizTalk Adapter for TIBCO Enterprise Message Service は、このセクションに表示できる EMS 固有および JMS 固有のプロパティを宣言するスキーマと、アセンブリを提供します。</span><span class="sxs-lookup"><span data-stu-id="c4ae5-219">BizTalk Adapter for TIBCO Enterprise Message Service provides a schema and assembly, which declare the EMS- and JMS-specific properties that can appear in this section.</span></span> <span data-ttu-id="c4ae5-220">これらを拡張、除外を含めることができます。</span><span class="sxs-lookup"><span data-stu-id="c4ae5-220">These can be augmented to include any omissions.</span></span> <span data-ttu-id="c4ae5-221">メッセージのコンテキストで参照されるすべての EMSX プロパティは、EMS メッセージのメッセージ プロパティ セクションに格納されます。</span><span class="sxs-lookup"><span data-stu-id="c4ae5-221">All EMSX properties referenced in the message context are put in the message property section of the EMS message.</span></span> <span data-ttu-id="c4ae5-222">詳細については、TIBCO EMS のユーザー ガイドを参照してください。</span><span class="sxs-lookup"><span data-stu-id="c4ae5-222">For more information, see the TIBCO EMS Users Guide.</span></span>  
  
## <a name="body"></a><span data-ttu-id="c4ae5-223">本文</span><span class="sxs-lookup"><span data-stu-id="c4ae5-223">Body</span></span>  
 <span data-ttu-id="c4ae5-224">EMS は、JMS 仕様に列挙されたすべてのメッセージをサポートしています: テキスト、バイト、ストリーム、マップ、およびオブジェクト。</span><span class="sxs-lookup"><span data-stu-id="c4ae5-224">EMS supports all messages enumerated in the JMS specification: text, byte, stream, map, and object.</span></span> <span data-ttu-id="c4ae5-225">BizTalk Adapter for TIBCO EMS は、テキスト メッセージの種類のみをサポートします。</span><span class="sxs-lookup"><span data-stu-id="c4ae5-225">The BizTalk Adapter for TIBCO EMS supports only the text message type.</span></span>  
  
 <span data-ttu-id="c4ae5-226">JMS では、テキスト タイプのメッセージが XML 形式の本文を含めることは必要ありません。</span><span class="sxs-lookup"><span data-stu-id="c4ae5-226">JMS does not require that messages of type text contain XML-formatted bodies.</span></span> <span data-ttu-id="c4ae5-227">アダプターがメッセージの本文を処理しません提供されている[!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)]受信するとします。</span><span class="sxs-lookup"><span data-stu-id="c4ae5-227">The adapter does not process the body of the message; it is provided to [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] as received.</span></span>  <span data-ttu-id="c4ae5-228">そのため、BizTalk にアダプターによって送信されたメッセージ可能性がありますとして解析されない XML データ。</span><span class="sxs-lookup"><span data-stu-id="c4ae5-228">Therefore, messages submitted to BizTalk by the adapter may not always parse as XML data.</span></span>  
  
## <a name="persistent-messages"></a><span data-ttu-id="c4ae5-229">永続的なメッセージ</span><span class="sxs-lookup"><span data-stu-id="c4ae5-229">Persistent Messages</span></span>  
 <span data-ttu-id="c4ae5-230">メッセージは、サブスクライバーに正確に 1 回限りの配信を保証するために、EMS サーバー上に保存することができます。ただし、アダプターのパフォーマンスに大きな影響を与えることがこのできます。</span><span class="sxs-lookup"><span data-stu-id="c4ae5-230">Messages can be persisted on the EMS server to guarantee exactly one-time delivery to a subscriber; however, this can have a significant impact on the adapter's performance.</span></span> <span data-ttu-id="c4ae5-231">メッセージを送信するときに、EMS では、ローカル ストレージに、メッセージをアダプターにメッセージの受信確認の前に格納します。</span><span class="sxs-lookup"><span data-stu-id="c4ae5-231">When you send messages, EMS stores the message in local storage before acknowledging reception of the message to the adapter.</span></span> <span data-ttu-id="c4ae5-232">ポートによって処理されるすべてのメッセージまたはオーケストレーションでは、メッセージごとに、このプロパティを設定することができます。</span><span class="sxs-lookup"><span data-stu-id="c4ae5-232">You can set this property on a per-message basis in the orchestration or for all messages processed by the port.</span></span>  
  
 <span data-ttu-id="c4ae5-233">受信側の側面からないトピックにサブスクライブしている場合、アダプターがメッセージをミスすることができます。</span><span class="sxs-lookup"><span data-stu-id="c4ae5-233">From the receiving aspect, the adapter can miss messages when it is not subscribed to the topic.</span></span> <span data-ttu-id="c4ae5-234">サブスクリプションがない場合に、トピックに送信されたメッセージは、EMS では保持されません。</span><span class="sxs-lookup"><span data-stu-id="c4ae5-234">Messages posted to topics when there are no subscriptions are not persisted by EMS.</span></span> <span data-ttu-id="c4ae5-235">アダプターが現在サブスクライブしている; 場合でもメッセージへの投稿を受信するためのメカニズムただし、永続的なメッセージの使用と同様に、EMS のパフォーマンスに大きな影響を及ぼしますこれとは常に必要ありません。</span><span class="sxs-lookup"><span data-stu-id="c4ae5-235">The adapter needs a mechanism to receive message postings even when not currently subscribed; however, like the use of persistent messages, this has a significant impact on the EMS performance, and it is not always required.</span></span>  
  
> [!NOTE]
>  <span data-ttu-id="c4ae5-236">EMS の観点から表示されるためのメカニズムが実装されていません。 またが、本当に必要な。</span><span class="sxs-lookup"><span data-stu-id="c4ae5-236">There is a mechanism for receive from the point of view of EMS, but it is not implemented, nor is it really desired.</span></span> <span data-ttu-id="c4ae5-237">これはトピックでは、問題のみです。キューは影響しません。</span><span class="sxs-lookup"><span data-stu-id="c4ae5-237">This is only an issue with topic; queues are not affected.</span></span> <span data-ttu-id="c4ae5-238">トピックは通常使用時間に固有のデータ--株価情報、たとえばされます。</span><span class="sxs-lookup"><span data-stu-id="c4ae5-238">A topic is generally used for time-specific data -- stock quotes, for example.</span></span> <span data-ttu-id="c4ae5-239">株式の価格が実行されなかった場合は、後でもう一度な投稿をされたわかります。</span><span class="sxs-lookup"><span data-stu-id="c4ae5-239">If the price of a stock is missed, you know that it will be posted again later.</span></span>  
  
 <span data-ttu-id="c4ae5-240">これらの理由から、ポートの構成に有効または、EMS サーバーでメッセージの永続性を無効にすることができます。</span><span class="sxs-lookup"><span data-stu-id="c4ae5-240">For these reasons the port configuration lets you enable or disable message persistence on the EMS server.</span></span>  
  
## <a name="message-acknowledgement"></a><span data-ttu-id="c4ae5-241">メッセージの受信確認</span><span class="sxs-lookup"><span data-stu-id="c4ae5-241">Message Acknowledgement</span></span>  
 <span data-ttu-id="c4ae5-242">BizTalk Adapter for TIBCO Enterprise Message Service は、BizTalk Server にそのメッセージを適切にディスパッチするときに常に、メッセージの受信を確認します。</span><span class="sxs-lookup"><span data-stu-id="c4ae5-242">BizTalk Adapter for TIBCO Enterprise Message Service always acknowledges reception of a message when that message was correctly dispatched to BizTalk Server.</span></span> <span data-ttu-id="c4ae5-243">つまり、未確認のメッセージは、EMS からアダプタに再送信されます。</span><span class="sxs-lookup"><span data-stu-id="c4ae5-243">This means that unacknowledged messages are resent from EMS to the adapter.</span></span> <span data-ttu-id="c4ae5-244">アダプターは、送信先自体; の設定ではこのため、メッセージが EMS によって再送信回数の合計を制御できません。ただし、かどうか、メッセージ ボックスに、メッセージが送信される場合、アダプターを制御できます。</span><span class="sxs-lookup"><span data-stu-id="c4ae5-244">The adapter cannot control the number of times the message is resent by EMS because this is a configuration of the destination itself; however, the adapter can control if the message is sent to the MessageBox or not.</span></span> <span data-ttu-id="c4ae5-245">EMS サーバーは、失敗したメッセージがキューに送信する最大回数を制御します。</span><span class="sxs-lookup"><span data-stu-id="c4ae5-245">The EMS server controls the maximum number of times a failed message is sent to a queue.</span></span>  
  
 <span data-ttu-id="c4ae5-246">再配信されるメッセージの場合、EMS サーバーの設定、`JMSRedelivered`プロパティを True に、インクリメント、`JMSXDeliveryCount`します。</span><span class="sxs-lookup"><span data-stu-id="c4ae5-246">For messages that are redelivered, the EMS server sets the `JMSRedelivered` property to True and increments the `JMSXDeliveryCount`.</span></span> <span data-ttu-id="c4ae5-247">両方のプロパティ値をオーケストレーションに利用できます。</span><span class="sxs-lookup"><span data-stu-id="c4ae5-247">Both property values are available to the orchestration.</span></span> <span data-ttu-id="c4ae5-248">配信せず、EMS の未配信キューにメッセージを移動することはできません。</span><span class="sxs-lookup"><span data-stu-id="c4ae5-248">You cannot move a message to the EMS un-delivered queue without delivering it there.</span></span> <span data-ttu-id="c4ae5-249">これを行うと、メッセージのプロパティが変更されます。</span><span class="sxs-lookup"><span data-stu-id="c4ae5-249">Doing this would change the message properties.</span></span>  
  
 <span data-ttu-id="c4ae5-250">メッセージには、その構成済みの最大再配信回数に達すると、EMS サーバーは、メッセージは削除されるか、$sys.undelivered キューに配置するかどうかを決定します。</span><span class="sxs-lookup"><span data-stu-id="c4ae5-250">When a message reaches its configured maximum redelivery count, the EMS server determines whether the message should be deleted or put on the $sys.undelivered queue.</span></span> <span data-ttu-id="c4ae5-251">EMS サーバーに基づく意思決定、`JMS_TIBCO_PRESERVE_UNDELIVERED`プロパティです。 場合 true の場合、はメッセージが未配信キューに、または削除されます。</span><span class="sxs-lookup"><span data-stu-id="c4ae5-251">The EMS server makes the decision based on the `JMS_TIBCO_PRESERVE_UNDELIVERED` property; if True, the message goes to the undelivered queue, or it is deleted.</span></span> <span data-ttu-id="c4ae5-252">このプロパティは、メッセージを送信する前に、オーケストレーションで設定できます。</span><span class="sxs-lookup"><span data-stu-id="c4ae5-252">This property can be set in the orchestration before sending the message.</span></span> <span data-ttu-id="c4ae5-253">配信後は、メッセージ プロパティを変更できません。</span><span class="sxs-lookup"><span data-stu-id="c4ae5-253">After delivery, the message property cannot be changed.</span></span> <span data-ttu-id="c4ae5-254">EMS に送信されるメッセージは BizTalk Server に受信確認が成功する場合。</span><span class="sxs-lookup"><span data-stu-id="c4ae5-254">Messages sent to EMS are acknowledged to BizTalk Server when they are successful.</span></span> <span data-ttu-id="c4ae5-255">EMS へのエラー送信テーマがある場合は中断されていて再試行可能に設定します。</span><span class="sxs-lookup"><span data-stu-id="c4ae5-255">If there is a failure sending theme to EMS, they are suspended and marked as retryable.</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="c4ae5-256">参照</span><span class="sxs-lookup"><span data-stu-id="c4ae5-256">See Also</span></span>  
 [<span data-ttu-id="c4ae5-257">作業の開始</span><span class="sxs-lookup"><span data-stu-id="c4ae5-257">Getting Started</span></span>](../core/getting-started-with-biztalk-adapter-for-tibco-enterprise-message-service.md)