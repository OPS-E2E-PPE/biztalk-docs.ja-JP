---
title: 送信 EDI メッセージのデータを格納する方法 |Microsoft Docs
ms.custom: ''
ms.date: 06/08/2017
ms.prod: biztalk-server
ms.reviewer: ''
ms.suite: ''
ms.tgt_pltfrm: ''
ms.topic: article
ms.assetid: a6e576fc-37fd-417d-ae68-607a0a8bcc0a
caps.latest.revision: 10
author: MandiOhlinger
ms.author: mandia
manager: anneta
ms.openlocfilehash: 2678a8c81807e3d76ba54bae150342076589b618
ms.sourcegitcommit: 381e83d43796a345488d54b3f7413e11d56ad7be
ms.translationtype: MT
ms.contentlocale: ja-JP
ms.lasthandoff: 05/07/2019
ms.locfileid: "65344113"
---
# <a name="how-data-is-stored-for-outbound-edi-messages"></a>送信 EDI メッセージのデータを格納する方法
[!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] 送信インターチェンジの状態レポート エントリを生成するには、次を行います。  
  
1.  XML が EDI に送信される出力方向のメッセージの送信パイプライン、送信パイプラインは、ステータス レポートの次の値を使用してデータ ストアにエントリを作成します。  
  
    -   インターチェンジ状態エントリが処理済み に設定します。  
  
    -   インターチェンジ確認状態エントリ (インターチェンジごとに 1 つ) が必要 に設定します。  
  
    -   機能の確認状態エントリ (X12、EDIFACT のすべてのグループに 1 つではグループごとに 1 つ) が必要 に設定します。  
  
2.  インターチェンジの状態、インターチェンジ確認状態、および、機能、EDI 受信確認の更新プログラムを受信するパイプラインを取引先に EDI メッセージが送信され、取引先から受信確認が返された後、必要に応じて確認状態エントリを受理/一部受理/拒否します。  
  
## <a name="data-stored-by-the-send-pipeline-for-outbound-interchanges"></a>送信インターチェンジの送信パイプラインによって格納されるデータ  
 送信パイプラインは、送信する各インターチェンジの状態レポート データ ストアにレコードを作成します。 エントリに必要なほとんどのデータは、インターチェンジ ヘッダー/トレーラー セグメント (ISA/IEA または UNB/UNZ) から入手できます。 その他のデータは、送信ポートのプロパティから入手できます。 格納されているデータは次のとおりです。  
  
-   レコードの種類 = インターチェンジの状態  
  
-   インターチェンジ方向 = 更新データ = 送信  
  
-   インターチェンジの受信者 = 更新データ  
  
-   インターチェンジの送信者 = 更新データ  
  
-   インターチェンジ日付 = 更新データ  
  
-   インターチェンジ時刻 = 更新データ  
  
-   インターチェンジ制御 ID = 更新データ  
  
-   インターチェンジの状態。処理/送信されます。 送信パイプラインのインターチェンジを処理および配信の送信アダプターに渡したが正常に処理済み 状態を示します。  
  
-   インターチェンジ制御カウント (X12 でのグループ/メッセージそれぞれ) データを =  
  
-   インターチェンジの送信ポートの ID データを =  
  
## <a name="data-stored-by-the-receive-pipeline-for-each-technical-acknowledgment-received-in-response-to-an-outbound-interchange"></a>送信インターチェンジへの応答で受信した各技術確認の受信パイプラインによって格納されるデータ  
 受信パイプラインは、受信した各技術確認の状態レポート データ ストアでレコードを作成します。 受信パイプラインは、状態レポートのデータ ストアに受信した各インターチェンジのレコードを作成します。 取引先パートナーに送信されたインターチェンジへの応答として受信した各技術確認用のデータ ストアに 1 つの技術確認の状態レポート エントリを作成します。 技術確認は、EDIFACT の場合、UCI セグメントのみで、X12 と CONTRL メッセージに TA1 です。 格納されているデータは次のとおりです。  
  
- レコードの種類 = インターチェンジ確認状態  
  
- インターチェンジ確認方向 = 送信 – 更新データ  
  
- インターチェンジの受信者 = 更新データ (関連付けのために必要)  
  
- インターチェンジの送信者 = 更新データ (関連付けのために必要)  
  
- インターチェンジ日付 = 更新データ (X12 に必要な相関関係)  
  
- インターチェンジ制御 ID = 更新データ (関連付けのために必要)  
  
- インターチェンジ確認状態 = 生成または該当なし\<注 0 参照\>-データを更新  
  
- インターチェンジ確認制御 ID = 値なし – 送信側によって適用  
  
- インターチェンジ確認日付 = 値なし – 送信側によって適用  
  
- インターチェンジ確認時刻 = 値なし – 送信側によって適用  
  
- 確認/アクション コード = 更新データ\<注 1 を参照してください\>(X12 TA104 edifact-uci4 から) *。  
  
- 確認通知コード = 更新データ\<注 2 を参照\>(X12-TA105、EDIFACT には該当しません) から *  
  
  次の確認/アクション コードが使用されます。  
  
|確認/アクション コード内のデータ|レポートのエラーの説明|コメント (適用性)|  
|------------------------------|-------------------------------------|-------------------------------|  
|A|受理|X12|  
|E|受理、エラー検出|X12|  
|P|一部受理|X12|  
|R|拒否されました。|X12|  
|4|拒否されました。|EDIFACT|  
|8|受理/一部受理|EDIFACT|  
  
 次の確認通知コードが使用されます。  
  
|確認通知コード (X12) でのデータ|説明|  
|--------------------------------------|-----------------|  
|000|成功|  
|001|インターチェンジ制御番号が一致しません|  
|002|標準がサポートされていません|  
|003|バージョンのコントロールはサポートされていません|  
|004|セグメント終端記号が無効です。|  
|005|送信者の無効なインターチェンジ ID 修飾子|  
|006|無効なインターチェンジの送信者 ID|  
|007|受信側の無効なインターチェンジ ID 修飾子|  
|008|無効なインターチェンジ受信者 ID|  
|009|不明なインターチェンジ受信者 ID|  
|010|無効な認証情報修飾子の値|  
|011|無効な認証情報の値|  
|012|無効なセキュリティ情報修飾子の値|  
|013|無効なセキュリティ情報の値|  
|014|無効なインターチェンジ日付の値|  
|015|無効なインターチェンジ時刻の値|  
|016|無効なインターチェンジ標準識別子の値|  
|017|無効なインターチェンジ バージョン ID の値|  
|018|無効なインターチェンジ制御番号の値|  
|019|無効な確認要求の値|  
|020|テスト インジケーターの値が無効です|  
|021|含まれているグループの値の数が無効です。|  
|022|制御構造が無効です。|  
|023|不適切な最後のファイル|  
|024|インターチェンジの内容が無効です。|  
|025|インターチェンジ制御番号が重複しています|  
|026|データ要素区切り記号が無効です。|  
|027|コンポーネント要素区切り記号が無効です。|  
|028|遅延配信要求の無効な配信日|  
|029|遅延配信要求の無効な配信時刻|  
|030|遅延配信要求に無効な配信時のコード|  
|031|サービスの評価が無効です。|  
  
## <a name="data-updated-by-the-receive-pipeline-for-each-technical-acknowledgment-received-in-response-to-an-outbound-interchange"></a>送信インターチェンジへの応答で受信した各技術確認の受信パイプラインによって更新されるデータ  
 受信パイプラインが受信した各技術確認の関連する送信インターチェンジの状態レポート エントリを更新します。  
  
 EDI 逆アセンブラーは UCI および TA1 セグメントに、受信確認の内のデータを次のように使用して、データ ストアでレコードを検索します。  
  
|確認のフィールド|データ ストア内のフィールド|解説|  
|-------------------|--------------------------|-------------|  
|インターチェンジの送信者 ID|インターチェンジの受信者|-|  
|インターチェンジの受信者 ID|インターチェンジの送信者|-|  
|-|インターチェンジ日付|-|  
|インターチェンジ制御番号|インターチェンジ制御 ID|-|  
|-|インターチェンジ方向 = 送信|保存されたバッチ シナリオの一意性に必要です。|  
|レコードの種類|インターチェンジの状態とインターチェンジ確認状態|-|  
  
 格納されているデータは次のとおりです。  
  
- インターチェンジ確認方向 = 受信 – 既存データ  
  
- インターチェンジ確認状態 = 受信  
  
- インターチェンジの受信者 = 既存データ  
  
- インターチェンジの送信者 = 既存データ  
  
- インターチェンジ日付 = 既存データ  
  
- インターチェンジ制御 ID = 既存データ  
  
- インターチェンジ確認制御 ID = 更新データ  
  
- インターチェンジ確認日付 = 更新データ  
  
- インターチェンジ確認時刻 = 更新データ  
  
- 確認/アクション コード = 更新データ (X12 TA104 edifact-uci4 から) *\<注 1 を参照してください。\>  
  
- 確認通知コード 2 = 更新データ (X12 TA105 から edifact と) *\<注 2 を参照\>  
  
  X12 ACK からのデータ: TA1 104 または EDIFACT UCI4 は、次のようにマップするのには。  
  
|確認/アクション コード内のデータ|状態レポート用のマップ|解説|  
|------------------------------|---------------------------------|-------------|  
|A|受理|X12|  
|P|一部受理|X12|  
|R、M、W、X|拒否されました。|X12|  
|E|エラーありで受理|X12|  
|4|拒否されました。|EDIFACT|  
|7, 8|受理/一部受理|EDIFACT|  
  
 次の確認通知コードが使用されます。  
  
|確認通知コード (X12) でのデータ|状態レポート用のマップ|  
|--------------------------------------|---------------------------------|  
|000|成功|  
|001|インターチェンジ制御番号が一致しません|  
|002|標準がサポートされていません|  
|003|バージョンのコントロールはサポートされていません|  
|004|セグメント終端記号が無効です。|  
|005|送信者の無効なインターチェンジ ID 修飾子|  
|006|無効なインターチェンジの送信者 ID|  
|007|受信側の無効なインターチェンジ ID 修飾子|  
|008|無効なインターチェンジ受信者 ID|  
|009|不明なインターチェンジ受信者 ID|  
|010|無効な認証情報修飾子の値|  
|011|無効な認証情報の値|  
|012|無効なセキュリティ情報修飾子の値|  
|013|無効なセキュリティ情報の値|  
|014|無効なインターチェンジ日付の値|  
|015|無効なインターチェンジ時刻の値|  
|016|無効なインターチェンジ標準識別子の値|  
|017|無効なインターチェンジ バージョン ID の値|  
|018|無効なインターチェンジ制御番号の値|  
|019|無効な確認要求の値|  
|020|テスト インジケーターの値が無効です|  
|021|含まれているグループの値の数が無効です。|  
|022|制御構造が無効です。|  
|023|不適切な最後のファイル|  
|024|インターチェンジの内容が無効です。|  
|025|インターチェンジ制御番号が重複しています|  
|026|データ要素区切り記号が無効です。|  
|027|コンポーネント要素区切り記号が無効です。|  
|028|遅延配信要求の無効な配信日|  
|029|遅延配信要求の無効な配信時刻|  
|030|遅延配信要求に無効な配信時のコード|  
|031|サービスの評価が無効です。|  
  
## <a name="data-stored-by-the-receive-pipeline-for-each-functional-acknowledgment-received-in-response-to-outbound-interchanges"></a>送信インターチェンジへの応答で受信した各機能確認の受信パイプラインによって格納されるデータ  
 受信パイプラインは、受信した各機能確認の状態レポート データ ストアでレコードを作成します。  技術確認は、997 のメッセージを X12 と完全な CONTRL EDIFACT です。 グループごとに 1 つのエントリが作成されます。 インターチェンジとグループ ヘッダーからのデータは、このエントリの作成中に使用されます。 格納されているデータは次のとおりです。  
  
- レコードの種類 = 機能確認状態  
  
- 機能確認方向 = 送信  
  
- 機能確認状態 = \<Generated または該当なし、注 1 を参照してください。\>  
  
- インターチェンジの受信者 = 更新データ (関連付けのために必要)  
  
- インターチェンジの送信者 = 更新データ (関連付けのために必要)  
  
- インターチェンジ日付 = 更新データ (X12 に必要な相関関係)  
  
- インターチェンジ制御 ID = 更新データ (関連付けのために必要)  
  
- グループ制御番号 = 更新データ (EDIFACT はオプション' と x12 の場合に必要な相関関係)  
  
- 機能 ID コード = 更新データ (gs01/ung01)  
  
- トランザクション セットの数 = 更新データ (une1/unz1)  
  
- 機能確認インターチェンジ制御 ID = 値なし – 送信側によって適用されます  
  
- 機能確認インターチェンジ日付 = 値なし – 送信側によって適用  
  
- 機能確認インターチェンジ時刻 = 値なし – 送信側によって適用  
  
- 数のトランザクション セット受信 = 更新データ (X12 AK903 および EDIFACT エンコードのエンジンで計算)  
  
- カウントの受理されたトランザクション セット = 更新データ (X12 AK904 および EDIFACT のエンジンのエンジンで計算)  
  
- 確認/アクション コード = 更新データ\<注 2 を参照してください\>(X12 AK901 edifact-uci4 から) *。  
  
- エラー/構文エラー コード = 更新データ (X12-AK905、EDIFACT UCI5) 注 3  
  
- 追加の X12 確認エラー コード 2 = 更新データ (X12 AK906)  
  
- 追加の X12 確認エラー コード 3 = 更新データ (X12 AK907)  
  
- 追加の X12 確認エラー コード 4 = 更新データ (X12 AK908)  
  
- 追加の X12 確認エラー コード 5 = 更新データ (X12 AK909)  
  
  次の確認/アクション コードが使用されます。  
  
|確認/アクション コード内のデータ|レポートのエラーの説明|コメント (適用性)|  
|------------------------------|-------------------------------------|-------------------------------|  
|A|受理|X12|  
|E|エラーありで受理|X12|  
|P|一部受理|X12|  
|R|拒否されました。|X12|  
|4|拒否されました。|EDIFACT|  
|7|受理/一部受理|EDIFACT|  
  
 次のエラー/構文エラー コードは、EDIFACT のために使用されます。  
  
|エラー/構文エラー コード内のデータ<br /><br /> (EDIFACT に適用)|レポートのエラーの説明|  
|--------------------------------------------------------------------|-------------------------------------|  
|2|構文のバージョンまたはレベル サポートされていません|  
|7|インターチェンジの受信者の実際の受信者|  
|12|値が無効です。|  
|13|Missing|  
|14|値がこの位置でサポートされていません|  
|15|この位置でサポートされていません|  
|16|構成要素が多すぎます|  
|17|契約|  
|18|特定できないエラー|  
|19|無効な 10 進表記|  
|20|サービス文字として無効な文字|  
|21|無効な文字|  
|22|サービスの無効な文字|  
|23|不明なインターチェンジの送信者|  
|24|古すぎます|  
|25|テスト インジケーターがサポートされていません|  
|26|重複が検出されました|  
|27|セキュリティ関数がサポートされていません|  
|28|参照が一致しません|  
|29|コントロールの数が、受信したインスタンスの数と一致しません|  
|30|グループとメッセージ/パッケージの混在|  
|31|グループ内の 1 つ以上のメッセージ型|  
|32|下位レベルが空|  
|33|メッセージ、パッケージ、またはグループの外側に無効な項目|  
|34|入れ子にインジケーターが許可されていません|  
|35|多くのデータ要素またはセグメントの繰り返し|  
|36|セグメント グループの繰り返しが多すぎます|  
|37|文字の型が無効です。|  
|38|桁区切り記号の前に数値がありません。|  
|39|データ要素が長すぎます。|  
|40|データ要素が短すぎます。|  
|41|永続的な通信ネットワーク エラー|  
|42|一時的な通信ネットワーク エラー|  
|43|不明なインターチェンジの受信者|  
|45|末尾の区切り記号|  
|46|サポートされている設定されていない文字|  
|47|エンベロープ機能がサポートされていません|  
|48|依存関係の条件に違反しました|  
|70|トランザクション セットが存在しないか、無効なトランザクション セットの識別子|  
|71|トランザクション セットまたはグループ制御番号の不一致|  
|72|セグメント ID が認識されません|  
|73|適切な位置ではなく XML|  
|74|セグメント グループの繰り返しが少なすぎます|  
|75|セグメントの繰り返しが少なすぎます|  
|76|見つかったデータ要素が少なすぎます|  
  
 次のエラー/構文エラー コードは、X12 のために使用されます。  
  
|エラー/構文エラー コード内のデータ<br /><br /> (X12 に適用)|レポートのエラーの説明|  
|----------------------------------------------------------------|-------------------------------------|  
|1|機能グループがサポートされていません|  
|2|機能グループのバージョンがサポートされていません|  
|3|機能グループ トレーラーがありません。|  
|4|機能グループ ヘッダーとトレーラーのグループ制御番号が一致しません|  
|5|含まれているトランザクション セットの数が、実際の数と一致しません|  
|6-26|その他のサポートされていない検証エラー|  
  
## <a name="data-updated-by-the-receive-pipeline-for-each-functional-acknowledgment-received-in-response-to-outgoing-interchanges"></a>送信インターチェンジへの応答で受信した各機能確認の受信パイプラインによって更新されるデータ  
 受信パイプラインが受信した各機能確認、用、関連する送信インターチェンジの状態レポート エントリを更新します。  
  
 EDI 逆アセンブラはインターチェンジおよび受信の確認のグループ ヘッダー セグメント内のデータを次のように使用して、データ ストアでレコードを検索します。  
  
|確認のフィールド|データ ストア内のフィールド|解説|  
|-------------------|--------------------------|-------------|  
|インターチェンジの送信者 ID|インターチェンジの受信者|X12 と EDIFACT の両方に適用できます。|  
|インターチェンジの受信者 ID|インターチェンジの送信者|X12 と EDIFACT の両方に適用できます。|  
|-|インターチェンジ日付|-|  
|インターチェンジ制御番号|インターチェンジ制御 ID|EDIFACT のみに適用可能|  
|グループ制御番号|グループ制御番号|X12 のみに適用可能|  
|-|インターチェンジ方向 = 送信|一意性のため BIBO シナリオで必要な|  
|レコードの種類|機能確認状態|X12 と EDIFACT の両方に適用できます。|  
  
 格納されているデータは次のとおりです。  
  
- レコードの種類 = 機能確認状態  
  
- 機能確認方向 = 受信  
  
- 機能確認状態 = 更新データを受信  
  
- インターチェンジの受信者 = 既存データ  
  
- インターチェンジの送信者 = 既存データ  
  
- インターチェンジ日付 = 既存データ  
  
- インターチェンジ制御 ID = 既存データ  
  
- グループ制御番号 = 既存データ  
  
- 機能 ID コード = 既存データ  
  
- トランザクション セットの数 = 既存データ  
  
- 機能確認インターチェンジ制御 ID = 更新データ  
  
- 機能確認インターチェンジ日付 = 更新データ  
  
- 機能確認インターチェンジ時刻 = 更新データ  
  
- カウントの配信されたトランザクション セット = 更新データ (X12-AK903 および EDIFACT には該当しません)  
  
- カウントの受理されたトランザクション セット = 更新データ (X12-AK904 および EDIFACT には該当しません)  
  
- 確認/アクション コード = 更新データ (X 12 AK901 および UCI4) 注 1 を参照してください  
  
- エラー/構文エラー コード = (X 12 AK905 および UCI5) 注 2 を参照してください。  
  
- 追加の X12 確認エラー コード 2 = 更新データ (X12 AK906)  
  
- 追加の X12 確認エラー コード 3 = 更新データ (X12 AK907)  
  
- 追加の X12 確認エラー コード 4 = 更新データ (X12 AK908)  
  
- 追加の X12 確認エラー コード 5 = 更新データ (X12 AK909)  
  
  次の確認/アクション コードが使用されます。  
  
|確認/アクション コード内のデータ|状態レポート用のマップ|解説|  
|------------------------------|---------------------------------|-------------|  
|A|受理|X12|  
|P|一部受理|X12|  
|R、M、W、X|拒否されました。|X12|  
|E|エラーありで受理|X12|  
|4|拒否されました。|EDIFACT|  
|7, 8|受理/一部受理|EDIFACT|  
  
 次のエラー/構文エラー コードは、EDIFACT のために使用されます。  
  
|エラー/構文エラー コード内のデータ<br /><br /> (EDIFACT に適用)|レポートのエラーの説明|  
|-------------------------------------------------------------------|-------------------------------------|  
|2|構文のバージョンまたはレベル サポートされていません|  
|7|インターチェンジの受信者の実際の受信者|  
|12|値が無効です。|  
|13|Missing|  
|14|値がこの位置でサポートされていません|  
|15|この位置でサポートされていません|  
|16|構成要素が多すぎます|  
|17|契約|  
|18|特定できないエラー|  
|19|無効な 10 進表記|  
|20|サービス文字として無効な文字|  
|21|無効な文字|  
|22|サービスの無効な文字|  
|23|不明なインターチェンジの送信者|  
|24|古すぎます|  
|25|テスト インジケーターがサポートされていません|  
|26|重複が検出されました|  
|27|セキュリティ関数がサポートされていません|  
|28|参照が一致しません|  
|29|コントロールの数が、受信したインスタンスの数と一致しません|  
|30|グループとメッセージ/パッケージの混在|  
|31|グループ内の 1 つ以上のメッセージ型|  
|32|下位レベルが空|  
|33|メッセージ、パッケージ、またはグループの外側に無効な項目|  
|34|入れ子にインジケーターが許可されていません|  
|35|多くのデータ要素またはセグメントの繰り返し|  
|36|セグメント グループの繰り返しが多すぎます|  
|37|文字の型が無効です。|  
|38|桁区切り記号の前に数値がありません。|  
|39|データ要素が長すぎます。|  
|40|データ要素が短すぎます。|  
|41|永続的な通信ネットワーク エラー|  
|42|一時的な通信ネットワーク エラー|  
|43|不明なインターチェンジの受信者|  
|45|末尾の区切り記号|  
|46|サポートされている設定されていない文字|  
|47|エンベロープ機能がサポートされていません|  
|48|依存関係の条件に違反しました|  
|70|トランザクション セットが存在しないか、無効なトランザクション セットの識別子|  
|71|トランザクション セットまたはグループ制御番号の不一致|  
|72|セグメント ID が認識されません|  
|73|適切な位置ではなく XML|  
|74|セグメント グループの繰り返しが少なすぎます|  
|75|セグメントの繰り返しが少なすぎます|  
|76|見つかったデータ要素が少なすぎます|  
  
 次のエラー/構文エラー コードは、X12 のために使用されます。  
  
|エラー/構文エラー コード内のデータ<br /><br /> (X12 に適用)|レポートのエラーの説明|  
|----------------------------------------------------------------|-------------------------------------|  
|1|機能グループがサポートされていません|  
|2|機能グループのバージョンがサポートされていません|  
|3|機能グループ トレーラーがありません。|  
|4|機能グループ ヘッダーとトレーラーのグループ制御番号が一致しません|  
|5|含まれているトランザクション セットの数が、実際の数と一致しません|  
|6-26|その他のサポートされていない検証エラー|  
  
## <a name="see-also"></a>参照  
 [EDI および AS2 状態レポートのデータを格納する方法](../core/how-data-is-stored-for-edi-and-as2-status-reports.md)   
 [受信 EDI メッセージのデータ格納方法](../core/how-data-is-stored-for-inbound-edi-messages.md)