---
title: パートナー オーケストレーション直接バインド ポートの使用方法 |Microsoft Docs
ms.custom: ''
ms.date: 06/08/2017
ms.prod: biztalk-server
ms.reviewer: ''
ms.suite: ''
ms.tgt_pltfrm: ''
ms.topic: article
ms.assetid: 19f9987f-79fb-4cb6-bf6e-542f6eea9ce0
caps.latest.revision: 10
author: MandiOhlinger
ms.author: mandia
manager: anneta
ms.openlocfilehash: 54ba54aa08d88e131842a9394f0e8b42d24d5616
ms.sourcegitcommit: 266308ec5c6a9d8d80ff298ee6051b4843c5d626
ms.translationtype: MT
ms.contentlocale: ja-JP
ms.lasthandoff: 06/27/2018
ms.locfileid: "36966851"
---
# <a name="how-to-use-partner-orchestration-direct-bound-ports"></a>パートナー オーケストレーションの直接バインド ポートの使用方法
パートナー オーケストレーションの直接バインド ポートは、ポートをとおしたオーケストレーション間通信の機能を提供します。 2 つの通信パターンを作成することができます。 順方向パートナー オーケストレーションの直接バインドと逆方向パートナー オーケストレーション直接バインドします。 これらの 2 つのパターンは、明示的なオーケストレーション間通信を提供し、順方向パートナー オーケストレーションの直接バインドを使用するときは目的の受信者のオーケストレーション、および逆方向パートナー オーケストレーションの直接バインドを使用するときは目的の送信者のオーケストレーションが存在することを意味します。  
  
 次のいずれかを実行することによって、暗黙のパートナー オーケストレーションの直接バインドもデザインできます。  
  
- 受信者をメッセージ ボックスの直接バインド ポートにし、特定の送信オーケストレーションからのメッセージを受け入れるフィルターを作成します。  
  
- 送信者をメッセージ ボックスの直接バインド ポートにし、受信オーケストレーションのサブスクリプションに一致するプロパティを昇格させます。  
  
  ポート構成ウィザードで、パートナー オーケストレーションの直接バインド ポートを構成するには指定**直接**の**ポートのバインド**選択**他のオーケストレーションからメッセージを受信するにはこのポートをここでこれらのオーケストレーションで選択**または**他のオーケストレーションにメッセージを送信するでは、これらのオーケストレーションにこのポートを選択**によって受信またはでメッセージを送信するかどうかこのポート。 ポートを選択し、 **パートナー オーケストレーションのポート**ドロップダウン リスト。 両方のポートのポートの種類は同じである必要があります。これは、メッセージの種類も同じである必要があることを意味します。 さらに、パートナー オーケストレーションのポートに直接バインドすることができる、**型修飾子**ポートの種類はいずれかのことがあります**内部**同じアセンブリ内のオーケストレーションに対してまたは**パブリック**をバインドする別のアセンブリからオーケストレーションを許可します。 ポートの極性は逆である必要があります。 たとえば、片方が送信ポートである場合は、もう一方は受信ポートである必要があります。  
  
  パートナー オーケストレーションの直接バインド ポートを使用する方法の例を参照してください、SDK サンプルの"直接バインド オーケストレーションに対する[ http://go.microsoft.com/fwlink/?LinkId=73703](http://go.microsoft.com/fwlink/?LinkId=73703)します。  
  
## <a name="forward-partner-orchestration-direct-binding"></a>順方向パートナー オーケストレーションの直接バインド  
 これは、パートナー オーケストレーションの直接バインドに使用される一般的な通信方式です。 この種類の順方向パートナー オーケストレーションのバインドを使用すると、複数の送信者を同じ受信者にバインドできます。  
  
 **順方向パートナー オーケストレーションの直接バインドを構成するには、次の操作を行います。**  
  
1. オーケストレーション A では、選択、**ポート**オーケストレーション ツールボックス内の図形。 ポート構成ウィザードが起動します。  
  
2. **ポートのプロパティ**ページで、**名前**フィールドに「`MyReceivePort`します。 **[次へ]** をクリックします。  
  
3. **ポートの種類を選択します。** ] ページで [**新しいポートの種類を作成**です。 **ポートの種類名**フィールドに「`MyPartnerPortType`します。 **[次へ]** をクリックします。  
  
4. **ポートのバインド**ページで、**ポートの通信方向**ドロップダウン リストで、**常にこのポートでメッセージを受信**します。 **ポートのバインド**ドロップダウン リストで、**直接**します。  
  
5. 選択**を他のオーケストレーションからメッセージを受信するこことそのオーケストレーション内にこのポートを選択**、し、 **パートナー オーケストレーションのポート**ドロップダウン リストで、 **OrchestrationA.MyReceivePort**します。 **[次へ]** をクリックします。  
  
6. **ポート ウィザードの完了**] ページで [**完了**します。  
  
7. オーケストレーション B でを選択、**ポート**オーケストレーション ツールボックス内の図形。 ポート構成ウィザードが起動します。  
  
8. **ポートのプロパティ**ページで、**名前**フィールドに「`MySendPort`します。 **[次へ]** をクリックします。  
  
9. **[ポートの種類の選択]** ページで、 **[既存のポートの種類を使用する]** をクリックします。 **使用可能なポートの種類**を選択します**MyPartnerPortType**、順にクリックします**次**します。  
  
10. **ポートのバインド**ページで、**ポートの通信方向**ドロップダウン リストで、**は常にメッセージを送信しますこのポートで**します。 **ポートのバインド**ドロップダウン リストで、**直接**します。  
  
11. 選択**他のオーケストレーションにメッセージを送信するこことそのオーケストレーション内にこのポートを選択**、し、 **パートナー オーケストレーションのポート**ドロップダウン リストで、 **OrchestrationA.MyReceivePort**します。 **[次へ]** をクリックします。  
  
12. **ポート ウィザードの完了**] ページで [**完了**します。  
  
    > [!NOTE]
    >  送信者のオーケストレーションから受信者のオーケストレーションへの厳密なバインドがあります。 このため、受信者のオーケストレーションを変更する場合、または受信者のオーケストレーションのバージョンを変更する場合、送信者のパートナー オーケストレーションの直接バインド ポートのデザイン時の構成を更新する必要があります。 ただし、受信者のオーケストレーションは送信者のオーケストレーションを明示的に認識しないため、受信者のオーケストレーションに影響を与えずに送信者のオーケストレーションを更新できます。  
  
    前の構成では、オーケストレーション A は受信者であり、オーケストレーション B は送信者です。 構成によって、メッセージを送信するオーケストレーション B **OrchestrationA.MyReceivePort**、によって、オーケストレーション A に送信されるメッセージを受信して**OrchestrationA.MyReceivePort**します。 さらに、オーケストレーション B に対する構成と同じ構成を使用して、オーケストレーション C を追加して 2 番目の送信者とすることができ、オーケストレーション D を追加して 3 番目の送信者とすることができます。  
  
## <a name="inverse-partner-orchestration-direct-binding"></a>逆方向パートナー オーケストレーションの直接バインド  
 これは、パートナー オーケストレーションの直接バインドに使用される一般的な通信方式ではありません。 この方式では、バインドの方向は、通信の方向の逆になります。 この種類の逆方向パートナー オーケストレーションのバインドを使用すると、単一の送信者が複数の受信者と通信できます。  
  
> [!NOTE]
>  逆のパートナー オーケストレーション直接バインドを使用して 2 方向のポートの種類を使用する場合、複数の受信者のうち 1 つだけがメッセージを処理するようにするには、受信フィルターを設定する必要があります。 これは、送信請求 - 応答ポートが単一の応答を想定しているためです。 複数の受信者がメッセージを取得した場合、送信請求 - 応答ポートは最初の応答を受信し、その後のすべての応答は中断され再開不可になります。 このような状況でメッセージを送信しようとすると、メッセージング エンジンは例外をスローし、送信請求 - 応答ポートに対して複数の受信者が存在することを示します。  
  
 **逆方向パートナー オーケストレーションの直接バインドを構成するには、次の操作を行います。**  
  
1. オーケストレーション A では、選択、**ポート**オーケストレーション ツールボックス内の図形。 ポート構成ウィザードが起動します。  
  
2. **ポートのプロパティ**ページで、**名前**フィールドに「`MySendPort`します。 **[次へ]** をクリックします。  
  
3. **ポートの種類を選択します。** ] ページで [**新しいポートの種類を作成**です。 **ポートの種類名**フィールドに「`MyPartnerPortType`します。 **[次へ]** をクリックします。  
  
4. **ポートのバインド**ページで、**ポートの通信方向**ドロップダウン リストで、**は常にメッセージを送信しますこのポートで**します。 **ポートのバインド**ドロップダウン リストで、**直接**します。  
  
5. 選択**他のオーケストレーションにメッセージを送信するこことそのオーケストレーション内にこのポートを選択**、し、 **パートナー オーケストレーションのポート**ドロップダウン リストで、 **OrchestrationA.MySendPort**します。 **[次へ]** をクリックします。  
  
6. **ポート ウィザードの完了**] ページで [**完了**します。  
  
7. オーケストレーション B でを選択、**ポート**オーケストレーション ツールボックス内の図形。 ポート構成ウィザードが起動します。  
  
8. **ポートのプロパティ**ページで、**名前**フィールドに、入力`MyReceivePort`します。 **[次へ]** をクリックします。  
  
9. **[ポートの種類の選択]** ページで、 **[既存のポートの種類を使用する]** をクリックします。 **使用可能なポートの種類**を選択します**MyPartnerPortType**、順にクリックします**次**します。  
  
10. **ポートのバインド**ページで、**ポートの通信方向**ドロップダウン リストで、**常にこのポートでメッセージを受信**します。 **ポートのバインド**ドロップダウン リストで、**直接**します。  
  
11. 選択**を他のオーケストレーションからメッセージを受信するこことそのオーケストレーション内にこのポートを選択**、し、 **パートナー オーケストレーションのポート**ドロップダウン リストで、 **OrchestrationA.MySendPort**します。 **[次へ]** をクリックします。  
  
12. **ポート ウィザードの完了**] ページで [**完了**します。  
  
    > [!NOTE]
    >  受信者のオーケストレーションは、送信者のオーケストレーションに厳密にバインドされます。 このため、受信者のオーケストレーションを変更する場合、または受信者のオーケストレーションのバージョンを更新する場合、送信者のポートの構成を更新する必要があります。 送信者のオーケストレーションは受信者のオーケストレーションを明示的に認識しないため、送信者のオーケストレーションに影響を与えずに受信者のオーケストレーションを更新できます。  
  
    前の構成では、オーケストレーション A は送信者であり、オーケストレーション B は受信者です。 構成によって、オーケストレーションを使用してオーケストレーション B にメッセージを送信する**OrchestrationA.MySendPort**、によって、メッセージを受信するオーケストレーション B と**OrchestrationA.MySendPort**. さらに、オーケストレーション B に対する構成と同じ構成を使用して、オーケストレーション C を追加して 2 番目の受信者とすることができ、オーケストレーション D を追加して 3 番目の受信者とすることができます。  
  
## <a name="see-also"></a>参照  
 [メッセージ ボックスの直接バインド ポートを使用する方法](../core/how-to-use-messagebox-direct-bound-ports.md)   
 [自己関連付けを行う Direct を使用する方法のポートのバインド](../core/how-to-use-self-correlating-direct-bound-ports.md)