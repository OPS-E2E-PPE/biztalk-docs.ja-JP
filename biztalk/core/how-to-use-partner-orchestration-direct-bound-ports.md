---
title: パートナー オーケストレーション直接バインド ポートの使用方法 |Microsoft Docs
ms.custom: ''
ms.date: 06/08/2017
ms.prod: biztalk-server
ms.reviewer: ''
ms.suite: ''
ms.tgt_pltfrm: ''
ms.topic: article
ms.assetid: 19f9987f-79fb-4cb6-bf6e-542f6eea9ce0
caps.latest.revision: 10
author: MandiOhlinger
ms.author: mandia
manager: anneta
ms.openlocfilehash: 48f60aa1f8c1ca9e101b99bddc260d81c0366896
ms.sourcegitcommit: 381e83d43796a345488d54b3f7413e11d56ad7be
ms.translationtype: MT
ms.contentlocale: ja-JP
ms.lasthandoff: 05/07/2019
ms.locfileid: "65333309"
---
# <a name="how-to-use-partner-orchestration-direct-bound-ports"></a>パートナー オーケストレーション直接バインド ポートの使用方法
パートナー オーケストレーションの直接バインド ポートは、オーケストレーション間通信のポート経由の機能を提供します。 2 つの通信パターンを作成することができます。 順方向パートナー オーケストレーションの直接バインドと逆方向パートナー オーケストレーション直接バインドします。 これら 2 つのパターンは、明示的なオーケストレーション間通信では、逆のパートナーを使用する場合は、順方向パートナー オーケストレーションの直接バインドと、目的の送信者のオーケストレーションを使用すると、目的の受信者のオーケストレーションが認識されていることを意味を提供します。オーケストレーションの直接バインドします。  
  
 次のいずれかの方法で暗黙のパートナー オーケストレーションの直接バインドを設計することもできます。  
  
- 受信者にメッセージ ボックスの直接バインド ポートを作成し、特定の送信オーケストレーションからのメッセージはそのまま使用するフィルターを作成します。  
  
- 送信者のメッセージ ボックスの直接バインド ポートを作成し、受信側のオーケストレーションのサブスクリプションに一致するプロパティを昇格させます。  
  
  ポート構成ウィザードで、パートナー オーケストレーションの直接バインド ポートを構成するには指定**直接**の**ポートのバインド**選択**他のオーケストレーションからメッセージを受信するにはこのポートをここでこれらのオーケストレーションで選択**または**他のオーケストレーションにメッセージを送信するでは、これらのオーケストレーションにこのポートを選択**によって受信またはでメッセージを送信するかどうかこのポート。 ポートを選択し、 **パートナー オーケストレーションのポート**ドロップダウン リスト。 両方のポートのポートの種類があります、同じメッセージ型する必要がありますも同じであることを意味します。 さらに、パートナー オーケストレーションのポートに直接バインドすることができる、**型修飾子**ポートの種類はいずれかのことがあります**内部**同じアセンブリ内のオーケストレーションに対してまたは**パブリック**をバインドする別のアセンブリからオーケストレーションを許可します。 ポートの極性は逆である必要があります。 たとえば、一方の側が送信ポートの場合受信ポートし、もう一方の側必要があります。  
  
  パートナー オーケストレーションの直接バインド ポートを使用する方法の例を参照してください、SDK サンプルの"直接バインド オーケストレーションに対する[ http://go.microsoft.com/fwlink/?LinkId=73703](http://go.microsoft.com/fwlink/?LinkId=73703)します。  
  
## <a name="forward-partner-orchestration-direct-binding"></a>順方向パートナー オーケストレーションの直接バインド  
 これは、パートナー オーケストレーションの直接バインドに使用される一般的な通信方式です。 この種類の順方向パートナー オーケストレーションのバインドを使用すると、複数の送信者を同じ受信者にバインドされていることができます。  
  
 **順方向パートナー オーケストレーションの直接バインドを構成するには、次の操作を行います。**  
  
1. オーケストレーション A では、選択、**ポート**オーケストレーション ツールボックス内の図形。 ポート構成ウィザードが起動します。  
  
2. **ポートのプロパティ**ページで、**名前**フィールドに「`MyReceivePort`します。 **[次へ]** をクリックします。  
  
3. **ポートの種類を選択します。** ] ページで [**新しいポートの種類を作成**です。 **ポートの種類名**フィールドに「`MyPartnerPortType`します。 **[次へ]** をクリックします。  
  
4. **ポートのバインド**ページで、**ポートの通信方向**ドロップダウン リストで、**常にこのポートでメッセージを受信**します。 **ポートのバインド**ドロップダウン リストで、**直接**します。  
  
5. 選択**を他のオーケストレーションからメッセージを受信するこことそのオーケストレーション内にこのポートを選択**、し、 **パートナー オーケストレーションのポート**ドロップダウン リストで、 **OrchestrationA.MyReceivePort**します。 **[次へ]** をクリックします。  
  
6. **ポート ウィザードの完了**] ページで [**完了**です。  
  
7. オーケストレーション B でを選択、**ポート**オーケストレーション ツールボックス内の図形。 ポート構成ウィザードが起動します。  
  
8. **ポートのプロパティ**ページで、**名前**フィールドに「`MySendPort`します。 **[次へ]** をクリックします。  
  
9. **[ポートの種類の選択]** ページで、 **[既存のポートの種類を使用する]** をクリックします。 **使用可能なポートの種類**を選択します**MyPartnerPortType**、順にクリックします**次**します。  
  
10. **ポートのバインド**ページで、**ポートの通信方向**ドロップダウン リストで、**は常にメッセージを送信しますこのポートで**します。 **ポートのバインド**ドロップダウン リストで、**直接**します。  
  
11. 選択**他のオーケストレーションにメッセージを送信するこことそのオーケストレーション内にこのポートを選択**、し、 **パートナー オーケストレーションのポート**ドロップダウン リストで、 **OrchestrationA.MyReceivePort**します。 **[次へ]** をクリックします。  
  
12. **ポート ウィザードの完了**] ページで [**完了**です。  
  
    > [!NOTE]
    >  送信者のオーケストレーションから受信者のオーケストレーションへの厳密なバインドがあります。 そのため、受信者のオーケストレーションを変更する場合、または受信者のオーケストレーションのバージョンを変更する場合は、送信者パートナー オーケストレーション直接バインド ポートのデザイン時構成を更新する必要があります。 ただし、受信者のオーケストレーションに、送信者のオーケストレーションの明示的な知識があるないために、受信者のオーケストレーションに影響を与えずに送信者のオーケストレーションを更新できます。  
  
    前の構成では、オーケストレーション A は受信者と、オーケストレーション B は送信者。 構成によって、メッセージを送信するオーケストレーション B **OrchestrationA.MyReceivePort**、によって、オーケストレーション A に送信されるメッセージを受信して**OrchestrationA.MyReceivePort**します。 さらに、2 番目の送信者し、B. のオーケストレーションの場合と同じ構成を使用して 3 番目の送信者に、オーケストレーション D を追加するオーケストレーション C を追加することができます。  
  
## <a name="inverse-partner-orchestration-direct-binding"></a>逆方向パートナー オーケストレーションの直接バインド  
 これは、パートナー オーケストレーションの直接バインドに使用される一般的な通信パターンではありません。 このパターンでは、バインドの方向は、通信の方向の逆です。 この種類の逆方向パートナー オーケストレーションのバインドを使用すると、単一の送信者が複数の受信者と通信します。  
  
> [!NOTE]
>  逆方向パートナー オーケストレーションの直接バインドで双方向のポートの種類を使用する場合する必要がありますを設定する、受信フィルター、受信者の 1 つだけがメッセージを処理することを確認します。 送信請求-応答ポートには、1 つの応答で想定されるためです。 複数の受信者は、メッセージを受け取ったら場合、送信請求-応答ポートは、最初の応答を受け取るし、後続のすべての応答は中断され再開不可。 メッセージング エンジンは、このような状況でメッセージを送信しようとすると例外がスローされ、送信請求-応答ポートに対して複数の受信者があることを示します。  
  
 **逆方向パートナー オーケストレーションの直接バインドを構成するには、次の操作を行います。**  
  
1. オーケストレーション A では、選択、**ポート**オーケストレーション ツールボックス内の図形。 ポート構成ウィザードが起動します。  
  
2. **ポートのプロパティ**ページで、**名前**フィールドに「`MySendPort`します。 **[次へ]** をクリックします。  
  
3. **ポートの種類を選択します。** ] ページで [**新しいポートの種類を作成**です。 **ポートの種類名**フィールドに「`MyPartnerPortType`します。 **[次へ]** をクリックします。  
  
4. **ポートのバインド**ページで、**ポートの通信方向**ドロップダウン リストで、**は常にメッセージを送信しますこのポートで**します。 **ポートのバインド**ドロップダウン リストで、**直接**します。  
  
5. 選択**他のオーケストレーションにメッセージを送信するこことそのオーケストレーション内にこのポートを選択**、し、 **パートナー オーケストレーションのポート**ドロップダウン リストで、 **OrchestrationA.MySendPort**します。 **[次へ]** をクリックします。  
  
6. **ポート ウィザードの完了**] ページで [**完了**です。  
  
7. オーケストレーション B でを選択、**ポート**オーケストレーション ツールボックス内の図形。 ポート構成ウィザードが起動します。  
  
8. **ポートのプロパティ**ページで、**名前**フィールドに、入力`MyReceivePort`します。 **[次へ]** をクリックします。  
  
9. **[ポートの種類の選択]** ページで、 **[既存のポートの種類を使用する]** をクリックします。 **使用可能なポートの種類**を選択します**MyPartnerPortType**、順にクリックします**次**します。  
  
10. **ポートのバインド**ページで、**ポートの通信方向**ドロップダウン リストで、**常にこのポートでメッセージを受信**します。 **ポートのバインド**ドロップダウン リストで、**直接**します。  
  
11. 選択**を他のオーケストレーションからメッセージを受信するこことそのオーケストレーション内にこのポートを選択**、し、 **パートナー オーケストレーションのポート**ドロップダウン リストで、 **OrchestrationA.MySendPort**します。 **[次へ]** をクリックします。  
  
12. **ポート ウィザードの完了**] ページで [**完了**です。  
  
    > [!NOTE]
    >  受信者のオーケストレーションは、送信者のオーケストレーションに厳密にバインドされます。 そのため、受信者のオーケストレーションを変更または受信者のオーケストレーションのバージョンを更新する場合は、送信者のポートの構成を更新する必要があります。 送信者のオーケストレーションに影響を与えずに受信者のオーケストレーションを更新できるように、送信者のオーケストレーションは受信者のオーケストレーションの明示的な情報がありません。  
  
    前の構成では、オーケストレーション A は送信者と、オーケストレーション B は受信者。 構成によって、オーケストレーションを使用してオーケストレーション B にメッセージを送信する**OrchestrationA.MySendPort**、によって、メッセージを受信するオーケストレーション B と**OrchestrationA.MySendPort**. さらに、2 番目の受信者を指定して、オーケストレーション D をオーケストレーション B. の場合と同じ構成を使用すると、3 番目の受信者を追加するオーケストレーション C を追加することができます。  
  
## <a name="see-also"></a>参照  
 [メッセージ ボックスの直接バインド ポートを使用する方法](../core/how-to-use-messagebox-direct-bound-ports.md)   
 [自己関連付けを行う Direct を使用する方法のポートのバインド](../core/how-to-use-self-correlating-direct-bound-ports.md)