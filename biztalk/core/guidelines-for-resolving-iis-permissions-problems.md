---
title: IIS のアクセス許可の問題を解決するためのガイドライン |Microsoft ドキュメント
ms.custom: ''
ms.date: 06/08/2017
ms.prod: biztalk-server
ms.reviewer: ''
ms.suite: ''
ms.tgt_pltfrm: ''
ms.topic: article
helpviewer_keywords:
- troubleshooting
ms.assetid: d9793a90-3aa3-46ab-a317-6d1e0fbfc1ef
caps.latest.revision: 30
author: MandiOhlinger
ms.author: mandia
manager: anneta
ms.openlocfilehash: eb91509ec3ad1c329190c848c25a60434f93499e
ms.sourcegitcommit: 5abd0ed3f9e4858ffaaec5481bfa8878595e95f7
ms.translationtype: MT
ms.contentlocale: ja-JP
ms.lasthandoff: 11/28/2017
---
# <a name="guidelines-for-resolving-iis-permissions-problems"></a>IIS のアクセス許可の問題を解決するためのガイドライン
[!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] では、Web サービス サポートや HTTP、SOAP、Windows SharePoint Services の各アダプターで、Microsoft インターネット インフォメーション サービス (IIS) を広範に使用します。  
  
 IIS のアクセス許可に関する問題のトラブルシューティングを行う場合は、IIS でアプリケーション分離がどのように実装されるかを理解しておくと役に立ちます。  
  
 IIS には、独自のメモリ領域で実行される個別のホスト プロセスとして IIS アプリケーションを作成するための機能が用意されています。 IIS アプリケーション ホストを作成すると、しする必要がありますを定義するアクセス許可、IIS アプリケーション ホストの 2 つのセット**プロセス id**と IIS アプリケーション ホスト**ユーザー アクセス権**です。 IIS のアクセス許可に関する問題のトラブルシューティングでは、上記のアクセス許可セットをそれぞれ調べる必要があります。  
  
> [!NOTE]
>  **プロセス id**と**ユーザー アクセス権**とも呼びますが、**セキュリティ コンテキスト**IIS アプリケーション ホスト プロセスのです。  
  
 設定する方法について説明**プロセス id**と**ユーザー アクセス権**IIS アプリケーション ホスト プロセスのおよび IIS のアクセス許可の問題を解決するための一般的なガイドラインを提供します。  
  
## <a name="setting-iis-application-host-process-identity"></a>IIS アプリケーション ホストのプロセス ID の設定  
 IIS アプリケーション ホスト プロセスの構成は、ホスト プロセスが提供する機能のレベルによって異なります。 たとえば、静的な HTML ページのみを処理する IIS アプリケーション ホスト プロセスは ASP ページや ASP.NET アプリケーション、IIS アプリケーション ホスト プロセスとは異なる構成通常します。  
  
 また、IIS アプリケーション ホスト プロセスの構成は、アプリケーションをホストする IIS のバージョンによっても異なります。 Windows Server 2008 (IIS 7.0) で実行されているアプリケーションのホスト プロセス ID は、このアプリケーションに関連付けられているアプリケーション プールの ID によって決まります。  
  
### <a name="setting-iis-process-identity-for-iis-70-on-windows-server-2008-or-windows-vista"></a>Windows Server 2008 または Windows Vista 上の IIS 7.0 の IIS プロセス ID の設定  
  
1.  をクリックして**開始**、し**すべてのプログラム**、 をクリック**インターネット インフォメーション サービス (IIS) 7 マネージャー**です。  
  
2.  インターネット インフォメーション サービス (IIS) マネージャーでは、展開*\<コンピューター名\>***(ユーザー アカウント)**  をクリック**アプリケーション プール**です。  
  
3.  アプリケーション プールを右クリックし、をクリックして**ビュー アプリケーション**にアプリケーション プールに関連付けられているアプリケーションを参照してください。  
  
4.  アプリケーション プールを右クリックし、をクリックして**詳細設定**アプリケーション プールの詳細設定 ダイアログを表示します。  
  
5.  横に、省略記号 (...) ボタンをクリックして、アプリケーション プールの id を変更**Identity**下にある、**プロセス モデル**のセクションで、**詳細設定**ダイアログボックスです。  
  
## <a name="setting-user-access-rights-for-the-iis-server"></a>IIS サーバーのユーザー アクセス権の設定  
 プロセス ID では実行中の IIS アプリケーション ホスト プロセスで使用できるセキュリティ コンテキストを管理しますが、ユーザーのアクセス許可では、提供される Web ページに実際にアクセスしているアカウントのセキュリティ コンテキストを管理します。 アクセス許可エラーを回避するには、両方のセキュリティ コンテキストに対してアクセス許可を適切に設定する必要があります。  
  
 IIS 7.0 では、次のユーザー認証方式がサポートされます。  
  
-   **匿名アクセス:**匿名接続を確立することができます。 IIS サーバーは、指定された guest アカウントでユーザーをログオンさせます。  
  
-   **ASP.NET の偽装**により、2 つの異なるコンテキストのいずれかで実行するアプリケーション: または IIS で認証されたユーザーとして任意のアカウントを設定することです。  
  
-   **基本認証:**パスワードをプレーン テキストで暗号化されていない形式でネットワーク経由で送信します。  
  
-   **ダイジェスト認証:**はプレーン テキストのパスワードではなく、ネットワーク経由でハッシュ値を送信する、Active Directory アカウントでのみ機能します。 ダイジェスト認証は、プロキシ サーバーやその他のファイアウォールの枠を越えて機能し、WebDAV (Web Distributed Authoring and Versioning) ディレクトリで使用できます。 ダイジェスト認証を使用するには、まず匿名認証を無効にする必要があります。  
  
-   **フォーム認証**認証トラフィック量が多いサイトやパブリック サーバー上のアプリケーションに対応します。 フォーム認証を使用すると、オペレーティング システムによって提供される認証メカニズムに依存することなく、クライアントの登録と認証をアプリケーション レベルで管理できます。  
  
-   **Windows 認証:**クライアント接続の認証に Windows ドメインで認証を使用します。  
  
#### <a name="to-set-user-access-rights-for-a-virtual-directory-in-iis-70"></a>IIS 7.0 で仮想ディレクトリのユーザー アクセス権を設定するには  
  
1.  インターネット インフォメーション サービス (IIS) マネージャーで、展開*\<コンピューター名\>*、**サイト**、および**Default Web Site** で**接続**ウィンドウです。  
  
2.  クリックして、仮想ディレクトリを選択し、をクリックして、**機能ビュー**を仮想ディレクトリの構成可能な機能を一覧表示 [ワークスペース] ウィンドウの下部にあります。  
  
3.  ダブルクリックして、**認証**を仮想ディレクトリを有効になっている認証方法を一覧表示 [ワークスペース] ウィンドウで機能します。  
  
4.  クリックして選択するには有効にするにまたは無効にし、いずれかをクリックする認証方法**を無効にする**または**を有効にする**で、**アクション**IIS マネージャーのウィンドウ。  
  
    > [!NOTE]
    >  場合**への匿名アクセスを有効にする**は有効な場合、IIS では設定ユーザー アクセス権を匿名ユーザーとして構成されている id として認証方法を有効になっている、他のユーザー アクセス権を設定する前にします。  
    >   
    >  匿名ユーザー id を構成するを右クリックして、**匿名認証**メソッドとクリック**編集**を表示する、**匿名認証資格情報の編集**ダイアログ。  
  
## <a name="general-guidelines-for-resolving-iis-permissions-problems"></a>IIS のアクセス許可の問題を解決するための一般的なガイドライン  
 IIS のアクセス許可に関するトラブルシューティングを行うには、次の手順を実行します。  
  
1.  IIS サーバー コンピューターのアプリケーション ログでエラーの有無を確認します。  
  
2.  手順に従います[IIS 7.0: IIS 7.0 で失敗した要求のトレースを構成する](http://go.microsoft.com/fwlink/?LinkId=130600)IIS 7.0 コンピューターでアクセス許可の問題をトラブルシューティングします。  
  
3.  IIS サーバーの IIS ログ ファイルで HTTP 401 エラーの有無を確認します。  
  
     既定では、Windows Server 2008 コンピューターまたは Windows Vista コンピューターの IIS ログ ファイルは、次のディレクトリにあります。  
  
     C:\inetpub\logs\LogFiles\W3SVC1\  
  
    -   IIS ログ ファイルの IIS 7.0 コンピューターには、HTTP 401 エラーが含まれています手順をマイクロソフト サポート技術情報の記事 943891、"HTTP ステータス コード IIS 7.0 で"で使用可能な[http://support.microsoft.com/kb/943891](http://support.microsoft.com/kb/943891)を決定するには。副状態コードしステータス コードに基づいてアクセス許可の問題のトラブルシューティングを行います。  
  
    -   値を確認、 **cs-username** HTTP 401 エラーに関連付けられているフィールドです。 このフィールドには、IIS サーバーにアクセスした認証ユーザーの名前が格納されています。 匿名ユーザー アカウントの場合、このフィールドの値はハイフン (-) になります。 このアカウントに、該当するリソースへのアクセス許可が付与されていることを確認してください。  
  
4.  IIS アプリケーションで使用するプロセス ID の資格情報が正しく設定されていること、およびアカウントに適切なアクセス許可が付与されていることを確認します。 プロセス ID に使用されているアカウントに十分なアクセス許可がない場合は、アカウントを変更するか、アカウントに適切なアクセス許可を付与します。  
  
5.  説明されている RegMon および FileMon ユーティリティを使用して[トラブルシューティングに使用するツールとユーティリティ](../core/tools-and-utilities-to-use-for-troubleshooting.md)ファイルまたはレジストリのアクセス許可に関する問題を診断します。  
  
## <a name="see-also"></a>参照  
 [BizTalk Server のアクセス許可のトラブルシューティング](../core/troubleshooting-biztalk-server-permissions.md)   
 [IIS 7.0: IIS 7.0 での認証の構成](http://go.microsoft.com/fwlink/?LinkId=129909)