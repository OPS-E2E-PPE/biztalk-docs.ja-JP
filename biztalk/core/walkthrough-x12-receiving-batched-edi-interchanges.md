---
title: 'チュートリアル (X12): バッチ EDI インターチェンジの受信 |Microsoft Docs'
ms.custom: ''
ms.date: 06/08/2017
ms.prod: biztalk-server
ms.reviewer: ''
ms.suite: ''
ms.tgt_pltfrm: ''
ms.topic: article
ms.assetid: 1f6e6e96-39ec-469d-a845-1bfdce6cc0bf
caps.latest.revision: 34
author: MandiOhlinger
ms.author: mandia
manager: anneta
ms.openlocfilehash: 4afc640671828bfef194f851f94bd412a00dbd7c
ms.sourcegitcommit: 266308ec5c6a9d8d80ff298ee6051b4843c5d626
ms.translationtype: MT
ms.contentlocale: ja-JP
ms.lasthandoff: 06/27/2018
ms.locfileid: "36979259"
---
# <a name="walkthrough-x12-receiving-batched-edi-interchanges"></a>チュートリアル (X12): バッチ EDI インターチェンジの受信
このチュートリアルでは、[!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] を使用して EDI バッチの受信用のソリューションを作成する一連の手順について説明します。 このソリューションでは、バッチ EDI インターチェンジを受信する 2 つの方法を示します。  

- その構成トランザクション バッチに分割して次のように設定します。  

- トランザクションを分割せず 1 つのドキュメントとして処理することで、インターチェンジを保存して次のように設定します。  

  このチュートリアルでは、両方の分割とバッチの保存を構成する方法を示します。  

## <a name="prerequisites"></a>前提条件  
 [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] 管理者グループまたは [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] B2B Operators グループのメンバーとしてログオンしている必要があります。  

## <a name="how-the-solution-splits-received-edi-batches"></a>ソリューションにより受信した EDI バッチを分割する方法  
 バッチ化されたインターチェンジを構成トランザクション セットに分割するようにソリューションを構成すると、このソリューションは次の動作を実行します。  

1. 受信場所は、パーティから複数のトランザクション セットを含むバッチ EDI インターチェンジを受信します。  

   > [!NOTE]
   >  この一覧のイベントは、示されている順序で発生するとは限りません。  

2. 受信パイプラインは、受信したインターチェンジを構成トランザクション セットに分割し、トランザクション セットを内部 XML 形式に変換します。  

3. 受信パイプラインは、インターチェンジ ヘッダーとグループ ヘッダー全体を、インターチェンジから分割された各トランザクション セットのコンテキストに昇格させます。 また、ISA6、GS1、GS2 などの特定のインターチェンジおよびグループ ヘッダーを昇格させ、これらのフィールドをルーティングに使用できるようにします。  

4. 受信パイプラインは、各トランザクション セット XML ファイルを MessageBox にドロップします。  

   > [!NOTE]
   >  このソリューションでは、バッチには同じメッセージの種類の複数のインスタンスが含まれます。  

5. 送信ポートは、適切なコンテキスト プロパティをサブスクライブすることで各トランザクション セットを取得します。  

6. 送信パイプラインは、各トランザクション セットを EDI インターチェンジに組み込んだ後、インターチェンジを送信先に送信します。  

   > [!NOTE]
   >  方法の詳細についての[!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)]バッチでのトランザクション セットの分割を参照してください[バッチ EDI インターチェンジを分割](../core/splitting-a-batched-edi-interchange.md)します。  

   次の図に、バッチ化されたインターチェンジでトランザクション セットを分割するように構成した場合の、ソリューションのアーキテクチャとメッセージ フローを示します。  

   ![インターチェンジの EDI バッチを分割](../core/media/ef386df6-e195-45d9-abff-4d0bd3a82a4f.gif "ef386df6-e195-45d9-abff-4d0bd3a82a4f")  

## <a name="how-the-solution-preserves-received-edi-batches"></a>ソリューションにより受信した EDI バッチを保存する方法  
 バッチ化されたインターチェンジを保存するようにソリューションを構成すると、このソリューションは次の動作を実行します。  

1. 受信場所は、パーティからの複数のトランザクション セットを含むバッチ EDI インターチェンジを受信します。  

2. 受信パイプラインは、トランザクション セットを分割せずにインターチェンジを処理し、2 つのトランザクション セットを 1 つの単位として内部 XML 形式に変換します。  

3. 受信パイプラインは、インターチェンジがバッチでなかった場合と同じプロパティを昇格させます。ただし、生成する XML に予約タグを適用する場合を除きます。 このタグは\<X12InterchangeXml\> X12 でエンコードされた EDI インターチェンジまたは\<EdifactInterchangeXml\> EDIFACT でエンコードされた EDI インターチェンジの場合。 EDI 受信パイプラインは、インターチェンジを保存されたインターチェンジとして識別するために、コンテキスト プロパティ `ReuseEnvelope` も適用します。  

   > [!NOTE]
   >  EDI 送信パイプラインを使用して、 \<X12InterchangeXml\>または\<EdifactInterchangeXml\>として保存されたバッチ メッセージを識別するタグ。 `ReuseEnvelope` コンテキスト プロパティにより、保存されたすべてのバッチ化されたインターチェンジをサブスクライブする送信ポートを作成できます。  

4. 受信パイプラインは、メッセージ XML ファイルを MessageBox にドロップします。  

5. 送信ポートは、適切なコンテキスト プロパティでサブスクライブすることでインターチェンジを取得します。  

6. 送信パイプラインは、XML ファイル内の 2 つのトランザクション セットを 1 つのバッチ EDI インターチェンジに組み込んだ後、インターチェンジを送信先に送信します。  

   > [!NOTE]
   >  方法の詳細についての[!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)]保存されたバッチの処理を参照してください[を受信したバッチ EDI インターチェンジを維持し](../core/preserving-a-received-batched-edi-interchange.md)します。  

## <a name="functionality-in-this-solution"></a>このソリューションでの機能  
 このチュートリアルを実行するために、以下の機能を有効にします。  

-   このソリューションは、EDIFACT エンコードではなく X12 エンコードを使用するインターチェンジを対象に設計されています。  

    > [!NOTE]
    >  HIPAA および EDIFACT エンコードに使用される構成は、X12 エンコードに使用される構成によく似ています。  

-   最初に受信したインターチェンジ、または送信されたバッチ インターチェンジへの応答として、技術確認または機能確認は返されません。  

    > [!NOTE]
    >  EDI 受信確認の生成方法の詳細については、次を参照してください。[チュートリアル (X12): EDI インターチェンジの受信と送信、受信確認を返す](../core/walkthrough-x12--receive-edi-interchanges-and-send-back-an-acknowledgement.md)します。  

-   このソリューションでは、一方向受信ポートと静的な一方向送信ポート。 これらのポートは、FILE トランスポートの種類で構成されます。  

-   EDI レポートが有効になります。  

-   インターチェンジの状態レポートに表示するトランザクション セットが保存されます。  

-   テストを実行するために、ソリューションは送信ポートを使用して、分割されたインターチェンジまたは保存されたバッチをローカル フォルダーに送信します。  

## <a name="configuring-and-testing-the-walkthrough"></a>チュートリアルの構成とテスト  
 このソリューションに必要な手順は以下のとおりです。  

- BizTalk プロジェクトに必要なメッセージ スキーマを追加してビルドおよび展開し、メッセージを [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] で処理するときにそのスキーマを利用できるようにします。  

- [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] の受信ポートを作成して、EDI X12 エンコード .txt バッチ入力メッセージをパーティから受信します。  

- [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] 用の送信ポートを作成し、バッチで受信した各トランザクション セットからインターチェンジを作成する (バッチを分割する場合) か、受信バッチ内のトランザクション セットから 1 つのインターチェンジを作成します (バッチを保存する場合)。 次に、送信ポートは送信先パーティに 1 つまたは複数のインターチェンジを送信します。 この送信ポートは、静的な一方向の送信ポートとなります。  

- パーティ A とパーティ B の両方に対してパーティ (取引先) を作成します。  

- 両方の取引先それぞれにビジネス プロファイルを作成します。  

- 分割またはインターチェンジの保存によってメッセージを受信する EDI のプロパティを構成することで、2 つのプロファイル間のアグリーメントを作成します。  

- バッチ EDI インターチェンジを受信場所に関連付けられているローカル フォルダーにドロップします。 次に、[!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] が受信バッチの個別のインターチェンジ (バッチを分割する場合) または保存された 1 つのバッチ インターチェンジ (バッチを保存する場合) を、送信ポートに関連付けられているフォルダーにドロップしたことを確認します。  

  > [!NOTE]
  >  バッチ インターチェンジの送信チュートリアルの手順を実行した場合、そのソリューションの出力をこのソリューションの入力として使用できます。 そのソリューションからの出力は、2 つの 850 メッセージのバッチです。 詳細については、次を参照してください。[チュートリアル (X12): バッチ EDI インターチェンジの送信](../core/walkthrough-x12-sending-batched-edi-interchanges.md)します。  

  ここでは、チュートリアルを構成する手順について説明します。  

##### <a name="to-deploy-the-message-schema"></a>メッセージ スキーマを展開するには  

1. [!INCLUDE[btsVStudioNoVersion](../includes/btsvstudionoversion-md.md)] で、BizTalk プロジェクトを作成するか、開きます。  

   > [!NOTE]
   >  このトピックは、EDI スキーマ、パイプライン、およびオーケストレーションを含む BizTalk EDI アプリケーションに別のアプリケーションから参照を既に追加していることを前提としています。 そうでない場合は、次を参照してください。 [、BizTalk Server EDI アプリケーションへの参照を追加する方法](http://msdn.microsoft.com/library/7af066fb-372f-4709-b566-c8d6b4a9d782)します。  

2. プロジェクトを右クリックし、[**追加**、] をクリックし、**既存項目の**します。 移動**\<ドライブ\>: BizTalk Server 2009\XSD_Schema\EDI\X12\00401 \Program Files\Microsoft**、テスト メッセージに対応するスキーマをダブルクリックします。  

   > [!NOTE]
   >  EDI スキーマは、XSD_SchemaEDI フォルダーに展開されていないが、実行、 **MicrosoftEdiXSDTemplates.exe**スキーマを既定のフォルダーに解凍する XSD_SchemaEDI フォルダー内のファイル。  
   > 
   > [!NOTE]
   >  テスト メッセージには、バッチ インターチェンジの送信チュートリアルでソリューションによって生成されたバッチ インターチェンジを使用できます。 そのソリューションからの出力は、EDI インターフェイス開発チュートリアルに使用した 850 サンプル メッセージの 2 つのインスタンスのバッチです。 これを行う場合であるスキーマ x12_00401_850.xsd located を使用する必要があります[!INCLUDE[btsBiztalkServerPath](../includes/btsbiztalkserverpath-md.md)]SDKEDI インターフェイス開発者 TutorialInbound_EDI します。  

3. アセンブリ キー ファイルを設定し、アセンブリをビルドおよび展開します。  

##### <a name="to-create-a-one-way-receive-port-to-receive-the-batched-edi-messages"></a>一方向の受信ポートを作成してバッチ処理された EDI メッセージを受信するには  

1. [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)]管理コンソールを右クリックし、**受信ポート**ノードの下、 **BizTalk アプリケーション 1**に**新規**をクリックして**一方向受信ポート。**  

2. 受信ポートの名前を指定し、をクリックし、**受信場所**コンソール ツリーでします。  

3. **[新規]** をクリックします。  

4. [受信場所の名前**ファイル**の**型**、] をクリックし、**構成**。  

5. フォルダを**受信フォルダー**、およびマスクを**ファイル マスク**など **\*.txt**します。  

6. **[OK]** をクリックします。  

7. **受信パイプライン**、 **EdiReceive**します。  

8. **[OK]** をクリックします。  

9. コンソール ツリーで、クリックして**受信場所**します。 **受信場所**ウィンドウを右クリックし、受信場所をクリックして**を有効にする**します。  

##### <a name="to-create-a-static-one-way-send-port-to-send-the-batched-edi-interchange"></a>バッチ EDI インターチェンジを送信するための静的な一方向の送信ポートを作成するには  

1. [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)]管理コンソールを右クリックし、**送信ポート**ノードの下、 **BizTalk アプリケーション 1**に**新規**をクリックして**静的な一方向送信ポート。**  

2. **送信ポートのプロパティ**ダイアログ ボックスで、送信ポートの名前。  

3. **トランスポート**セクションで、**ファイル**の**型**、 をクリックし、**構成**します。  

4. フォルダを**先フォルダー**、およびマスクを**ファイル マスク**など **\*.txt**。  

5. **[OK]** をクリックします。  

6. **送信パイプライン**、 **EdiSend**します。  

7. コンソール ツリーで、選択**フィルター**します。 **フィルター**ページで、バッチ内のメッセージにサブスクライブするフィルター式を入力します。 **アグリーメントのプロパティ** ダイアログ ボックスで、**ローカル ホスト設定**ページで、**インターチェンジの設定==セクションで、** メッセージの受信処理オプション**ボックスで、いずれかを選択**インターチェンジの保存 - エラーでインターチェンジを中断**または**インターチェンジの保存 - エラーのトランザクション セットを中断 をクリックOKします。  

8. **[OK]** をクリックします。  

9. コンソール ツリーで、クリックして**送信ポート**します。 **送信ポート**ウィンドウは、送信ポートを右クリックし をクリックし、**開始**します。  

##### <a name="to-create-a-party-and-a-business-profile-for-party-a"></a>パーティ A のパーティおよびビジネス プロファイルを作成するには  

1. 右クリックし、**パーティ**内のノード、[!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)]管理コンソールで、 をポイント**新規**、 をクリックし、**パーティ**します。  

2. パーティの名前を入力、**名前**テキスト ボックス、およびクリック **[ok]** します。  

   > [!NOTE]
   >  選択して、**ローカル BizTalk 受信パーティまたはサポートがこのパーティからメッセージを送信したメッセージを処理**チェック ボックスをオンをホストしている同じ組織のパーティの作成中であること指定できる[!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)]. その指定に基づいて、アグリーメントを作成するときに一部のプロパティが有効または無効になります。 ただし、このチュートリアルでは、このチェック ボックスはオンのままでかまいません。  

3. パーティ名を右クリックし、[**新規**、] をクリックし、**ビジネス プロファイル**します。  

4. をクリックして**ホスト インスタンス**下、**プラットフォームの設定**ノードを右クリックして**BizTalkServerApplication**、順にクリックします**再起動**。  

   > [!NOTE]
   >  パーティを作成すると、プロファイルも作成されます。 新しいプロファイルを作成する代わりに、そのプロファイルの名前を変更して使用できます。 プロファイルの名前を変更するには、プロファイルを右クリックして**プロパティ**します。 **全般** ページで、プロファイルの名前を指定します。  

##### <a name="to-create-a-party-and-a-business-profile-for-party-b"></a>パーティ B のパーティおよびビジネス プロファイルを作成するには  

1. 右クリックし、**パーティ**内のノード、[!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)]管理コンソールで、 をポイント**新規**、 をクリックし、**パーティ**します。  

2. パーティの名前を入力、**名前**テキスト ボックス、およびクリック **[ok]** します。  

   > [!NOTE]
   >  選択して、**ローカル BizTalk 受信パーティまたはサポートがこのパーティからメッセージを送信したメッセージを処理**チェック ボックスをオンをホストしている同じ組織のパーティの作成中であること指定できる[!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)]. その指定に基づいて、アグリーメントを作成するときに一部のプロパティが有効または無効になります。 ただし、このチュートリアルでは、このチェック ボックスはオンのままでかまいません。  

3. パーティ名を右クリックし、[**新規**、] をクリックし、**ビジネス プロファイル**します。  

4. バッチ EDI インターチェンジの分割  

   > [!NOTE]
   >  パーティを作成すると、プロファイルも作成されます。 新しいプロファイルを作成する代わりに、そのプロファイルの名前を変更して使用できます。 プロファイルの名前を変更するには、プロファイルを右クリックして**プロパティ**します。 **全般** ページで、プロファイルの名前を指定します。  

##### <a name="to-create-an-agreement-between-the-two-business-profiles"></a>2 つのビジネス プロファイル間のアグリーメントを作成するには  

1. チュートリアル (X12): バッチ EDI インターチェンジの送信  

2. **全般プロパティ** ページの**名前**テキスト ボックスに、アグリーメントの名前を入力します。  

3. **プロトコル**ドロップダウン リストで、 **X12**します。  

4. チュートリアル (X12): インターチェンジの EDI の受信と受信確認の送信  

5. **2 番目のパートナー**セクションから、**プロファイル**ドロップダウン リストで、 **PartyB_Profile**します。  

    2 つの新しいタブが横に追加の取得と表示されます、**全般**タブ。各タブに 1 つの一方向のアグリーメントを構成するようになっており、一方向の各アグリーメントが 1 つの完全なメッセージ トランザクション (メッセージの送信と受信確認の送信を含む) を表します。  

6. **全般** タブで、**全般プロパティ**ページで、**共通のホスト設定**セクションで、**レポートをオン**、し、選択**メッセージ ペイロードを格納するレポートの**します。  

7. 次のタスクを実行、**されますパーティ b]-> [** タブ。  

   1. **識別子**ページで、**インターチェンジの設定**セクションで、修飾子と識別子のフィールドの値を入力 (**ISA5**、 **ISA6**、 **ISA7**、および**ISA8**) テスト メッセージのヘッダー フィールドの値に対応しています。  

      > [!NOTE]
      >  [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] では、アグリーメントの解決を実行するために、送信者と受信者の修飾子フィールドおよび ID フィールドを必ず指定する必要があります。 値と一致します**ISA5**、 **ISA6**、 **ISA7**、および**ISA8**をアグリーメントのプロパティと、インターチェンジ ヘッダー。 また、[!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] は、送信者の修飾子および識別子を照合して (受信者の修飾子および識別子は不要)、アグリーメントを解決します。 [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] では、アグリーメントを解決できない場合、フォールバック アグリーメントのプロパティが使用されます。  
      > 
      > [!NOTE]
      >  テスト メッセージとして「EDI インターフェイス開発チュートリアル」の SamplePO.txt ファイルを使用する場合は、設定**ISA5**に**ZZ**、 **ISA6**に**THEM**、 **ISA7**に**ZZ**、および**ISA8**に**米国**します。  

   2. **検証**ページで、**インターチェンジの設定**セクションをご確認ください**重複している isa13 を確認**オプションが選択されていません。  

      > [!NOTE]
      >  オフにすると、**重複している isa13 を確認**プロパティでは、同じメッセージの複数のインスタンスを受信することができます。  

   3. **文字セットと区切り記号**ページで、**インターチェンジの設定**セクションで、 **CR LF**オプション。  

   4. **ローカル ホスト設定**ページで、**インターチェンジの設定**セクションで、**受信メッセージ処理オプション**ボックスで、選択、**分割トランザクション セットとしてインターチェンジ - エラーのトランザクション セットを中断**オプション。  

      > [!NOTE]
      >  最初に、このソリューションでは、このオプションを選択してインターチェンジを分割します。 この後の一部として、 [、チュートリアルをテストする](../core/walkthrough-x12-receiving-batched-edi-interchanges.md#BKMK_Proc)次の手順で、インターチェンジを保持するためにソリューションを構成しますが。  

   5. **送信ポート**ページで、**インターチェンジの設定**セクションで、先ほど作成した送信ポートを関連付けます。 **送信ポート**グリッドで、**名前**列、空のセルをクリックしておよびドロップダウン リストから送信ポートを選択します。  

   6. **エンベロープ**ページで、**トランザクション セットの設定**セクションで、グリッドの最初の行のすべての列の値を入力します。  


      |       プロパティ       |                                                                                                                                    目的                                                                                                                                    |
      |----------------------|----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
      |     **[Default]**      |   選択**既定**します。 **注:** の値、既定値としてこの行を選択すると**GS1**、 **GS2**、 **GS3**、 **GS7**、および**GS8**される場合でもの値は、**トランザクションの種類**、**バージョン/リリース**と**ターゲットの名前空間**と一致するメッセージではありません。    |
      | **トランザクションの種類** |                                                                                                     テスト メッセージのメッセージの種類を選択します。 **850 - 注文書**します。                                                                                                      |
      | **バージョン/リリース**  |                                                                                                                        EDI のバージョンを入力**00401**します。                                                                                                                         |
      | **ターゲットの名前空間** |                                                                                                                選択 **<http://schemas.microsoft.com/Edi/X12>** します。                                                                                                                |
      |       **[GS1]**        |                                                                                           テスト メッセージのメッセージの種類が選択されていることを確認**PO - 注文書 (850)** します。                                                                                           |
      |       **[GS2]**        |                                                                                                      たとえば、アプリケーション送信者の値を入力**Purchasing**します。                                                                                                      |
      |       **[GS3]**        |                                                                                                    たとえば、アプリケーションの受信者の値を入力**OrderControl**します。                                                                                                    |
      |       **GS4**        | 日付の形式を選択します。 **注:** あるドロップダウン リストで、値を選択するだけでなく、既定値を表示するフィールドをクリックします。 ドロップダウン リストから値を選択せずにフィールドをクリックしても、値は実際に選択されません。 |
      |       **GS5**        |                                                                                                                      時刻の形式を選択します。                                                                                                                       |
      |       **GS7**        |                                                                                                                選択**X - 正式認可を受けた Standards Committee X12**します。                                                                                                                |
      |       **GS8**        |                                                                                                             EDI のバージョンが入力されていることを確認**00401**します。                                                                                                             |

      > [!NOTE]
      >  [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] GS01、GS02、GS03、GS04、GS05、GS07、および入力した値に基づいて、送信する受信確認の GS08 の値が設定されます**トランザクション タイプ**、**バージョン/リリース**、および**ターゲット名前空間**します。 送信パイプラインは、トランザクション セットの種類、X12 バージョン、およびターゲットの名前空間と、メッセージ ヘッダー内の対応する値との照合を試みます。 成功すると、その値が使用 GS に関連付けられている、**トランザクションの種類**、**バージョン/リリース**、および**ターゲットの名前空間**値。  

8. 次のタスクを実行、**パーティ b されます]-> [** タブ。  

   > [!NOTE]
   >  このチュートリアルでは、必要な値をタブに指定し、アグリーメントを正常に作成できるようにします。 アグリーメントを正常に作成する両方の一方向アグリーメント タブの値に対して定義されている必要があります**ISA5**、 **ISA6**、 **ISA7**、および**ISA8**します。  

   1.  **識別子**ページで、**インターチェンジの設定**セクションで、修飾子と識別子のフィールドの値を入力 (**ISA5**、 **ISA6**、 **ISA7**、および**ISA8**) テスト メッセージのヘッダー フィールドの値に対応しています。  

       > [!NOTE]
       >  テスト メッセージとして「EDI インターフェイス開発チュートリアル」の SamplePO.txt ファイルを使用する場合は、設定**ISA5**に**ZZ**、 **ISA6**に**米国**、 **ISA7**に**ZZ**、および**ISA8**に**THEM**します。  

9. **[適用]** をクリックします。  

10. **[OK]** をクリックします。 新しく追加したアグリーメントが一覧表示、**契約**のセクション、**パーティとビジネス プロファイル**ウィンドウ。 新しく追加したアグリーメントは既定で有効になります。  

### <a name="testing-the-walkthrough"></a>チュートリアルのテスト  
 ここでは、チュートリアルをテストする方法について説明します。  

####  <a name="BKMK_Proc"></a> このチュートリアルをテストするには  

1. Windows エクスプローラーで、受信場所に関連付けられているローカル フォルダーを開き、テスト バッチ EDI インターチェンジをフォルダーにドロップします。  

   > [!NOTE]
   >  テスト メッセージには、バッチ インターチェンジの送信チュートリアルでソリューションによって生成されたバッチ インターチェンジ出力を使用できます。 このサンプル メッセージには、2 つのトランザクション セットが含まれます。  

2. 作成した送信ポートに関連付けられているフォルダーを開きます。 フォルダーに 2 つの新しいファイルが含まれ、各ファイルがテスト バッチ メッセージのトランザクション セットの 1 つを含む 850 インターチェンジであることを確認します。  

3. [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)]管理コンソールで、をクリックして、**パーティ**ノード、先ほど作成したアグリーメントの一部である 2 つのビジネス プロファイルのいずれかをクリックします。 **契約**セクションで、アグリーメントを右クリックし、をクリックして**プロパティ**します。  

4. **アグリーメントのプロパティ** ダイアログ ボックスで、**ローカル ホスト設定**ページで、**インターチェンジの設定**セクションで、**メッセージの受信処理オプション**ボックスで、いずれかを選択**インターチェンジの保存 - エラーでインターチェンジを中断**または**インターチェンジの保存 - エラーのトランザクション セットを中断** をクリック**OK**します。  

5. をクリックして**ホスト インスタンス**下、**プラットフォームの設定**ノードを右クリックして**BizTalkServerApplication**、順にクリックします**再起動**。  

6. Windows エクスプローラーで、受信場所に関連付けられているローカル フォルダーを開き、再度同じテスト バッチ EDI インターチェンジをフォルダーにドロップします。  

7. Windows エクスプローラーで、前に作成した送信ポートに関連付けたフォルダーを開きます。 フォルダーに 1 つの新しいファイルのみが含まれ、そのファイルがテスト バッチ メッセージに存在した 2 つの 850 トランザクション セットを含むインターチェンジであることを確認します。  

## <a name="see-also"></a>参照  
 [開発と BizTalk Server EDI ソリューションの構成](../core/developing-and-configuring-biztalk-server-edi-solutions.md)   
 [バッチ EDI インターチェンジの分割](../core/splitting-a-batched-edi-interchange.md)   
 [HIPAA サブドキュメントの分割](../core/splitting-hipaa-subdocuments.md)   
 [バッチ EDI インターチェンジを受信した保持](../core/preserving-a-received-batched-edi-interchange.md)   
 [チュートリアル (X12): バッチ EDI インターチェンジの送信](../core/walkthrough-x12-sending-batched-edi-interchanges.md)   
 [チュートリアル (X12): インターチェンジの EDI の受信と受信確認の送信](../core/walkthrough-x12--receive-edi-interchanges-and-send-back-an-acknowledgement.md)   
 [チュートリアル (X12): EDI インターチェンジの送信](../core/walkthrough-x12-sending-edi-interchanges.md)