---
title: EDI の種類 (データ要素) の検証 |Microsoft Docs
ms.custom: ''
ms.date: 06/08/2017
ms.prod: biztalk-server
ms.reviewer: ''
ms.suite: ''
ms.tgt_pltfrm: ''
ms.topic: article
ms.assetid: cd53685f-a49c-41c8-813e-29700fc0b62b
caps.latest.revision: 19
author: MandiOhlinger
ms.author: mandia
manager: anneta
ms.openlocfilehash: 22dd511711a8ec2245c1196e5865f574cf47fc08
ms.sourcegitcommit: 381e83d43796a345488d54b3f7413e11d56ad7be
ms.translationtype: MT
ms.contentlocale: ja-JP
ms.lasthandoff: 05/07/2019
ms.locfileid: "65389142"
---
# <a name="edi-type-data-element-validation"></a>EDI の種類 (データ要素) 検証
EDI 受信パイプラインと EDI 送信パイプラインは、トランザクション セット データ要素に対して EDI 検証を実行します。 この検証が上のすべてのメッセージから、またはそのパーティとのアグリーメントのプロパティを通じて、特定のパーティに用に構成された、**検証**ページ (下、**トランザクション セットの設定**x12 のいずれかのセクションまたは EDIFACT アグリーメント) で変更します。 場合、 **EDI 型の検証**でプロパティが選択されていない、**検証**] ページの [データのこのトピックで説明されている検証は実行されません。  
  
 選択する受信と送信メッセージの EDI の種類の検証が有効になっている、 **EDI の種類の検証**プロパティ、**検証**双方向アグリーメントタブのページ**アグリーメントのプロパティ** ダイアログ ボックス。 受信と送信の両方のメッセージの EDI の検証が既定で有効にするため、このプロパティは既定で選択されます。  
  
## <a name="validation-checks"></a>検証チェック  
 EDI 受信パイプラインまたは EDI 送信パイプラインは、EDI 検証を実行します。、検証します。  
  
- スキーマの EDI プロパティで定義されたデータ型  
  
- 長さの制限  
  
- 空のデータ要素と末尾の区切り記号  
  
  > [!NOTE]
  >  この検証では、コードのセット (列挙) または最小値または最大の出現はチェックされません。  
  
  **文字セット**  
  
  EDI データ要素の検証を実行するのには、EDI は受信し、送信パイプラインが文字セットが次のように確立されている必要があります。  
  
- データ要素で、edifact 文字セットが確立されている**UNB1**の**文字セットと区切り記号**の一方向アグリーメント タブのページ、**アグリーメントのプロパティ**ダイアログ ボックスまたは**EDIFACT フォールバックの設定** ダイアログ ボックス (アグリーメントが設定されていない) 場合。  
  
- データ要素で、kedifact 文字が確立されている**UNB1**の**文字セットと区切り記号**の一方向アグリーメント タブのページ、**アグリーメントのプロパティ**ダイアログボックスでは、EDIFACT の場合とします。 値、 **UNB1.1**に要素を設定する必要があります`KECA`します。  
  
- X12 の場合、文字セットが、メッセージのパイプライン プロパティで確立されます。  
  
  > [!NOTE]
  >  X12 を使用は、BizTalk ランタイムでは、メッセージの EDI 検証を実行するときに文字セット、パイプライン プロパティで選択します。 ただし、プロパティの検証がのページで入力、**アグリーメントのプロパティ**設定で選択した文字を使用して、ダイアログ ボックスが実行される、**文字セットと区切り記号**そのダイアログ ボックスのページ。 実行時に、パイプラインは、値を無視の X12 文字セット プロパティ**文字セットと区切り記号**のページ、**アグリーメントのプロパティ** ダイアログ ボックス。 これら 2 つの設定は、同じ場合 (X12 文字セット プロパティなど、**アグリーメントのプロパティ** ダイアログ ボックスに設定されて**拡張**パイプライン プロパティで文字プロパティに設定の X12 の while**基本的な**)、メッセージ検証エラーが発生する可能性があります。  
  
  **データ型の検証**  
  
  X12 の場合、次の EDI データ型はスキーマ検証のための受信または送信パイプラインにおける逆アセンブラーまたはアセンブラー コンポーネントで注釈付き。数値、10 進数、識別子、文字列、日付、時刻、バイナリ、および合成。  
  
  Edifact では、受信または送信パイプラインにおける逆アセンブラーまたはアセンブラー コンポーネントで、次の EDI データ型が検証スキーマで注釈付き。アルファベット、数値、識別子、文字列、および合成。  
  
  **長さの制限**  
  
  X12 と EDIFACT の両方の要素またはサブ要素を長さ (最小および最大) 要件を検証する必要があります。 長さは、使用する文字位置の数として定義されます。 長さは、符号および小数点表記は含まれません。  
  
> [!NOTE]
>  X12_AN の文字列データ型の先頭のスペースが保持され、最小長の要件を満たすために任意のセグメントの末尾のスペースが許可されています。  
  
 Keca では、長さはバイト数として解釈されます。 たとえば、長さが 3 つとして定義される場合要素またはサブ要素含めることができます 3 つの 1 バイト文字または 1 つの 2 バイト文字と 1 つの 1 バイト文字の組み合わせのいずれか。  
  
 **空のデータ要素と末尾の区切り文字の検証**  
  
 X12 の場合、データ要素が必須としてマークされていることはできません空にするインスタンスのセグメントが存在する場合です。 データ要素が複合要素の少なくとも 1 つのコンポーネント データ要素の値を持つ場合があります。  
  
 EDIFACT の場合、値のないと条件付きデータ要素 (およびサブコンポーネント) を除外する可能性があります。ただし、区切り記号が保持されます。  
  
 末尾の区切り記号は、X12 または EDIFACT では、必須ではありませんはお勧めします。  
  
## <a name="when-edi-type-validation-is-disabled"></a>EDI 型の検証が無効になっています  
 EDI 型の検証を無効化する場合は、EDI 受信パイプラインまたは EDI 送信パイプラインは EDI 型の検証処理中のメッセージを中断することがなくチェック エラーが発生したデータ要素を処理します。  
  
> [!NOTE]
>  EDI 型の検証が無効になっている場合でも、EDI 構造検証を実行します。 EDI 型の検証が無効になっている場合でも、基本的な構造検証に失敗したインターチェンジは保留されます。  
  
 中断するメッセージを発生させることがなく処理されるエラーを次に示します。  
  
- 予期しないまたは未定義のトランザクション セット  
  
- セグメント/ループおよびデータ要素レベルでの予期しないまたは未定義のデータ  
  
- Optionality (min と max は発生) セグメント/ループおよびデータ要素レベルで  
  
- データ要素レベル (データまたは最小レベルを下回る長さが最大レベルを超える) の長さ (最小/最大) 違反  
  
- (独自のコントロールが、ID データ型) を除くデータ要素レベルでのデータ型の不一致  
  
- データ要素レベルで無効な列挙リスト。  
  
  EDI 型の検証は、受信側で無効になっていますが、送信側で有効になっている場合、EDI 送信パイプラインは、XML ファイルにエラーが含まれている場合、有効な EDI ファイルに、受信パイプラインで生成される XML を再処理することはできません。 その結果、送信パイプライン エラーが生成されます。  
  
  EDI 型の検証が無効になっている場合、EDI 受信パイプラインまたは送信パイプラインでは、エラーを次のように処理されます。  
  
|||  
|-|-|  
|予期しないデータ|操作|  
|予期しないまたは未定義のトランザクション セット|EDI 受信パイプラインまたは送信パイプラインは、トランザクション セットをそのスキーマが展開されていない場合でも、受け付ける|  
|予期しないセグメントまたはレコード|受信パイプライン、適切なプレフィックスを持つタグが生成されます。\<Unexpectedsegment _ %segmentid%\>します。<br /><br /> 送信パイプラインは、セグメント名として最初の XML タグ名の 1 ~ 3 文字が使用されます。|  
|予期せぬ単純データ要素|受信パイプラインは、プレフィックス、セグメント識別子、セグメント データ要素の位置を表すインデックスと XML タグが生成されます: < unexpecteddataelement _ %fieldname% します。|  
|予期せぬ複合データ要素|受信パイプラインでは、XML を生成します。 プレフィックス、セグメント識別子、セグメント データ要素の位置を表すインデックスとタグ: < unexpectedcompositedataelement _ %fieldname% します。|  
|必要なデータがありません。|パイプラインでは、オプションとして、データを扱います。|  
|データ要素の長さ違反|パイプラインは、有効と無効なデータ要素の長さを扱います (最小 = 0、最大が無制限)。|  
|(ID データ型に適用) のインスタンスに無効な列挙値|パイプラインはエラーを無視し、処理を続行します。|  
|インスタンス内の 'Max' 出現違反|パイプラインでは、このような反復的なデータは有効なとして扱います (最小発生数 = 0、最大出現が = unbounded)。|  
  
 **[エラー報告]**  
  
 EDI 型の検証が入っていないときに[!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)]が、警告は報告のイベント ビューアーでエラーを報告しません。 さらに、受信確認 '許可' に報告ソース パーティ、AK501 および AK901 を X12 では、"E"として設定し、997 または UCI.4、UCM.3、UCF.4 が「7」、EDIFACT CONTRL でします。 その結果、将来の送信で訂正される可能性のある、削除されます。 ただし、メッセージの受信側では、メッセージを拒否または中断ではなく、手動で介入文書を回収する機会があります。 また、 `Edi.ErrorsInTransactionSet` EDI によってこれらのエラーが発生した場合、コンテキスト プロパティを昇格、受信パイプライン。 EDI または拡張検証エラーが発生した場合、このプロパティを"True"として昇格されます。 いない場合は、エラーが発生した、"False"として、プロパティが昇格されます。  
  
 受信または送信パイプラインには、予期しないデータが検出されるが親レベルでエラーを報告し、次のように子レベルのエラーを無視します。  
  
|||  
|-|-|  
|予期しないデータ|操作|  
|予期せぬトランザクション セット|受信確認は、このエラーが報告され、セグメント/ループおよびデータ要素レベルでの後続のエラーを無視します。|  
|予期しないセグメント/ループ|受信確認では、このエラーが報告され、データ要素レベルでのエラーは無視されます。|  
|予期せぬデータ要素|受信確認では、このエラーが報告され、ID、長さ、出現などのようなプロパティに関連する複合エラーは無視されます) と (必要な場合)、複合データ要素のフィールドに関連するエラー。|  
  
## <a name="see-also"></a>参照  
 [EDI メッセージの検証](../core/edi-message-validation.md)   
 [拡張された (BTS-XSD) 検証](../core/extended-bts-xsd-validation.md)