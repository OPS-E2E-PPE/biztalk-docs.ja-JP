---
title: メッセージ ボックス パフォーマンス カウンター |Microsoft ドキュメント
ms.custom: ''
ms.date: 06/08/2017
ms.prod: biztalk-server
ms.reviewer: ''
ms.suite: ''
ms.tgt_pltfrm: ''
ms.topic: article
ms.assetid: 5eafbd7b-f5fc-4942-a975-18154e6a7ee2
caps.latest.revision: 19
author: MandiOhlinger
ms.author: mandia
manager: anneta
ms.openlocfilehash: 584cad0c850b85ef7c920da1611adbdc464d7250
ms.sourcegitcommit: 5abd0ed3f9e4858ffaaec5481bfa8878595e95f7
ms.translationtype: MT
ms.contentlocale: ja-JP
ms.lasthandoff: 11/28/2017
ms.locfileid: "25972784"
---
# <a name="message-box-performance-counters"></a><span data-ttu-id="619b2-102">メッセージ ボックスのパフォーマンス カウンター</span><span class="sxs-lookup"><span data-stu-id="619b2-102">Message Box Performance Counters</span></span>
<span data-ttu-id="619b2-103">パフォーマンス カウンターを使用すると、サービスによってサイトまたはシステムで実行されている作業の具体的な側面を監視できます。</span><span class="sxs-lookup"><span data-stu-id="619b2-103">Performance counters allow you to monitor specific aspects of work performed on the site or system by service.</span></span> <span data-ttu-id="619b2-104">パフォーマンス カウンターは、サーバー パフォーマンスに関する問題を特定してトラブルシューティングする際に役立ちます。</span><span class="sxs-lookup"><span data-stu-id="619b2-104">Performance counters can help you identify and troubleshoot server performance issues.</span></span>  
  
 <span data-ttu-id="619b2-105">次のパフォーマンス カウンターは各ホスト インスタンスにアクセスできる、 **BizTalk:Message Box:general Counters**と**BizTalk:Message Box:host Counters**パフォーマンス オブジェクト カテゴリ:</span><span class="sxs-lookup"><span data-stu-id="619b2-105">The following performance counters are accessible for each host instance under the **BizTalk:Message Box:General Counters** and the **BizTalk:Message Box:Host Counters** performance object categories:</span></span>  
  
> [!NOTE]
>  <span data-ttu-id="619b2-106">SQL エージェント ジョブを参照するカウンターを有効にするには、BizTalk ホスト/NT サービスの実行に使用するサービス アカウントに対し、SQLAgentUserRole ロールを追加する必要があります。</span><span class="sxs-lookup"><span data-stu-id="619b2-106">To enable counters that refer to the SQL Agent job, you must include the role SQLAgentUserRole to the service account used to run the BizTalk host/NT Service.</span></span> <span data-ttu-id="619b2-107">代わりに、他のロールを使ってアクセス許可を付与するか、MSDB データベースの読み取りアクセス許可を明示的に付与してもかまいません。</span><span class="sxs-lookup"><span data-stu-id="619b2-107">Alternatively, you can grant permission using other roles or by granting explicit permission to read the MSDB database.</span></span>  
  
> [!NOTE]
>  <span data-ttu-id="619b2-108">BizTalk Server グループに新しいメッセージ ボックスを追加した場合は、以下に示すカウンターされるまでになりません、新しいメッセージ ボックスに使用できる、構成された**キャッシュ更新**(既定値は 60 を BizTalk Server グループの間隔が経過します秒単位)。</span><span class="sxs-lookup"><span data-stu-id="619b2-108">If you have added a new MessageBox to your BizTalk Server group, the counters listed below will not be available for the new MessageBox until the configured **Cache Refresh** interval for the BizTalk Server group has elapsed (default of 60 seconds).</span></span>  
  
|<span data-ttu-id="619b2-109">カテゴリ</span><span class="sxs-lookup"><span data-stu-id="619b2-109">Category</span></span>|<span data-ttu-id="619b2-110">カウンター</span><span class="sxs-lookup"><span data-stu-id="619b2-110">Counter</span></span>|<span data-ttu-id="619b2-111">Description</span><span class="sxs-lookup"><span data-stu-id="619b2-111">Description</span></span>|  
|--------------|-------------|-----------------|  
|<span data-ttu-id="619b2-112">General Counters</span><span class="sxs-lookup"><span data-stu-id="619b2-112">General Counters</span></span>|<span data-ttu-id="619b2-113">Instances-Total Number</span><span class="sxs-lookup"><span data-stu-id="619b2-113">Instances-Total Number</span></span>|<span data-ttu-id="619b2-114">特定のメッセージ ボックス内に存在するインスタンスの合計数をホストごとに追跡します。</span><span class="sxs-lookup"><span data-stu-id="619b2-114">Tracks the sum of all the instances of each host, which exist within a particular Message Box.</span></span>|  
|<span data-ttu-id="619b2-115">General Counters</span><span class="sxs-lookup"><span data-stu-id="619b2-115">General Counters</span></span>|<span data-ttu-id="619b2-116">MsgBox Dead Processes Cleanup (Purge Jobs)</span><span class="sxs-lookup"><span data-stu-id="619b2-116">MsgBox Dead Processes Cleanup (Purge Jobs)</span></span>|<span data-ttu-id="619b2-117">不要となった BizTalk プロセスに関連付けられたデータベース行を解放する SQL エージェント ジョブが最近実行されたときに要した時間 (秒単位)。</span><span class="sxs-lookup"><span data-stu-id="619b2-117">Time in seconds for most recent run of SQL agent job which releases database rows associated with dead BizTalk processes.</span></span>|  
|<span data-ttu-id="619b2-118">General Counters</span><span class="sxs-lookup"><span data-stu-id="619b2-118">General Counters</span></span>|<span data-ttu-id="619b2-119">MsgBox Msg Cleanup (Purge Jobs)</span><span class="sxs-lookup"><span data-stu-id="619b2-119">MsgBox Msg Cleanup (Purge Jobs)</span></span>|<span data-ttu-id="619b2-120">時間 (秒) に関連付けられているメッセージ ボックス テーブルをクリーンアップする SQL エージェント ジョブの最近の実行は、メッセージを削除します。</span><span class="sxs-lookup"><span data-stu-id="619b2-120">Time in seconds for most recent run of SQL agent job which cleans up message box tables associated with removed messages.</span></span>|  
|<span data-ttu-id="619b2-121">General Counters</span><span class="sxs-lookup"><span data-stu-id="619b2-121">General Counters</span></span>|<span data-ttu-id="619b2-122">MsgBox Parts Cleanup (Purge Jobs)</span><span class="sxs-lookup"><span data-stu-id="619b2-122">MsgBox Parts Cleanup (Purge Jobs)</span></span>|<span data-ttu-id="619b2-123">時間 (秒) に関連付けられているメッセージ ボックス テーブルをクリーンアップ メッセージ部分を削除する SQL エージェント ジョブが最近実行します。</span><span class="sxs-lookup"><span data-stu-id="619b2-123">Time in seconds for most recent run of SQL agent job which clean up message box tables associated with removed message parts.</span></span>|  
|<span data-ttu-id="619b2-124">General Counters</span><span class="sxs-lookup"><span data-stu-id="619b2-124">General Counters</span></span>|<span data-ttu-id="619b2-125">MsgBox Purge Subscriptions Job (Purge Jobs)</span><span class="sxs-lookup"><span data-stu-id="619b2-125">MsgBox Purge Subscriptions Job (Purge Jobs)</span></span>|<span data-ttu-id="619b2-126">使用されなくなったサブスクリプションを削除する SQL エージェント ジョブが最近実行されたときに要した時間 (秒単位)。</span><span class="sxs-lookup"><span data-stu-id="619b2-126">Time in seconds for most recent run of SQL agent job which purges subscriptions which are no longer in use.</span></span>|  
|<span data-ttu-id="619b2-127">General Counters</span><span class="sxs-lookup"><span data-stu-id="619b2-127">General Counters</span></span>|<span data-ttu-id="619b2-128">Spool Size</span><span class="sxs-lookup"><span data-stu-id="619b2-128">Spool Size</span></span>|<span data-ttu-id="619b2-129">特定のサーバーの特定のメッセージ ボックス上のスプール サイズを追跡します。</span><span class="sxs-lookup"><span data-stu-id="619b2-129">Tracks the size of the spool on a particular message box on a particular server.</span></span>|  
|<span data-ttu-id="619b2-130">General Counters</span><span class="sxs-lookup"><span data-stu-id="619b2-130">General Counters</span></span>|<span data-ttu-id="619b2-131">Tracked Msgs Copy (Purge Jobs)</span><span class="sxs-lookup"><span data-stu-id="619b2-131">Tracked Msgs Copy (Purge Jobs)</span></span>|<span data-ttu-id="619b2-132">追跡メッセージの本文をコピーする SQL エージェント ジョブが最近実行されたときに要した時間 (秒単位)。</span><span class="sxs-lookup"><span data-stu-id="619b2-132">Time in seconds for most recent run of SQL agent job which copies tracked message bodies for tracked messages.</span></span>|  
|<span data-ttu-id="619b2-133">General Counters</span><span class="sxs-lookup"><span data-stu-id="619b2-133">General Counters</span></span>|<span data-ttu-id="619b2-134">Tracking data size</span><span class="sxs-lookup"><span data-stu-id="619b2-134">Tracking data size</span></span>|<span data-ttu-id="619b2-135">特定のサーバー上の特定のメッセージ ボックスについて、追跡データ テーブルのサイズを追跡します。</span><span class="sxs-lookup"><span data-stu-id="619b2-135">Tracks the size of the tracking data table on a particular message box on a particular server.</span></span>|  
|<span data-ttu-id="619b2-136">General Counters</span><span class="sxs-lookup"><span data-stu-id="619b2-136">General Counters</span></span>|<span data-ttu-id="619b2-137">Tracking Spool Cleanup (Purge Jobs)</span><span class="sxs-lookup"><span data-stu-id="619b2-137">Tracking Spool Cleanup (Purge Jobs)</span></span>|<span data-ttu-id="619b2-138">非アクティブの追跡スプール テーブルを削除する SQL エージェント ジョブが最近実行されたときに要した時間 (秒単位)。</span><span class="sxs-lookup"><span data-stu-id="619b2-138">Time in seconds for the most recent run of the SQL agent job which purges the inactive tracking spool tables.</span></span>|  
|<span data-ttu-id="619b2-139">ホスト カウンター</span><span class="sxs-lookup"><span data-stu-id="619b2-139">Host Counters</span></span>|<span data-ttu-id="619b2-140">Host Queue - Instance State Msg Refs - Length</span><span class="sxs-lookup"><span data-stu-id="619b2-140">Host Queue - Instance State Msg Refs - Length</span></span>|<span data-ttu-id="619b2-141">この特定のホストについて、インスタンスの状態キューに存在するメッセージの参照数を追跡します。</span><span class="sxs-lookup"><span data-stu-id="619b2-141">Tracks the number of message references in the instance state queue for this particular host.</span></span>|  
|<span data-ttu-id="619b2-142">ホスト カウンター</span><span class="sxs-lookup"><span data-stu-id="619b2-142">Host Counters</span></span>|<span data-ttu-id="619b2-143">Host Queue - Length</span><span class="sxs-lookup"><span data-stu-id="619b2-143">Host Queue - Length</span></span>|<span data-ttu-id="619b2-144">特定のホスト キューに存在するメッセージの総数を追跡します。</span><span class="sxs-lookup"><span data-stu-id="619b2-144">Tracks the total number of messages in the particular host queue.</span></span>|  
|<span data-ttu-id="619b2-145">ホスト カウンター</span><span class="sxs-lookup"><span data-stu-id="619b2-145">Host Counters</span></span>|<span data-ttu-id="619b2-146">Host Queue - Number of Instances</span><span class="sxs-lookup"><span data-stu-id="619b2-146">Host Queue - Number of Instances</span></span>|<span data-ttu-id="619b2-147">この特定のホストのインスタンス数を追跡します。</span><span class="sxs-lookup"><span data-stu-id="619b2-147">Tracks the number of instances of this particular host.</span></span>|  
|<span data-ttu-id="619b2-148">ホスト カウンター</span><span class="sxs-lookup"><span data-stu-id="619b2-148">Host Counters</span></span>|<span data-ttu-id="619b2-149">Host Queue - Suspended Msgs - Length</span><span class="sxs-lookup"><span data-stu-id="619b2-149">Host Queue - Suspended Msgs - Length</span></span>|<span data-ttu-id="619b2-150">特定のホストで保留されているメッセージの総数を追跡します。</span><span class="sxs-lookup"><span data-stu-id="619b2-150">Tracks the total number of suspended messages for the particular host.</span></span>|  
  
## <a name="to-access-performance-counters"></a><span data-ttu-id="619b2-151">パフォーマンス カウンターにアクセスするには</span><span class="sxs-lookup"><span data-stu-id="619b2-151">To access performance counters</span></span>  
 <span data-ttu-id="619b2-152">パフォーマンス カウンターにアクセスするには、次の手順を実行します。</span><span class="sxs-lookup"><span data-stu-id="619b2-152">Use the following steps to access the performance counters.</span></span>  
  
#### <a name="if-you-are-using-windows-2008"></a><span data-ttu-id="619b2-153">Windows 2008 を使用している場合</span><span class="sxs-lookup"><span data-stu-id="619b2-153">If you are using Windows 2008</span></span>  
  
1.  <span data-ttu-id="619b2-154">をクリックして**開始**、 をポイント**管理ツール**、順にクリック**パフォーマンス モニター**です。</span><span class="sxs-lookup"><span data-stu-id="619b2-154">Click **Start**, point to **Administrative Tools**, and then click **Performance Monitor**.</span></span>  
  
2.  <span data-ttu-id="619b2-155">**パフォーマンス モニター** ] ダイアログ ボックスで、展開**の監視ツールを**[**パフォーマンス モニター**、順にクリック**追加**です。</span><span class="sxs-lookup"><span data-stu-id="619b2-155">In the **Performance Monitor** dialog box, expand **Monitoring Tools**, select **Performance Monitor**, and then click **Add**.</span></span>  
  
3.  <span data-ttu-id="619b2-156">**カウンターの追加** ダイアログ ボックスから、**使用可能なカウンター**一覧で、いずれかを選択**BizTalk:Message Box:general Counters**または**biztalk: メッセージ ボックス: ホスト カウンター**です。</span><span class="sxs-lookup"><span data-stu-id="619b2-156">In the **Add Counters** dialog box, from the **Available Counters** list, select either **BizTalk:Message Box:General Counters** or  **BizTalk:Message box:Host Counters**.</span></span> <span data-ttu-id="619b2-157">選択したパフォーマンス カウンター オブジェクトを展開し、監視するカウンターを選択します。</span><span class="sxs-lookup"><span data-stu-id="619b2-157">Expand the selected performance counter object and select the counters to be monitored</span></span>  
  
4.  <span data-ttu-id="619b2-158">**インスタンスの選択したオブジェクト**一覧をクリックして、選択したカウンターを監視する特定のインスタンスを選択**追加**です。</span><span class="sxs-lookup"><span data-stu-id="619b2-158">In the **Instances of Selected object** list, select the specific instances to be monitored for the selected counters and then click **Add**.</span></span>  <span data-ttu-id="619b2-159">使用可能なカウンターのすべてのインスタンスを選択するには、次のように選択します。 \<**すべてのインスタンス**\>です。</span><span class="sxs-lookup"><span data-stu-id="619b2-159">To select all available counter instances, select \<**All instances**\>.</span></span>  
  
5.  <span data-ttu-id="619b2-160">カウンターを追加すると、をクリックして**OK**です。</span><span class="sxs-lookup"><span data-stu-id="619b2-160">After adding the counters, click **OK**.</span></span>  
  
     <span data-ttu-id="619b2-161">選択したパフォーマンス カウンターが表示されます、**パフォーマンス モニター**画面。</span><span class="sxs-lookup"><span data-stu-id="619b2-161">The selected performance counters appear on the **Performance Monitor** screen.</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="619b2-162">参照</span><span class="sxs-lookup"><span data-stu-id="619b2-162">See Also</span></span>  
 <span data-ttu-id="619b2-163">[パフォーマンスのヒントとテクニック](../core/performance-tips-and-tricks.md) </span><span class="sxs-lookup"><span data-stu-id="619b2-163">[Performance Tips and Tricks](../core/performance-tips-and-tricks.md) </span></span>  
 <span data-ttu-id="619b2-164">[維持可能な最大のエンジン スループットの測定](../core/measuring-maximum-sustainable-engine-throughput.md) </span><span class="sxs-lookup"><span data-stu-id="619b2-164">[Measuring Maximum Sustainable Engine Throughput](../core/measuring-maximum-sustainable-engine-throughput.md) </span></span>  
 <span data-ttu-id="619b2-165">[維持可能な最大の追跡スループットの測定](../core/measuring-maximum-sustainable-tracking-throughput.md) </span><span class="sxs-lookup"><span data-stu-id="619b2-165">[Measuring Maximum Sustainable Tracking Throughput](../core/measuring-maximum-sustainable-tracking-throughput.md) </span></span>  
 [<span data-ttu-id="619b2-166">ホスト制限によるリソース使用率の最適化</span><span class="sxs-lookup"><span data-stu-id="619b2-166">Optimizing Resource Usage Through Host Throttling</span></span>](../core/optimizing-resource-usage-through-host-throttling.md)