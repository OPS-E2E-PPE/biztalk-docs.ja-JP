---
title: Wcf-nettcprelay アダプター |Microsoft Docs
ms.custom: ''
ms.date: 06/08/2017
ms.prod: biztalk-server
ms.reviewer: ''
ms.suite: ''
ms.tgt_pltfrm: ''
ms.topic: article
ms.assetid: 7f6c6afc-6aa9-4962-91e6-1fcd92744534
caps.latest.revision: 6
author: MandiOhlinger
ms.author: mandia
manager: anneta
ms.openlocfilehash: 1c8c52c3d0024e9483fb3bfa1a8afc44fe6c6ca8
ms.sourcegitcommit: 381e83d43796a345488d54b3f7413e11d56ad7be
ms.translationtype: MT
ms.contentlocale: ja-JP
ms.lasthandoff: 05/07/2019
ms.locfileid: "65244109"
---
# <a name="wcf-nettcprelay-adapter"></a><span data-ttu-id="35503-102">WCF-NetTcpRelay アダプター</span><span class="sxs-lookup"><span data-stu-id="35503-102">WCF-NetTcpRelay Adapter</span></span>
<span data-ttu-id="35503-103">Microsoft[!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)]を使用して、 **Wcf-nettcprelay**アダプターを介して WCF サービス要求を送受信するため、 [NetTcpRelayBinding クラス](https://msdn.microsoft.com/library/azure/microsoft.servicebus.nettcprelaybinding.aspx)します。</span><span class="sxs-lookup"><span data-stu-id="35503-103">Microsoft [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] uses the **WCF-NetTcpRelay** adapter to receive and send WCF service requests through the [NetTcpRelayBinding class](https://msdn.microsoft.com/library/azure/microsoft.servicebus.nettcprelaybinding.aspx).</span></span>  

<span data-ttu-id="35503-104">このトピックで構成する手順、 **Wcf-nettcprelay**受信場所と送信ポートを使用して、[!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)]管理コンソール。</span><span class="sxs-lookup"><span data-stu-id="35503-104">This topic lists the steps to configure a **WCF-NetTcpRelay** receive location and send port using the [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] Administration Console.</span></span>  

## <a name="before-you-begin"></a><span data-ttu-id="35503-105">アンインストールの準備</span><span class="sxs-lookup"><span data-stu-id="35503-105">Before you begin</span></span>

<span data-ttu-id="35503-106">以降で[!INCLUDE[bts2016_md](../includes/bts2016-md.md)]、このアダプターは Service Bus と Access Control Service (ACS) または athenticate に Shared Access Signature (SAS) を使用できます。</span><span class="sxs-lookup"><span data-stu-id="35503-106">Starting with [!INCLUDE[bts2016_md](../includes/bts2016-md.md)], this adapter can use Access Control Service (ACS) or the Shared Access Signature (SAS) to athenticate with Service Bus.</span></span> <span data-ttu-id="35503-107">Service Bus で認証するときに、Shared Access Signature (SAS) を使用することをお勧めします。</span><span class="sxs-lookup"><span data-stu-id="35503-107">We recommend using the Shared Access Signature (SAS) when authenticating with Service Bus.</span></span> 

<span data-ttu-id="35503-108">Service Bus 名前空間を作成するときに、Access Control (ACS) 名前空間は自動的に作成されません。</span><span class="sxs-lookup"><span data-stu-id="35503-108">When you create a Service Bus namespace, the Access Control (ACS) namespace is not automatically created.</span></span> <span data-ttu-id="35503-109">認証に ACS を使用する場合は、新しい ACS 名前空間を作成する必要があります。</span><span class="sxs-lookup"><span data-stu-id="35503-109">If you use ACS to authenticate, then you may need to create a new ACS namespace.</span></span> <span data-ttu-id="35503-110">参照してください[Sb-messaging アダプター](../core/sb-messaging-adapter.md) ACS キーの値を取得する手順を含む詳細については、します。</span><span class="sxs-lookup"><span data-stu-id="35503-110">See [SB-Messaging adapter](../core/sb-messaging-adapter.md) for more detailed information, including the steps to retrieve the ACS key values.</span></span>

## <a name="create-the-receive-location"></a><span data-ttu-id="35503-111">受信場所を作成します。</span><span class="sxs-lookup"><span data-stu-id="35503-111">Create the receive location</span></span>

> [!NOTE]
>  <span data-ttu-id="35503-112">次の手順を完了する前にする必要がありますに追加しておく、一方向受信ポート。</span><span class="sxs-lookup"><span data-stu-id="35503-112">Before completing the following procedure, you must have already added a one-way receive port.</span></span> <span data-ttu-id="35503-113">参照してください[を作成する方法、受信ポート](../core/how-to-create-a-receive-port.md)します。</span><span class="sxs-lookup"><span data-stu-id="35503-113">See [How to Create a Receive Port](../core/how-to-create-a-receive-port.md).</span></span>  

1. <span data-ttu-id="35503-114">BizTalk 管理コンソールで  **BizTalk Server 管理**、展開**BizTalk グループ**、展開**アプリケーション**アプリケーションを展開します。受信場所を作成します。</span><span class="sxs-lookup"><span data-stu-id="35503-114">In the BizTalk Administration console, expand **BizTalk Server Administration**, expand **BizTalk Group**, expand **Applications**, and then expand the application you want to create a receive location in.</span></span>  

2. <span data-ttu-id="35503-115">BizTalk 管理コンソールの左側のウィンドウで、**[受信ポート]** ノードをクリックします。</span><span class="sxs-lookup"><span data-stu-id="35503-115">In the BizTalk Administration console, in the left pane, click the **Receive Port** node.</span></span> <span data-ttu-id="35503-116">次に右ウィンドウで、既存の受信場所に関連付けられているか、新しい受信場所に関連付ける受信ポートを右クリックし、**[プロパティ]** をクリックします。</span><span class="sxs-lookup"><span data-stu-id="35503-116">Then in the right pane, right-click the receive port that is associated with an existing receive location or that you want to associate with a new receive location, and then click **Properties**.</span></span>  

3. <span data-ttu-id="35503-117">**[受信ポートのプロパティ]** ダイアログ ボックスの左ウィンドウで **[受信場所]** を選択します。次に、右ウィンドウで既存の受信場所をダブルクリックするか、または **[新規作成]** をクリックして、新しい受信場所を作成します。</span><span class="sxs-lookup"><span data-stu-id="35503-117">In the **Receive Port Properties** dialog box, in the left pane, select **Receive Locations**, and then in the right pane, double-click an existing receive location or click **New** to create a new receive location.</span></span>  

4. <span data-ttu-id="35503-118">**[受信場所のプロパティ]** ダイアログ ボックスの **[トランスポート]** セクションで、**[種類]** ドロップダウン リストから **[WCF-NetTcpRelay]** を選択します。次に、**[構成]** をクリックして、受信場所のトランスポートのプロパティを構成します。</span><span class="sxs-lookup"><span data-stu-id="35503-118">In the **Receive Location Properties** dialog box, in the **Transport** section, select **WCF-NetTcpRelay** from the **Type** drop-down list, and then click **Configure** to configure the transport properties for the receive location.</span></span>  

5. <span data-ttu-id="35503-119">**[WCF-NetTcpRelay トランスポートのプロパティ]** ダイアログ ボックスの **[全般]** タブで、WCF-NetTcpRelay 受信場所のエンドポイント アドレスとエンドポイント ID を構成します。</span><span class="sxs-lookup"><span data-stu-id="35503-119">In the **WCF-NetTcpRelay Transport Properties** dialog box, on the **General** tab, configure the endpoint address and the endpoint identity for the WCF-NetTcpRelay receive location.</span></span>  


   |       <span data-ttu-id="35503-120">プロパティ</span><span class="sxs-lookup"><span data-stu-id="35503-120">Use this</span></span>        |                                                                                                                                                                                                                     <span data-ttu-id="35503-121">目的</span><span class="sxs-lookup"><span data-stu-id="35503-121">To do this</span></span>                                                                                                                                                                                                                     |
   |-----------------------|----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
   |   <span data-ttu-id="35503-122">**アドレス (URI)**</span><span class="sxs-lookup"><span data-stu-id="35503-122">**Address (URI)**</span></span>   |                                                                                                                                    <span data-ttu-id="35503-123">必須。</span><span class="sxs-lookup"><span data-stu-id="35503-123">Required.</span></span> <span data-ttu-id="35503-124">この受信場所の完全修飾 URI を指定します。</span><span class="sxs-lookup"><span data-stu-id="35503-124">Specify the fully qualified URI for this receive location.</span></span> <span data-ttu-id="35503-125">通常は次の形式になります。</span><span class="sxs-lookup"><span data-stu-id="35503-125">This will typically be in the following format:</span></span><br /><br /> `sb://<Namespace>.servicebus.windows.net/`                                                                                                                                     |
   | <span data-ttu-id="35503-126">**エンドポイント Id**</span><span class="sxs-lookup"><span data-stu-id="35503-126">**Endpoint Identity**</span></span> | <span data-ttu-id="35503-127">任意。</span><span class="sxs-lookup"><span data-stu-id="35503-127">Optional.</span></span> <span data-ttu-id="35503-128">エンドポイント ID を指定します。</span><span class="sxs-lookup"><span data-stu-id="35503-128">Specify the endpoint identity.</span></span> <span data-ttu-id="35503-129">これらの設定により、エンドポイントはこの受信場所を認証できます。</span><span class="sxs-lookup"><span data-stu-id="35503-129">These settings enable the endpoint to authenticate this receive location.</span></span> <span data-ttu-id="35503-130">エンドポイントと受信場所の間のハンドシェイク プロセスでは、Windows Communication Foundation (WCF) インフラストラクチャによって、この要素の値とエンドポイントの ID が照合されます。</span><span class="sxs-lookup"><span data-stu-id="35503-130">In the handshake process between the endpoint and the receive location, the Windows Communication Foundation (WCF) infrastructure will ensure that the identity of the endpoint matches the values of this element.</span></span><br /><br /> <span data-ttu-id="35503-131">最小長:0</span><span class="sxs-lookup"><span data-stu-id="35503-131">Minimum length: 0</span></span><br /><br /> <span data-ttu-id="35503-132">最大長:32767</span><span class="sxs-lookup"><span data-stu-id="35503-132">Maximum length: 32767</span></span><br /><br /> <span data-ttu-id="35503-133">既定値は空の文字列です。</span><span class="sxs-lookup"><span data-stu-id="35503-133">The default is an empty string.</span></span> |


6. <span data-ttu-id="35503-134">**[WCF-NetTcpRelay トランスポートのプロパティ]** ダイアログ ボックスの **[バインド]** タブで、タイムアウトおよびトランザクションのプロパティを構成します。</span><span class="sxs-lookup"><span data-stu-id="35503-134">In the **WCF-NetTcpRelay Transport Properties** dialog box, on the **Binding** tab, configure the time-out and transaction properties.</span></span>  


   |                 <span data-ttu-id="35503-135">プロパティ</span><span class="sxs-lookup"><span data-stu-id="35503-135">Use this</span></span>                  |                                                                                                                                                                                                                                                                                                                                                                                                                 <span data-ttu-id="35503-136">目的</span><span class="sxs-lookup"><span data-stu-id="35503-136">To do this</span></span>                                                                                                                                                                                                                                                                                                                                                                                                                 |
   |-------------------------------------------|--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
   |        <span data-ttu-id="35503-137">**オープン タイムアウト (hh:mm:ss)**</span><span class="sxs-lookup"><span data-stu-id="35503-137">**Open timeout (hh:mmss)**</span></span>         |                                                                                                                                                                                                                                                                                     <span data-ttu-id="35503-138">チャネルを開く操作が完了するまでの間隔を示す期間値を指定します。</span><span class="sxs-lookup"><span data-stu-id="35503-138">Specify a time span value that indicates the interval of time provided for a channel open operation to complete.</span></span> <span data-ttu-id="35503-139">**System.TimeSpan.Zero**以上の値を指定してください。</span><span class="sxs-lookup"><span data-stu-id="35503-139">This value should be greater than or equal to **System.TimeSpan.Zero**.</span></span><br /><br /> <span data-ttu-id="35503-140">既定値:00:01:00</span><span class="sxs-lookup"><span data-stu-id="35503-140">Default value: 00:01:00</span></span><br /><br /> <span data-ttu-id="35503-141">最大値:23:59:59</span><span class="sxs-lookup"><span data-stu-id="35503-141">Maximum value:  23:59:59</span></span>                                                                                                                                                                                                                                                                                      |
   |        <span data-ttu-id="35503-142">**送信タイムアウト (hh:mm:ss)**</span><span class="sxs-lookup"><span data-stu-id="35503-142">**Send timeout (hh:mmss)**</span></span>         |                                                                                                                                                                                                         <span data-ttu-id="35503-143">送信操作が完了するまでの間隔を示す期間値を指定します。</span><span class="sxs-lookup"><span data-stu-id="35503-143">Specify a time span value that indicates the interval of time provided for a send operation to complete.</span></span> <span data-ttu-id="35503-144">**System.TimeSpan.Zero**以上の値を指定してください。</span><span class="sxs-lookup"><span data-stu-id="35503-144">This value should be greater than or equal to **System.TimeSpan.Zero**.</span></span> <span data-ttu-id="35503-145">要求 - 応答受信ポートを使用する場合、この値は、対話処理がすべて完了するまでの時間を指定します。これは、クライアントが大きなメッセージを返した場合にも適用されます。</span><span class="sxs-lookup"><span data-stu-id="35503-145">If you use a request-response receive port, this value specifies a time span for the whole interaction to complete, even if the client returns a large message.</span></span><br /><br /> <span data-ttu-id="35503-146">既定値:00:01:00</span><span class="sxs-lookup"><span data-stu-id="35503-146">Default value: 00:01:00</span></span><br /><br /> <span data-ttu-id="35503-147">最大値:23:59:59</span><span class="sxs-lookup"><span data-stu-id="35503-147">Maximum value:  23:59:59</span></span>                                                                                                                                                                                                          |
   |        <span data-ttu-id="35503-148">**クローズ タイムアウト (hh:mm:ss)**</span><span class="sxs-lookup"><span data-stu-id="35503-148">**Close timeout (hh:mmss)**</span></span>        |                                                                                                                                                                                                                                                                                     <span data-ttu-id="35503-149">チャネルを閉じる操作が完了するまでの間隔を示す期間値を指定します。</span><span class="sxs-lookup"><span data-stu-id="35503-149">Specify a time span value that indicates the interval of time provided for a channel close operation to complete.</span></span> <span data-ttu-id="35503-150">**System.TimeSpan.Zero**以上の値を指定してください。</span><span class="sxs-lookup"><span data-stu-id="35503-150">This value should be greater than or equal to **System.TimeSpan.Zero**.</span></span><br /><br /> <span data-ttu-id="35503-151">既定値:00:01:00</span><span class="sxs-lookup"><span data-stu-id="35503-151">Default value: 00:01:00</span></span><br /><br /> <span data-ttu-id="35503-152">最大値:23:59:59</span><span class="sxs-lookup"><span data-stu-id="35503-152">Maximum value:  23:59:59</span></span>                                                                                                                                                                                                                                                                                     |
   | <span data-ttu-id="35503-153">**受信したメッセージの最大サイズ (バイト)**</span><span class="sxs-lookup"><span data-stu-id="35503-153">**Maximum received message size (bytes)**</span></span> | <span data-ttu-id="35503-154">有線ネットワーク上で受信できる、ヘッダーを含むメッセージの最大サイズをバイト単位で指定します。</span><span class="sxs-lookup"><span data-stu-id="35503-154">Specify the maximum size, in bytes, for a message including headers, which can be received on the wire.</span></span> <span data-ttu-id="35503-155">メッセージのサイズは、各メッセージに割り当てられているメモリの量に制限されます。</span><span class="sxs-lookup"><span data-stu-id="35503-155">The size of the messages is bounded by the amount of memory allocated for each message.</span></span> <span data-ttu-id="35503-156">このプロパティを使用して、サービス拒否 (DoS) 攻撃にさらされる危険性を制限できます。</span><span class="sxs-lookup"><span data-stu-id="35503-156">You can use this property to limit exposure to denial of service (DoS) attacks.</span></span><br /><br /> <span data-ttu-id="35503-157">WCF-NetTcpRelay アダプターでは、バッファリングされた送信モードで [NetTcpRelayBinding](https://msdn.microsoft.com/library/azure/microsoft.servicebus.nettcprelaybinding.aspx) クラスを活用して、エンドポイントと通信します。</span><span class="sxs-lookup"><span data-stu-id="35503-157">The WCF-NetTcpRelay adapter leverages the [NetTcpRelayBinding](https://msdn.microsoft.com/library/azure/microsoft.servicebus.nettcprelaybinding.aspx) class in the buffered transfer mode to communicate with an endpoint.</span></span> <span data-ttu-id="35503-158">バッファリングされたトランスポート モードでは、 [NetTcpRelayBindingBase.MaxBufferSize](https://msdn.microsoft.com/library/azure/microsoft.servicebus.nettcprelaybindingbase.maxbuffersize.aspx) プロパティは常にこのプロパティの値と等しくなります。</span><span class="sxs-lookup"><span data-stu-id="35503-158">For the buffered transport mode, the [NetTcpRelayBindingBase.MaxBufferSize](https://msdn.microsoft.com/library/azure/microsoft.servicebus.nettcprelaybindingbase.maxbuffersize.aspx) property is always equal to the value of this property.</span></span><br /><br /> <span data-ttu-id="35503-159">既定値:65536</span><span class="sxs-lookup"><span data-stu-id="35503-159">Default value: 65536</span></span><br /><br /> <span data-ttu-id="35503-160">最大値:2147483647</span><span class="sxs-lookup"><span data-stu-id="35503-160">Maximum value: 2147483647</span></span> |
   |       <span data-ttu-id="35503-161">**最大同時呼び出し数**</span><span class="sxs-lookup"><span data-stu-id="35503-161">**Maximum concurrent calls**</span></span>        |                                                                                                                                                                                                                                                                                                          <span data-ttu-id="35503-162">単一のサービス インスタンスに対する同時呼び出しの数を指定します。</span><span class="sxs-lookup"><span data-stu-id="35503-162">Specify the number of concurrent calls to a single service instance.</span></span> <span data-ttu-id="35503-163">制限を超える呼び出しはキューに格納されます。</span><span class="sxs-lookup"><span data-stu-id="35503-163">Calls in excess of the limit are queued.</span></span> <span data-ttu-id="35503-164">この値を 0 に設定することは、 **Int32.MaxValue**に設定するのと同じです。</span><span class="sxs-lookup"><span data-stu-id="35503-164">Setting this value to 0 is equivalent to setting it to **Int32.MaxValue**.</span></span><br /><br /> <span data-ttu-id="35503-165">既定値:200</span><span class="sxs-lookup"><span data-stu-id="35503-165">Default value: 200</span></span>                                                                                                                                                                                                                                                                                                           |


7. <span data-ttu-id="35503-166">**[WCF-NetTcpRelay トランスポートのプロパティ]** ダイアログ ボックスの **[セキュリティ]** タブで、WCF-NetTcpRelay 受信場所のセキュリティ機能を定義します。</span><span class="sxs-lookup"><span data-stu-id="35503-166">In the **WCF-NetTcpRelay Transport Properties** dialog box, on the **Security** tab, define the security capabilities of the WCF-NetTcpRelay receive location.</span></span>  


   |                <span data-ttu-id="35503-167">プロパティ</span><span class="sxs-lookup"><span data-stu-id="35503-167">Use this</span></span>                |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               <span data-ttu-id="35503-168">目的</span><span class="sxs-lookup"><span data-stu-id="35503-168">To do this</span></span>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                |
   |----------------------------------------|-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
   |           <span data-ttu-id="35503-169">**セキュリティ モード**</span><span class="sxs-lookup"><span data-stu-id="35503-169">**Security mode**</span></span>            |                                                                                                                                                                                                                                                                                                <span data-ttu-id="35503-170">使用するセキュリティの種類を指定します。</span><span class="sxs-lookup"><span data-stu-id="35503-170">Specify the type of security that is used.</span></span> <span data-ttu-id="35503-171">有効な値は次のとおりです。</span><span class="sxs-lookup"><span data-stu-id="35503-171">Valid values include the following:</span></span><br /><br /> <span data-ttu-id="35503-172">-                          **None**:メッセージは転送中にセキュリティ保護されません。</span><span class="sxs-lookup"><span data-stu-id="35503-172">-                          **None**: Messages are not secured during transfer.</span></span><br /><br /> <span data-ttu-id="35503-173">- **トランスポート**:使用してトランスポート セキュリティを提供**TLS over TCP**または**SPNego**します。</span><span class="sxs-lookup"><span data-stu-id="35503-173">- **Transport**: Transport security is provided using **TLS over TCP** or **SPNego**.</span></span> <span data-ttu-id="35503-174">このモードでは保護レベルを制御することができます。</span><span class="sxs-lookup"><span data-stu-id="35503-174">It is possible to control the protection level with this mode.</span></span> <span data-ttu-id="35503-175">このセキュリティ モードで、**[トランスポート クライアントの資格情報の種類]** プロパティに対して **[なし]** または **[証明書]** を選択した場合、**[サービス証明書の拇印]** プロパティを使用してこの受信場所に対するサービスの証明書を指定する必要があります。</span><span class="sxs-lookup"><span data-stu-id="35503-175">If you select **None** or **Certificate** for the **Transport client credential type** property in this security mode, you must supply the service certificate for this receive location through the **Service certificate - Thumbprint** property.</span></span><br /><br /> <span data-ttu-id="35503-176">- **メッセージ**:SOAP メッセージ セキュリティを使用してセキュリティが提供されます。</span><span class="sxs-lookup"><span data-stu-id="35503-176">- **Message**: Security is provided using SOAP message security.</span></span> <span data-ttu-id="35503-177">既定では、SOAP **Body** は暗号化および署名されます。</span><span class="sxs-lookup"><span data-stu-id="35503-177">By default, the SOAP **Body** is encrypted and signed.</span></span> <span data-ttu-id="35503-178">このモードでは、サービスの資格情報が帯域外のクライアントで利用できるかどうかの情報や、使用するアルゴリズム スイートなどのさまざまな機能が提供されます。</span><span class="sxs-lookup"><span data-stu-id="35503-178">This mode offers a variety of features, such as whether the service credentials are available at the client out of band, and the algorithm suite to use.</span></span> <span data-ttu-id="35503-179">このセキュリティ モードで、**[メッセージ クライアントの資格情報の種類]** プロパティに対して **[なし]**、**[ユーザー名]**、または **[証明書]** を選択した場合、**[サービス証明書の拇印]** プロパティを使用してこの受信場所に対するサービスの証明書を指定する必要があります。</span><span class="sxs-lookup"><span data-stu-id="35503-179">If you select **None**, **UserName**, or **Certificate** for the **Message client credential type** property in this security mode, you must supply the service certificate for this receive location through the **Service certificate - Thumbprint** property.</span></span><br /><br /> <span data-ttu-id="35503-180">-                          **TransportWithMessageCredential**:トランスポート セキュリティはメッセージ セキュリティと組み合わせて使用します。</span><span class="sxs-lookup"><span data-stu-id="35503-180">-                          **TransportWithMessageCredential**: Transport security is coupled with message security.</span></span> <span data-ttu-id="35503-181">トランスポート セキュリティは、 **TLS over TCP** または **SPNego** によって提供され、整合性、機密性、およびサーバー認証が保証されます。</span><span class="sxs-lookup"><span data-stu-id="35503-181">Transport security is provided by **TLS over TCP** or **SPNego** and ensures integrity, confidentiality, and server authentication.</span></span> <span data-ttu-id="35503-182">このセキュリティ モードで、**[メッセージ クライアントの資格情報の種類]** プロパティに対して **[Windows]**、**[ユーザー名]**、または **[証明書]** を選択した場合、**[サービス証明書の拇印]** プロパティを使用してこの受信場所に対するサービスの証明書を指定する必要があります。</span><span class="sxs-lookup"><span data-stu-id="35503-182">If you select **Windows**, **UserName**, or **Certificate** for the **Message client credential type** property in this security mode, you must supply the service certificate for this receive location through the **Service certificate - Thumbprint** property.</span></span><br /><br /> <span data-ttu-id="35503-183">**注:** このセキュリティ モードでは使用できません、**クライアント資格情報の種類のトランスポート**プロパティ、 **None**します。</span><span class="sxs-lookup"><span data-stu-id="35503-183">**Note:** This security mode cannot be used with the **Transport client credential type** property, **None**.</span></span><br /><br /> <span data-ttu-id="35503-184">既定値は **[トランスポート]** です。</span><span class="sxs-lookup"><span data-stu-id="35503-184">The default is **Transport**.</span></span>                                                                                                                                                                                                                                                                                                 |
   |     <span data-ttu-id="35503-185">**トランスポート保護レベル**</span><span class="sxs-lookup"><span data-stu-id="35503-185">**Transport protection level**</span></span>     |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  <span data-ttu-id="35503-186">TCP トランスポートのレベルでセキュリティを定義します。</span><span class="sxs-lookup"><span data-stu-id="35503-186">Define security at the level of the TCP transport.</span></span> <span data-ttu-id="35503-187">メッセージに署名を付けることで、メッセージの転送中に第三者によって改ざんされるリスクが軽減されます。</span><span class="sxs-lookup"><span data-stu-id="35503-187">Signing messages mitigates the risk of a third party tampering with the message while it is being transferred.</span></span> <span data-ttu-id="35503-188">暗号化によって、トランスポート中にデータ レベルのプライバシーが提供されます。</span><span class="sxs-lookup"><span data-stu-id="35503-188">Encryption provides data-level privacy during transport.</span></span> <span data-ttu-id="35503-189">有効な値は次のとおりです。</span><span class="sxs-lookup"><span data-stu-id="35503-189">Valid values include the following:</span></span><br /><br /> <span data-ttu-id="35503-190">-                          **None**:保護されません。</span><span class="sxs-lookup"><span data-stu-id="35503-190">-                          **None**: No protection.</span></span><br /><br /> <span data-ttu-id="35503-191">- **サインオン**:メッセージは署名されます。</span><span class="sxs-lookup"><span data-stu-id="35503-191">- **Sign**: Messages are signed.</span></span><br /><br /> <span data-ttu-id="35503-192">- **EncryptAndSign**:メッセージは暗号化および署名されます。</span><span class="sxs-lookup"><span data-stu-id="35503-192">- **EncryptAndSign**: Messages are encrypted and signed.</span></span><br /><br /> <span data-ttu-id="35503-193">既定値は **[EncryptAndSign]** です。</span><span class="sxs-lookup"><span data-stu-id="35503-193">The default value is **EncryptAndSign**.</span></span>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  |
   |   <span data-ttu-id="35503-194">**メッセージ クライアント資格情報の種類**</span><span class="sxs-lookup"><span data-stu-id="35503-194">**Message client credential type**</span></span>   |                                                                                                                                                                                                                                 <span data-ttu-id="35503-195">メッセージ ベースのセキュリティを使用してクライアント認証を実行するときに使用する、資格情報の種類を指定します。</span><span class="sxs-lookup"><span data-stu-id="35503-195">Specify the type of credential to be used when performing client authentication using message-based security.</span></span> <span data-ttu-id="35503-196">これは、**[セキュリティ モード]** が **[メッセージ]** または **[TransportWithMessageCredential]** に設定されている場合にのみ必要です。</span><span class="sxs-lookup"><span data-stu-id="35503-196">This is required only if the **Security mode** is set to **Message** or **TransportWithMessageCredential**.</span></span> <span data-ttu-id="35503-197">有効な値は次のとおりです。</span><span class="sxs-lookup"><span data-stu-id="35503-197">Valid values include the following:</span></span><br /><br /> <span data-ttu-id="35503-198">-                          **None**:これにより、匿名クライアントと対話するサービスです。</span><span class="sxs-lookup"><span data-stu-id="35503-198">-                          **None**: This allows the service to interact with anonymous clients.</span></span> <span data-ttu-id="35503-199">これは、このクライアントがクライアントの資格情報を提供しないということを示します。</span><span class="sxs-lookup"><span data-stu-id="35503-199">This indicates that this client does not provide any client credential.</span></span><br /><br /> <span data-ttu-id="35503-200">- **Windows**:Windows 資格情報の認証済みコンテキストの下にある SOAP 交換を許可します。</span><span class="sxs-lookup"><span data-stu-id="35503-200">- **Windows**: Allow the SOAP exchanges to be under the authenticated context of a Windows credential.</span></span> <span data-ttu-id="35503-201">クライアントの資格情報は、 **WSS SOAP Message Security Kerberos Token Profile 1.0** プロトコルを使用して、SOAP **ヘッダー** 要素によって渡されます。</span><span class="sxs-lookup"><span data-stu-id="35503-201">The client credential is passed through the SOAP **Header** element using the **WSS SOAP Message Security Kerberos Token Profile 1.0** protocol.</span></span> <span data-ttu-id="35503-202">クライアントの資格情報に対応するドメイン ユーザー アカウントまたはローカル ユーザー アカウントを作成する必要があります。</span><span class="sxs-lookup"><span data-stu-id="35503-202">You must create the domain or local user accounts corresponding to client credentials.</span></span> <span data-ttu-id="35503-203">また、この受信ハンドラーを実行しているユーザー アカウント名を使用して、クライアントの **userPrincipalName** 要素を構成する必要があります。</span><span class="sxs-lookup"><span data-stu-id="35503-203">In addition, the client's **userPrincipalName** element must be configured with the user account name running this receive handler.</span></span><br /><br /> <span data-ttu-id="35503-204">- **ユーザー名**:このクライアントを認証での受信場所、 **UserName**資格情報。</span><span class="sxs-lookup"><span data-stu-id="35503-204">- **UserName**: Clients are authenticated to this receive location with a **UserName** credential.</span></span> <span data-ttu-id="35503-205">資格情報は、 **WSS SOAP Message Security UsernameToken Profile 1.0** プロトコルを使用して、SOAP **ヘッダー** 要素によって渡されます。</span><span class="sxs-lookup"><span data-stu-id="35503-205">The credential is passed through the SOAP **Header** element using the **WSS SOAP Message Security UsernameToken Profile 1.0** protocol.</span></span> <span data-ttu-id="35503-206">クライアントの資格情報に対応するドメイン ユーザー アカウントまたはローカル ユーザー アカウントを作成する必要があります。</span><span class="sxs-lookup"><span data-stu-id="35503-206">You must create the domain or local user accounts corresponding to client credentials.</span></span><br /><br /> <span data-ttu-id="35503-207">-**証明書**:このクライアントを認証の受信場所で指定されたクライアント証明書を使用して、**サービス証明書の拇印**プロパティ。</span><span class="sxs-lookup"><span data-stu-id="35503-207">-**Certificate**: Clients are authenticated to this receive location using the client certificate specified through the **Service certificate - Thumbprint** property.</span></span> <span data-ttu-id="35503-208">資格情報は、 **WSS SOAP Message Security X509 Token Profile 1.0** プロトコルを使用して、SOAP **ヘッダー** 要素によって渡されます。</span><span class="sxs-lookup"><span data-stu-id="35503-208">The credential is passed through the SOAP **Header** element using the **WSS SOAP Message Security X509 Token Profile 1.0** protocol.</span></span> <span data-ttu-id="35503-209">クライアント証明書を認証するには、このコンピューターの信頼されたルート証明機関の証明書ストアに、クライアント証明書に対する CA 証明書チェーンをインストールする必要があります。</span><span class="sxs-lookup"><span data-stu-id="35503-209">To authenticate the client certificates, the CA certificate chain for the client certificates must be installed in the Trusted Root Certification Authorities certificate store of this computer.</span></span> <span data-ttu-id="35503-210">また、**[サービス証明書の拇印]** プロパティによって、この受信場所に対するサービス証明書を指定する必要があります。</span><span class="sxs-lookup"><span data-stu-id="35503-210">In addition, you must provide the service certificate for this location through the **Service certificate - Thumbprint** property.</span></span><br /><br /> <span data-ttu-id="35503-211">既定値は **[Windows]** です。</span><span class="sxs-lookup"><span data-stu-id="35503-211">The default is **Windows**.</span></span>                                                                                                                                                                                                                                  |
   |          <span data-ttu-id="35503-212">**アルゴリズム スイート**</span><span class="sxs-lookup"><span data-stu-id="35503-212">**Algorithm suite**</span></span>           | <span data-ttu-id="35503-213">メッセージの暗号化とキー ラップのアルゴリズムを指定します。</span><span class="sxs-lookup"><span data-stu-id="35503-213">Specify the message encryption and key-wrap algorithms.</span></span> <span data-ttu-id="35503-214">これらのアルゴリズムは、セキュリティ ポリシー言語 (WS-SecurityPolicy) 仕様で指定されたアルゴリズムにマップされます。</span><span class="sxs-lookup"><span data-stu-id="35503-214">These algorithms map to those specified in the Security Policy Language (WS-SecurityPolicy) specification.</span></span> <span data-ttu-id="35503-215">有効な値は次のとおりです。</span><span class="sxs-lookup"><span data-stu-id="35503-215">Possible values are:</span></span><br /><br /> <span data-ttu-id="35503-216">-                          **Basic128**:キー ラップには、Aes128 暗号化、メッセージ ダイジェストに Sha1、Rsa-oaep-mgf1p を使用します。</span><span class="sxs-lookup"><span data-stu-id="35503-216">-                          **Basic128**: Use Aes128 encryption, Sha1 for message digest, and Rsa-oaep-mgf1p for key wrap.</span></span><br /><br /> <span data-ttu-id="35503-217">-                          **[Basic128rsa15]**:Aes128 を使用して、メッセージの暗号化、メッセージ ダイジェストに Sha1、キー ラップに rsa15 を使用します。</span><span class="sxs-lookup"><span data-stu-id="35503-217">-                          **Basic128Rsa15**: Use Aes128 for message encryption, Sha1 for message digest, and Rsa15 for key wrap.</span></span><br /><br /> <span data-ttu-id="35503-218">-                          **Basic128Sha256**:メッセージの暗号化、メッセージ ダイジェストに Sha256 を Rsa oaep-mgf1p キー ラップには、Aes256 を使用します。</span><span class="sxs-lookup"><span data-stu-id="35503-218">-                          **Basic128Sha256**: Use Aes256 for message encryption, Sha256 for message digest, and Rsa-oaep-mgf1p for key wrap.</span></span><br /><br /> <span data-ttu-id="35503-219">-                          **Basic128Sha256Rsa15**:Aes128 を使用して、メッセージの暗号化、メッセージ ダイジェストに Sha256 をキー ラップに rsa15 を使用します。</span><span class="sxs-lookup"><span data-stu-id="35503-219">-                          **Basic128Sha256Rsa15**: Use Aes128 for message encryption, Sha256 for message digest, and Rsa15 for key wrap.</span></span><br /><br /> <span data-ttu-id="35503-220">- **Basic192**:キー ラップには、Aes192 暗号化、メッセージ ダイジェストに Sha1、Rsa-oaep-mgf1p を使用します。</span><span class="sxs-lookup"><span data-stu-id="35503-220">- **Basic192**: Use Aes192 encryption, Sha1 for message digest, and Rsa-oaep-mgf1p for key wrap.</span></span><br /><br /> <span data-ttu-id="35503-221">- **Basic192Rsa15**:Aes192 を使用して、メッセージの暗号化、メッセージ ダイジェストに Sha1、キー ラップに rsa15 を使用します。</span><span class="sxs-lookup"><span data-stu-id="35503-221">- **Basic192Rsa15**: Use Aes192 for message encryption, Sha1 for message digest, and Rsa15 for key wrap.</span></span><br /><br /> <span data-ttu-id="35503-222">-                          **Basic192Sha256**:メッセージの暗号化、メッセージ ダイジェストに Sha256 を Rsa oaep-mgf1p キー ラップには Aes192 を使用します。</span><span class="sxs-lookup"><span data-stu-id="35503-222">-                          **Basic192Sha256**: Use Aes192 for message encryption, Sha256 for message digest, and Rsa-oaep-mgf1p for key wrap.</span></span><br /><br /> <span data-ttu-id="35503-223">-                          **Basic192Sha256Rsa15**:メッセージの暗号化、メッセージ ダイジェストに Sha256 をキー ラップに rsa15 を使用するには Aes192 を使用します。</span><span class="sxs-lookup"><span data-stu-id="35503-223">-                          **Basic192Sha256Rsa15**: Use Aes192 for message encryption, Sha256 for message digest, and Rsa15 for key wrap.</span></span><br /><br /> <span data-ttu-id="35503-224">- **Basic256**:キー ラップには、Aes256 暗号化、メッセージ ダイジェストに Sha1、Rsa-oaep-mgf1p を使用します。</span><span class="sxs-lookup"><span data-stu-id="35503-224">- **Basic256**: Use Aes256 encryption, Sha1 for message digest, and Rsa-oaep-mgf1p for key wrap.</span></span><br /><br /> <span data-ttu-id="35503-225">-                          **Basic256Rsa15**:Aes256 を使用して、メッセージの暗号化、メッセージ ダイジェストに Sha1、キー ラップに rsa15 を使用します。</span><span class="sxs-lookup"><span data-stu-id="35503-225">-                          **Basic256Rsa15**: Use Aes256 for message encryption, Sha1 for message digest, and Rsa15 for key wrap.</span></span><br /><br /> <span data-ttu-id="35503-226">- **Basic256Sha256**:メッセージの暗号化、メッセージ ダイジェストに Sha256 を Rsa oaep-mgf1p キー ラップには、Aes256 を使用します。</span><span class="sxs-lookup"><span data-stu-id="35503-226">- **Basic256Sha256**: Use Aes256 for message encryption, Sha256 for message digest, and Rsa-oaep-mgf1p for key wrap.</span></span><br /><br /> <span data-ttu-id="35503-227">- **Basic256Sha256Rsa15**:Aes256 を使用して、メッセージの暗号化、メッセージ ダイジェストに Sha256 をキー ラップに rsa15 を使用します。</span><span class="sxs-lookup"><span data-stu-id="35503-227">- **Basic256Sha256Rsa15**: Use Aes256 for message encryption, Sha256 for message digest, and Rsa15 for key wrap.</span></span><br /><br /> <span data-ttu-id="35503-228">- **TripleDes**:TripleDes 暗号化、メッセージ ダイジェスト認証、Rsa oaep-mgf1p キー ラップには Sha1 を使用します。</span><span class="sxs-lookup"><span data-stu-id="35503-228">- **TripleDes**: Use TripleDes encryption, Sha1 for message digest, Rsa-oaep-mgf1p for key wrap.</span></span><br /><br /> <span data-ttu-id="35503-229">-                          **TripleDesRsa15**:TripleDes 暗号化、メッセージ ダイジェストに Sha1、Rsa15 を使用して、キー ラップします。</span><span class="sxs-lookup"><span data-stu-id="35503-229">-                          **TripleDesRsa15**: Use TripleDes encryption, Sha1 for message digest, and Rsa15 for key wrap.</span></span><br /><br /> <span data-ttu-id="35503-230">- **TripleDesSha256**:メッセージの暗号化、メッセージ ダイジェストに Sha256 を Rsa oaep-mgf1p キー ラップには、TripleDes を使用します。</span><span class="sxs-lookup"><span data-stu-id="35503-230">- **TripleDesSha256**: Use TripleDes for message encryption, Sha256 for message digest, and Rsa-oaep-mgf1p for key wrap.</span></span><br /><br /> <span data-ttu-id="35503-231">-                          **TripleDesSha256Rsa15**:TripleDes を使用して、メッセージの暗号化、メッセージ ダイジェストに Sha256 をキー ラップに rsa15 を使用します。</span><span class="sxs-lookup"><span data-stu-id="35503-231">-                          **TripleDesSha256Rsa15**: Use TripleDes for message encryption, Sha256 for message digest, and Rsa15 for key wrap.</span></span><br /><br /> <span data-ttu-id="35503-232">既定値は **[Basic256]** です。</span><span class="sxs-lookup"><span data-stu-id="35503-232">The default value is **Basic256**.</span></span> |
   |  <span data-ttu-id="35503-233">**サービス証明書の拇印**</span><span class="sxs-lookup"><span data-stu-id="35503-233">**Service certificate -Thumbprint**</span></span>   |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              <span data-ttu-id="35503-234">クライアントがサービスの認証に使用する、この受信場所に対する X.509 証明書の拇印を指定します。</span><span class="sxs-lookup"><span data-stu-id="35503-234">Specify the thumbprint of the X.509 certificate for this receive location that the clients use to authenticate the service.</span></span> <span data-ttu-id="35503-235">拇印は、**[参照]** ボタンを使用して **[現在のユーザー]** の場所の **[My]** ストアを参照して選択できます。</span><span class="sxs-lookup"><span data-stu-id="35503-235">The thumbprint can be selected by navigating the **My** store in the **Current User** location with the **Browse** button.</span></span><br /><br /> <span data-ttu-id="35503-236">**注:** サービス証明書をインストールする必要があります、**現在のユーザー**この受信場所をホストする受信ハンドラーのユーザー アカウントの場所。</span><span class="sxs-lookup"><span data-stu-id="35503-236">**Note:** You must install the service certificate into the **Current User** location of the user account for the receive handler hosting this receive location.</span></span><br /><br /> <span data-ttu-id="35503-237">最小長:0</span><span class="sxs-lookup"><span data-stu-id="35503-237">Minimum length: 0</span></span><br /><br /> <span data-ttu-id="35503-238">最大長:40</span><span class="sxs-lookup"><span data-stu-id="35503-238">Maximum length: 40</span></span><br /><br /> <span data-ttu-id="35503-239">既定値は空の文字列です。</span><span class="sxs-lookup"><span data-stu-id="35503-239">The default is an empty string.</span></span>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               |
   |  <span data-ttu-id="35503-240">**リレー クライアントの認証の種類**</span><span class="sxs-lookup"><span data-stu-id="35503-240">**Relay client authentication type**</span></span>  |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <span data-ttu-id="35503-241">メッセージの送信元となる Service Bus リレー エンドポイントでの認証のオプションを指定します。</span><span class="sxs-lookup"><span data-stu-id="35503-241">Specify the option to authenticate with the Service Bus relay endpoint from where the message is received.</span></span> <span data-ttu-id="35503-242">有効な値は次のとおりです。</span><span class="sxs-lookup"><span data-stu-id="35503-242">Valid values include the following:</span></span><br /><br /> <span data-ttu-id="35503-243">-                          **None**:認証は必要ありません。</span><span class="sxs-lookup"><span data-stu-id="35503-243">-                          **None**: No authentication is required.</span></span><br /><br /> <span data-ttu-id="35503-244">-                          **RelayAccessToken**:Service Bus Relay エンドポイントでの認証にセキュリティ トークンを使用するを指定します。</span><span class="sxs-lookup"><span data-stu-id="35503-244">-                          **RelayAccessToken**: Specify this to use a security token to authorize with the Service Bus Relay endpoint.</span></span><br /><br /> <span data-ttu-id="35503-245">既定値は **[RelayAccessToken]** です。</span><span class="sxs-lookup"><span data-stu-id="35503-245">The default value is **RelayAccessToken**.</span></span>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                |
   |      <span data-ttu-id="35503-246">**サービスの検出を有効にします。**</span><span class="sxs-lookup"><span data-stu-id="35503-246">**Enable service discovery**</span></span>      |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              <span data-ttu-id="35503-247">サービスの動作をサービス レジストリに発行するには、このチェック ボックスをオンにします。</span><span class="sxs-lookup"><span data-stu-id="35503-247">Select this check box to specify whether the behavior of the service is published in the Service Registry.</span></span><br /><br /> <span data-ttu-id="35503-248">-                          **表示名**– サービス レジストリにサービスを発行するの名前を指定します。</span><span class="sxs-lookup"><span data-stu-id="35503-248">-                          **Display name** – Specify the name with which the service is published to the Service Registry.</span></span><br /><br /> <span data-ttu-id="35503-249">- **検出モード**– サービス レジストリで発行するサービスの探索モードを設定します。</span><span class="sxs-lookup"><span data-stu-id="35503-249">- **Discovery mode** – Set the discovery mode for the service published in the Service Registry.</span></span> <span data-ttu-id="35503-250">探索モードの詳細については、次を参照してください。 [ https://msdn.microsoft.com/library/microsoft.servicebus.discoverytype.aspx](https://msdn.microsoft.com/library/microsoft.servicebus.discoverytype.aspx)します。</span><span class="sxs-lookup"><span data-stu-id="35503-250">For more information about the discovery modes, see [https://msdn.microsoft.com/library/microsoft.servicebus.discoverytype.aspx](https://msdn.microsoft.com/library/microsoft.servicebus.discoverytype.aspx).</span></span>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              |
   |       <span data-ttu-id="35503-251">**アクセス制御サービス**</span><span class="sxs-lookup"><span data-stu-id="35503-251">**Access control service**</span></span>       |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         <span data-ttu-id="35503-252">適用対象[!INCLUDE[bts2013r2_md](../includes/bts2013r2-md.md)]と[!INCLUDE[btsBizTalkServerNoVersion_md](../includes/btsbiztalkservernoversion-md.md)]2013。</span><span class="sxs-lookup"><span data-stu-id="35503-252">Applies to [!INCLUDE[bts2013r2_md](../includes/bts2013r2-md.md)] and [!INCLUDE[btsBizTalkServerNoVersion_md](../includes/btsbiztalkservernoversion-md.md)] 2013.</span></span><br/><br/><span data-ttu-id="35503-253">**[リレー クライアントの認証の種類]** を **[RelayAccessToken]** に設定した場合は、**[編集]** ボタンをクリックして、以下の詳細を指定してください。</span><span class="sxs-lookup"><span data-stu-id="35503-253">If you set the **Relay client authentication type** to **RelayAccessToken**, click the **Edit** button and specify the following details:</span></span><br /><br /> <span data-ttu-id="35503-254">- **アクセス制御サービス STS Uri** – これを設定`https://<Namespace>-sb.accesscontrol.windows.net/`ここで、\<名前空間\>は、Service Bus 名前空間です。</span><span class="sxs-lookup"><span data-stu-id="35503-254">- **Access Control Service STS Uri** – Set this to `https://<Namespace>-sb.accesscontrol.windows.net/`, where \<namespace\> is your Service Bus namespace.</span></span><br /><br /> <span data-ttu-id="35503-255">- **発行者名**– 発行者名を指定します。</span><span class="sxs-lookup"><span data-stu-id="35503-255">- **Issuer Name** – Specify the issuer name.</span></span> <span data-ttu-id="35503-256">通常は所有者に設定します。</span><span class="sxs-lookup"><span data-stu-id="35503-256">Typically this is set to owner.</span></span><br /><br /> <span data-ttu-id="35503-257">- **発行者キー** – 発行者キーを指定します。</span><span class="sxs-lookup"><span data-stu-id="35503-257">- **Issuer Key** – Specify the issuer key.</span></span><br /><br />                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          |
   | <span data-ttu-id="35503-258">**Service Bus 接続情報**</span><span class="sxs-lookup"><span data-stu-id="35503-258">**Service Bus connection information**</span></span> |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         <span data-ttu-id="35503-259">以降では新しい[!INCLUDE[bts2016_md](../includes/bts2016-md.md)]します。</span><span class="sxs-lookup"><span data-stu-id="35503-259">New starting with [!INCLUDE[bts2016_md](../includes/bts2016-md.md)].</span></span><br/><br/><span data-ttu-id="35503-260">Shared Access Signature (SAS) または Service Bus 名前空間の Access Control Service (ACS) を使用する場合に選択します。</span><span class="sxs-lookup"><span data-stu-id="35503-260">Choose to use the Shared Access Signature (SAS) or Access Control Service (ACS) of the Service Bus namespace.</span></span> <br/><br/><span data-ttu-id="35503-261">オプションを選択し、**編集**キー情報を入力します。</span><span class="sxs-lookup"><span data-stu-id="35503-261">Select an option, and then select **Edit** to enter the key information:</span></span><br/><br/> <span data-ttu-id="35503-262">- **Shared Access Signature** :アクセス キー名、およびアクセス キーを入力します。</span><span class="sxs-lookup"><span data-stu-id="35503-262">- **Shared Access Signature** : Enter the access key name, and the access key.</span></span> <span data-ttu-id="35503-263">両方の値が記載されて、 [Azure portal](https://portal.azure.com)します。</span><span class="sxs-lookup"><span data-stu-id="35503-263">Both values are listed in the [Azure portal](https://portal.azure.com).</span></span><br/> <span data-ttu-id="35503-264">- **Access Control Service** :STS URI を入力します (`https://<yourNamespace>-sb.accesscontrol.windows.net/`)、発行者名、および発行者キー。</span><span class="sxs-lookup"><span data-stu-id="35503-264">- **Access Control Service** : Enter the STS URI (`https://<yourNamespace>-sb.accesscontrol.windows.net/`), Issuer name, and Issuer key.</span></span> <span data-ttu-id="35503-265">」の説明に従って、Windows PowerShell を使用してこれらの値を取得する[Sb-messaging アダプター](../core/sb-messaging-adapter.md)します。</span><span class="sxs-lookup"><span data-stu-id="35503-265">Use Windows PowerShell to retrieve these values, as described in [SB-Messaging adapter](../core/sb-messaging-adapter.md).</span></span>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         |


8. <span data-ttu-id="35503-266">**[WCF-NetTcpRelay トランスポートのプロパティ]** ダイアログ ボックスの **[メッセージ]** タブで、SOAP **Body** 要素のデータ選択を指定します。</span><span class="sxs-lookup"><span data-stu-id="35503-266">In the **WCF-NetTcpRelay Transport Properties** dialog box, on the **Messages** tab, specify the data selection for the SOAP **Body** element.</span></span>  


   |                   <span data-ttu-id="35503-267">プロパティ</span><span class="sxs-lookup"><span data-stu-id="35503-267">Use this</span></span>                    |                                                                                                                                                                                                                                                                                                                                                                <span data-ttu-id="35503-268">目的</span><span class="sxs-lookup"><span data-stu-id="35503-268">To do this</span></span>                                                                                                                                                                                                                                                                                                                                                                |
   |-----------------------------------------------|------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
   |   <span data-ttu-id="35503-269">**Envelope -- entire \<soap:Envelope\>**</span><span class="sxs-lookup"><span data-stu-id="35503-269">**Envelope -- entire \<soap:Envelope\>**</span></span>    |                                                                                                                                                                                                                                                                                                 <span data-ttu-id="35503-270">受信メッセージの SOAP **Envelope** 全体から、BizTalk メッセージのボディ部を作成します。</span><span class="sxs-lookup"><span data-stu-id="35503-270">Create the BizTalk message body part from the entire SOAP **Envelope** of an incoming message.</span></span><br /><br /> <span data-ttu-id="35503-271">既定値はオフです。</span><span class="sxs-lookup"><span data-stu-id="35503-271">The default value is cleared.</span></span>                                                                                                                                                                                                                                                                                                 |
   | <span data-ttu-id="35503-272">**ボディ--内容\<Soap:body\>要素**</span><span class="sxs-lookup"><span data-stu-id="35503-272">**Body -- contents of \<soap:Body\> element**</span></span> |                                                                                                                                                                                                                               <span data-ttu-id="35503-273">受信メッセージの SOAP **Body** 要素の内容を使用して、BizTalk メッセージのボディ部を作成します。</span><span class="sxs-lookup"><span data-stu-id="35503-273">Use the content of the SOAP **Body** element of an incoming message to create the BizTalk message body part.</span></span> <span data-ttu-id="35503-274">**Body** 要素に複数の子要素がある場合は、最初の要素のみが BizTalk メッセージのボディ部になります。</span><span class="sxs-lookup"><span data-stu-id="35503-274">If the **Body** element has more than one child element, only the first element becomes the BizTalk message body part.</span></span><br /><br /> <span data-ttu-id="35503-275">これが既定の設定です。</span><span class="sxs-lookup"><span data-stu-id="35503-275">This is the default setting.</span></span>                                                                                                                                                                                                                               |
   |   <span data-ttu-id="35503-276">**パス--本文のパスでのコンテンツ**</span><span class="sxs-lookup"><span data-stu-id="35503-276">**Path -- content located by body path**</span></span>    |                                                                                                                                                                                                                         <span data-ttu-id="35503-277">**[本文のパス式]** ボックスのボディ パス式を使用して、BizTalk メッセージのボディ部を作成します。</span><span class="sxs-lookup"><span data-stu-id="35503-277">Use the body path expression in the **Body path expression** text box to create the BizTalk message body part.</span></span> <span data-ttu-id="35503-278">ボディ パス式は、受信メッセージの SOAP **Body** 要素のすぐ下の子要素に対して評価されます。</span><span class="sxs-lookup"><span data-stu-id="35503-278">The body path expression is evaluated against the immediate child element of the SOAP **Body** element of an incoming message.</span></span><br /><br /> <span data-ttu-id="35503-279">既定値はオフです。</span><span class="sxs-lookup"><span data-stu-id="35503-279">The default value is cleared.</span></span>                                                                                                                                                                                                                          |
   |           <span data-ttu-id="35503-280">**ボディ パス式**</span><span class="sxs-lookup"><span data-stu-id="35503-280">**Body path expression**</span></span>            |                                                       <span data-ttu-id="35503-281">BizTalk メッセージのボディ部を作成するために使用する受信メッセージの特定の部分を示すボディ パス式を入力します。</span><span class="sxs-lookup"><span data-stu-id="35503-281">Type the body path expression to identify a specific part of an incoming message used to create the BizTalk message body part.</span></span> <span data-ttu-id="35503-282">このボディ パス式は、受信メッセージの SOAP **Body** 要素のすぐ下の子要素に対して評価されます。</span><span class="sxs-lookup"><span data-stu-id="35503-282">This body path expression is evaluated against the immediate child element of the SOAP **Body** element of an incoming message.</span></span> <span data-ttu-id="35503-283">このボディ パス式で複数のノードが返される場合は、最初のノードのみが BizTalk メッセージのボディ部に対して選択されます。</span><span class="sxs-lookup"><span data-stu-id="35503-283">If this body path expression returns more than one node, only the first node is chosen for the BizTalk message body part.</span></span> <span data-ttu-id="35503-284">**[パス -- 本文のパスで見つかったコンテンツ]** オプションが選択されている場合は、このプロパティが必要です。</span><span class="sxs-lookup"><span data-stu-id="35503-284">This property is required if the **Path -- content located by body path** option is selected.</span></span><br /><br /> <span data-ttu-id="35503-285">型:String</span><span class="sxs-lookup"><span data-stu-id="35503-285">Type: String</span></span><br /><br /> <span data-ttu-id="35503-286">最小長:0</span><span class="sxs-lookup"><span data-stu-id="35503-286">Minimum length: 0</span></span><br /><br /> <span data-ttu-id="35503-287">最大長:32767</span><span class="sxs-lookup"><span data-stu-id="35503-287">Maximum length: 32767</span></span><br /><br /> <span data-ttu-id="35503-288">既定値は空の文字列です。</span><span class="sxs-lookup"><span data-stu-id="35503-288">The default is an empty string.</span></span>                                                        |
   |               <span data-ttu-id="35503-289">**ノード エンコード**</span><span class="sxs-lookup"><span data-stu-id="35503-289">**Node encoding**</span></span>               | <span data-ttu-id="35503-290">**[本文のパス式]** ボックスのボディ パス式で識別されるノードに対して、WCF-NetTcpRelay 受信アダプターがデコードに使用するエンコードの種類を指定します。</span><span class="sxs-lookup"><span data-stu-id="35503-290">Specify the type of encoding that the WCF-NetTcpRelay receive adapter uses to decode for the node identified by the body path expression in the **Body path expression** text box.</span></span> <span data-ttu-id="35503-291">**[パス -- 本文のパスで見つかったコンテンツ]** オプションが選択されている場合は、このプロパティが必要です。</span><span class="sxs-lookup"><span data-stu-id="35503-291">This property is required if the **Path -- content located by body path** option is selected.</span></span> <span data-ttu-id="35503-292">有効な値は次のとおりです。</span><span class="sxs-lookup"><span data-stu-id="35503-292">Valid values include the following:</span></span><br /><br /> <span data-ttu-id="35503-293">- **Base64**:Base64 エンコーディングです。</span><span class="sxs-lookup"><span data-stu-id="35503-293">- **Base64**: Base64 encoding.</span></span><br /><br /> <span data-ttu-id="35503-294">- **16 進**:16 進エンコーディング。</span><span class="sxs-lookup"><span data-stu-id="35503-294">- **Hex**: Hexadecimal encoding.</span></span><br /><br /> <span data-ttu-id="35503-295">-                          **文字列**:テキスト エンコーディング - utf-8</span><span class="sxs-lookup"><span data-stu-id="35503-295">-                          **String**: Text encoding - UTF-8</span></span><br /><br /> <span data-ttu-id="35503-296">-                          **XML**:ボディ パス式で選択されたノードの外部の XML で、WCF アダプタが BizTalk メッセージ本文を作成、**本文のパス式**テキスト ボックス。</span><span class="sxs-lookup"><span data-stu-id="35503-296">-                          **XML**: The WCF adapters create the BizTalk message body with the outer XML of the node selected by the body path expression in the **Body path expression** text box.</span></span><br /><br /> <span data-ttu-id="35503-297">既定値は **[XML]** です。</span><span class="sxs-lookup"><span data-stu-id="35503-297">The default is **XML**.</span></span> |
   |   <span data-ttu-id="35503-298">**ボディ--BizTalk 応答メッセージの本文**</span><span class="sxs-lookup"><span data-stu-id="35503-298">**Body -- BizTalk response message body**</span></span>   |                                                                                                                                                                                                                                                    <span data-ttu-id="35503-299">BizTalk メッセージのボディ部を使用して、送信応答メッセージの SOAP **Body** 要素の内容を作成します。</span><span class="sxs-lookup"><span data-stu-id="35503-299">Use the BizTalk message body part to create the content of the SOAP **Body** element of an outgoing response message.</span></span> <span data-ttu-id="35503-300">このプロパティは、要求 - 応答の受信場所に対してのみ有効です。</span><span class="sxs-lookup"><span data-stu-id="35503-300">This property is valid only for request-response receive locations.</span></span><br /><br /> <span data-ttu-id="35503-301">これが既定の設定です。</span><span class="sxs-lookup"><span data-stu-id="35503-301">This is the default setting.</span></span>                                                                                                                                                                                                                                                    |
   | <span data-ttu-id="35503-302">**テンプレート--テンプレートで指定されたコンテンツ**</span><span class="sxs-lookup"><span data-stu-id="35503-302">**Template -- content specified by template**</span></span> |                                                                                                                                                                                                                                               <span data-ttu-id="35503-303">**[XML]** ボックスで指定されているテンプレートを使用して、送信メッセージの SOAP **Body** 要素の内容を作成します。</span><span class="sxs-lookup"><span data-stu-id="35503-303">Use the template supplied in the **XML** text box to create the content of the SOAP **Body** element for an outgoing message.</span></span> <span data-ttu-id="35503-304">このプロパティは、要求 - 応答の受信場所に対してのみ有効です。</span><span class="sxs-lookup"><span data-stu-id="35503-304">This property is valid only for request-response receive locations.</span></span><br /><br /> <span data-ttu-id="35503-305">既定値はオフです。</span><span class="sxs-lookup"><span data-stu-id="35503-305">The default value is cleared.</span></span>                                                                                                                                                                                                                                                |
   |                    <span data-ttu-id="35503-306">**XML**</span><span class="sxs-lookup"><span data-stu-id="35503-306">**XML**</span></span>                    |                                                                                                                         <span data-ttu-id="35503-307">送信メッセージの SOAP **Body** 要素の内容に対する XML 形式のテンプレートを入力します。</span><span class="sxs-lookup"><span data-stu-id="35503-307">Type the XML-formatted template for the content of the SOAP **Body** element of an outgoing message.</span></span> <span data-ttu-id="35503-308">**[ボディ -- BizTalk 応答メッセージ本文]** オプションが選択されている場合は、このプロパティが必要です。</span><span class="sxs-lookup"><span data-stu-id="35503-308">This property is required if the **Template -- BizTalk response message body** option is selected.</span></span> <span data-ttu-id="35503-309">このプロパティは、要求 - 応答の受信場所に対してのみ有効です。</span><span class="sxs-lookup"><span data-stu-id="35503-309">This property is valid only for request-response receive locations.</span></span><br /><br /> <span data-ttu-id="35503-310">型:String</span><span class="sxs-lookup"><span data-stu-id="35503-310">Type: String</span></span><br /><br /> <span data-ttu-id="35503-311">最小長:0</span><span class="sxs-lookup"><span data-stu-id="35503-311">Minimum length: 0</span></span><br /><br /> <span data-ttu-id="35503-312">最大長:32767</span><span class="sxs-lookup"><span data-stu-id="35503-312">Maximum length: 32767</span></span><br /><br /> <span data-ttu-id="35503-313">既定値は **\<bts メッセージの本文の xmlns ="<http://www.microsoft.com/schemas/bts2007>"encoding ="xml"\>** します。</span><span class="sxs-lookup"><span data-stu-id="35503-313">The default is **\<bts-msg-body xmlns="<http://www.microsoft.com/schemas/bts2007>" encoding="xml"\>**.</span></span>                                                                                                                          |
   |    <span data-ttu-id="35503-314">**エラー発生時に要求メッセージを中断します。**</span><span class="sxs-lookup"><span data-stu-id="35503-314">**Suspend request message on failure**</span></span>     |                                                                                                                                                                                                                                                                              <span data-ttu-id="35503-315">受信パイプラインまたはルーティングの障害によって受信処理に失敗した要求メッセージを保留するかどうかを指定します。</span><span class="sxs-lookup"><span data-stu-id="35503-315">Specify whether to suspend the request message that fails inbound processing due to a receive pipeline failure or a routing failure.</span></span><br /><br /> <span data-ttu-id="35503-316">既定値はオフです。</span><span class="sxs-lookup"><span data-stu-id="35503-316">The default value is cleared.</span></span>                                                                                                                                                                                                                                                                              |
   |    <span data-ttu-id="35503-317">**例外の詳細をエラーに含める**</span><span class="sxs-lookup"><span data-stu-id="35503-317">**Include exception detail in faults**</span></span>     |                                                                                                                                                                                                                                                                                                         <span data-ttu-id="35503-318">エラーが発生した場合に、デバッグのために SOAP エラーを返すかどうかを指定します。</span><span class="sxs-lookup"><span data-stu-id="35503-318">Specify whether to return SOAP faults when an error occurs to easy debugging.</span></span><br /><br /> <span data-ttu-id="35503-319">既定値はオフです。</span><span class="sxs-lookup"><span data-stu-id="35503-319">The default value is cleared.</span></span>                                                                                                                                                                                                                                                                                                          |


9. <span data-ttu-id="35503-320">**[OK]** をクリックします。</span><span class="sxs-lookup"><span data-stu-id="35503-320">Click **OK**.</span></span>  

10. <span data-ttu-id="35503-321">**[受信場所のプロパティ]** ダイアログ ボックスで、受信場所を構成するための適切な値を入力し、**[OK]** をクリックして設定を保存します。</span><span class="sxs-lookup"><span data-stu-id="35503-321">Enter the appropriate values in the **Receive Location Properties** dialog box to complete the configuration of the receive location and click **OK** to save settings.</span></span> <span data-ttu-id="35503-322">**[受信場所のプロパティ]** ダイアログ ボックスの詳細については、「 [受信場所を作成する方法](../core/how-to-create-a-receive-location.md)」を参照してください。</span><span class="sxs-lookup"><span data-stu-id="35503-322">For information about the **Receive Locations Properties** dialog box, see [How to Create a Receive Location](../core/how-to-create-a-receive-location.md).</span></span> 

## <a name="create-the-send-port"></a><span data-ttu-id="35503-323">送信ポートを作成します。</span><span class="sxs-lookup"><span data-stu-id="35503-323">Create the send port</span></span>

1. <span data-ttu-id="35503-324">BizTalk 管理コンソールで、新しい送信ポートを作成するか、既存の送信ポートをダブルクリックして変更します。</span><span class="sxs-lookup"><span data-stu-id="35503-324">In the BizTalk Administration console, create a new send port or double-click an existing send port to modify it.</span></span> <span data-ttu-id="35503-325">詳細については、次を参照してください。[送信ポートを作成する方法](../core/how-to-create-a-send-port2.md)します。</span><span class="sxs-lookup"><span data-stu-id="35503-325">For more information, see [How to Create a Send Port](../core/how-to-create-a-send-port2.md).</span></span> <span data-ttu-id="35503-326">すべての送信ポートのオプションを構成し、指定**Wcf-nettcprelay**の**型**オプション、**トランスポート**のセクション、**全般**タブ。</span><span class="sxs-lookup"><span data-stu-id="35503-326">Configure all of the send port options and specify **WCF-NetTcpRelay** for the **Type** option in the **Transport** section of the **General** tab.</span></span>  

2. <span data-ttu-id="35503-327">**全般**] タブで、**トランスポート**セクションで、[、**構成**ボタンをクリックします。</span><span class="sxs-lookup"><span data-stu-id="35503-327">On the **General** tab, in the **Transport** section, click the **Configure** button.</span></span>  

3. <span data-ttu-id="35503-328">**Wcf-nettcprelay トランスポートのプロパティ** ダイアログ ボックスの 、**全般** タブで、次を指定します。</span><span class="sxs-lookup"><span data-stu-id="35503-328">In the **WCF-NetTcpRelay Transport Properties** dialog box, on the **General** tab, specify the following:</span></span>  


   |       <span data-ttu-id="35503-329">プロパティ</span><span class="sxs-lookup"><span data-stu-id="35503-329">Use this</span></span>        |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          <span data-ttu-id="35503-330">目的</span><span class="sxs-lookup"><span data-stu-id="35503-330">To do this</span></span>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          |
   |-----------------------|----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
   |   <span data-ttu-id="35503-331">**アドレス (URI)**</span><span class="sxs-lookup"><span data-stu-id="35503-331">**Address (URI)**</span></span>   |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     <span data-ttu-id="35503-332">必須。</span><span class="sxs-lookup"><span data-stu-id="35503-332">Required.</span></span> <span data-ttu-id="35503-333">送信ポートの完全修飾 URI を指定します。</span><span class="sxs-lookup"><span data-stu-id="35503-333">Specify the fully qualified URI for the send port.</span></span> <span data-ttu-id="35503-334">通常は次の形式になります。</span><span class="sxs-lookup"><span data-stu-id="35503-334">This will typically be in the following format:</span></span><br /><br /> `sb://<Namespace>.servicebus.windows.net/`<br /><br /> <span data-ttu-id="35503-335">最大長:255</span><span class="sxs-lookup"><span data-stu-id="35503-335">Maximum length: 255</span></span><br /><br /> <span data-ttu-id="35503-336">Default value: net.tcp://localhost/</span><span class="sxs-lookup"><span data-stu-id="35503-336">Default value: net.tcp://localhost/</span></span>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      |
   | <span data-ttu-id="35503-337">**エンドポイント Id**</span><span class="sxs-lookup"><span data-stu-id="35503-337">**Endpoint Identity**</span></span> |                                                                                                                                                                                                                                                                                                                                                                                                                                                                            <span data-ttu-id="35503-338">任意。</span><span class="sxs-lookup"><span data-stu-id="35503-338">Optional.</span></span> <span data-ttu-id="35503-339">この送信ポートがメッセージを送信する宛先エンドポイントの ID を指定します。</span><span class="sxs-lookup"><span data-stu-id="35503-339">Specify the identity of the endpoint that this send port sends the message to.</span></span> <span data-ttu-id="35503-340">これらの設定により、この送信ポートでエンドポイントを認証できます。</span><span class="sxs-lookup"><span data-stu-id="35503-340">These settings enable this send port to authenticate the endpoint.</span></span> <span data-ttu-id="35503-341">エンドポイントと送信ポート間のハンドシェイク プロセスでは、Windows Communication Foundation (WCF) インフラストラクチャによって、この要素の値とエンドポイントの ID が照合されます。</span><span class="sxs-lookup"><span data-stu-id="35503-341">In the handshake process between the endpoint and send port, the Windows Communication Foundation (WCF) infrastructure will ensure that the identity of the endpoint matches the values of this element.</span></span> <span data-ttu-id="35503-342">指定できる値、**エンドポイント id**プロパティは、セキュリティの構成によって異なります。</span><span class="sxs-lookup"><span data-stu-id="35503-342">The values that can be specified for the **Endpoint identity** property differ according to the security configuration.</span></span><br /><br /> <span data-ttu-id="35503-343">既定値はオフです。</span><span class="sxs-lookup"><span data-stu-id="35503-343">The default value is cleared.</span></span>                                                                                                                                                                                                                                                                                                                                                                                                                                                                            |
   |      <span data-ttu-id="35503-344">**操作**</span><span class="sxs-lookup"><span data-stu-id="35503-344">**Action**</span></span>       | <span data-ttu-id="35503-345">指定、 **SOAP アクション**送信メッセージのヘッダー フィールド。</span><span class="sxs-lookup"><span data-stu-id="35503-345">Specify the **SOAP Action** header field for outgoing messages.</span></span> <span data-ttu-id="35503-346">このプロパティは、メッセージ コンテキスト プロパティも設定できます**WCF です。アクション**パイプラインまたはオーケストレーションします。</span><span class="sxs-lookup"><span data-stu-id="35503-346">This property can also be set through the message context property **WCF.Action** in a pipeline or orchestration.</span></span> <span data-ttu-id="35503-347">2 つの方法でこの値を指定することができます。 シングル アクション形式とアクション マッピング形式。</span><span class="sxs-lookup"><span data-stu-id="35503-347">You can specify this value in two different ways: the single action format and the action mapping format.</span></span> <span data-ttu-id="35503-348">たとえば、シングル アクション形式にこのプロパティを設定する場合 <http://contoso.com/Svc/Op1-> 、 **SOAPAction**ヘッダーは常に送信メッセージの値に設定、このプロパティで指定します。</span><span class="sxs-lookup"><span data-stu-id="35503-348">If you set this property in the single action format- for example, <http://contoso.com/Svc/Op1-> the **SOAPAction** header for outgoing messages is always set to the value specified in this property.</span></span><br /><br /> <span data-ttu-id="35503-349">送信アクション マッピング形式でこのプロパティを設定する場合**SOAPAction**ヘッダーはによって決定されます、 **BTS します。操作**コンテキスト プロパティ。</span><span class="sxs-lookup"><span data-stu-id="35503-349">If you set this property in the action mapping format, the outgoing **SOAPAction** header is determined by the **BTS.Operation** context property.</span></span> <span data-ttu-id="35503-350">たとえば、次の XML 形式にこのプロパティが設定されている場合、 **BTS します。操作**Op1、WCF 送信アダプターに設定されて`uses http://contoso.com/Svc/Op1`アウトゴーイング**SOAPAction**ヘッダー。</span><span class="sxs-lookup"><span data-stu-id="35503-350">For example, if this property is set to the following XML format and the **BTS.Operation** property is set to Op1, the WCF send adapter `uses http://contoso.com/Svc/Op1` for the outgoing **SOAPAction** header.</span></span><br /><br /> `<BtsActionMapping> <Operation Name="Op1" Action="http://contoso.com/Svc/Op1" /> <Operation Name="Op2" Action="http://contoso.com/Svc/Op2" /> </BtsActionMapping>`<br /><br /> <span data-ttu-id="35503-351">送信メッセージがオーケストレーション ポートに由来する場合、オーケストレーション インスタンスは動的に設定、 **BTS します。操作**ポートの操作の名前を持つプロパティです。</span><span class="sxs-lookup"><span data-stu-id="35503-351">If outgoing messages come from an orchestration port, orchestration instances dynamically set the **BTS.Operation** property with the operation name of the port.</span></span> <span data-ttu-id="35503-352">設定することができますコンテンツ ベースのルーティングでは、送信メッセージがルーティングされている場合、 **BTS します。操作**パイプライン コンポーネントのプロパティ。</span><span class="sxs-lookup"><span data-stu-id="35503-352">If outgoing messages are routed with content-based routing, you can set the **BTS.Operation** property in pipeline components.</span></span><br /><br /> <span data-ttu-id="35503-353">最小長:0</span><span class="sxs-lookup"><span data-stu-id="35503-353">Minimum length: 0</span></span><br /><br /> <span data-ttu-id="35503-354">最大長:32767</span><span class="sxs-lookup"><span data-stu-id="35503-354">Maximum length: 32767</span></span><br /><br /> <span data-ttu-id="35503-355">既定値は空の文字列です。</span><span class="sxs-lookup"><span data-stu-id="35503-355">The default is an empty string.</span></span> |


4. <span data-ttu-id="35503-356">**[WCF-NetTcpRelay トランスポートのプロパティ]** ダイアログ ボックスの **[バインド]** タブで、タイムアウトおよびトランザクションのプロパティを構成します。</span><span class="sxs-lookup"><span data-stu-id="35503-356">In the **WCF-NetTcpRelay Transport Properties** dialog box, on the **Binding** tab, configure the time-out and transaction properties.</span></span>  


   |                 <span data-ttu-id="35503-357">プロパティ</span><span class="sxs-lookup"><span data-stu-id="35503-357">Use this</span></span>                  |                                                                                                                                                                                                                                                                                                                                                                                                                 <span data-ttu-id="35503-358">目的</span><span class="sxs-lookup"><span data-stu-id="35503-358">To do this</span></span>                                                                                                                                                                                                                                                                                                                                                                                                                 |
   |-------------------------------------------|--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
   |        <span data-ttu-id="35503-359">**オープン タイムアウト (hh:mm:ss)**</span><span class="sxs-lookup"><span data-stu-id="35503-359">**Open timeout (hh:mmss)**</span></span>         |                                                                                                                                                                                                                                                                                     <span data-ttu-id="35503-360">チャネルを開く操作が完了するまでの間隔を示す期間値を指定します。</span><span class="sxs-lookup"><span data-stu-id="35503-360">Specify a time span value that indicates the interval of time provided for a channel open operation to complete.</span></span> <span data-ttu-id="35503-361">**System.TimeSpan.Zero**以上の値を指定してください。</span><span class="sxs-lookup"><span data-stu-id="35503-361">This value should be greater than or equal to **System.TimeSpan.Zero**.</span></span><br /><br /> <span data-ttu-id="35503-362">既定値:00:01:00</span><span class="sxs-lookup"><span data-stu-id="35503-362">Default value: 00:01:00</span></span><br /><br /> <span data-ttu-id="35503-363">最大値:23:59:59</span><span class="sxs-lookup"><span data-stu-id="35503-363">Maximum value:  23:59:59</span></span>                                                                                                                                                                                                                                                                                      |
   |        <span data-ttu-id="35503-364">**送信タイムアウト (hh:mm:ss)**</span><span class="sxs-lookup"><span data-stu-id="35503-364">**Send timeout (hh:mmss)**</span></span>         |                                                                                                                                                                                                          <span data-ttu-id="35503-365">送信操作が完了するまでの間隔を示す期間値を指定します。</span><span class="sxs-lookup"><span data-stu-id="35503-365">Specify a time span value that indicates the interval of time provided for a send operation to complete.</span></span> <span data-ttu-id="35503-366">**System.TimeSpan.Zero**以上の値を指定してください。</span><span class="sxs-lookup"><span data-stu-id="35503-366">This value should be greater than or equal to **System.TimeSpan.Zero**.</span></span> <span data-ttu-id="35503-367">送信請求 - 応答の送信ポートを使用する場合は、サービスから大きいメッセージが返される場合でも、この値には対話処理がすべて完了するまでの時間を指定します。</span><span class="sxs-lookup"><span data-stu-id="35503-367">If you use a solicit-response send port, this value specifies a time span for the whole interaction to complete, even if the service returns a large message.</span></span><br /><br /> <span data-ttu-id="35503-368">既定値:00:01:00</span><span class="sxs-lookup"><span data-stu-id="35503-368">Default value: 00:01:00</span></span><br /><br /> <span data-ttu-id="35503-369">最大値:23:59:59</span><span class="sxs-lookup"><span data-stu-id="35503-369">Maximum value:  23:59:59</span></span>                                                                                                                                                                                                           |
   |        <span data-ttu-id="35503-370">**クローズ タイムアウト (hh:mm:ss)**</span><span class="sxs-lookup"><span data-stu-id="35503-370">**Close timeout (hh:mmss)**</span></span>        |                                                                                                                                                                                                                                                                                     <span data-ttu-id="35503-371">チャネルを閉じる操作が完了するまでの間隔を示す期間値を指定します。</span><span class="sxs-lookup"><span data-stu-id="35503-371">Specify a time span value that indicates the interval of time provided for a channel close operation to complete.</span></span> <span data-ttu-id="35503-372">**System.TimeSpan.Zero**以上の値を指定してください。</span><span class="sxs-lookup"><span data-stu-id="35503-372">This value should be greater than or equal to **System.TimeSpan.Zero**.</span></span><br /><br /> <span data-ttu-id="35503-373">既定値:00:01:00</span><span class="sxs-lookup"><span data-stu-id="35503-373">Default value: 00:01:00</span></span><br /><br /> <span data-ttu-id="35503-374">最大値:23:59:59</span><span class="sxs-lookup"><span data-stu-id="35503-374">Maximum value:  23:59:59</span></span>                                                                                                                                                                                                                                                                                     |
   | <span data-ttu-id="35503-375">**受信したメッセージの最大サイズ (バイト)**</span><span class="sxs-lookup"><span data-stu-id="35503-375">**Maximum received message size (bytes)**</span></span> | <span data-ttu-id="35503-376">有線ネットワーク上で受信できる、ヘッダーを含むメッセージの最大サイズをバイト単位で指定します。</span><span class="sxs-lookup"><span data-stu-id="35503-376">Specify the maximum size, in bytes, for a message including headers, which can be received on the wire.</span></span> <span data-ttu-id="35503-377">メッセージのサイズは、各メッセージに割り当てられているメモリの量に制限されます。</span><span class="sxs-lookup"><span data-stu-id="35503-377">The size of the messages is bounded by the amount of memory allocated for each message.</span></span> <span data-ttu-id="35503-378">このプロパティを使用して、サービス拒否 (DoS) 攻撃にさらされる危険性を制限できます。</span><span class="sxs-lookup"><span data-stu-id="35503-378">You can use this property to limit exposure to denial of service (DoS) attacks.</span></span><br /><br /> <span data-ttu-id="35503-379">WCF-NetTcpRelay アダプターでは、バッファリングされた送信モードで [NetTcpRelayBinding](https://msdn.microsoft.com/library/azure/microsoft.servicebus.nettcprelaybinding.aspx) クラスを活用して、エンドポイントと通信します。</span><span class="sxs-lookup"><span data-stu-id="35503-379">The WCF-NetTcpRelay adapter leverages the [NetTcpRelayBinding](https://msdn.microsoft.com/library/azure/microsoft.servicebus.nettcprelaybinding.aspx) class in the buffered transfer mode to communicate with an endpoint.</span></span> <span data-ttu-id="35503-380">バッファリングされたトランスポート モードでは、 [NetTcpRelayBindingBase.MaxBufferSize](https://msdn.microsoft.com/library/azure/microsoft.servicebus.nettcprelaybindingbase.maxbuffersize.aspx) プロパティは常にこのプロパティの値と等しくなります。</span><span class="sxs-lookup"><span data-stu-id="35503-380">For the buffered transport mode, the [NetTcpRelayBindingBase.MaxBufferSize](https://msdn.microsoft.com/library/azure/microsoft.servicebus.nettcprelaybindingbase.maxbuffersize.aspx) property is always equal to the value of this property.</span></span><br /><br /> <span data-ttu-id="35503-381">既定値:65536</span><span class="sxs-lookup"><span data-stu-id="35503-381">Default value: 65536</span></span><br /><br /> <span data-ttu-id="35503-382">最大値:2147483647</span><span class="sxs-lookup"><span data-stu-id="35503-382">Maximum value: 2147483647</span></span> |


5. <span data-ttu-id="35503-383">**Wcf-nettcprelay トランスポートのプロパティ** ダイアログ ボックスで、**セキュリティ** タブで、Wcf-nettcprelay 送信ポートのセキュリティ機能を定義します。</span><span class="sxs-lookup"><span data-stu-id="35503-383">In the **WCF-NetTcpRelay Transport Properties** dialog box, on the **Security** tab, define the security capabilities of the WCF-NetTcpRelay send port.</span></span>  


   |                <span data-ttu-id="35503-384">プロパティ</span><span class="sxs-lookup"><span data-stu-id="35503-384">Use this</span></span>                |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      <span data-ttu-id="35503-385">目的</span><span class="sxs-lookup"><span data-stu-id="35503-385">To do this</span></span>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                       |
   |----------------------------------------|-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
   |           <span data-ttu-id="35503-386">**セキュリティ モード**</span><span class="sxs-lookup"><span data-stu-id="35503-386">**Security mode**</span></span>            |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              <span data-ttu-id="35503-387">使用するセキュリティの種類を指定します。</span><span class="sxs-lookup"><span data-stu-id="35503-387">Specify the type of security that is used.</span></span> <span data-ttu-id="35503-388">有効な値は次のとおりです。</span><span class="sxs-lookup"><span data-stu-id="35503-388">Valid values include the following:</span></span><br /><br /> <span data-ttu-id="35503-389">- **None**:メッセージは転送中にセキュリティ保護されません。</span><span class="sxs-lookup"><span data-stu-id="35503-389">- **None**: Messages are not secured during transfer.</span></span><br /><br /> <span data-ttu-id="35503-390">- **トランスポート**:使用してトランスポート セキュリティを提供**TLS over TCP**または**SPNego**します。</span><span class="sxs-lookup"><span data-stu-id="35503-390">- **Transport**: Transport security is provided using **TLS over TCP** or **SPNego**.</span></span> <span data-ttu-id="35503-391">このモードでは保護レベルを制御することができます。</span><span class="sxs-lookup"><span data-stu-id="35503-391">It is possible to control the protection level with this mode.</span></span><br /><br /> <span data-ttu-id="35503-392">-                          **メッセージ**:SOAP メッセージ セキュリティを使用してセキュリティが提供されます。</span><span class="sxs-lookup"><span data-stu-id="35503-392">-                          **Message**: Security is provided using SOAP message security.</span></span> <span data-ttu-id="35503-393">既定では、SOAP **Body** は暗号化および署名されます。</span><span class="sxs-lookup"><span data-stu-id="35503-393">By default, the SOAP **Body** is encrypted and signed.</span></span> <span data-ttu-id="35503-394">このモードでは、サービスの資格情報が帯域外のクライアントで利用できるかどうかの情報や、使用するアルゴリズム スイートなどのさまざまな機能が提供されます。</span><span class="sxs-lookup"><span data-stu-id="35503-394">This mode offers a variety of features, such as whether the service credentials are available at the client out of band, and the algorithm suite to use.</span></span><br /><br /> <span data-ttu-id="35503-395">- **TransportWithMessageCredential**:トランスポート セキュリティはメッセージ セキュリティと組み合わせて使用します。</span><span class="sxs-lookup"><span data-stu-id="35503-395">- **TransportWithMessageCredential**: Transport security is coupled with message security.</span></span> <span data-ttu-id="35503-396">トランスポート セキュリティがによって提供される**TLS over TCP**、または**SPNego**、により、整合性、機密性、およびサーバー認証とします。</span><span class="sxs-lookup"><span data-stu-id="35503-396">Transport security is provided by **TLS over TCP**, or **SPNego**, and ensures integrity, confidentiality, and server authentication.</span></span> <span data-ttu-id="35503-397">SOAP メッセージのセキュリティはクライアント認証を提供します。</span><span class="sxs-lookup"><span data-stu-id="35503-397">SOAP message security provides client authentication.</span></span> <span data-ttu-id="35503-398">このモードを使用するには、サービスを送信ポートに対して認証できるように、サービスの X.509 証明書の CA 証明書チェーンをこのコンピューターの信頼されたルート証明機関の証明書ストアにインストールする必要があります。</span><span class="sxs-lookup"><span data-stu-id="35503-398">To use this mode, the CA certificate chain for the service's X.509 certificate must be installed in the Trusted Root Certification Authorities certificate store of this computer so that the service can be authenticated to the send port.</span></span><br /><br /> <span data-ttu-id="35503-399">**注:** このセキュリティ モードでは使用できません、**クライアント資格情報の種類のトランスポート**プロパティ、 **None**します。</span><span class="sxs-lookup"><span data-stu-id="35503-399">**Note:** This security mode cannot be used with the **Transport client credential type** property, **None**.</span></span><br /><br /> <span data-ttu-id="35503-400">既定値は **[トランスポート]** です。</span><span class="sxs-lookup"><span data-stu-id="35503-400">The default is **Transport**.</span></span>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              |
   |     <span data-ttu-id="35503-401">**トランスポート保護レベル**</span><span class="sxs-lookup"><span data-stu-id="35503-401">**Transport protection level**</span></span>     |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            <span data-ttu-id="35503-402">TCP トランスポートのレベルでセキュリティを定義します。</span><span class="sxs-lookup"><span data-stu-id="35503-402">Define security at the level of the TCP transport.</span></span> <span data-ttu-id="35503-403">メッセージに署名を付けることで、メッセージの転送中に第三者によって改ざんされるリスクが軽減されます。</span><span class="sxs-lookup"><span data-stu-id="35503-403">Signing messages mitigates the risk of a third party tampering with the message while it is being transferred.</span></span> <span data-ttu-id="35503-404">暗号化によって、トランスポート中にデータ レベルのプライバシーが提供されます。</span><span class="sxs-lookup"><span data-stu-id="35503-404">Encryption provides data-level privacy during transport.</span></span> <span data-ttu-id="35503-405">有効な値は次のとおりです。</span><span class="sxs-lookup"><span data-stu-id="35503-405">Valid values include the following:</span></span><br /><br /> <span data-ttu-id="35503-406">-                          **None**:保護されません。</span><span class="sxs-lookup"><span data-stu-id="35503-406">-                          **None**: No protection.</span></span><br /><br /> <span data-ttu-id="35503-407">- **サインオン**:メッセージは署名されます。</span><span class="sxs-lookup"><span data-stu-id="35503-407">- **Sign**: Messages are signed.</span></span><br /><br /> <span data-ttu-id="35503-408">-                          **EncryptAndSign**:メッセージは暗号化および署名されます。</span><span class="sxs-lookup"><span data-stu-id="35503-408">-                          **EncryptAndSign**: Messages are encrypted and signed.</span></span><br /><br /> <span data-ttu-id="35503-409">既定値は **[EncryptAndSign]** です。</span><span class="sxs-lookup"><span data-stu-id="35503-409">The default value is **EncryptAndSign**.</span></span>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             |
   |   <span data-ttu-id="35503-410">**メッセージ クライアント資格情報の種類**</span><span class="sxs-lookup"><span data-stu-id="35503-410">**Message client credential type**</span></span>   |                               <span data-ttu-id="35503-411">メッセージ ベースのセキュリティを使用してクライアント認証を実行するときに使用する、資格情報の種類を指定します。</span><span class="sxs-lookup"><span data-stu-id="35503-411">Specify the type of credential to be used when performing client authentication using message-based security.</span></span> <span data-ttu-id="35503-412">これは、**[セキュリティ モード]** が **[メッセージ]** または **[TransportWithMessageCredential]** に設定されている場合にのみ必要です。</span><span class="sxs-lookup"><span data-stu-id="35503-412">This is required only if the **Security mode** is set to **Message** or **TransportWithMessageCredential**.</span></span> <span data-ttu-id="35503-413">有効な値は次のとおりです。</span><span class="sxs-lookup"><span data-stu-id="35503-413">Valid values include the following:</span></span><br /><br /> <span data-ttu-id="35503-414">- **None**:これにより、匿名クライアントと対話するサービスです。</span><span class="sxs-lookup"><span data-stu-id="35503-414">- **None**: This allows the service to interact with anonymous clients.</span></span> <span data-ttu-id="35503-415">これは、この送信ポートがクライアントの資格情報を提供しないことを示します。</span><span class="sxs-lookup"><span data-stu-id="35503-415">This indicates that this send port does not provide any client credential.</span></span> <span data-ttu-id="35503-416">送信ポートには、サービスを認証できるように、サービス X.509 証明書の CA 証明書チェーンをこのコンピューターの信頼されたルート証明機関の証明書ストアにインストールする必要があります。</span><span class="sxs-lookup"><span data-stu-id="35503-416">The CA certificate chain for the service X.509 certificate must be installed in the Trusted Root Certification Authorities certificate store of this computer so that the service can be authenticated to the send port.</span></span><br /><br /> <span data-ttu-id="35503-417">-                          **Windows**:Windows 資格情報の認証済みコンテキストの下にある SOAP 交換を許可します。</span><span class="sxs-lookup"><span data-stu-id="35503-417">-                          **Windows**: Allow the SOAP exchanges to be under the authenticated context of a Windows credential.</span></span> <span data-ttu-id="35503-418">この送信ポートを実行するユーザー アカウントは、サービスがこの送信ポートを認証するために使用されます。</span><span class="sxs-lookup"><span data-stu-id="35503-418">The user account under which this send port runs is used for services to authenticate this send port.</span></span> <span data-ttu-id="35503-419">クライアントの資格情報は、 **WSS SOAP Message Security Kerberos Token Profile 1.0** プロトコルを使用して、SOAP **ヘッダー** 要素によって渡されます。</span><span class="sxs-lookup"><span data-stu-id="35503-419">The client credential is passed through the SOAP **Header** element using the **WSS SOAP Message Security Kerberos Token Profile 1.0** protocol.</span></span> <span data-ttu-id="35503-420">構成する必要があります、**ユーザー プリンシパル名**プロパティを使用して転送先サービスを実行しているユーザー アカウント名を**Id エディター**  ダイアログ ボックス。</span><span class="sxs-lookup"><span data-stu-id="35503-420">You must configure the **User principal name** property to the user account name running the destination service by using the **Identity Editor** dialog box.</span></span><br /><br /> <span data-ttu-id="35503-421">- **ユーザー名**:この送信ポートがサービスに認証されて、 **UserName**資格情報。</span><span class="sxs-lookup"><span data-stu-id="35503-421">- **UserName**: This send port is authenticated to services with a **UserName** credential.</span></span> <span data-ttu-id="35503-422">資格情報は、 **WSS SOAP Message Security UsernameToken Profile 1.0** プロトコルを使用して、SOAP **ヘッダー** 要素によって渡されます。</span><span class="sxs-lookup"><span data-stu-id="35503-422">The credential is passed through the SOAP **Header** element using the **WSS SOAP Message Security UsernameToken Profile 1.0** protocol.</span></span> <span data-ttu-id="35503-423">このオプションは、構成する必要があります、**クライアント資格情報**プロパティ。</span><span class="sxs-lookup"><span data-stu-id="35503-423">This option requires configuring the **Client credentials** property.</span></span> <span data-ttu-id="35503-424">送信ポートには、サービスを認証できるように、サービス X.509 証明書の CA 証明書チェーンをこのコンピューターの信頼されたルート証明機関の証明書ストアにインストールする必要があります。</span><span class="sxs-lookup"><span data-stu-id="35503-424">The CA certificate chain for the service X.509 certificate must be installed in the Trusted Root Certification Authorities certificate store of this computer so that the service can be authenticated to the send port.</span></span><br /><br /> <span data-ttu-id="35503-425">- **証明書**:この送信ポートがで指定されたクライアント証明書を使用して、サービスに対して認証、**クライアント証明書の拇印**プロパティ。</span><span class="sxs-lookup"><span data-stu-id="35503-425">- **Certificate**: This send port is authenticated to services using the client certificate specified through the **Client certificate - Thumbprint** property.</span></span> <span data-ttu-id="35503-426">資格情報は、 **WSS SOAP Message Security X509 Token Profile 1.0** プロトコルを使用して、SOAP **ヘッダー** 要素によって渡されます。</span><span class="sxs-lookup"><span data-stu-id="35503-426">The credential is passed through the SOAP **Header** element using the **WSS SOAP Message Security X509 Token Profile 1.0** protocol.</span></span> <span data-ttu-id="35503-427">送信ポートには、サービスを認証できるように、サービス X.509 証明書の CA 証明書チェーンをこのコンピューターの信頼されたルート証明機関の証明書ストアにインストールする必要があります。</span><span class="sxs-lookup"><span data-stu-id="35503-427">The CA certificate chain for the service X.509 certificate must be installed in the Trusted Root Certification Authorities certificate store of this computer so that the service can be authenticated to the send port.</span></span><br /><br /> <span data-ttu-id="35503-428">既定値は **[Windows]** です。</span><span class="sxs-lookup"><span data-stu-id="35503-428">The default is **Windows**.</span></span>                               |
   |          <span data-ttu-id="35503-429">**アルゴリズム スイート**</span><span class="sxs-lookup"><span data-stu-id="35503-429">**Algorithm suite**</span></span>           | <span data-ttu-id="35503-430">メッセージの暗号化とキー ラップのアルゴリズムを指定します。</span><span class="sxs-lookup"><span data-stu-id="35503-430">Specify the message encryption and key-wrap algorithms.</span></span> <span data-ttu-id="35503-431">これらのアルゴリズムは、セキュリティ ポリシー言語 (WS-SecurityPolicy) 仕様で指定されたアルゴリズムにマップされます。</span><span class="sxs-lookup"><span data-stu-id="35503-431">These algorithms map to those specified in the Security Policy Language (WS-SecurityPolicy) specification.</span></span> <span data-ttu-id="35503-432">有効な値は次のとおりです。</span><span class="sxs-lookup"><span data-stu-id="35503-432">Possible values are:</span></span><br /><br /> <span data-ttu-id="35503-433">- **Basic128**:キー ラップには、Aes128 暗号化、メッセージ ダイジェストに Sha1、Rsa-oaep-mgf1p を使用します。</span><span class="sxs-lookup"><span data-stu-id="35503-433">- **Basic128**: Use Aes128 encryption, Sha1 for message digest, and Rsa-oaep-mgf1p for key wrap.</span></span><br /><br /> <span data-ttu-id="35503-434">- **[Basic128rsa15]**:Aes128 を使用して、メッセージの暗号化、メッセージ ダイジェストに Sha1、キー ラップに rsa15 を使用します。</span><span class="sxs-lookup"><span data-stu-id="35503-434">- **Basic128Rsa15**: Use Aes128 for message encryption, Sha1 for message digest, and Rsa15 for key wrap.</span></span><br /><br /> <span data-ttu-id="35503-435">-                          **Basic128Sha256**:メッセージの暗号化、メッセージ ダイジェストに Sha256 を Rsa oaep-mgf1p キー ラップには、Aes256 を使用します。</span><span class="sxs-lookup"><span data-stu-id="35503-435">-                          **Basic128Sha256**: Use Aes256 for message encryption, Sha256 for message digest, and Rsa-oaep-mgf1p for key wrap.</span></span><br /><br /> <span data-ttu-id="35503-436">-                          **Basic128Sha256Rsa15**:Aes128 を使用して、メッセージの暗号化、メッセージ ダイジェストに Sha256 をキー ラップに rsa15 を使用します。</span><span class="sxs-lookup"><span data-stu-id="35503-436">-                          **Basic128Sha256Rsa15**: Use Aes128 for message encryption, Sha256 for message digest, and Rsa15 for key wrap.</span></span><br /><br /> <span data-ttu-id="35503-437">- **Basic192**:キー ラップには、Aes192 暗号化、メッセージ ダイジェストに Sha1、Rsa-oaep-mgf1p を使用します。</span><span class="sxs-lookup"><span data-stu-id="35503-437">- **Basic192**: Use Aes192 encryption, Sha1 for message digest, and Rsa-oaep-mgf1p for key wrap.</span></span><br /><br /> <span data-ttu-id="35503-438">-                          **Basic192Rsa15**:Aes192 を使用して、メッセージの暗号化、メッセージ ダイジェストに Sha1、キー ラップに rsa15 を使用します。</span><span class="sxs-lookup"><span data-stu-id="35503-438">-                          **Basic192Rsa15**: Use Aes192 for message encryption, Sha1 for message digest, and Rsa15 for key wrap.</span></span><br /><br /> <span data-ttu-id="35503-439">- **Basic192Sha256**:メッセージの暗号化、メッセージ ダイジェストに Sha256 を Rsa oaep-mgf1p キー ラップには Aes192 を使用します。</span><span class="sxs-lookup"><span data-stu-id="35503-439">- **Basic192Sha256**: Use Aes192 for message encryption, Sha256 for message digest, and Rsa-oaep-mgf1p for key wrap.</span></span><br /><br /> <span data-ttu-id="35503-440">-                          **Basic192Sha256Rsa15**:メッセージの暗号化、メッセージ ダイジェストに Sha256 をキー ラップに rsa15 を使用するには Aes192 を使用します。</span><span class="sxs-lookup"><span data-stu-id="35503-440">-                          **Basic192Sha256Rsa15**: Use Aes192 for message encryption, Sha256 for message digest, and Rsa15 for key wrap.</span></span><br /><br /> <span data-ttu-id="35503-441">-                          **Basic256**:キー ラップには、Aes256 暗号化、メッセージ ダイジェストに Sha1、Rsa-oaep-mgf1p を使用します。</span><span class="sxs-lookup"><span data-stu-id="35503-441">-                          **Basic256**: Use Aes256 encryption, Sha1 for message digest, and Rsa-oaep-mgf1p for key wrap.</span></span><br /><br /> <span data-ttu-id="35503-442">- **Basic256Rsa15**:Aes256 を使用して、メッセージの暗号化、メッセージ ダイジェストに Sha1、キー ラップに rsa15 を使用します。</span><span class="sxs-lookup"><span data-stu-id="35503-442">- **Basic256Rsa15**: Use Aes256 for message encryption, Sha1 for message digest, and Rsa15 for key wrap.</span></span><br /><br /> <span data-ttu-id="35503-443">- **Basic256Sha256**:メッセージの暗号化、メッセージ ダイジェストに Sha256 を Rsa oaep-mgf1p キー ラップには、Aes256 を使用します。</span><span class="sxs-lookup"><span data-stu-id="35503-443">- **Basic256Sha256**: Use Aes256 for message encryption, Sha256 for message digest, and Rsa-oaep-mgf1p for key wrap.</span></span><br /><br /> <span data-ttu-id="35503-444">- **Basic256Sha256Rsa15**:Aes256 を使用して、メッセージの暗号化、メッセージ ダイジェストに Sha256 をキー ラップに rsa15 を使用します。</span><span class="sxs-lookup"><span data-stu-id="35503-444">- **Basic256Sha256Rsa15**: Use Aes256 for message encryption, Sha256 for message digest, and Rsa15 for key wrap.</span></span><br /><br /> <span data-ttu-id="35503-445">-                          **TripleDes**:TripleDes 暗号化、メッセージ ダイジェスト認証、Rsa oaep-mgf1p キー ラップには Sha1 を使用します。</span><span class="sxs-lookup"><span data-stu-id="35503-445">-                          **TripleDes**: Use TripleDes encryption, Sha1 for message digest, Rsa-oaep-mgf1p for key wrap.</span></span><br /><br /> <span data-ttu-id="35503-446">- **TripleDesRsa15**:TripleDes 暗号化、メッセージ ダイジェストに Sha1、Rsa15 を使用して、キー ラップします。</span><span class="sxs-lookup"><span data-stu-id="35503-446">- **TripleDesRsa15**: Use TripleDes encryption, Sha1 for message digest, and Rsa15 for key wrap.</span></span><br /><br /> <span data-ttu-id="35503-447">- **TripleDesSha256**:メッセージの暗号化、メッセージ ダイジェストに Sha256 を Rsa oaep-mgf1p キー ラップには、TripleDes を使用します。</span><span class="sxs-lookup"><span data-stu-id="35503-447">- **TripleDesSha256**: Use TripleDes for message encryption, Sha256 for message digest, and Rsa-oaep-mgf1p for key wrap.</span></span><br /><br /> <span data-ttu-id="35503-448">-                          **TripleDesSha256Rsa15**:TripleDes を使用して、メッセージの暗号化、メッセージ ダイジェストに Sha256 をキー ラップに rsa15 を使用します。</span><span class="sxs-lookup"><span data-stu-id="35503-448">-                          **TripleDesSha256Rsa15**: Use TripleDes for message encryption, Sha256 for message digest, and Rsa15 for key wrap.</span></span><br /><br /> <span data-ttu-id="35503-449">既定値は **[Basic256]** です。</span><span class="sxs-lookup"><span data-stu-id="35503-449">The default value is **Basic256**.</span></span> |
   |   <span data-ttu-id="35503-450">**クライアント証明書の拇印**</span><span class="sxs-lookup"><span data-stu-id="35503-450">**Client certificate -Thumbprint**</span></span>   |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         <span data-ttu-id="35503-451">この送信ポートをサービスの認証に X.509 証明書の拇印を指定します。</span><span class="sxs-lookup"><span data-stu-id="35503-451">Specify the thumbprint of the X.509 certificate for authenticating this send port to a service.</span></span> <span data-ttu-id="35503-452">拇印は、**[参照]** ボタンを使用して **[現在のユーザー]** の場所の **[My]** ストアを参照して選択できます。</span><span class="sxs-lookup"><span data-stu-id="35503-452">The thumbprint can be selected by navigating the **My** store in the **Current User** location with the **Browse** button.</span></span><br /><br /> <span data-ttu-id="35503-453">**注:** クライアント証明書をインストールする必要があります、**現在のユーザー**これをホストする送信ハンドラーのユーザー アカウントの場所の送信ポート。</span><span class="sxs-lookup"><span data-stu-id="35503-453">**Note:** You must install the client certificate into the **Current User** location of the user account for the send handler hosting this send port.</span></span><br /><br /> <span data-ttu-id="35503-454">最小長:0</span><span class="sxs-lookup"><span data-stu-id="35503-454">Minimum length: 0</span></span><br /><br /> <span data-ttu-id="35503-455">最大長:40</span><span class="sxs-lookup"><span data-stu-id="35503-455">Maximum length: 40</span></span><br /><br /> <span data-ttu-id="35503-456">既定値は空の文字列です。</span><span class="sxs-lookup"><span data-stu-id="35503-456">The default is an empty string.</span></span>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         |
   |       <span data-ttu-id="35503-457">**ユーザー名資格情報**</span><span class="sxs-lookup"><span data-stu-id="35503-457">**User name credentials**</span></span>        |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          <span data-ttu-id="35503-458">使用する場合は、メッセージを送信するための資格情報を指定**UserName**の**クライアント資格情報の種類のメッセージ**プロパティ。</span><span class="sxs-lookup"><span data-stu-id="35503-458">Specify the credentials for sending messages when using **UserName** for the **Message client credential type** property.</span></span> <span data-ttu-id="35503-459">クリックしてプロパティを指定することができます、**資格情報の編集**ボタンをクリックします。</span><span class="sxs-lookup"><span data-stu-id="35503-459">You can specify the property by clicking the **Edit Credentials** button.</span></span><br /><br /> <span data-ttu-id="35503-460">既定値は**シングル サインオンを使用しないでください**します。</span><span class="sxs-lookup"><span data-stu-id="35503-460">The default value is **Do not use Single Sign-On**.</span></span>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          |
   |      <span data-ttu-id="35503-461">**ACS サービス id を使用します。**</span><span class="sxs-lookup"><span data-stu-id="35503-461">**Use ACS service identity**</span></span>      |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <span data-ttu-id="35503-462">適用対象[!INCLUDE[bts2013r2_md](../includes/bts2013r2-md.md)]と[!INCLUDE[btsBizTalkServerNoVersion_md](../includes/btsbiztalkservernoversion-md.md)]2013。</span><span class="sxs-lookup"><span data-stu-id="35503-462">Applies to [!INCLUDE[bts2013r2_md](../includes/bts2013r2-md.md)] and [!INCLUDE[btsBizTalkServerNoVersion_md](../includes/btsbiztalkservernoversion-md.md)] 2013.</span></span><br/><br/><span data-ttu-id="35503-463">このチェック ボックスを選択し、クリックして**編集**Service Bus での認証に次の値を指定します。</span><span class="sxs-lookup"><span data-stu-id="35503-463">Select this checkbox and click **Edit** and provide the following values to authenticate with the Service Bus.</span></span><br /><br /> <span data-ttu-id="35503-464">- **アクセス制御サービス STS Uri** – これを設定`https://<Namespace>-sb.accesscontrol.windows.net/`ここで、\<名前空間\>は、Service Bus 名前空間です。</span><span class="sxs-lookup"><span data-stu-id="35503-464">- **Access Control Service STS Uri** – Set this to `https://<Namespace>-sb.accesscontrol.windows.net/`, where \<namespace\> is your Service Bus namespace.</span></span><br /><br /> <span data-ttu-id="35503-465">- **発行者名**– 発行者名を指定します。</span><span class="sxs-lookup"><span data-stu-id="35503-465">- **Issuer Name** – Specify the issuer name.</span></span> <span data-ttu-id="35503-466">通常は所有者に設定します。</span><span class="sxs-lookup"><span data-stu-id="35503-466">Typically this is set to owner.</span></span><br /><br /> <span data-ttu-id="35503-467">- **発行者キー** – 発行者キーを指定します。</span><span class="sxs-lookup"><span data-stu-id="35503-467">- **Issuer Key** – Specify the issuer key.</span></span>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    |
   | <span data-ttu-id="35503-468">**Service Bus 接続情報**</span><span class="sxs-lookup"><span data-stu-id="35503-468">**Service Bus connection information**</span></span> |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <span data-ttu-id="35503-469">以降では新しい[!INCLUDE[bts2016_md](../includes/bts2016-md.md)]します。</span><span class="sxs-lookup"><span data-stu-id="35503-469">New starting with [!INCLUDE[bts2016_md](../includes/bts2016-md.md)].</span></span><br/><br/><span data-ttu-id="35503-470">Shared Access Signature (SAS) または Service Bus 名前空間の Access Control Service (ACS) を使用する場合に選択します。</span><span class="sxs-lookup"><span data-stu-id="35503-470">Choose to use the Shared Access Signature (SAS) or Access Control Service (ACS) of the Service Bus namespace.</span></span> <br/><br/><span data-ttu-id="35503-471">オプションを選択し、**編集**キー情報を入力します。</span><span class="sxs-lookup"><span data-stu-id="35503-471">Select an option, and then select **Edit** to enter the key information:</span></span><br/><br/> <span data-ttu-id="35503-472">- **Shared Access Signature** :アクセス キー名、およびアクセス キーを入力します。</span><span class="sxs-lookup"><span data-stu-id="35503-472">- **Shared Access Signature** : Enter the access key name, and the access key.</span></span> <span data-ttu-id="35503-473">両方の値が記載されて、 [Azure portal](https://portal.azure.com)します。</span><span class="sxs-lookup"><span data-stu-id="35503-473">Both values are listed in the [Azure portal](https://portal.azure.com).</span></span><br/> <span data-ttu-id="35503-474">- **Access Control Service** :STS URI を入力します (`https://<yourNamespace>-sb.accesscontrol.windows.net/`)、発行者名、および発行者キー。</span><span class="sxs-lookup"><span data-stu-id="35503-474">- **Access Control Service** : Enter the STS URI (`https://<yourNamespace>-sb.accesscontrol.windows.net/`), Issuer name, and Issuer key.</span></span> <span data-ttu-id="35503-475">」の説明に従って、Windows PowerShell を使用してこれらの値を取得する[Sb-messaging アダプター](../core/sb-messaging-adapter.md)します。</span><span class="sxs-lookup"><span data-stu-id="35503-475">Use Windows PowerShell to retrieve these values, as described in [SB-Messaging adapter](../core/sb-messaging-adapter.md).</span></span>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                |


6. <span data-ttu-id="35503-476">**[WCF-NetTcpRelay トランスポートのプロパティ]** ダイアログ ボックスの **[メッセージ]** タブで、SOAP **Body** 要素のデータ選択を指定します。</span><span class="sxs-lookup"><span data-stu-id="35503-476">In the **WCF-NetTcpRelay Transport Properties** dialog box, on the **Messages** tab, specify the data selection for the SOAP **Body** element.</span></span>  


   |                   <span data-ttu-id="35503-477">プロパティ</span><span class="sxs-lookup"><span data-stu-id="35503-477">Use this</span></span>                    |                                                                                                                                                                                                                                                                                                                                                                                          <span data-ttu-id="35503-478">目的</span><span class="sxs-lookup"><span data-stu-id="35503-478">To do this</span></span>                                                                                                                                                                                                                                                                                                                                                                                           |
   |-----------------------------------------------|-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
   |   <span data-ttu-id="35503-479">**ボディ--BizTalk 要求メッセージの本文**</span><span class="sxs-lookup"><span data-stu-id="35503-479">**Body -- BizTalk request message body**</span></span>    |                                                                                                                                                                                                                                                                                                                    <span data-ttu-id="35503-480">BizTalk メッセージのボディ部を使用して、SOAP のコンテンツを作成する**本文**送信メッセージの要素。</span><span class="sxs-lookup"><span data-stu-id="35503-480">Use the BizTalk message body part to create the content of the SOAP **Body** element for an outgoing message.</span></span><br /><br /> <span data-ttu-id="35503-481">これが既定の設定です。</span><span class="sxs-lookup"><span data-stu-id="35503-481">This is the default setting.</span></span>                                                                                                                                                                                                                                                                                                                     |
   | <span data-ttu-id="35503-482">**テンプレート--テンプレートで指定されたコンテンツ**</span><span class="sxs-lookup"><span data-stu-id="35503-482">**Template -- content specified by template**</span></span> |                                                                                                                                                                                                                                                                                                            <span data-ttu-id="35503-483">**[XML]** ボックスで指定されているテンプレートを使用して、送信メッセージの SOAP **Body** 要素の内容を作成します。</span><span class="sxs-lookup"><span data-stu-id="35503-483">Use the template supplied in the **XML** text box to create the content of the SOAP **Body** element for an outgoing message.</span></span><br /><br /> <span data-ttu-id="35503-484">既定値はオフです。</span><span class="sxs-lookup"><span data-stu-id="35503-484">The default value is cleared.</span></span>                                                                                                                                                                                                                                                                                                            |
   |                    <span data-ttu-id="35503-485">**XML**</span><span class="sxs-lookup"><span data-stu-id="35503-485">**XML**</span></span>                    |                                                                                                                                                                                   <span data-ttu-id="35503-486">送信メッセージの SOAP **Body** 要素の内容に対する XML 形式のテンプレートを入力します。</span><span class="sxs-lookup"><span data-stu-id="35503-486">Type the XML-formatted template for the content of the SOAP **Body** element of an outgoing message.</span></span> <span data-ttu-id="35503-487">**[ボディ -- BizTalk 応答メッセージ本文]** オプションが選択されている場合は、このプロパティが必要です。</span><span class="sxs-lookup"><span data-stu-id="35503-487">This property is required if the **Template -- BizTalk response message body** option is selected.</span></span><br /><br /> <span data-ttu-id="35503-488">型:String</span><span class="sxs-lookup"><span data-stu-id="35503-488">Type: String</span></span><br /><br /> <span data-ttu-id="35503-489">最小長:0</span><span class="sxs-lookup"><span data-stu-id="35503-489">Minimum length: 0</span></span><br /><br /> <span data-ttu-id="35503-490">最大長:32767</span><span class="sxs-lookup"><span data-stu-id="35503-490">Maximum length: 32767</span></span><br /><br /> <span data-ttu-id="35503-491">既定値は < bts メッセージの本文</span><span class="sxs-lookup"><span data-stu-id="35503-491">The default is <bts-msg-body</span></span><br /><br /> <span data-ttu-id="35503-492">xmlns="<http://www.microsoft.com/schemas/bts2007>" encoding="xml"/></span><span class="sxs-lookup"><span data-stu-id="35503-492">xmlns="<http://www.microsoft.com/schemas/bts2007>" encoding="xml"/></span></span>                                                                                                                                                                                   |
   |   <span data-ttu-id="35503-493">**Envelope -- entire \<soap:Envelope\>**</span><span class="sxs-lookup"><span data-stu-id="35503-493">**Envelope -- entire \<soap:Envelope\>**</span></span>    |                                                                                                                                                                                                                                                                                                   <span data-ttu-id="35503-494">全体の SOAP から BizTalk メッセージのボディ部を作成する**エンベロープ**受信の。</span><span class="sxs-lookup"><span data-stu-id="35503-494">Create the BizTalk message body part from the entire SOAP **Envelope** of an incoming.</span></span> <span data-ttu-id="35503-495">このプロパティは、送信請求 - 応答のポートに対してのみ有効です。</span><span class="sxs-lookup"><span data-stu-id="35503-495">This property is valid only for solicit-response ports.</span></span><br /><br /> <span data-ttu-id="35503-496">既定値はオフです。</span><span class="sxs-lookup"><span data-stu-id="35503-496">The default value is cleared.</span></span>                                                                                                                                                                                                                                                                                                    |
   | <span data-ttu-id="35503-497">**ボディ--内容\<Soap:body\>要素**</span><span class="sxs-lookup"><span data-stu-id="35503-497">**Body -- contents of \<soap:Body\> element**</span></span> |                                                                                                                                                                                                                             <span data-ttu-id="35503-498">受信メッセージの SOAP **Body** 要素の内容を使用して、BizTalk メッセージのボディ部を作成します。</span><span class="sxs-lookup"><span data-stu-id="35503-498">Use the content of the SOAP **Body** element of an incoming message to create the BizTalk message body part.</span></span> <span data-ttu-id="35503-499">**Body** 要素に複数の子要素がある場合は、最初の要素のみが BizTalk メッセージのボディ部になります。</span><span class="sxs-lookup"><span data-stu-id="35503-499">If the **Body** element has more than one child element, only the first element becomes the BizTalk message body part.</span></span> <span data-ttu-id="35503-500">このプロパティは、送信請求 - 応答のポートに対してのみ有効です。</span><span class="sxs-lookup"><span data-stu-id="35503-500">This property is valid only for solicit-response ports.</span></span><br /><br /> <span data-ttu-id="35503-501">これが既定の設定です。</span><span class="sxs-lookup"><span data-stu-id="35503-501">This is the default setting.</span></span>                                                                                                                                                                                                                              |
   |   <span data-ttu-id="35503-502">**パス--本文のパスでのコンテンツ**</span><span class="sxs-lookup"><span data-stu-id="35503-502">**Path -- content located by body path**</span></span>    |                                                                                                                                                                                                                        <span data-ttu-id="35503-503">**[本文のパス式]** ボックスのボディ パス式を使用して、BizTalk メッセージのボディ部を作成します。</span><span class="sxs-lookup"><span data-stu-id="35503-503">Use the body path expression in the **Body path expression** text box to create the BizTalk message body part.</span></span> <span data-ttu-id="35503-504">ボディ パス式は、受信メッセージの SOAP **Body** 要素のすぐ下の子要素に対して評価されます。</span><span class="sxs-lookup"><span data-stu-id="35503-504">The body path expression is evaluated against the immediate child element of the SOAP **Body** element of an incoming message.</span></span> <span data-ttu-id="35503-505">このプロパティは、送信請求 - 応答のポートに対してのみ有効です。</span><span class="sxs-lookup"><span data-stu-id="35503-505">This property is valid only for solicit-response ports.</span></span><br /><br /> <span data-ttu-id="35503-506">既定値はオフです。</span><span class="sxs-lookup"><span data-stu-id="35503-506">The default value is cleared.</span></span>                                                                                                                                                                                                                        |
   |           <span data-ttu-id="35503-507">**ボディ パス式**</span><span class="sxs-lookup"><span data-stu-id="35503-507">**Body path expression**</span></span>            |                                                       <span data-ttu-id="35503-508">BizTalk メッセージのボディ部を作成するために使用する受信メッセージの特定の部分を示すボディ パス式を入力します。</span><span class="sxs-lookup"><span data-stu-id="35503-508">Type the body path expression to identify a specific part of an incoming message used to create the BizTalk message body part.</span></span> <span data-ttu-id="35503-509">このボディ パス式は、SOAP の直接の子要素に対して評価される**本文**受信メッセージのノード。</span><span class="sxs-lookup"><span data-stu-id="35503-509">This body path expression is evaluated against the immediate child element of the SOAP **Body** node of an incoming message.</span></span> <span data-ttu-id="35503-510">このボディ パス式で複数のノードが返される場合は、最初のノードのみが BizTalk メッセージのボディ部に対して選択されます。</span><span class="sxs-lookup"><span data-stu-id="35503-510">If this body path expression returns more than one node, only the first node is chosen for the BizTalk message body part.</span></span> <span data-ttu-id="35503-511">**[パス -- 本文のパスで見つかったコンテンツ]** オプションが選択されている場合は、このプロパティが必要です。</span><span class="sxs-lookup"><span data-stu-id="35503-511">This property is required if the **Path -- content located by body path** option is selected.</span></span> <span data-ttu-id="35503-512">このプロパティは、送信請求 - 応答のポートに対してのみ有効です。</span><span class="sxs-lookup"><span data-stu-id="35503-512">This property is valid only for solicit-response ports.</span></span><br /><br /> <span data-ttu-id="35503-513">型:String</span><span class="sxs-lookup"><span data-stu-id="35503-513">Type: String</span></span><br /><br /> <span data-ttu-id="35503-514">最小長:0</span><span class="sxs-lookup"><span data-stu-id="35503-514">Minimum length: 0</span></span><br /><br /> <span data-ttu-id="35503-515">最大長:32767</span><span class="sxs-lookup"><span data-stu-id="35503-515">Maximum length: 32767</span></span><br /><br /> <span data-ttu-id="35503-516">既定値は空の文字列です。</span><span class="sxs-lookup"><span data-stu-id="35503-516">The default is an empty string.</span></span>                                                        |
   |               <span data-ttu-id="35503-517">**ノード エンコード**</span><span class="sxs-lookup"><span data-stu-id="35503-517">**Node encoding**</span></span>               | <span data-ttu-id="35503-518">ボディ パス式で識別されるノードに対して、Wcf-nettcprelay 送信アダプターがデコードに使用するエンコードの種類を指定、**本文のパス式**テキスト ボックス。</span><span class="sxs-lookup"><span data-stu-id="35503-518">Specify the type of encoding that the WCF-NetTcpRelay send adapter uses to decode for the node identified by the body path expression in the **Body path expression** text box.</span></span> <span data-ttu-id="35503-519">**[パス -- 本文のパスで見つかったコンテンツ]** オプションが選択されている場合は、このプロパティが必要です。</span><span class="sxs-lookup"><span data-stu-id="35503-519">This property is required if the **Path -- content located by body path** option is selected.</span></span> <span data-ttu-id="35503-520">このプロパティは、送信請求 - 応答のポートに対してのみ有効です。</span><span class="sxs-lookup"><span data-stu-id="35503-520">This property is valid only for solicit-response ports.</span></span> <span data-ttu-id="35503-521">有効な値は次のとおりです。</span><span class="sxs-lookup"><span data-stu-id="35503-521">Valid values include the following:</span></span><br /><br /> <span data-ttu-id="35503-522">-                          **Base64**:Base64 エンコーディングです。</span><span class="sxs-lookup"><span data-stu-id="35503-522">-                          **Base64**: Base64 encoding.</span></span><br /><br /> <span data-ttu-id="35503-523">- **16 進**:16 進エンコーディング。</span><span class="sxs-lookup"><span data-stu-id="35503-523">- **Hex**: Hexadecimal encoding.</span></span><br /><br /> <span data-ttu-id="35503-524">- **文字列**:テキスト エンコーディング - utf-8</span><span class="sxs-lookup"><span data-stu-id="35503-524">- **String**: Text encoding - UTF-8</span></span><br /><br /> <span data-ttu-id="35503-525">-                          **XML**:ボディ パス式で選択されたノードの外部の XML で、WCF アダプタが BizTalk メッセージ本文を作成、**本文のパス式**テキスト ボックス。</span><span class="sxs-lookup"><span data-stu-id="35503-525">-                          **XML**: The WCF adapters create the BizTalk message body with the outer XML of the node selected by the body path expression in the **Body path expression** text box.</span></span><br /><br /> <span data-ttu-id="35503-526">既定値は **[XML]** です。</span><span class="sxs-lookup"><span data-stu-id="35503-526">The default is **XML**.</span></span> |
   |          <span data-ttu-id="35503-527">**エラー メッセージを伝達します。**</span><span class="sxs-lookup"><span data-stu-id="35503-527">**Propagate fault message**</span></span>          |                                                                                                                                                                                                               <span data-ttu-id="35503-528">送信処理に失敗したメッセージを、他の受信ポートやオーケストレーション スケジュールなど、そのメッセージをサブスクライブしているアプリケーションに回送する場合は、このチェック ボックスをオンにします。</span><span class="sxs-lookup"><span data-stu-id="35503-528">Select this check box to route the message that fails outbound processing to a subscribing application (such as another receive port or orchestration schedule).</span></span> <span data-ttu-id="35503-529">失敗したメッセージを保留し、否定の確認 (NACK) を生成する場合は、このチェック ボックスをオフにします。</span><span class="sxs-lookup"><span data-stu-id="35503-529">Clear the check box to suspend failed messages and generate a negative acknowledgment (NACK).</span></span> <span data-ttu-id="35503-530">このプロパティは、送信請求 - 応答のポートに対してのみ有効です。</span><span class="sxs-lookup"><span data-stu-id="35503-530">This property is valid only for solicit-response ports.</span></span><br /><br /> <span data-ttu-id="35503-531">既定値が選択されます。</span><span class="sxs-lookup"><span data-stu-id="35503-531">The default value is selected.</span></span>                                                                                                                                                                                                               |


7. <span data-ttu-id="35503-532">をクリックして **[ok]** と**OK**設定を保存するには、もう一度です。</span><span class="sxs-lookup"><span data-stu-id="35503-532">Click **OK** and **OK** again to save settings.</span></span>  

## <a name="set-maxconnections-in-the-handler"></a><span data-ttu-id="35503-533">ハンドラーでセット MaxConnections</span><span class="sxs-lookup"><span data-stu-id="35503-533">Set MaxConnections in the handler</span></span>

1. <span data-ttu-id="35503-534">[!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)]管理コンソールで、展開[!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)]管理、展開**BizTalk グループ**、展開**プラットフォームの設定**、順に展開**アダプター**.</span><span class="sxs-lookup"><span data-stu-id="35503-534">In the [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] Administration Console, expand [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] Administration, expand **BizTalk Group**, expand **Platform Settings**, and then expand **Adapters**.</span></span>  

2. <span data-ttu-id="35503-535">アダプターの一覧で選択**Wcf-nettcprelay**送信を選択するか、受信ハンドラー。</span><span class="sxs-lookup"><span data-stu-id="35503-535">In the adapter list, select **WCF-NetTcpRelay**, and then select the send or receive handler.</span></span>  

3. <span data-ttu-id="35503-536">**アダプター ハンドラーのプロパティ**の**全般**] タブで [**プロパティ**します。</span><span class="sxs-lookup"><span data-stu-id="35503-536">In **Adapter Handler Properties**, on the **General** tab, select **Properties**.</span></span>  

4. <span data-ttu-id="35503-537">**ハンドラー**  タブ。</span><span class="sxs-lookup"><span data-stu-id="35503-537">In the **handler** tab:</span></span>   


   |        <span data-ttu-id="35503-538">プロパティ</span><span class="sxs-lookup"><span data-stu-id="35503-538">Use this</span></span>         |                                                                                                                                                                                                                                                                                                    <span data-ttu-id="35503-539">目的</span><span class="sxs-lookup"><span data-stu-id="35503-539">To do this</span></span>                                                                                                                                                                                                                                                                                                     |
   |-------------------------|-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
   | <span data-ttu-id="35503-540">**接続の最大数**</span><span class="sxs-lookup"><span data-stu-id="35503-540">**Maximum connections**</span></span> | <span data-ttu-id="35503-541">(受信ハンドラー) の受信接続と接続プールにキャッシュされている各エンドポイントの発信接続 (送信ハンドラー) の最大数を指定します。</span><span class="sxs-lookup"><span data-stu-id="35503-541">Specify the maximum number of inbound connections (receive handler) and outbound connections (send handler) for each endpoint that is cached in the connection pool.</span></span> <span data-ttu-id="35503-542">これによって、一意のリモート エンドポイントのそれぞれに対してキャッシュされる接続数が制限されます。</span><span class="sxs-lookup"><span data-stu-id="35503-542">This limits the number of connections that are cached for each unique remote endpoint.</span></span> <span data-ttu-id="35503-543">この値は、一意のリモート エンドポイントに対してキャッシュされることを想定している最大接続数よりも大きい値に設定する必要があります。</span><span class="sxs-lookup"><span data-stu-id="35503-543">You should set this value to be greater than the maximum number of connections that you expect to be cached for any unique remote endpoint.</span></span> <span data-ttu-id="35503-544">アクティブな接続数を超える場合この最大値は、サービスは、この送信ハンドラーで実行されている Wcf-nettcprelay 送信ポートに応答しないように見える場合があります。</span><span class="sxs-lookup"><span data-stu-id="35503-544">If the number of active connections exceeds this maximum value, then the service may appear unresponsive to the WCF-NetTcpRelay send ports running under this send hander.</span></span><br /><br /> <span data-ttu-id="35503-545">既定値は 10 です。</span><span class="sxs-lookup"><span data-stu-id="35503-545">The default is 10.</span></span> |


5. <span data-ttu-id="35503-546">**[OK]** を選択して変更を保存します。</span><span class="sxs-lookup"><span data-stu-id="35503-546">Select **OK** to save your changes.</span></span>  

## <a name="see-also"></a><span data-ttu-id="35503-547">参照</span><span class="sxs-lookup"><span data-stu-id="35503-547">See also</span></span>
[<span data-ttu-id="35503-548">Sb-messaging アダプター</span><span class="sxs-lookup"><span data-stu-id="35503-548">SB-Messaging adapter</span></span>](../core/sb-messaging-adapter.md)

[<span data-ttu-id="35503-549">アダプターの使用</span><span class="sxs-lookup"><span data-stu-id="35503-549">Using Adapters</span></span>](../core/using-adapters.md)