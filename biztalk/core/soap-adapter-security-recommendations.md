---
title: SOAP アダプタのセキュリティに関する推奨事項 |Microsoft Docs
ms.custom: ''
ms.date: 06/08/2017
ms.prod: biztalk-server
ms.reviewer: ''
ms.suite: ''
ms.tgt_pltfrm: ''
ms.topic: article
helpviewer_keywords:
- SOAP adapters, security
- security, SOAP adapters
ms.assetid: f869bd82-df93-45e1-b747-b538820253fb
caps.latest.revision: 16
author: MandiOhlinger
ms.author: mandia
manager: anneta
ms.openlocfilehash: f61b68ce0fd174dfbb766889e544c9b1005468d5
ms.sourcegitcommit: 266308ec5c6a9d8d80ff298ee6051b4843c5d626
ms.translationtype: MT
ms.contentlocale: ja-JP
ms.lasthandoff: 06/27/2018
ms.locfileid: "36985315"
---
# <a name="soap-adapter-security-recommendations"></a><span data-ttu-id="ad1e5-102">SOAP アダプタのセキュリティに関する推奨事項</span><span class="sxs-lookup"><span data-stu-id="ad1e5-102">SOAP Adapter Security Recommendations</span></span>
[!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)]<span data-ttu-id="ad1e5-103"> では、SOAP アダプターを使用して Web サービスを公開 (受信) および使用 (送信) できます。</span><span class="sxs-lookup"><span data-stu-id="ad1e5-103"> uses the SOAP adapter to publish (receive) and consume (send) Web services.</span></span> <span data-ttu-id="ad1e5-104">SOAP アダプターに関する詳細については、次を参照してください。 [SOAP アダプター](../core/soap-adapter.md)します。</span><span class="sxs-lookup"><span data-stu-id="ad1e5-104">For more information about the SOAP adapter, see [SOAP Adapter](../core/soap-adapter.md).</span></span> <span data-ttu-id="ad1e5-105">Web サービスの詳細については、次を参照してください。 [Web サービスを使用する](../core/using-web-services.md)します。</span><span class="sxs-lookup"><span data-stu-id="ad1e5-105">For more information about Web services, see [Using Web Services](../core/using-web-services.md).</span></span> <span data-ttu-id="ad1e5-106">SOAP アダプターをセキュリティで保護して環境に展開するには、次のガイドラインに従うことをお勧めします。</span><span class="sxs-lookup"><span data-stu-id="ad1e5-106">It is recommended you follow these guidelines for securing and deploying the SOAP adapter in your environment.</span></span>  
  
- <span data-ttu-id="ad1e5-107">Web サービスを公開するためのセキュリティの推奨事項については、次を参照してください。 [Web サービスを有効にする](../core/enabling-web-services.md)します。</span><span class="sxs-lookup"><span data-stu-id="ad1e5-107">For security recommendations for publishing Web services, see [Enabling Web Services](../core/enabling-web-services.md).</span></span>  
  
- <span data-ttu-id="ad1e5-108">SOAP アダプターでは、HTTP (Hypertext Transfer Protocol) を利用して、BizTalk Server との間でメッセージを送受信できます。</span><span class="sxs-lookup"><span data-stu-id="ad1e5-108">The SOAP adapter leverages the Hypertext Transfer Protocol (HTTP) to send and receive messages to and from BizTalk Server.</span></span> <span data-ttu-id="ad1e5-109">そのため、インターネット インフォメーション サービス (IIS) を保護するためのセキュリティの推奨事項に従う必要があります。</span><span class="sxs-lookup"><span data-stu-id="ad1e5-109">Therefore, you must follow the security recommendations for securing Internet Information Services (IIS).</span></span> <span data-ttu-id="ad1e5-110">IIS 7.0 を使用している場合、アプリケーション分離を構成する方法について IIS 7.0 の推奨事項に従ってください。</span><span class="sxs-lookup"><span data-stu-id="ad1e5-110">If you use IIS 7.0, ensure you follow the IIS 7.0 recommendations for configuring application isolation.</span></span> <span data-ttu-id="ad1e5-111">詳細については、次を参照してください。[アプリケーション プール (IIS 7) を作成](http://go.microsoft.com/fwlink/?LinkId=196674)です。</span><span class="sxs-lookup"><span data-stu-id="ad1e5-111">For more information, see [Create an Application Pool (IIS 7)](http://go.microsoft.com/fwlink/?LinkId=196674).</span></span>  
  
- <span data-ttu-id="ad1e5-112">SOAP 受信場所用のアプリケーション プールを作成する場合、SOAP 受信アダプターを実行している分離ホストの Windows グループおよびインターネット インフォメーション サービスのワーカー プロセス グループ (IIS_WPG グループ) のメンバーであるアカウントで実行するように構成する必要があります。</span><span class="sxs-lookup"><span data-stu-id="ad1e5-112">When you create an application pool for a SOAP receive location, you must configure it to run under an account that is a member of the Windows group for the isolated host running the SOAP receive adapter and the Internet Information Services Worker Process group (IIS_WPG group).</span></span> <span data-ttu-id="ad1e5-113">その後、SOAP 受信アダプターのホスト インスタンスを、このアカウントを使用するように構成してください。</span><span class="sxs-lookup"><span data-stu-id="ad1e5-113">You must then configure the host instance for the SOAP receive adapter to use this account.</span></span> <span data-ttu-id="ad1e5-114">IIS_WPG グループのアカウントを変更する場合は、新しいアカウントで実行されるようにホスト インスタンスを更新する必要もあります。</span><span class="sxs-lookup"><span data-stu-id="ad1e5-114">If you change the account for the IIS_WPG group, you must ensure you also update the host instance to run under the new account.</span></span>  
  
- <span data-ttu-id="ad1e5-115">SOAP 送信アダプターで SSL (Secure Sockets Layer) クライアント証明書を使用する場合は、これらの証明書を手動で構成する必要があります。</span><span class="sxs-lookup"><span data-stu-id="ad1e5-115">When you use Secure Sockets Layer (SSL) client certificates with the SOAP send adapter, you must manually configure these certificates.</span></span>  
  
- <span data-ttu-id="ad1e5-116">Web サービスを利用する場合、認証のために、匿名認証、基本認証、ダイジェスト認証、Windows 統合認証、またはクライアント証明書に基づく認証を使用できます。</span><span class="sxs-lookup"><span data-stu-id="ad1e5-116">When consuming Web services, you can use anonymous, basic, digest, Windows integrated, or client certificates for authentication.</span></span> <span data-ttu-id="ad1e5-117">基本認証を使用して Web サービスを利用する場合、未認証のユーザーがメッセージからユーザーの資格情報を読み取ることができないように、SSL を使用することをお勧めします。</span><span class="sxs-lookup"><span data-stu-id="ad1e5-117">When consuming Web services by using basic authentication, it is recommended to use SSL to ensure that an unauthorized person cannot read the user credentials from the message.</span></span>  
  
- <span data-ttu-id="ad1e5-118">フロントエンド ユーザーのコンテンツをバックエンド システムの資格情報にマップする必要がある場合、エンタープライズ シングル サインオン (SSO) を使用できます。</span><span class="sxs-lookup"><span data-stu-id="ad1e5-118">You can use Enterprise Single Sign-On (SSO) in scenarios where you need to map the content of the front-end user to credentials in a back-end system.</span></span> <span data-ttu-id="ad1e5-119">詳細については、次を参照してください。[マップ シングル サインオン資格情報を方法](../core/how-to-map-single-sign-on-credentials.md)します。</span><span class="sxs-lookup"><span data-stu-id="ad1e5-119">For more information, see [How to Map Single Sign-On Credentials](../core/how-to-map-single-sign-on-credentials.md).</span></span>  
  
- <span data-ttu-id="ad1e5-120">基本認証を使用する場合、またはメッセージ レベルでの暗号化を使用しない場合、未認証のユーザーがユーザーの資格情報を読み取ることができないように、メッセージの送受信に SSL を使用することをお勧めします。</span><span class="sxs-lookup"><span data-stu-id="ad1e5-120">When using basic authentication, or when you do not use encryption at the message level, it is recommended to use SSL for both receiving and sending messages to ensure that an unauthorized person cannot read the user credentials.</span></span>  
  
- <span data-ttu-id="ad1e5-121">メッセージの送受信に Windows 統合認証を使用することをお勧めします。</span><span class="sxs-lookup"><span data-stu-id="ad1e5-121">It is recommended to use Windows integrated authentication for both sending and receiving messages.</span></span>  
  
- <span data-ttu-id="ad1e5-122">SOAP アダプターを実行しているコンピューターには、[!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] ランタイムも含まれています。</span><span class="sxs-lookup"><span data-stu-id="ad1e5-122">The computer running the SOAP adapter also has the [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] runtime.</span></span> <span data-ttu-id="ad1e5-123">SOAP アダプターを境界ネットワークに配置しないことをお勧めします。</span><span class="sxs-lookup"><span data-stu-id="ad1e5-123">It is recommended you do not put the SOAP adapter in the perimeter network.</span></span> <span data-ttu-id="ad1e5-124">配置する場合は、境界ネットワークのポートを、メッセージ ボックス データベースへの SQL Server トラフィック用のデータ ドメインに開く必要があります。ただし、[!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] ランタイムが攻撃の対象になる可能性があります。</span><span class="sxs-lookup"><span data-stu-id="ad1e5-124">If you do, you have to open ports from the perimeter network to the data domain for SQL Server traffic to the MessageBox database, and you are exposing the [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] runtime to potential attacks.</span></span> <span data-ttu-id="ad1e5-125">SOAP アダプターは、処理ドメイン (つまり、境界ネットワーク以外) で構成することをお勧めします。</span><span class="sxs-lookup"><span data-stu-id="ad1e5-125">It is recommended you configure the SOAP adapter in the processing domain (that is, not the perimeter network).</span></span> <span data-ttu-id="ad1e5-126">処理ドメインを構成したら、最も外側のファイアウォールを、処理ドメイン内のファイアウォール経由で SOAP 要求を転送するように構成できます。</span><span class="sxs-lookup"><span data-stu-id="ad1e5-126">You can then configure the outermost firewall to forward SOAP requests through the firewall in the processing domain.</span></span> <span data-ttu-id="ad1e5-127">このメカニズムはリバース プロキシと呼ばれます</span><span class="sxs-lookup"><span data-stu-id="ad1e5-127">This mechanism is called reverse proxy.</span></span> <span data-ttu-id="ad1e5-128">(Forefront Threat Management Gateway (TMG) 2010 サーバー実装では「Web 公開」と呼ばれます)。</span><span class="sxs-lookup"><span data-stu-id="ad1e5-128">(The Forefront Threat Management Gateway (TMG) 2010 server implementation is called Web Publishing.)</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="ad1e5-129">参照</span><span class="sxs-lookup"><span data-stu-id="ad1e5-129">See Also</span></span>  
 <span data-ttu-id="ad1e5-130">[受信と送信サーバーのポート](../core/ports-for-the-receive-and-send-servers.md) </span><span class="sxs-lookup"><span data-stu-id="ad1e5-130">[Ports for the Receive and Send Servers](../core/ports-for-the-receive-and-send-servers.md) </span></span>  
 [<span data-ttu-id="ad1e5-131">セキュリティ保護のための最小ユーザー権限</span><span class="sxs-lookup"><span data-stu-id="ad1e5-131">Minimum Security User Rights</span></span>](../core/minimum-security-user-rights.md)