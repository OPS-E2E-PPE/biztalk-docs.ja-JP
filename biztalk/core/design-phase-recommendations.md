---
title: 設計フェーズの推奨事項 |Microsoft Docs
ms.custom: ''
ms.date: 06/08/2017
ms.prod: biztalk-server
ms.reviewer: ''
ms.suite: ''
ms.tgt_pltfrm: ''
ms.topic: article
ms.assetid: ee3d183e-a6f3-47d0-90ac-99b12c064607
caps.latest.revision: 4
author: MandiOhlinger
ms.author: mandia
manager: anneta
ms.openlocfilehash: 54d65cdefbba019d7643d701cea8e41e815fe1c2
ms.sourcegitcommit: 381e83d43796a345488d54b3f7413e11d56ad7be
ms.translationtype: MT
ms.contentlocale: ja-JP
ms.lasthandoff: 05/07/2019
ms.locfileid: "65351671"
---
# <a name="design-phase-recommendations"></a><span data-ttu-id="0649a-102">デザイン フェーズの推奨事項</span><span class="sxs-lookup"><span data-stu-id="0649a-102">Design Phase Recommendations</span></span>
<span data-ttu-id="0649a-103">設計フェーズの主な成果物は、両方のシステムの設計仕様および検証システムの機能とパフォーマンスのテスト ケースです。</span><span class="sxs-lookup"><span data-stu-id="0649a-103">The primary deliverables for the design phase are design specifications for both the system and the test cases for validating system functionality and performance.</span></span> <span data-ttu-id="0649a-104">機能およびテストの実行可能性の調査は、一般的な初期の開発に関連する、設計プロセスの、このセクションの下で検証設計の場合と概念実証の実装の早期テストについて説明します。</span><span class="sxs-lookup"><span data-stu-id="0649a-104">Investigations of the feasibility of features and tests are a typical part of the design process, involving initial development and, in the case of validation design, some early testing of proof-of-concept implementations as discussed in this section below.</span></span>  
  
## <a name="acquire-detailed-throughput-and-latency-profiles"></a><span data-ttu-id="0649a-105">詳細なスループットと待機時間のプロファイルを取得します。</span><span class="sxs-lookup"><span data-stu-id="0649a-105">Acquire Detailed Throughput and Latency Profiles</span></span>  
 <span data-ttu-id="0649a-106">前のプロジェクト フェーズからパフォーマンス リリース条件が確立された初期ロード プロファイルを作成、デザイン フェーズ中に詳細なスループットと待機時間のプロファイルを確立します。</span><span class="sxs-lookup"><span data-stu-id="0649a-106">Building on the initial load profiles on which the performance release criteria from the previous project phase were established, establish detailed throughput and latency profiles during the design phase.</span></span> <span data-ttu-id="0649a-107">利用できる場合は、実稼働システムからパフォーマンス データを取得します。</span><span class="sxs-lookup"><span data-stu-id="0649a-107">If available, acquire performance data from production systems.</span></span> <span data-ttu-id="0649a-108">運用データを使用すると、現実的なパフォーマンスのプロファイルをこのフェーズ中にテスト_ケースを設計することができますが提供されます。</span><span class="sxs-lookup"><span data-stu-id="0649a-108">Using production data will provide realistic performance profiles on which test cases can be designed during this phase.</span></span> <span data-ttu-id="0649a-109">実稼働データが利用できない場合、予想される負荷から現実的なプロファイルを推定する必要があります。</span><span class="sxs-lookup"><span data-stu-id="0649a-109">If production data is not available, then a realistic profile must be extrapolated from expected load.</span></span>  
  
 <span data-ttu-id="0649a-110">デザイン フェーズ中に作成されるパフォーマンス テスト_ケースが運用環境でサポートするためにどのようなシステムを忠実にエミュレートするプロファイルが求められるパフォーマンスを含めることが重要です。</span><span class="sxs-lookup"><span data-stu-id="0649a-110">It is critical that the performance test cases being created during the design phase include performance profiles that closely emulate what the system will be expected to support in production.</span></span> <span data-ttu-id="0649a-111">現実的で維持可能なパフォーマンス プロファイルを作成する方法の詳細については、次を参照してください[維持可能なパフォーマンスとは何ですか?。](../core/what-is-sustainable-performance.md)</span><span class="sxs-lookup"><span data-stu-id="0649a-111">For more information about creating realistic and sustainable performance profiles, see [What Is Sustainable Performance?](../core/what-is-sustainable-performance.md)</span></span>  
  
## <a name="investigate-performance-risk-mitigations"></a><span data-ttu-id="0649a-112">パフォーマンス リスクの緩和策を調査します。</span><span class="sxs-lookup"><span data-stu-id="0649a-112">Investigate Performance Risk Mitigations</span></span>  
 <span data-ttu-id="0649a-113">要件フェーズでは、目的のパフォーマンス目標の達成に対するリスクは識別されたおよび実行可能な緩和策を特定しました。</span><span class="sxs-lookup"><span data-stu-id="0649a-113">During the requirements phase, risks to achieving the desired performance goals were identified and possible mitigations identified.</span></span>  <span data-ttu-id="0649a-114">必要な場合は、デザインを変更する時間を確保するために、早い段階できるだけ設計段階でリスクおよび緩和策を調査する必要があります。</span><span class="sxs-lookup"><span data-stu-id="0649a-114">The risks and mitigations should be investigated as early in the design phase as possible in order to allow time to change the design if needed.</span></span> <span data-ttu-id="0649a-115">実証 (POC) テストを使用して問題をことを特定した各リスクを証明する必要がありますまずとし、軽減策をテストの有効性を評価する必要があります。</span><span class="sxs-lookup"><span data-stu-id="0649a-115">Each identified risk should first be proven to be an issue using proof of concept (POC) testing and then mitigations should be tested to evaluate efficacy.</span></span>  
  
 <span data-ttu-id="0649a-116">たとえば、レガシ システムが他のシステムとの通信に FTP を使用するとします。</span><span class="sxs-lookup"><span data-stu-id="0649a-116">For example, assume that a legacy system uses FTP to communicate with other systems.</span></span> <span data-ttu-id="0649a-117">BizTalk Server FTP アダプターと組み合わせて、レガシ FTP サーバーが達成できるスループットのレベルを見るが、(要件フェーズ中にリリース条件として確立された) 目的のスループットが達成できないことをクリアします。</span><span class="sxs-lookup"><span data-stu-id="0649a-117">However, looking at the level of throughput that the legacy FTP server can achieve in combination with the BizTalk Server FTP adapter, it is clear that the desired throughput (established as release criteria during the requirements phase) will not be achievable.</span></span> <span data-ttu-id="0649a-118">プロジェクトのリスクを軽減するために、次の方法は、要件フェーズ中に識別されます。</span><span class="sxs-lookup"><span data-stu-id="0649a-118">To mitigate the risk to the project, the following alternatives are identified during the requirements phase:</span></span>  
  
- <span data-ttu-id="0649a-119">FTP サーバーを拡大し、負荷を分散する特定のメッセージ タイプ専用の複数の論理 FTP アドレスを作成</span><span class="sxs-lookup"><span data-stu-id="0649a-119">Scale up or out the FTP server and create multiple logical FTP addresses dedicated to specific message types to spread the load</span></span>  
  
- <span data-ttu-id="0649a-120">-メッセージの転送オーバーヘッドの削減にバッチとして 1 つのファイルに多数のメッセージを配信するレガシ システムを変更します。</span><span class="sxs-lookup"><span data-stu-id="0649a-120">Modify the legacy system to deliver many messages in a single file as a batch to reduce the per-message transfer overhead</span></span>  
  
- <span data-ttu-id="0649a-121">MSMQ などの FTP よりも高速であることがわかっている別のプロトコルを使用するレガシ システムを変更します。</span><span class="sxs-lookup"><span data-stu-id="0649a-121">Modify the legacy system to use an alternative protocol that is known to be faster than FTP such as MSMQ</span></span>  
  
  <span data-ttu-id="0649a-122">この例では実行する必要がある最初の調査では、現在の FTP システムのパフォーマンスをテストして、リスクが存在することを証明します。</span><span class="sxs-lookup"><span data-stu-id="0649a-122">The first investigation that needs to be done in this example is to prove that the risk exists by testing the current FTP system performance.</span></span> <span data-ttu-id="0649a-123">FTP サーバーからメッセージを受信したソリューションをビルドおよび配置は概念とが適用されて、FTP 経路に必要な実稼動ロード プロファイルの簡単な概念を実証します。</span><span class="sxs-lookup"><span data-stu-id="0649a-123">A simple proof of concept solution that just receives messages from the FTP server would be built and deployed and the production load profile expected for the FTP pathway applied to it.</span></span> <span data-ttu-id="0649a-124">サーバーが必要な負荷を維持できる場合は、危険性が実現されていないと、さらに調査が必要ありません。</span><span class="sxs-lookup"><span data-stu-id="0649a-124">If the server is capable of sustaining the desired load, then the risk is not realized and further investigation is not needed.</span></span> <span data-ttu-id="0649a-125">必要な負荷に耐えることがない場合は、概念実証を通じてコストおよびプロジェクトのリスクを最小限に問題に対処する最も可能性のある方法を調査する必要があります。</span><span class="sxs-lookup"><span data-stu-id="0649a-125">If it is not able to sustain the desired load, then the alternative that is most likely to address the issue with the least amount of cost and project risk should be investigated via a proof of concept investigation.</span></span>  
  
## <a name="refine-system-size-estimate"></a><span data-ttu-id="0649a-126">システム サイズの推定値を絞り込む</span><span class="sxs-lookup"><span data-stu-id="0649a-126">Refine System Size Estimate</span></span>  
 <span data-ttu-id="0649a-127">デザイン フェーズ中に行われた調査では、システムのパフォーマンス機能に関する貴重な経験的情報を提供します。</span><span class="sxs-lookup"><span data-stu-id="0649a-127">Investigations conducted during the design phase provide valuable empirical information regarding the performance capabilities of your system.</span></span>  
  
 <span data-ttu-id="0649a-128">たとえば、FTP のパフォーマンスが低すぎることがある上記の例が進みます。</span><span class="sxs-lookup"><span data-stu-id="0649a-128">For example, let's continue the example above where the performance of FTP is found to be too low.</span></span> <span data-ttu-id="0649a-129">環境には、メッセージング トランスポートとして MSMQ を使用するシステムが既に含まれているためにも MSMQ を使用するレガシ システムを変更することにしました。</span><span class="sxs-lookup"><span data-stu-id="0649a-129">Because the environment already includes systems that use MSMQ as a messaging transport, it was decided to modify the legacy system to use MSMQ as well.</span></span> <span data-ttu-id="0649a-130">ただし、MSMQ を採用した新しい POC のパフォーマンス テスト、時がわかりましたが、メッセージ ボックス データベースが存在ほぼ常時 100% 使用率とする SQL server 上の CPU が、MSMQ 経路で必要なスループットを実現するためにできないこと.</span><span class="sxs-lookup"><span data-stu-id="0649a-130">However, during the performance testing of a new POC that employs MSMQ, it was observed that the CPU on the SQL server on which the MessageBox database lives almost constantly at 100% utilization and you are not able to achieve the expected throughput on the MSMQ pathway.</span></span>  
  
 <span data-ttu-id="0649a-131">SQL Server の構成は、アプリケーションに適したと仮定すると、SQL Server のハードウェアが明確に目的のスループットのサイズが小さすぎると、システムのサイズを絞り込むことが必要があります。</span><span class="sxs-lookup"><span data-stu-id="0649a-131">Assuming the SQL Server configuration is optimal for the application, the SQL Server hardware is clearly undersized for the desired throughput and the system size needs to be refined.</span></span> <span data-ttu-id="0649a-132">この場合は、SQL Server のハードウェアには、Cpu の追加、高速の Cpu、またはその両方が必要があります。</span><span class="sxs-lookup"><span data-stu-id="0649a-132">In this case, the SQL Server hardware needs either additional CPUs, faster CPUs, or both.</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="0649a-133">参照</span><span class="sxs-lookup"><span data-stu-id="0649a-133">See Also</span></span>  
 <span data-ttu-id="0649a-134">[プロジェクトの計画フェーズの推奨事項](../core/project-planning-recommendations-by-phase.md) </span><span class="sxs-lookup"><span data-stu-id="0649a-134">[Project Planning Recommendations by Phase](../core/project-planning-recommendations-by-phase.md) </span></span>  
 <span data-ttu-id="0649a-135">[要件フェーズの推奨事項](../core/requirements-phase-recommendations.md) </span><span class="sxs-lookup"><span data-stu-id="0649a-135">[Requirements Phase Recommendations](../core/requirements-phase-recommendations.md) </span></span>  
 <span data-ttu-id="0649a-136">[実装フェーズの推奨事項](../core/implementation-phase-recommendations.md) </span><span class="sxs-lookup"><span data-stu-id="0649a-136">[Implementation Phase Recommendations](../core/implementation-phase-recommendations.md) </span></span>  
 <span data-ttu-id="0649a-137">[検証フェーズの推奨事項](../core/verification-phase-recommendations.md) </span><span class="sxs-lookup"><span data-stu-id="0649a-137">[Verification Phase Recommendations](../core/verification-phase-recommendations.md) </span></span>  
 [<span data-ttu-id="0649a-138">リリース フェーズの推奨事項</span><span class="sxs-lookup"><span data-stu-id="0649a-138">Release Phase Recommendations</span></span>](../core/release-phase-recommendations.md)