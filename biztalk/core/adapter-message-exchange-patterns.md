---
title: アダプターのメッセージ交換パターン |Microsoft Docs
ms.custom: ''
ms.date: 06/08/2017
ms.prod: biztalk-server
ms.reviewer: ''
ms.suite: ''
ms.tgt_pltfrm: ''
ms.topic: article
ms.assetid: 54a3fc8f-33d0-4b7e-ad4c-b00912dc3328
caps.latest.revision: 14
author: MandiOhlinger
ms.author: mandia
manager: anneta
ms.openlocfilehash: e15afa09234b046b0cd4388a03e5d4fc92480eaf
ms.sourcegitcommit: 381e83d43796a345488d54b3f7413e11d56ad7be
ms.translationtype: MT
ms.contentlocale: ja-JP
ms.lasthandoff: 05/07/2019
ms.locfileid: "65361381"
---
# <a name="adapter-message-exchange-patterns"></a><span data-ttu-id="908ac-102">アダプターのメッセージ交換パターン</span><span class="sxs-lookup"><span data-stu-id="908ac-102">Adapter Message Exchange Patterns</span></span>
<span data-ttu-id="908ac-103">BizTalk アダプター フレームワークでは、多くの強力なメッセージング シナリオでアダプターを使用できるメッセージ交換パターンの豊富なセットをサポートしています。</span><span class="sxs-lookup"><span data-stu-id="908ac-103">The BizTalk Adapter Framework supports a rich set of message exchange patterns that adapters can use in many powerful messaging scenarios.</span></span>  
  
## <a name="one-way-asynchronous"></a><span data-ttu-id="908ac-104">一方向 (非同期)</span><span class="sxs-lookup"><span data-stu-id="908ac-104">One-Way (Asynchronous)</span></span>  
 <span data-ttu-id="908ac-105">ここで重要な概念は、メッセージが一方向に流れることです。</span><span class="sxs-lookup"><span data-stu-id="908ac-105">The key concept here is that messages flow in one direction.</span></span>  
  
 <span data-ttu-id="908ac-106">このメッセージ交換パターンでメッセージ フローに一方向[!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)]アダプターを経由します。</span><span class="sxs-lookup"><span data-stu-id="908ac-106">In this message exchange pattern, messages flow one way into [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] through an adapter.</span></span> <span data-ttu-id="908ac-107">メッセージング エンジンは、メッセージ ボックス データベースにメッセージを発行します。</span><span class="sxs-lookup"><span data-stu-id="908ac-107">The Messaging Engine publishes the message into the MessageBox database.</span></span> <span data-ttu-id="908ac-108">オーケストレーションにメッセージをその型のアクティブなサブスクリプションがある場合、メッセージは、そのオーケストレーションにルーティングされます。</span><span class="sxs-lookup"><span data-stu-id="908ac-108">If an orchestration has an active subscription to a message of that type, the message is routed to that orchestration.</span></span>  
  
 <span data-ttu-id="908ac-109">メッセージの処理後に前に、特定のエンドポイントに送信するのには、アダプターにルーティングされます、オーケストレーションはメッセージ ボックス データベースにメッセージを発行します。</span><span class="sxs-lookup"><span data-stu-id="908ac-109">After processing the message, the orchestration publishes the message back into the MessageBox database before it is routed to an adapter to be transmitted to the specific endpoint.</span></span>  
  
 <span data-ttu-id="908ac-110">エンジンにメッセージが送信されると、応答は発生しません。</span><span class="sxs-lookup"><span data-stu-id="908ac-110">When the message is submitted to the engine, no response is expected.</span></span> <span data-ttu-id="908ac-111">送信側でメッセージを送信すると、応答は発生しません。</span><span class="sxs-lookup"><span data-stu-id="908ac-111">On the outbound side, when the message is transmitted, no response is expected.</span></span> <span data-ttu-id="908ac-112">非同期メッセージングと呼ばれる通常とはさまざまな方法ですべてのエンジンによって使用される基本的なビルディング ブロック メッセージング シナリオ。</span><span class="sxs-lookup"><span data-stu-id="908ac-112">This is typically referred to as asynchronous messaging and is in many ways the basic building block used by the engine for all messaging scenarios.</span></span>  
  
## <a name="request-response-style-protocols-sync-on-async"></a><span data-ttu-id="908ac-113">要求-応答形式のプロトコル (同期で非同期)</span><span class="sxs-lookup"><span data-stu-id="908ac-113">Request-Response Style Protocols (Sync-on-Async)</span></span>  
 <span data-ttu-id="908ac-114">要求-応答シナリオでは、要求メッセージの受信、処理、および応答メッセージを送信するので構成されます。</span><span class="sxs-lookup"><span data-stu-id="908ac-114">A request-response scenario consists of receiving a request message, processing it, and sending a response message.</span></span> <span data-ttu-id="908ac-115">それも呼びます同期-非同期 (同期での非同期) ため、基になる[!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)]アーキテクチャがスケーラビリティ上の理由から非同期です。</span><span class="sxs-lookup"><span data-stu-id="908ac-115">It is also referred to as synchronous-on-asynchronous (sync-on-async) because the underlying [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] architecture is asynchronous for scalability reasons.</span></span> <span data-ttu-id="908ac-116">ただし、BizTalk メッセージング エンジンのアーキテクチャでは、これらの非同期の交換の上に、同期メッセージ交換パターンを公開することを使用できます。</span><span class="sxs-lookup"><span data-stu-id="908ac-116">However, the architecture of the BizTalk Messaging Engine enables exposing a synchronous message exchange pattern on top of these asynchronous exchanges.</span></span> <span data-ttu-id="908ac-117">これを行うには、エンジンは、さまざまな同期インターフェイスを公開する非同期メッセージ交換をリンクして、スケール アウト アーキテクチャの間での要求および応答メッセージを関連付けることの複雑なタスクを処理します。</span><span class="sxs-lookup"><span data-stu-id="908ac-117">To do this, the engine handles the complex task of correlating the request and response messages across a scaled-out architecture by linking together a number of asynchronous message exchanges to expose a synchronous interface.</span></span>  
  
 <span data-ttu-id="908ac-118">たとえば、BizTalk SOAP を SOAP 呼び出しを行う在庫を確認する Web ページには、アダプターが表示されます。</span><span class="sxs-lookup"><span data-stu-id="908ac-118">For example, a Web page that checks inventory might make a SOAP call to a BizTalk SOAP receive adapter.</span></span> [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] <span data-ttu-id="908ac-119">一連の情報を集約し、1 つの SOAP 応答で返す Web サービスを調整します。</span><span class="sxs-lookup"><span data-stu-id="908ac-119">orchestrates a series of Web services that aggregate the information and return it in one SOAP response.</span></span> <span data-ttu-id="908ac-120">クライアントにこの同期の SOAP 呼び出しに見えますが、実際に見えます同時の非同期メッセージ交換の数に、エンジン。</span><span class="sxs-lookup"><span data-stu-id="908ac-120">To the client this appears to be a synchronous SOAP call, but in actuality the engine knits together a number of asynchronous message exchanges.</span></span>  
  
## <a name="solicit-response-style-protocols"></a><span data-ttu-id="908ac-121">送信請求-応答形式のプロトコル</span><span class="sxs-lookup"><span data-stu-id="908ac-121">Solicit-Response Style Protocols</span></span>  
 <span data-ttu-id="908ac-122">このシナリオは、送信請求メッセージを送信することによって開始され、応答メッセージを受信することによって完了します。</span><span class="sxs-lookup"><span data-stu-id="908ac-122">This scenario is initiated by sending a solicit message and completed by receiving a response message.</span></span> <span data-ttu-id="908ac-123">呼びますに送信請求-応答送信される最初のメッセージが応答メッセージのエンドポイントを要求するためです。</span><span class="sxs-lookup"><span data-stu-id="908ac-123">It is referred to as solicit-response because the initial message sent is soliciting an endpoint for a response message.</span></span> <span data-ttu-id="908ac-124">このメッセージ交換パターンを使用するシナリオは、オーケストレーション、送信 HTTP 呼び出し (応答の送信請求) を行い、応答の待機中になる場合があります。</span><span class="sxs-lookup"><span data-stu-id="908ac-124">A scenario using this message exchange pattern might involve an orchestration making an outbound HTTP call (a solicit for a response) and waiting for the response.</span></span>  
  
## <a name="request-multiresponse"></a><span data-ttu-id="908ac-125">要求 Multiresponse</span><span class="sxs-lookup"><span data-stu-id="908ac-125">Request-Multiresponse</span></span>  
 <span data-ttu-id="908ac-126">このシナリオでは、要求-応答シナリオに似ています。</span><span class="sxs-lookup"><span data-stu-id="908ac-126">This scenario is similar to the request-response scenario.</span></span> <span data-ttu-id="908ac-127">ただし、このシナリオでは、複数の応答は特定の要求に対して返される可能性があります。</span><span class="sxs-lookup"><span data-stu-id="908ac-127">However, in this scenario multiple responses may be returned for a given request.</span></span> <span data-ttu-id="908ac-128">Api を指定するタイムアウト値を使用して、タイムアウト期間内に受信したすべての応答は、受信アダプターに返されます。</span><span class="sxs-lookup"><span data-stu-id="908ac-128">The APIs allow a time-out value to be specified, and all responses received within the time-out period are returned to the receive adapter.</span></span>  
  
## <a name="loop-back"></a><span data-ttu-id="908ac-129">ループバック</span><span class="sxs-lookup"><span data-stu-id="908ac-129">Loop-Back</span></span>  
 <span data-ttu-id="908ac-130">このシナリオでは、要求-応答シナリオに似ています。</span><span class="sxs-lookup"><span data-stu-id="908ac-130">This scenario is similar to the request-response scenario.</span></span> <span data-ttu-id="908ac-131">要求メッセージは通常どおり、パブリッシュされていますが、エンジンは、応答メッセージは、同じアダプターにルーティングされていることにより、インスタンス、公開された要求メッセージ。</span><span class="sxs-lookup"><span data-stu-id="908ac-131">The request message is published as usual, but the engine ensures that the response message is routed back to the same adapter instance the published the request message.</span></span> <span data-ttu-id="908ac-132">要求メッセージをメッセージ ボックス データベースに発行ため、追跡インフラストラクチャは、要求と応答のメッセージを追跡することを確認します。</span><span class="sxs-lookup"><span data-stu-id="908ac-132">Because the request message is published to the MessageBox database, the tracking infrastructure ensures that both the request and response messages are tracked.</span></span> <span data-ttu-id="908ac-133">これは、また、メッセージの送信パイプライン処理を起動し、すぐに、出力メッセージの送信に戻る後続の処理用のアダプターのことをお勧めです。</span><span class="sxs-lookup"><span data-stu-id="908ac-133">This is also a good way to invoke a send pipeline processing on message then immediately get the output message send back to the adapter for subsequent processing.</span></span>  
  
 <span data-ttu-id="908ac-134">このシナリオの例は、メッセージの受信確認を要求するクライアントです。</span><span class="sxs-lookup"><span data-stu-id="908ac-134">An example of this scenario is a client that requires a receipt for a message.</span></span> <span data-ttu-id="908ac-135">受信メッセージは、メッセージ ボックス データベースに公開されます。</span><span class="sxs-lookup"><span data-stu-id="908ac-135">The inbound message is published to the MessageBox database.</span></span> <span data-ttu-id="908ac-136">同じバッチでアダプターには、このメッセージと受信確認の両方が返されます。</span><span class="sxs-lookup"><span data-stu-id="908ac-136">Both this message and the receipt are returned to the adapter in the same batch.</span></span> <span data-ttu-id="908ac-137">この場合、受信メッセージは、クライアントと、その他の処理されている通常の方法で返される 1 つのインスタンスにコピーされます。</span><span class="sxs-lookup"><span data-stu-id="908ac-137">In this case, the inbound message is copied with one instance being returned to the client, and the other being processed in the normal manner.</span></span> <span data-ttu-id="908ac-138">この特定のシナリオでは、カスタム XML 逆アセンブラーを書き込む必要もあります。</span><span class="sxs-lookup"><span data-stu-id="908ac-138">This specific scenario also requires a custom XML disassembler to be written.</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="908ac-139">参照</span><span class="sxs-lookup"><span data-stu-id="908ac-139">See Also</span></span>  
 [<span data-ttu-id="908ac-140">アダプター フレームワークについて</span><span class="sxs-lookup"><span data-stu-id="908ac-140">What Is the Adapter Framework?</span></span>](../core/what-is-the-adapter-framework.md)