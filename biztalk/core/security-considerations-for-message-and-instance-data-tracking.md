---
title: メッセージとインスタンス データ追跡のセキュリティに関する考慮事項 |Microsoft Docs
ms.custom: ''
ms.date: 06/08/2017
ms.prod: biztalk-server
ms.reviewer: ''
ms.suite: ''
ms.tgt_pltfrm: ''
ms.topic: article
helpviewer_keywords:
- permissions, HAT
- MessageBox database, HAT
- Tracking database, HAT
- security, HAT
- HAT, permissions
- HAT, security
- Management database, HAT
ms.assetid: 83e47dc2-c8e2-42a2-9c85-d511e7dae83f
caps.latest.revision: 21
author: MandiOhlinger
ms.author: mandia
manager: anneta
ms.openlocfilehash: 4cce159d9012b3fd52405114898f1a2b257a2297
ms.sourcegitcommit: 381e83d43796a345488d54b3f7413e11d56ad7be
ms.translationtype: MT
ms.contentlocale: ja-JP
ms.lasthandoff: 05/07/2019
ms.locfileid: "65280309"
---
# <a name="security-considerations-for-message-and-instance-data-tracking"></a><span data-ttu-id="61389-102">メッセージとインスタンス データの追跡のセキュリティに関する考慮事項</span><span class="sxs-lookup"><span data-stu-id="61389-102">Security Considerations for Message and Instance Data Tracking</span></span>
<span data-ttu-id="61389-103">セキュリティ上の理由から、メッセージとサービス インスタンスの追跡を使用しませんブラウザーや Url の以前のリリースのように[!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)]します。</span><span class="sxs-lookup"><span data-stu-id="61389-103">For security reasons, message and service instance tracking does not use browsers or URLs as in previous releases of [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)].</span></span> <span data-ttu-id="61389-104">この監視オプションは、BizTalk Server 管理コンソールの [グループ概要] ページの一部として含まれています。</span><span class="sxs-lookup"><span data-stu-id="61389-104">This monitoring option is included as a part of the Group Overview page in the BizTalk Server Administration Console.</span></span>  <span data-ttu-id="61389-105">旧バージョンと互換性のため、[!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)]セキュリティ上の理由からシェル内で Microsoft Internet Explorer を引き続きホストします。</span><span class="sxs-lookup"><span data-stu-id="61389-105">For backward compatibility, [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] still hosts Microsoft Internet Explorer inside a shell for security reasons.</span></span>  

 <span data-ttu-id="61389-106">メッセージとサービス インスタンスのデータを追跡してトラブルシューティングし、最適化に必要な技術的な詳細を表示できます、[!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)]環境。</span><span class="sxs-lookup"><span data-stu-id="61389-106">By tracking message and service instance data, you can access the technical details necessary to troubleshoot and optimize your [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] environment.</span></span> <span data-ttu-id="61389-107">この追跡データは、強力なであるために、悪質または不正なユーザーが危害を及ぼさないように、実稼働環境でアクセスを制限する必要があります。</span><span class="sxs-lookup"><span data-stu-id="61389-107">Because this tracking data is powerful, you should limit access to it in your production environment so that malicious or unauthorized users do not cause damage.</span></span> <span data-ttu-id="61389-108">セキュリティで保護して環境内で、BizTalk Server 管理コンソールを使用してこれらのガイドラインに従うことをお勧めします。</span><span class="sxs-lookup"><span data-stu-id="61389-108">It is recommended you follow these guidelines for securing and using the BizTalk Server Administration Console in your environment.</span></span>  

- <span data-ttu-id="61389-109">メンバーとしてログオンする必要があります、 [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] Operators グループ、BizTalk Server 管理コンソールを使用してデータを表示します。</span><span class="sxs-lookup"><span data-stu-id="61389-109">You must be logged on as a member of the [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] Operators group to view data using the BizTalk Server Administration Console.</span></span> <span data-ttu-id="61389-110">メッセージ本文のグループの概要のセクションにアクセスする、[!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)]管理コンソールのメンバーとしてログオンする必要があります、[!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)]管理者グループ。</span><span class="sxs-lookup"><span data-stu-id="61389-110">To access message bodies in the Group Overview section of the [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] Administration console, you must be logged on as a member of the [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] Administrators group.</span></span>  

   <span data-ttu-id="61389-111">メッセージとサービス インスタンスの追跡を使用すると、次のデータベースにアクセスできます。</span><span class="sxs-lookup"><span data-stu-id="61389-111">When you use message and service instance tracking, you can access the following databases:</span></span>  


  |               <span data-ttu-id="61389-112">[データベース]</span><span class="sxs-lookup"><span data-stu-id="61389-112">Database</span></span>               |                                                                                                   <span data-ttu-id="61389-113">ユーザー/グループの権限</span><span class="sxs-lookup"><span data-stu-id="61389-113">User Group/Permissions</span></span>                                                                                                   |
  |--------------------------------------|----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
  |  <span data-ttu-id="61389-114">BizTalk 管理 (BizTalkMgmtDb)</span><span class="sxs-lookup"><span data-stu-id="61389-114">BizTalk Management (BizTalkMgmtDb)</span></span>  |              [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] <span data-ttu-id="61389-115">管理者は、[!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)]演算子</span><span class="sxs-lookup"><span data-stu-id="61389-115">Administrators, [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] Operators</span></span>               |
  | <span data-ttu-id="61389-116">BizTalk メッセージ ボックス (BizTalkMsgBoxDb)</span><span class="sxs-lookup"><span data-stu-id="61389-116">BizTalk MessageBox (BizTalkMsgBoxDb)</span></span> | [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] <span data-ttu-id="61389-117">管理者は、 [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] Operators、または読み取り/書き込みアクセス許可</span><span class="sxs-lookup"><span data-stu-id="61389-117">Administrators, [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] Operators, or read-write permissions</span></span> |
  |   <span data-ttu-id="61389-118">BizTalk 追跡 (BizTalkDTADb)</span><span class="sxs-lookup"><span data-stu-id="61389-118">BizTalk Tracking (BizTalkDTADb)</span></span>    | [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] <span data-ttu-id="61389-119">管理者は、 [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] Operators、または読み取り専用アクセス許可</span><span class="sxs-lookup"><span data-stu-id="61389-119">Administrators, [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] Operators, or read-only permissions</span></span>  |


- <span data-ttu-id="61389-120">追跡メッセージおよびサービスのインスタンスのすべてのホストに関するレポートを生成する、[!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)]クエリのパラメーターに基づいて環境。</span><span class="sxs-lookup"><span data-stu-id="61389-120">Message and service instance tracking generates reports about all hosts in the [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] environment based on the parameters of a query.</span></span> <span data-ttu-id="61389-121">メンバーのみ、情報の漏えいの可能性を最小限に抑える、 [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] Administrators グループは、BizTalk Server 管理コンソールを使用して、これらのクエリを実行します。</span><span class="sxs-lookup"><span data-stu-id="61389-121">To minimize the potential of information disclosure, only members of the [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] Administrators group can use the BizTalk Server Administration Console to execute these querries.</span></span> <span data-ttu-id="61389-122">ただし、すべてしない場合[!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)]管理者がデータにアクセスするこの追跡プロセスで生成してから、BizTalk のロール HM_EVENT_WRITER と BAM_EVENT_WRITER SQL Server の ユーザーの追加と削除、データへのアクセスを制限します。追跡 (BizTalkDTADb) データベース。</span><span class="sxs-lookup"><span data-stu-id="61389-122">However, if you do not want all [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] Administrators to have access to the data this tracking process produces, you can limit their access to the data by adding/removing users from the HM_EVENT_WRITER and BAM_EVENT_WRITER SQL Server roles in the BizTalk Tracking (BizTalkDTADb) database.</span></span>  

- <span data-ttu-id="61389-123">BizTalk では、BAM_EVENT_WRITER と HM_EVENT_WRITER の SQL Server の役割を使用して、許可/拒否のメンバーがロールのメンバーシップではなく、追跡データベースに追跡データの読み取り/書き込みアクセスを許可します。</span><span class="sxs-lookup"><span data-stu-id="61389-123">BizTalk uses the BAM_EVENT_WRITER and HM_EVENT_WRITER SQL Server roles to grant/deny their members permissions to read/write the tracking data in the Tracking database, but not through role membership.</span></span> <span data-ttu-id="61389-124">これらの SQL Server ロールは削除しないでください。</span><span class="sxs-lookup"><span data-stu-id="61389-124">Do not remove these SQL Server roles.</span></span> <span data-ttu-id="61389-125">追跡をホストしていないホストからホストを変更すると (またはその逆) adm_ChangeHostTrackingPrivilege ストアド プロシージャが呼び出されます。</span><span class="sxs-lookup"><span data-stu-id="61389-125">When you change a host from hosting to not hosting tracking (or vice versa), the adm_ChangeHostTrackingPrivilege stored procedure is called.</span></span> <span data-ttu-id="61389-126">このストアド プロシージャは、BAM_EVENT_WRITER と HM_EVENT_WRITER の SQL Server ロールの定義を読み取って、ホスト Windows グループに対応する GRANT/DENY ステートメントを適用します。</span><span class="sxs-lookup"><span data-stu-id="61389-126">This stored procedure reads the definition of the BAM_EVENT_WRITER and HM_EVENT_WRITER SQL Server roles and apply the corresponding GRANT/DENY statements to the Host Windows group.</span></span> <span data-ttu-id="61389-127">これには、これらの SQL ロールに、ホスト Windows グループを追加すると同じ効果が得られます。</span><span class="sxs-lookup"><span data-stu-id="61389-127">This achieves the same effect as adding the Host Windows group to these SQL roles.</span></span>  

- <span data-ttu-id="61389-128">アーカイブ済みのデータベースからデータを表示する BizTalk Server 管理コンソールの基本設定を構成するときに、現在アクティブな BizTalk 追跡 (BizTalkDTADb) がアーカイブ済みのデータを保持するデータベースにここで、追跡クエリ接続します。データベース。</span><span class="sxs-lookup"><span data-stu-id="61389-128">When you configure the BizTalk Server Administration Console preferences to view data from an archived database, In this case the tracking queries connect to the databases that hold the archived data, not to the currently active BizTalk Tracking (BizTalkDTADb) database.</span></span>  

- <span data-ttu-id="61389-129">ネットワーク アドレス変換 (NAT) ファイアウォールを介したライブ オーケストレーションをデバッグすることはできません。</span><span class="sxs-lookup"><span data-stu-id="61389-129">You cannot debug live orchestrations across Network Address Translation (NAT) firewalls.</span></span> <span data-ttu-id="61389-130">管理用コンピューターは、ライブ オーケストレーションをデバッグするには、処理ドメインが必要です。</span><span class="sxs-lookup"><span data-stu-id="61389-130">You must have an administration computer on the Processing domain in order to debug live orchestrations.</span></span>  

- <span data-ttu-id="61389-131">追跡およびパイプラインの構成方法に応じて[!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)]メッセージ コンテキストに含まれる機密情報を格納することがあります。</span><span class="sxs-lookup"><span data-stu-id="61389-131">Depending on how you configure tracking and the pipelines, [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] may store sensitive information contained in the message context.</span></span> <span data-ttu-id="61389-132">メッセージ本文をファイルの場所に保存する WMI または追跡を使用する場合は、場所がだけが強力な随意アクセス制御リスト (DACL) を持つことを確認[!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)]管理者がこれらのメッセージ本文へのアクセス許可を読み取る。</span><span class="sxs-lookup"><span data-stu-id="61389-132">If you use WMI or tracking to save message bodies to a file location, ensure that the location has a strong discretionary access control list (DACL) so that only [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] Administrators have read permissions to these message bodies.</span></span> <span data-ttu-id="61389-133">非 BizTalk データベースのアーカイブし、復元可能性がありますも含め、メッセージ本文を保存する任意の場所に同一の DACL を適用します。</span><span class="sxs-lookup"><span data-stu-id="61389-133">Apply the same DACL to any location you save the message bodies, including non-BizTalk databases where you may archive and restore them.</span></span>  

- <span data-ttu-id="61389-134">アクセス許可を手動で付与する必要があります、 [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] Administrators グループ、Tracking Analysis Server (BizTalkAnalysisDb) データベースへのアクセスに既定では、OLAP 管理者のみがあることへのアクセス許可。</span><span class="sxs-lookup"><span data-stu-id="61389-134">You must manually grant permissions to the [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] Administrators group to access the Tracking Analysis Server (BizTalkAnalysisDb) database; by default, only OLAP administrators have permissions to it.</span></span>  

## <a name="see-also"></a><span data-ttu-id="61389-135">参照</span><span class="sxs-lookup"><span data-stu-id="61389-135">See Also</span></span>  
 <span data-ttu-id="61389-136">[メッセージとインスタンスの追跡の計画](../core/planning-for-message-and-instance-tracking.md) </span><span class="sxs-lookup"><span data-stu-id="61389-136">[Planning for Message and Instance Tracking](../core/planning-for-message-and-instance-tracking.md) </span></span>  
 [<span data-ttu-id="61389-137">追跡メッセージおよびインスタンス データの表示</span><span class="sxs-lookup"><span data-stu-id="61389-137">Viewing Tracked Message and Instance Data</span></span>](../core/viewing-tracked-message-and-instance-data.md)