---
title: "メッセージとインスタンス データ追跡のセキュリティに関する考慮事項 |Microsoft ドキュメント"
ms.custom: 
ms.date: 06/08/2017
ms.prod: biztalk-server
ms.reviewer: 
ms.suite: 
ms.tgt_pltfrm: 
ms.topic: article
helpviewer_keywords:
- permissions, HAT
- MessageBox database, HAT
- Tracking database, HAT
- security, HAT
- HAT, permissions
- HAT, security
- Management database, HAT
ms.assetid: 83e47dc2-c8e2-42a2-9c85-d511e7dae83f
caps.latest.revision: "21"
author: MandiOhlinger
ms.author: mandia
manager: anneta
ms.openlocfilehash: 7c342a62470fa26365f439cda242eeb119689737
ms.sourcegitcommit: cb908c540d8f1a692d01dc8f313e16cb4b4e696d
ms.translationtype: MT
ms.contentlocale: ja-JP
ms.lasthandoff: 09/20/2017
---
# <a name="security-considerations-for-message-and-instance-data-tracking"></a><span data-ttu-id="480df-102">メッセージとインスタンス データの追跡のセキュリティに関する考慮事項</span><span class="sxs-lookup"><span data-stu-id="480df-102">Security Considerations for Message and Instance Data Tracking</span></span>
<span data-ttu-id="480df-103">セキュリティ上の理由により、メッセージとサービス インスタンスの追跡では、[!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] の以前のリリースとは異なりブラウザーや URL を使用しません。</span><span class="sxs-lookup"><span data-stu-id="480df-103">For security reasons, message and service instance tracking does not use browsers or URLs as in previous releases of [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)].</span></span> <span data-ttu-id="480df-104">この監視オプションは BizTalk Server 管理コンソールの [グループの概要] ページに含まれています。</span><span class="sxs-lookup"><span data-stu-id="480df-104">This monitoring option is included as a part of the Group Overview page in the BizTalk Server Administration Console.</span></span>  <span data-ttu-id="480df-105">下位互換性のため、[!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] ではセキュリティ上の理由からシェル内で Microsoft Internet Explorer をホストします。</span><span class="sxs-lookup"><span data-stu-id="480df-105">For backward compatibility, [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] still hosts Microsoft Internet Explorer inside a shell for security reasons.</span></span>  
  
 <span data-ttu-id="480df-106">メッセージとサービス インスタンス データを追跡することで、[!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] 環境のトラブルシューティングと最適化に必要な技術的な詳細にアクセスできます。</span><span class="sxs-lookup"><span data-stu-id="480df-106">By tracking message and service instance data, you can access the technical details necessary to troubleshoot and optimize your [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] environment.</span></span> <span data-ttu-id="480df-107">この追跡データは強力なので、実稼働環境ではアクセスを制限し、悪意のあるユーザーや未承認のユーザーが危害を及ぼさないようにしてください。</span><span class="sxs-lookup"><span data-stu-id="480df-107">Because this tracking data is powerful, you should limit access to it in your production environment so that malicious or unauthorized users do not cause damage.</span></span> <span data-ttu-id="480df-108">BizTalk Server 管理コンソールをセキュリティで保護して環境で使用するには、次のガイドラインに従うことをお勧めします。</span><span class="sxs-lookup"><span data-stu-id="480df-108">It is recommended you follow these guidelines for securing and using the BizTalk Server Administration Console in your environment.</span></span>  
  
-   <span data-ttu-id="480df-109">BizTalk Server 管理コンソールを使用してデータを表示するには、[!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] Operators グループのメンバーとしてログオンする必要があります。</span><span class="sxs-lookup"><span data-stu-id="480df-109">You must be logged on as a member of the [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] Operators group to view data using the BizTalk Server Administration Console.</span></span> <span data-ttu-id="480df-110">[!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] 管理コンソールの [グループの概要] セクションのメッセージ本文にアクセスするには、[!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] 管理者グループのメンバーとしてログオンする必要があります。</span><span class="sxs-lookup"><span data-stu-id="480df-110">To access message bodies in the Group Overview section of the [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] Administration console, you must be logged on as a member of the [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] Administrators group.</span></span>  
  
     <span data-ttu-id="480df-111">メッセージとサービス インスタンスの追跡を使用すると、次のデータベースにアクセスできます。</span><span class="sxs-lookup"><span data-stu-id="480df-111">When you use message and service instance tracking, you can access the following databases:</span></span>  
  
    |<span data-ttu-id="480df-112">データベース</span><span class="sxs-lookup"><span data-stu-id="480df-112">Database</span></span>|<span data-ttu-id="480df-113">ユーザー グループ/アクセス許可</span><span class="sxs-lookup"><span data-stu-id="480df-113">User Group/Permissions</span></span>|  
    |--------------|-----------------------------|  
    |<span data-ttu-id="480df-114">BizTalk 管理 (BizTalkMgmtDb)</span><span class="sxs-lookup"><span data-stu-id="480df-114">BizTalk Management (BizTalkMgmtDb)</span></span>|[!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)]<span data-ttu-id="480df-115"> 管理者、[!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] Operators</span><span class="sxs-lookup"><span data-stu-id="480df-115"> Administrators, [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] Operators</span></span>|  
    |<span data-ttu-id="480df-116">BizTalk メッセージ ボックス (BizTalkMsgBoxDb)</span><span class="sxs-lookup"><span data-stu-id="480df-116">BizTalk MessageBox (BizTalkMsgBoxDb)</span></span>|[!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)]<span data-ttu-id="480df-117"> 管理者、[!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] Operators、または読み取り書き込みアクセス許可</span><span class="sxs-lookup"><span data-stu-id="480df-117"> Administrators, [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] Operators, or read-write permissions</span></span>|  
    |<span data-ttu-id="480df-118">BizTalk 追跡 (BizTalkDTADb)</span><span class="sxs-lookup"><span data-stu-id="480df-118">BizTalk Tracking (BizTalkDTADb)</span></span>|[!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)]<span data-ttu-id="480df-119"> 管理者、[!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] Operators、または読み取り専用アクセス許可</span><span class="sxs-lookup"><span data-stu-id="480df-119"> Administrators, [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] Operators, or read-only permissions</span></span>|  
  
-   <span data-ttu-id="480df-120">メッセージとサービス インスタンスの追跡により、クエリのパラメーターに基づいて [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] 環境のすべてのホストに関するレポートが生成されます。</span><span class="sxs-lookup"><span data-stu-id="480df-120">Message and service instance tracking generates reports about all hosts in the [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] environment based on the parameters of a query.</span></span> <span data-ttu-id="480df-121">情報漏えいの可能性を最小限に抑えるため、[!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] 管理者グループのメンバーのみが BizTalk Server 管理コンソールを使用してこれらのクエリを実行できます。</span><span class="sxs-lookup"><span data-stu-id="480df-121">To minimize the potential of information disclosure, only members of the [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] Administrators group can use the BizTalk Server Administration Console to execute these querries.</span></span> <span data-ttu-id="480df-122">この追跡プロセスで生成されるデータに [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] 管理者の全員がアクセスできることを希望しない場合、データにアクセスするメンバーを制限するために、BizTalk 追跡 (BizTalkDTADb) データベースの SQL Server ロール HM_EVENT_WRITER と BAM_EVENT_WRITER に対して、ユーザーの追加と削除を行います。</span><span class="sxs-lookup"><span data-stu-id="480df-122">However, if you do not want all [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] Administrators to have access to the data this tracking process produces, you can limit their access to the data by adding/removing users from the HM_EVENT_WRITER and BAM_EVENT_WRITER SQL Server roles in the BizTalk Tracking (BizTalkDTADb) database.</span></span>  
  
-   <span data-ttu-id="480df-123">SQL Server ロール BAM_EVENT_WRITER と HM_EVENT_WRITER は、追跡データベースの追跡データを読み取ったり書き込んだりする権限を管理者グループのメンバーに許可または拒否するために使用されます。その際、ロールのメンバーシップは使用されません。</span><span class="sxs-lookup"><span data-stu-id="480df-123">BizTalk uses the BAM_EVENT_WRITER and HM_EVENT_WRITER SQL Server roles to grant/deny their members permissions to read/write the tracking data in the Tracking database, but not through role membership.</span></span> <span data-ttu-id="480df-124">これらの SQL Server ロールは削除しないでください。</span><span class="sxs-lookup"><span data-stu-id="480df-124">Do not remove these SQL Server roles.</span></span> <span data-ttu-id="480df-125">ホスト追跡していないことをホストからホストを変更すると (またはその逆) adm_ChangeHostTrackingPrivilege ストアド プロシージャが呼び出されます。</span><span class="sxs-lookup"><span data-stu-id="480df-125">When you change a host from hosting to not hosting tracking (or vice versa), the adm_ChangeHostTrackingPrivilege stored procedure is called.</span></span> <span data-ttu-id="480df-126">このストアド プロシージャで、SQL Server ロール BAM_EVENT_WRITER と HM_EVENT_WRITER の定義が読み取られ、対応する GRANT/DENY ステートメントが Host Windows グループに適用されます。</span><span class="sxs-lookup"><span data-stu-id="480df-126">This stored procedure reads the definition of the BAM_EVENT_WRITER and HM_EVENT_WRITER SQL Server roles and apply the corresponding GRANT/DENY statements to the Host Windows group.</span></span> <span data-ttu-id="480df-127">この動作は、それぞれの SQL ロールに Host Windows グループを追加するのと同等の効果があります。</span><span class="sxs-lookup"><span data-stu-id="480df-127">This achieves the same effect as adding the Host Windows group to these SQL roles.</span></span>  
  
-   <span data-ttu-id="480df-128">アーカイブ済みのデータベースのデータを表示するように BizTalk Server 管理コンソールの基本設定を構成している場合、追跡クエリは現在アクティブな BizTalk 追跡 (BizTalkDTADb) データベースではなく、アーカイブ済みのデータが保存されているデータベースに接続されます。</span><span class="sxs-lookup"><span data-stu-id="480df-128">When you configure the BizTalk Server Administration Console preferences to view data from an archived database, In this case the tracking queries connect to the databases that hold the archived data, not to the currently active BizTalk Tracking (BizTalkDTADb) database.</span></span>  
  
-   <span data-ttu-id="480df-129">ネットワーク アドレス変換 (NAT) ファイアウォールを経由してライブ オーケストレーションをデバッグすることはできません。</span><span class="sxs-lookup"><span data-stu-id="480df-129">You cannot debug live orchestrations across Network Address Translation (NAT) firewalls.</span></span> <span data-ttu-id="480df-130">ライブ オーケストレーションをデバッグするには、処理ドメインに管理用のコンピューターを用意する必要があります。</span><span class="sxs-lookup"><span data-stu-id="480df-130">You must have an administration computer on the Processing domain in order to debug live orchestrations.</span></span>  
  
-   <span data-ttu-id="480df-131">追跡とパイプラインの構成の方法によっては、[!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] にメッセージ コンテキスト内の機密情報が保存される場合があります。</span><span class="sxs-lookup"><span data-stu-id="480df-131">Depending on how you configure tracking and the pipelines, [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] may store sensitive information contained in the message context.</span></span> <span data-ttu-id="480df-132">WMI または追跡を使用してメッセージ本文をファイルの場所に保存する場合、その場所の随意アクセス制御リスト (DACL) を強化して、[!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] 管理者のみにメッセージ本文の読み取りアクセス許可を与えるようにしてください。</span><span class="sxs-lookup"><span data-stu-id="480df-132">If you use WMI or tracking to save message bodies to a file location, ensure that the location has a strong discretionary access control list (DACL) so that only [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] Administrators have read permissions to these message bodies.</span></span> <span data-ttu-id="480df-133">メッセージ本文、および本文のアーカイブと復元が可能な BizTalk 以外のデータベースを保存する場所には、同一の DACL を適用します。</span><span class="sxs-lookup"><span data-stu-id="480df-133">Apply the same DACL to any location you save the message bodies, including non-BizTalk databases where you may archive and restore them.</span></span>  
  
-   <span data-ttu-id="480df-134">[!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] 管理者グループに、Tracking Analysis Server (BizTalkAnalysisDb) データベースへのアクセス許可を手動で与える必要があります。既定では、このデータベースにアクセスできるのは OLAP 管理者のみです。</span><span class="sxs-lookup"><span data-stu-id="480df-134">You must manually grant permissions to the [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] Administrators group to access the Tracking Analysis Server (BizTalkAnalysisDb) database; by default, only OLAP administrators have permissions to it.</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="480df-135">参照</span><span class="sxs-lookup"><span data-stu-id="480df-135">See Also</span></span>  
 <span data-ttu-id="480df-136">[メッセージとインスタンスの追跡の計画](../core/planning-for-message-and-instance-tracking.md) </span><span class="sxs-lookup"><span data-stu-id="480df-136">[Planning for Message and Instance Tracking](../core/planning-for-message-and-instance-tracking.md) </span></span>  
 [<span data-ttu-id="480df-137">追跡メッセージを表示し、インスタンス データ</span><span class="sxs-lookup"><span data-stu-id="480df-137">Viewing Tracked Message and Instance Data</span></span>](../core/viewing-tracked-message-and-instance-data.md)