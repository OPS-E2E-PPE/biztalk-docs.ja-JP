---
title: "EDI スキーマを変更する |Microsoft ドキュメント"
ms.custom: 
ms.date: 06/08/2017
ms.prod: biztalk-server
ms.reviewer: 
ms.suite: 
ms.tgt_pltfrm: 
ms.topic: article
ms.assetid: 6fa33c5e-17ca-4aaf-a1ca-1972a9bb45ac
caps.latest.revision: "24"
author: MandiOhlinger
ms.author: mandia
manager: anneta
ms.openlocfilehash: de196288f3f1d4475e6859e2440e4b03b1e521dc
ms.sourcegitcommit: 3fc338e52d5dbca2c3ea1685a2faafc7582fe23a
ms.translationtype: MT
ms.contentlocale: ja-JP
ms.lasthandoff: 12/01/2017
---
# <a name="modifying-edi-schemas"></a><span data-ttu-id="b7a2d-102">EDI スキーマを変更します。</span><span class="sxs-lookup"><span data-stu-id="b7a2d-102">Modifying EDI Schemas</span></span>
<span data-ttu-id="b7a2d-103">[!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] に付属する既存の EDI スキーマに変更を加えることができます。</span><span class="sxs-lookup"><span data-stu-id="b7a2d-103">You can modify an existing EDI schema that is shipped in [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)].</span></span> <span data-ttu-id="b7a2d-104">標準スキーマの変更について取引先と合意し、そしておそらく関連する Message Implementation Guideline (MIG) ファイルを変更した後で、[!INCLUDE[btsVStudioNoVersion](../includes/btsvstudionoversion-md.md)] の BizTalk エディターを使用してスキーマを変更することができます。</span><span class="sxs-lookup"><span data-stu-id="b7a2d-104">When you and your trading partners have agreed on modifications to standard schemas, and perhaps changed the relevant Message Implementation Guideline (MIG) file, you can modify the schemas in the BizTalk Editor in [!INCLUDE[btsVStudioNoVersion](../includes/btsvstudionoversion-md.md)].</span></span>  
  
> [!NOTE]
>  <span data-ttu-id="b7a2d-105">一部のスキーマ変更 (クロスフィールド検証と HIPAA サブドキュメントの分割) では、EDI スキーマの注釈が変更されます。</span><span class="sxs-lookup"><span data-stu-id="b7a2d-105">Some schema modifications (cross-field validation and HIPAA subdocument splitting) involve changes to the annotations in an EDI schema.</span></span> <span data-ttu-id="b7a2d-106">これらの変更は、BizTalk エディタで実行することはできませんが、メモ帳などのテキスト エディタを使用して実行できます。</span><span class="sxs-lookup"><span data-stu-id="b7a2d-106">These changes cannot be made in BizTalk Editor, but can be made in a text editor, such as Notepad.</span></span>  
  
## <a name="prerequisites"></a><span data-ttu-id="b7a2d-107">前提条件</span><span class="sxs-lookup"><span data-stu-id="b7a2d-107">Prerequisites</span></span>  
 <span data-ttu-id="b7a2d-108">[!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] 管理者グループのメンバーとしてログオンしている必要があります。</span><span class="sxs-lookup"><span data-stu-id="b7a2d-108">You must be logged on as a member of the [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] Administrators group.</span></span>  
  
## <a name="schema-naming-convention"></a><span data-ttu-id="b7a2d-109">スキーマの名前付け規則</span><span class="sxs-lookup"><span data-stu-id="b7a2d-109">Schema Naming Convention</span></span>  
 <span data-ttu-id="b7a2d-110">EDI スキーマはルート名と名前空間で識別されます。</span><span class="sxs-lookup"><span data-stu-id="b7a2d-110">An EDI schema is identified by its root name and its namespace.</span></span> <span data-ttu-id="b7a2d-111">同じルート名と名前空間を持つ同じ BizTalk グループ内に 2 つのスキーマを展開することはできません。</span><span class="sxs-lookup"><span data-stu-id="b7a2d-111">You cannot deploy two schemas in the same BizTalk Group with the same root name and namespace.</span></span> <span data-ttu-id="b7a2d-112">EDI スキーマのルート名を変更したり、ルート名に追加することはできません。これは、標準の名前付け規則に従って、ルート名にはバージョンとドキュメントの種類を含める必要があるためです。</span><span class="sxs-lookup"><span data-stu-id="b7a2d-112">You cannot modify the root name of any EDI schema, or add to the root name, because the root name must contain the version and the document type in a standard naming convention.</span></span> <span data-ttu-id="b7a2d-113">したがって、同じルート名を持つ同じ BizTalk グループ内に 2 つのスキーマを展開するには、それぞれに別の名前空間を使用する必要があります。</span><span class="sxs-lookup"><span data-stu-id="b7a2d-113">As a result, if you want to deploy two schemas in the same BizTalk Group with the same root name, you must use a different namespace for each one.</span></span>  
  
 <span data-ttu-id="b7a2d-114">同じ BizTalk グループ内で、2 つ以上の異なる取引先に対して同じスキーマの異なるバージョンを展開することは珍しくありません。</span><span class="sxs-lookup"><span data-stu-id="b7a2d-114">It is not uncommon for a company to deploy in the same BizTalk Group a different version of the same schema for two or more different trading partners.</span></span> <span data-ttu-id="b7a2d-115">この場合、2 つのスキーマのバージョンとドキュメントの種類は同じになります。</span><span class="sxs-lookup"><span data-stu-id="b7a2d-115">In this case, the two schemas would have the same version and the same document type.</span></span> <span data-ttu-id="b7a2d-116">これらの 2 つのスキーマを展開するには、スキーマごとに異なる名前空間を使用する必要があります。</span><span class="sxs-lookup"><span data-stu-id="b7a2d-116">To deploy these two schemas, you would have to have different namespaces for each schema.</span></span>  
  
## <a name="edi-schema-changes"></a><span data-ttu-id="b7a2d-117">EDI スキーマの変更</span><span class="sxs-lookup"><span data-stu-id="b7a2d-117">EDI Schema Changes</span></span>  
 <span data-ttu-id="b7a2d-118">[!INCLUDE[btsVStudioNoVersion](../includes/btsvstudionoversion-md.md)] では、EDI スキーマに次の変更を加えることができます。</span><span class="sxs-lookup"><span data-stu-id="b7a2d-118">You can make the following changes to an EDI schema in [!INCLUDE[btsVStudioNoVersion](../includes/btsvstudionoversion-md.md)]:</span></span>  
  
|<span data-ttu-id="b7a2d-119">目的</span><span class="sxs-lookup"><span data-stu-id="b7a2d-119">To do this</span></span>|<span data-ttu-id="b7a2d-120">方法</span><span class="sxs-lookup"><span data-stu-id="b7a2d-120">Do this</span></span>|  
|----------------|-------------|  
|<span data-ttu-id="b7a2d-121">列挙の変更</span><span class="sxs-lookup"><span data-stu-id="b7a2d-121">Change an enumeration</span></span><br /><br /> <span data-ttu-id="b7a2d-122">(コード リストの値の一覧など)</span><span class="sxs-lookup"><span data-stu-id="b7a2d-122">(such as the list of values in a code list)</span></span>|<span data-ttu-id="b7a2d-123">要素のプロパティで、開く、**列挙エディター**とに、値を追加または列挙型の一覧から値を削除します。</span><span class="sxs-lookup"><span data-stu-id="b7a2d-123">In the properties for an element, open the **Enumeration Editor** and add a value to, or delete a value from, the enumeration list.</span></span>|  
|<span data-ttu-id="b7a2d-124">データ要素の選択肢の変更</span><span class="sxs-lookup"><span data-stu-id="b7a2d-124">Change the optionality of a data element</span></span>|<span data-ttu-id="b7a2d-125">変更、 **Min Occurs**プロパティです。</span><span class="sxs-lookup"><span data-stu-id="b7a2d-125">Change the **Min Occurs** property.</span></span> <span data-ttu-id="b7a2d-126">フィールドを省略可能にする場合は 0、必須にする場合は 1 に変更します。</span><span class="sxs-lookup"><span data-stu-id="b7a2d-126">Change it to 0 to make the field optional or to 1 to make it required.</span></span>|  
|<span data-ttu-id="b7a2d-127">データ要素をファイルに表示できる最大回数の変更</span><span class="sxs-lookup"><span data-stu-id="b7a2d-127">Change the maximum number of times that a data element can appear in the file</span></span>|<span data-ttu-id="b7a2d-128">変更、 **Max Occurs**プロパティです。</span><span class="sxs-lookup"><span data-stu-id="b7a2d-128">Change the **Max Occurs** property.</span></span>|  
|<span data-ttu-id="b7a2d-129">データ要素の文字数の変更</span><span class="sxs-lookup"><span data-stu-id="b7a2d-129">Change the number of characters in the data element</span></span>|<span data-ttu-id="b7a2d-130">変更、**長さ**プロパティです。</span><span class="sxs-lookup"><span data-stu-id="b7a2d-130">Change the **Length** property.</span></span>|  
|<span data-ttu-id="b7a2d-131">データ要素のデータ型の変更</span><span class="sxs-lookup"><span data-stu-id="b7a2d-131">Change the data type of a data element</span></span>|<span data-ttu-id="b7a2d-132">変更、 **Base Data Type**または**Date 型**プロパティです。</span><span class="sxs-lookup"><span data-stu-id="b7a2d-132">Change the **Base Data Type** or **Date Type** property.</span></span>|  
|<span data-ttu-id="b7a2d-133">カスタム フィールドの追加</span><span class="sxs-lookup"><span data-stu-id="b7a2d-133">Add a custom field</span></span>|<span data-ttu-id="b7a2d-134">子フィールド要素スキーマ ノードを挿入し、そのプロパティを設定します。</span><span class="sxs-lookup"><span data-stu-id="b7a2d-134">Insert a child field element schema node and set its properties.</span></span> <span data-ttu-id="b7a2d-135">**注:** EDI スキーマ内のレコードに子フィールド属性を追加することはできません、ため、要素の順序は保証されません。</span><span class="sxs-lookup"><span data-stu-id="b7a2d-135">**Note:**  Adding a child field attribute to a record in an EDI schema is not allowed, because the sequence of the elements would not be guaranteed.</span></span> <span data-ttu-id="b7a2d-136">子フィールド属性を追加しようとすると、無効なスキーマが生成されます。</span><span class="sxs-lookup"><span data-stu-id="b7a2d-136">Trying to add a child field attribute results in an invalid schema.</span></span> <span data-ttu-id="b7a2d-137">EDI スキーマ内のレコードに追加できるのは、子フィールド要素のみです。</span><span class="sxs-lookup"><span data-stu-id="b7a2d-137">You can only add a child field element to a record in an EDI schema.</span></span>|  
|<span data-ttu-id="b7a2d-138">カスタム レコードの追加</span><span class="sxs-lookup"><span data-stu-id="b7a2d-138">Add a custom record</span></span>|<span data-ttu-id="b7a2d-139">子レコード スキーマ ノードを挿入し、そのプロパティを設定した後、子フィールド要素を追加します。</span><span class="sxs-lookup"><span data-stu-id="b7a2d-139">Insert a child record schema node, set its properties, and then add child field elements.</span></span>|  
|<span data-ttu-id="b7a2d-140">カスタム フィールドまたはレコードの削除</span><span class="sxs-lookup"><span data-stu-id="b7a2d-140">Delete a custom field or record</span></span>|<span data-ttu-id="b7a2d-141">カスタム フィールドまたはカスタム レコードを子フィールド要素と共に削除します。</span><span class="sxs-lookup"><span data-stu-id="b7a2d-141">Delete a custom field or a custom record with its child field elements.</span></span>|  
|<span data-ttu-id="b7a2d-142">クロスフィールド検証の有効化</span><span class="sxs-lookup"><span data-stu-id="b7a2d-142">Enable cross-field validation</span></span>|<span data-ttu-id="b7a2d-143">スキーマの appinfo セクションの注釈にクロス フィールド検証フラグを設定**はい**です。</span><span class="sxs-lookup"><span data-stu-id="b7a2d-143">Set the cross-field validation flag in the annotation in the appinfo section of the schema to **Yes**.</span></span> <span data-ttu-id="b7a2d-144">このフラグは**X12ConditionDesignator_Check** (X12 または HIPAA スキーマの場合) 用または**EdifactDependencyRule_Check** (EDIFACT スキーマ) のです。</span><span class="sxs-lookup"><span data-stu-id="b7a2d-144">This flag is either **X12ConditionDesignator_Check** (for X12 or HIPAA schemas) or **EdifactDependencyRule_Check** (for EDIFACT schemas).</span></span><br /><br /> <span data-ttu-id="b7a2d-145">関係条件 (X12 および HIPAA) または依存ルール (EDIFACT) を指定して、特定の要素のクロスフィールド検証を有効にします。</span><span class="sxs-lookup"><span data-stu-id="b7a2d-145">Enable cross-field validation for a specific element by specifying the relational conditions (X12 and HIPAA) or dependency rules (EDIFACT).</span></span> <span data-ttu-id="b7a2d-146">詳細については、次を参照してください。[クロス フィールド検証の構成](../core/configuring-cross-field-validation.md)です。</span><span class="sxs-lookup"><span data-stu-id="b7a2d-146">For more information, see [Configuring Cross-Field Validation](../core/configuring-cross-field-validation.md).</span></span><br /><br /> <span data-ttu-id="b7a2d-147">設定する必要があります、 **Edi 型の検証**プロパティを**はい**です。</span><span class="sxs-lookup"><span data-stu-id="b7a2d-147">You also need to set the **Edi type validation** property to **yes**.</span></span><br /><br /> <span data-ttu-id="b7a2d-148">クロスフィールド検証は、HIPAA スキーマに対しては既定で有効になっています。</span><span class="sxs-lookup"><span data-stu-id="b7a2d-148">Cross-field validation is enabled by default for HIPAA schemas.</span></span>|  
|<span data-ttu-id="b7a2d-149">HIPAA サブドキュメントの分割の有効化</span><span class="sxs-lookup"><span data-stu-id="b7a2d-149">Enable HIPAA subdocument splitting</span></span>|<span data-ttu-id="b7a2d-150">サブドキュメントの分割を設定する HIPAA スキーマの 1 つは、設定、 **subdocument_break**と**Split_Without_Sibling_Data**するスキーマのプロパティ**はい**および**subdocument_creation_break**プロパティをスキーマ内の特定の要素を**はい**です。</span><span class="sxs-lookup"><span data-stu-id="b7a2d-150">In one of the HIPAA schemas that you can set subdocument splitting in, set the **subdocument_break** and **Split_Without_Sibling_Data** properties for the schema to **yes** and the **subdocument_creation_break** property for a specific element in the schema to **yes**.</span></span><br /><br /> <span data-ttu-id="b7a2d-151">設定する必要があります、**受信バッチ処理オプション**アグリーメント プロパティを**トランザクション セットとして分割されたインターチェンジ**です。</span><span class="sxs-lookup"><span data-stu-id="b7a2d-151">You also need to set the **Inbound batch processing option** agreement property to **Split Interchange as Transaction Sets**.</span></span><br /><br /> <span data-ttu-id="b7a2d-152">詳細については、次を参照してください。 [HIPAA サブドキュメントの分割](../core/splitting-hipaa-subdocuments.md)です。</span><span class="sxs-lookup"><span data-stu-id="b7a2d-152">For more information, see [Splitting HIPAA Subdocuments](../core/splitting-hipaa-subdocuments.md).</span></span>|  
|<span data-ttu-id="b7a2d-153">トリガー フィールドを HIPAA ドキュメントに追加</span><span class="sxs-lookup"><span data-stu-id="b7a2d-153">Add trigger fields to a HIPAA document</span></span>|<span data-ttu-id="b7a2d-154">"トリガー フィールド" と呼ばれる修飾子要素を基にして、HIPAA ドキュメントの 1 つのセグメントに対する一意の XML レコードを EDI 逆アセンブラーに作成することができます。</span><span class="sxs-lookup"><span data-stu-id="b7a2d-154">You can allow the EDI disassembler to create unique XML records for a segment of your HIPAA document, based on a qualifying element known as a trigger field.</span></span> <span data-ttu-id="b7a2d-155">セグメントに対して一意の XML レコードが作成されるように、そのセグメントを表す属性とトリガー値を指定する必要があります。</span><span class="sxs-lookup"><span data-stu-id="b7a2d-155">You must specify the attributes that describe the segment and the trigger value so a unique XML record is created for the segment.</span></span> <span data-ttu-id="b7a2d-156">詳細については、次を参照してください。 [HIPAA トリガー フィールドの注釈をスキーマ](../core/hipaa-schema-trigger-field-annotations.md)です。</span><span class="sxs-lookup"><span data-stu-id="b7a2d-156">For more information, see [HIPAA Schema Trigger Field Annotations](../core/hipaa-schema-trigger-field-annotations.md).</span></span>|  
|<span data-ttu-id="b7a2d-157">セグメントを X12 トランザクション セットに追加</span><span class="sxs-lookup"><span data-stu-id="b7a2d-157">Add a segment to an X12 transaction set</span></span>|<span data-ttu-id="b7a2d-158">X12 トランザクション セットに新しいセグメントを追加すると、セグメント名の最初の 3 文字がセグメント識別子として使用されます。</span><span class="sxs-lookup"><span data-stu-id="b7a2d-158">When you add a new segment to an X12 transaction set, the first three characters of the segment name are used as the segment identifier.</span></span> <span data-ttu-id="b7a2d-159">そのため、セグメントの名前は最初の 3 文字が一意になるように付けることをお勧めします。</span><span class="sxs-lookup"><span data-stu-id="b7a2d-159">Hence, we recommend that you name a segment such that the first three characters are unique.</span></span>|  
|<span data-ttu-id="b7a2d-160">ループを HIPAA トランザクション セットに追加</span><span class="sxs-lookup"><span data-stu-id="b7a2d-160">Add a loop to a HIPAA transaction set</span></span>|<span data-ttu-id="b7a2d-161">HIPAA トランザクション セットに新しいループを追加するときは、ループの名前の中に「Loop」を入れることをお勧めします。</span><span class="sxs-lookup"><span data-stu-id="b7a2d-161">When you add a new loop to a HIPAA transaction set, we recommend naming the loop to include “Loop” within the name.</span></span> <span data-ttu-id="b7a2d-162">たとえば、"TS837_2010AB_Loop" という形式でループ名を指定します。</span><span class="sxs-lookup"><span data-stu-id="b7a2d-162">An example format for a loop is “TS837_2010AB_Loop”.</span></span> <span data-ttu-id="b7a2d-163">**注:**ループの最初のセグメントは必須です (このセグメントの minOccurs は 1 である必要があります) のあいまいさを回避するためにします。</span><span class="sxs-lookup"><span data-stu-id="b7a2d-163">**Note:**  The first segment in a loop is mandatory (minOccurs of the segment must be equal to 1) in order to avoid ambiguity.</span></span>|  
|<span data-ttu-id="b7a2d-164">"順不同ループ" を HIPAA トランザクション セットに追加</span><span class="sxs-lookup"><span data-stu-id="b7a2d-164">Add an ‘any order loop’ to a HIPAA transaction set</span></span>|<span data-ttu-id="b7a2d-165">1 つのトランザクション セットの中に、セマンティクスが異なる等価なセグメントが複数ある場合は、これらのセグメントを同じサブループの中で定義する必要があります。</span><span class="sxs-lookup"><span data-stu-id="b7a2d-165">When a transaction set has equivalent segments with different semantics, you must define them in a SubLoop.</span></span> <span data-ttu-id="b7a2d-166">XML コメントに、サブループ\<xs:all\>により、任意の順序で発生するのと同等のセグメント。</span><span class="sxs-lookup"><span data-stu-id="b7a2d-166">A SubLoop with XML annotation of \<xs:all\> allows equivalent segments to occur in any order.</span></span><br /><br /> <span data-ttu-id="b7a2d-167">"順不同" ループの名前には "SubLoop" を入れることをお勧めします。</span><span class="sxs-lookup"><span data-stu-id="b7a2d-167">We recommend that you name an ‘any order loop’ to include “SubLoop” in the loop name.</span></span> <span data-ttu-id="b7a2d-168">たとえばの形式は、"ts837q1_2010"**注:**順不同ループの要素は必要があります、ループ内で 1 回出現するだけです。</span><span class="sxs-lookup"><span data-stu-id="b7a2d-168">An example format is “TS837Q1_2010A_SubLoop” **Note:**  The elements of an any order loop must only occur once within the loop.</span></span> <span data-ttu-id="b7a2d-169">あいまいさを避けるために、サブループの兄弟では maxOccurs が 1 に設定されている必要があります。</span><span class="sxs-lookup"><span data-stu-id="b7a2d-169">The siblings of a SubLoop must have a maxOccurs set to 1, in order to avoid ambiguity.</span></span>|  
  
### <a name="to-modify-an-existing-edi-schema-in-biztalk-editor"></a><span data-ttu-id="b7a2d-170">BizTalk エディタで既存の EDI スキーマを変更するには</span><span class="sxs-lookup"><span data-stu-id="b7a2d-170">To modify an existing EDI schema in BizTalk Editor</span></span>  
  
1.  <span data-ttu-id="b7a2d-171">[!INCLUDE[btsVStudioNoVersion](../includes/btsvstudionoversion-md.md)] で、変更を加えるスキーマをプロジェクトに追加し、そのスキーマを BizTalk エディターで開きます。</span><span class="sxs-lookup"><span data-stu-id="b7a2d-171">In [!INCLUDE[btsVStudioNoVersion](../includes/btsvstudionoversion-md.md)], add the schema that you want to modify to a project and open the schema in BizTalk Editor.</span></span>  
  
    > [!NOTE]
    >  <span data-ttu-id="b7a2d-172">クリックして、グラフィカルな形式で、スキーマを表示できる、 **EDI**スキーマ エディタ 画面の下部にあるタブ。</span><span class="sxs-lookup"><span data-stu-id="b7a2d-172">You can display the schema in graphical form by clicking the **EDI** tab at the bottom of the Schema Editor screen.</span></span> <span data-ttu-id="b7a2d-173">この表形式を使用して、スキーマのノードを移動すると非常に簡単です。</span><span class="sxs-lookup"><span data-stu-id="b7a2d-173">It is much easier to navigate the nodes of the schema using this tabular format.</span></span>  
  
2.  <span data-ttu-id="b7a2d-174">データ要素またはレコードのプロパティを変更するには、BizTalk エディタの左ペインで適切なノードをクリックし、[プロパティ] ウィンドウでプロパティを変更します。</span><span class="sxs-lookup"><span data-stu-id="b7a2d-174">To change the properties of a data element or record, click the appropriate node in the left pane of BizTalk Editor and change its properties in the Properties window.</span></span>  
  
3.  <span data-ttu-id="b7a2d-175">列挙の値を変更するには、内の列挙型を選択、**プロパティ** ウィンドウで、を開くには、省略記号をクリックし、**列挙エディター**です。</span><span class="sxs-lookup"><span data-stu-id="b7a2d-175">To change the values in an enumeration, select the enumeration in the **Properties** pane, and then click the ellipsis to open the **Enumeration Editor**.</span></span> <span data-ttu-id="b7a2d-176">追加または削除、値の一覧で行ごとに 1 つの値が存在する、必要に応じて、**値**ウィンドウです。</span><span class="sxs-lookup"><span data-stu-id="b7a2d-176">Add to or delete from the list of values, as needed, ensuring that there is one value on each line in the **Values** pane.</span></span> <span data-ttu-id="b7a2d-177">**[OK]**をクリックします。</span><span class="sxs-lookup"><span data-stu-id="b7a2d-177">Click **OK**.</span></span>  
  
4.  <span data-ttu-id="b7a2d-178">スキーマにカスタム フィールドを追加するには、BizTalk エディターのコンソール ツリーでレコード ノードを右クリックし、順にポイント**スキーマ ノードの挿入**、 をクリック**子フィールド要素**です。</span><span class="sxs-lookup"><span data-stu-id="b7a2d-178">To add a custom field to the schema, right-click a record node in the console tree of BizTalk Editor, point to **Insert Schema Node**, and click **Child Field Element**.</span></span> <span data-ttu-id="b7a2d-179">データ要素に名前を付けた後、レコード内の適切な位置にドラッグします。</span><span class="sxs-lookup"><span data-stu-id="b7a2d-179">Name the data element, and then drag the data element to the appropriate position in the record.</span></span> <span data-ttu-id="b7a2d-180">必要に応じて、カスタム フィールド プロパティのプロパティを設定します。</span><span class="sxs-lookup"><span data-stu-id="b7a2d-180">Set the properties for the custom field properties as required.</span></span>  
  
    > [!NOTE]
    >  <span data-ttu-id="b7a2d-181">EDI スキーマ内のレコードに子フィールド属性を追加することはできません。これは、要素の順序が保証されないためです。</span><span class="sxs-lookup"><span data-stu-id="b7a2d-181">Adding a child field attribute to a record in an EDI schema is not allowed, because the sequence of the elements would not be guaranteed.</span></span> <span data-ttu-id="b7a2d-182">子フィールド属性を追加しようとすると、無効なスキーマが生成されます。</span><span class="sxs-lookup"><span data-stu-id="b7a2d-182">Trying to add a child field attribute results in an invalid schema.</span></span>  
  
5.  <span data-ttu-id="b7a2d-183">スキーマにカスタム レコードを追加するには、スキーマ エディターのコンソール ツリーでレコード ノードを右クリックし、順にポイント**スキーマ ノードの挿入**、クリックして**子レコード**です。</span><span class="sxs-lookup"><span data-stu-id="b7a2d-183">To add a custom record to the schema, right-click a record node in the console tree of Schema Editor, point to **Insert Schema Node**, and then click **Child Record**.</span></span> <span data-ttu-id="b7a2d-184">レコードに名前を付けた後、スキーマ内の適切な位置にドラッグします。</span><span class="sxs-lookup"><span data-stu-id="b7a2d-184">Name the record, and then drag the record to the appropriate position in the schema.</span></span> <span data-ttu-id="b7a2d-185">レコードに少なくとも 1 つのデータ要素を追加します。</span><span class="sxs-lookup"><span data-stu-id="b7a2d-185">Add at least one data element to the record.</span></span> <span data-ttu-id="b7a2d-186">必要に応じて、カスタム レコードのプロパティを設定します。</span><span class="sxs-lookup"><span data-stu-id="b7a2d-186">Set the properties for the custom record as required.</span></span>  
  
6.  <span data-ttu-id="b7a2d-187">スキーマに必要な変更を行った後は、ルート ノードをクリックして、スキーマ プロパティに適用されるターゲットの名前空間を変更することができます (\<スキーマ\>) し、変更、 **Target Namespace**プロパティ。</span><span class="sxs-lookup"><span data-stu-id="b7a2d-187">After making the desired changes to the schema, you can change the target namespace that applies to the schema property by clicking the root node (\<Schema\>) and then changing the **Target Namespace** property.</span></span>  
  
7.  <span data-ttu-id="b7a2d-188">スキーマを保存します。</span><span class="sxs-lookup"><span data-stu-id="b7a2d-188">Save the schema.</span></span>  
  
8.  <span data-ttu-id="b7a2d-189">ソリューション エクスプ ローラーでスキーマを右クリックし、スキーマの検証**スキーマの検証**です。</span><span class="sxs-lookup"><span data-stu-id="b7a2d-189">Validate the schema by right-clicking the schema in Solution Explorer and clicking **Validate Schema**.</span></span>  
  
    > [!NOTE]
    >  <span data-ttu-id="b7a2d-190">**スキーマの検証**ために、コマンドは、EDI スキーマを検証は、**スキーマ エディタ拡張機能**ルート ノードのプロパティ (\<スキーマ\>) に設定されている**EDIスキーマ エディター拡張機能**します。</span><span class="sxs-lookup"><span data-stu-id="b7a2d-190">The **Validate Schema** command will validate the EDI schema because the **Schema Editor Extension** property of the root node (\<Schema\>) is set to **EDI Schema Editor Extension**.</span></span>  
  
### <a name="to-modify-annotation-properties-in-an-existing-edi-schema"></a><span data-ttu-id="b7a2d-191">既存の EDI スキーマで注釈のプロパティを変更するには</span><span class="sxs-lookup"><span data-stu-id="b7a2d-191">To modify annotation properties in an existing EDI schema</span></span>  
  
1.  <span data-ttu-id="b7a2d-192">スキーマをメモ帳などのテキスト エディタで開きます。</span><span class="sxs-lookup"><span data-stu-id="b7a2d-192">Open the schema in a text editor such as Notepad.</span></span>  
  
2.  <span data-ttu-id="b7a2d-193">クロスフィールド検証を有効にするには、次の手順を実行します。</span><span class="sxs-lookup"><span data-stu-id="b7a2d-193">To enable cross-field validation, proceed as follows.</span></span> <span data-ttu-id="b7a2d-194">詳細については、次を参照してください。[クロス フィールド検証の構成](../core/configuring-cross-field-validation.md)です。</span><span class="sxs-lookup"><span data-stu-id="b7a2d-194">For more information, see [Configuring Cross-Field Validation](../core/configuring-cross-field-validation.md).</span></span>  
  
    1.  <span data-ttu-id="b7a2d-195">スキーマの上部にある appinfo 注釈のクロス フィールド検証フラグを設定します (どちらか**X12ConditionDesignator_Check** X12 スキーマまたは HIPAA スキーマまたは**EdifactDependencyRule_Check** EDIFACT の場合スキーマの場合) に**はい**です。</span><span class="sxs-lookup"><span data-stu-id="b7a2d-195">In the appinfo annotation at the top of the schema, set the cross-field validation flag (either **X12ConditionDesignator_Check** for X12 or HIPAA schemas or **EdifactDependencyRule_Check** for EDIFACT schemas) to **Yes**.</span></span>  
  
        > [!NOTE]
        >  <span data-ttu-id="b7a2d-196">クロス フィールド検証フラグは**はい**既定では、BizTalk Server の HIPAA スキーマです。</span><span class="sxs-lookup"><span data-stu-id="b7a2d-196">The cross-field validation flag is **Yes** by default for BizTalk Server HIPAA schemas.</span></span>  
  
    2.  <span data-ttu-id="b7a2d-197">特定の要素の注釈で、要素の関係条件 (X12 または HIPAA) または依存ルール (EDIFACT) を指定します。</span><span class="sxs-lookup"><span data-stu-id="b7a2d-197">In the annotation for a specific element, specify the relational conditions (X12 or HIPAA) or dependency rules (EDIFACT) for the element.</span></span> <span data-ttu-id="b7a2d-198">これらの設定の詳細については、次を参照してください。[フィールド セグメントのクロス検証](../core/cross-field-segment-validation.md)です。</span><span class="sxs-lookup"><span data-stu-id="b7a2d-198">For more information about these settings, see [Cross Field-Segment Validation](../core/cross-field-segment-validation.md).</span></span>  
  
        > [!NOTE]
        >  <span data-ttu-id="b7a2d-199">**検証**ページ (下にある、**トランザクション セットの設定**セクション) の一方向アグリーメント タブの**アグリーメントのプロパティ**関連するアグリーメントは、のダイアログ ボックス確認して、 **EDI の種類の検証**プロパティが選択されています。</span><span class="sxs-lookup"><span data-stu-id="b7a2d-199">In the **Validation** page (under the **Transaction Set Settings** section) of the one-way agreement tab of the **Agreement Properties** dialog box for relevant agreement, make sure that the **EDI type Validation** property is selected.</span></span>  
  
3.  <span data-ttu-id="b7a2d-200">HIPAA サブドキュメントの分割を有効にするには、次の手順を実行します。</span><span class="sxs-lookup"><span data-stu-id="b7a2d-200">To enable HIPAA subdocument splitting, proceed as follows.</span></span> <span data-ttu-id="b7a2d-201">詳細については、次を参照してください。 [HIPAA サブドキュメントの分割](../core/splitting-hipaa-subdocuments.md)です。</span><span class="sxs-lookup"><span data-stu-id="b7a2d-201">For more information, see [Splitting HIPAA Subdocuments](../core/splitting-hipaa-subdocuments.md).</span></span>  
  
    1.  <span data-ttu-id="b7a2d-202">スキーマの上部にある appinfo 注釈の設定、 **subdocument_break**と**Split_Without_Sibling_Data**フラグを**はい**です。</span><span class="sxs-lookup"><span data-stu-id="b7a2d-202">In the appinfo annotation at the top of the schema, set the **subdocument_break** and **Split_Without_Sibling_Data** flags to **yes**.</span></span>  
  
    2.  <span data-ttu-id="b7a2d-203">特定の要素の appinfo 注釈で、次を参照してください。、 **subdocument_creation_break**フラグを**はい**です。</span><span class="sxs-lookup"><span data-stu-id="b7a2d-203">In the appinfo annotation for a specific element, see the **subdocument_creation_break** flag to **yes**.</span></span>  
  
        > [!NOTE]
        >  <span data-ttu-id="b7a2d-204">**ローカル ホストの設定**ページ (下にある、**インターチェンジの設定**セクション) の一方向アグリーメント タブの**アグリーメントのプロパティ**関連するダイアログ ボックスアグリーメント、ことを確認して、**受信バッチ処理オプション**プロパティに設定されている**トランザクション セットとして分割されたインターチェンジ**です。</span><span class="sxs-lookup"><span data-stu-id="b7a2d-204">In the **Local Host Settings** page (under the **Interchange Settings** section) of the one-way agreement tab of the **Agreement Properties** dialog box for the relevant agreement, make sure that the **Inbound batch processing option** property is set to **Split Interchange as Transaction Sets**.</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="b7a2d-205">参照</span><span class="sxs-lookup"><span data-stu-id="b7a2d-205">See Also</span></span>  
 [<span data-ttu-id="b7a2d-206">EDI スキーマの開発</span><span class="sxs-lookup"><span data-stu-id="b7a2d-206">Developing EDI Schemas</span></span>](../core/developing-edi-schemas.md)