---
title: アプリケーションに証明書を追加する方法 |Microsoft Docs
ms.custom: ''
ms.date: 06/08/2017
ms.prod: biztalk-server
ms.reviewer: ''
ms.suite: ''
ms.tgt_pltfrm: ''
ms.topic: article
helpviewer_keywords:
- applications, certificates
- managing [certificates], adding to applications
- certificates, applications
- managing [applications], certificates
- managing [certificates], applications
- managing [resources], certificates
ms.assetid: 7c615002-6627-4134-9c2b-bf1c89d626c2
caps.latest.revision: 15
author: MandiOhlinger
ms.author: mandia
manager: anneta
ms.openlocfilehash: a391759b0a05d4266e38ae0eed6d25fded834f0d
ms.sourcegitcommit: 381e83d43796a345488d54b3f7413e11d56ad7be
ms.translationtype: MT
ms.contentlocale: ja-JP
ms.lasthandoff: 05/07/2019
ms.locfileid: "65343968"
---
# <a name="how-to-add-a-certificate-to-an-application"></a><span data-ttu-id="f5cee-102">証明書をアプリケーションに追加する方法</span><span class="sxs-lookup"><span data-stu-id="f5cee-102">How to Add a Certificate to an Application</span></span>
<span data-ttu-id="f5cee-103">ここでは、コマンド ラインを使用して、BizTalk アプリケーションに証明書を追加する方法について説明します。</span><span class="sxs-lookup"><span data-stu-id="f5cee-103">This topic describes how to use the command line to add a certificate to a BizTalk application.</span></span> <span data-ttu-id="f5cee-104">このオプションは、BizTalk Server 管理コンソールでは利用できません。</span><span class="sxs-lookup"><span data-stu-id="f5cee-104">This option is not available in the BizTalk Server Administration console.</span></span> <span data-ttu-id="f5cee-105">BizTalk アプリケーションに証明書を追加することで、証明書をアプリケーションと一緒にパッケージ化して、BizTalk グループの 1 つから別のグループに送信することができるようになります。</span><span class="sxs-lookup"><span data-stu-id="f5cee-105">You add a certificate to a BizTalk application so that you can transport the certificate from one BizTalk group to another, packaged with an application.</span></span> <span data-ttu-id="f5cee-106">証明書を使用すると、ID を検証して送信ポートと受信場所へのセキュリティで保護されたリンクを確立することができます。</span><span class="sxs-lookup"><span data-stu-id="f5cee-106">You use certificates to verify identities and to establish secure links for send ports and receive locations.</span></span> <span data-ttu-id="f5cee-107">詳細については、次を参照してください。[送信ポートに証明書を割り当てる方法](../core/how-to-assign-a-certificate-to-a-send-port.md)と[受信場所に証明書を割り当てる方法](../core/how-to-assign-a-certificate-to-a-receive-location.md)します。</span><span class="sxs-lookup"><span data-stu-id="f5cee-107">For more information, see [How to Assign a Certificate to a Send Port](../core/how-to-assign-a-certificate-to-a-send-port.md) and [How to Assign a Certificate to a Receive Location](../core/how-to-assign-a-certificate-to-a-receive-location.md).</span></span>  
  
 <span data-ttu-id="f5cee-108">証明書をアプリケーションに追加する際には、次の重要事項を念頭に置いてください。</span><span class="sxs-lookup"><span data-stu-id="f5cee-108">When adding a certificate to an application, bear in mind the following important points:</span></span>  
  
-   <span data-ttu-id="f5cee-109">証明書をアプリケーションに追加すると、その証明書は BizTalk 管理データベースに証明書アイテムとして追加されます。</span><span class="sxs-lookup"><span data-stu-id="f5cee-109">When you add a certificate to an application, the certificate is added to the BizTalk Management database as a certificate artifact.</span></span> <span data-ttu-id="f5cee-110">そのアプリケーションをインストールすると、証明書がローカル コンピューターの "その他のユーザー" 証明書ストアにインポートされるので、証明書をこのストアへインポートする追加手順を事前に実行しなくても送信ポートまたは受信場所に証明書を割り当てることができます。</span><span class="sxs-lookup"><span data-stu-id="f5cee-110">When you install the application, the certificate is imported into the Other People certificate store on the local computer, so you may not need to take the additional step of importing it into this store before you can assign it to a send port or receive location.</span></span> <span data-ttu-id="f5cee-111">BTSTask を使用して証明書を追加する場合は、その証明書が "その他のユーザー" 証明書ストアにあらかじめ存在している必要があり、拇印を指定する必要があります。</span><span class="sxs-lookup"><span data-stu-id="f5cee-111">When you use BTSTask to add the certificate, the certificate must exist in the Other People certificate store, and you must specify its thumbprint.</span></span>  
  
    > [!NOTE]
    >  <span data-ttu-id="f5cee-112">証明書をエクスポートすると、秘密キーが削除されます。</span><span class="sxs-lookup"><span data-stu-id="f5cee-112">When a certificate is exported, the private key is removed.</span></span> <span data-ttu-id="f5cee-113">アプリケーションをインストールすると証明書は証明書ストアにインポートされますが、暗号化されたメッセージの解読にその証明書を使用することはできません。ただし、暗号化されたメッセージの送信には使用できます。</span><span class="sxs-lookup"><span data-stu-id="f5cee-113">When the application is installed, although the certificate is imported into the certificate store, it cannot be used to decrypt an encrypted message, although it can be used to send an encrypted message.</span></span> <span data-ttu-id="f5cee-114">証明書を前者の目的に使用する必要がある場合、証明書が使用される送信ポートをホストしているコンピューターの "その他のユーザー" 証明書ストアに証明書を再インストールする必要があります。</span><span class="sxs-lookup"><span data-stu-id="f5cee-114">If you need to use the certificate for the former purpose, you should reinstall it in the Other People certificate store on the computer hosting the send port that uses the certificate.</span></span>  
  
-   <span data-ttu-id="f5cee-115">ベスト プラクティスとして、複数アプリケーションの送信ポートまたは受信場所で同じ証明書を使用する場合は、独立したアプリケーションで証明書を展開した後、この証明書を使用する各アプリケーションから先ほどのアプリケーションを参照することをお勧めします。</span><span class="sxs-lookup"><span data-stu-id="f5cee-115">As a best practice, if a certificate will be used by a send port or receive location in two or more applications, you should deploy the certificate in a separate application, and then reference this application from the applications that need to use the certificate.</span></span> <span data-ttu-id="f5cee-116">これは、BizTalk グループ内で複数の証明書に同じ捺印を使用できないためです。したがって、2 つの異なるアプリケーションの同じ証明書をインポートすることはできません。</span><span class="sxs-lookup"><span data-stu-id="f5cee-116">This is because only one certificate having a particular thumbprint can exist in the BizTalk group, so you will not be able to import the same certificate in two different applications.</span></span> <span data-ttu-id="f5cee-117">同じ証明書を使用する 2 つのアプリケーションをインポートしようとすると、最初のインポートは成功しますが、2 番目のインポートは成功しません。</span><span class="sxs-lookup"><span data-stu-id="f5cee-117">If you attempt to import two applications that each use the same certificate, the first import will succeed, and the second will not.</span></span> <span data-ttu-id="f5cee-118">[上書き] インポート オプションを使って既存の証明書を上書きしようとしても、その証明書は別のアプリケーションに含まれているため上書きできません。</span><span class="sxs-lookup"><span data-stu-id="f5cee-118">In this case, using the Overwrite import option does not correct the problem, as the existing certificate that you want to overwrite is contained in another application.</span></span>  
  
## <a name="prerequisites"></a><span data-ttu-id="f5cee-119">前提条件</span><span class="sxs-lookup"><span data-stu-id="f5cee-119">Prerequisites</span></span>  
 <span data-ttu-id="f5cee-120">このトピックの手順を実行するには、BizTalk Server 管理者グループのメンバーであるアカウントでログオンする必要があります。</span><span class="sxs-lookup"><span data-stu-id="f5cee-120">To perform the procedures in this topic, you must be logged on with an account that is a member of the BizTalk Server Administrators group.</span></span> <span data-ttu-id="f5cee-121">詳細なアクセス許可についてを参照してください。[を展開すると、BizTalk アプリケーションの管理に必要なアクセス許可](../core/permissions-required-for-deploying-and-managing-a-biztalk-application.md)します。</span><span class="sxs-lookup"><span data-stu-id="f5cee-121">For more detailed information on permissions, see [Permissions Required for Deploying and Managing a BizTalk Application](../core/permissions-required-for-deploying-and-managing-a-biztalk-application.md).</span></span>  
  
### <a name="to-add-a-certificate-to-an-application"></a><span data-ttu-id="f5cee-122">証明書をアプリケーションに追加するには</span><span class="sxs-lookup"><span data-stu-id="f5cee-122">To add a certificate to an application</span></span>  
  
1. <span data-ttu-id="f5cee-123">次のように、コマンド プロンプトを開きます。をクリックして**開始**、 をクリックして**実行**、型`cmd`、順にクリックします**OK**。</span><span class="sxs-lookup"><span data-stu-id="f5cee-123">Open a command prompt as follows: Click **Start**, click **Run**, type `cmd`, and then click **OK**.</span></span>  
  
2. <span data-ttu-id="f5cee-124">次の表に示すように、適切な値を置き換えて、次のコマンドを入力します。</span><span class="sxs-lookup"><span data-stu-id="f5cee-124">Type the following command, substituting the appropriate values, as described in the following table:</span></span>  
  
    <span data-ttu-id="f5cee-125">**BTSTask AddResource** [**/applicationname は:**<em>値</em>] **/Type:System.BizTalk:Certificate** **[/overwrite]\*\*\*\*「/Thumbprint」:"**<em>値</em>**"** [**/Server:**<em>値</em>] [**/データベース:**<em>値</em>]</span><span class="sxs-lookup"><span data-stu-id="f5cee-125">**BTSTask AddResource** [**/ApplicationName:**<em>value</em>] **/Type:System.BizTalk:Certificate** [**/Overwrite**] **/Thumbprint:"**<em>value</em>**"** [**/Server:**<em>value</em>] [**/Database:**<em>value</em>]</span></span>  
  
    <span data-ttu-id="f5cee-126">例:</span><span class="sxs-lookup"><span data-stu-id="f5cee-126">Example:</span></span>  
  
    <span data-ttu-id="f5cee-127">**BTSTask AddResource applicationname: myapplication/Type:System.BizTalk:Certificate/Overwrite「/thumbprint」:"04 a2 8e 32 24 f9 36 b9 42 81 12 71 3a d2 ef db c7 9c 83 dc"/Server:MyDatabaseServer/Database:BizTalkMgmtDb**</span><span class="sxs-lookup"><span data-stu-id="f5cee-127">**BTSTask AddResource /ApplicationName:MyApplication /Type:System.BizTalk:Certificate /Overwrite /Thumbprint:"04 a2 8e 32 24 f9 36 b9 42 81 12 71 3a d2 ef db c7 9c 83 dc" /Server:MyDatabaseServer /Database:BizTalkMgmtDb**</span></span>  
  
   |<span data-ttu-id="f5cee-128">パラメーター</span><span class="sxs-lookup"><span data-stu-id="f5cee-128">Parameter</span></span>|<span data-ttu-id="f5cee-129">値</span><span class="sxs-lookup"><span data-stu-id="f5cee-129">Value</span></span>|  
   |---------------|-----------|  
   |<span data-ttu-id="f5cee-130">**/ApplicationName**</span><span class="sxs-lookup"><span data-stu-id="f5cee-130">**/ApplicationName**</span></span>|<span data-ttu-id="f5cee-131">証明書を追加する BizTalk アプリケーションの名前。</span><span class="sxs-lookup"><span data-stu-id="f5cee-131">Name of the BizTalk application to which to add the certificate.</span></span> <span data-ttu-id="f5cee-132">アプリケーション名が指定されなかった場合、グループの既定の BizTalk アプリケーションが使用されます。</span><span class="sxs-lookup"><span data-stu-id="f5cee-132">If the application name is not specified, the default BizTalk application for the group is used.</span></span> <span data-ttu-id="f5cee-133">名前にスペースが含まれている場合は、二重引用符 (") で囲む必要があります。</span><span class="sxs-lookup"><span data-stu-id="f5cee-133">If the name includes spaces, you must enclose it in double quotation marks (").</span></span>|  
   |<span data-ttu-id="f5cee-134">**/Type**</span><span class="sxs-lookup"><span data-stu-id="f5cee-134">**/Type**</span></span>|<span data-ttu-id="f5cee-135">**System.BizTalk:Certificate** (この値小文字は区別されません)。</span><span class="sxs-lookup"><span data-stu-id="f5cee-135">**System.BizTalk:Certificate** (This value is not case-sensitive.)</span></span>|  
   |<span data-ttu-id="f5cee-136">**/Overwrite**</span><span class="sxs-lookup"><span data-stu-id="f5cee-136">**/Overwrite**</span></span>|<span data-ttu-id="f5cee-137">既存の証明書を更新するためのオプション。</span><span class="sxs-lookup"><span data-stu-id="f5cee-137">Option to update an existing certificate.</span></span> <span data-ttu-id="f5cee-138">指定しなかった場合、追加する証明書と同じ拇印 (Thumbprint) プロパティを持つ証明書が既にアプリケーションに存在した場合、追加操作は失敗します。</span><span class="sxs-lookup"><span data-stu-id="f5cee-138">If not specified, and a certificate already exists in the application that has the same Thumbprint property as the certificate being added, the Add operation fails.</span></span> <span data-ttu-id="f5cee-139">Thumbprint プロパティは、証明書スナップインで証明書をダブルクリックし、[詳細] タブをクリックして表示できます。詳細については、証明書スナップインのドキュメントで「証明書情報の表示」を参照してください。</span><span class="sxs-lookup"><span data-stu-id="f5cee-139">You can view the Thumbprint property by double-clicking the certificate in the Certificates snap-in and clicking the Details tab. For more information, see "Viewing certificate information" in the documentation for the Certificates snap-in.</span></span>|  
   |<span data-ttu-id="f5cee-140">**/Thumbprint**</span><span class="sxs-lookup"><span data-stu-id="f5cee-140">**/Thumbprint**</span></span>|<span data-ttu-id="f5cee-141">証明書の拇印プロパティ (、*拇印*はデータのダイジェストです)。</span><span class="sxs-lookup"><span data-stu-id="f5cee-141">Thumbprint property of the certificate (a *thumbprint* is a digest of data).</span></span> <span data-ttu-id="f5cee-142">この値は、二重引用符 (") で囲む必要があります。</span><span class="sxs-lookup"><span data-stu-id="f5cee-142">This value must be enclosed in double quotation marks (").</span></span>|  
   |<span data-ttu-id="f5cee-143">**/サーバー**</span><span class="sxs-lookup"><span data-stu-id="f5cee-143">**/Server**</span></span>|<span data-ttu-id="f5cee-144">BizTalk 管理データベースをホストする SQL Server インスタンスの名前。ServerName\InstanceName,Port の形式で指定します。</span><span class="sxs-lookup"><span data-stu-id="f5cee-144">Name of the SQL Server instance hosting the BizTalk Management database, in the form ServerName\InstanceName,Port.</span></span><br /><br /> <span data-ttu-id="f5cee-145">インスタンス名の指定は、そのインスタンス名がサーバー名と異なる場合にのみ必要です。</span><span class="sxs-lookup"><span data-stu-id="f5cee-145">Instance name is only required when the instance name is different than the server name.</span></span> <span data-ttu-id="f5cee-146">ポートの指定は、SQL Server で使用するポート番号が既定値 (1433) と異なる場合にのみ必要です。</span><span class="sxs-lookup"><span data-stu-id="f5cee-146">Port is only required when SQL Server uses a port number other than the default (1433).</span></span><br /><br /> <span data-ttu-id="f5cee-147">例 :</span><span class="sxs-lookup"><span data-stu-id="f5cee-147">Examples:</span></span><br /><br /> <span data-ttu-id="f5cee-148">Server=MyServer</span><span class="sxs-lookup"><span data-stu-id="f5cee-148">Server=MyServer</span></span><br /><br /> <span data-ttu-id="f5cee-149">Server=MyServer\MySQLServer,1533</span><span class="sxs-lookup"><span data-stu-id="f5cee-149">Server=MyServer\MySQLServer,1533</span></span><br /><br /> <span data-ttu-id="f5cee-150">指定しなかった場合、ローカル コンピューターで実行されている SQL Server インスタンスの名前が使用されます。</span><span class="sxs-lookup"><span data-stu-id="f5cee-150">If not provided, the name of the SQL Server instance running on the local computer is used.</span></span>|  
   |<span data-ttu-id="f5cee-151">**/Database**</span><span class="sxs-lookup"><span data-stu-id="f5cee-151">**/Database**</span></span>|<span data-ttu-id="f5cee-152">BizTalk 管理データベースの名前。</span><span class="sxs-lookup"><span data-stu-id="f5cee-152">Name of the BizTalk Management database.</span></span> <span data-ttu-id="f5cee-153">指定しなかった場合、SQL Server のローカル インスタンスで実行されている BizTalk 管理データベースが使用されます。</span><span class="sxs-lookup"><span data-stu-id="f5cee-153">If not specified, the BizTalk Management database running in the local instance of SQL Server is used.</span></span>|  
  
## <a name="see-also"></a><span data-ttu-id="f5cee-154">参照</span><span class="sxs-lookup"><span data-stu-id="f5cee-154">See Also</span></span>  
 <span data-ttu-id="f5cee-155">[.NET アセンブリ、証明書、およびその他のリソースを管理します。](../core/managing-net-assemblies-certificates-and-other-resources.md) </span><span class="sxs-lookup"><span data-stu-id="f5cee-155">[Managing .NET Assemblies, Certificates, and Other Resources](../core/managing-net-assemblies-certificates-and-other-resources.md) </span></span>  
 <span data-ttu-id="f5cee-156">[AddResource コマンド:証明書](../core/addresource-command-certificate.md) </span><span class="sxs-lookup"><span data-stu-id="f5cee-156">[AddResource Command: Certificate](../core/addresource-command-certificate.md) </span></span>  
 [<span data-ttu-id="f5cee-157">BizTalk アプリケーションの作成と変更</span><span class="sxs-lookup"><span data-stu-id="f5cee-157">Creating and Modifying BizTalk Applications</span></span>](../core/creating-and-modifying-biztalk-applications.md)