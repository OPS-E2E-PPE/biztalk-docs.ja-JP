---
title: BizTalk Server で使用してロジック アプリ アダプター |Microsoft Docs
description: 受信ポートを作成、受信場所、および BizTalk server 送信ポートを Logic Apps アダプター インストールし、構成
ms.custom: ''
ms.date: 04/17/2019
ms.prod: biztalk-server
ms.reviewer: ''
ms.suite: ''
ms.tgt_pltfrm: ''
ms.topic: article
ms.assetid: 72f2a5ac-a1f6-4bdb-8c29-8267ede75b17
caps.latest.revision: 12
author: MandiOhlinger
ms.author: mandia
manager: anneta
ms.openlocfilehash: 089b1b47e56967afcd779f14bd9074cb60088294
ms.sourcegitcommit: 381e83d43796a345488d54b3f7413e11d56ad7be
ms.translationtype: MT
ms.contentlocale: ja-JP
ms.lasthandoff: 05/07/2019
ms.locfileid: "65380624"
---
# <a name="logic-app-adapter"></a><span data-ttu-id="96220-103">ロジック アプリのアダプター</span><span class="sxs-lookup"><span data-stu-id="96220-103">Logic App Adapter</span></span>

## <a name="overview"></a><span data-ttu-id="96220-104">概要</span><span class="sxs-lookup"><span data-stu-id="96220-104">Overview</span></span>
<span data-ttu-id="96220-105">BizTalk Server では、Azure ロジック アプリからメッセージを受信または Azure ロジック アプリにメッセージを送信する Logic Apps アダプターを使用します。</span><span class="sxs-lookup"><span data-stu-id="96220-105">BizTalk Server uses the Logic Apps adapter to receive messages from an Azure logic app, or send messages to an Azure logic app.</span></span> 

<span data-ttu-id="96220-106">Azure では、ロジック アプリを作成します。</span><span class="sxs-lookup"><span data-stu-id="96220-106">In Azure, we create a logic app.</span></span> <span data-ttu-id="96220-107">このロジック アプリでは、BizTalk コネクタを使用して、BizTalk Server で作成した受信場所に接続します。</span><span class="sxs-lookup"><span data-stu-id="96220-107">This logic app uses the BizTalk Connector to connect to a receive location that you create on your BizTalk Server.</span></span> <span data-ttu-id="96220-108">このトピックでは、Azure Logic Apps の知識があると仮定します。</span><span class="sxs-lookup"><span data-stu-id="96220-108">This topic assumes you have some familiarity with Azure Logic Apps.</span></span> <span data-ttu-id="96220-109">かどうかは、ロジック アプリを初めてしたら、お勧め[詳細については、学習](https://azure.microsoft.com/documentation/articles/app-service-logic-what-are-logic-apps/)、さらに[ロジック アプリの作成](https://azure.microsoft.com/documentation/articles/app-service-logic-create-a-logic-app/)です。</span><span class="sxs-lookup"><span data-stu-id="96220-109">If you're new to logic apps, we suggest [learning more about them](https://azure.microsoft.com/documentation/articles/app-service-logic-what-are-logic-apps/), and even [creating your own logic app](https://azure.microsoft.com/documentation/articles/app-service-logic-create-a-logic-app/).</span></span>

<span data-ttu-id="96220-110">このトピックでは、ロジック アプリから BizTalk Server でメッセージを受信する手順を示します。</span><span class="sxs-lookup"><span data-stu-id="96220-110">In this topic, we list the steps to receive a message in BizTalk Server from a logic app.</span></span> <span data-ttu-id="96220-111">別の言い方を行うには、ロジック アプリは、BizTalk Server にメッセージを送信します。</span><span class="sxs-lookup"><span data-stu-id="96220-111">Put another way, the logic app sends messages to a BizTalk Server.</span></span> <span data-ttu-id="96220-112">受信側では、Azure サービスとの通信を処理するために、IIS でアプリケーションを使用します。</span><span class="sxs-lookup"><span data-stu-id="96220-112">The receive-side uses applications in IIS to handle the communication with the Azure service.</span></span> <span data-ttu-id="96220-113">BizTalk Server が、オンプレミスの場合は、また、BizTalk Server にデータ ゲートウェイをインストールして Azure でゲートウェイを作成します。</span><span class="sxs-lookup"><span data-stu-id="96220-113">If BizTalk Server is on-premises, you also install a data gateway on the BizTalk Server, and create a gateway in Azure.</span></span> 

<span data-ttu-id="96220-114">BizTalk Server が Azure の仮想マシン (VM) にインストールされているかどうかは、HTTP エンドポイント (URL を取得) として、VM を公開することができますか、HTTP エンドポイントとして公開しません。</span><span class="sxs-lookup"><span data-stu-id="96220-114">If BizTalk Server is installed on an Azure virtual machine (VM), then you can choose to expose the VM as an HTTP endpoint (you get a URL), or don't expose it as an HTTP endpoint.</span></span> <span data-ttu-id="96220-115">公開する場合は、ゲートウェイを使用する必要はありません。</span><span class="sxs-lookup"><span data-stu-id="96220-115">If you expose it, then you don't need to use the gateway.</span></span> <span data-ttu-id="96220-116">BizTalk コネクタでロジック アプリで、URL を入力できます。</span><span class="sxs-lookup"><span data-stu-id="96220-116">You can enter your URL in the BizTalk Connector in your logic app.</span></span> <span data-ttu-id="96220-117">VM (URL) を公開しない場合は、ゲートウェイを使用する必要があります。</span><span class="sxs-lookup"><span data-stu-id="96220-117">If you don't expose the VM (no URL), then you need to use the gateway.</span></span> <span data-ttu-id="96220-118">次の手順は、このトピックに表示されます。</span><span class="sxs-lookup"><span data-stu-id="96220-118">These steps are listed in this topic.</span></span>

<span data-ttu-id="96220-119">紹介する Azure ロジック アプリに、BizTalk Server からメッセージを送信する方法。</span><span class="sxs-lookup"><span data-stu-id="96220-119">We also show you how to send messages from BizTalk Server to an Azure logic app.</span></span> <span data-ttu-id="96220-120">別の言い方を行うには、ロジック アプリは、BizTalk Server からメッセージを受信します。</span><span class="sxs-lookup"><span data-stu-id="96220-120">Put another way, the logic app receives messages from BizTalk Server.</span></span> <span data-ttu-id="96220-121">送信側は、非常に単純ですが、ここに表示されます。</span><span class="sxs-lookup"><span data-stu-id="96220-121">The send side is fairly straightforward, as you will see in this topic.</span></span>

<span data-ttu-id="96220-122">受信場所と Logic Apps アダプターを使用して送信ポートを作成するのにには、このトピックを使用します。</span><span class="sxs-lookup"><span data-stu-id="96220-122">Use this topic to create a receive location and a send port using the Logic Apps adapter.</span></span> <span data-ttu-id="96220-123">LogicApp アダプターは、オンプレミス (ドメインに参加) BizTalk Server では、または BizTalk Server を実行する Azure 仮想マシンを使用することができます。</span><span class="sxs-lookup"><span data-stu-id="96220-123">You can use the LogicApp adapter in a on-premises (joined to your domain) BizTalk Server, or an Azure virtual machine running BizTalk Server.</span></span> 

## <a name="requirements"></a><span data-ttu-id="96220-124">要件</span><span class="sxs-lookup"><span data-stu-id="96220-124">Requirements</span></span>

- <span data-ttu-id="96220-125">Azure portal にサインインし、ロジック アプリを作成する Azure サブスクリプション。</span><span class="sxs-lookup"><span data-stu-id="96220-125">An Azure subscription to sign-in to the Azure portal, and create a logic app.</span></span>
- <span data-ttu-id="96220-126">任意。</span><span class="sxs-lookup"><span data-stu-id="96220-126">Optional.</span></span> <span data-ttu-id="96220-127">インストール、HTTP テスト ツールなどに、ロジック アプリをテスト メッセージを送信する[Fiddler](http://www.telerik.com/fiddler)または[Postman](https://www.getpostman.com/)します。</span><span class="sxs-lookup"><span data-stu-id="96220-127">To send a test message to your logic app, install an HTTP testing tool, such as [Fiddler](http://www.telerik.com/fiddler) or [Postman](https://www.getpostman.com/).</span></span> <span data-ttu-id="96220-128">ロジック アプリにメッセージを送信する別のメソッドを使用する場合は、これらのツールを使用する必要はありません。</span><span class="sxs-lookup"><span data-stu-id="96220-128">If you use another method to send a message to a logic app, you don't have to use these tools.</span></span> 

## <a name="receive-messages-from-a-logic-app"></a><span data-ttu-id="96220-129">ロジック アプリからメッセージを受信します。</span><span class="sxs-lookup"><span data-stu-id="96220-129">Receive messages from a logic app</span></span>

<span data-ttu-id="96220-130">ロジック アプリからのメッセージを受信する BizTalk Server には、いくつかの手順があります。</span><span class="sxs-lookup"><span data-stu-id="96220-130">There are a few steps involved for BizTalk Server to receive messages from a logic app.</span></span> <span data-ttu-id="96220-131">このセクションでは、次の手順を示します。</span><span class="sxs-lookup"><span data-stu-id="96220-131">This section lists these steps.</span></span> <span data-ttu-id="96220-132">Azure の変更、手順の一部のユーザー インターフェイスが表示されているとおりにならないことができます。</span><span class="sxs-lookup"><span data-stu-id="96220-132">It's possible the user interface in Azure changes, so some of the steps may not be exactly as listed.</span></span> 

#### <a name="prerequisites"></a><span data-ttu-id="96220-133">前提条件</span><span class="sxs-lookup"><span data-stu-id="96220-133">Prerequisites</span></span>

- <span data-ttu-id="96220-134">BizTalk Server が、オンプレミスの場合は、インストールし、構成、 [、オンプレミス データ ゲートウェイ](https://azure.microsoft.com/documentation/articles/app-service-logic-gateway-install/)Logic Apps の。</span><span class="sxs-lookup"><span data-stu-id="96220-134">If BizTalk Server is on-premises, install and configure the [on-premises data gateway](https://azure.microsoft.com/documentation/articles/app-service-logic-gateway-install/) for Logic Apps.</span></span> <span data-ttu-id="96220-135">その後、Azure では、[データ ゲートウェイ リソースを作成](https://azure.microsoft.com/documentation/articles/app-service-logic-gateway-connection/)BizTalk Server に接続します。</span><span class="sxs-lookup"><span data-stu-id="96220-135">Then, in Azure, [create the data gateway resource](https://azure.microsoft.com/documentation/articles/app-service-logic-gateway-connection/) to connect to your BizTalk Server.</span></span>
- <span data-ttu-id="96220-136">BizTalk Server が、Azure VM にインストールされている VM は、HTTP エンドポイントとして公開されない場合は、インストールし、構成、 [、オンプレミス データ ゲートウェイ](https://azure.microsoft.com/documentation/articles/app-service-logic-gateway-install/)Logic Apps の。</span><span class="sxs-lookup"><span data-stu-id="96220-136">If BizTalk Server is installed on an Azure VM, and the VM is not exposed as an HTTP endpoint, then install and configure the [on-premises data gateway](https://azure.microsoft.com/documentation/articles/app-service-logic-gateway-install/) for Logic Apps.</span></span> <span data-ttu-id="96220-137">その後、Azure では、[データ ゲートウェイ リソースを作成](https://azure.microsoft.com/documentation/articles/app-service-logic-gateway-connection/)BizTalk Server に接続します。</span><span class="sxs-lookup"><span data-stu-id="96220-137">Then, in Azure, [create the data gateway resource](https://azure.microsoft.com/documentation/articles/app-service-logic-gateway-connection/) to connect to your BizTalk Server.</span></span>
- <span data-ttu-id="96220-138">BizTalk Server が、Azure VM にインストールされている VM が HTTP エンドポイントとして公開されている場合は、ゲートウェイがないために必要なまたは使用。</span><span class="sxs-lookup"><span data-stu-id="96220-138">If BizTalk Server is installed on an Azure VM, and the VM is exposed as an HTTP endpoint, then the gateway is not needed or used.</span></span> 

### <a name="step-1-install-the-logic-app-adapter"></a><span data-ttu-id="96220-139">手順 1:ロジック アプリのアダプターをインストールします。</span><span class="sxs-lookup"><span data-stu-id="96220-139">Step 1: Install the Logic App adapter</span></span>

<span data-ttu-id="96220-140">ロジック アプリのアダプターは個別のダウンロードし、は BizTalk Server のインストールに含まれません。</span><span class="sxs-lookup"><span data-stu-id="96220-140">The Logic App adapter is a separate download, and is not included with the BizTalk Server installation.</span></span> 

> [!IMPORTANT] 
> <span data-ttu-id="96220-141">LogicAppAdapter.iso をダウンロードするには。</span><span class="sxs-lookup"><span data-stu-id="96220-141">To download the LogicAppAdapter.iso:</span></span>
> 
> 1. <span data-ttu-id="96220-142">移動して[Logic Apps の Microsoft BizTalk Server アダプター](https://www.microsoft.com/download/details.aspx?id=54287)、保存します。</span><span class="sxs-lookup"><span data-stu-id="96220-142">Go to [Microsoft BizTalk Server Adapter for Logic Apps](https://www.microsoft.com/download/details.aspx?id=54287), and save.</span></span> 
> 2. <span data-ttu-id="96220-143">LogicAppAdapter.iso を開き、実行、 **LogicApp Adapter.msi**ファイルをインストールします。</span><span class="sxs-lookup"><span data-stu-id="96220-143">Open the LogicAppAdapter.iso, and run the **LogicApp Adapter.msi** file to install.</span></span>

1. <span data-ttu-id="96220-144">BizTalk Server をダウンロードして、ロジック アプリのアダプターをインストールします。</span><span class="sxs-lookup"><span data-stu-id="96220-144">On your BizTalk Server, download and install the Logic App adapter.</span></span> 

2. <span data-ttu-id="96220-145">二重選択**LogicApp Adapter.msi**をインストールします。</span><span class="sxs-lookup"><span data-stu-id="96220-145">Double-select **LogicApp Adapter.msi** to install.</span></span> <span data-ttu-id="96220-146">ライセンス条項に同意し、**インストール**します。</span><span class="sxs-lookup"><span data-stu-id="96220-146">Accept the license agreement, and **Install**.</span></span>
3. <span data-ttu-id="96220-147">**[完了]** 、インストール、d の再起動、 **BizTalkServerApplication**と**BizTalkServerIsolatedHost**インスタンスをホストします。</span><span class="sxs-lookup"><span data-stu-id="96220-147">**Finish** the install, an   d restart the **BizTalkServerApplication** and **BizTalkServerIsolatedHost** host instances.</span></span>

<span data-ttu-id="96220-148">インストールされると、次があります。</span><span class="sxs-lookup"><span data-stu-id="96220-148">Once installed, you have the following:</span></span>

- <span data-ttu-id="96220-149">ロジック アプリのアダプターは、BizTalk 管理コンソールに追加されます。</span><span class="sxs-lookup"><span data-stu-id="96220-149">The LogicApp adapter is added to BizTalk Administration.</span></span>
- <span data-ttu-id="96220-150">送信ハンドラーが作成され、BizTalkServerApplication ホストを使用します。</span><span class="sxs-lookup"><span data-stu-id="96220-150">The send handler is created, and uses the BizTalkServerApplication host.</span></span>
- <span data-ttu-id="96220-151">受信ハンドラーは、WCF サービスとして作成され、[biztalkserverisolatedhost] ホストを使用します。</span><span class="sxs-lookup"><span data-stu-id="96220-151">The receive handler is created as a WCF service, and uses the BizTalkServerIsolatedHost host.</span></span>
- <span data-ttu-id="96220-152">`C:\Program Files (x86)\Microsoft BizTalk Server 2016\LogicApp Adapter`フォルダーが作成され、2 つのサービスが含まれています。管理と ReceiveService します。</span><span class="sxs-lookup"><span data-stu-id="96220-152">The `C:\Program Files (x86)\Microsoft BizTalk Server 2016\LogicApp Adapter` folder is created, and includes two services: Management and ReceiveService.</span></span> 

    <span data-ttu-id="96220-153">**管理**data gateway を使用して BizTalk Server に接続するロジック アプリで BizTalk コネクタによって使用されます。</span><span class="sxs-lookup"><span data-stu-id="96220-153">The **Management** is used by the BizTalk Connector in a logic app to connect to BizTalk Server using the data gateway.</span></span> <span data-ttu-id="96220-154">この管理サービスでは、データ ゲートウェイを使用して Azure ロジック アプリからのメッセージを受信する BizTalk Server を使用します。</span><span class="sxs-lookup"><span data-stu-id="96220-154">This management service allows BizTalk Server to receive messages from an Azure logic app using the data gateway.</span></span> <span data-ttu-id="96220-155">このサービスは、BizTalk の受信側でのみ使用されます。</span><span class="sxs-lookup"><span data-stu-id="96220-155">This service is only used on the receive-side of BizTalk.</span></span> <span data-ttu-id="96220-156">送信側では使用されません。</span><span class="sxs-lookup"><span data-stu-id="96220-156">It is not used by the send-side.</span></span>

    <span data-ttu-id="96220-157">**ReceiveService**受信場所を入力すると、ロジック アプリで BizTalk コネクタによって使用されます。</span><span class="sxs-lookup"><span data-stu-id="96220-157">The **ReceiveService** is used by the BizTalk Connector in a logic app when you enter the receive location.</span></span> <span data-ttu-id="96220-158">**ReceiveService**はロジック アプリからメッセージを送信する責任を負います。</span><span class="sxs-lookup"><span data-stu-id="96220-158">The **ReceiveService** is responsible for sending the messages from the logic app.</span></span> <span data-ttu-id="96220-159">このサービスは、BizTalk の受信側でのみ使用されます。</span><span class="sxs-lookup"><span data-stu-id="96220-159">This service is only used on the receive-side of BizTalk.</span></span> <span data-ttu-id="96220-160">送信側では使用されません。</span><span class="sxs-lookup"><span data-stu-id="96220-160">It is not used by the send-side.</span></span>

#### <a name="using-the-nulladapter-and-logic-app-adapter-together"></a><span data-ttu-id="96220-161">NullAdapter とロジック アプリのアダプターの併用</span><span class="sxs-lookup"><span data-stu-id="96220-161">Using the NullAdapter and Logic App Adapter together</span></span>
<span data-ttu-id="96220-162">ロジック アプリのアダプターと、NullAdapter をインストールする場合は、次のエラーを参照してください可能性があります。</span><span class="sxs-lookup"><span data-stu-id="96220-162">If you install the Logic App Adapter and the NullAdapter, you may see the following error:</span></span>

`Another adapter with the same OutboundEngineCLSID value already exists`

<span data-ttu-id="96220-163">アダプター クラスの GUID は、ロジック アプリのアダプターと NullAdapter も同じです。</span><span class="sxs-lookup"><span data-stu-id="96220-163">The GUID of the Adapter class is the same for Logic App Adapter and NullAdapter.</span></span> <span data-ttu-id="96220-164">両方のアダプターが必要な場合は、次のことができます。</span><span class="sxs-lookup"><span data-stu-id="96220-164">If both adapters are needed, you can:</span></span>

1. <span data-ttu-id="96220-165">ダウンロード、 [GitHub のソース コードを NullAdapter](https://github.com/tomasr/nulladapter)します。</span><span class="sxs-lookup"><span data-stu-id="96220-165">Download the [NullAdapter source code on GitHub](https://github.com/tomasr/nulladapter).</span></span>
2. <span data-ttu-id="96220-166">GUID を更新、 **NullSendAdapter.cs**クラス。</span><span class="sxs-lookup"><span data-stu-id="96220-166">Update the GUID in the **NullSendAdapter.cs** class.</span></span>
3. <span data-ttu-id="96220-167">OutboundEngineCLSID 値を更新、 **NullAdapter.reg**ファイル。</span><span class="sxs-lookup"><span data-stu-id="96220-167">Update the OutboundEngineCLSID value in the **NullAdapter.reg** file.</span></span> 
4. <span data-ttu-id="96220-168">構築し、NullAdapter をデプロイします。</span><span class="sxs-lookup"><span data-stu-id="96220-168">Build and deploy the NullAdapter.</span></span>

### <a name="step-2-create-the-iis-applications"></a><span data-ttu-id="96220-169">手順 2:IIS アプリケーションを作成します。</span><span class="sxs-lookup"><span data-stu-id="96220-169">Step 2: Create the IIS applications</span></span>

<span data-ttu-id="96220-170">IIS アプリケーションは、管理と ReceiveService サービスを使用します。</span><span class="sxs-lookup"><span data-stu-id="96220-170">The IIS applications use the Management and ReceiveService services.</span></span>

<span data-ttu-id="96220-171">新しいアプリケーション プール、または既存のアプリケーション プールを使用して IIS アプリケーションを実行することができます。</span><span class="sxs-lookup"><span data-stu-id="96220-171">You can run the IIS applications using a new application pool, or an existing application pool.</span></span> <span data-ttu-id="96220-172">AppPool の id には、BizTalk Application Users および BizTalk 分離ホスト ユーザー グループなど、BizTalk services を実行するアカウントと同じグループのメンバーシップが必要です。</span><span class="sxs-lookup"><span data-stu-id="96220-172">The identity of the AppPool requires membership to the same groups as the account that runs the BizTalk services, such as the BizTalk Application Users and BizTalk Isolated Host Users groups.</span></span>  

> [!TIP] 
> <span data-ttu-id="96220-173">新しいアプリケーション プールを作成する場合は、既定の .NET CLR バージョンおよびマネージ パイプラインを保持します。</span><span class="sxs-lookup"><span data-stu-id="96220-173">If you create a new application pool, then keep the default .NET CLR version, and managed pipeline.</span></span> <span data-ttu-id="96220-174">忘れないでください。 BizTalk サービス アカウントと同じ BizTalk グループのメンバーシップを持っているユーザー (詳細設定) を選択します。</span><span class="sxs-lookup"><span data-stu-id="96220-174">Remember, choose an identity (Advanced Settings) that has membership to the same BizTalk groups as your BizTalk service account.</span></span> 

#### <a name="create-the-management-iis-application"></a><span data-ttu-id="96220-175">IIS の管理アプリケーションを作成します。</span><span class="sxs-lookup"><span data-stu-id="96220-175">Create the Management IIS application</span></span>
<span data-ttu-id="96220-176">この IIS アプリケーションの URL は、BizTalk Server のデータ ゲートウェイを使用するロジック アプリ) の「BizTalk コネクタによって使用されます。</span><span class="sxs-lookup"><span data-stu-id="96220-176">The URL of this IIS application is used by the BizTalk Connector (in your logic app) to use the data gateway on your BizTalk Server.</span></span>

1. <span data-ttu-id="96220-177">インターネット インフォメーション サービス (IIS) マネージャーを開きます。</span><span class="sxs-lookup"><span data-stu-id="96220-177">Open the Internet Information Services (IIS) Manager.</span></span>
2. <span data-ttu-id="96220-178">右クリック**Default Web Site**、および**アプリケーションを追加**します。</span><span class="sxs-lookup"><span data-stu-id="96220-178">Right-click **Default Web Site**, and **Add Application**.</span></span> <span data-ttu-id="96220-179">この新しいアプリケーション。</span><span class="sxs-lookup"><span data-stu-id="96220-179">In this new application:</span></span> 

    1. <span data-ttu-id="96220-180">入力、**エイリアス**(名前)、アプリケーションのなど**IISLogicApp**します。</span><span class="sxs-lookup"><span data-stu-id="96220-180">Enter the **Alias** (name) for your application, such as **IISLogicApp**.</span></span> 
    2. <span data-ttu-id="96220-181">**選択**アプリケーション プール。</span><span class="sxs-lookup"><span data-stu-id="96220-181">**Select** the application pool.</span></span>
    3. <span data-ttu-id="96220-182">設定、**物理パス**に`C:\Program Files (x86)\Microsoft BizTalk Server 2016\LogicApp Adapter\Management`します。</span><span class="sxs-lookup"><span data-stu-id="96220-182">Set the **Physical path** to `C:\Program Files (x86)\Microsoft BizTalk Server 2016\LogicApp Adapter\Management`.</span></span> 
    3. <span data-ttu-id="96220-183">**テストの設定**の id が認証を通過するアプリケーション プールを確認して、承認をテストします。</span><span class="sxs-lookup"><span data-stu-id="96220-183">**Test Settings** to confirm the application pool identity passes the Authentication and Authorization tests.</span></span>

3. <span data-ttu-id="96220-184">**[OK]** を選択して変更を保存します。</span><span class="sxs-lookup"><span data-stu-id="96220-184">Select **OK** to save your changes.</span></span>
4. <span data-ttu-id="96220-185">Web ブラウザーを開きに移動`http://localhost/YourApplicationAlias/schemas?api-version=2016-10-26`など`http://localhost/IISLogicApp/Schemas?api-version=2016-10-26`します。</span><span class="sxs-lookup"><span data-stu-id="96220-185">Open a web browser, and go to `http://localhost/YourApplicationAlias/schemas?api-version=2016-10-26`, such as `http://localhost/IISLogicApp/Schemas?api-version=2016-10-26`.</span></span> <span data-ttu-id="96220-186">いずれかのスキーマの表示の一覧またはするは、開く/保存するように求められます`schemas.json`します。</span><span class="sxs-lookup"><span data-stu-id="96220-186">Either a list of schemas display, or you are prompted to open/save `schemas.json`.</span></span> <span data-ttu-id="96220-187">実際の結果は、web ブラウザーに依存します。</span><span class="sxs-lookup"><span data-stu-id="96220-187">The actual result depends on your web browser.</span></span> <span data-ttu-id="96220-188">どちらのような場合は、アプリケーション プール id は、BizTalk グループのメンバーシップをない可能性があります。</span><span class="sxs-lookup"><span data-stu-id="96220-188">If neither of these happens, then your AppPool identity may be missing membership to the BizTalk groups.</span></span>

#### <a name="create-the-biztalk-receiveservice-iis-application"></a><span data-ttu-id="96220-189">BizTalk ReceiveService IIS アプリケーションを作成します。</span><span class="sxs-lookup"><span data-stu-id="96220-189">Create the BizTalk ReceiveService IIS application</span></span>
<span data-ttu-id="96220-190">この IIS アプリケーションの URL は、ロジック アプリ) の「BizTalk コネクタで使用、受信場所を選択するとします。</span><span class="sxs-lookup"><span data-stu-id="96220-190">The URL of this IIS application is used by the BizTalk Connector (in your logic app) when you choose the receive location.</span></span> 

1. <span data-ttu-id="96220-191">インターネット インフォメーション サービス (IIS) マネージャーを開きます。</span><span class="sxs-lookup"><span data-stu-id="96220-191">Open the Internet Information Services (IIS) Manager.</span></span>
2. <span data-ttu-id="96220-192">右クリック**Default Web Site**、および**アプリケーションを追加**します。</span><span class="sxs-lookup"><span data-stu-id="96220-192">Right-click **Default Web Site**, and **Add Application**.</span></span> <span data-ttu-id="96220-193">この新しいアプリケーション。</span><span class="sxs-lookup"><span data-stu-id="96220-193">In this new application:</span></span> 

    1. <span data-ttu-id="96220-194">入力、**エイリアス**(名前)、アプリケーションのなど**ReceiveWCFService**します。</span><span class="sxs-lookup"><span data-stu-id="96220-194">Enter the **Alias** (name) for your application, such as **ReceiveWCFService**.</span></span> 
    2. <span data-ttu-id="96220-195">**選択**以前の IIS アプリケーションとして同じアプリケーション プール。</span><span class="sxs-lookup"><span data-stu-id="96220-195">**Select** the same application pool as the previous IIS application.</span></span>
    3. <span data-ttu-id="96220-196">設定、**物理パス**に`C:\Program Files (x86)\Microsoft BizTalk Server 2016\LogicApp Adapter\ReceiveService`します。</span><span class="sxs-lookup"><span data-stu-id="96220-196">Set the **Physical path** to `C:\Program Files (x86)\Microsoft BizTalk Server 2016\LogicApp Adapter\ReceiveService`.</span></span> 
    3. <span data-ttu-id="96220-197">**テストの設定**の id が認証を通過するアプリケーション プールを確認して、承認をテストします。</span><span class="sxs-lookup"><span data-stu-id="96220-197">**Test Settings** to confirm the application pool identity passes the Authentication and Authorization tests.</span></span>

3. <span data-ttu-id="96220-198">**[OK]** を選択して変更を保存します。</span><span class="sxs-lookup"><span data-stu-id="96220-198">Select **OK** to save your changes.</span></span>


### <a name="step-3-create-a-logic-app"></a><span data-ttu-id="96220-199">手順 3:ロジック アプリを作成します。</span><span class="sxs-lookup"><span data-stu-id="96220-199">Step 3: Create a logic app</span></span>

1. <span data-ttu-id="96220-200">[Azure portal](https://portal.azure.com)、新しいロジック アプリを作成します。</span><span class="sxs-lookup"><span data-stu-id="96220-200">In the [Azure portal](https://portal.azure.com), create a new logic app.</span></span>
2. <span data-ttu-id="96220-201">追加、**ときに HTTP 要求を受信した**トリガーします。</span><span class="sxs-lookup"><span data-stu-id="96220-201">Add the **When an HTTP request is received** trigger.</span></span>
3. <span data-ttu-id="96220-202">追加、 **BizTalk Server に JSON からメッセージを準備**アクション。</span><span class="sxs-lookup"><span data-stu-id="96220-202">Add the **BizTalk Server - Prepare message from JSON** action.</span></span> 
4. <span data-ttu-id="96220-203">**省略可能な**:選択**のオンプレミス データ ゲートウェイ経由で接続**、」と入力します。</span><span class="sxs-lookup"><span data-stu-id="96220-203">**Optional**: Select **Connect via on-premise data gateway**, and enter the following:</span></span> 

    | <span data-ttu-id="96220-204">プロパティ</span><span class="sxs-lookup"><span data-stu-id="96220-204">Property</span></span> | <span data-ttu-id="96220-205">説明</span><span class="sxs-lookup"><span data-stu-id="96220-205">Description</span></span> |
   | --- | --- |
    | <span data-ttu-id="96220-206">BizTalk Server の URL</span><span class="sxs-lookup"><span data-stu-id="96220-206">BizTalk Server URL</span></span> | <span data-ttu-id="96220-207">IIS アプリケーションの URL での BizTalk 管理の完全修飾ドメイン名 (FQDN) を入力します。</span><span class="sxs-lookup"><span data-stu-id="96220-207">Enter the fully qualified domain name (FQDN) of the BizTalk Management in IIS application URL.</span></span> <span data-ttu-id="96220-208">たとえば、`http://BizTalkServerName.corp.contoso.com/IISLogicApp/` と入力します。</span><span class="sxs-lookup"><span data-stu-id="96220-208">For example, enter `http://BizTalkServerName.corp.contoso.com/IISLogicApp/`.</span></span> |
    | <span data-ttu-id="96220-209">[認証の種類]</span><span class="sxs-lookup"><span data-stu-id="96220-209">Authentication Type</span></span> | <span data-ttu-id="96220-210">選択**Windows**します。</span><span class="sxs-lookup"><span data-stu-id="96220-210">Select **Windows**.</span></span> |
   | <span data-ttu-id="96220-211">Username</span><span class="sxs-lookup"><span data-stu-id="96220-211">Username</span></span> | <span data-ttu-id="96220-212">IIS アプリケーション プールの id を入力します。</span><span class="sxs-lookup"><span data-stu-id="96220-212">Enter the identity of the IIS application pool.</span></span> |
   | <span data-ttu-id="96220-213">パスワード</span><span class="sxs-lookup"><span data-stu-id="96220-213">Password</span></span> | <span data-ttu-id="96220-214">IIS アプリケーション プールのパスワードを入力します。</span><span class="sxs-lookup"><span data-stu-id="96220-214">Enter the password of the IIS application pool.</span></span> |
   | <span data-ttu-id="96220-215">ゲートウェイ</span><span class="sxs-lookup"><span data-stu-id="96220-215">Gateway</span></span> | <span data-ttu-id="96220-216">作成したゲートウェイを選択します。</span><span class="sxs-lookup"><span data-stu-id="96220-216">Select the gateway you created.</span></span> |

    > [!TIP] 
    > <span data-ttu-id="96220-217">ただし、データ ゲートウェイはのみ場合は必須です。</span><span class="sxs-lookup"><span data-stu-id="96220-217">Remember, the data gateway is only required if:</span></span>
    > - <span data-ttu-id="96220-218">オンプレミスの BizTalk Server を使用しています。</span><span class="sxs-lookup"><span data-stu-id="96220-218">You're using an on-premises BizTalk Server</span></span>
    > - <span data-ttu-id="96220-219">BizTalk Server の Azure 仮想マシンを使用して*と*VM は、HTTP エンドポイント (URL) として公開されません。</span><span class="sxs-lookup"><span data-stu-id="96220-219">You're using a BizTalk Server Azure virtual machine *and* the VM is NOT exposed as an HTTP endpoint (no URL)</span></span>

5. <span data-ttu-id="96220-220">**[作成]** を選択します。</span><span class="sxs-lookup"><span data-stu-id="96220-220">Select **Create**.</span></span> 
6. <span data-ttu-id="96220-221">アクションを構成します。</span><span class="sxs-lookup"><span data-stu-id="96220-221">Configure the action.</span></span> <span data-ttu-id="96220-222">**本文**、HTTP 本文出力を選択します。</span><span class="sxs-lookup"><span data-stu-id="96220-222">For **Body**, select the HTTP body output.</span></span> <span data-ttu-id="96220-223">**スキーマ**、使用するスキーマを選択します。</span><span class="sxs-lookup"><span data-stu-id="96220-223">For **Schema**, select the schema you want to use.</span></span> 

    > [!NOTE] 
    > <span data-ttu-id="96220-224">この手順では、BizTalk のスキーマに精通してするどのスキーマを把握前提としています。</span><span class="sxs-lookup"><span data-stu-id="96220-224">This step assumes you are familiar with schemas in BizTalk, and know which schema you want.</span></span> <span data-ttu-id="96220-225">確認していない場合は、HelloWorld SDK サンプルのデプロイ、ロジック アプリのアダプターを使用するには、そのアイテムを更新し、スキーマとサンプルのメッセージを使用します。</span><span class="sxs-lookup"><span data-stu-id="96220-225">If you're not sure, then deploy the HelloWorld SDK sample, update its artifacts to use the Logic App adapter, and use its schema and sample message.</span></span> 

7. <span data-ttu-id="96220-226">新しいステップを追加し、選択、 **BizTalk Server のメッセージの送信**アクション。</span><span class="sxs-lookup"><span data-stu-id="96220-226">Add a new step, and select the **BizTalk Server - Send message** action.</span></span> <span data-ttu-id="96220-227">**受信場所**、ドロップダウン リストから URL を選択するか、ReceiveService IIS アプリケーション URL の完全修飾ドメイン名 (FQDN) を入力します。</span><span class="sxs-lookup"><span data-stu-id="96220-227">For  **Receive Location**, select the URL from the drop-down list, or enter the fully qualified domain name (FQDN) of the ReceiveService IIS application URL.</span></span> <span data-ttu-id="96220-228">たとえば、`http://BizTalkServerName.corp.contoso.com/ReceiveWCFService/Service1.svc` と入力します。</span><span class="sxs-lookup"><span data-stu-id="96220-228">For example, enter `http://BizTalkServerName.corp.contoso.com/ReceiveWCFService/Service1.svc`.</span></span>

    > [!TIP] 
    > <span data-ttu-id="96220-229">この正確な URL は受信場所のトランスポート プロパティとして入力することも、受信場所を作成するときに、**パブリック アドレス**([全般] タブ)。</span><span class="sxs-lookup"><span data-stu-id="96220-229">When you create the receive location, this exact URL will also be entered in the receive location transport properties as the **Public Address** (General tab).</span></span>

    <span data-ttu-id="96220-230">**本文**、BizTalk Server の前のアクションから本文出力を選択します。</span><span class="sxs-lookup"><span data-stu-id="96220-230">For **Body**, select the body output from the previous BizTalk Server action.</span></span> 

8. <span data-ttu-id="96220-231">**保存**変更します。</span><span class="sxs-lookup"><span data-stu-id="96220-231">**Save** your changes.</span></span> 

<span data-ttu-id="96220-232">保存すると、HTTP 要求トリガー URL を自動的に作成します。</span><span class="sxs-lookup"><span data-stu-id="96220-232">When you save, the HTTP Request trigger automatically creates a URL.</span></span> <span data-ttu-id="96220-233">この URL をコピーします。必要な**手順 5。メッセージを送信する**します。</span><span class="sxs-lookup"><span data-stu-id="96220-233">Copy this URL; you need it in **Step 5: Send a message**.</span></span>

### <a name="step-4-create-a-receive-port-and-a-receive-location"></a><span data-ttu-id="96220-234">手順 4:受信ポートと受信場所を作成します。</span><span class="sxs-lookup"><span data-stu-id="96220-234">Step 4: Create a receive port and a receive location</span></span>

> [!NOTE] 
> <span data-ttu-id="96220-235">作成する代わりに、独自の受信ポートし、受信場所は、HelloWorld SDK サンプルを展開できます。</span><span class="sxs-lookup"><span data-stu-id="96220-235">Instead of creating your own receive ports and receive location, you can deploy the HelloWorld SDK sample.</span></span> <span data-ttu-id="96220-236">Logic Apps アダプターを使用するアイテムを更新します。</span><span class="sxs-lookup"><span data-stu-id="96220-236">Update the artifacts to use the Logic Apps adapter.</span></span> 
 
<span data-ttu-id="96220-237">このセクションでは、独自のアーティファクトを作成する手順を示します。</span><span class="sxs-lookup"><span data-stu-id="96220-237">This section lists the steps to create your own artifacts.</span></span> 

1. <span data-ttu-id="96220-238">BizTalk Server 管理コンソールで  **BizTalk Server 管理**、展開**BizTalk グループ**、展開**アプリケーション**、順に展開アプリケーション受信場所を実行します。</span><span class="sxs-lookup"><span data-stu-id="96220-238">In BizTalk Server Administration, expand **BizTalk Server Administration**, expand **BizTalk Group**, expand **Applications**, and then expand the application you want to run the receive location.</span></span> <span data-ttu-id="96220-239">たとえば、 **BizTalk アプリケーション 1**します。</span><span class="sxs-lookup"><span data-stu-id="96220-239">For example, expand **BizTalk Application 1**.</span></span>
2. <span data-ttu-id="96220-240">右クリック**受信ポート**を選択します**新規**、選び**一方向の受信ポート**します。</span><span class="sxs-lookup"><span data-stu-id="96220-240">Right-select **Receive Ports**, select **New**, and select **One-way Receive Port**.</span></span>
3. <span data-ttu-id="96220-241">受信ポートのプロパティで、次のように入力します。</span><span class="sxs-lookup"><span data-stu-id="96220-241">In the Receive Port properties, enter the following:</span></span>  

    | <span data-ttu-id="96220-242">プロパティ</span><span class="sxs-lookup"><span data-stu-id="96220-242">Use this</span></span> | <span data-ttu-id="96220-243">目的</span><span class="sxs-lookup"><span data-stu-id="96220-243">To do this</span></span> |
    | --- | --- |
    | <span data-ttu-id="96220-244">**名前**</span><span class="sxs-lookup"><span data-stu-id="96220-244">**Name**</span></span> | <span data-ttu-id="96220-245">受信ポートの名前を入力します。</span><span class="sxs-lookup"><span data-stu-id="96220-245">Enter a name for the receive port.</span></span> <span data-ttu-id="96220-246">たとえば、入力**LAReceivePort**します。</span><span class="sxs-lookup"><span data-stu-id="96220-246">For example, enter **LAReceivePort**.</span></span> |
    | <span data-ttu-id="96220-247">**[認証]**</span><span class="sxs-lookup"><span data-stu-id="96220-247">**Authentication**</span></span> | <span data-ttu-id="96220-248">オプション:</span><span class="sxs-lookup"><span data-stu-id="96220-248">Options:</span></span> <br/><ul><li><span data-ttu-id="96220-249">認証なし:既定値です。</span><span class="sxs-lookup"><span data-stu-id="96220-249">No Authentication: Default.</span></span> <span data-ttu-id="96220-250">認証を無効にします。</span><span class="sxs-lookup"><span data-stu-id="96220-250">Disables authentication.</span></span></li><li><span data-ttu-id="96220-251">認証が失敗した場合は、メッセージをドロップします。認証されていないメッセージを削除するが、認証を有効にします。</span><span class="sxs-lookup"><span data-stu-id="96220-251">Drop messages if authentication fails: Enables authentication but to drop unauthenticated messages.</span></span></li><li><span data-ttu-id="96220-252">認証が失敗した場合は、メッセージを保持します。認証を有効にして、認証されていないメッセージを保持するには、このオプションをクリックします。</span><span class="sxs-lookup"><span data-stu-id="96220-252">Keep messages if authentication fails: Click this option to enable authentication and keep unauthenticated messages.</span></span> </li></ul>|
    | <span data-ttu-id="96220-253">**失敗したメッセージのルーティングを有効にします。**</span><span class="sxs-lookup"><span data-stu-id="96220-253">**Enable routing for failed messages**</span></span> | <span data-ttu-id="96220-254">サブスクライブするアプリケーションの処理に失敗したすべてのメッセージのルーティング (別の受信ポートやオーケストレーション スケジュールなど)。</span><span class="sxs-lookup"><span data-stu-id="96220-254">Routes any message that fails processing to a subscribing application (such as another receive port or orchestration schedule).</span></span> <span data-ttu-id="96220-255">失敗したメッセージを中断し、否定受信確認応答 (NACK) を生成するには、このオプションをオフにします。</span><span class="sxs-lookup"><span data-stu-id="96220-255">Uncheck this option to suspend failed messages and generate a negative acknowledgment (NACK).</span></span> <span data-ttu-id="96220-256">既定値はオフです。</span><span class="sxs-lookup"><span data-stu-id="96220-256">The default value is cleared.</span></span> <span data-ttu-id="96220-257">詳細については、次を参照してください。[受信ポートの失敗したメッセージのルーティングを有効にする方法](../core/how-to-enable-routing-for-failed-messages-for-a-receive-port.md)します。</span><span class="sxs-lookup"><span data-stu-id="96220-257">For more information, see [How to Enable Routing for Failed Messages for a Receive Port](../core/how-to-enable-routing-for-failed-messages-for-a-receive-port.md).</span></span>|

4. <span data-ttu-id="96220-258">選択**受信場所**、選び**新規**します。</span><span class="sxs-lookup"><span data-stu-id="96220-258">Select **Receive Locations**, and select **New**.</span></span> 
5. <span data-ttu-id="96220-259">入力、**名前**受信場所の。</span><span class="sxs-lookup"><span data-stu-id="96220-259">Enter a **Name** for the receive location.</span></span> <span data-ttu-id="96220-260">たとえば、入力**LAReceiveLoc**します。</span><span class="sxs-lookup"><span data-stu-id="96220-260">For example, enter **LAReceiveLoc**.</span></span>
6. <span data-ttu-id="96220-261">**型**を選択します**LogicApp**を選択し、一覧から、**構成ボタン**します。</span><span class="sxs-lookup"><span data-stu-id="96220-261">For the **Type**, select **LogicApp** from the list, and select the **Configure button**.</span></span> 
7. <span data-ttu-id="96220-262">**全般** タブで、ロジック アプリのエンドポイント アドレスを構成します。</span><span class="sxs-lookup"><span data-stu-id="96220-262">In the **General** tab, configure the endpoint address for your logic app:</span></span>

    | <span data-ttu-id="96220-263">プロパティ</span><span class="sxs-lookup"><span data-stu-id="96220-263">Use this</span></span> | <span data-ttu-id="96220-264">目的</span><span class="sxs-lookup"><span data-stu-id="96220-264">To do this</span></span> |
    | --- | --- |
    | <span data-ttu-id="96220-265">**アドレス (URI)**</span><span class="sxs-lookup"><span data-stu-id="96220-265">**Address (URI)**</span></span> | <span data-ttu-id="96220-266">必須。</span><span class="sxs-lookup"><span data-stu-id="96220-266">Required.</span></span> <span data-ttu-id="96220-267">BizTalk ReceiveService IIS アプリケーションの URL を入力します (`/YourIISApp2Name/Service1.svc`)。</span><span class="sxs-lookup"><span data-stu-id="96220-267">Enter the BizTalk ReceiveService IIS application URL (`/YourIISApp2Name/Service1.svc`).</span></span> <span data-ttu-id="96220-268">たとえば、`/ReceiveWCFService/Service1.svc` と入力します。</span><span class="sxs-lookup"><span data-stu-id="96220-268">For example, enter `/ReceiveWCFService/Service1.svc`.</span></span> |
    | <span data-ttu-id="96220-269">**パブリック アドレス**</span><span class="sxs-lookup"><span data-stu-id="96220-269">**Public Address**</span></span> | <span data-ttu-id="96220-270">必須。</span><span class="sxs-lookup"><span data-stu-id="96220-270">Required.</span></span> <span data-ttu-id="96220-271">入力`http://<your fully qualified machine name>/YourIISApp2Name/Service1.svc`します。</span><span class="sxs-lookup"><span data-stu-id="96220-271">Enter `http://<your fully qualified machine name>/YourIISApp2Name/Service1.svc`.</span></span> <span data-ttu-id="96220-272">たとえば、`http://btsProd.northamerica.corp.contoso.com/ReceiveWCFService/Service1.svc` と入力します。</span><span class="sxs-lookup"><span data-stu-id="96220-272">For example, enter `http://btsProd.northamerica.corp.contoso.com/ReceiveWCFService/Service1.svc`.</span></span> <br/><br/><span data-ttu-id="96220-273">この正確な URL は、受信場所でロジック アプリにも表示されます。</span><span class="sxs-lookup"><span data-stu-id="96220-273">This exact URL is also listed in your logic app in the receive location.</span></span>|

8. <span data-ttu-id="96220-274">**省略可能な**します。</span><span class="sxs-lookup"><span data-stu-id="96220-274">**Optional**.</span></span> <span data-ttu-id="96220-275">**バインド** タブで、タイムアウトとエンコーディング関係のプロパティを基になる Wcf-webhttp バインディングの構成します。</span><span class="sxs-lookup"><span data-stu-id="96220-275">In the **Binding** tab, configure any timeout and encoding-related properties of the underlying WCF-WebHttp binding.</span></span> <span data-ttu-id="96220-276">これらのプロパティは、サイズの大きいメッセージを処理するときに役立ちます。</span><span class="sxs-lookup"><span data-stu-id="96220-276">These properties are helpful when dealing with large messages.</span></span>

    | <span data-ttu-id="96220-277">プロパティ</span><span class="sxs-lookup"><span data-stu-id="96220-277">Use this</span></span> | <span data-ttu-id="96220-278">目的</span><span class="sxs-lookup"><span data-stu-id="96220-278">To do this</span></span> |
    | --- | --- |
    | <span data-ttu-id="96220-279">オープン タイムアウト</span><span class="sxs-lookup"><span data-stu-id="96220-279">Open timeout</span></span> | <span data-ttu-id="96220-280">チャネルを開く操作を完了する必要がありますかかる時間間隔を入力します。</span><span class="sxs-lookup"><span data-stu-id="96220-280">Enter the time interval it should take for the channel open operation to complete.</span></span> <span data-ttu-id="96220-281">この値は、System.TimeSpan.Zero 以上になります。</span><span class="sxs-lookup"><span data-stu-id="96220-281">This value should be greater than or equal to System.TimeSpan.Zero.</span></span> <br/><br/><span data-ttu-id="96220-282">既定値:00:01:00</span><span class="sxs-lookup"><span data-stu-id="96220-282">Default value: 00:01:00</span></span><br/><span data-ttu-id="96220-283">最大値:23:59:59</span><span class="sxs-lookup"><span data-stu-id="96220-283">Maximum value: 23:59:59</span></span> |
    | <span data-ttu-id="96220-284">送信タイムアウト</span><span class="sxs-lookup"><span data-stu-id="96220-284">Send timeout</span></span> |<span data-ttu-id="96220-285">送信操作を完了する必要がありますかかる時間間隔を入力します。</span><span class="sxs-lookup"><span data-stu-id="96220-285">Enter the time interval it should take for the send operation to complete.</span></span> <span data-ttu-id="96220-286">この値は、System.TimeSpan.Zero 以上になります。</span><span class="sxs-lookup"><span data-stu-id="96220-286">This value should be greater than or equal to System.TimeSpan.Zero.</span></span> <span data-ttu-id="96220-287">要求-応答を使用する場合は、受信ポート、クライアントは、サイズの大きいメッセージを返した場合であっても、この値が全体の操作を完了するまでの時間を指定します。</span><span class="sxs-lookup"><span data-stu-id="96220-287">If you use a request-response receive port, this value specifies a time span for the entire interaction to complete, even if the client returns a large message.</span></span> <br/><br/><span data-ttu-id="96220-288">既定値:00:01:00</span><span class="sxs-lookup"><span data-stu-id="96220-288">Default value: 00:01:00</span></span><br/><span data-ttu-id="96220-289">最大値:23:59:59</span><span class="sxs-lookup"><span data-stu-id="96220-289">Maximum value: 23:59:59</span></span>|
    | <span data-ttu-id="96220-290">クローズ タイムアウト</span><span class="sxs-lookup"><span data-stu-id="96220-290">Close timeout</span></span> | <span data-ttu-id="96220-291">チャネルを閉じる操作を完了する必要がありますかかる時間間隔を入力します。</span><span class="sxs-lookup"><span data-stu-id="96220-291">Enter the time interval it should take for the channel close operation to complete.</span></span> <span data-ttu-id="96220-292">この値は、System.TimeSpan.Zero 以上になります。</span><span class="sxs-lookup"><span data-stu-id="96220-292">This value should be greater than or equal to System.TimeSpan.Zero.</span></span> <br/><br/><span data-ttu-id="96220-293">既定値:00:01:00</span><span class="sxs-lookup"><span data-stu-id="96220-293">Default value: 00:01:00</span></span><br/><span data-ttu-id="96220-294">最大値:23:59:59</span><span class="sxs-lookup"><span data-stu-id="96220-294">Maximum value: 23:59:59</span></span> |
    | <span data-ttu-id="96220-295">[最大受信メッセージ サイズ (バイト単位)]</span><span class="sxs-lookup"><span data-stu-id="96220-295">Maximum received message size (bytes)</span></span> | <span data-ttu-id="96220-296">ヘッダーを含む、ネットワーク上で受信するメッセージをバイト単位で最大のサイズを入力します。</span><span class="sxs-lookup"><span data-stu-id="96220-296">Enter the maximum size, in bytes, for a message including headers, to be received on the wire.</span></span> <span data-ttu-id="96220-297">メッセージのサイズは、各メッセージに割り当てられたメモリの量によってバインドされています。</span><span class="sxs-lookup"><span data-stu-id="96220-297">The size of the messages is bound by the amount of memory allocated for each message.</span></span> <span data-ttu-id="96220-298">このプロパティを使用して、サービス拒否 (DoS) 攻撃にさらされる危険性を制限できます。</span><span class="sxs-lookup"><span data-stu-id="96220-298">You can use this property to limit exposure to denial of service (DoS) attacks.</span></span> <br/><br/><span data-ttu-id="96220-299">既定値:65536</span><span class="sxs-lookup"><span data-stu-id="96220-299">Default value: 65536</span></span><br/><span data-ttu-id="96220-300">最大値:2147483647</span><span class="sxs-lookup"><span data-stu-id="96220-300">Maximum value: 2147483647</span></span>|
    | <span data-ttu-id="96220-301">[最大同時呼び出し数]</span><span class="sxs-lookup"><span data-stu-id="96220-301">Maximum concurrent calls</span></span> | <span data-ttu-id="96220-302">1 つのサービス インスタンスに対する同時呼び出しの数を入力します。</span><span class="sxs-lookup"><span data-stu-id="96220-302">Enter the number of concurrent calls to a single service instance.</span></span> <span data-ttu-id="96220-303">制限を超える呼び出しはキューに格納されます。</span><span class="sxs-lookup"><span data-stu-id="96220-303">Calls in excess of the limit are queued.</span></span> <span data-ttu-id="96220-304">この値を 0 に設定することは、Int32.MaxValue に設定するのと同じです。</span><span class="sxs-lookup"><span data-stu-id="96220-304">Setting this value to 0 is equivalent to setting it to Int32.MaxValue.</span></span> <br/><br/><span data-ttu-id="96220-305">既定値は 200 です。</span><span class="sxs-lookup"><span data-stu-id="96220-305">The default is 200.</span></span>|

9. <span data-ttu-id="96220-306">**省略可能な**します。</span><span class="sxs-lookup"><span data-stu-id="96220-306">**Optional**.</span></span> <span data-ttu-id="96220-307">**セキュリティ** タブで、任意のセキュリティ プロパティを構成します。</span><span class="sxs-lookup"><span data-stu-id="96220-307">In the **Security** tab, configure any security properties.</span></span> <span data-ttu-id="96220-308">開発目的で、[なし] を選択できます。</span><span class="sxs-lookup"><span data-stu-id="96220-308">For development purposes, you can choose None:</span></span>

    | <span data-ttu-id="96220-309">プロパティ</span><span class="sxs-lookup"><span data-stu-id="96220-309">Use this</span></span> | <span data-ttu-id="96220-310">目的</span><span class="sxs-lookup"><span data-stu-id="96220-310">To do this</span></span> |
    | --- | --- |
    | <span data-ttu-id="96220-311">[セキュリティ モード]</span><span class="sxs-lookup"><span data-stu-id="96220-311">Security mode</span></span> | <span data-ttu-id="96220-312">オプション:</span><span class="sxs-lookup"><span data-stu-id="96220-312">Options:</span></span>  <br/><br/><ul><li><span data-ttu-id="96220-313">None:メッセージは転送中にセキュリティ保護されません。</span><span class="sxs-lookup"><span data-stu-id="96220-313">None: Messages are not secured during transfer.</span></span></li><li><span data-ttu-id="96220-314">トランスポート:セキュリティは、HTTPS トランスポートを使用して提供されます。</span><span class="sxs-lookup"><span data-stu-id="96220-314">Transport: Security is provided using the HTTPS transport.</span></span> <span data-ttu-id="96220-315">SOAP メッセージは、HTTPS を使用してセキュリティ保護されます。</span><span class="sxs-lookup"><span data-stu-id="96220-315">The SOAP messages are secured using HTTPS.</span></span> <span data-ttu-id="96220-316">このモードを使用するをセキュリティで保護されたソケット レイヤー (SSL) では、インターネット インフォメーション サービス (IIS) を設定する必要があります。</span><span class="sxs-lookup"><span data-stu-id="96220-316">To use this mode, you must set up Secure Sockets Layer (SSL) in Internet Information Services (IIS).</span></span> </li><li><span data-ttu-id="96220-317">TransportCredentialOnly:既定値です。</span><span class="sxs-lookup"><span data-stu-id="96220-317">TransportCredentialOnly: Default.</span></span> </li></ul> |
    | <span data-ttu-id="96220-318">トランスポート クライアントの資格情報の種類</span><span class="sxs-lookup"><span data-stu-id="96220-318">Transport client credential types</span></span> | <span data-ttu-id="96220-319">クライアント認証を使用する場合は、資格情報の種類を選択します。</span><span class="sxs-lookup"><span data-stu-id="96220-319">Choose the credential type when using client authentication.</span></span> <span data-ttu-id="96220-320">オプション:</span><span class="sxs-lookup"><span data-stu-id="96220-320">Options:</span></span>  <br/><br/><ul><li><span data-ttu-id="96220-321">None:トランスポート レベルでは、認証は行われません。</span><span class="sxs-lookup"><span data-stu-id="96220-321">None: No authentication occurs at the transport level.</span></span></li><li><span data-ttu-id="96220-322">基本的な：基本認証を使用して、ユーザー名とパスワードをプレーン テキストでネットワーク経由で送信します。</span><span class="sxs-lookup"><span data-stu-id="96220-322">Basic: Uses Basic authentication to send user names and passwords in plain text over the network.</span></span> <span data-ttu-id="96220-323">資格情報に対応するドメイン ユーザー アカウントまたはローカル ユーザー アカウントを作成する必要があります。</span><span class="sxs-lookup"><span data-stu-id="96220-323">You must create the domain or local user accounts corresponding to the credentials.</span></span></li><li><span data-ttu-id="96220-324">ダイジェスト:パスワードをハッシュ値として、ネットワーク経由で送信するのにには、ダイジェスト認証を使用します。</span><span class="sxs-lookup"><span data-stu-id="96220-324">Digest: Uses Digest authentication to send passwords as a hash value over the network.</span></span> <span data-ttu-id="96220-325">Windows Server オペレーティング システムの認証を実行するドメイン コント ローラーのドメインに対してのみ使用できます。</span><span class="sxs-lookup"><span data-stu-id="96220-325">Only available on domains with domain controllers running Windows Server operating systems authentication.</span></span> <span data-ttu-id="96220-326">クライアントの資格情報に対応するドメイン ユーザー アカウントまたはローカル ユーザー アカウントを作成する必要があります。</span><span class="sxs-lookup"><span data-stu-id="96220-326">You must create the domain or local user accounts corresponding to client credentials.</span></span></li><li><span data-ttu-id="96220-327">Ntlm:既定値です。</span><span class="sxs-lookup"><span data-stu-id="96220-327">Ntlm: Default.</span></span> <span data-ttu-id="96220-328">クライアントは、受信場所にこのパスワードを送信せずに資格情報を送信します。</span><span class="sxs-lookup"><span data-stu-id="96220-328">Clients sends the credentials without sending a password to this receive location.</span></span> <span data-ttu-id="96220-329">クライアントの資格情報に対応するドメイン ユーザー アカウントまたはローカル ユーザー アカウントを作成する必要があります。</span><span class="sxs-lookup"><span data-stu-id="96220-329">You must create the domain or local user accounts corresponding to client credentials.</span></span></li><li><span data-ttu-id="96220-330">Windows:Windows 統合認証はネゴシエート Kerberos または NTLM、Kerberos をドメインが存在する場合よりも優先されます。</span><span class="sxs-lookup"><span data-stu-id="96220-330">Windows: Windows integrated authentication negotiates Kerberos or NTLM, preferring Kerberos if a domain is present.</span></span> <span data-ttu-id="96220-331">Kerberos を使用するには、クライアントがサービス プリンシパル名 (SPN) でサービスを識別する必要があります。</span><span class="sxs-lookup"><span data-stu-id="96220-331">To use Kerberos, it is important to have the client identify the service with a service principal name (SPN).</span></span> <span data-ttu-id="96220-332">クライアントの資格情報に対応するドメイン ユーザー アカウントまたはローカル ユーザー アカウントを作成する必要があります。</span><span class="sxs-lookup"><span data-stu-id="96220-332">You must create the domain or local user accounts corresponding to client credentials.</span></span></li><li><span data-ttu-id="96220-333">証明書:クライアント証明書を使用します。</span><span class="sxs-lookup"><span data-stu-id="96220-333">Certificate: Uses a client certificate.</span></span> <span data-ttu-id="96220-334">CA の証明書チェーンがこのクライアントを認証できるように、このコンピューターの信頼されたルート証明機関の証明書ストアにクライアントの X.509 証明書をインストールする必要がありますの受信場所。</span><span class="sxs-lookup"><span data-stu-id="96220-334">The CA certificate chain for the client X.509 certificates must be installed in the Trusted Root Certification Authorities certificate store of this computer so that the clients can authenticate to this receive location.</span></span></li><li><span data-ttu-id="96220-335">InheritedFromHost</span><span class="sxs-lookup"><span data-stu-id="96220-335">InheritedFromHost</span></span></li></ul> |
    | <span data-ttu-id="96220-336">[シングル サインオンを使用する]</span><span class="sxs-lookup"><span data-stu-id="96220-336">Use Single Sign-On</span></span> | |


10. <span data-ttu-id="96220-337">**省略可能な**します。</span><span class="sxs-lookup"><span data-stu-id="96220-337">**Optional**.</span></span> <span data-ttu-id="96220-338">**メッセージ** タブで、使用、**送信 HTTP ヘッダー**プロパティをカスタム ヘッダーを追加しに障害が発生する追加のプロパティを使用します。</span><span class="sxs-lookup"><span data-stu-id="96220-338">In the **Messages** tab, use the **Outbound HTTP Headers** property to add any custom headers, and use the additional properties to help with faults:</span></span> 

    | <span data-ttu-id="96220-339">プロパティ</span><span class="sxs-lookup"><span data-stu-id="96220-339">Use this</span></span> | <span data-ttu-id="96220-340">目的</span><span class="sxs-lookup"><span data-stu-id="96220-340">To do this</span></span> |
    | --- | --- |
    |<span data-ttu-id="96220-341">送信 HTTP ヘッダー</span><span class="sxs-lookup"><span data-stu-id="96220-341">Outbound HTTP Headers</span></span> | <span data-ttu-id="96220-342">応答メッセージにスタンプする任意の HTTP ヘッダーを入力します。</span><span class="sxs-lookup"><span data-stu-id="96220-342">Enter any HTTP headers that you want stamped on the response message.</span></span> | 
    | <span data-ttu-id="96220-343">[エラー発生時に場所を無効にする]</span><span class="sxs-lookup"><span data-stu-id="96220-343">Disable location on failure</span></span> | <span data-ttu-id="96220-344">受信パイプラインまたはルーティングの障害によって受信処理が失敗した場合は、受信場所を無効にします。</span><span class="sxs-lookup"><span data-stu-id="96220-344">Disables the receive location if inbound processing fails due to a receive pipeline failure or a routing failure.</span></span> <span data-ttu-id="96220-345">既定値はチェックされません。</span><span class="sxs-lookup"><span data-stu-id="96220-345">Default is unchecked.</span></span>|
    | <span data-ttu-id="96220-346">[エラー発生時に要求メッセージを保留する]</span><span class="sxs-lookup"><span data-stu-id="96220-346">Suspend request message on failure</span></span> | <span data-ttu-id="96220-347">受信パイプラインまたはルーティングの障害によって受信処理が失敗した場合は、要求メッセージを中断します。</span><span class="sxs-lookup"><span data-stu-id="96220-347">Suspends the request message if inbound processing fails due to a receive pipeline failure or a routing failure.</span></span> <span data-ttu-id="96220-348">既定値はチェックされません。</span><span class="sxs-lookup"><span data-stu-id="96220-348">Default is unchecked.</span></span>|
    | <span data-ttu-id="96220-349">[エラーに例外の詳細を含める]</span><span class="sxs-lookup"><span data-stu-id="96220-349">Include exception detail in faults</span></span> | <span data-ttu-id="96220-350">エラーが発生する場合は、デバッグを支援する SOAP エラーを返します。</span><span class="sxs-lookup"><span data-stu-id="96220-350">When an error occurs, returns any SOAP faults to help debugging.</span></span> <span data-ttu-id="96220-351">既定値はチェックされません。</span><span class="sxs-lookup"><span data-stu-id="96220-351">Default is unchecked.</span></span>|

<span data-ttu-id="96220-352">[受信場所を管理する](../core/managing-receive-locations.md)追加のプロパティについて説明します。</span><span class="sxs-lookup"><span data-stu-id="96220-352">[Managing Receive Locations](../core/managing-receive-locations.md) describes the additional properties.</span></span> 

### <a name="step-5-send-a-message"></a><span data-ttu-id="96220-353">手順 5:メッセージを送信します。</span><span class="sxs-lookup"><span data-stu-id="96220-353">Step 5: Send a message</span></span>

1. <span data-ttu-id="96220-354">Fiddler または Postman (またはに応じて) を開きます。</span><span class="sxs-lookup"><span data-stu-id="96220-354">Open Fiddler or Postman (or whatever you prefer).</span></span>
2. <span data-ttu-id="96220-355">ロジック アプリからの要求トリガーの URL を貼り付けます。</span><span class="sxs-lookup"><span data-stu-id="96220-355">Paste the URL of the Request trigger from your logic app.</span></span> <span data-ttu-id="96220-356">手順 3 では、この URL をコピーします。</span><span class="sxs-lookup"><span data-stu-id="96220-356">You copied this URL in Step 3.</span></span> 
3. <span data-ttu-id="96220-357">選択**POST** HTTP 動詞、およびセットとして、 **content-type**ヘッダーを`application/json`します。</span><span class="sxs-lookup"><span data-stu-id="96220-357">Select **POST** as the HTTP verb, and set the **Content-type** header to `application/json`.</span></span> <span data-ttu-id="96220-358">本文には、次の JSON を貼り付けます。</span><span class="sxs-lookup"><span data-stu-id="96220-358">In the body, paste the following JSON:</span></span>  

    ```json
    {“hello”:”world”}
    ```

4. <span data-ttu-id="96220-359">BizTalk に一方向の呼び出しであるため、結果は、HTTP 202 になります。</span><span class="sxs-lookup"><span data-stu-id="96220-359">Because this is a one-way call to BizTalk, the result should be an HTTP 202.</span></span> <span data-ttu-id="96220-360">HelloWorld SDK サンプルを使用している場合は、BizTalk server に移動します。</span><span class="sxs-lookup"><span data-stu-id="96220-360">If you're using the HelloWorld SDK sample, go to your BizTalk server.</span></span> <span data-ttu-id="96220-361">送信フォルダーにファイルが可能性があります。</span><span class="sxs-lookup"><span data-stu-id="96220-361">There may be a file in your send folder.</span></span> 


## <a name="send-messages-to-a-logic-app"></a><span data-ttu-id="96220-362">ロジック アプリにメッセージを送信します。</span><span class="sxs-lookup"><span data-stu-id="96220-362">Send messages to a logic app</span></span>

### <a name="step-1-install-the-logic-apps-adapter"></a><span data-ttu-id="96220-363">手順 1:Logic Apps アダプターをインストールします。</span><span class="sxs-lookup"><span data-stu-id="96220-363">Step 1: Install the Logic Apps adapter</span></span>

<span data-ttu-id="96220-364">Logic Apps アダプターでは、個別のダウンロードしは、BizTalk Server のインストールに含まれていません。</span><span class="sxs-lookup"><span data-stu-id="96220-364">The Logic Apps adapter is a separate download, and is not included with the BizTalk Server installation.</span></span>

1. <span data-ttu-id="96220-365">移動して[Logic Apps の Microsoft BizTalk Server アダプター](https://www.microsoft.com/download/details.aspx?id=54287)、保存します。</span><span class="sxs-lookup"><span data-stu-id="96220-365">Go to [Microsoft BizTalk Server Adapter for Logic Apps](https://www.microsoft.com/download/details.aspx?id=54287), and save.</span></span> 
2. <span data-ttu-id="96220-366">LogicAppAdapter.iso を開き、実行、 **LogicApp Adapter.msi**ファイルをインストールします。</span><span class="sxs-lookup"><span data-stu-id="96220-366">Open the LogicAppAdapter.iso, and run the **LogicApp Adapter.msi** file to install.</span></span>
3. <span data-ttu-id="96220-367">**[完了]** インストール、および再起動、 **BizTalkServerApplication**と**BizTalkServerIsolatedHost**インスタンスをホストします。</span><span class="sxs-lookup"><span data-stu-id="96220-367">**Finish** the install, and restart the **BizTalkServerApplication** and **BizTalkServerIsolatedHost** host instances.</span></span>

<span data-ttu-id="96220-368">インストールされると、次があります。</span><span class="sxs-lookup"><span data-stu-id="96220-368">Once installed, you have the following:</span></span>

- <span data-ttu-id="96220-369">ロジック アプリのアダプターは BizTalk 管理コンソールに追加されます。</span><span class="sxs-lookup"><span data-stu-id="96220-369">The LogicApp adapter is added to BizTalk Administration</span></span>
- <span data-ttu-id="96220-370">送信ハンドラーが作成され、BizTalkServerApplication ホストを使用します。</span><span class="sxs-lookup"><span data-stu-id="96220-370">The send handler is created, and uses the BizTalkServerApplication host.</span></span>
- <span data-ttu-id="96220-371">受信ハンドラーは、WCF サービスとして作成され、[biztalkserverisolatedhost] ホストを使用します。</span><span class="sxs-lookup"><span data-stu-id="96220-371">The receive handler is created as a WCF service, and uses the BizTalkServerIsolatedHost host.</span></span>
- <span data-ttu-id="96220-372">`C:\Program Files (x86)\Microsoft BizTalk Server 2016\LogicApp Adapter`フォルダーが作成され、2 つのサービスが含まれています。管理と ReceiveService します。</span><span class="sxs-lookup"><span data-stu-id="96220-372">The `C:\Program Files (x86)\Microsoft BizTalk Server 2016\LogicApp Adapter` folder is created, and includes two services: Management and ReceiveService.</span></span> <span data-ttu-id="96220-373">これらのサービスは、メッセージを送信するロジック アプリには使用されません。</span><span class="sxs-lookup"><span data-stu-id="96220-373">These services are not used to send messages to a logic app.</span></span> 


### <a name="step-2-create-a-logic-app"></a><span data-ttu-id="96220-374">手順 2:ロジック アプリを作成します。</span><span class="sxs-lookup"><span data-stu-id="96220-374">Step 2: Create a logic app</span></span>

1. <span data-ttu-id="96220-375">[Azure portal](https://portal.azure.com)、新しいロジック アプリを作成します。</span><span class="sxs-lookup"><span data-stu-id="96220-375">In the [Azure portal](https://portal.azure.com), create a new logic app.</span></span>
2. <span data-ttu-id="96220-376">追加、**ときに HTTP 要求を受信した**トリガー</span><span class="sxs-lookup"><span data-stu-id="96220-376">Add the **When an HTTP request is received** trigger</span></span>
3. <span data-ttu-id="96220-377">追加、 **Office 365 Outlook - 電子メールの送信**アクション。</span><span class="sxs-lookup"><span data-stu-id="96220-377">Add the **Office 365 Outlook - Send an email** action.</span></span> <span data-ttu-id="96220-378">**に**アドレス、Office 365 のアドレスを入力します。</span><span class="sxs-lookup"><span data-stu-id="96220-378">For the **To** address, enter your Office 365 address.</span></span> <span data-ttu-id="96220-379">**サブジェクト**、入力`Sending from BizTalk`します。</span><span class="sxs-lookup"><span data-stu-id="96220-379">For the **Subject**, enter `Sending from BizTalk`.</span></span> <span data-ttu-id="96220-380">**本文**、選択、*本文*からの出力、**ときに HTTP 要求を受信した**トリガーします。</span><span class="sxs-lookup"><span data-stu-id="96220-380">For **Body**, choose the *Body* output from the **When an HTTP request is received** trigger.</span></span> 
4. <span data-ttu-id="96220-381">ロジック アプリは次のようになります。</span><span class="sxs-lookup"><span data-stu-id="96220-381">Your logic app looks similar to:</span></span> 

    ![LogicAppExample](../core/media/logicappexample.gif)

5. <span data-ttu-id="96220-383">ロジック アプリを保存するときに自動的に作成される HTTP POST の URL をコピーします。次の手順では、この URL をする必要があります。</span><span class="sxs-lookup"><span data-stu-id="96220-383">Copy the HTTP POST URL that is automatically created when you save the logic app; you need this URL in the next step.</span></span> <span data-ttu-id="96220-384">URL を表示するロジック アプリを閉じて再度開くことがあります。</span><span class="sxs-lookup"><span data-stu-id="96220-384">You may have to close and reopen the logic app to see the URL.</span></span>  


### <a name="step-3-create-a-send-port"></a><span data-ttu-id="96220-385">手順 3:送信ポートを作成します。</span><span class="sxs-lookup"><span data-stu-id="96220-385">Step 3: Create a Send Port</span></span>

<span data-ttu-id="96220-386">ロジック アプリへのメッセージを送信する BizTalk Server、ロジック アプリがいる必要があります、**手動**トリガーなど、**手動 - ときに HTTP 要求を受信した**します。</span><span class="sxs-lookup"><span data-stu-id="96220-386">For BizTalk Server to send messages to a logic app, the logic app must have a **Manual** trigger, such as **Manual - When an HTTP request is received**.</span></span> 

1. <span data-ttu-id="96220-387">BizTalk Server 管理コンソールで  **BizTalk Server 管理**、展開**BizTalk グループ**、展開**アプリケーション**、順に展開アプリケーション送信ポートを実行します。</span><span class="sxs-lookup"><span data-stu-id="96220-387">In BizTalk Server Administration, expand **BizTalk Server Administration**, expand **BizTalk Group**, expand **Applications**, and then expand the application you want to run the send port.</span></span> <span data-ttu-id="96220-388">たとえば、 **BizTalk アプリケーション 1**します。</span><span class="sxs-lookup"><span data-stu-id="96220-388">For example, expand **BizTalk Application 1**.</span></span>
2. <span data-ttu-id="96220-389">右クリック**送信ポート**を選択します**新規**、選び**静的な一方向送信ポート**します。</span><span class="sxs-lookup"><span data-stu-id="96220-389">Right-select **Send Ports**, select **New**, and select **Static One-way Send Port**.</span></span>
3. <span data-ttu-id="96220-390">入力、**名前**送信ポート。</span><span class="sxs-lookup"><span data-stu-id="96220-390">Enter a **Name** for the send port.</span></span> <span data-ttu-id="96220-391">たとえば、入力**LASendPort**します。</span><span class="sxs-lookup"><span data-stu-id="96220-391">For example, enter **LASendPort**.</span></span>
4. <span data-ttu-id="96220-392">**型**を選択します**LogicApp**を選択し、一覧から、**構成**ボタンをクリックします。</span><span class="sxs-lookup"><span data-stu-id="96220-392">For the **Type**, select **LogicApp** from the list, and select the **Configure** button.</span></span> 
5. <span data-ttu-id="96220-393">**全般** タブで、構成、**のコールバック URI**のロジック アプリ トリガー。</span><span class="sxs-lookup"><span data-stu-id="96220-393">In the **General** tab, configure the **Callback URI** of your logic app trigger.</span></span> <span data-ttu-id="96220-394">これには 2 つの方法があります。</span><span class="sxs-lookup"><span data-stu-id="96220-394">There are two ways to do this:</span></span> 

    <span data-ttu-id="96220-395">**オプション 1** :前の手順でコピーした、HTTP POST の URL を貼り付け、**トリガー (コールバック URI)** プロパティ。</span><span class="sxs-lookup"><span data-stu-id="96220-395">**Option 1** : Paste the HTTP POST URL you copied in the previous step in the **Trigger (Callback URI)** property.</span></span> <span data-ttu-id="96220-396">次の手順を使用して URI をコピーすることもできます。</span><span class="sxs-lookup"><span data-stu-id="96220-396">You can also copy the URI using the following steps:</span></span>  
  
   1. <span data-ttu-id="96220-397">[Azure portal](https://portal.azure.com)、Logic Apps デザイナー (編集モード) でロジック アプリを開きます。</span><span class="sxs-lookup"><span data-stu-id="96220-397">In the [Azure portal](https://portal.azure.com), open your logic app in the Logic Apps designer (edit mode).</span></span> 
   2. <span data-ttu-id="96220-398">選択、**ときに HTTP 要求を受信した**カード、およびコピー、 **URL**します。</span><span class="sxs-lookup"><span data-stu-id="96220-398">Select the **When an HTTP request is received** card, and copy the **URL**.</span></span> 
   3. <span data-ttu-id="96220-399">この URL を貼り付け、送信ポートで、**トリガー (コールバック URI)** プロパティ。</span><span class="sxs-lookup"><span data-stu-id="96220-399">In your send port, paste this URL in the **Trigger (Callback URI)** property.</span></span>

      > [!TIP] 
      > <span data-ttu-id="96220-400">この URI を取得するのに、管理 Api を使用することもできます。</span><span class="sxs-lookup"><span data-stu-id="96220-400">You can also use your management APIs to get this URI.</span></span>

      <span data-ttu-id="96220-401">**オプション 2** :トリガーのコールバック URI がわからない場合は、選択**構成**、し、Azure にサインインします。</span><span class="sxs-lookup"><span data-stu-id="96220-401">**Option 2** : If you don't know the Callback URI for your trigger, select **Configure**, and sign-in to Azure.</span></span> <span data-ttu-id="96220-402">次に、ドロップダウン リストを使用して、選択、**サブスクリプション**、**リソース グループ**、**ロジック アプリ**、および**トリガー**します。</span><span class="sxs-lookup"><span data-stu-id="96220-402">Then, use the drop-down lists to choose your **Subscription**, **Resource Group**, **Logic App**, and **Trigger**.</span></span>
 
6. <span data-ttu-id="96220-403">**省略可能な**します。</span><span class="sxs-lookup"><span data-stu-id="96220-403">**Optional**.</span></span> <span data-ttu-id="96220-404">**バインド** タブで、タイムアウトとエンコーディング関係のプロパティを基になる Wcf-webhttp バインディングの構成します。</span><span class="sxs-lookup"><span data-stu-id="96220-404">In the **Binding** tab, configure any timeout and encoding-related properties of the underlying WCF-WebHttp binding.</span></span> <span data-ttu-id="96220-405">これらのプロパティは、サイズの大きいメッセージを処理するときに役立ちます。</span><span class="sxs-lookup"><span data-stu-id="96220-405">These properties are helpful when dealing with large messages.</span></span>

    | <span data-ttu-id="96220-406">プロパティ</span><span class="sxs-lookup"><span data-stu-id="96220-406">Use this</span></span> | <span data-ttu-id="96220-407">目的</span><span class="sxs-lookup"><span data-stu-id="96220-407">To do this</span></span> |
    | --- | --- |
    | <span data-ttu-id="96220-408">オープン タイムアウト</span><span class="sxs-lookup"><span data-stu-id="96220-408">Open timeout</span></span> | <span data-ttu-id="96220-409">チャネルを開く操作を完了する必要がありますかかる時間間隔を入力します。</span><span class="sxs-lookup"><span data-stu-id="96220-409">Enter the time interval it should take for the channel open operation to complete.</span></span> <span data-ttu-id="96220-410">この値は、System.TimeSpan.Zero 以上になります。</span><span class="sxs-lookup"><span data-stu-id="96220-410">This value should be greater than or equal to System.TimeSpan.Zero.</span></span> <br/><br/><span data-ttu-id="96220-411">既定値:00:01:00</span><span class="sxs-lookup"><span data-stu-id="96220-411">Default value: 00:01:00</span></span><br/><span data-ttu-id="96220-412">最大値:23:59:59</span><span class="sxs-lookup"><span data-stu-id="96220-412">Maximum value: 23:59:59</span></span> |
    | <span data-ttu-id="96220-413">送信タイムアウト</span><span class="sxs-lookup"><span data-stu-id="96220-413">Send timeout</span></span> |<span data-ttu-id="96220-414">送信操作を完了する必要がありますかかる時間間隔を入力します。</span><span class="sxs-lookup"><span data-stu-id="96220-414">Enter the time interval it should take for the send operation to complete.</span></span> <span data-ttu-id="96220-415">この値は、System.TimeSpan.Zero 以上になります。</span><span class="sxs-lookup"><span data-stu-id="96220-415">This value should be greater than or equal to System.TimeSpan.Zero.</span></span> <span data-ttu-id="96220-416">要求-応答を使用する場合は、受信ポート、クライアントは、サイズの大きいメッセージを返した場合であっても、この値が全体の操作を完了するまでの時間を指定します。</span><span class="sxs-lookup"><span data-stu-id="96220-416">If you use a request-response receive port, this value specifies a time span for the entire interaction to complete, even if the client returns a large message.</span></span> <br/><br/><span data-ttu-id="96220-417">既定値:00:01:00</span><span class="sxs-lookup"><span data-stu-id="96220-417">Default value: 00:01:00</span></span><br/><span data-ttu-id="96220-418">最大値:23:59:59</span><span class="sxs-lookup"><span data-stu-id="96220-418">Maximum value: 23:59:59</span></span>|
    | <span data-ttu-id="96220-419">クローズ タイムアウト</span><span class="sxs-lookup"><span data-stu-id="96220-419">Close timeout</span></span> | <span data-ttu-id="96220-420">チャネルを閉じる操作を完了する必要がありますかかる時間間隔を入力します。</span><span class="sxs-lookup"><span data-stu-id="96220-420">Enter the time interval it should take for the channel close operation to complete.</span></span> <span data-ttu-id="96220-421">この値は、System.TimeSpan.Zero 以上になります。</span><span class="sxs-lookup"><span data-stu-id="96220-421">This value should be greater than or equal to System.TimeSpan.Zero.</span></span> <br/><br/><span data-ttu-id="96220-422">既定値:00:01:00</span><span class="sxs-lookup"><span data-stu-id="96220-422">Default value: 00:01:00</span></span><br/><span data-ttu-id="96220-423">最大値:23:59:59</span><span class="sxs-lookup"><span data-stu-id="96220-423">Maximum value: 23:59:59</span></span> |
    | <span data-ttu-id="96220-424">[最大受信メッセージ サイズ (バイト単位)]</span><span class="sxs-lookup"><span data-stu-id="96220-424">Maximum received message size (bytes)</span></span> | <span data-ttu-id="96220-425">ヘッダーを含む、ネットワーク上で受信するメッセージをバイト単位で最大のサイズを入力します。</span><span class="sxs-lookup"><span data-stu-id="96220-425">Enter the maximum size, in bytes, for a message including headers, to be received on the wire.</span></span> <span data-ttu-id="96220-426">メッセージのサイズは、各メッセージに割り当てられたメモリの量によってバインドされています。</span><span class="sxs-lookup"><span data-stu-id="96220-426">The size of the messages is bound by the amount of memory allocated for each message.</span></span> <span data-ttu-id="96220-427">このプロパティを使用して、サービス拒否 (DoS) 攻撃にさらされる危険性を制限できます。</span><span class="sxs-lookup"><span data-stu-id="96220-427">You can use this property to limit exposure to denial of service (DoS) attacks.</span></span> <br/><br/><span data-ttu-id="96220-428">ロジック appa アダプター活用して、 [WebHttpBinding クラス](https://msdn.microsoft.com/library/system.servicemodel.webhttpbinding.aspx)エンドポイントとの通信に、バッファリングされた送信モードでします。</span><span class="sxs-lookup"><span data-stu-id="96220-428">The logic appa adapter leverages the [WebHttpBinding class](https://msdn.microsoft.com/library/system.servicemodel.webhttpbinding.aspx) in the buffered transfer mode to communicate with an endpoint.</span></span> <span data-ttu-id="96220-429">バッファリングされたトランスポート モードでは、 [WebHttpBinding.MaxBufferSize](https://msdn.microsoft.com/library/system.servicemodel.webhttpbinding.maxbuffersize.aspx) プロパティは常にこのプロパティの値と等しくなります。</span><span class="sxs-lookup"><span data-stu-id="96220-429">For the buffered transport mode, the [WebHttpBinding.MaxBufferSize](https://msdn.microsoft.com/library/system.servicemodel.webhttpbinding.maxbuffersize.aspx) property is always equal to the value of this property.</span></span>  <br/><br/><span data-ttu-id="96220-430">既定値:65536</span><span class="sxs-lookup"><span data-stu-id="96220-430">Default value: 65536</span></span><br/><span data-ttu-id="96220-431">最大値:2147483647</span><span class="sxs-lookup"><span data-stu-id="96220-431">Maximum value: 2147483647</span></span> |


7. <span data-ttu-id="96220-432">**省略可能な**します。</span><span class="sxs-lookup"><span data-stu-id="96220-432">**Optional**.</span></span> <span data-ttu-id="96220-433">**メッセージ** タブで、使用、**送信 HTTP ヘッダー**プロパティを送信メッセージにカスタム ヘッダーを追加します。</span><span class="sxs-lookup"><span data-stu-id="96220-433">In the **Messages** tab, use the **Outbound HTTP Headers** property to add any custom headers on the outgoing message.</span></span> 
8. <span data-ttu-id="96220-434">選択**OK**構成を保存します。</span><span class="sxs-lookup"><span data-stu-id="96220-434">Select **OK** to save your configuration.</span></span> 

<span data-ttu-id="96220-435">[送信ポートと送信ポート グループを管理する](../core/managing-send-ports-and-send-port-groups.md)追加の送信ポートのプロパティについて説明します。</span><span class="sxs-lookup"><span data-stu-id="96220-435">[Managing Send Ports and Send Port Groups](../core/managing-send-ports-and-send-port-groups.md) describes the additional send port properties.</span></span> 

### <a name="step-4-send-some-messages"></a><span data-ttu-id="96220-436">手順 4:一部のメッセージを送信します。</span><span class="sxs-lookup"><span data-stu-id="96220-436">Step 4: Send some messages</span></span>

<span data-ttu-id="96220-437">受信ポートと受信場所がファイル アダプターを使用して作成できます。</span><span class="sxs-lookup"><span data-stu-id="96220-437">You can create a receive port and receive location using the File adapter.</span></span> <span data-ttu-id="96220-438">ロジック アプリが有効になっていることを確認します。</span><span class="sxs-lookup"><span data-stu-id="96220-438">Be sure your logic app is enabled.</span></span>

1. <span data-ttu-id="96220-439">受信ポートを作成します*FileSendPort*、。</span><span class="sxs-lookup"><span data-stu-id="96220-439">Create a receive port, such as *FileSendPort*,</span></span>
2. <span data-ttu-id="96220-440">受信場所を作成しのようなプロパティを設定します。</span><span class="sxs-lookup"><span data-stu-id="96220-440">Create a receive location, and set the properties similar to:</span></span>  

    | <span data-ttu-id="96220-441">プロパティ</span><span class="sxs-lookup"><span data-stu-id="96220-441">Property</span></span> | <span data-ttu-id="96220-442">入力のサンプル</span><span class="sxs-lookup"><span data-stu-id="96220-442">Sample input</span></span> |
    | --- | --- |
   | <span data-ttu-id="96220-443">受信フォルダ</span><span class="sxs-lookup"><span data-stu-id="96220-443">Receive folder</span></span> | <span data-ttu-id="96220-444">C:\temp\In\\</span><span class="sxs-lookup"><span data-stu-id="96220-444">C:\temp\In\\</span></span> |
   | <span data-ttu-id="96220-445">ファイル マスク</span><span class="sxs-lookup"><span data-stu-id="96220-445">File mask</span></span> | <span data-ttu-id="96220-446">\*.txt</span><span class="sxs-lookup"><span data-stu-id="96220-446">\*.txt</span></span> |
   | <span data-ttu-id="96220-447">パイプライン</span><span class="sxs-lookup"><span data-stu-id="96220-447">Pipeline</span></span> | <span data-ttu-id="96220-448">PassThruReceive</span><span class="sxs-lookup"><span data-stu-id="96220-448">PassThruReceive</span></span> |

3. <span data-ttu-id="96220-449">作成した送信ポートの設定、**フィルター**に。</span><span class="sxs-lookup"><span data-stu-id="96220-449">In the send port you created, set the **Filter** to:</span></span>

    | <span data-ttu-id="96220-450">プロパティ</span><span class="sxs-lookup"><span data-stu-id="96220-450">Property</span></span> | <span data-ttu-id="96220-451">演算子</span><span class="sxs-lookup"><span data-stu-id="96220-451">Operator</span></span> | <span data-ttu-id="96220-452">値</span><span class="sxs-lookup"><span data-stu-id="96220-452">Value</span></span> |
    | --- | --- | --- |
    | <span data-ttu-id="96220-453">BTS.ReceivePortName</span><span class="sxs-lookup"><span data-stu-id="96220-453">BTS.ReceivePortName</span></span> |  == | <span data-ttu-id="96220-454">*FileSendPort*</span><span class="sxs-lookup"><span data-stu-id="96220-454">*FileSendPort*</span></span> |

4. <span data-ttu-id="96220-455">次のテキストをテキスト ファイル (ファイル名.txt) を作成します。</span><span class="sxs-lookup"><span data-stu-id="96220-455">Create a text file (FileName.txt) with the following text.</span></span> <span data-ttu-id="96220-456">サンプル メッセージとしてこのテキスト ファイルを使用します。</span><span class="sxs-lookup"><span data-stu-id="96220-456">Use this text file as your sample message:</span></span> 

    ```
    <Data>
      <DataID>DataID_0</DataID>
      <DataDetails>DataDetails_0</DataDetails>
    </Data>
    ```

5. <span data-ttu-id="96220-457">受信フォルダーにサンプル メッセージ (ファイル名.txt) をコピーします。</span><span class="sxs-lookup"><span data-stu-id="96220-457">Copy your sample message (FileName.txt) into the receive folder.</span></span> <span data-ttu-id="96220-458">送信ポートは、.txt ファイルを入力した URI を使用してロジック アプリに送信します。</span><span class="sxs-lookup"><span data-stu-id="96220-458">The send port sends the .txt file to the logic app using the URI you entered.</span></span> <span data-ttu-id="96220-459">ロジック アプリでは、ファイルを取得します。</span><span class="sxs-lookup"><span data-stu-id="96220-459">Your logic app receive the files.</span></span> <span data-ttu-id="96220-460">Office 365 Outlook コネクタを使用している場合、*に*電子メール アドレスは、サンプル メッセージで、電子メールを受信する必要があります。</span><span class="sxs-lookup"><span data-stu-id="96220-460">If you used the Office 365 Outlook connector, your *To* email address should receive the email, with the sample message.</span></span>

## <a name="next"></a><span data-ttu-id="96220-461">Next</span><span class="sxs-lookup"><span data-stu-id="96220-461">Next</span></span>
[<span data-ttu-id="96220-462">Logic Apps とは</span><span class="sxs-lookup"><span data-stu-id="96220-462">What are Logic Apps</span></span>](https://azure.microsoft.com/documentation/articles/app-service-logic-what-are-logic-apps/)  

[<span data-ttu-id="96220-463">ロジック アプリを作成します。</span><span class="sxs-lookup"><span data-stu-id="96220-463">Create a logic app</span></span>](https://azure.microsoft.com/documentation/articles/app-service-logic-create-a-logic-app/)

[<span data-ttu-id="96220-464">BizTalk Server でのアダプターの使用</span><span class="sxs-lookup"><span data-stu-id="96220-464">Using adapters in BizTalk Server</span></span>](../core/using-adapters.md)
