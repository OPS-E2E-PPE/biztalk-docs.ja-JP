---
title: Bam データの定義 |Microsoft Docs
ms.custom: ''
ms.date: 06/08/2017
ms.prod: biztalk-server
ms.reviewer: ''
ms.suite: ''
ms.tgt_pltfrm: ''
ms.topic: article
helpviewer_keywords:
- aggregations [BAM], dimensions
- monitoring business activities [BAM], BAM Activity Wizard
- monitoring business activities [BAM], time intervals
- aggregations [BAM], measurements
- monitoring business activities [BAM], views
- monitoring business activities [BAM], aggregations
- Excel add-in [BAM], collecting data
- aggregations [BAM], scheduling
- monitoring business activities [BAM], milestone groups
- aggregations [BAM], real-time data
ms.assetid: 501a1c08-3979-4a99-94d9-0d1b5ec4266b
caps.latest.revision: 11
author: MandiOhlinger
ms.author: mandia
manager: anneta
ms.openlocfilehash: 86b40c37f0f0f71a119dcb55465e1c22f30e6267
ms.sourcegitcommit: 381e83d43796a345488d54b3f7413e11d56ad7be
ms.translationtype: MT
ms.contentlocale: ja-JP
ms.lasthandoff: 05/07/2019
ms.locfileid: "65390278"
---
# <a name="defining-data-in-bam"></a>BAM でのデータの定義
BAM Excel アドインを使用して、収集する BAM データを定義し、データを共有する方法を定義します。 BAM アクティビティを使用して、データを定義し、他のユーザーに表示されるデータを定義する BAM ビューを使用します。  
  
## <a name="activities"></a>アクティビティ  
 BAM を使用して監視するビジネス プロセスに関する情報を定義する BAM アクティビティを作成します。 BAM アクティビティは、ビジネスで特定のビジネス プロセスを表す、処理などの発注書または製品を出荷します。 ビジネス プロセスには、マイルス トーンとビジネス データの定義済みセットがあります。 たとえば、発注プロセスには、承認済み、拒否、および配信済みなどのマイルス トーン顧客名や製品などのビジネス データとがあります。  
  
 BAM アクティビティの目的では、インフォメーション ワーカーに履歴 (マイルス トーン) とプロセスに関するデータを説明します。 BAM アクティビティは、BizTalk Server の実際の実装に依存しない高レベルの抽象化です。 BAM の概念的概要については、「ビジネス アクティビティ監視」トピックを参照してください[!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)]ヘルプ。  
  
 BAM アクティビティ ウィザードを使用すると、少なくとも 1 つのアクティビティ項目を含む BAM アクティビティを定義できます。 活動に関連するアクティビティ項目をグループ化して、アクティビティ項目を使用して、ビジネス プロセスから使用できるようにしデータの種類を記述します。  
  
 次の表に、種類のアクティビティ項目の BAM を提供します。  
  
|アイテムの種類|説明|  
|---------------|-----------------|  
|ビジネス マイルス トーン|日付/時刻値。 たとえば、注文書が承認された日付です。|  
|ビジネス データ - Text|任意の英数字の文字列。 たとえば、出荷先。市区町村、都道府県、郵便コードです。|  
|ビジネス データ - Integer|整数値。 たとえば、注文の合計数です。|  
|ビジネス データ - 浮動小数点します。|decimal 値です。 たとえば、PO の合計金額です。|  
  
 たとえば、発注アクティビティで、次の表のアクティビティ項目を作成する可能性があります。  
  
|アクティビティ項目|アイテムの種類|  
|-------------------|---------------|  
|製品|ビジネス データ-テキスト|  
|City|ビジネス データ-テキスト|  
|状態|ビジネス データ-テキスト|  
|Amount|ビジネス データ-Float|  
|Quantity|ビジネス データ-Integer|  
|承認|ビジネス マイルス トーン|  
|配信|ビジネス マイルス トーン|  
|拒否|ビジネス マイルス トーン|  
|受信しました。|ビジネス マイルス トーン|  
  
 金額は、10 進値可能性があるため、float に注意してください。 数量は、この例では、整数は常に整数です。 すべてのマイルス トーン、発注プロセスでは、承認されると、配信済み、拒否、および受信済みからです。  
  
## <a name="views"></a>ビュー  
 アクティビティからのデータをユーザーに公開するビューを作成します。 発注アクティビティに基づいてビューを作成するときに、アクティビティ項目の背後にあるデータを定義します。 ディメンション、メジャー、期間、マイルス トーン グループ、および進捗ディメンションとして bam データの表示を定義します。  
  
 ビューには、1 つまたは複数のアイテム表示にはが含まれています。 次の種類のアイテムの表示を作成できます。  
  
-   期間  
  
-   マイルス トーン グループ  
  
-   集計  
  
### <a name="durations"></a>期間  
 期間は、時間間隔です。 期間は、開始と終了の時間間隔を定義するマイルス トーンの観点から説明します。 次の表では、前の表に示すマイルス トーンから作成できる期間を示します。  
  
|Duration|マイルス トーンを開始します。|マイルス トーンの終了|  
|--------------|---------------------|-------------------|  
|1|受信しました。|承認|  
|2|受信しました。|配信|  
|3|受信しました。|拒否|  
|4|承認|配信|  
  
 この表では、最初の期間 (期間 1) は、注文書は、BizTalk Server によって受信され、注文書が承認されたときに終了したときに起動する時間間隔がわかります。  
  
### <a name="milestone-groups"></a>マイルス トーン グループ  
 マイルス トーン グループ一連のマイルス トーンをたとえば 1 つのエンティティとして扱うには、開始日と終了、プロセスの全体の長さを表す 1 つのマイルス トーンを作成するプロセスのマイルス トーンを作成します。  
  
### <a name="aggregations"></a>集計  
 データベースからデータを更新するための応答時間を短縮するのにには、集計を使用します。 Excel では、集計を事前計算された要約データとして定義し、質問の答えをあらかじめ用意しておくことで、クエリの応答時間を短縮します。 たとえば、数十万行が格納されているデータ ウェアハウスのファクト テーブルに対して、特定の 2 つの製品の出荷スケジュールを要求するクエリがあるとします。この計算でファクト テーブルをスキャンする必要があると、応答に時間がかかります。 ただし、このクエリの回答となる集計データがあらかじめ計算されていれば、即座に応答できます。  
  
 次に、事前に計算された集計データの例を示します。  
  
 ![](../core/media/bam-olap-cube.gif "bam_olap_cube")  
  
 図 2 か月の期間にわたって特定の場所に出荷された各製品の数をまとめたものです。 通常、Excel では、このデータをメジャーとして定義し、 フィルター選択または分類に使用するデータをディメンションとして定義します。  
  
 BAM ブックでは、2 種類の集計を定義できます。  
  
-   リアルタイム集計  
  
-   スケジュール済みの集計  
  
### <a name="real-time-aggregations"></a>リアルタイム集計  
 リアルタイム集計 (RTA) では、ビジネス プロセスの現在の状態を確認し、プロセスのボトルネックを簡単に識別するためにできます。  
  
 BAM データは、ピボット テーブルに表示されます。 BAM ピボット テーブルは RTA またはスケジュール済み集計として定義できます。 RTA を使用すると、たとえば特定の PO が出荷処理中であるなど、データの現時点のビューを表示できます。 1 日のうちいつでも画面を更新して、データのビューを最新の状態にできます。  
  
 場合によっては、多次元集計の特定のスライスは時間を区別するためにリアルタイムで使用できるようにします。 たとえば、使い捨ての製品を販売しているお客様のビジネスとをリアルタイムで使用できる配信のさまざまな段階での製品の数量の集計します。 同時に、必要なその他の集計、年齢などの一般的な顧客がビジネス インテリジェンス分析の月の最後にのみです。  
  
> [!IMPORTANT]
>  同じ BAM アクティビティを使用する RTA を複数定義しないでください。 そのような RTA を複数定義した場合、BAM データをアーカイブしたときに RTA データが不正確になります。  
  
 多次元データについては、Excel のヘルプでピボット テーブルに関するトピックを参照してください。  
  
### <a name="scheduled-aggregations"></a>スケジュール済みの集計  
 すべての BAM 集計とは、既定ではスケジュール済みの集計です。 スケジュール済みの集計は、今朝の出荷の概要など、指定した期間のビジネス データのスナップショットを表します。 集計が処理される時期については、データベース管理者に問い合わせてください。集計が処理されると、履歴データを見ることができます。  
  
### <a name="dimensions-and-measures"></a>ディメンションとメジャー  
 ディメンションとメジャーを使用してデータの集計を作成します。  
  
- ディメンションはファクトを説明します。  
  
- メジャーは、ファクトの値です。  
  
  たとえば、ファクトには、「3 赤い自動車」インベントリに可能性があります。 製品の説明:"car"と「赤い」はディメンションです。 ファクト「3」の値は、メジャーです。 実際には、自動車の価格が含まれる場合、自動車の価格は、ディメンションが、インベントリにある自動車の平均価格はメジャーです。 Microsoft SQL Server オンライン ブックに「中央値は集計され、分析します」として、メジャーについて説明します つまり、それをカウント、平均する、またはそれ以外の場合に数学関数を実行できる場合、は、メジャーです。  
  
  次の種類のディメンションを作成できます。  
  
- 進捗ディメンション  
  
- データ ディメンション  
  
- 時間ディメンション  
  
- 数値範囲ディメンション  
  
## <a name="progress-dimensions"></a>進捗ディメンション  
 BAM には新しい種類のディメンションが導入されています。 進行状況ディメンション。 進捗ディメンションを作成プロセス中のアクティビティの進行状況に関連する集計を作成します。  
  
 たとえば、1,000 件の注文を受信する発注ビジネス プロセスを検討してください。 行に進捗ディメンションを使用すると、次の表を作成します。  
  
|OrderProgress_Level1|Count|  
|---------------------------|-----------|  
|受信しました。|1000|  
  
 詳細を表示するさらに、アクティビティの進行状況などの受信プロセスを開くことができます。  
  
|||Count|  
|------|------|-----------|  
|受信しました。|評価します。|300|  
||承認|500|  
||拒否|200|  
  
 つまり、受信した 1000 の発注書から 500 が承認された、200 件が拒否されると、300 は現在評価されています。  
  
 Received、Approved、Denied マイルス トーンを表します. カウント列の対応する数値は、注文の数は、これらのマイルス トーンを通過しているを表示します。 評価は、注文を受信し、承認または拒否マイルス トーンの間で通過する段階です。  
  
 進行状況ディメンションは、他のすべてのディメンションと組み合わせて使用できます。 たとえば、進捗ディメンションの注文の進捗状況を行と、データを使用してディメンション製品列で、次の結果が発生します。  
  
|||テニス ラケット|サッカー ボール|  
|------|------|---------------------|------------------|  
|受信しました。|評価します。|250|50|  
||承認|200|300|  
||拒否|150|50|  
  
 進捗ディメンションでは、リアルタイム集計 (RTA) に基づくグラフ特に有用な情報を提供します。 Rta では、ビジネス プロセスの現在の状態を確認し、プロセスのボトルネックを簡単に識別するためにできます。  
  
 購入のマイルス トーンが進捗ディメンションをシーケンシャルにすることができますを注文: 次の手順を開始する前に、最初の手順が完了しました。 または、マイルス トーンが連携して行うことができます。 一連のステップは子ステップと平行ステップは兄弟ステップです。 発注書の処理では、検証は、注文書を受信するとすぐを開始します。 受信マイルス トーンと同時に発生し、受信マイルス トーンに兄弟ではそのため、一時的なステップになります。 受信後にのみ発注書が承認された-がの子の受信を承認します。  
  
## <a name="data-dimension"></a>データ ディメンション  
 行または列の BAM アクティビティ内のテキスト項目の値を使用するデータ ディメンションを定義します。 たとえば、次の表を作成する製品の名前のデータ ディメンションを使用できます。  
  
|製品|Count|  
|-------------|-----------|  
|テニス ラケット|100|  
|サッカー ボール|200|  
  
 また、BAM ビュー ウィザードでは、複数のデータ ディメンションを定義できます。 たとえば、次の表を作成するには、都道府県と市区町村レベルの場所をという名前のデータ ディメンションの定義を使用できます。  
  
|製品|Los Angeles|San Francisco|Seattle|  
|-------------|-----------------|-------------------|-------------|  
|テニス ラケット|50|20|30|  
|サッカー ボール|130|50|20|  
  
 この表で、Product ディメンションは、行として使用され、場所ディメンションは列として使用されました。  
  
## <a name="time-dimension"></a>時間ディメンション  
 時間を基準として集計を作成する時間ディメンションを作成します。 たとえば、次の表を作成する時間ディメンションを使用できます。  
  
|年|Month|Count|  
|----------|-----------|-----------|  
|2003|January|120|  
||February|230|  
||March|350|  
||April|280|  
  
 その他の任意の次元を持つ時間ディメンションを組み合わせることができます。 たとえば、次の表を作成するのに行と列のデータ ディメンションで時間ディメンションを使用できます。  
  
|Month|テニス ラケット|サッカー ボール|  
|-----------|---------------------|------------------|  
|January|50|70|  
|February|120|110|  
|March|300|50|  
|April|220|60|  
  
## <a name="numeric-range-dimension"></a>数値範囲ディメンション  
 数値範囲ディメンションを使用して、数値の範囲のフレンドリ名で分類する集計を作成します。 たとえば、ビジネス アナリストは、PO サイズを次の範囲という数値範囲ディメンションを定義できます。  
  
 0 ~ 100 ドルの注文の小  
  
 100 ドルと 1,000 ドルの注文書の中  
  
 注文が 1,000 ドル超えている大規模です。  
  
> [!NOTE]
>  注文の合計が定義した範囲にない場合は、たとえば、注文の合計が 0 より小さいし、「範囲外」行が範囲外のデータに合わせて BAM により自動的に作成します。  
  
|PO サイズ|Count|  
|-------------|-----------|  
|小さな|500|  
|Medium|350|  
|大規模です|225|  
  
> [!NOTE]
>  同じデータ エイリアスを参照する 2 つの数値範囲ディメンションを作成することはできません。