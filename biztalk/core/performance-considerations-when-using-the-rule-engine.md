---
title: ルール エンジン使用時のパフォーマンスに関する考慮事項 |Microsoft Docs
ms.custom: ''
ms.date: 06/08/2017
ms.prod: biztalk-server
ms.reviewer: ''
ms.suite: ''
ms.tgt_pltfrm: ''
ms.topic: article
ms.assetid: 9e9020c2-5152-40f6-940b-d4ce4081f069
caps.latest.revision: 7
author: MandiOhlinger
ms.author: mandia
manager: anneta
ms.openlocfilehash: 41501ad852fe30ba54245a26a10e22e42979a1f5
ms.sourcegitcommit: 381e83d43796a345488d54b3f7413e11d56ad7be
ms.translationtype: MT
ms.contentlocale: ja-JP
ms.lasthandoff: 05/07/2019
ms.locfileid: "65262893"
---
# <a name="performance-considerations-when-using-the-rule-engine"></a><span data-ttu-id="7d4ed-102">ルール エンジン使用時のパフォーマンスに関する考慮事項</span><span class="sxs-lookup"><span data-stu-id="7d4ed-102">Performance Considerations When Using the Rule Engine</span></span>
<span data-ttu-id="7d4ed-103">このトピックでは、構成のチューニング パラメーターに別の値を使用してさまざまなシナリオでのルール エンジンの実行について説明します。</span><span class="sxs-lookup"><span data-stu-id="7d4ed-103">This topic discusses how the rule engine performs in various scenarios and with different values for the configuration/tuning parameters.</span></span>  
  
## <a name="fact-types"></a><span data-ttu-id="7d4ed-104">ファクトの種類</span><span class="sxs-lookup"><span data-stu-id="7d4ed-104">Fact Types</span></span>  
 <span data-ttu-id="7d4ed-105">ルール エンジンでは、XML とデータベースのファクトをアクセスするよりも、.NET のファクトをアクセス時間がかかりません。</span><span class="sxs-lookup"><span data-stu-id="7d4ed-105">The rule engine takes less time to access .NET facts than it does to access XML and database facts.</span></span> <span data-ttu-id="7d4ed-106">.NET、XML、またはデータベース ファクトを使用して、ポリシーで選択した場合は、パフォーマンス向上のための .NET のファクトの使用を検討してください。</span><span class="sxs-lookup"><span data-stu-id="7d4ed-106">If you have a choice of using .NET, XML, or database facts in a policy, you should consider using .NET facts for better performance.</span></span>  
  
## <a name="data-table-vs-data-connection-binding"></a><span data-ttu-id="7d4ed-107">データ テーブルとします。データ接続バインド</span><span class="sxs-lookup"><span data-stu-id="7d4ed-107">Data Table vs. Data Connection Binding</span></span>  
 <span data-ttu-id="7d4ed-108">データ セットのサイズが小さい場合 (約 10 個未満の行)、 **TypedDataTable**バインディングがパフォーマンスが向上しますよりも、 **DataConnection**バインドします。</span><span class="sxs-lookup"><span data-stu-id="7d4ed-108">When the size of the data set is small (fewer than approximately 10 rows), the **TypedDataTable** binding performs better than the **DataConnection** binding.</span></span> <span data-ttu-id="7d4ed-109">データ セットが大きい場合 (より大きいまたは等しい約 10 行)、 **DataConnection**バインディングがパフォーマンスが向上しますよりも、 **TypedDataTable**バインドします。</span><span class="sxs-lookup"><span data-stu-id="7d4ed-109">When the data set is large (greater than or equal to approximately 10 rows), the **DataConnection** binding performs better than the **TypedDataTable** binding.</span></span> <span data-ttu-id="7d4ed-110">そのため、使用するかどうかを決定する必要があります、 **DataConnection**バインドまたは**TypedDataTable**データ セットの推定サイズに基づいて、バインドします。</span><span class="sxs-lookup"><span data-stu-id="7d4ed-110">Therefore, you should decide whether to use the **DataConnection** binding or the **TypedDataTable** binding based on the estimated size of the data set.</span></span>  
  
## <a name="fact-retrievers"></a><span data-ttu-id="7d4ed-111">ファクト取得コンポーネント</span><span class="sxs-lookup"><span data-stu-id="7d4ed-111">Fact Retrievers</span></span>  
 <span data-ttu-id="7d4ed-112">ファクト取得コンポーネントを記述することができます: 標準的なメソッドを実装し、長期的な提供し、ポリシーが実行される前に、ルール エンジンへのファクトを緩やかに変化するのにはオブジェクトです。</span><span class="sxs-lookup"><span data-stu-id="7d4ed-112">You can write a fact retriever—an object that implements standard methods and typically uses them to supply long-term and slowly changing facts to the rule engine before the policy is executed.</span></span> <span data-ttu-id="7d4ed-113">エンジンは、これらのファクトをキャッシュし、複数の実行サイクルでそれらを使用します。</span><span class="sxs-lookup"><span data-stu-id="7d4ed-113">The engine caches these facts and uses them over multiple execution cycles.</span></span> <span data-ttu-id="7d4ed-114">静的やほぼ静的なファクトをルール エンジンの起動時に毎回送信、代わりには、最初に、ファクトを送信し、必要な場合にのみメモリ内のファクトを更新するファクト取得コンポーネントを作成する必要があります。</span><span class="sxs-lookup"><span data-stu-id="7d4ed-114">Instead of submitting a static or fairly static fact each time you invoke the rule engine, you should create a fact retriever that submits the fact the first time, and then updates the fact in memory only when it is needed.</span></span>  
  
## <a name="rule-priority"></a><span data-ttu-id="7d4ed-115">ルールの優先順位</span><span class="sxs-lookup"><span data-stu-id="7d4ed-115">Rule Priority</span></span>  
 <span data-ttu-id="7d4ed-116">ルールの右辺でも左辺でも範囲の優先度設定**0**、大きい数値が高い優先順位とします。</span><span class="sxs-lookup"><span data-stu-id="7d4ed-116">The priority setting for a rule can range on either side of **0**, with larger numbers having higher priority.</span></span> <span data-ttu-id="7d4ed-117">アクションは、最も高い優先度から最も低い優先順位の順序で実行されます。</span><span class="sxs-lookup"><span data-stu-id="7d4ed-117">Actions are executed in order from highest priority to lowest priority.</span></span> <span data-ttu-id="7d4ed-118">使用して、ポリシーが順行連鎖の動作を実装するときに**Assert/update**優先順位の設定を使用して呼び出しをチェーンを最適化することができます。</span><span class="sxs-lookup"><span data-stu-id="7d4ed-118">When the policy implements forward-chaining behavior by using **Assert/Update** calls, the chaining can be optimized by using the priority setting.</span></span> <span data-ttu-id="7d4ed-119">たとえば、たとえば次に示す**Rule2**によって設定される値に依存している**Rule1**。</span><span class="sxs-lookup"><span data-stu-id="7d4ed-119">For example, suppose that **Rule2** has a dependency on a value that is set by **Rule1**.</span></span> <span data-ttu-id="7d4ed-120">提供**Rule1**優先度が高いことを意味**Rule2**にした場合のみ実行されます**Rule1**が起動し、値を更新します。</span><span class="sxs-lookup"><span data-stu-id="7d4ed-120">Giving **Rule1** a higher priority means that **Rule2** will execute only after **Rule1** fires and updates the value.</span></span> <span data-ttu-id="7d4ed-121">逆に場合、 **Rule2**がより高い優先度を指定するには、1 回起動して後にもう一度起動し、 **Rule1**が起動し、ファクトを更新する**Rule2**条件で使用します。</span><span class="sxs-lookup"><span data-stu-id="7d4ed-121">Conversely, if **Rule2** is given a higher priority, it can fire once, and then fire again after **Rule1** fires and updates the fact that **Rule2** is using in a condition.</span></span> <span data-ttu-id="7d4ed-122">、正しい結果が生じる場合もありますが、1 回だけ発生させると、パフォーマンスに影響が明確に 2 回発生しません。</span><span class="sxs-lookup"><span data-stu-id="7d4ed-122">This may or may not produce the correct results, but clearly firing twice has a performance impact versus firing only once.</span></span>  
  
## <a name="update-calls"></a><span data-ttu-id="7d4ed-123">更新プログラムの呼び出し</span><span class="sxs-lookup"><span data-stu-id="7d4ed-123">Update Calls</span></span>  
 <span data-ttu-id="7d4ed-124">**Update**関数は、ルール エンジンの作業メモリ内に存在して、すべてのルールを再評価する条件で、更新されたファクトを使用するファクトを更新します。</span><span class="sxs-lookup"><span data-stu-id="7d4ed-124">The **Update** function updates a fact that exists in the working memory of the rule engine, and causes all the rules that use the updated fact in conditions to be reevaluated.</span></span> <span data-ttu-id="7d4ed-125">**Update**関数呼び出しを多数のルールは、ファクトの更新によって再評価する必要がある場合に特に高価なことができます。</span><span class="sxs-lookup"><span data-stu-id="7d4ed-125">**Update** function calls can be expensive, especially if many rules need to be reevaluated because of updating the facts.</span></span> <span data-ttu-id="7d4ed-126">ルールを再評価することを回避できる場合があります。</span><span class="sxs-lookup"><span data-stu-id="7d4ed-126">There are situations where you can avoid having to reevaluate the rules.</span></span> <span data-ttu-id="7d4ed-127">たとえば、次の規則があるとします。</span><span class="sxs-lookup"><span data-stu-id="7d4ed-127">For example, consider the following rules:</span></span>  
  
 <span data-ttu-id="7d4ed-128">**Rule1:**</span><span class="sxs-lookup"><span data-stu-id="7d4ed-128">**Rule1:**</span></span>  
  
```  
IF PurchaseOrder.Amount > 5   
THEN StatusObj.Flag = true; Update(StatusObj)  
```  
  
 <span data-ttu-id="7d4ed-129">**Rule2:**</span><span class="sxs-lookup"><span data-stu-id="7d4ed-129">**Rule2:**</span></span>  
  
```  
IF PurchaseOrder.Amount <= 5   
THEN StatusObj.Flag = false; Update(StatusObj)  
```  
  
 <span data-ttu-id="7d4ed-130">ポリシーの使用の残りのルール**StatusObj.Flag**条件。</span><span class="sxs-lookup"><span data-stu-id="7d4ed-130">All remaining rules of the policy use **StatusObj.Flag** in their conditions.</span></span> <span data-ttu-id="7d4ed-131">そのため、 **Update**で呼び出される、 **StatusObj**オブジェクトのすべてのルールが再評価されます。</span><span class="sxs-lookup"><span data-stu-id="7d4ed-131">Therefore, when **Update** is called on the **StatusObj** object, all the rules will be reevaluated.</span></span> <span data-ttu-id="7d4ed-132">任意の値、**量**フィールドは、以外のすべてのルール**Rule1**と**Rule2**が 2 回、評価前に 1 回、 **Update**呼び出しと後に 1 回、 **Update**呼び出します。</span><span class="sxs-lookup"><span data-stu-id="7d4ed-132">Whatever the value of the **Amount** field is, all the rules except **Rule1** and **Rule2** are evaluated twice, once before the **Update** call and once after the **Update** call.</span></span>  
  
 <span data-ttu-id="7d4ed-133">値を設定する代わりに、**フラグ**フィールドを**false**のみを使用してポリシーを呼び出す前に**Rule1**では、ポリシーのフラグを設定します。</span><span class="sxs-lookup"><span data-stu-id="7d4ed-133">Instead, you could set the value of the **flag** field to **false** before you invoke the policy and then use only **Rule1** in the policy to set the flag.</span></span> <span data-ttu-id="7d4ed-134">この場合、 **Update**場合にのみの値、**量**フィールドが 5 より大きいと**Update**量が 5 未満の場合は呼び出されません。</span><span class="sxs-lookup"><span data-stu-id="7d4ed-134">In this case, **Update** is called only if the value of the **Amount** field is greater than 5, and **Update** is not called if the amount is less than or equal to 5.</span></span> <span data-ttu-id="7d4ed-135">そのため、すべてのルールを除く**Rule1**と**Rule2**評価される場合にのみ 2 回の値、**量**フィールドが 5 より大きい。</span><span class="sxs-lookup"><span data-stu-id="7d4ed-135">Therefore, all the rules except **Rule1** and **Rule2** are evaluated twice only if the value of the **Amount** field is greater than 5.</span></span>  
  
## <a name="use-of-logical-or-operators"></a><span data-ttu-id="7d4ed-136">演算子または論理の使用</span><span class="sxs-lookup"><span data-stu-id="7d4ed-136">Use of Logical OR Operators</span></span>  
 <span data-ttu-id="7d4ed-137">論理を実行するために、ルール エンジンが最適化された**AND**演算子とそれに解析選言標準形ようにするルールを再構築します。**または**演算子が最上位のレベルでのみ使用します。</span><span class="sxs-lookup"><span data-stu-id="7d4ed-137">The rule engine is optimized for executing logical **AND** operators and it reconstructs the rule it parsed in a disjunctive normal form so that **OR** operator is used only at the top level.</span></span> <span data-ttu-id="7d4ed-138">論理の増加を使用して**または**条件演算子は、順列が追加されてルール エンジンの分析ネットワークが拡大を作成し、ルールの正規化にルール エンジンの時間がかかる場合があります。</span><span class="sxs-lookup"><span data-stu-id="7d4ed-138">Using an increasing number of logical **OR** operators in conditions creates additional permutations that expand the analysis network of the rule engine, and It may take long time for the rule engine to normalize the rule.</span></span> <span data-ttu-id="7d4ed-139">次の一覧には、この問題の回避策が含まれています。</span><span class="sxs-lookup"><span data-stu-id="7d4ed-139">The following list contains possible workarounds for this issue.</span></span>  
  
-   <span data-ttu-id="7d4ed-140">選言標準形である規則を変更する、**または**演算子が最上位のレベルでのみです。</span><span class="sxs-lookup"><span data-stu-id="7d4ed-140">Modify the rule to be in disjunctive normal form so that the **OR** operator is only at the top level.</span></span> <span data-ttu-id="7d4ed-141">ビジネス ルール作成ツールで選言標準形のルールを開発するは困難に注意してください。</span><span class="sxs-lookup"><span data-stu-id="7d4ed-141">Note that developing a rule in disjunctive normal form in Business Rule Composer can be tricky.</span></span> <span data-ttu-id="7d4ed-142">プログラムによってルールを作成したい場合があります。</span><span class="sxs-lookup"><span data-stu-id="7d4ed-142">You may want to consider creating the rule programmatically.</span></span>  
  
-   <span data-ttu-id="7d4ed-143">実行するヘルパー コンポーネントを開発、**または**操作、ブール値を返すし、ルールのコンポーネントを使用します。</span><span class="sxs-lookup"><span data-stu-id="7d4ed-143">Develop a helper component that performs the **OR** operations and returns a Boolean value, and use the component in the rule.</span></span>  
  
-   <span data-ttu-id="7d4ed-144">規則であり、ルールを複数のルールに分割して、フラグは、以前に実行されたルールで設定または次の例に示すように、以前に実行されたルールでアサートされたオブジェクトを使用するを確認します。</span><span class="sxs-lookup"><span data-stu-id="7d4ed-144">Consider splitting the rule into multiple rules and have the rules check for a flag set by a previously executed rule or use an object that is asserted by a previously executed rule as shown in the following examples:</span></span>  
  
    -   <span data-ttu-id="7d4ed-145">規則 1:IF (、1 = = または 3 を = =)、b = true</span><span class="sxs-lookup"><span data-stu-id="7d4ed-145">Rule 1: IF (a == 1 OR a == 3) THEN b = true</span></span>  
  
         <span data-ttu-id="7d4ed-146">規則 2: 場合 (b = true) し、.</span><span class="sxs-lookup"><span data-stu-id="7d4ed-146">Rule 2: if (b == true) THEN …</span></span>  
  
    -   <span data-ttu-id="7d4ed-147">規則 1:IF (、1 = = または 3 を = =) (新しい c()) ことをアサート</span><span class="sxs-lookup"><span data-stu-id="7d4ed-147">Rule 1: IF (a == 1 OR a == 3) THEN assert(new c())</span></span>  
  
         <span data-ttu-id="7d4ed-148">規則 2:IF (c.flag == true) THEN …</span><span class="sxs-lookup"><span data-stu-id="7d4ed-148">Rule 2: IF (c.flag == true) THEN …</span></span>  
  
## <a name="caching-settings"></a><span data-ttu-id="7d4ed-149">キャッシュの設定</span><span class="sxs-lookup"><span data-stu-id="7d4ed-149">Caching Settings</span></span>  
 <span data-ttu-id="7d4ed-150">ルール エンジンは、2 つのキャッシュを使用します。</span><span class="sxs-lookup"><span data-stu-id="7d4ed-150">The rule engine uses two caches.</span></span> <span data-ttu-id="7d4ed-151">1 つ目は、更新サービスであり、各 BizTalk プロセス内の 2 つ目は。</span><span class="sxs-lookup"><span data-stu-id="7d4ed-151">The first one is in the Update service and the second one is in each BizTalk process.</span></span> <span data-ttu-id="7d4ed-152">ポリシーを使用すると、最初に、BizTalk プロセスは、Update サービスからのポリシー情報を要求します。</span><span class="sxs-lookup"><span data-stu-id="7d4ed-152">The first time a policy is used, the BizTalk process requests the policy information from the Update service.</span></span> <span data-ttu-id="7d4ed-153">更新サービスは、ルール エンジン データベースからポリシー情報を取得、それをキャッシュし、BizTalk プロセスに、情報を返します。</span><span class="sxs-lookup"><span data-stu-id="7d4ed-153">The Update service retrieves the policy information from the Rule Engine database, caches it, and returns the information to the BizTalk process.</span></span> <span data-ttu-id="7d4ed-154">BizTalk プロセスは、その情報に基づいて、ポリシー オブジェクトを作成し、関連付けられているルール エンジン インスタンスでは、ポリシーの実行が完了すると、ポリシー オブジェクトをキャッシュに格納します。</span><span class="sxs-lookup"><span data-stu-id="7d4ed-154">The BizTalk process creates a policy object based on that information and stores the policy object in a cache when the associated rule engine instance completes executing the policy.</span></span> <span data-ttu-id="7d4ed-155">同じポリシーが再度呼び出されるがキャッシュにある場合、BizTalk プロセス ポリシー オブジェクトをキャッシュから再利用します。</span><span class="sxs-lookup"><span data-stu-id="7d4ed-155">When the same policy is invoked again, the BizTalk process reuses the policy object from the cache if one is available in the cache.</span></span>  
  
 <span data-ttu-id="7d4ed-156">同様に、BizTalk プロセスは、Update サービスからのポリシーに関する情報を要求している場合、更新サービスはまずそのキャッシュ内のポリシー情報を探します。</span><span class="sxs-lookup"><span data-stu-id="7d4ed-156">Similarly, if the BizTalk process requests the information about a policy from the Update service, the Update service first looks for the policy information in its cache.</span></span> <span data-ttu-id="7d4ed-157">更新サービスも加えられていないかどうか、データベース内のポリシーの更新を参照してください。 には毎 60 秒 (1 分) を確認します。</span><span class="sxs-lookup"><span data-stu-id="7d4ed-157">The Update service also checks every 60 seconds (one minute) to see if there have been any updates to the policy in the database.</span></span> <span data-ttu-id="7d4ed-158">すべての更新プログラムがある場合は、更新サービスが情報を取得し、更新された情報をキャッシュします。</span><span class="sxs-lookup"><span data-stu-id="7d4ed-158">If there are any updates, the Update service retrieves the information and caches the updated information.</span></span>  
  
 <span data-ttu-id="7d4ed-159">これらのキャッシュに関連するルール エンジンは、次の 3 つのチューニング パラメーターは。**CacheEntries**、 **CacheTimeout**、および**PollingInterval**します。</span><span class="sxs-lookup"><span data-stu-id="7d4ed-159">There are three tuning parameters for the rule engine related to these caches: **CacheEntries**, **CacheTimeout**, and **PollingInterval**.</span></span> <span data-ttu-id="7d4ed-160">レジストリまたは構成ファイルでは、これらのパラメーター値を指定できます。</span><span class="sxs-lookup"><span data-stu-id="7d4ed-160">You can specify the values for these parameters either in the registry or in a configuration file.</span></span>  
  
 <span data-ttu-id="7d4ed-161">値**CacheEntries**はキャッシュ内のエントリの最大数です。</span><span class="sxs-lookup"><span data-stu-id="7d4ed-161">The value of **CacheEntries** is the maximum number of entries in the cache.</span></span> <span data-ttu-id="7d4ed-162">既定値**CacheEntries** 32 です。</span><span class="sxs-lookup"><span data-stu-id="7d4ed-162">The default value of **CacheEntries** is 32.</span></span> <span data-ttu-id="7d4ed-163">値を大きくことも、 **CacheEntries**場合によってはパフォーマンスを向上させるためにパラメーター。</span><span class="sxs-lookup"><span data-stu-id="7d4ed-163">You may want to increase the value of the **CacheEntries** parameter to improve performance in some cases.</span></span> <span data-ttu-id="7d4ed-164">たとえば、40 個のポリシーを繰り返し使用するいるとします。</span><span class="sxs-lookup"><span data-stu-id="7d4ed-164">For example, suppose you are using 40 policies repeatedly.</span></span> <span data-ttu-id="7d4ed-165">この場合の値を大きくたい**CacheEntries**パフォーマンスを向上させるために 40。</span><span class="sxs-lookup"><span data-stu-id="7d4ed-165">In this case you may want to increase the value of **CacheEntries** to 40 to improve performance.</span></span> <span data-ttu-id="7d4ed-166">メモリ内更新プログラム サービスを最大で 40 のポリシーのキャッシュの詳細をこのようにするとします。</span><span class="sxs-lookup"><span data-stu-id="7d4ed-166">This would allow the Update service to cache details of up to 40 policies in memory.</span></span> <span data-ttu-id="7d4ed-167">最大メモリの 40 ポリシー インスタンスをキャッシュする BizTalk サービスがあります。</span><span class="sxs-lookup"><span data-stu-id="7d4ed-167">It would also cause the BizTalk service to cache up to 40 policy instances in memory.</span></span> <span data-ttu-id="7d4ed-168">BizTalk サービスのキャッシュ内のポリシーの 1 つ以上のインスタンスである可能性があります。</span><span class="sxs-lookup"><span data-stu-id="7d4ed-168">There may be more than one instance of a policy in the cache of the BizTalk service.</span></span>  
  
 <span data-ttu-id="7d4ed-169">値**CacheTimeout**の期限切れ、更新サービス キャッシュ エントリの時間 (秒) は、します。</span><span class="sxs-lookup"><span data-stu-id="7d4ed-169">The value of **CacheTimeout** is the time (in seconds) for entries to age out of the Update service cache.</span></span> <span data-ttu-id="7d4ed-170">つまり、 **CacheTimeout**値は、ポリシーのキャッシュ エントリが保持される期間キャッシュへの参照がない場合を示します。</span><span class="sxs-lookup"><span data-stu-id="7d4ed-170">In other words, the **CacheTimeout** value refers to how long a cache entry for a policy is kept in the cache if there are no references to it.</span></span> <span data-ttu-id="7d4ed-171">既定値**CacheTimeout**は 3,600 秒 (1 時間) です。</span><span class="sxs-lookup"><span data-stu-id="7d4ed-171">The default value of **CacheTimeout** is 3600 seconds (one hour).</span></span> <span data-ttu-id="7d4ed-172">つまり、キャッシュ エントリが 1 時間以内に参照されていない場合に削除されます。</span><span class="sxs-lookup"><span data-stu-id="7d4ed-172">This means that, if the cache entry is not referenced within an hour, it is deleted.</span></span> <span data-ttu-id="7d4ed-173">場合によってを増やしたい場合があります、 **CacheTimeout**パフォーマンスを向上させる値。</span><span class="sxs-lookup"><span data-stu-id="7d4ed-173">In some cases, you may want to increase the **CacheTimeout** value to improve performance.</span></span> <span data-ttu-id="7d4ed-174">たとえば、ポリシーが 2 時間ごとに呼び出されるとします。</span><span class="sxs-lookup"><span data-stu-id="7d4ed-174">For example, suppose the policy is invoked every two hours.</span></span> <span data-ttu-id="7d4ed-175">値を増やすことで、ポリシーの実行のパフォーマンスが向上する可能性があります、 **CacheTimeout**パラメーターが 2 時間よりも大きい値です。</span><span class="sxs-lookup"><span data-stu-id="7d4ed-175">You could improve the performance of the policy execution by increasing the value of the **CacheTimeout** parameter to a value greater than two hours.</span></span>  
  
 <span data-ttu-id="7d4ed-176">**PollingInterval**パラメーターをルール エンジン更新サービスが更新プログラムのルール エンジン データベースをチェックする間隔を秒単位で時間を定義します。</span><span class="sxs-lookup"><span data-stu-id="7d4ed-176">The **PollingInterval** parameter for the rule engine defines the time in seconds for the interval at which the Update service checks the Rule Engine database for updates.</span></span> <span data-ttu-id="7d4ed-177">既定値、 **PollingInterval**パラメーターは、60 秒 (1 分)。</span><span class="sxs-lookup"><span data-stu-id="7d4ed-177">The default value for the **PollingInterval** parameter is 60 seconds (one minute).</span></span> <span data-ttu-id="7d4ed-178">ポリシーがまったくは更新されないか、めったに更新されますがわかっている場合は、パフォーマンスを向上させるには、この値を増やす可能性があります。</span><span class="sxs-lookup"><span data-stu-id="7d4ed-178">If you know that the policies do not get updated at all or are updated rarely, you could increase this value to improve performance.</span></span>  
  
## <a name="sideeffects-property"></a><span data-ttu-id="7d4ed-179">SideEffects プロパティ</span><span class="sxs-lookup"><span data-stu-id="7d4ed-179">SideEffects Property</span></span>  
 <span data-ttu-id="7d4ed-180">**ClassMemberBinding**、 **DatabaseColumnBinding**、および**XmlDocumentFieldBinding**クラスという名前のプロパティがある**SideEffects**.</span><span class="sxs-lookup"><span data-stu-id="7d4ed-180">The **ClassMemberBinding**, **DatabaseColumnBinding**, and **XmlDocumentFieldBinding** classes have a property named **SideEffects**.</span></span> <span data-ttu-id="7d4ed-181">このプロパティは、バインドされるフィールド、メンバー、または列の値がキャッシュされているかどうかを決定します。</span><span class="sxs-lookup"><span data-stu-id="7d4ed-181">This property determines whether the value of the bound field, member, or column is cached.</span></span> <span data-ttu-id="7d4ed-182">既定値、 **SideEffects**プロパティ、 **DatabaseColumnBinding**と**XmlDocumentFieldBinding**クラスは**false**.</span><span class="sxs-lookup"><span data-stu-id="7d4ed-182">The default value of the **SideEffects** property in the **DatabaseColumnBinding** and **XmlDocumentFieldBinding** classes is **false**.</span></span> <span data-ttu-id="7d4ed-183">既定値、 **SideEffects**プロパティ、 **ClassMemberBinding**クラスは**true**します。</span><span class="sxs-lookup"><span data-stu-id="7d4ed-183">The default value of the **SideEffects** property in the **ClassMemberBinding** class is **true**.</span></span> <span data-ttu-id="7d4ed-184">そのため、XML ドキュメントのフィールドまたはデータベース テーブルの列に 2 回目またはポリシー内で後でアクセス、その値がキャッシュから取得します。</span><span class="sxs-lookup"><span data-stu-id="7d4ed-184">Therefore, when a field of an XML document or a column of a database table is accessed for the second time or later within the policy, its value is retrieved from the cache.</span></span> <span data-ttu-id="7d4ed-185">ただし、2 回目またはそれ以降、.NET オブジェクトのメンバーがアクセスされるは、値とキャッシュではなく、.NET オブジェクトから取得されます。</span><span class="sxs-lookup"><span data-stu-id="7d4ed-185">However, when a member of a .NET object is accessed for the second time or later, the value is retrieved from the .NET object, and not from the cache.</span></span> <span data-ttu-id="7d4ed-186">設定、 **SideEffects**プロパティは、.NET の**ClassMemberBinding**に**false**フィールドの値がキャッシュから取得されるので、パフォーマンスが向上します2 回目以降。</span><span class="sxs-lookup"><span data-stu-id="7d4ed-186">Setting the **SideEffects** property of a .NET **ClassMemberBinding** to **false** will improve performance because the value of the field is retrieved from the cache from the second time onwards.</span></span> <span data-ttu-id="7d4ed-187">できますのみこのプログラムで実行します。</span><span class="sxs-lookup"><span data-stu-id="7d4ed-187">You can only do this programmatically.</span></span> <span data-ttu-id="7d4ed-188">ビジネス ルール作成ツールを公開しません、 **SideEffects**プロパティ。</span><span class="sxs-lookup"><span data-stu-id="7d4ed-188">The Business Rule Composer tool does not expose the **SideEffects** property.</span></span>  
  
## <a name="instances-and-selectivity"></a><span data-ttu-id="7d4ed-189">Instances と Selectivity</span><span class="sxs-lookup"><span data-stu-id="7d4ed-189">Instances and Selectivity</span></span>  
 <span data-ttu-id="7d4ed-190">**XmlDocumentBinding**、 **ClassBinding**、および**DatabaseBinding**クラスがある 2 つのプロパティ。**インスタンス**と**選択度**します。</span><span class="sxs-lookup"><span data-stu-id="7d4ed-190">The **XmlDocumentBinding**, **ClassBinding**, and **DatabaseBinding** classes have two properties: **Instances** and **Selectivity**.</span></span> <span data-ttu-id="7d4ed-191">値**インスタンス**は作業メモリ内のクラスのインスタンスの予期される数です。</span><span class="sxs-lookup"><span data-stu-id="7d4ed-191">The value of **Instances** is the expected number of instances of the class in working memory.</span></span> <span data-ttu-id="7d4ed-192">値**選択度**ルールの条件が正常に渡すクラスのインスタンスの割合を指定します。</span><span class="sxs-lookup"><span data-stu-id="7d4ed-192">The value of **Selectivity** is the percentage of the class instances that will successfully pass the rule conditions.</span></span> <span data-ttu-id="7d4ed-193">ルール エンジンでは、これらの値を使ってように最小限のインスタンスが最初に条件の評価に使用され、残っているインスタンスを使用して、条件の評価を最適化します。</span><span class="sxs-lookup"><span data-stu-id="7d4ed-193">The rule engine uses these values to optimize the condition evaluation so that the fewest possible instances are used in condition evaluations first and then the remaining instances are used.</span></span> <span data-ttu-id="7d4ed-194">オブジェクトのインスタンスの数に関する予備知識があれば、設定、**インスタンス**プロパティの値をパフォーマンスが向上します。</span><span class="sxs-lookup"><span data-stu-id="7d4ed-194">If you have prior knowledge of the number of instances of the object, setting the **Instances** property to that value would improve performance.</span></span> <span data-ttu-id="7d4ed-195">同様に、これらのオブジェクトの条件を渡すことの割合の知識があれば、設定、**選択度**プロパティの値をパフォーマンスが向上します。</span><span class="sxs-lookup"><span data-stu-id="7d4ed-195">Similarly, if you have prior knowledge of the percentage of these objects passing the conditions, setting the **Selectivity** property to that value would improve performance.</span></span> <span data-ttu-id="7d4ed-196">プログラムでのみこれらのパラメーター値を設定することができます。</span><span class="sxs-lookup"><span data-stu-id="7d4ed-196">You can only set values for these parameters programmatically.</span></span> <span data-ttu-id="7d4ed-197">ビジネス ルール作成ツールはそれらを公開しません。</span><span class="sxs-lookup"><span data-stu-id="7d4ed-197">The Business Rule Composer tool does not expose them.</span></span>