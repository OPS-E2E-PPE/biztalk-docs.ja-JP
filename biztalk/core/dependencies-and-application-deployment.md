---
title: 依存関係とアプリケーションの展開 |Microsoft Docs
ms.custom: ''
ms.date: 06/08/2017
ms.prod: biztalk-server
ms.reviewer: ''
ms.suite: ''
ms.tgt_pltfrm: ''
ms.topic: article
helpviewer_keywords:
- deploying [applications], dependencies
- assemblies, dependencies
- artifacts, dependencies
- applications, dependencies
ms.assetid: b78c5a0d-b042-4862-bce7-59469365b369
caps.latest.revision: 20
author: MandiOhlinger
ms.author: mandia
manager: anneta
ms.openlocfilehash: 1b2111891b79dd343c121746db7f9959c92464df
ms.sourcegitcommit: 381e83d43796a345488d54b3f7413e11d56ad7be
ms.translationtype: MT
ms.contentlocale: ja-JP
ms.lasthandoff: 05/07/2019
ms.locfileid: "65389662"
---
# <a name="dependencies-and-application-deployment"></a><span data-ttu-id="bdc10-102">依存関係とアプリケーションの展開</span><span class="sxs-lookup"><span data-stu-id="bdc10-102">Dependencies and Application Deployment</span></span>
<span data-ttu-id="bdc10-103">このトピックでは、アプリケーションのデプロイとメンテナンスの 2 つ以上の BizTalk アプリケーションにおけるアイテム間の依存関係の影響について説明します。</span><span class="sxs-lookup"><span data-stu-id="bdc10-103">This topic describes how dependencies between artifacts in two or more BizTalk applications affect application deployment and maintenance.</span></span>  
  
 <span data-ttu-id="bdc10-104">を 1 つのアーティファクトが正しく機能するために別のアイテムを使用する必要がある場合を言います*依存*他のアイテムにします。</span><span class="sxs-lookup"><span data-stu-id="bdc10-104">When one artifact needs to use another artifact in order to function properly, it is said to be *dependent* on another artifact.</span></span> <span data-ttu-id="bdc10-105">このような依存関係の例では、オーケストレーションがメッセージを正しく送信するためにメッセージの解決や特定のパイプラインの特定のスキーマを使用する必要がある場合です。</span><span class="sxs-lookup"><span data-stu-id="bdc10-105">An example of such a dependency is when an orchestration needs to use a specific schema for message resolution or a specific pipeline in order to transmit messages correctly.</span></span> <span data-ttu-id="bdc10-106">これらのシナリオの両方で、オーケストレーションが別のアイテムに依存します。</span><span class="sxs-lookup"><span data-stu-id="bdc10-106">In both of these scenarios, the orchestration is dependent on another artifact.</span></span>  
  
 <span data-ttu-id="bdc10-107">アプリケーションでのアイテムを更新する前にする必要がありますまずを展開解除する、それに依存するすべてのアーティファクトと共にします。</span><span class="sxs-lookup"><span data-stu-id="bdc10-107">Before you can update an artifact in an application, you must first undeploy it, along with any artifacts that depend on it.</span></span> <span data-ttu-id="bdc10-108">依存関係のある成果物は、同じアプリケーションに存在するときに BizTalk Server は自動的に更新され、依存アイテムの展開解除と再展開のタスクを処理します。</span><span class="sxs-lookup"><span data-stu-id="bdc10-108">When artifacts that have dependencies exist in the same application, BizTalk Server automatically handles the undeployment and redeployment tasks for the updated and dependent artifacts.</span></span> <span data-ttu-id="bdc10-109">依存関係のある成果物は、さまざまなアプリケーションに存在するときにただし、これは、当てはまりません。</span><span class="sxs-lookup"><span data-stu-id="bdc10-109">When artifacts that have dependencies exist in different applications, however, this is not the case.</span></span> <span data-ttu-id="bdc10-110">依存するアイテムを更新する前に、依存関係にあるアイテムを展開解除に手動の手順を実行する必要があります。</span><span class="sxs-lookup"><span data-stu-id="bdc10-110">You must take manual steps to undeploy the artifacts that have the dependencies before you can update an artifact on which they depend.</span></span> <span data-ttu-id="bdc10-111">その後、依存成果物を手動で再デプロイする必要があります。</span><span class="sxs-lookup"><span data-stu-id="bdc10-111">Afterwards, you must manually redeploy the dependent artifacts.</span></span>  
  
 <span data-ttu-id="bdc10-112">アイテムを更新するときに、手動の手順を実行する必要性を回避するために他の成果物が依存して、同じアプリケーションの依存関係を持つすべての成果物をまとめておくために行うことができます。</span><span class="sxs-lookup"><span data-stu-id="bdc10-112">To avoid the need to take these manual steps when you want to update an artifact on which other artifacts depend, you can attempt to keep all artifacts with dependencies together in the same application.</span></span> <span data-ttu-id="bdc10-113">これは常に可能であれば、ただしします。</span><span class="sxs-lookup"><span data-stu-id="bdc10-113">This is not always possible, however.</span></span> <span data-ttu-id="bdc10-114">」の説明に従って[成果物をする必要がある内で一意で、アプリケーションまたはグループ](../core/artifacts-that-must-be-unique-in-an-application-or-group.md)、ほとんどの種類のアイテムは、BizTalk グループ内で一意である必要があります。</span><span class="sxs-lookup"><span data-stu-id="bdc10-114">As described in [Artifacts That Must Be Unique in an Application or Group](../core/artifacts-that-must-be-unique-in-an-application-or-group.md), most types of artifacts must be unique in a BizTalk group.</span></span> <span data-ttu-id="bdc10-115">両方のアプリケーションが同じアイテムに依存するアイテムが含まれている場合でも、同じグループに 2 つのアプリケーションで同じ成果物ことはできません。</span><span class="sxs-lookup"><span data-stu-id="bdc10-115">You cannot have the same artifact in two different applications in the same group, even if both applications contain artifacts that depend on the same artifact.</span></span>  
  
 <span data-ttu-id="bdc10-116">この場合、1 つのアプリケーションに必要なアイテムを追加し、それに依存するアイテムを含むその他のアプリケーションからそのアプリケーションへの参照を追加できます。</span><span class="sxs-lookup"><span data-stu-id="bdc10-116">When this happens, you can add the needed artifact to one application and then add a reference to that application from any other applications containing artifacts that depend on it.</span></span> <span data-ttu-id="bdc10-117">アプリケーションへの参照を追加すると、アプリケーションのアイテムは、それが参照するアプリケーションですべてのアイテムを使用できます。</span><span class="sxs-lookup"><span data-stu-id="bdc10-117">When you add a reference to an application, artifacts in the application can use any artifacts in the application that it references.</span></span> <span data-ttu-id="bdc10-118">参照を追加する方法の詳細については、次を参照してください。[別のアプリケーションへの参照を追加する方法](../core/how-to-add-a-reference-to-another-application.md)します。</span><span class="sxs-lookup"><span data-stu-id="bdc10-118">For instructions on adding a reference, see [How to Add a Reference to Another Application](../core/how-to-add-a-reference-to-another-application.md).</span></span>  
  
 <span data-ttu-id="bdc10-119">次の図は、2 つのアプリケーションを示しています。 それぞれが 3 つ目のアプリケーション内のアイテムに依存しています。</span><span class="sxs-lookup"><span data-stu-id="bdc10-119">The following diagram depicts two applications that each depend on artifacts in a third application.</span></span> <span data-ttu-id="bdc10-120">Order Processing アプリケーションは、Order Processing アプリケーションには Schemas アプリケーションへの参照が含まれるように、Schemas アプリケーションに含まれている Schema1 を使用します。</span><span class="sxs-lookup"><span data-stu-id="bdc10-120">The Order Processing application uses Schema1, which is contained in the Schemas application, so the Order Processing application contains a reference to the Schemas application.</span></span> <span data-ttu-id="bdc10-121">住宅ローン アプリケーションは、Schemas アプリケーションにも含まれている Schema2 を使用し、元のアプリケーションが、後者への参照を格納する同様にします。</span><span class="sxs-lookup"><span data-stu-id="bdc10-121">The Mortgage application uses Schema2, which is also contained in the Schemas application, and likewise the former application contains a reference to the latter.</span></span>  
  
 <span data-ttu-id="bdc10-122">![2 つのアプリケーションは、3 番目のアプリケーションを参照](../core/media/applicationdependencies.gif "ApplicationDependencies")</span><span class="sxs-lookup"><span data-stu-id="bdc10-122">![Two applications reference a third application](../core/media/applicationdependencies.gif "ApplicationDependencies")</span></span>  
  
 <span data-ttu-id="bdc10-123">別のアプリケーションへの参照を追加すると、展開および両方のアプリケーションを管理する方法に影響する 2 つのアプリケーション間の依存関係が作成されます。</span><span class="sxs-lookup"><span data-stu-id="bdc10-123">Adding a reference from one application to another creates a dependency between the two applications that affects how you deploy and manage both applications.</span></span> <span data-ttu-id="bdc10-124">このトピックの後半で説明されているアプリケーションの依存関係のさまざまな効果のためお勧めする」の説明に従って、アプリケーションにアイテムを追加するためのベスト プラクティスに従ってください[BizTalkアプリケーション展開のベストプラクティス](../core/best-practices-for-deploying-a-biztalk-application.md).</span><span class="sxs-lookup"><span data-stu-id="bdc10-124">Because of the various effects of application dependencies described later in this topic, we recommend that you follow the best practices for adding artifacts to application, as described in [Best Practices for Deploying a BizTalk Application](../core/best-practices-for-deploying-a-biztalk-application.md).</span></span>  
  
 <span data-ttu-id="bdc10-125">次の図は、アセンブリの更新の依存関係のチェーンがあるし、同じアプリケーションに更新するアセンブリに依存するすべてのアセンブリが存在するための手順を示します。</span><span class="sxs-lookup"><span data-stu-id="bdc10-125">The following diagram illustrates the steps involved in updating an assembly when there is a chain of dependency, and all assemblies that depend on the assembly being updated exist in the same application.</span></span>  
  
 <span data-ttu-id="bdc10-126">![アセンブリと依存関係を更新](../core/media/simpleadminredeploy.gif "SimpleAdminRedeploy")</span><span class="sxs-lookup"><span data-stu-id="bdc10-126">![Updating an assembly with dependencies](../core/media/simpleadminredeploy.gif "SimpleAdminRedeploy")</span></span>  
  
 <span data-ttu-id="bdc10-127">次の図は、更新するアセンブリへの依存関係のチェーンがある場合に、アセンブリを更新するための手順と依存アセンブリの 1 つ別のアプリケーションに存在します。</span><span class="sxs-lookup"><span data-stu-id="bdc10-127">The following diagram illustrates the steps involved in updating an assembly when there is a chain of dependencies on the assembly being updated, and one of the dependent assemblies exists in a different application.</span></span>  
  
 <span data-ttu-id="bdc10-128">![アセンブリと外部の依存関係を更新](../core/media/complexadminredeploy.gif "ComplexAdminRedeploy")</span><span class="sxs-lookup"><span data-stu-id="bdc10-128">![Updating an assembly with external dependencies](../core/media/complexadminredeploy.gif "ComplexAdminRedeploy")</span></span>  
  
> [!NOTE]
>  <span data-ttu-id="bdc10-129">これを自動的に行っているが、アセンブリを更新する前に、完全に停止を実行する理由は、オーケストレーションの参加を解除しを停止し、すべてのメッセージを終了します。</span><span class="sxs-lookup"><span data-stu-id="bdc10-129">The reason to perform a full stop before updating an assembly is that doing this automatically unenlists the orchestration, and stops and terminates all messages.</span></span> <span data-ttu-id="bdc10-130">メッセージの処理を続行する必要がある場合は、同じアセンブリの異なるバージョンを展開および停止し、メッセージを終了する必要を回避します。</span><span class="sxs-lookup"><span data-stu-id="bdc10-130">If you need to continue processing messages, you can deploy a different version of the same assembly and thereby avoid the need to stop and terminate messages.</span></span> <span data-ttu-id="bdc10-131">詳細については、次を参照してください。 [BizTalk アプリケーションの更新](../core/updating-biztalk-applications.md)します。</span><span class="sxs-lookup"><span data-stu-id="bdc10-131">For more information, see [Updating BizTalk Applications](../core/updating-biztalk-applications.md).</span></span>  
  
 <span data-ttu-id="bdc10-132">アプリケーション間の依存関係から次のような影響があります。</span><span class="sxs-lookup"><span data-stu-id="bdc10-132">The following effects may result from dependencies between applications:</span></span>  
  
-   <span data-ttu-id="bdc10-133">**成果物を停止しています。**</span><span class="sxs-lookup"><span data-stu-id="bdc10-133">**Stopping an artifact.**</span></span> <span data-ttu-id="bdc10-134">あるアプリケーション内にあるアイテムを停止すると (アプリケーション全体を停止した場合など)、このアプリケーションに依存する別のアプリケーションが正しく機能しなくなります。</span><span class="sxs-lookup"><span data-stu-id="bdc10-134">If you stop an artifact in one application (which may result from stopping the entire application) that another application depends on, the dependent application will not function correctly.</span></span> <span data-ttu-id="bdc10-135">アプリケーションの停止の詳細については、次を参照してください。 [BizTalk アプリケーション開始および停止方法](../core/how-to-start-and-stop-a-biztalk-application.md)します。</span><span class="sxs-lookup"><span data-stu-id="bdc10-135">For more information about stopping an application, see [How to Start and Stop a BizTalk Application](../core/how-to-start-and-stop-a-biztalk-application.md).</span></span>  
  
-   <span data-ttu-id="bdc10-136">**削除するか、成果物の状態を変更します。**</span><span class="sxs-lookup"><span data-stu-id="bdc10-136">**Removing or changing the state of an artifact.**</span></span> <span data-ttu-id="bdc10-137">別のアプリケーションへの参照を追加して成果物を別のアプリケーションが依存または成果物の削除の状態に変更を加える際は、依存関係のあるアプリケーションは正しく機能しません。</span><span class="sxs-lookup"><span data-stu-id="bdc10-137">When you add a reference from one application to another and make any changes to the state of an artifact on which another application depends or remove the artifact, the application that has the dependency will not function correctly.</span></span> <span data-ttu-id="bdc10-138">成果物の状態を変更する方法についての詳細についてで適切な成果物のセクションをご覧ください。[管理成果物](../core/managing-artifacts.md)します。</span><span class="sxs-lookup"><span data-stu-id="bdc10-138">For more information about changing the state of an artifact, see the section on the appropriate artifact in [Managing Artifacts](../core/managing-artifacts.md).</span></span>  
  
-   <span data-ttu-id="bdc10-139">**依存関係のあるアプリケーションをインポートします。**</span><span class="sxs-lookup"><span data-stu-id="bdc10-139">**Importing applications that have dependencies.**</span></span> <span data-ttu-id="bdc10-140">アプリケーションを別の BizTalk グループにインポートして、そのグループ内で実行する場合、このアプリケーションが依存するアイテムもすべてインポートする必要があります。</span><span class="sxs-lookup"><span data-stu-id="bdc10-140">If you want to import an application into a different BizTalk group and run it in that group, you must also import any artifacts on which this application depends.</span></span> <span data-ttu-id="bdc10-141">これは、最初に、その他のアプリケーションをインポートすることによって、または必要とするアプリケーションに必要なアイテムを追加することで行んだことができます。</span><span class="sxs-lookup"><span data-stu-id="bdc10-141">You can do this by first importing the other application or by adding the needed artifact to the application that requires it.</span></span> <span data-ttu-id="bdc10-142">アプリケーションのインポートに関する詳細については、次を参照してください。 [BizTalk アプリケーションをインポートする方法](../core/how-to-import-a-biztalk-application.md)します。</span><span class="sxs-lookup"><span data-stu-id="bdc10-142">For more information about importing applications, see [How to Import a BizTalk Application](../core/how-to-import-a-biztalk-application.md).</span></span>  
  
    > [!NOTE]
    >  <span data-ttu-id="bdc10-143">BizTalk Server では、ソースと変換先の BizTalk グループ内のアプリケーション名を照合することによって、アプリケーションの id を確認します。</span><span class="sxs-lookup"><span data-stu-id="bdc10-143">BizTalk Server verifies the identity of an application by matching the application names in the source and the destination BizTalk group.</span></span> <span data-ttu-id="bdc10-144">これで、アプリケーションの依存関係を持っているアイテムが含まれることを検証しません。</span><span class="sxs-lookup"><span data-stu-id="bdc10-144">It does not verify that the artifacts on which your application has dependencies are included in it.</span></span> <span data-ttu-id="bdc10-145">依存関係があるアプリケーションと参照するアプリケーションをインポートするときに、参照先アプリケーションに必要な成果物または成果物が含まれていることを確認することをお勧めします。</span><span class="sxs-lookup"><span data-stu-id="bdc10-145">When you import an application that has dependencies and the application to which it refers, we recommend that you verify that the referenced application contains the required artifact or artifacts.</span></span>  
  
-   <span data-ttu-id="bdc10-146">**参照を持つアプリケーションをインポートします。**</span><span class="sxs-lookup"><span data-stu-id="bdc10-146">**Importing applications that have references.**</span></span> <span data-ttu-id="bdc10-147">インポートするアプリケーションは、別のアプリケーション内のアイテムに依存する場合は、このアプリケーションへの参照を追加する必要があります。</span><span class="sxs-lookup"><span data-stu-id="bdc10-147">If an application you are importing depends on an artifact in another application, you need to add a reference to this application.</span></span> <span data-ttu-id="bdc10-148">インポート ウィザードにはこのオプションが用意されています。</span><span class="sxs-lookup"><span data-stu-id="bdc10-148">The Import Wizard provides this option.</span></span> <span data-ttu-id="bdc10-149">BTSTask の ImportApp コマンドを使用している場合する必要があります追加する、インポート後にアプリケーションへの参照」の説明に従って[別のアプリケーションへの参照を追加する方法](../core/how-to-add-a-reference-to-another-application.md)します。</span><span class="sxs-lookup"><span data-stu-id="bdc10-149">If you are using the ImportApp command of BTSTask, however, you must add the reference to the application after import, as described in [How to Add a Reference to Another Application](../core/how-to-add-a-reference-to-another-application.md).</span></span> <span data-ttu-id="bdc10-150">参照先アプリケーションが存在するかどうかは BizTalk Server によって検証されますが、これに加えて、参照先アプリケーションに必要なアイテムが含まれているかどうかも確認することをお勧めします。</span><span class="sxs-lookup"><span data-stu-id="bdc10-150">While BizTalk Server verifies that the referenced application exists, we recommend that you take the additional step of verifying that the referenced application contains the required artifact.</span></span>  
  
-   <span data-ttu-id="bdc10-151">**依存関係のあるアプリケーションをインストールします。**</span><span class="sxs-lookup"><span data-stu-id="bdc10-151">**Installing applications that have dependencies.**</span></span> <span data-ttu-id="bdc10-152">アプリケーションのインストール時には、このアプリケーションが依存しているアプリケーションもすべてインストールする必要があります。</span><span class="sxs-lookup"><span data-stu-id="bdc10-152">When you install an application, you must also install any applications on which it depends.</span></span> <span data-ttu-id="bdc10-153">他のアプリケーションに含まれるアイテム (BizTalk アセンブリなど) と依存関係があるアプリケーションをインストールする場合は、そのアイテムを含むアプリケーションを先にインストールする必要があります。</span><span class="sxs-lookup"><span data-stu-id="bdc10-153">When you install an application that has a dependency on an artifact, such as a BizTalk assembly, which is contained in another application, you must first install the application that contains the artifact.</span></span> <span data-ttu-id="bdc10-154">たとえば、アプリケーション A をインストールするとき、これがアプリケーション B のアセンブリに依存している場合は、アプリケーション B を先にインストールする必要があります。</span><span class="sxs-lookup"><span data-stu-id="bdc10-154">For example, if you want to install Application A, and it depends on an assembly in Application B, you must install Application B first.</span></span> <span data-ttu-id="bdc10-155">アプリケーション A をインストールすることができます。アプリケーションのインストールの詳細については、次を参照してください。 [BizTalk アプリケーションをインストールする方法](../core/how-to-install-a-biztalk-application.md)します。</span><span class="sxs-lookup"><span data-stu-id="bdc10-155">Then you can install Application A. For more information about installing applications, see [How to Install a BizTalk Application](../core/how-to-install-a-biztalk-application.md).</span></span>  
  
-   <span data-ttu-id="bdc10-156">**アイテムを移動します。**</span><span class="sxs-lookup"><span data-stu-id="bdc10-156">**Moving an artifact.**</span></span> <span data-ttu-id="bdc10-157">別のアプリケーションにアイテムを移動する場合は、移動するアイテムが依存するアイテムが含まれているアプリケーションを移動先のアプリケーションが参照している場合を除き、そのアイテムが依存するその他のアイテムも移動されます。</span><span class="sxs-lookup"><span data-stu-id="bdc10-157">When you move an artifact to a new application, any other artifacts on which it has dependencies are also moved unless the new application has a reference to the application(s) containing the artifacts on which the moved artifact depends.</span></span> <span data-ttu-id="bdc10-158">また、移動先のアイテムに依存関係のあるすべてのアイテムも移動されます、アプリケーションがそれらを含む新しいアプリケーションへの参照のない限り。</span><span class="sxs-lookup"><span data-stu-id="bdc10-158">Also, any artifacts that have dependencies on the moved artifact also will be moved unless the application(s) containing them have a reference to the new application.</span></span> <span data-ttu-id="bdc10-159">成果物を移動するときに移動することも、他の成果物の一覧が表示されます。</span><span class="sxs-lookup"><span data-stu-id="bdc10-159">When moving an artifact, you will be shown the list of other artifacts that will also be moved.</span></span> <span data-ttu-id="bdc10-160">アイテムの移動手順については、次を参照してください。[を別のアプリケーション アイテムの移動方法](../core/how-to-move-an-artifact-to-a-different-application.md)します。</span><span class="sxs-lookup"><span data-stu-id="bdc10-160">For instructions on moving an artifact, see [How to Move an Artifact to a Different Application](../core/how-to-move-an-artifact-to-a-different-application.md).</span></span>  
  
-   <span data-ttu-id="bdc10-161">**別のアプリケーション内のアイテムに依存しているときに、成果物を更新しています。**</span><span class="sxs-lookup"><span data-stu-id="bdc10-161">**Updating an artifact when an artifact in another application depends on it.**</span></span> <span data-ttu-id="bdc10-162">同じアプリケーション内のアイテムに依存するアプリケーションでアイテムを更新するときに BizTalk Server を自動的に処理の展開解除と、依存するアイテムを再デプロイします。</span><span class="sxs-lookup"><span data-stu-id="bdc10-162">When you update an artifact in an application that has a dependency on an artifact in the same application, BizTalk Server automatically takes care of undeploying and redeploying the dependent artifact.</span></span> <span data-ttu-id="bdc10-163">1 つのアプリケーション内のアイテムを更新して、それに依存している別のアプリケーション内のアイテム場合、ただし、する必要がありますの展開を解除し、依存するアイテムを次のように手動で再デプロイします。</span><span class="sxs-lookup"><span data-stu-id="bdc10-163">If you want to update an artifact in one application, and an artifact in another application has a dependency on it, however, you must undeploy and redeploy the dependent artifact manually as follows:</span></span>  
  
    1.  <span data-ttu-id="bdc10-164">停止、参加解除、および依存するアイテムをバインド解除します。</span><span class="sxs-lookup"><span data-stu-id="bdc10-164">Stop, unenlist, and unbind the dependent artifact.</span></span>  
  
    2.  <span data-ttu-id="bdc10-165">依存するアイテムを更新します。</span><span class="sxs-lookup"><span data-stu-id="bdc10-165">Update the artifact on which it depends.</span></span>  
  
    3.  <span data-ttu-id="bdc10-166">バインドし、参加、依存するアイテムを開始します。</span><span class="sxs-lookup"><span data-stu-id="bdc10-166">Bind, enlist, and start the dependent artifact.</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="bdc10-167">参照</span><span class="sxs-lookup"><span data-stu-id="bdc10-167">See Also</span></span>  
 [<span data-ttu-id="bdc10-168">BizTalk アプリケーションの展開と管理について</span><span class="sxs-lookup"><span data-stu-id="bdc10-168">Understanding BizTalk Application Deployment and Management</span></span>](../core/understanding-biztalk-application-deployment-and-management.md)