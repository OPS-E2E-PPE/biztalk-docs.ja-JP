---
title: Service Bus メッセージング アダプター |Microsoft Docs
description: BizTalk Server で Azure SB Messaging アダプターを使用してメッセージの送受信
ms.custom: ''
ms.date: 11/21/2017
ms.prod: biztalk-server
ms.reviewer: ''
ms.suite: ''
ms.tgt_pltfrm: ''
ms.topic: article
ms.assetid: c06c4934-45b2-4f6f-9d19-3ebd937c32ae
caps.latest.revision: 5
author: MandiOhlinger
ms.author: mandia
manager: anneta
ms.openlocfilehash: d050a2f2b4435daa0ea2bff8b7f2a2f19456d624
ms.sourcegitcommit: 381e83d43796a345488d54b3f7413e11d56ad7be
ms.translationtype: MT
ms.contentlocale: ja-JP
ms.lasthandoff: 05/07/2019
ms.locfileid: "65309419"
---
# <a name="sb-messaging-adapter"></a><span data-ttu-id="0d282-103">SB-Messaging アダプター</span><span class="sxs-lookup"><span data-stu-id="0d282-103">SB-Messaging Adapter</span></span>
<span data-ttu-id="0d282-104">Service Bus (**Sb-messaging**) を受信し、キュー、トピック、およびリレーなど、Service Bus エンティティから送信アダプターが使用されます。</span><span class="sxs-lookup"><span data-stu-id="0d282-104">The Service Bus (**SB-Messaging**) adapter is used to receive and send from Service Bus entities like Queues, Topics, and Relays.</span></span> <span data-ttu-id="0d282-105">使用することができます、 **Sb-messaging**アダプターで、オンプレミスの接続を[!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)]を Azure にします。</span><span class="sxs-lookup"><span data-stu-id="0d282-105">You can use the **SB-Messaging** adapter to connect your on-premises [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] to Azure.</span></span>

<span data-ttu-id="0d282-106">**以降で[!INCLUDE[bts2016_md](../includes/bts2016-md.md)]Feature Pack 2**、Service Bus Premium はサポートされています。</span><span class="sxs-lookup"><span data-stu-id="0d282-106">**Starting with [!INCLUDE[bts2016_md](../includes/bts2016-md.md)] Feature Pack 2**, Service Bus Premium is supported.</span></span> <span data-ttu-id="0d282-107">このアダプターを使用して送信ポートを構成する場合は、パーティション分割されたキューおよびトピックにメッセージを送信できます。</span><span class="sxs-lookup"><span data-stu-id="0d282-107">When configuring a send port using this adapter, you can send messages to partitioned queues and topics.</span></span> 

## <a name="authenticating-with-service-bus"></a><span data-ttu-id="0d282-108">Service Bus を使用した認証</span><span class="sxs-lookup"><span data-stu-id="0d282-108">Authenticating with Service Bus</span></span>
<span data-ttu-id="0d282-109">Service Bus は、認証に 2 つのメソッドを提供します。</span><span class="sxs-lookup"><span data-stu-id="0d282-109">Service Bus provides two methods to authenticate:</span></span> 

- <span data-ttu-id="0d282-110">Access Control Service (ACS)</span><span class="sxs-lookup"><span data-stu-id="0d282-110">Access Control Service (ACS)</span></span> 
- <span data-ttu-id="0d282-111">Shared Access Signature (SAS)</span><span class="sxs-lookup"><span data-stu-id="0d282-111">Shared Access Signature (SAS)</span></span>

<span data-ttu-id="0d282-112">Service Bus での認証に Shared Access Signature (SAS) を使用することをお勧めします。</span><span class="sxs-lookup"><span data-stu-id="0d282-112">We recommend using Shared Access Signature (SAS) to authenticate with Service Bus.</span></span> <span data-ttu-id="0d282-113">共有アクセス キーの値が記載されて、 [Azure portal](https://portal.azure.com)します。</span><span class="sxs-lookup"><span data-stu-id="0d282-113">The Shared Access Key value is listed in the [Azure portal](https://portal.azure.com).</span></span>

<span data-ttu-id="0d282-114">Service Bus 名前空間を作成するときに、Access Control (ACS) 名前空間は自動的に作成されません。</span><span class="sxs-lookup"><span data-stu-id="0d282-114">When you create a Service Bus namespace, the Access Control (ACS) namespace is not automatically created.</span></span> <span data-ttu-id="0d282-115">アクセス制御を使用するには、この名前空間の発行者名および発行者キーの値が必要です。</span><span class="sxs-lookup"><span data-stu-id="0d282-115">To use Access Control, you need the Issuer Name and Issuer Key values of this namespace.</span></span> <span data-ttu-id="0d282-116">これらの値は、Windows PowerShell を使用して、新しい ACS 名前空間を作成するときに使用できます。</span><span class="sxs-lookup"><span data-stu-id="0d282-116">These values are available when you create a new ACS namespace using Windows PowerShell.</span></span> <span data-ttu-id="0d282-117">これらの値は、Azure portal では表示されません。</span><span class="sxs-lookup"><span data-stu-id="0d282-117">These values are not listed in the Azure portal.</span></span>

<span data-ttu-id="0d282-118">で ACS を使用して認証をして、発行者名および発行者キーの値を取得するには、全体的な手順は次のとおりです。</span><span class="sxs-lookup"><span data-stu-id="0d282-118">To use ACS for authentication, and get the Issuer Name and Issuer Key values, the overall steps include:</span></span>

1. <span data-ttu-id="0d282-119">インストール、 [Azure Powershell コマンドレット](https://azure.microsoft.com/documentation/articles/powershell-install-configure/)します。</span><span class="sxs-lookup"><span data-stu-id="0d282-119">Install the [Azure Powershell cmdlets](https://azure.microsoft.com/documentation/articles/powershell-install-configure/).</span></span>
2. <span data-ttu-id="0d282-120">Azure アカウントを追加します。 `Add-AzureAccount`</span><span class="sxs-lookup"><span data-stu-id="0d282-120">Add your Azure account: `Add-AzureAccount`</span></span>
3. <span data-ttu-id="0d282-121">サブスクリプション名が返されます。 `get-azuresubscription`</span><span class="sxs-lookup"><span data-stu-id="0d282-121">Return your subscription name: `get-azuresubscription`</span></span>
4. <span data-ttu-id="0d282-122">サブスクリプションを選択します。 `select-azuresubscription <name of your subscription>`</span><span class="sxs-lookup"><span data-stu-id="0d282-122">Select your subscription: `select-azuresubscription <name of your subscription>`</span></span> 
5. <span data-ttu-id="0d282-123">新しい名前空間を作成します。 `new-azuresbnamespace <name for the service bus> "Location" -CreateACSNamespace $true -NamespaceType Messaging`</span><span class="sxs-lookup"><span data-stu-id="0d282-123">Create a new namespace: `new-azuresbnamespace <name for the service bus> "Location" -CreateACSNamespace $true -NamespaceType Messaging`</span></span>

    <span data-ttu-id="0d282-124">例:    `new-azuresbnamespace biztalksbnamespace "South Central US" -CreateACSNamespace $true -NamespaceType Messaging`</span><span class="sxs-lookup"><span data-stu-id="0d282-124">Example:    `new-azuresbnamespace biztalksbnamespace "South Central US" -CreateACSNamespace $true -NamespaceType Messaging`</span></span>

5. <span data-ttu-id="0d282-125">新しい ACS 名前空間には、(これは、数分かかる場合) が作成されると、IssuerName と IssuerKey の値は、接続文字列に表示されます。</span><span class="sxs-lookup"><span data-stu-id="0d282-125">When the new ACS namespace is created (which can take several minutes), the IssuerName and IssuerKey values are listed in the connection string:</span></span> 

    ```
    Name                  : biztalksbnamespace
    Region                : South Central US
    DefaultKey            : abcdefghijklmnopqrstuvwxyz
    Status                : Active
    CreatedAt             : 10/18/2016 9:36:30 PM
    AcsManagementEndpoint : https://biztalksbnamespace-sb.accesscontrol.windows.net/
    ServiceBusEndpoint    : https://biztalksbnamespace.servicebus.windows.net/
    ConnectionString      : Endpoint=sb://biztalksbnamespace.servicebus.windows.net/;SharedSecretIssuer=owner;SharedSecretValue=abcdefghijklmnopqrstuvwxyz
    NamespaceType         : Messaging
    ```

<span data-ttu-id="0d282-126">参照してください[New-azuresbnamespace](https://docs.microsoft.com/powershell/module/Azure/New-AzureSBNamespace)のガイダンスについてはします。</span><span class="sxs-lookup"><span data-stu-id="0d282-126">See [New-AzureSBNamespace](https://docs.microsoft.com/powershell/module/Azure/New-AzureSBNamespace) for guidance.</span></span>

## <a name="receive-messages-from-service-bus"></a><span data-ttu-id="0d282-127">Service Bus からメッセージを受信します。</span><span class="sxs-lookup"><span data-stu-id="0d282-127">Receive messages from Service Bus</span></span>

1. <span data-ttu-id="0d282-128">BizTalk Server 管理コンソールで  **BizTalk グループ**、展開**アプリケーション**、アプリケーションを展開します。</span><span class="sxs-lookup"><span data-stu-id="0d282-128">In the BizTalk Server Administration console, expand **BizTalk Group**, expand **Applications**, and then expand your application.</span></span> 

2. <span data-ttu-id="0d282-129">右クリック**受信ポート**を選択します**新規**、選び**一方向受信ポート**します。</span><span class="sxs-lookup"><span data-stu-id="0d282-129">Right-click **Receive Ports**, select **New**, and select **One-Way receive port**.</span></span> 

3. <span data-ttu-id="0d282-130">場合、名前を付けるし、選択**受信場所**します。</span><span class="sxs-lookup"><span data-stu-id="0d282-130">Give it a name, and select **Receive Locations**.</span></span> 

4. <span data-ttu-id="0d282-131">選択**新規**、試して、**名前**。</span><span class="sxs-lookup"><span data-stu-id="0d282-131">Select **New**, give it a **Name**.</span></span> <span data-ttu-id="0d282-132">**トランスポート**セクションで、 **Sb-messaging**から、**型**クリックしてドロップダウン リスト、**構成**します。</span><span class="sxs-lookup"><span data-stu-id="0d282-132">In the **Transport** section, select **SB-Messaging** from the **Type** drop-down list, and then select **Configure**.</span></span>  

5. <span data-ttu-id="0d282-133">構成、**全般**プロパティ。</span><span class="sxs-lookup"><span data-stu-id="0d282-133">Configure the **General** properties:</span></span>  


   |           <span data-ttu-id="0d282-134">プロパティ</span><span class="sxs-lookup"><span data-stu-id="0d282-134">Use this</span></span>            |                                                                                                                                                                                                                                                                                                                                              <span data-ttu-id="0d282-135">目的</span><span class="sxs-lookup"><span data-stu-id="0d282-135">To do this</span></span>                                                                                                                                                                                                                                                                                                                                               |
   |-------------------------------|-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
   | <span data-ttu-id="0d282-136">**キューまたはサブスクリプション URL**</span><span class="sxs-lookup"><span data-stu-id="0d282-136">**Queue or Subscription URL**</span></span> |                                                                                                                                                                                                                                                               <span data-ttu-id="0d282-137">Service Bus キューを展開する URL を指定します。</span><span class="sxs-lookup"><span data-stu-id="0d282-137">Specify the URL where the Service Bus queue is deployed.</span></span> <span data-ttu-id="0d282-138">通常、URL は次のような形式になっています。</span><span class="sxs-lookup"><span data-stu-id="0d282-138">Typically the URL is in the following format:</span></span><br /><br /> `sb://<namespace>.servicebus.windows.net/<queue_name>`                                                                                                                                                                                                                                                               |
   |       <span data-ttu-id="0d282-139">**オープン タイムアウト**</span><span class="sxs-lookup"><span data-stu-id="0d282-139">**Open Timeout**</span></span>        |                                                                                                                                                                                                                                                                                 <span data-ttu-id="0d282-140">チャネルを開く操作が完了するまでの時間を示す期間値を指定します。</span><span class="sxs-lookup"><span data-stu-id="0d282-140">Specifies a time span value that indicates the time for a channel open operation to complete.</span></span><br /><br /> <span data-ttu-id="0d282-141">**既定値:** 1 分</span><span class="sxs-lookup"><span data-stu-id="0d282-141">**Default value:** 1 minute</span></span>                                                                                                                                                                                                                                                                                 |
   |       <span data-ttu-id="0d282-142">**クローズ タイムアウト**</span><span class="sxs-lookup"><span data-stu-id="0d282-142">**Close Timeout**</span></span>       |                                                                                                                                                                                                                                                                                <span data-ttu-id="0d282-143">チャネルを閉じる操作が完了するまでの時間を示す期間値を指定します。</span><span class="sxs-lookup"><span data-stu-id="0d282-143">Specifies a time span value that indicates the time for a channel close operation to complete.</span></span><br /><br /> <span data-ttu-id="0d282-144">**既定値:** 1 分</span><span class="sxs-lookup"><span data-stu-id="0d282-144">**Default value:** 1 minute</span></span>                                                                                                                                                                                                                                                                                 |
   |      <span data-ttu-id="0d282-145">**受信タイムアウト**</span><span class="sxs-lookup"><span data-stu-id="0d282-145">**Receive timeout**</span></span>      |                                                                                                                                                                                                                                                                                  <span data-ttu-id="0d282-146">受信操作が完了するまでの時間を示す期間値を指定します。</span><span class="sxs-lookup"><span data-stu-id="0d282-146">Specifies a time span value that indicates the time for a receive operation to complete.</span></span><br /><br /> <span data-ttu-id="0d282-147">**既定値:** 10 分</span><span class="sxs-lookup"><span data-stu-id="0d282-147">**Default value:** 10 minutes</span></span>                                                                                                                                                                                                                                                                                   |
   |      <span data-ttu-id="0d282-148">**プリフェッチ数**</span><span class="sxs-lookup"><span data-stu-id="0d282-148">**Prefetch count**</span></span>       | <span data-ttu-id="0d282-149">Service Bus キューまたはトピックから同時に受信するメッセージの数を指定します。</span><span class="sxs-lookup"><span data-stu-id="0d282-149">Specifies the number of messages that are received simultaneously from the Service Bus Queue or a topic.</span></span> <span data-ttu-id="0d282-150">プリフェッチにより、キューまたはサブスクリプション クライアントは、受信操作を実行するときにサービスから追加のメッセージを読み込むことができます。</span><span class="sxs-lookup"><span data-stu-id="0d282-150">Prefetching enables the queue or subscription client to load additional messages from the service when it performs a receive operation.</span></span> <span data-ttu-id="0d282-151">クライアントはこれらのメッセージをローカル キャッシュに格納します。</span><span class="sxs-lookup"><span data-stu-id="0d282-151">The client stores these messages in a local cache.</span></span> <span data-ttu-id="0d282-152">キャッシュのサイズは、ここで指定する [プリフェッチ数] プロパティの値によって決まります。</span><span class="sxs-lookup"><span data-stu-id="0d282-152">The size of the cache is determined by the value for the Prefetch Count property you specify here.</span></span><br /><br /> <span data-ttu-id="0d282-153">詳細については、セクションを参照してくださいでは、「プリフェッチ」 [https://azure.microsoft.com/documentation/articles/service-bus-performance-improvements/](https://azure.microsoft.com/documentation/articles/service-bus-performance-improvements/)</span><span class="sxs-lookup"><span data-stu-id="0d282-153">For more information, refer to the section “Prefetching” at [https://azure.microsoft.com/documentation/articles/service-bus-performance-improvements/](https://azure.microsoft.com/documentation/articles/service-bus-performance-improvements/)</span></span><br /><br /> <span data-ttu-id="0d282-154">**既定値:** -1</span><span class="sxs-lookup"><span data-stu-id="0d282-154">**Default value:** -1</span></span> |
   |        <span data-ttu-id="0d282-155">**セッションを使用します。**</span><span class="sxs-lookup"><span data-stu-id="0d282-155">**Use Session**</span></span>        |                                                                                                                                                                                                                                                                                                <span data-ttu-id="0d282-156">Service Bus セッションを使用してキューまたはサブスクリプションからメッセージを受信する場合は、このチェック ボックスをオンにします。</span><span class="sxs-lookup"><span data-stu-id="0d282-156">Select this check box to use a Service Bus session to receive messages from a queue or a subscription.</span></span>                                                                                                                                                                                                                                                                                                 |


6. <span data-ttu-id="0d282-157">構成、**認証**プロパティ。</span><span class="sxs-lookup"><span data-stu-id="0d282-157">Configure the **Authentication** properties:</span></span>  


   |                                               <span data-ttu-id="0d282-158">プロパティ</span><span class="sxs-lookup"><span data-stu-id="0d282-158">Use this</span></span>                                                |                                                                                                                                                                                             <span data-ttu-id="0d282-159">目的</span><span class="sxs-lookup"><span data-stu-id="0d282-159">To do this</span></span>                                                                                                                                                                                             |
   |-------------------------------------------------------------------------------------------------------|----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
   |                                      <span data-ttu-id="0d282-160">**Access Control Service**</span><span class="sxs-lookup"><span data-stu-id="0d282-160">**Access Control Service**</span></span>                                       | <span data-ttu-id="0d282-161">認証に ACS を使用するにはこれを選択して次の値を指定します:</span><span class="sxs-lookup"><span data-stu-id="0d282-161">Select this to use ACS for authentication and provide the following values:</span></span><br /><br /> <span data-ttu-id="0d282-162">-Service Bus アクセス制御サービス STS URI を入力します。</span><span class="sxs-lookup"><span data-stu-id="0d282-162">- Enter the Service Bus Access Control Service STS URI.</span></span> <span data-ttu-id="0d282-163">通常、URI は次のような形式になっています。</span><span class="sxs-lookup"><span data-stu-id="0d282-163">Typically the URI is in the following format:</span></span><br /><br /> `https://<namespace>-sb.accesscontrol.windows.net/`<br /><br /> <span data-ttu-id="0d282-164">-Service Bus 名前空間の発行者名を入力します。</span><span class="sxs-lookup"><span data-stu-id="0d282-164">- Enter the issuer name for the Service Bus namespace.</span></span><br /><br /> <span data-ttu-id="0d282-165">-Service Bus 名前空間の発行者キーを入力します。</span><span class="sxs-lookup"><span data-stu-id="0d282-165">- Enter the issuer key for the Service Bus namespace.</span></span> |
   | <span data-ttu-id="0d282-166">**Shared Access Signature** (以降では新しい[!INCLUDE[bts2013r2_md](../includes/bts2013r2-md.md)])</span><span class="sxs-lookup"><span data-stu-id="0d282-166">**Shared Access Signature** (new starting with [!INCLUDE[bts2013r2_md](../includes/bts2013r2-md.md)])</span></span> |                                                                                                                                          <span data-ttu-id="0d282-167">認証に Shared Access Signature (SAS) を使用する場合はこれを選択し、SAS キーの名前とキーの値を指定します。</span><span class="sxs-lookup"><span data-stu-id="0d282-167">Select this to use Shared Access Signature (SAS) for authentication, and provide the SAS key name and key value.</span></span>                                                                                                                                          |


7. <span data-ttu-id="0d282-168">**プロパティ** タブで、**ブローカー メッセージのプロパティの Namespace**、アダプターのメッセージ コンテキスト プロパティとしてブローカー メッセージのプロパティを作成に使用する名前空間を入力してください、受信したメッセージ[!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)]します。</span><span class="sxs-lookup"><span data-stu-id="0d282-168">In the **Properties** tab, in the **Namespace for Brokered Message Properties**, enter the namespace that the adapter uses to write the brokered message properties as message context properties on the message received by [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)].</span></span> <span data-ttu-id="0d282-169">仲介型メッセージのプロパティを昇格する場合は、選択、**仲介型メッセージ プロパティの昇格**チェック ボックスをオンします。</span><span class="sxs-lookup"><span data-stu-id="0d282-169">If you want to promote the brokered message properties, select the **Promote Brokered Message Properties** check box.</span></span>  

8. <span data-ttu-id="0d282-170">**[OK]** を選択します。</span><span class="sxs-lookup"><span data-stu-id="0d282-170">Select **OK**.</span></span>  

9. <span data-ttu-id="0d282-171">選択、**受信ハンドラー**、および**受信パイプライン**します。</span><span class="sxs-lookup"><span data-stu-id="0d282-171">Select your **Receive handler**, and the **Receive pipeline**.</span></span> <span data-ttu-id="0d282-172">**[OK]** を選択して変更を保存します。</span><span class="sxs-lookup"><span data-stu-id="0d282-172">Select **OK** to save your changes.</span></span> <span data-ttu-id="0d282-173">[受信場所を作成](../core/how-to-create-a-receive-location.md)いくつかのガイダンスを提供します。</span><span class="sxs-lookup"><span data-stu-id="0d282-173">[Create a Receive Location](../core/how-to-create-a-receive-location.md) provides some guidance.</span></span>  

## <a name="send-messages-to-service-bus"></a><span data-ttu-id="0d282-174">Service Bus にメッセージを送信します。</span><span class="sxs-lookup"><span data-stu-id="0d282-174">Send messages to Service Bus</span></span>

1. <span data-ttu-id="0d282-175">右クリックし、BizTalk Server 管理コンソールで**送信ポート**を選択します**新規**、選択と**静的な一方向送信ポート**します。</span><span class="sxs-lookup"><span data-stu-id="0d282-175">In the BizTalk Server Administration console, right-click **Send Ports**, select **New**, and select **Static One-way send port**.</span></span>

   <span data-ttu-id="0d282-176">[送信ポートを作成](../core/how-to-create-a-send-port2.md)いくつかのガイダンスを提供します。</span><span class="sxs-lookup"><span data-stu-id="0d282-176">[Create a Send Port](../core/how-to-create-a-send-port2.md) provides some guidance.</span></span>

2. <span data-ttu-id="0d282-177">入力、**名前**します。</span><span class="sxs-lookup"><span data-stu-id="0d282-177">Enter a **Name**.</span></span> <span data-ttu-id="0d282-178">**トランスポート**、設定、**型**に**Sb-messaging**を選択し、**構成**します。</span><span class="sxs-lookup"><span data-stu-id="0d282-178">In **Transport**, set the **Type** to **SB-Messaging**, and select **Configure**.</span></span> 

3. <span data-ttu-id="0d282-179">構成、**全般**プロパティ。</span><span class="sxs-lookup"><span data-stu-id="0d282-179">Configure the **General** properties:</span></span>  


   |         <span data-ttu-id="0d282-180">プロパティ</span><span class="sxs-lookup"><span data-stu-id="0d282-180">Use this</span></span>         |                                                                                                                                                                                                                                             <span data-ttu-id="0d282-181">目的</span><span class="sxs-lookup"><span data-stu-id="0d282-181">To do this</span></span>                                                                                                                                                                                                                                              |
   |--------------------------|-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
   |   <span data-ttu-id="0d282-182">**送信先 URL**</span><span class="sxs-lookup"><span data-stu-id="0d282-182">**Destination URL**</span></span>    |                                                                                                                                                               <span data-ttu-id="0d282-183">Service Bus キューを配置する場所の URL を入力します。</span><span class="sxs-lookup"><span data-stu-id="0d282-183">Enter the URL where the Service Bus queue is deployed.</span></span> <span data-ttu-id="0d282-184">通常、URL は次のような形式になっています。</span><span class="sxs-lookup"><span data-stu-id="0d282-184">Typically the URL is in the following format:</span></span><br /><br /> `sb://<namespace>.servicebus.windows.net/<queue_name>`                                                                                                                                                               |
   | <span data-ttu-id="0d282-185">**バッチのフラッシュ間隔**</span><span class="sxs-lookup"><span data-stu-id="0d282-185">**Batch Flush Interval**</span></span> | <span data-ttu-id="0d282-186">キューまたはトピックに送られたメッセージ バッチがフラッシュされる間隔を示す期間値を指定します。</span><span class="sxs-lookup"><span data-stu-id="0d282-186">Specifies a time span value that indicates the interval when the message batches being sent to a Queue or a Topic are flushed.</span></span> <span data-ttu-id="0d282-187">既定値は、20 ミリ秒です。</span><span class="sxs-lookup"><span data-stu-id="0d282-187">The default value is 20 milliseconds.</span></span><br /><br /> <span data-ttu-id="0d282-188">Service Bus キューおよびトピックに関するバッチ処理の詳細については、次を参照してください。、**クライアント側のバッチ処理**セクションで[ https://azure.microsoft.com/documentation/articles/service-bus-performance-improvements](https://azure.microsoft.com/documentation/articles/service-bus-performance-improvements)します。</span><span class="sxs-lookup"><span data-stu-id="0d282-188">For more information about batching with respect to Service Bus Queues and Topics, see the **Client-side batching** section at [https://azure.microsoft.com/documentation/articles/service-bus-performance-improvements](https://azure.microsoft.com/documentation/articles/service-bus-performance-improvements).</span></span> |
   |     <span data-ttu-id="0d282-189">**オープン タイムアウト**</span><span class="sxs-lookup"><span data-stu-id="0d282-189">**Open Timeout**</span></span>     |                                                                                                                                                                                <span data-ttu-id="0d282-190">チャネルを開く操作が完了するまでの時間を示す期間値を指定します。</span><span class="sxs-lookup"><span data-stu-id="0d282-190">Specifies a time span value that indicates the time for a channel open operation to complete.</span></span><br /><br /> <span data-ttu-id="0d282-191">**既定値:** 1 分</span><span class="sxs-lookup"><span data-stu-id="0d282-191">**Default value:** 1 minute</span></span>                                                                                                                                                                                |
   |     <span data-ttu-id="0d282-192">**送信タイムアウト**</span><span class="sxs-lookup"><span data-stu-id="0d282-192">**Send Timeout**</span></span>     |                                                                                                                                                                                    <span data-ttu-id="0d282-193">送信操作が完了するまでの時間を示す期間値を指定します。</span><span class="sxs-lookup"><span data-stu-id="0d282-193">Specifies a time span value that indicates the time for a send operation to complete.</span></span><br /><br /> <span data-ttu-id="0d282-194">**既定値:** 1 分</span><span class="sxs-lookup"><span data-stu-id="0d282-194">**Default value:** 1 minute</span></span>                                                                                                                                                                                    |
   |    <span data-ttu-id="0d282-195">**クローズ タイムアウト**</span><span class="sxs-lookup"><span data-stu-id="0d282-195">**Close Timeout**</span></span>     |                                                                                                                                                                               <span data-ttu-id="0d282-196">チャネルを閉じる操作が完了するまでの時間を示す期間値を指定します。</span><span class="sxs-lookup"><span data-stu-id="0d282-196">Specifies a time span value that indicates the time for a channel close operation to complete.</span></span><br /><br /> <span data-ttu-id="0d282-197">**既定値:** 1 分</span><span class="sxs-lookup"><span data-stu-id="0d282-197">**Default value:** 1 minute</span></span>                                                                                                                                                                                |


4. <span data-ttu-id="0d282-198">構成、**認証**プロパティ。</span><span class="sxs-lookup"><span data-stu-id="0d282-198">Configure the **Authentication** properties:</span></span> 


   |                                               <span data-ttu-id="0d282-199">プロパティ</span><span class="sxs-lookup"><span data-stu-id="0d282-199">Use this</span></span>                                                |                                                                                                                                                                                             <span data-ttu-id="0d282-200">目的</span><span class="sxs-lookup"><span data-stu-id="0d282-200">To do this</span></span>                                                                                                                                                                                             |
   |-------------------------------------------------------------------------------------------------------|----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
   |                                      <span data-ttu-id="0d282-201">**Access Control Service**</span><span class="sxs-lookup"><span data-stu-id="0d282-201">**Access Control Service**</span></span>                                       | <span data-ttu-id="0d282-202">認証に ACS を使用するにはこれを選択して次の値を指定します:</span><span class="sxs-lookup"><span data-stu-id="0d282-202">Select this to use ACS for authentication and provide the following values:</span></span><br /><br /> <span data-ttu-id="0d282-203">-Service Bus アクセス制御サービス STS URI を入力します。</span><span class="sxs-lookup"><span data-stu-id="0d282-203">- Enter the Service Bus Access Control Service STS URI.</span></span> <span data-ttu-id="0d282-204">通常、URI は次のような形式になっています。</span><span class="sxs-lookup"><span data-stu-id="0d282-204">Typically the URI is in the following format:</span></span><br /><br /> `https://<namespace>-sb.accesscontrol.windows.net/`<br /><br /> <span data-ttu-id="0d282-205">-Service Bus 名前空間の発行者名を入力します。</span><span class="sxs-lookup"><span data-stu-id="0d282-205">- Enter the issuer name for the Service Bus namespace.</span></span><br /><br /> <span data-ttu-id="0d282-206">-Service Bus 名前空間の発行者キーを入力します。</span><span class="sxs-lookup"><span data-stu-id="0d282-206">- Enter the issuer key for the Service Bus namespace.</span></span> |
   | <span data-ttu-id="0d282-207">**Shared Access Signature** (以降では新しい[!INCLUDE[bts2013r2_md](../includes/bts2013r2-md.md)])</span><span class="sxs-lookup"><span data-stu-id="0d282-207">**Shared Access Signature** (new starting with [!INCLUDE[bts2013r2_md](../includes/bts2013r2-md.md)])</span></span> |                                                                                                                                          <span data-ttu-id="0d282-208">認証に Shared Access Signature (SAS) を使用する場合はこれを選択し、SAS キーの名前とキーの値を指定します。</span><span class="sxs-lookup"><span data-stu-id="0d282-208">Select this to use Shared Access Signature (SAS) for authentication, and provide the SAS key name and key value.</span></span>                                                                                                                                          |


5. <span data-ttu-id="0d282-209">**プロパティ** タブで、入力、 **Namespace のユーザーには、ブローカー メッセージのプロパティが定義されている**への送信メッセージを記述する BizTalk メッセージ コンテキストのプロパティを格納しています。Service Bus。</span><span class="sxs-lookup"><span data-stu-id="0d282-209">In the **Properties** tab, enter the **Namespace for the user defined Brokered Message Properties** that contains the BizTalk message context properties that you want to write on the outgoing message to Service Bus.</span></span> <span data-ttu-id="0d282-210">名前空間のすべてのプロパティは、ユーザー定義ブローカー メッセージのプロパティとしてメッセージに書き込まれます。</span><span class="sxs-lookup"><span data-stu-id="0d282-210">All the namespace properties are written to the message as user-defined Brokered Message properties.</span></span> <span data-ttu-id="0d282-211">アダプターは、プロパティをブローカー メッセージのプロパティとして書き込むときに、この名前空間を無視します。</span><span class="sxs-lookup"><span data-stu-id="0d282-211">The adapter ignores the namespace while writing the properties as Brokered Message properties.</span></span> <span data-ttu-id="0d282-212">この名前空間は、書き込むプロパティを確認するためにのみ使用されます。</span><span class="sxs-lookup"><span data-stu-id="0d282-212">It uses the namespace only to ascertain what properties to write.</span></span>  

    <span data-ttu-id="0d282-213">BrokeredMessage プロパティの値を入力することもできます。</span><span class="sxs-lookup"><span data-stu-id="0d282-213">You can also enter the values for the BrokeredMessage properties.</span></span> <span data-ttu-id="0d282-214">これらのプロパティの説明にある[BrokeredMessage プロパティ](https://docs.microsoft.com/dotnet/api/microsoft.servicebus.messaging.brokeredmessage)など、**パーティション キー**します。</span><span class="sxs-lookup"><span data-stu-id="0d282-214">These properties are described at [BrokeredMessage Properties](https://docs.microsoft.com/dotnet/api/microsoft.servicebus.messaging.brokeredmessage), including the **Partition Key**.</span></span>

6. <span data-ttu-id="0d282-215">**[OK]** を選択して変更を保存します。</span><span class="sxs-lookup"><span data-stu-id="0d282-215">Select **OK** to save your changes.</span></span>  

## <a name="see-also"></a><span data-ttu-id="0d282-216">参照</span><span class="sxs-lookup"><span data-stu-id="0d282-216">See also</span></span>
[<span data-ttu-id="0d282-217">アダプターを使用します。</span><span class="sxs-lookup"><span data-stu-id="0d282-217">Using adapters</span></span>](../core/using-adapters.md)