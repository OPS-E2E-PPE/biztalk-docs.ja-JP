---
title: "Sb-messaging アダプター |Microsoft ドキュメント"
ms.custom: 
ms.date: 06/08/2017
ms.prod: biztalk-server
ms.reviewer: 
ms.suite: 
ms.tgt_pltfrm: 
ms.topic: article
ms.assetid: c06c4934-45b2-4f6f-9d19-3ebd937c32ae
caps.latest.revision: "5"
author: MandiOhlinger
ms.author: mandia
manager: anneta
ms.openlocfilehash: 2fb2eb8f532d72708dfca199f0eef794afdf77df
ms.sourcegitcommit: cb908c540d8f1a692d01dc8f313e16cb4b4e696d
ms.translationtype: MT
ms.contentlocale: ja-JP
ms.lasthandoff: 09/20/2017
---
# <a name="sb-messaging-adapter"></a><span data-ttu-id="7ab95-102">SB-Messaging アダプター</span><span class="sxs-lookup"><span data-stu-id="7ab95-102">SB-Messaging Adapter</span></span>
<span data-ttu-id="7ab95-103">Service Bus (**Sb-messaging**) を受信し、キュー、トピック、およびリレーなどの Service Bus エンティティから送信アダプターを使用します。</span><span class="sxs-lookup"><span data-stu-id="7ab95-103">The Service Bus (**SB-Messaging**) adapter is used to receive and send from Service Bus entities like Queues, Topics, and Relays.</span></span> <span data-ttu-id="7ab95-104">使用することができます、 **Sb-messaging**アダプター間の接続を確立する[!INCLUDE[winazure](../includes/winazure-md.md)]と内部設置型[!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)]これにより、一般的なハイブリッド アプリケーションを作成するユーザーを有効にするとします。</span><span class="sxs-lookup"><span data-stu-id="7ab95-104">You can use the **SB-Messaging** adapters to bridge the connectivity between [!INCLUDE[winazure](../includes/winazure-md.md)] and on-premises [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)], thereby enabling users to create a typical hybrid application.</span></span> <span data-ttu-id="7ab95-105">このセクションのトピックでは、手順を構成する方法について説明、 **Sb-messaging**受信場所および送信ポートを受信し、Service Bus エンティティからメッセージを送信します。</span><span class="sxs-lookup"><span data-stu-id="7ab95-105">The topics in this section provide instructions on how to configure an **SB-Messaging** receive location and a send port to receive and send messages from the Service Bus entities.</span></span>  

## <a name="before-you-get-started"></a><span data-ttu-id="7ab95-106">始める前に</span><span class="sxs-lookup"><span data-stu-id="7ab95-106">Before you get started</span></span>
<span data-ttu-id="7ab95-107">Service Bus の認証に 2 つのメソッドを提供します。 アクセス制御サービス (ACS) と Shared Access Signature (SAS)。</span><span class="sxs-lookup"><span data-stu-id="7ab95-107">Service Bus provides two methods to authenticate: Access Control Service (ACS) and the Shared Access Signature (SAS).</span></span> <span data-ttu-id="7ab95-108">Service Bus の認証に Shared Access Signature (SAS) を使用するにはお勧めします。</span><span class="sxs-lookup"><span data-stu-id="7ab95-108">Our recommendation is to use Shared Access Signature (SAS) when authenticating with Service Bus.</span></span> <span data-ttu-id="7ab95-109">共有アクセス キー値として記載されて、 [Azure ポータル](https://portal.azure.com)です。</span><span class="sxs-lookup"><span data-stu-id="7ab95-109">The Shared Access Key value is listed in the [Azure portal](https://portal.azure.com).</span></span>

<span data-ttu-id="7ab95-110">Service Bus 名前空間を作成するときに、アクセス制御 (ACS) 名前空間は自動的に作成されません。</span><span class="sxs-lookup"><span data-stu-id="7ab95-110">When you create a Service Bus namespace, the Access Control (ACS) namespace is not automatically created.</span></span> <span data-ttu-id="7ab95-111">アクセス制御を使用して、この名前空間の発行者名および発行者キーの値が必要です。</span><span class="sxs-lookup"><span data-stu-id="7ab95-111">To use Access Control, you need the Issuer Name and Issuer Key values of this namespace.</span></span> <span data-ttu-id="7ab95-112">これらの値は、Windows PowerShell を使用して、新しい ACS 名前空間を作成するときに使用できます。</span><span class="sxs-lookup"><span data-stu-id="7ab95-112">These values are available when you create a new ACS namespace using Windows PowerShell.</span></span> <span data-ttu-id="7ab95-113">これらの値は、Azure ポータルでは表示されません。</span><span class="sxs-lookup"><span data-stu-id="7ab95-113">These values are not listed in the Azure portal.</span></span>

<span data-ttu-id="7ab95-114">使用して ACS 認証の発行者名および発行者キーの値を取得、全体的な手順は次のとおりです。</span><span class="sxs-lookup"><span data-stu-id="7ab95-114">To use ACS for authentication, and get the Issuer Name and Issuer Key values, the overall steps include:</span></span>

1. <span data-ttu-id="7ab95-115">インストール、 [Azure Powershell コマンドレット](https://azure.microsoft.com/documentation/articles/powershell-install-configure/)です。</span><span class="sxs-lookup"><span data-stu-id="7ab95-115">Install the [Azure Powershell cmdlets](https://azure.microsoft.com/documentation/articles/powershell-install-configure/).</span></span>
2. <span data-ttu-id="7ab95-116">Azure アカウントを追加します。`Add-AzureAccount`</span><span class="sxs-lookup"><span data-stu-id="7ab95-116">Add your Azure account: `Add-AzureAccount`</span></span>
3. <span data-ttu-id="7ab95-117">サブスクリプション名が返されます。`get-azuresubscription`</span><span class="sxs-lookup"><span data-stu-id="7ab95-117">Return your subscription name: `get-azuresubscription`</span></span>
4. <span data-ttu-id="7ab95-118">お客様のサブスクリプションを選択します。`select-azuresubscription <name of your subscription>`</span><span class="sxs-lookup"><span data-stu-id="7ab95-118">Select your subscription: `select-azuresubscription <name of your subscription>`</span></span> 
5. <span data-ttu-id="7ab95-119">新しい名前空間を作成します。`new-azuresbnamespace <name for the service bus> "Location" -CreateACSNamespace $true -NamespaceType Messaging`</span><span class="sxs-lookup"><span data-stu-id="7ab95-119">Create a new namespace: `new-azuresbnamespace <name for the service bus> "Location" -CreateACSNamespace $true -NamespaceType Messaging`</span></span>

    <span data-ttu-id="7ab95-120">例:`new-azuresbnamespace biztalksbnamespace "South Central US" -CreateACSNamespace $true -NamespaceType Messaging`</span><span class="sxs-lookup"><span data-stu-id="7ab95-120">Example:    `new-azuresbnamespace biztalksbnamespace "South Central US" -CreateACSNamespace $true -NamespaceType Messaging`</span></span>
      
5. <span data-ttu-id="7ab95-121">新しい ACS 名前空間が作成されると (これは、数分かかる場合が)、IssuerName と IssuerKey の値が、接続文字列に表示されます。</span><span class="sxs-lookup"><span data-stu-id="7ab95-121">When the new ACS namespace is created (which can take several minutes), the IssuerName and IssuerKey values are listed in the connection string:</span></span> 

    ```
    Name                  : biztalksbnamespace
    Region                : South Central US
    DefaultKey            : abcdefghijklmnopqrstuvwxyz
    Status                : Active
    CreatedAt             : 10/18/2016 9:36:30 PM
    AcsManagementEndpoint : https://biztalksbnamespace-sb.accesscontrol.windows.net/
    ServiceBusEndpoint    : https://biztalksbnamespace.servicebus.windows.net/
    ConnectionString      : Endpoint=sb://biztalksbnamespace.servicebus.windows.net/;SharedSecretIssuer=owner;SharedSecretValue=abcdefghijklmnopqrstuvwxyz
    NamespaceType         : Messaging
    ```
[<span data-ttu-id="7ab95-122">新しい AzureSBNamespace</span><span class="sxs-lookup"><span data-stu-id="7ab95-122">New-AzureSBNamespace</span></span>](https://msdn.microsoft.com/library/dn495165.aspx)

## <a name="receive-messages-from-service-bus"></a><span data-ttu-id="7ab95-123">Service Bus からメッセージを受信します。</span><span class="sxs-lookup"><span data-stu-id="7ab95-123">Receive messages from Service Bus</span></span>
  
<span data-ttu-id="7ab95-124">このセクションで構成する方法に関する情報を提供する、 **Sb-messaging**受信場所を使用して、[!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)]管理コンソールです。</span><span class="sxs-lookup"><span data-stu-id="7ab95-124">This section provides information on how to configure an **SB-Messaging** Receive Location using the [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] Administration Console.</span></span>  
  
> [!NOTE]
>  <span data-ttu-id="7ab95-125">次の手順を完了する前にする必要がありますが既に追加して、一方向受信ポート。</span><span class="sxs-lookup"><span data-stu-id="7ab95-125">Before completing the following procedure, you must have already added a one-way receive port.</span></span> <span data-ttu-id="7ab95-126">参照してください[受信ポートを作成する方法](../core/how-to-create-a-receive-port.md)です。</span><span class="sxs-lookup"><span data-stu-id="7ab95-126">See [How to create a receive port](../core/how-to-create-a-receive-port.md).</span></span>  

 
1.  <span data-ttu-id="7ab95-127">BizTalk Server 管理コンソールで、 [!INCLUDE[btsBizTalkServerAdminConsoleui](../includes/btsbiztalkserveradminconsoleui-md.md)]、展開**BizTalk グループ**、展開**アプリケーション**アプリケーションを展開し、受信場所を作成する です。</span><span class="sxs-lookup"><span data-stu-id="7ab95-127">In the BizTalk Server Administration console, expand [!INCLUDE[btsBizTalkServerAdminConsoleui](../includes/btsbiztalkserveradminconsoleui-md.md)], expand **BizTalk Group**, expand **Applications**, and then expand the application under you want to create a receive location.</span></span>  
  
2.  <span data-ttu-id="7ab95-128">左側のウィンドウで、[ **受信ポート** ] ノードをクリックし、右側のウィンドウで、新しい受信場所に関連付ける受信ポートを右クリックし、[ **プロパティ**] をクリックします。</span><span class="sxs-lookup"><span data-stu-id="7ab95-128">In the left pane, click the **Receive Ports** node and in the right pane, right-click the receive port with which you want to associate the new receive location, and then click **Properties**.</span></span>  
  
3.  <span data-ttu-id="7ab95-129">[ **受信ポートのプロパティ** ] ダイアログ ボックスの左側のウィンドウで [ **受信場所**] を選択し、右側のウィンドウで [ **新規作成** ] をクリックして、新しい受信場所を作成します。</span><span class="sxs-lookup"><span data-stu-id="7ab95-129">In the left pane of the **Receive Port Properties** dialog box, select **Receive Locations**, and in the right pane click **New** to create a new receive location.</span></span>  
  
4.  <span data-ttu-id="7ab95-130">**受信場所のプロパティ** ダイアログ ボックスで、**トランスポート**セクションで、 **Sb-messaging**から、**型**ドロップダウン リスト、をクリックして**構成**受信場所のトランスポートのプロパティを構成します。</span><span class="sxs-lookup"><span data-stu-id="7ab95-130">In the **Receive Location Properties** dialog box, in the **Transport** section, select **SB-Messaging** from the **Type** drop-down list, and then click **Configure** to configure the transport properties for the receive location.</span></span>  
  
5.  <span data-ttu-id="7ab95-131">**Sb-messaging トランスポートのプロパティ** ダイアログ ボックスで、**全般** タブで、次の操作します。</span><span class="sxs-lookup"><span data-stu-id="7ab95-131">In the **SB-Messaging Transport Properties** dialog box, in the **General** tab, do the following:</span></span>  
  
    |<span data-ttu-id="7ab95-132">プロパティ</span><span class="sxs-lookup"><span data-stu-id="7ab95-132">Use this</span></span>|<span data-ttu-id="7ab95-133">目的</span><span class="sxs-lookup"><span data-stu-id="7ab95-133">To do this</span></span>|  
    |--------------|----------------|  
    |<span data-ttu-id="7ab95-134">**キューまたはサブスクリプションの URL**</span><span class="sxs-lookup"><span data-stu-id="7ab95-134">**Queue or Subscription URL**</span></span>|<span data-ttu-id="7ab95-135">Service Bus キューを展開する URL を指定します。</span><span class="sxs-lookup"><span data-stu-id="7ab95-135">Specify the URL where the Service Bus queue is deployed.</span></span> <span data-ttu-id="7ab95-136">通常、URL は次のような形式になっています。</span><span class="sxs-lookup"><span data-stu-id="7ab95-136">Typically the URL is in the following format:</span></span><br /><br /> `sb://<namespace>.servicebus.windows.net/<queue_name>`|  
    |<span data-ttu-id="7ab95-137">**オープン タイムアウト**</span><span class="sxs-lookup"><span data-stu-id="7ab95-137">**Open Timeout**</span></span>|<span data-ttu-id="7ab95-138">チャネルを開く操作が完了するまでの時間を示す期間値を指定します。</span><span class="sxs-lookup"><span data-stu-id="7ab95-138">Specifies a time span value that indicates the time for a channel open operation to complete.</span></span><br /><br /> <span data-ttu-id="7ab95-139">**既定値:** 1 分</span><span class="sxs-lookup"><span data-stu-id="7ab95-139">**Default value:** 1 minute</span></span>|  
    |<span data-ttu-id="7ab95-140">**クローズ タイムアウト**</span><span class="sxs-lookup"><span data-stu-id="7ab95-140">**Close Timeout**</span></span>|<span data-ttu-id="7ab95-141">チャネルを閉じる操作が完了するまでの時間を示す期間値を指定します。</span><span class="sxs-lookup"><span data-stu-id="7ab95-141">Specifies a time span value that indicates the time for a channel close operation to complete.</span></span><br /><br /> <span data-ttu-id="7ab95-142">**既定値:** 1 分</span><span class="sxs-lookup"><span data-stu-id="7ab95-142">**Default value:** 1 minute</span></span>|  
    |<span data-ttu-id="7ab95-143">**受信タイムアウト**</span><span class="sxs-lookup"><span data-stu-id="7ab95-143">**Receive timeout**</span></span>|<span data-ttu-id="7ab95-144">受信操作が完了するまでの時間を示す期間値を指定します。</span><span class="sxs-lookup"><span data-stu-id="7ab95-144">Specifies a time span value that indicates the time for a receive operation to complete.</span></span><br /><br /> <span data-ttu-id="7ab95-145">**既定値:** 10 分</span><span class="sxs-lookup"><span data-stu-id="7ab95-145">**Default value:** 10 minutes</span></span>|  
    |<span data-ttu-id="7ab95-146">**プリフェッチ数**</span><span class="sxs-lookup"><span data-stu-id="7ab95-146">**Prefetch count**</span></span>|<span data-ttu-id="7ab95-147">Service Bus キューまたはトピックから同時に受信するメッセージの数を指定します。</span><span class="sxs-lookup"><span data-stu-id="7ab95-147">Specifies the number of messages that are received simultaneously from the Service Bus Queue or a topic.</span></span> <span data-ttu-id="7ab95-148">プリフェッチにより、キューまたはサブスクリプション クライアントは、受信操作を実行するときにサービスから追加のメッセージを読み込むことができます。</span><span class="sxs-lookup"><span data-stu-id="7ab95-148">Prefetching enables the queue or subscription client to load additional messages from the service when it performs a receive operation.</span></span> <span data-ttu-id="7ab95-149">クライアントはこれらのメッセージをローカル キャッシュに格納します。</span><span class="sxs-lookup"><span data-stu-id="7ab95-149">The client stores these messages in a local cache.</span></span> <span data-ttu-id="7ab95-150">キャッシュのサイズは、ここで指定する [プリフェッチ数] プロパティの値によって決まります。</span><span class="sxs-lookup"><span data-stu-id="7ab95-150">The size of the cache is determined by the value for the Prefetch Count property you specify here.</span></span><br /><br /> <span data-ttu-id="7ab95-151">詳細については、セクションを参照してください「プリフェッチ」 [https://azure.microsoft.com/documentation/articles/service-bus-performance-improvements/](https://azure.microsoft.com/documentation/articles/service-bus-performance-improvements/)</span><span class="sxs-lookup"><span data-stu-id="7ab95-151">For more information, refer to the section “Prefetching” at [https://azure.microsoft.com/documentation/articles/service-bus-performance-improvements/](https://azure.microsoft.com/documentation/articles/service-bus-performance-improvements/)</span></span><br /><br /> <span data-ttu-id="7ab95-152">**既定値:** -1</span><span class="sxs-lookup"><span data-stu-id="7ab95-152">**Default value:** -1</span></span>|  
    |<span data-ttu-id="7ab95-153">**セッションを使用します。**</span><span class="sxs-lookup"><span data-stu-id="7ab95-153">**Use Session**</span></span>|<span data-ttu-id="7ab95-154">Service Bus セッションを使用してキューまたはサブスクリプションからメッセージを受信する場合は、このチェック ボックスをオンにします。</span><span class="sxs-lookup"><span data-stu-id="7ab95-154">Select this check box to use a Service Bus session to receive messages from a queue or a subscription.</span></span>|  
  
6.  <span data-ttu-id="7ab95-155">**認証** タブで、次の操作します。</span><span class="sxs-lookup"><span data-stu-id="7ab95-155">In the **Authentication** tab, do the following:</span></span>  
  
    |<span data-ttu-id="7ab95-156">プロパティ</span><span class="sxs-lookup"><span data-stu-id="7ab95-156">Use this</span></span>|<span data-ttu-id="7ab95-157">目的</span><span class="sxs-lookup"><span data-stu-id="7ab95-157">To do this</span></span>|  
    |--------------|----------------|  
    |<span data-ttu-id="7ab95-158">**アクセス制御サービス**</span><span class="sxs-lookup"><span data-stu-id="7ab95-158">**Access Control Service**</span></span>|<span data-ttu-id="7ab95-159">認証に ACS を使用するにはこれを選択して次の値を指定します:</span><span class="sxs-lookup"><span data-stu-id="7ab95-159">Select this to use ACS for authentication and provide the following values:</span></span><br /><br /> <span data-ttu-id="7ab95-160">Service Bus アクセス制御サービス STS URI を入力します。</span><span class="sxs-lookup"><span data-stu-id="7ab95-160">- Enter the Service Bus Access Control Service STS URI.</span></span> <span data-ttu-id="7ab95-161">通常、URI は次のような形式になっています。</span><span class="sxs-lookup"><span data-stu-id="7ab95-161">Typically the URI is in the following format:</span></span><br /><br /> `https://<namespace>-sb.accesscontrol.windows.net/`<br /><br /> <span data-ttu-id="7ab95-162">Service Bus 名前空間の発行者名を入力します。</span><span class="sxs-lookup"><span data-stu-id="7ab95-162">- Enter the issuer name for the Service Bus namespace.</span></span><br /><br /> <span data-ttu-id="7ab95-163">Service Bus 名前空間の発行者キーを入力します。</span><span class="sxs-lookup"><span data-stu-id="7ab95-163">- Enter the issuer key for the Service Bus namespace.</span></span>|  
    |<span data-ttu-id="7ab95-164">**Shared Access Signature** (で始まる新しい[!INCLUDE[bts2013r2_md](../includes/bts2013r2-md.md)])</span><span class="sxs-lookup"><span data-stu-id="7ab95-164">**Shared Access Signature** (new starting with [!INCLUDE[bts2013r2_md](../includes/bts2013r2-md.md)])</span></span>|<span data-ttu-id="7ab95-165">認証に Shared Access Signature (SAS) を使用する場合はこれを選択し、SAS キーの名前とキーの値を指定します。</span><span class="sxs-lookup"><span data-stu-id="7ab95-165">Select this to use Shared Access Signature (SAS) for authentication, and provide the SAS key name and key value.</span></span>|  
  
7.  <span data-ttu-id="7ab95-166">**プロパティ** タブで、**ブローカー メッセージのプロパティの Namespace**フィールドに、アダプターのメッセージ コンテキスト プロパティとしてブローカー メッセージのプロパティを作成に使用する名前空間を指定受信したメッセージ[!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)]です。</span><span class="sxs-lookup"><span data-stu-id="7ab95-166">In the **Properties** tab, in the **Namespace for Brokered Message Properties** field, specify the namespace that the adapter uses to write the brokered message properties as message context properties on the message received by [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)].</span></span> <span data-ttu-id="7ab95-167">さらに、仲介型メッセージのプロパティを昇格する場合は、選択、**仲介型メッセージ プロパティの昇格**チェック ボックスをオンします。</span><span class="sxs-lookup"><span data-stu-id="7ab95-167">Additionally, if you want to promote the brokered message properties, select the **Promote Brokered Message Properties** check box.</span></span>  
  
8.  <span data-ttu-id="7ab95-168">**[OK]**をクリックします。</span><span class="sxs-lookup"><span data-stu-id="7ab95-168">Click **OK**.</span></span>  
  
9. <span data-ttu-id="7ab95-169">[ **受信場所のプロパティ** ] ダイアログ ボックスで、受信場所を構成するための適切な値を入力し、[ **OK** ] をクリックして設定を保存します。</span><span class="sxs-lookup"><span data-stu-id="7ab95-169">Enter the appropriate values in the **Receive Location Properties** dialog box to complete the configuration of the receive location and click **OK** to save settings.</span></span> <span data-ttu-id="7ab95-170">については、**受信場所のプロパティ**ダイアログ ボックスを参照してください[受信場所を作成する方法](../core/how-to-create-a-receive-location.md)です。</span><span class="sxs-lookup"><span data-stu-id="7ab95-170">For information about the **Receive Locations Properties** dialog box, see [How to Create a Receive Location](../core/how-to-create-a-receive-location.md).</span></span>  
  
## <a name="send-messages-to-service-bus"></a><span data-ttu-id="7ab95-171">Service Bus にメッセージを送信します。</span><span class="sxs-lookup"><span data-stu-id="7ab95-171">Send messages to Service Bus</span></span>
<span data-ttu-id="7ab95-172">このセクションで構成する方法に関する情報を提供する、 **Sb-messaging**送信ポートを使用して、[!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)]管理コンソールです。</span><span class="sxs-lookup"><span data-stu-id="7ab95-172">This section provides information on how to configure an **SB-Messaging** send port using the [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] Administration Console.</span></span>  
  
1.  <span data-ttu-id="7ab95-173">BizTalk Server 管理コンソールで、新しい送信ポートを作成または変更する既存の送信ポートをダブルクリックします。</span><span class="sxs-lookup"><span data-stu-id="7ab95-173">In the BizTalk Server Administration console, create a new send port or double-click an existing send port to modify it.</span></span> <span data-ttu-id="7ab95-174">詳細については、次を参照してください。[送信ポートを作成する方法](../core/how-to-create-a-send-port2.md)です。</span><span class="sxs-lookup"><span data-stu-id="7ab95-174">For more information, see [How to Create a Send Port](../core/how-to-create-a-send-port2.md).</span></span> <span data-ttu-id="7ab95-175">すべての送信ポートのオプションを構成し、指定**Sb-messaging**の**型**オプション、**トランスポート**のセクションで、**全般**タブ</span><span class="sxs-lookup"><span data-stu-id="7ab95-175">Configure all of the send port options and specify **SB-Messaging** for the **Type** option in the **Transport** section of the **General** tab.</span></span>  
  
2.  <span data-ttu-id="7ab95-176">**全般**] タブの [、**トランスポート**セクションで、をクリックして、**構成**ボタンをクリックします。</span><span class="sxs-lookup"><span data-stu-id="7ab95-176">On the **General** tab, in the **Transport** section, click the **Configure** button.</span></span>  
  
3.  <span data-ttu-id="7ab95-177">**Sb-messaging トランスポートのプロパティ** ダイアログ ボックスで、**全般** タブで、次の指定します。</span><span class="sxs-lookup"><span data-stu-id="7ab95-177">In the **SB-Messaging Transport Properties** dialog box, on the **General** tab, specify the following:</span></span>  
  
    |<span data-ttu-id="7ab95-178">プロパティ</span><span class="sxs-lookup"><span data-stu-id="7ab95-178">Use this</span></span>|<span data-ttu-id="7ab95-179">目的</span><span class="sxs-lookup"><span data-stu-id="7ab95-179">To do this</span></span>|  
    |--------------|----------------|  
    |<span data-ttu-id="7ab95-180">**送信先 URL**</span><span class="sxs-lookup"><span data-stu-id="7ab95-180">**Destination URL**</span></span>|<span data-ttu-id="7ab95-181">Service Bus キューが配置されている URL を入力します。</span><span class="sxs-lookup"><span data-stu-id="7ab95-181">Enter the URL where the Service Bus queue is deployed.</span></span> <span data-ttu-id="7ab95-182">通常、URL は次のような形式になっています。</span><span class="sxs-lookup"><span data-stu-id="7ab95-182">Typically the URL is in the following format:</span></span><br /><br /> `sb://<namespace>.servicebus.windows.net/<queue_name>`|  
    |<span data-ttu-id="7ab95-183">**バッチのフラッシュ間隔**</span><span class="sxs-lookup"><span data-stu-id="7ab95-183">**Batch Flush Interval**</span></span>|<span data-ttu-id="7ab95-184">キューまたはトピックに送られたメッセージ バッチがフラッシュされる間隔を示す期間値を指定します。</span><span class="sxs-lookup"><span data-stu-id="7ab95-184">Specifies a time span value that indicates the interval when the message batches being sent to a Queue or a Topic are flushed.</span></span> <span data-ttu-id="7ab95-185">既定値は、20 ミリ秒です。</span><span class="sxs-lookup"><span data-stu-id="7ab95-185">The default value is 20 milliseconds.</span></span><br /><br /> <span data-ttu-id="7ab95-186">Service Bus キューおよびトピックに関するバッチ処理の詳細については、次を参照してください。、**クライアント側のバッチ処理**セクションで[https://azure.microsoft.com/documentation/articles/service-bus-performance-improvements](https://azure.microsoft.com/documentation/articles/service-bus-performance-improvements)です。</span><span class="sxs-lookup"><span data-stu-id="7ab95-186">For more information about batching with respect to Service Bus Queues and Topics, see the **Client-side batching** section at [https://azure.microsoft.com/documentation/articles/service-bus-performance-improvements](https://azure.microsoft.com/documentation/articles/service-bus-performance-improvements).</span></span>|  
    |<span data-ttu-id="7ab95-187">**オープン タイムアウト**</span><span class="sxs-lookup"><span data-stu-id="7ab95-187">**Open Timeout**</span></span>|<span data-ttu-id="7ab95-188">チャネルを開く操作が完了するまでの時間を示す期間値を指定します。</span><span class="sxs-lookup"><span data-stu-id="7ab95-188">Specifies a time span value that indicates the time for a channel open operation to complete.</span></span><br /><br /> <span data-ttu-id="7ab95-189">**既定値:** 1 分</span><span class="sxs-lookup"><span data-stu-id="7ab95-189">**Default value:** 1 minute</span></span>|  
    |<span data-ttu-id="7ab95-190">**送信タイムアウト**</span><span class="sxs-lookup"><span data-stu-id="7ab95-190">**Send Timeout**</span></span>|<span data-ttu-id="7ab95-191">送信操作が完了するまでの時間を示す期間値を指定します。</span><span class="sxs-lookup"><span data-stu-id="7ab95-191">Specifies a time span value that indicates the time for a send operation to complete.</span></span><br /><br /> <span data-ttu-id="7ab95-192">**既定値:** 1 分</span><span class="sxs-lookup"><span data-stu-id="7ab95-192">**Default value:** 1 minute</span></span>|  
    |<span data-ttu-id="7ab95-193">**クローズ タイムアウト**</span><span class="sxs-lookup"><span data-stu-id="7ab95-193">**Close Timeout**</span></span>|<span data-ttu-id="7ab95-194">チャネルを閉じる操作が完了するまでの時間を示す期間値を指定します。</span><span class="sxs-lookup"><span data-stu-id="7ab95-194">Specifies a time span value that indicates the time for a channel close operation to complete.</span></span><br /><br /> <span data-ttu-id="7ab95-195">**既定値:** 1 分</span><span class="sxs-lookup"><span data-stu-id="7ab95-195">**Default value:** 1 minute</span></span>|  
  
4.  <span data-ttu-id="7ab95-196">**認証** タブで、次の操作します。</span><span class="sxs-lookup"><span data-stu-id="7ab95-196">In the **Authentication** tab, do the following:</span></span>  
  
    |<span data-ttu-id="7ab95-197">プロパティ</span><span class="sxs-lookup"><span data-stu-id="7ab95-197">Use this</span></span>|<span data-ttu-id="7ab95-198">目的</span><span class="sxs-lookup"><span data-stu-id="7ab95-198">To do this</span></span>|  
    |--------------|----------------|  
    |<span data-ttu-id="7ab95-199">**アクセス制御サービス**</span><span class="sxs-lookup"><span data-stu-id="7ab95-199">**Access Control Service**</span></span>|<span data-ttu-id="7ab95-200">認証に ACS を使用するにはこれを選択して次の値を指定します:</span><span class="sxs-lookup"><span data-stu-id="7ab95-200">Select this to use ACS for authentication and provide the following values:</span></span><br /><br /> <span data-ttu-id="7ab95-201">Service Bus アクセス制御サービス STS URI を入力します。</span><span class="sxs-lookup"><span data-stu-id="7ab95-201">- Enter the Service Bus Access Control Service STS URI.</span></span> <span data-ttu-id="7ab95-202">通常、URI は次のような形式になっています。</span><span class="sxs-lookup"><span data-stu-id="7ab95-202">Typically the URI is in the following format:</span></span><br /><br /> `https://<namespace>-sb.accesscontrol.windows.net/`<br /><br /> <span data-ttu-id="7ab95-203">Service Bus 名前空間の発行者名を入力します。</span><span class="sxs-lookup"><span data-stu-id="7ab95-203">- Enter the issuer name for the Service Bus namespace.</span></span><br /><br /> <span data-ttu-id="7ab95-204">Service Bus 名前空間の発行者キーを入力します。</span><span class="sxs-lookup"><span data-stu-id="7ab95-204">- Enter the issuer key for the Service Bus namespace.</span></span>|  
    |<span data-ttu-id="7ab95-205">**Shared Access Signature** (で始まる新しい[!INCLUDE[bts2013r2_md](../includes/bts2013r2-md.md)])</span><span class="sxs-lookup"><span data-stu-id="7ab95-205">**Shared Access Signature** (new starting with [!INCLUDE[bts2013r2_md](../includes/bts2013r2-md.md)])</span></span>|<span data-ttu-id="7ab95-206">認証に Shared Access Signature (SAS) を使用する場合はこれを選択し、SAS キーの名前とキーの値を指定します。</span><span class="sxs-lookup"><span data-stu-id="7ab95-206">Select this to use Shared Access Signature (SAS) for authentication, and provide the SAS key name and key value.</span></span>|  
  
5.  <span data-ttu-id="7ab95-207">**プロパティ**] タブの [、 **Namespace のユーザーには、ブローカー メッセージのプロパティが定義されている**フィールドに、として記述する BizTalk メッセージ コンテキスト プロパティを含む名前空間の指定ユーザー定義ブローカー メッセージのプロパティ、Service Bus キューに送る送信メッセージにします。</span><span class="sxs-lookup"><span data-stu-id="7ab95-207">In the **Properties** tab, in the **Namespace for the user defined Brokered Message Properties** field, specify the namespace that contains the BizTalk message context properties that you want to write as user-defined Brokered Message properties on the outgoing message sent to the Service Bus Queue.</span></span> <span data-ttu-id="7ab95-208">この名前空間に属しているすべてのプロパティは、ユーザー定義ブローカー メッセージのプロパティとしてメッセージに書き込まれます。</span><span class="sxs-lookup"><span data-stu-id="7ab95-208">All the properties that belong to the namespace are written to the message as user-defined Brokered Message properties.</span></span> <span data-ttu-id="7ab95-209">アダプターは、プロパティをブローカー メッセージのプロパティとして書き込むときに、この名前空間を無視します。</span><span class="sxs-lookup"><span data-stu-id="7ab95-209">The adapter ignores the namespace while writing the properties as Brokered Message properties.</span></span> <span data-ttu-id="7ab95-210">この名前空間は、書き込むプロパティを確認するためにのみ使用されます。</span><span class="sxs-lookup"><span data-stu-id="7ab95-210">It uses the namespace only to ascertain what properties to write.</span></span>  
  
     <span data-ttu-id="7ab95-211">BrokeredMessage プロパティの値を指定することもできます。</span><span class="sxs-lookup"><span data-stu-id="7ab95-211">You can also specify the values for the BrokeredMessage properties.</span></span> <span data-ttu-id="7ab95-212">プロパティの詳細については、次を参照してください。 [BrokeredMessage プロパティ](https://msdn.microsoft.com/library/azure/microsoft.servicebus.messaging.brokeredmessage_properties.aspx)です。</span><span class="sxs-lookup"><span data-stu-id="7ab95-212">For more information about the properties, see [BrokeredMessage Properties](https://msdn.microsoft.com/library/azure/microsoft.servicebus.messaging.brokeredmessage_properties.aspx).</span></span>  
  
6.  <span data-ttu-id="7ab95-213">をクリックして**[ok]**と**OK**もう一度設定を保存します。</span><span class="sxs-lookup"><span data-stu-id="7ab95-213">Click **OK** and **OK** again to save settings.</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="7ab95-214">参照</span><span class="sxs-lookup"><span data-stu-id="7ab95-214">See also</span></span>
[<span data-ttu-id="7ab95-215">アダプターを使用します。</span><span class="sxs-lookup"><span data-stu-id="7ab95-215">Using adapters</span></span>](../core/using-adapters.md)