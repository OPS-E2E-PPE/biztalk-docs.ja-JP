---
title: "EDI 逆アセンブラーの動作 |Microsoft ドキュメント"
ms.custom: 
ms.date: 06/08/2017
ms.prod: biztalk-server
ms.reviewer: 
ms.suite: 
ms.tgt_pltfrm: 
ms.topic: article
ms.assetid: 8da91ba4-e1c9-4e6b-bbd1-fe71ea880118
caps.latest.revision: "43"
author: MandiOhlinger
ms.author: mandia
manager: anneta
ms.openlocfilehash: 66f47db034e0c193d4dab6ee303c13dd8c360661
ms.sourcegitcommit: cb908c540d8f1a692d01dc8f313e16cb4b4e696d
ms.translationtype: MT
ms.contentlocale: ja-JP
ms.lasthandoff: 09/20/2017
---
# <a name="how-the-edi-disassembler-works"></a><span data-ttu-id="d9428-102">EDI 逆アセンブラーの動作</span><span class="sxs-lookup"><span data-stu-id="d9428-102">How the EDI Disassembler Works</span></span>
[!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)]<span data-ttu-id="d9428-103"> では、EDI 受信パイプライン (`Microsoft.BizTalk.DefaultPipelines.EDIReceivePipeline`) において、受信した EDI エンコード インターチェンジの処理の大部分を行います。</span><span class="sxs-lookup"><span data-stu-id="d9428-103"> performs most processing for received EDI-encoded interchanges in the EDI Receive Pipeline (`Microsoft.BizTalk.DefaultPipelines.EDIReceivePipeline`).</span></span> <span data-ttu-id="d9428-104">このパイプラインには、次の処理を行う EDI 逆アセンブラ パイプライン コンポーネントが含まれています。</span><span class="sxs-lookup"><span data-stu-id="d9428-104">This pipeline includes the EDI disassembler pipeline component, which performs the following processing:</span></span>  
  
-   <span data-ttu-id="d9428-105">1 つのメッセージ内の複数のインターチェンジを別々のインターチェンジに分割します (受信場所の "DetectMID" パイプライン プロパティが True に設定されている場合)。</span><span class="sxs-lookup"><span data-stu-id="d9428-105">Splits multiple interchanges in a single message into separate interchanges (if the "DetectMID" pipeline property for the receive location is set to True).</span></span> <span data-ttu-id="d9428-106">EDI 逆アセンブラは、インターチェンジ制御トレーラ (IEA または UNZ) が発生した後でも、インターチェンジ制御ヘッダー (ISA、UNA、または UNB) を検索してこの処理を行います。</span><span class="sxs-lookup"><span data-stu-id="d9428-106">The EDI Disassembler does so by searching for an interchange control header (ISA, UNA, or UNB) even after an interchange control trailer (IEA or UNZ) has been encountered.</span></span>  
  
-   <span data-ttu-id="d9428-107">エンベロープを検証します。</span><span class="sxs-lookup"><span data-stu-id="d9428-107">Validates the envelope.</span></span>  
  
-   <span data-ttu-id="d9428-108">インターチェンジを逆アセンブルします。</span><span class="sxs-lookup"><span data-stu-id="d9428-108">Disassembles the interchange.</span></span>  
  
-   <span data-ttu-id="d9428-109">HIPAA インターチェンジのトリガー フィールドを処理します。</span><span class="sxs-lookup"><span data-stu-id="d9428-109">Processes trigger fields for HIPAA interchanges.</span></span>  
  
-   <span data-ttu-id="d9428-110">EDI およびパートナー固有のプロパティを必要に応じて検証します。</span><span class="sxs-lookup"><span data-stu-id="d9428-110">Validates EDI and partner-specific properties, as applicable.</span></span> <span data-ttu-id="d9428-111">これには、EDI スキーマ検証、X12 エンコード メッセージ (構成されている場合) のクロスフィールド検証、EDI 構造検証、および拡張スキーマ検証 (非 EDI データ型を持つノードでスキーマがカスタマイズされている場合) が含まれます。</span><span class="sxs-lookup"><span data-stu-id="d9428-111">This includes EDI schema validation, cross-field validation for X12-encoded messages (if configured), EDI structural validation, and extended schema validation (if the schema was customized with a node that has a non-EDI data type).</span></span> <span data-ttu-id="d9428-112">詳細については、次を参照してください。[受信 EDI メッセージの検証](../core/validation-of-received-edi-messages.md)です。</span><span class="sxs-lookup"><span data-stu-id="d9428-112">For more information, see [Validation of Received EDI Messages](../core/validation-of-received-edi-messages.md).</span></span>  
  
-   <span data-ttu-id="d9428-113">インターチェンジ、グループ、およびトランザクション セット制御番号が複製ではないことを確認のチェックが有効になっている場合、**検証**ページ ([**インターチェンジの設定**) 双方向のアグリーメントのタブの**アグリーメントのプロパティ**] ダイアログ ボックス。</span><span class="sxs-lookup"><span data-stu-id="d9428-113">Verifies that the interchange, group, and transaction set control numbers are not duplicates, if the checks are enabled in the **Validation** page (under **Interchange Settings**) of the bi-directional agreement tab of the **Agreement Properties** dialog box.</span></span> <span data-ttu-id="d9428-114">インターチェンジ制御番号を、以前に受信したインターチェンジと比較して確認します。</span><span class="sxs-lookup"><span data-stu-id="d9428-114">Check the interchange control number against previously received interchanges.</span></span> <span data-ttu-id="d9428-115">グループ制御番号を、インターチェンジの他のグループ制御番号と比較して確認します。</span><span class="sxs-lookup"><span data-stu-id="d9428-115">Checks the group control number against other group control numbers in the interchange.</span></span> <span data-ttu-id="d9428-116">トランザクション セット制御番号を、そのグループの他のトランザクション セット制御番号と比較して確認します。</span><span class="sxs-lookup"><span data-stu-id="d9428-116">Checks the transaction set control number against other transaction set control numbers in that group.</span></span> <span data-ttu-id="d9428-117">重複が見つかった場合は、重複レコードが存在することが状態レポートに記載されます。</span><span class="sxs-lookup"><span data-stu-id="d9428-117">If a duplicate is discovered, the status report will indicate that a duplicate record exists.</span></span>  
  
-   <span data-ttu-id="d9428-118">トランザクション セットごとに XML ドキュメントを生成します。</span><span class="sxs-lookup"><span data-stu-id="d9428-118">Generates an XML document for each transaction set.</span></span> <span data-ttu-id="d9428-119">各 XML ファイルで BTS.MessageType のコンテキスト プロパティを昇格させ、名前空間を持つスキーマ名に設定します。</span><span class="sxs-lookup"><span data-stu-id="d9428-119">On each XML file, promotes the context property of BTS.MessageType, setting it to the schema name with namespace.</span></span>  
  
-   <span data-ttu-id="d9428-120">場合は、インターチェンジ全体を XML に変換します。、**受信バッチ処理オプション**プロパティは、2 つのいずれかに設定**インターチェンジの保存**値。</span><span class="sxs-lookup"><span data-stu-id="d9428-120">Converts the entire interchange to XML if the **Inbound batch processing option** property is set to one of the two **Preserve Interchange** values.</span></span> <span data-ttu-id="d9428-121">このプロパティに設定されて、**ローカル ホスト設定**ページで、[**インターチェンジの設定**の双方向アグリーメント タブの**アグリーメントのプロパティ**] ダイアログ ボックス。</span><span class="sxs-lookup"><span data-stu-id="d9428-121">This property can is set from the **Local Host Settings** page under **Interchange Settings** of the bi-directional agreement tab of the **Agreement Properties** dialog box.</span></span> <span data-ttu-id="d9428-122">受信パイプラインは、インターチェンジを保存済みとして識別するために、プロパティ ReuseEnvelope を昇格させます。</span><span class="sxs-lookup"><span data-stu-id="d9428-122">The receive pipeline promotes the property ReuseEnvelope to identify the interchange as preserved.</span></span>  
  
-   <span data-ttu-id="d9428-123">技術確認または機能確認を生成します (構成されている場合)。</span><span class="sxs-lookup"><span data-stu-id="d9428-123">Generates a Technical and/or Functional acknowledgment (if configured).</span></span> <span data-ttu-id="d9428-124">これには確認のバッチ処理も含まれます (構成されている場合)。</span><span class="sxs-lookup"><span data-stu-id="d9428-124">This can include batching the acknowledgments (if configured).</span></span> <span data-ttu-id="d9428-125">BTS のコンテキスト プロパティを昇格させます。MessageType を設定すると、http://schemas.microsoft.com/EDI/ 内の制御スキーマに一致する\<X12 または EDIFACT > 名前空間 (たとえば、997 受信確認の x12_997_root など)。</span><span class="sxs-lookup"><span data-stu-id="d9428-125">Promotes the context property of BTS.MessageType, setting it equal to the control schema in the http://schemas.microsoft.com/EDI/\<X12 or EDIFACT> namespace (for example, X12_997_Root for a 997 acknowledgment).</span></span> <span data-ttu-id="d9428-126">また、EDI.DestinationPartyName コンテキスト プロパティを昇格させて、送信時に確認が確実に取得されるようにします。</span><span class="sxs-lookup"><span data-stu-id="d9428-126">Also promotes the EDI.DestinationPartyName context property, which ensures that the acknowledgment will be picked up for sending.</span></span> <span data-ttu-id="d9428-127">詳細については、次を参照してください。 [EDI 受信確認を送信する](../core/sending-an-edi-acknowledgment.md)です。</span><span class="sxs-lookup"><span data-stu-id="d9428-127">For more information, see [Sending an EDI Acknowledgment](../core/sending-an-edi-acknowledgment.md).</span></span>  
  
-   <span data-ttu-id="d9428-128">必要に応じて、HIPAA 276/277 (バージョン 5010 のみ) 834、835 (バージョン 4010 のみ)、および 837 ドキュメントの分割を実行します。</span><span class="sxs-lookup"><span data-stu-id="d9428-128">Performs HIPAA 276/277 (version 5010 only) 834, 835 (version 4010 only) and 837 document splitting, if applicable.</span></span>  
  
-   <span data-ttu-id="d9428-129">プロパティをメッセージ コンテキストに昇格させるか、または書き込みます (次のセクションを参照)。</span><span class="sxs-lookup"><span data-stu-id="d9428-129">Promotes or writes properties to the message context (see next section).</span></span>  
  
## <a name="promoting-or-writing-properties-to-the-context"></a><span data-ttu-id="d9428-130">コンテキストへのプロパティの昇格または書き込み</span><span class="sxs-lookup"><span data-stu-id="d9428-130">Promoting or Writing Properties to the Context</span></span>  
 <span data-ttu-id="d9428-131">EDI 逆アセンブラが受信メッセージを処理する場合、次のプロパティがメッセージ コンテキストに昇格されるか、または書き込まれます。</span><span class="sxs-lookup"><span data-stu-id="d9428-131">When the EDI Disassembler processes a received message, it promotes or writes the following properties to the message context:</span></span>  
  
-   <span data-ttu-id="d9428-132">X12 エンコードのバッチ処理されていないメッセージのエンベロープから、次のプロパティを昇格させます: ISA06、ISA08、ISA15、。GS01、GS02、GS03、GS08、ST03、および ST01 です。</span><span class="sxs-lookup"><span data-stu-id="d9428-132">For an X12-encoded unbatched message, promotes the following properties from the envelope: ISA06, ISA08, ISA15; GS01, GS02, GS03, GS08; ST03 and ST01.</span></span>  
  
    > [!NOTE]
    >  <span data-ttu-id="d9428-133">受信した HIPAA 837 インターチェンジ、 [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] 3 つの HIPAA 837 スキーマをサポートしています: claim-dental_837d、claim-institutional_837i、および claim-professional_837p です。</span><span class="sxs-lookup"><span data-stu-id="d9428-133">For an incoming HIPAA 837 interchange, [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] supports three HIPAA 837 schemas: Claim-Dental_837D, Claim-Institutional_837I, and Claim-Professional_837P.</span></span> <span data-ttu-id="d9428-134">これらのそれぞれの ST01 は「837」です。これら 3 つのスキーマでは、GS08 の異なる値を持つバージョン 5010 で: 837I、837 d、"005010X224A1"、および 837 P. 用の"005010 X 222"の"005010X223A1"</span><span class="sxs-lookup"><span data-stu-id="d9428-134">The ST01 for each of these is “837".These three schemas have different values for GS08 in version 5010: "005010X223A1" for 837I, "005010X224A1" for 837D, and "005010X222" for 837P.</span></span> <span data-ttu-id="d9428-135">スキーマでは、GS08 の異なる値を持つバージョン 4010:"004010X096A1"837I、837 d、"004010X097A1"、"004010X098A1"837 P. の</span><span class="sxs-lookup"><span data-stu-id="d9428-135">The schemas have different values for GS08 in version 4010: "004010X096A1" for 837I, "004010X097A1" for 837D, and "004010X098A1" for 837P.</span></span>  
  
-   <span data-ttu-id="d9428-136">EDIFACT エンコードのバッチ処理されていないメッセージのエンベロープから、次のプロパティを昇格します。 UNB2.1、UNB2.3、UNB3.1、UNB11 です。UNG1、UNG2.1、UNG3.1 です。UNH2.1、UNH2.2、UNH2.3 です。</span><span class="sxs-lookup"><span data-stu-id="d9428-136">For an EDIFACT-encoded unbatched message, promotes the following properties from the envelope: UNB2.1, UNB2.3, UNB3.1, UNB11; UNG1, UNG2.1, UNG3.1; UNH2.1, UNH2.2, UNH2.3.</span></span>  
  
-   <span data-ttu-id="d9428-137">バッチ処理されたインターチェンジが分割されている場合は、X12 でエンコードされたメッセージのコンテキストに ISA_Segment と GS_Segment が書き込まれ、EDIFACT でエンコードされたメッセージのコンテキストに UNA_Segment、UNB_Segment、および UNG_Segment が書き込まれます。</span><span class="sxs-lookup"><span data-stu-id="d9428-137">If a batched interchange is split, writes ISA_Segment and GS_Segment to the context for X12-encoded messages, or writes UNA_Segment, UNB_Segment, and UNG_Segment to the context for EDIFACT-encoded messages.</span></span>  
  
    > [!NOTE]
    >  <span data-ttu-id="d9428-138">上記のセグメントはコンテキストに書き込まれます。</span><span class="sxs-lookup"><span data-stu-id="d9428-138">The above segments are written to the context.</span></span> <span data-ttu-id="d9428-139">コンテキストへの昇格は行われません。</span><span class="sxs-lookup"><span data-stu-id="d9428-139">They are not promoted to the context.</span></span> <span data-ttu-id="d9428-140">ただし、メッセージ強化サンプルを使用して、これらのセグメントをトランザクション セットに追加することは可能です。</span><span class="sxs-lookup"><span data-stu-id="d9428-140">You can, however, append these segments to a transaction set using the Message Enrichment sample.</span></span> <span data-ttu-id="d9428-141">または、サンプルを付加するコードを使用して、カスタム パイプライン コンポーネントに追加することもできます。</span><span class="sxs-lookup"><span data-stu-id="d9428-141">You can also take the code that appends the samples and add it to a custom pipeline component.</span></span> <span data-ttu-id="d9428-142">詳細については、次を参照してください。[メッセージ強化サンプル (BizTalk Server サンプル)](../core/message-enrichment-sample-biztalk-server-sample.md)です。</span><span class="sxs-lookup"><span data-stu-id="d9428-142">For more information, see [Message Enrichment Sample (BizTalk Server Sample)](../core/message-enrichment-sample-biztalk-server-sample.md).</span></span>  
  
    > [!NOTE]
    >  <span data-ttu-id="d9428-143">昇格された ISA_Segment プロパティには、情報の漏えいにつながる可能性のあるセキュリティ/認証情報 (ISA02 の認証情報と ISA04 のセキュリティ情報) が含まれています。</span><span class="sxs-lookup"><span data-stu-id="d9428-143">The ISA_Segment promoted property contains security/authorization information (ISA02, Authorization Information, and ISA04, Security Information) that may lead to information disclosure.</span></span> <span data-ttu-id="d9428-144">使用することができます、**コンテキスト プロパティでセキュリティ/認証/パスワード情報のプロパティをマスク**(で**ローカル ホスト設定**ページ**インターチェンジの設定**の双方向アグリーメントのプロパティ) に、ISA02 フィールドと ISA04 フィールドの各文字を '#' 文字に置き換えます。</span><span class="sxs-lookup"><span data-stu-id="d9428-144">You can use the **Mask security/authorization/password information property in context property** (in **Local Host Settings** page for **Interchange Settings** for bi-directional agreement properties) to replace the each character in the ISA02 and ISA04 fields with a ‘#’ character.</span></span> <span data-ttu-id="d9428-145">これは、一方向の処理: '#' 文字は、実際の文字に変換されることはできません。</span><span class="sxs-lookup"><span data-stu-id="d9428-145">This is a one-way process: the ‘#’ characters cannot be converted to actual characters.</span></span>  
  
-   <span data-ttu-id="d9428-146">X12 でエンコードされたメッセージと EDIFACT でエンコードされたメッセージでは、ReuseEnvelope が昇格されます。これは、バッチ処理されたインターチェンジを分割するか保存するかを示します。</span><span class="sxs-lookup"><span data-stu-id="d9428-146">For X12- and EDIFACT-encoded messages, promotes ReuseEnvelope, which indicates whether a batched interchange is split or preserved.</span></span>  
  
-   <span data-ttu-id="d9428-147">バッチ インターチェンジを保存する場合は、次のプロパティを昇格します。</span><span class="sxs-lookup"><span data-stu-id="d9428-147">If a batched interchange is preserved, promotes the following properties:</span></span>  
  
    -   <span data-ttu-id="d9428-148">InboundTransportatLocation</span><span class="sxs-lookup"><span data-stu-id="d9428-148">InboundTransportatLocation</span></span>  
  
    -   <span data-ttu-id="d9428-149">InboundTransportType</span><span class="sxs-lookup"><span data-stu-id="d9428-149">InboundTransportType</span></span>  
  
    -   <span data-ttu-id="d9428-150">ISA05</span><span class="sxs-lookup"><span data-stu-id="d9428-150">ISA05</span></span>  
  
    -   <span data-ttu-id="d9428-151">ISA07</span><span class="sxs-lookup"><span data-stu-id="d9428-151">ISA07</span></span>  
  
    -   <span data-ttu-id="d9428-152">ISA06</span><span class="sxs-lookup"><span data-stu-id="d9428-152">ISA06</span></span>  
  
    -   <span data-ttu-id="d9428-153">ISA08</span><span class="sxs-lookup"><span data-stu-id="d9428-153">ISA08</span></span>  
  
    -   <span data-ttu-id="d9428-154">ISA15</span><span class="sxs-lookup"><span data-stu-id="d9428-154">ISA15</span></span>  
  
    -   <span data-ttu-id="d9428-155">LastInterchangeMessage = {True &#124;です。False}</span><span class="sxs-lookup"><span data-stu-id="d9428-155">LastInterchangeMessage = {True&#124;False}</span></span>  
  
    -   <span data-ttu-id="d9428-156">[MessageType]</span><span class="sxs-lookup"><span data-stu-id="d9428-156">MessageType</span></span>  
  
    -   <span data-ttu-id="d9428-157">ReceivePortID</span><span class="sxs-lookup"><span data-stu-id="d9428-157">ReceivePortID</span></span>  
  
    -   <span data-ttu-id="d9428-158">ReceivePortName</span><span class="sxs-lookup"><span data-stu-id="d9428-158">ReceivePortName</span></span>  
  
    -   <span data-ttu-id="d9428-159">ReuseEnvelope</span><span class="sxs-lookup"><span data-stu-id="d9428-159">ReuseEnvelope</span></span>  
  
## <a name="parsing-the-envelope"></a><span data-ttu-id="d9428-160">エンベロープの解析</span><span class="sxs-lookup"><span data-stu-id="d9428-160">Parsing the Envelope</span></span>  
 <span data-ttu-id="d9428-161">EDI 受信パイプラインは、ヘッダー制御スキーマを使用して、受信した EDI メッセージのエンベロープを解析し、EDI ドキュメント スキーマを使用して、インターチェンジのトランザクション セット/メッセージを解析します。</span><span class="sxs-lookup"><span data-stu-id="d9428-161">The EDI receive pipeline uses the header control schema to parse the envelope of a received EDI message and the EDI document schema to parse the transaction sets/messages in the interchange.</span></span>  
  
 <span data-ttu-id="d9428-162">EDIINT/AS2 でエンコードされたメッセージを HTTP/HTTPS トランスポート経由で受信した場合、EDI 逆アセンブラはコンテキスト プロパティ BTS.MessageDestination を調査します。</span><span class="sxs-lookup"><span data-stu-id="d9428-162">If an EDIINT/AS2-encoded message was received via HTTP/HTTPS transport, the EDI disassembler will inspect the context property BTS.MessageDestination.</span></span> <span data-ttu-id="d9428-163">このプロパティが SuspendQueue に設定されている、つまり AS2 処理でエラーが発生したときにメッセージが保留にされる場合、EDI 逆アセンブラはパススルー パイプライン コンポーネントとして機能し、メッセージ ボックスへのメッセージを保留にします。</span><span class="sxs-lookup"><span data-stu-id="d9428-163">If that property is set to SuspendQueue, indicating that an error occurred in AS2 processing and the message is to be suspended, the EDI disassembler will act as a passthrough pipeline component, and will suspend the message to the MessageBox.</span></span>  
  
 <span data-ttu-id="d9428-164">EDIFACT インターチェンジの解析時、EDI 受信パイプラインは文字のエスケープに使用されるリリース インジケータを削除します。</span><span class="sxs-lookup"><span data-stu-id="d9428-164">During parsing of EDIFACT interchanges, the EDI receive pipeline removes the release indicator used to escape characters.</span></span> <span data-ttu-id="d9428-165">リリース インジケータは EDI 検証には含まれません。</span><span class="sxs-lookup"><span data-stu-id="d9428-165">The release indicator is not included in EDI validation.</span></span> <span data-ttu-id="d9428-166">長さの制限を計算するときには、EDI 受信パイプラインにリリース インジケータは含まれません。</span><span class="sxs-lookup"><span data-stu-id="d9428-166">The EDI receive pipeline does not include the release indicator when it computes length restrictions.</span></span>  
  
 <span data-ttu-id="d9428-167">**文字セット**</span><span class="sxs-lookup"><span data-stu-id="d9428-167">**Character Set**</span></span>  
  
 <span data-ttu-id="d9428-168">X12 インターチェンジの場合、パイプライン コンポーネント プロパティによって、インターチェンジの処理時に EDI 逆アセンブラが使用する文字セットが決まります。</span><span class="sxs-lookup"><span data-stu-id="d9428-168">For X12 interchanges, the Pipeline Component Properties determine the character set that the EDI Disassembler will use when processing the interchange.</span></span> <span data-ttu-id="d9428-169">[基本]、[拡張]、[UTF8/Unicode] のいずれかを使用できます。</span><span class="sxs-lookup"><span data-stu-id="d9428-169">It can Basic, Extended, or UTF8/Unicode.</span></span> <span data-ttu-id="d9428-170">既定値は UTF8 です。EDIFACT インターチェンジの場合、UNB1.1 フィールドによって文字セットが決まります。</span><span class="sxs-lookup"><span data-stu-id="d9428-170">The default value is UTF8 For EDIFACT interchanges, the UNB1.1 field determines the character set.</span></span>  
  
 <span data-ttu-id="d9428-171">**動的区切り記号の検出**</span><span class="sxs-lookup"><span data-stu-id="d9428-171">**Dynamic Separator Discovery**</span></span>  
  
 <span data-ttu-id="d9428-172">[!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] で EDI インターチェンジを受信した場合、インターチェンジの区切り記号を指定するアグリーメント プロパティはありません。</span><span class="sxs-lookup"><span data-stu-id="d9428-172">When [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] receives an EDI interchange, no agreement properties indicate what the separators in the interchange should be.</span></span> <span data-ttu-id="d9428-173">代わりに、EDI 逆アセンブラが実行時に (X12 または EDIFACT の) 区切り記号を検出します。</span><span class="sxs-lookup"><span data-stu-id="d9428-173">Instead, the EDI Disassembler discovers what the delimiters are (for either X12 or EDIFACT) at runtime.</span></span>  
  
 <span data-ttu-id="d9428-174">X12 メッセージでは、EDI 逆アセンブラはインターチェンジ内の次の文字を使用します。</span><span class="sxs-lookup"><span data-stu-id="d9428-174">For X12 messages, the EDI Disassembler uses the following characters from within the interchange:</span></span>  
  
|<span data-ttu-id="d9428-175">[区切り記号]</span><span class="sxs-lookup"><span data-stu-id="d9428-175">Separator</span></span>|<span data-ttu-id="d9428-176">文字</span><span class="sxs-lookup"><span data-stu-id="d9428-176">Character</span></span>|  
|---------------|---------------|  
|<span data-ttu-id="d9428-177">データ要素区切り記号</span><span class="sxs-lookup"><span data-stu-id="d9428-177">Data Element Separator</span></span>|<span data-ttu-id="d9428-178">ISA の 4 番目の文字</span><span class="sxs-lookup"><span data-stu-id="d9428-178">4th character of ISA</span></span>|  
|<span data-ttu-id="d9428-179">コンポーネント要素区切り記号</span><span class="sxs-lookup"><span data-stu-id="d9428-179">Component Element Separator</span></span>|<span data-ttu-id="d9428-180">ISA16</span><span class="sxs-lookup"><span data-stu-id="d9428-180">ISA16</span></span>|  
|<span data-ttu-id="d9428-181">セグメント区切り記号</span><span class="sxs-lookup"><span data-stu-id="d9428-181">Segment Separator</span></span>|<span data-ttu-id="d9428-182">ISA の 106 番目の文字</span><span class="sxs-lookup"><span data-stu-id="d9428-182">106th character of ISA</span></span>|  
|<span data-ttu-id="d9428-183">セグメント終端記号のサフィックス</span><span class="sxs-lookup"><span data-stu-id="d9428-183">Segment Terminator Suffix</span></span>|<span data-ttu-id="d9428-184">ISA セグメントと GS セグメント間の文字</span><span class="sxs-lookup"><span data-stu-id="d9428-184">Character between ISA segment and GS segment</span></span><br /><br /> <span data-ttu-id="d9428-185">**値:**なし、CR、LF、または CRLF**注:**区切り記号が上記の値のみを受け取ることができます。</span><span class="sxs-lookup"><span data-stu-id="d9428-185">**Values:** None, CR, LF, or CRLF **Note:**  The separator can take only the above values.</span></span>|  
|<span data-ttu-id="d9428-186">繰り返し区切り記号または標準識別子</span><span class="sxs-lookup"><span data-stu-id="d9428-186">Repetition Separator or Standard Identifier</span></span><br /><br /> <span data-ttu-id="d9428-187">(上の「ISA11 の使用法」アグリーメント プロパティに応じて、**エンベロープ**双方向アグリーメント タブのページ)</span><span class="sxs-lookup"><span data-stu-id="d9428-187">(depending on the "ISA11 usage" agreement property on the **Envelopes** page of the bi-directional agreement tab)</span></span>|<span data-ttu-id="d9428-188">ISA11</span><span class="sxs-lookup"><span data-stu-id="d9428-188">ISA11</span></span>|  
  
 <span data-ttu-id="d9428-189">EDIFACT インターチェンジでは、EDI 逆アセンブラはインターチェンジの区切り記号を定義する UNA セグメントを確認します。</span><span class="sxs-lookup"><span data-stu-id="d9428-189">For EDIFACT interchanges, the EDI Disassembler checks the UNA segment that defines the separators in the interchange.</span></span> <span data-ttu-id="d9428-190">インターチェンジに UNA セグメント (省略可能) がない場合、逆アセンブラはパイプライン コンポーネント プロパティで定義された既定値を使用します。</span><span class="sxs-lookup"><span data-stu-id="d9428-190">If the interchange does not have a UNA segment, which is optional, the Disassembler will use the default values defined in the pipeline component properties.</span></span>  
  
|<span data-ttu-id="d9428-191">[区切り記号]</span><span class="sxs-lookup"><span data-stu-id="d9428-191">Separator</span></span>|<span data-ttu-id="d9428-192">UNA の文字</span><span class="sxs-lookup"><span data-stu-id="d9428-192">Character of UNA</span></span>|  
|---------------|----------------------|  
|<span data-ttu-id="d9428-193">コンポーネント要素区切り記号</span><span class="sxs-lookup"><span data-stu-id="d9428-193">Component Element Separator</span></span>|<span data-ttu-id="d9428-194">4 番目</span><span class="sxs-lookup"><span data-stu-id="d9428-194">4th</span></span>|  
|<span data-ttu-id="d9428-195">データ要素区切り記号</span><span class="sxs-lookup"><span data-stu-id="d9428-195">Data Element Separator</span></span>|<span data-ttu-id="d9428-196">5 番目</span><span class="sxs-lookup"><span data-stu-id="d9428-196">5th</span></span>|  
|<span data-ttu-id="d9428-197">小数点表記</span><span class="sxs-lookup"><span data-stu-id="d9428-197">Decimal Notation</span></span>|<span data-ttu-id="d9428-198">6 番目</span><span class="sxs-lookup"><span data-stu-id="d9428-198">6th</span></span>|  
|<span data-ttu-id="d9428-199">リリース文字</span><span class="sxs-lookup"><span data-stu-id="d9428-199">Release Character</span></span>|<span data-ttu-id="d9428-200">7 番目</span><span class="sxs-lookup"><span data-stu-id="d9428-200">7th</span></span>|  
|<span data-ttu-id="d9428-201">繰り返し文字</span><span class="sxs-lookup"><span data-stu-id="d9428-201">Repetition Character</span></span>|<span data-ttu-id="d9428-202">8 番目</span><span class="sxs-lookup"><span data-stu-id="d9428-202">8th</span></span>|  
|<span data-ttu-id="d9428-203">セグメント区切り記号</span><span class="sxs-lookup"><span data-stu-id="d9428-203">Segment Separator</span></span>|<span data-ttu-id="d9428-204">9 番目</span><span class="sxs-lookup"><span data-stu-id="d9428-204">9th</span></span>|  
|<span data-ttu-id="d9428-205">セグメント区切り記号のサフィックス</span><span class="sxs-lookup"><span data-stu-id="d9428-205">Segment Separator Suffix</span></span>|<span data-ttu-id="d9428-206">UNA セグメントと UNB セグメント間の文字</span><span class="sxs-lookup"><span data-stu-id="d9428-206">Character between UNA segment and UNB segment</span></span><br /><br /> <span data-ttu-id="d9428-207">**値:**なし、CR、LF、または CRLF**注:**区切り記号が上記の値のみを受け取ることができます。</span><span class="sxs-lookup"><span data-stu-id="d9428-207">**Values:** None, CR, LF, or CRLF **Note:**  The separator can take only the above values.</span></span>|  
  
 <span data-ttu-id="d9428-208">UNA 文字列は省略可能です。</span><span class="sxs-lookup"><span data-stu-id="d9428-208">The UNA string is optional.</span></span> <span data-ttu-id="d9428-209">UNA 文字列がある場合、ファイルのすべての区切り記号が定義されます。</span><span class="sxs-lookup"><span data-stu-id="d9428-209">If it is present, it defined all the delimiters for the file.</span></span> <span data-ttu-id="d9428-210">文字列がない場合、EDI 逆アセンブラは EfactDelimiters パイプライン コンポーネント プロパティを使用して区切り文字を決定します。</span><span class="sxs-lookup"><span data-stu-id="d9428-210">If it is not present, the EDI Disassembler will use the EfactDelimiters pipeline component property to determine the delimiters.</span></span> <span data-ttu-id="d9428-211">詳細については、次を参照してください。 [EDI パイプライン プロパティを設定する](../core/configuring-edi-pipeline-properties.md)です。</span><span class="sxs-lookup"><span data-stu-id="d9428-211">For more information, see [Configuring EDI Pipeline Properties](../core/configuring-edi-pipeline-properties.md).</span></span>  
  
 <span data-ttu-id="d9428-212">**エラーの送信**</span><span class="sxs-lookup"><span data-stu-id="d9428-212">**Posting Errors**</span></span>  
  
 <span data-ttu-id="d9428-213">EDI 逆アセンブラーで EDI 処理エラーが発生すると、[!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] では次の 2 つのエラーがイベント ビューアーに送信されます (送信が有効になっている場合)。</span><span class="sxs-lookup"><span data-stu-id="d9428-213">If the EDI disassembler encounters an EDI processing error, [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] posts the following two errors in the Event Viewer (if such posting is enabled):</span></span>  
  
-   <span data-ttu-id="d9428-214">メッセージを保留にしたときに送信元の [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] によって記録されたエラー。</span><span class="sxs-lookup"><span data-stu-id="d9428-214">An error logged by the source [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] while it suspends the message.</span></span> <span data-ttu-id="d9428-215">これは [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] の処理に関連する必須のエラーです。</span><span class="sxs-lookup"><span data-stu-id="d9428-215">This is a required error relating to [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] processing.</span></span>  
  
-   <span data-ttu-id="d9428-216">送信元の [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] EDI によって記録された、トランザクション セットの問題を報告するエラー。</span><span class="sxs-lookup"><span data-stu-id="d9428-216">An error reporting problems in the transaction set, as logged by the source [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] EDI.</span></span> <span data-ttu-id="d9428-217">このエラーは EDI 固有です。</span><span class="sxs-lookup"><span data-stu-id="d9428-217">This error is EDI-specific.</span></span>  
  
## <a name="using-agreement-properties"></a><span data-ttu-id="d9428-218">アグリーメント プロパティの使用</span><span class="sxs-lookup"><span data-stu-id="d9428-218">Using Agreement Properties</span></span>  
 <span data-ttu-id="d9428-219">EDI 逆アセンブラは、アグリーメントを特定できる場合、アグリーメントのプロパティは使用 (を参照してください[アグリーメントの解決、スキーマ探索、および受信した EDI メッセージの承認](../core/agreement-resolution-schema-discovery-and-authorization-for-received-edi.md))。</span><span class="sxs-lookup"><span data-stu-id="d9428-219">The EDI Disassembler will use agreement properties if it can identify the agreement (see [Agreement Resolution, Schema Discovery, and Authorization for Received EDI Messages](../core/agreement-resolution-schema-discovery-and-authorization-for-received-edi.md)).</span></span> <span data-ttu-id="d9428-220">一致するアグリーメントが見つからず、対応する値では使用できない、フォールバック アグリーメントも場合、EDI 逆アセンブラー プロパティに設定、**プロパティ**Visual Studio のウィンドウが使用されます。</span><span class="sxs-lookup"><span data-stu-id="d9428-220">If a matching agreement cannot be found and the corresponding values are not available in the fallback agreement as well, the EDI Disassembler properties set in the **Properties** window of Visual Studio will be used.</span></span> <span data-ttu-id="d9428-221">ただし、このフォールバックは発生しません受信ポートのプロパティで認証が必要な場合 (いずれか**認証が失敗した場合は、メッセージをドロップ**または**認証が失敗した場合は、メッセージを保持する**が選択されています。).</span><span class="sxs-lookup"><span data-stu-id="d9428-221">However, this fallback will not occur if authentication is required in receive port properties (if either **Drop messages if authentication fails** or **Keep messages if authentication fails** are selected).</span></span> <span data-ttu-id="d9428-222">この場合、アグリーメントを構成する必要があります。構成しないと、インターチェンジは中断されます。</span><span class="sxs-lookup"><span data-stu-id="d9428-222">In this case, an agreement must be configured; if not, the interchange will be suspended.</span></span>  
  
 <span data-ttu-id="d9428-223">EDI 逆アセンブラーがアグリーメント プロパティを使用する場合、次のアグリーメント プロパティが設定されている必要があります。</span><span class="sxs-lookup"><span data-stu-id="d9428-223">When the EDI Disassembler uses agreement properties, it requires that the following agreement properties be set:</span></span>  
  
|<span data-ttu-id="d9428-224">プロパティ</span><span class="sxs-lookup"><span data-stu-id="d9428-224">Property</span></span>|<span data-ttu-id="d9428-225">アグリーメントのプロパティ ページ</span><span class="sxs-lookup"><span data-stu-id="d9428-225">Agreement Properties Page</span></span>|  
|--------------|-------------------------------|  
|<span data-ttu-id="d9428-226">繰り返し区切り記号</span><span class="sxs-lookup"><span data-stu-id="d9428-226">Repetition separator</span></span>|<span data-ttu-id="d9428-227">**エンベロープ**ページ (**インターチェンジの設定**) 双方向アグリーメント タブ</span><span class="sxs-lookup"><span data-stu-id="d9428-227">**Envelopes** page (under **Interchange Settings**) in the bi-directional agreement tab</span></span>|  
|<span data-ttu-id="d9428-228">EDI のデータ型検証の実行</span><span class="sxs-lookup"><span data-stu-id="d9428-228">Perform EDI Data Type Validation</span></span>|<span data-ttu-id="d9428-229">**検証**ページで、**トランザクション セットの設定**双方向アグリーメント タブ (X12 および EDIFACT アグリーメント用)</span><span class="sxs-lookup"><span data-stu-id="d9428-229">**Validation** page under **Transaction Set Settings** in the bi-directional agreement tab (for both X12 and EDIFACT agreements)</span></span>|  
|<span data-ttu-id="d9428-230">拡張された検証</span><span class="sxs-lookup"><span data-stu-id="d9428-230">Extended Validation</span></span>|<span data-ttu-id="d9428-231">**検証**ページで、**トランザクション セットの設定**双方向アグリーメント タブ (X12 および EDIFACT アグリーメント用)</span><span class="sxs-lookup"><span data-stu-id="d9428-231">**Validation** page under **Transaction Set Settings** in the bi-directional agreement tab (for both X12 and EDIFACT agreements)</span></span>|  
|<span data-ttu-id="d9428-232">[先頭および末尾のゼロおよび空白を許可する]</span><span class="sxs-lookup"><span data-stu-id="d9428-232">Allow leading and trailing zeroes and spaces</span></span>|<span data-ttu-id="d9428-233">**検証**ページで、**トランザクション セットの設定**双方向アグリーメント タブ (X12 および EDIFACT アグリーメント用)</span><span class="sxs-lookup"><span data-stu-id="d9428-233">**Validation** page under **Transaction Set Settings** in the bi-directional agreement tab (for both X12 and EDIFACT agreements)</span></span>|  
|<span data-ttu-id="d9428-234">末尾の区切り記号が使用できる場合に空の XML タグを作成する</span><span class="sxs-lookup"><span data-stu-id="d9428-234">Create empty XML Tags if trailing separators allowed</span></span>|<span data-ttu-id="d9428-235">**ローカル ホスト設定**ページで、**トランザクション セットの設定**双方向アグリーメント タブ (X12 および EDIFACT アグリーメント用)</span><span class="sxs-lookup"><span data-stu-id="d9428-235">**Local Host Settings** page under **Transaction Set Settings** in the bi-directional agreement tab (for both X12 and EDIFACT agreements)</span></span>|  
|<span data-ttu-id="d9428-236">受信バッチ処理オプション</span><span class="sxs-lookup"><span data-stu-id="d9428-236">Inbound batch processing option</span></span>|<span data-ttu-id="d9428-237">**ローカル ホスト設定**ページ (**インターチェンジの設定**)、双方向アグリーメント タブ (X12 および EDIFACT アグリーメント用)</span><span class="sxs-lookup"><span data-stu-id="d9428-237">**Local Host Settings** page (under **Interchange Settings**) in the bi-directional agreement tab (for both X12 and EDIFACT agreements)</span></span>|  
|<span data-ttu-id="d9428-238">既定の EDIFACT 区切り記号</span><span class="sxs-lookup"><span data-stu-id="d9428-238">Default EDIFACT Separators</span></span>|-|  
|<span data-ttu-id="d9428-239">セキュリティ/認証/パスワードの情報をマスクする</span><span class="sxs-lookup"><span data-stu-id="d9428-239">Mask security/authorization/password information</span></span>|<span data-ttu-id="d9428-240">**ローカル ホスト設定**ページ (**インターチェンジの設定**)、双方向アグリーメント タブ (X12 および EDIFACT アグリーメント用)</span><span class="sxs-lookup"><span data-stu-id="d9428-240">**Local Host Settings** page (under **Interchange Settings**) in the bi-directional agreement tab (for both X12 and EDIFACT agreements)</span></span>|  
|<span data-ttu-id="d9428-241">暗黙的に指定された 10 進形式 Nn を底 10 の数値に変換する</span><span class="sxs-lookup"><span data-stu-id="d9428-241">Convert implied decimal format Nn to base 10 numeric value</span></span>|<span data-ttu-id="d9428-242">**ローカル ホスト設定**ページで、**トランザクション セットの設定**双方向アグリーメント タブ (x12 アグリーメント)</span><span class="sxs-lookup"><span data-stu-id="d9428-242">**Local Host Settings** page under **Transaction Set Settings** in the bi-directional agreement tab (for X12 agreements)</span></span>|  
|<span data-ttu-id="d9428-243">要求 - 応答の受信ポートでの送信パイプラインへの確認のルーティング</span><span class="sxs-lookup"><span data-stu-id="d9428-243">Route ACK to send pipeline on request-response receive port</span></span>|<span data-ttu-id="d9428-244">**ローカル ホスト設定**ページ (**受信者の設定**セクション) の下**インターチェンジの設定**双方向アグリーメント タブ (X12 および EDIFACT アグリーメント用)</span><span class="sxs-lookup"><span data-stu-id="d9428-244">**Local Host Settings** page (**Receiver’s Settings** section) under **Interchange Settings** in the bi-directional agreement tab (for both X12 and EDIFACT agreements)</span></span>|  
|<span data-ttu-id="d9428-245">X12 文字セット</span><span class="sxs-lookup"><span data-stu-id="d9428-245">X12 character set</span></span>|<span data-ttu-id="d9428-246">X12 インターチェンジのエンベロープの生成**注:**この設定は、アグリーメントのプロパティとして入力された値の検証にのみ使用します。</span><span class="sxs-lookup"><span data-stu-id="d9428-246">X12 Interchange Envelope Generation **Note:**  This setting is only used to validate the values entered for the agreement properties.</span></span> <span data-ttu-id="d9428-247">実行時処理に使用される X12 文字セットは、パイプライン プロパティで選択されます。</span><span class="sxs-lookup"><span data-stu-id="d9428-247">The X12 character set used for runtime processing is selected in the pipeline properties.</span></span> <span data-ttu-id="d9428-248">詳細については、次を参照してください。 [EDI 文字セット](../core/edi-character-sets.md)です。</span><span class="sxs-lookup"><span data-stu-id="d9428-248">For more information, see [EDI Character Sets](../core/edi-character-sets.md).</span></span>|  
  
## <a name="using-hipaa-trigger-fields"></a><span data-ttu-id="d9428-249">HIPAA トリガー フィールドの使用</span><span class="sxs-lookup"><span data-stu-id="d9428-249">Using HIPAA Trigger Fields</span></span>  
 <span data-ttu-id="d9428-250">多くの場合、EDI セグメントには、セグメントの意味を変更する修飾子の値が含まれています。</span><span class="sxs-lookup"><span data-stu-id="d9428-250">EDI segments often contain qualifier values that modify the meaning of the segment.</span></span> <span data-ttu-id="d9428-251">たとえば、N1 セグメントには "請求先名" を示す "BT" の修飾要素が含まれていたり、"出荷先名" を示す "ST" の修飾要素が含まれていることがあります。</span><span class="sxs-lookup"><span data-stu-id="d9428-251">For example, an N1 segment can contain a qualifying element of “BT” to signify a “bill-to name,” or it may contain a qualifying element of “ST” to indicate a “ship-to name.”</span></span> <span data-ttu-id="d9428-252">通常これらのフィールドを解釈する方法を決定するビジネス ロジックに任されており、逆アセンブラーが同じ XML レコード名を N1 セグメントのすべてのインスタンスを解決します。ただし、HIPAA スキーマが付属[!INCLUDE[btsBizTalkServer2006r3](../includes/btsbiztalkserver2006r3-md.md)]注釈を使用する該当する値の存在に基づいて一意の XML レコードを作成する EDI 逆アセンブラーを含む (を参照してください[HIPAA トリガー フィールドの注釈をスキーマ](../core/hipaa-schema-trigger-field-annotations.md))。</span><span class="sxs-lookup"><span data-stu-id="d9428-252">Normally it is left to business logic to determine how to interpret these fields and the disassembler resolves all instances of the N1 segment to the same XML record name; however, the HIPAA schemas shipped with [!INCLUDE[btsBizTalkServer2006r3](../includes/btsbiztalkserver2006r3-md.md)] contain annotations that allow the EDI disassembler to create unique XML records based on the presence of a qualifying value (see [HIPAA Schema Trigger Field Annotations](../core/hipaa-schema-trigger-field-annotations.md)).</span></span>  
  
 <span data-ttu-id="d9428-253">HIPAA トランザクション セットの受信時に、トリガー フィールドが入ったセグメントがあると、逆アセンブラーではトリガー情報を使用して、そのセグメントとトリガーの組み合わせに固有の XML レコードを生成します。</span><span class="sxs-lookup"><span data-stu-id="d9428-253">When receiving a HIPAA transaction set, if the EDI Disassembler encounters a segment that contains a trigger field, it uses the trigger information to generate an XML record specific to the segment and trigger combination.</span></span>  
  
 <span data-ttu-id="d9428-254">次の表に、N101 の値に基づいて N1 セグメントを XML レコードに変換する方法を示します。</span><span class="sxs-lookup"><span data-stu-id="d9428-254">The following table shows how an N1 segment will be translated into an XML record based on the value of N101:</span></span>  
  
|<span data-ttu-id="d9428-255">N1 セグメント</span><span class="sxs-lookup"><span data-stu-id="d9428-255">N1 Segment</span></span>|<span data-ttu-id="d9428-256">生成される XML データ</span><span class="sxs-lookup"><span data-stu-id="d9428-256">Resulting XML Data</span></span>|  
|----------------|------------------------|  
|<span data-ttu-id="d9428-257">N1 * PR\*Contoso\*XV\*0000000 ~</span><span class="sxs-lookup"><span data-stu-id="d9428-257">N1*PR\*Contoso\*XV\*0000000~</span></span>|`<ns0:TS835W1_1000A_Loop>  <N1_PayerIdentification_TS835W1_1000A>   <N101__EntityIdentifierCode>PR</N101__EntityIdentifierCode>    <N102__PayerName>Contoso</N102__PayerName>    <N103__IdentificationCodeQualifier>XV</N103__IdentificationCodeQualifier>    <N104__PayerIdentifier>0000000</N104__PayerIdentifier>   </N1_PayerIdentification_TS835W1_1000A>`|  
|<span data-ttu-id="d9428-258">N1 * PE\*Fabrikam\*FI\*9999999 ~</span><span class="sxs-lookup"><span data-stu-id="d9428-258">N1*PE\*Fabrikam\*FI\*9999999~</span></span>|`<TS835W1_1000B_Loop>   <N1_PayeeIdentification_TS835W1_1000B>    <N101__EntityIdentifierCode>PE</N101__EntityIdentifierCode>    <N102__PayeeName>Fabrikam</N102__PayeeName>    <N103__IdentificationCodeQualifier>FI</N103__IdentificationCodeQualifier>    <N104__PayeeIdentificationCode>9999999</N104__PayeeIdentificationCode>   </N1_PayeeIdentification_TS835W1_1000B>`|  
  
## <a name="see-also"></a><span data-ttu-id="d9428-259">参照</span><span class="sxs-lookup"><span data-stu-id="d9428-259">See Also</span></span>  
 [<span data-ttu-id="d9428-260">BizTalk Server が EDI メッセージを受信する方法</span><span class="sxs-lookup"><span data-stu-id="d9428-260">How BizTalk Server Receives EDI Messages</span></span>](../core/how-biztalk-server-receives-edi-messages.md)