---
title: ビジネス プロセスの定義 |Microsoft Docs
ms.custom: ''
ms.date: 06/08/2017
ms.prod: biztalk-server
ms.reviewer: ''
ms.suite: ''
ms.tgt_pltfrm: ''
ms.topic: article
ms.assetid: e5e0fdfe-e298-4f32-a7c5-d081b926a206
caps.latest.revision: 16
author: MandiOhlinger
ms.author: mandia
manager: anneta
ms.openlocfilehash: 098001041c47b096ab2c2079d4f830e96ed1e19f
ms.sourcegitcommit: 381e83d43796a345488d54b3f7413e11d56ad7be
ms.translationtype: MT
ms.contentlocale: ja-JP
ms.lasthandoff: 05/07/2019
ms.locfileid: "65352395"
---
# <a name="defining-business-processes"></a>ビジネス プロセスの定義
異なるシステム間でメッセージ交換は、問題の解決のために必要な部分を[!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)]アドレス。 実際の目標が定義し、アプリケーションに基づいてビジネス プロセスを実行します。 [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)]エンジンでは、オーケストレーションを使用して、これらのビジネス プロセスのロジックを定義します。 作成し、ビジネス ルールのグループを評価、ビジネス ルール エンジンを使用します。 このセクションでは、オーケストレーションとビジネス ルール エンジンの両方について説明します。  
  
## <a name="using-orchestrations"></a>オーケストレーションを使用してください。  
 自動化されたビジネス プロセスのロジックは、Microsoft Visual Basic または Microsoft Visual などの言語で直接実装できますC#します。 まだ作成、保守、および従来のプログラミング言語で複雑なビジネス プロセスを管理することは困難です。 採用されておりとは異なり[!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)]別のアプローチを採用します。 ビジネス管理者や開発者は、ビジネス プロセスをグラフィカルに定義できます。 これは、プログラミング言語で直接プロセスを作成するよりも高速化でき、簡単、プロセスを理解、説明、および変更します。 この方法で作成されたビジネス プロセスをすることもできます、ビジネス アクティビティ監視 (BAM) テクノロジが悪用するという事実をより簡単に監視します。  
  
 開発者にとって、3 つの主要なツールに依存オーケストレーションを作成します BizTalk マッパーは、これらのスキーマとのビジネス ロジックを指定するためのオーケストレーション デザイナー間の変換を定義するために、XML スキーマを作成するため、BizTalk エディター。処理します。 内でホストされるすべてのこれらのツール[!INCLUDE[btsVStudioNoVersion](../includes/btsvstudionoversion-md.md)]開発者の一貫した環境を提供します。 このセクションでは、点について説明しますが、どのように連動するこれらの各ツールします。  
  
### <a name="creating-schemas-the-biztalk-editor"></a>スキーマの作成。BizTalk エディター  
 オーケストレーションは、いくつかの XML スキーマに準拠した各 XML ドキュメントを使用します。 BizTalk エディターでは、XML スキーマ定義言語 (XSD) を使用してこれらのスキーマでは、基本的に、構造とドキュメントの情報の種類を定義する定義開発者を使用できます。  
  
 ツールのサポートなしの生の XSD スキーマを作成することは、単純ではありません。 このために必要な手順をよりわかりやすく、BizTalk エディターができます: 通常は開発者-、グラフィカルな階層でその要素を定義することで、スキーマを作成します。 既存のスキーマは、ファイルまたはアクセス可能な Web サービスのいずれかからインポートすることもできます。 を取得しているが、BizTalk の基本マップ、スキーマが使用されます。  
  
### <a name="mapping-between-schemas-the-biztalk-mapper"></a>スキーマ間のマッピング。BizTalk マッパー  
 通常、ビジネス プロセスを実装するオーケストレーションは、いくつかのドキュメントを受信し、他のユーザーに送信します。 多くの場合、受信したドキュメント内の情報の一部は、おそらくいくつかの方法で変換、送信するドキュメントに転送されます。 たとえば、注文調達プロセスは、いくつかのアイテムの注文を受信し、順序がいくつかの理由で拒否されたことを示すメッセージを送信します。 情報は、注文から要求 id と数量の注文など可能性がありますにコピーされる受信した注文メッセージのフィールドから拒否メッセージ内のフィールド。 もう 1 つのドキュメントから、マップと呼ばれる、変換を定義するのには、BizTalk マッパーを使用できます。  
  
 ![スキーマ間のマッピング](../core/media/understandingbts-2010-mapper.gif "UnderstandingBTS_2010_Mapper")  
  
 表示上の図、としては、各マップは、これらのスキーマ内の要素間のリレーションシップを定義する 2 つの XML スキーマ間のグラフィカルな関連付けとして表されます。 World Wide Web Consortium (W3C) が、この種の XML のスキーマ間における変換を表現する標準的な方法としては拡張可能なスタイル シート言語変換 (XSLT) を定義し、マップでのように[!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)]XSLT 変換として実装されます。  
  
 マップ内で定義された変換は 1 つのドキュメントから別の値をコピーするなど、簡単にすることはできます。 このような直接のデータのコピーは、BizTalk マッパーで、送信先スキーマ内の対応する送信元スキーマ内の適切な要素を結ぶ線として表示されているリンクを使用して表現されます。 複雑な変換は、functoid を使用することもできます。 Functoid は、XML スキーマ間の任意の複雑なマッピングを定義できる実行可能コードのチャンク、前述のように、BizTalk マッパーを表しますが変換される要素を結ぶ線上のボックスとして。 これらの変換のいくつかは非常に一般的な[!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)]組み込みの functoid の数が含まれています。 これらの組み込みの functoid は、次のカテゴリに分類されます。  
  
- 追加、乗算、ソース ドキュメント内のフィールドの値を除算して、ターゲット ドキュメント内のフィールドに、結果を格納するなどの操作を実行する数値演算 functoid。  
  
- 逆に、対応する ASCII を数値に変換する変換 functoid。  
  
- 要素または属性かどうかを判断するために使用する論理演算 functoid は、ソース ドキュメントで指定された値の間の論理比較に基づいて、ターゲット ドキュメントで作成する必要があります。 等しいかどうか、大きい、小さい、またはその他の方法では、これらの値を比較できます。  
  
- 平均、合計、または、ソース ドキュメント内のさまざまなフィールドからその他の値を計算する累積 functoid は結果をターゲット ドキュメントの 1 つのフィールドに格納します。  
  
- データベース functoid をデータベースに格納されている情報にアクセスできます。  
  
  XSLT またはを使用して直接でカスタム functoid を作成することもできます。NET を使用できる言語などの VisualC#および Visual Basic です。 Functoid 組み合わせることもできます、シーケンスの別の入力に 1 つの出力をカスケードします。  
  
  スキーマが異なるドキュメント間でドキュメントの XML のスキーマとマッピング情報のメカニズムを定義する方法があることが重要です。 BizTalk エディターおよび BizTalk マッパーは、これら 2 つの問題に対処します。 スキーマとマップをまだ定義は、プロセスの一部のみです。 スキーマを使用して、マップを呼び出すと、ビジネス ロジックを指定することも必要があります。  
  
### <a name="defining-business-logic-the-orchestration-designer"></a>ビジネス ロジックを定義するには。オーケストレーション デザイナー  
 ビジネス プロセスは、一連の操作をまとめて、便利なビジネスのニーズを満たすです。 [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)]開発者は、オーケストレーション デザイナーを使用してこれらのアクションをグラフィカルに定義することができます。 いくつかのプログラミング言語での手順を表現するのではなく、開発者は、論理的な方法で一連の図形を組み合わせることで、オーケストレーションを作成できます。 オーケストレーション デザイナーで使用できる図形は次のとおりです。  
  
- これにより、オーケストレーションでメッセージを受信する受信図形。 受信図形は、受信メッセージの種類を定義するフィルターを設定でき、新しいメッセージが到着したときに、オーケストレーションの新しいインスタンスを開始する構成することもできます。  
  
- これにより、オーケストレーションでメッセージを送信する送信図形。  
  
- ポート図形をメッセージの送信方法を定義します。 ポート図形の各インスタンスは、送信または受信図形に接続されます。 各ポートに、型は、ポートが受信できるメッセージの種類などを定義します。送信または受信; などの方向バインディング、メッセージが送信または受信した、たとえば方法を決定する、特定の URL やその他の情報を指定します。  
  
- 判断図形をブール条件に基づいて異なるタスクを実行するオーケストレーションを許可する場合、その他のステートメントを表します。 式エディター、オーケストレーション デザイナの一部は、この条件付きステートメントを指定できます。  
  
- ループ図形をいくつかの条件が true の場合、アクションの繰り返しに実行制御します。  
  
- メッセージの構築図形、メッセージを構築できます。  
  
- 変換図形を 1 つのドキュメントと BizTalk マッパーで定義されたマップを呼び出すことによって変換されてからの情報を転送できます。  
  
- 並列アクション図形、開発者は、シーケンス内ではなく、並列で複数の操作を実行することを指定します。 この 1 つに続く図形は、すべての並列操作が完了するまでは実行されません。  
  
- これにより操作をトランザクションにグループ化し、エラー処理の例外ハンドラーを定義するスコープ図形。 従来のアトミック トランザクションと実行時間の長いトランザクションの両方がサポートされています。 アトミックのトランザクションとは異なりは、実行時間の長いトランザクションは、compensating ロールバック予期しないイベントを処理するよりもロジックに依存します。  
  
- メッセージの割り当て図形をオーケストレーションの変数に値を割り当てることができます。 これらの変数は、作成中のメッセージや文字列など、オーケストレーションによって使用される状態情報の格納に使用できます。  
  
  次の図は、これらの図形のいくつかを使用してオーケストレーション デザイナーで作成されたオーケストレーションを示しています。 この簡単な例では、メッセージを受信する、に基づいて決定されます、メッセージのコンテンツの結果として 2 つのパスのいずれかが実行します。 実際の問題を解決するオーケストレーションを; これよりもはるかに複雑にすることができます。これらのより複雑なダイアグラムを使用しやすくするには、オーケストレーション デザイナーには、拡大/縮小する機能が含まれています。開発者は、現在関心は、オーケストレーションの部分のみを表示できます。  
  
  ![](../core/media/understandingbts-08-orchestration.gif "UnderstandingBTS_08_Orchestration")  
  
  開発者がオーケストレーションを定義した後に、Microsoft Intermediate Language (MSIL)、.NET Framework の共通言語ランタイム (CLR) によって使用される図形とそれらの関係のグループが変換されます。 最終的には、BizTalk Server の開発者によって定義されている図形のグループには、標準的なになります。NET が有効なアセンブリ。 図形の内部から COM または .NET オブジェクトを呼び出すことによって、必要な場合に、オーケストレーションに明示的なコードを追加することもできます。  
  
### <a name="the-role-of-web-services"></a>Web サービスの役割  
 Web サービスは、SOAP を使用して XML ドキュメントを交換するアプリケーションを許可して、統合プラットフォームに大きな影響があった。 外部 Web サービスにアクセスするには、オーケストレーションの作成者がで Web 参照の追加オプションを使用できます[!INCLUDE[btsVStudioNoVersion](../includes/btsvstudionoversion-md.md)]を直接操作を呼び出す Web サービス アダプターと共にします。 同様に、 [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] 1 つ以上の SOAP 呼び出し可能な Web サービスとしてのオーケストレーションの操作を公開する ASP.NET Web サービス プロジェクトを生成する Web サービス公開ウィザードを提供します。 これら 2 つのオプションを使用すると、開発者からビジネス プロセス内の既存の Web サービスにアクセスして、他のビジネス プロセスを Web サービスとしてのオーケストレーションの機能を公開します。  
  
- Web サービスの登場により、ビジネス プロセスを定義する方法に影響があります。 たとえば、2 つに場合を考えてみて組織では、Web サービスを使用して対話します。 効果的に相互運用、各パーティの何かを使用して、もう一方はビジネス プロセスの詳細を知るとの対話に必要な場合があります。 両方の組織を使用して場合[!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)]、これは大きな問題には、知識を共有する取引先管理テクノロジなどのツールを使用できます。 しかし、さまざまな製品を使用している場合でしょうか。 このような場合は、ベンダーの特定の方法でビジネス プロセスの側面を記述する方法があると便利です。  
  
  これを許可するのには、Microsoft、IBM、およびその他のユーザーによって Business Process Execution Language (BPEL) が作成されます。 オーケストレーション デザイナーを使用して定義したビジネス プロセスは BPEL にエクスポート可能と[!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)]BPEL で定義されているプロセスをインポートできます。 言語は記述したり、ビジネス プロセスの外部から参照できる部分を共有する場合に便利ですが、BPEL に焦点を当てた包括的なビジネス プロセスを実行するクロスプラット フォーム対応によりもこの問題を解決します。 重要です BPEL が Web サービスに完全に構築されたことを理解するには、するときに[!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)]の詳細はこの言語をサポートするその他の製品が提供されます。 たとえば、[!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)]さまざまな XML スキーマ間のマッピング、ローカル オブジェクトは、BPEL では使用できない機能とその他のメソッドの呼び出しがサポートされます。 これらとその他の理由は、BPEL はビジネス プロセスを定義するための完全な言語はありません。 BPEL では、組織の昇格の Structured Information Standards (OASIS) によって標準化されている処理中は、することは困難を完全に成熟したテクノロジとしての今すぐに表示します。  
  
- オーケストレーションは、BizTalk Server でビジネス プロセスを作成する基本的なメカニズムです。 オーケストレーションの一部の側面は、ただし、他に比べて頻繁に変更する傾向があります。 ビジネス プロセスに埋め込まれている決定具体的には、-ビジネス ルール — は通常、その最も揮発性の側面です。 最後の週に 10万ドルだった管理者の支出限度ですが最大 500,000 ドル、または低速を払っている顧客の許可されている最大の注文の減少を 100 単位から 10 個しかこの昇進をバンプします。 指定し、ビジネス ルール エンジンを使用してこれらの規則を更新できます。  
  
## <a name="using-the-business-rule-engine"></a>ビジネス ルール エンジンを使用します。  
 オーケストレーション デザイナー、BizTalk エディターと、BizTalk マッパーでは、ビジネス プロセスとを使用してルールを定義する効果的な方法を提供します。 なること、ただし、簡単な方法を定義し、ビジネス ルールの変更があります。 これを許可するのには、BizTalk Server は、ビジネス ルール エンジン (BRE) を提供します。 開発者は、BRE を使用してほとんどの場合より多くのビジネス指向のユーザーを作成し、ビジネス ルール作成ツールと呼ばれるツールを使用してビジネス ルールのセットを変更します。  
  
 BRE が役立つ状況の 1 つは、複雑なビジネス ルールを評価する必要がありますのセットの場合です。 融資するかどうかを決定するなどがあります貸し付けを多数のお客様のクレジットの履歴、収入、およびその他の要因に基づくルール。 同様に、さまざまな考慮事項、申請者の年齢、性別、および正常性を含む依存申請者に生命保険を販売するかどうかを決定します。 使用して条件付きステートメントとしてこれらすべてのルールを表現すると答えると、オーケストレーションの判断図形、可能な場合がありますが、実装するために非常に複雑になります。 上記のようなルール数が多いプロセスにおいて、BRE できます簡素開発者の作業です。  
  
 開発者は、BRE を使用して、すばやくし、必要に応じて、規則を簡単に変更します。 その理由を表示するには、オーケストレーション内で実装されているビジネス ルールの変更に必要な内容について考えてみます。 開発者がオーケストレーションを開く必要がありますまず[!INCLUDE[btsVStudioNoVersion](../includes/btsvstudionoversion-md.md)]、適切な図形を変更 (およびおそらく .NET または COM オブジェクトを呼び出すように)、ビルドして、変更されたアセンブリを展開します。 これを行うことも必要がありますを停止して、このオーケストレーションを含む BizTalk アプリケーションを再起動します。 代わりに、BRE を使用してこのビジネス ルールが実装する場合は、再コンパイルまたは再起動何もなく変更できます。 必要なビジネス ルール作成ツールを使用して、目的の規則を変更し、新しいルールのセットを再デプロイするだけです。 変更は直ちに有効にします。 ビジネス ルールが読み取れる場合によっては、変更できることを技術担当者を関与させることがなくビジネス アナリストは通常はオーケストレーションが作成され、開発者によって管理される、中にします。  
  
 ビジネス ルールのセットの作成者は、通常、これらのルールを指定するときに使用するボキャブラリを定義するビジネス ルール作成ツールを使用して開始します。 ボキャブラリの各用語は、いくつかの情報のわかりやすい名前を提供します。 たとえば、出荷数または項目の最大数量、承認制限などの用語をボキャブラリを定義できます。 これらの各用語は、定数に設定することができます。 またはいくつかのデータベースに対して SQL クエリの結果または .NET オブジェクトの値または特定の要素または属性のいくつかの XML スキーマの (およびそのために受信メッセージ) にマップします。  
  
 ボキャブラリの定義後は、このボキャブラリを使用してビジネス ポリシーを作成するビジネス ルール作成ツールを使用できます。 各ポリシーは、1 つまたは複数のビジネス ルールを含めることができます。 ルールより小さい、等しいなどのより大きいなどの論理演算子と共にボキャブラリで定義されている用語を使用して、ビジネス プロセスの動作を定義します。 どのような値がデータベース、またはその他の点で記述されたに影響する必要があります値を受け取るもの方法やビジネス ルールが受信した XML ドキュメントに含まれる値が送信される XML ドキュメントで作成された値にする必要があります影響を定義できます。  
  
 ビジネス ポリシーを実行するには、オーケストレーションは、ルールの呼び出し図形を使用します。 この図形は、BRE のインスタンスを作成、受信した XML ドキュメントなど、ポリシーに必要な情報が渡されますし、実行するポリシーを指定します。 BRE は、使用してプログラムで呼び出すこともできます、します。NET ベースのオブジェクト モデルを使用していないアプリケーションから呼び出すことによって、[!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)]します。 つまり、Windows フォーム アプリケーション、Web サービスを公開するソフトウェア、およびそれ以外の場合は、.NET Framework に基づいて構築されたものことができますを使用して、BRE 当面の問題の解決にします。  
  
 ボキャブラリとビジネス ルールの両方をはるかに複雑になる可能性 — とはるかに強力な-より単純な例は、ここで説明します。 ボキャブラリを定義し、ボキャブラリを使用する規則のセットを定義するの核となる概念は、ビジネス ルール エンジンの中核です。  
  
## <a name="see-also"></a>参照  
 [BizTalk Server メッセージング エンジン](../core/the-biztalk-server-messaging-engine.md)