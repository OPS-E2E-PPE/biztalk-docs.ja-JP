---
title: テーブル ループを追加およびテーブル抽出 Functoid をマップする方法 |Microsoft Docs
ms.custom: ''
ms.date: 06/08/2017
ms.prod: biztalk-server
ms.reviewer: ''
ms.suite: ''
ms.tgt_pltfrm: ''
ms.topic: article
ms.assetid: 3c837ab8-55db-471a-af26-9fbd0497d7d4
caps.latest.revision: 10
author: MandiOhlinger
ms.author: mandia
manager: anneta
ms.openlocfilehash: 2dffd7d3f67d08a23a010ec533159e8648774e8c
ms.sourcegitcommit: 266308ec5c6a9d8d80ff298ee6051b4843c5d626
ms.translationtype: MT
ms.contentlocale: ja-JP
ms.lasthandoff: 06/27/2018
ms.locfileid: "37012379"
---
# <a name="how-to-add-table-looping-and-table-extractor-functoids-to-a-map"></a>マップにテーブル ループ Functoid およびテーブル抽出 Functoid を追加する方法
**テーブル ループ**と**テーブル抽出**functoid は一緒に使用されます。 **テーブル ループ**functoid が、内部テーブルを構成します。 各入力レコードまたはフィールドを**テーブル ループ**functoid は、一度に 1 つずつと、テーブルの行を出力します。 **テーブル抽出**functoid が行から目的の項目を抽出し、出力インスタンス メッセージに渡します。  
  
 概念情報については、**テーブル ループ**と**テーブル抽出**functoid を参照してください[テーブル ループ functoid およびテーブル抽出 Functoid](../core/table-looping-and-table-extractor-functoids.md)します。  
  
### <a name="to-add-the-table-looping-and-table-extractor-functoids-to-a-map-and-configure-them"></a>テーブル ループ Functoid およびテーブル抽出 Functoid をマップに追加して構成するには  
  
1. [!INCLUDE[btsVStudioNoVersion](../includes/btsvstudionoversion-md.md)]ツールボックス active をクリックして、**高度な Functoid** functoid のカテゴリを選択するタブ。  
  
    選択したカテゴリに含まれる高度な Functoid の一覧が表示されます。  
  
2. ドラッグ、**テーブル ループ**functoid (![](../core/media/advtablelooping.gif "advtablelooping")) ツールボックスからグリッド ページの適切な場所にします。  
  
   > [!NOTE]
   >  Functoid は表示されているグリッド ページに配置されます。 別のグリッド ページに functoid を配置する場合は、最初にそのグリッド ページを表示する必要があります。  
  
   > [!NOTE]
   >  の出力、**テーブル ループ**functoid が 1 つ以上関連付けられている入力として機能**テーブル抽出**functoid の右側に余裕を確認、**テーブル ループ** functoid、**テーブル抽出**functoid。  
  
3. 新しく追加した送信元スキーマからレコードまたはフィールドをドラッグして**テーブル ループ**functoid。 最初の入力パラメーターとして、**テーブル ループ**functoid、レコードまたはインスタンス メッセージ内のフィールドの出現回数にこの functoid には、出力が生成されます。 回数を制御します。 たとえば、ループ レコードは、functoid にドラッグし、このレコードの 10 件のあるインスタンス メッセージを処理し、テーブル グリッドが 1 つの列のデータ ソースの行で構成されて、**テーブル ループ**functoid に処理され、10 回がによって抽出の 10 個の出力行を生成、**テーブル抽出**簡単に構築されている functoid と許可 10 の変換先を記録します。  
  
   > [!NOTE]
   >  このような各の行の各反復処理の出力になります、テーブル グリッドで複数の行を構成する場合、**テーブル ループ**functoid。 したがって、入力レコードの出現回数に、テーブル グリッドで構成された行数を掛けることによって、データ抽出に使用できるテーブルの出力行数を求めることができます。  
  
4. 変換先スキーマのレコードまたはフィールドをドラッグして、**テーブル ループ**functoid。 この関連付けにより、送信先スキーマにノードが作成されます。  
  
5. 新しく追加された選択**テーブル ループ**functoid、し、**プロパティ**ウィンドウで、省略記号をクリックします (**...**) ボタンに関連付けられているその**入力パラメーター**プロパティ。  
  
   > [!NOTE]
   >  または、Functoid を選択し、Ctrl キーを押しながら M キーを押し、次に Ctrl キーを押しながら T キーを押します。 一連のマッパーのキーボード ショートカットを参照してください[BizTalk マッパーのキーボード ショートカット](../core/biztalk-mapper-keyboard-shortcuts.md)します。  
  
6. **テーブル ループ Functoid の構成**ダイアログ ボックスで、をクリックして、 ![functoid への定数入力パラメーターの追加](../core/media/add-input-parameters.gif "Add_input_parameters")クリックを 2 つ目の作成入力パラメーター。 これを作成するテーブルで使用可能な列の数を表す数値を入力**テーブル ループ**functoid。  
  
   > [!NOTE]
   >  テーブルの列数の最大値は 228 です。  
  
7. **テーブル ループ Functoid の構成**ダイアログ ボックスで、をクリックして、 ![functoid への定数入力パラメーターの追加](../core/media/add-input-parameters.gif "Add_input_parameters")ボタンを押して任意の定数構成されたテーブル グリッドに表示される値。 入力パラメーター リストの先頭で、第 1 パラメーターと第 2 パラメーターの値 (行数と列数) が正しい順序で入力されていれば、このダイアログ ボックスで定数を設定する順序は特に重要ではありません。 完了したら、クリックして**OK**します。  
  
    **テーブル ループ Functoid の構成** ダイアログ ボックスを閉じます。  
  
8. 0 個以上のレコードまたはフィールド ノードをドラッグして、送信元スキーマから、**テーブル ループ**functoid は最近追加しています。 これらのレコードおよびフィールド ノードは、入力パラメーター リストの最後に追加されるため、後の手順でテーブル グリッドを構成したときに使用できるようになります。 先ほど追加したテーブル データの定数と同様、レコードおよびフィールド ノードを追加する順序は特に重要ではありません (行数と列数は正しい順序で入力されている必要があります)。  
  
9. リンクにラベルを設定するには、次の手順を実行します。  
  
   - 表示されているグリッド ページでリンクを選択します。  
  
   - [!INCLUDE[btsVStudioNoVersion](../includes/btsvstudionoversion-md.md)]プロパティ ウィンドウのわかりやすい名前を指定、**ラベル**プロパティ。 たとえば、"Second Author" というフィールドからのリンクに対しては、"link2ndAuthor" のような名前を付けます。  
  
10. 新しく追加された選択**テーブル ループ**functoid、し、**プロパティ**ウィンドウで、省略記号をクリックします (**...**) ボタンに関連付けられている、**テーブル ループ グリッド**functoid に関連付けられているプロパティ。  
  
     **テーブル ループ Functoid の構成** ダイアログ ボックスが表示されます、**テーブル ループ グリッド**タブを選択します。  
  
    > [!NOTE]
    >  または、functoid を右クリックし をクリックし、**テーブル ループ グリッドの構成**のコンテキスト メニュー。 **テーブル ループ Functoid の構成** ダイアログ ボックスが表示されます、**テーブル ループ グリッド**タブを選択します。  
  
11. 各テーブル セルに関連付けられたドロップダウン リストを使用し、グリッド内の少なくとも 1 つの行を構成します。 ドロップダウン リストで使用できる選択肢は、定数と 3 の入力パラメーターとして、最大 6 ~ 8 の手順で構成したリンク、**テーブル ループ**functoid。 第 1 と第 2 の入力パラメーターは、これらのドロップダウン リストには表示されません。完了したら、クリックして**OK**します。  
  
     **テーブル ループ Functoid の構成** ダイアログ ボックスを閉じます。  
  
    > [!NOTE]
    >  各行の最初の入力パラメーターとして指定されたフィールドまたはレコードの出現回数と組み合わせて、出力構造体の 1 つのイテレーションの構成、**テーブル ループ**functoid。 詳細については、手順 3 を参照してください。  
  
    > [!NOTE]
    >  使用してアクセスする各列の値を選択する必要があります、**テーブル抽出**functoid。 列が使用されていない場合、**テーブル抽出**functoid は、その列を維持するのではなく、削除を検討する必要があります。  
  
    > [!NOTE]
    >  テーブル グリッドに入力する順序は特に重要ではありません。  
  
12. 多くのドラッグ**テーブル抽出**functoid (![](../core/media/advtableextractor.gif "advtableextractor")) に応じて、表示されているグリッド ページにツールボックスから。  
  
    > [!NOTE]
    >  ため、これらの入力**テーブル抽出**から functoid には、**テーブル ループ**前の手順で追加の functoid に配置することを確認、**テーブル抽出**functoid の右側に、**テーブル ループ**表示されているグリッド ページで functoid。  
  
13. いずれかの最初の入力パラメーターを作成する、**テーブル抽出**、手順 9. で追加の functoid が関連のあるドラッグ**テーブル ループ**functoid の左側にします。  
  
14. 同じ 2 つ目の入力パラメーターを作成する**テーブル抽出**functoid、functoid を選択し、[、**プロパティ**ウィンドウで、省略記号をクリックします (**...]**) ボタンに関連付けられているその**入力パラメーター**プロパティ。  
  
     **テーブル抽出 Functoid の構成** ダイアログ ボックスが表示されます。  
  
15. をクリックして、 ![functoid への定数入力パラメーターの追加](../core/media/add-input-parameters.gif "Add_input_parameters") 2 番目の入力パラメーターを作成するボタンをクリックします。 テーブル グリッドの対応する列の番号を入力**テーブル ループ**functoid のデータを抽出します。 **[OK]** をクリックします。  
  
     **テーブル抽出 Functoid の構成** ダイアログ ボックスを閉じます。  
  
    > [!NOTE]
    >  列番号は 1 から始まります。  
  
16. 出力を使用する、**テーブル抽出**functoid をドラッグ、**テーブル抽出**functoid を送信先スキーマまたは送信先スキーマのレコードまたはフィールド ノードをドラッグすると、レコードまたはフィールドノード**テーブル抽出**functoid。 送信先スキーマ内にある、このレコードまたはフィールド ノードに対応する送信先インスタンス メッセージの要素や属性には、テーブル グリッドで指定されたセルからの値が設定されます。  
  
17. 各について、手順 12、13、14、15、**テーブル抽出**functoid 手順 11 で追加します。  
  
## <a name="see-also"></a>参照  
 [マップへの高度な Functoid の追加](../core/adding-advanced-functoids-to-a-map.md)