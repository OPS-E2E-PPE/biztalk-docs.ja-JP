---
title: BizTalk アプリケーションをインポートする方法 |Microsoft Docs
ms.custom: ''
ms.date: 06/08/2017
ms.prod: biztalk-server
ms.reviewer: ''
ms.suite: ''
ms.tgt_pltfrm: ''
ms.topic: article
helpviewer_keywords:
- deploying, planning
- planning, importing
- importing, applications
- applications, planning
- planning, deploying
- applications, importing
- importing, planning
ms.assetid: 51169f35-d572-4612-9104-a59908e24874
caps.latest.revision: 70
author: MandiOhlinger
ms.author: mandia
manager: anneta
ms.openlocfilehash: 5a524cc61343085bf2db2ac220c5eea886219143
ms.sourcegitcommit: 266308ec5c6a9d8d80ff298ee6051b4843c5d626
ms.translationtype: MT
ms.contentlocale: ja-JP
ms.lasthandoff: 06/27/2018
ms.locfileid: "37014531"
---
# <a name="how-to-import-a-biztalk-application"></a>BizTalk アプリケーションをインポートする方法
ここでは、[!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] 管理コンソールまたはコマンド ラインを使用して、BizTalk アプリケーションを BizTalk グループにインポートする方法について説明します。 BizTalk アプリケーションをインポートすると、BizTalk 管理データベースに BizTalk アプリケーションのアイテムが登録され、適切な BizTalk データベースにアイテムのデータが書き込まれます。 詳細については、次を参照してください。[何の動作とアイテムのインポート](../core/what-happens-when-artifacts-are-imported.md)します。 アプリケーションをインポートしても、アプリケーションはインストールされません。 アプリケーションを実行できるようにするには、ファイルベースのアイテムが含まれているアプリケーションをインストールする必要があります。  
  
 [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] 管理コンソールを使用してアプリケーションをインポートする場合、どの場所から MSI のインポート ウィザードを起動するかによって、アイテムのインポート時に新しいアプリケーションを作成できるかどうかが決まります。 BizTalk グループを右クリックしてウィザードを起動する場合、アプリケーション名を指定する必要があります。 指定したアプリケーション名が BizTalk グループ内の既存のアプリケーションによって使用されていると、ファイルのアイテムはこの既存のアプリケーションにインポートされます。それ以外の場合、指定した名前のアプリケーションが新しく作成され、作成されたアプリケーションにアイテムがインポートされます。 アプリケーションを右クリックしてウィザードを起動する場合、アプリケーション名を指定することはできません。また、アイテムは現在のアプリケーションにインポートされます。  
  
 BTSTask コマンド ライン ツールを使用して .msi ファイルをインポートする場合、アプリケーション名の指定は省略可能です。 名前を指定しない場合、アイテムは既定のアプリケーションにインポートされます。  
  
 インポートしたアイテムは、[!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] 管理コンソールのアプリケーションのフォルダーの下にある適切なフォルダーに表示できます。 表示することできますも成果物の一覧、アプリケーションで、BTSTask を使用して」の説明に従って[ListApp コマンド](../core/listapp-command.md)します。  
  
## <a name="prerequisites"></a>前提条件  
 BizTalk アプリケーションをインポートするには、[!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] Administrators グループに属するアカウントでログオンする必要があります。 BizTalk アプリケーションをインストールするには、ローカル ファイル システムへの書き込みアクセス許可も必要です。 詳細なアクセス許可についてを参照してください。[を展開すると、BizTalk アプリケーションの管理に必要なアクセス許可](../core/permissions-required-for-deploying-and-managing-a-biztalk-application.md)します。  
  
## <a name="considerations-for-importing-applications"></a>アプリケーションのインポートに関する考慮事項  
 アプリケーションのインポート時には、次のことを考慮してください。  
  
- **BizTalk Server の以前のバージョンからアプリケーションをインポート**します。 BizTalk Server 2006 R2 または BizTalk Server 2009 からアプリケーションをインポートして、アプリケーションに edi/as2 パーティ データが含まれて、BizTalk Server で取引先パートナー管理モデルが大幅に変更されたために、アプリケーションのインポートが失敗する可能性があります。 パーティ データを以前のバージョンの BizTalk Server から移行するには、パーティ移行ツールを使用する必要があります。 ツールの詳細については、次を参照してください。 [EDI アイテムを BizTalk Server の以前のバージョンから移行](http://msdn.microsoft.com/library/b956a97e-03d0-47ea-a2ce-c07a339c0f2c)します。  
  
- **既存のバインドは常に、インポートされたバインディングによって上書きされます。** 既存のアプリケーションにバインドが含まれている .msi ファイルをインポートすると、既存のバインドはインポートされた同じ名前のバインドによって上書きされます。 これは、.msi ファイルのインポート時に既存のアイテムを上書きするオプションを選択しなかった場合も同様です。 エクスポートするアプリケーションのバインドで、.msi ファイルのインポート先アプリケーションのバインドを上書きしないようにするには、エクスポート操作中にエクスポートするリソースとしてバインド ファイルを選択しないでください。 詳細については、次を参照してください。 [BizTalk アプリケーションのエクスポート方法](../core/how-to-export-a-biztalk-application.md)します。  
  
   インポート プロセスでバインドが適用されるとき、同じ名前を持つ適用済みのバインドは、新しいバインドで上書きされます。 つまり、同じ名前のバインドを適用すると、常に、最新のバインドが有効になります。 アプリケーションをインポートするときに、バインドは、次の順序で適用されます。  
  
  1. [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] によって生成されたアプリケーション バインドのうち、バインド ファイルでアプリケーションに明示的に追加されたバインドではなく、ユーザーがアプリケーション .msi ファイルへのエクスポート対象として明示的に選択したバインド。  
  
  2. 明示的に追加されたバインド ファイルのうち、対象の展開環境が指定されていないもの。 この一連のバインド内での適用順序は特に決まっていません。  
  
  3. 明示的に追加されたバインドのうち、対象の (アプリケーションのインポート用に選択された展開環境と一致する) 展開環境が関連付けられているもの。 この一連のバインド内での適用順序は特に決まっていません。  
  
- **ホストは、グループ内に存在する必要があります。** .msi ファイルに含まれているアプリケーション バインドで指定されているホストに対応するホストは、BizTalk グループ内に既に存在する必要があります。存在しない場合、インポート操作に失敗します。 さらに、ホストの信頼レベルが一致する必要があります。  
  
- **別のアプリケーションへの参照を追加する必要があります。** インポートするアプリケーションは、別のアプリケーション内のアイテムに依存する場合は、このアプリケーションへの参照を追加する必要があります。 アプリケーションと必須アイテムは既にグループに存在する必要があります。 インポート ウィザードにはこのオプションが用意されています。 BTSTask の ImportApp コマンドを使用している場合する必要があります追加する、インポート後にアプリケーションへの参照」の説明に従って[別のアプリケーションへの参照を追加する方法](../core/how-to-add-a-reference-to-another-application.md)します。 背景情報は、次を参照してください。[依存関係とアプリケーションの展開](../core/dependencies-and-application-deployment.md)します。 インポート ウィザードはグループ内の既存のアプリケーションへの参照を一致させて、新しい参照を追加するか既存の参照を変更するオプションを提供します。 参照先のアプリケーションが必須アイテムを含んでいることを確認する追加手順を実行する必要があります。  
  
- **インポート操作がタイムアウトした場合は、別の .msi ファイルにアプリケーションを分割します。** インポート操作の所要時間が 3600 秒を超えた場合は、タイムアウトになります。 .msi ファイルをインポートするとき、操作がタイムアウトした場合は、アプリケーションを再度エクスポートし、エクスポートするアイテムのサブセットを選択して、アプリケーションのコンテンツを複数の .msi ファイルに分割する必要があります。 詳細については、次を参照してください。 [BizTalk アプリケーションのエクスポート方法](../core/how-to-export-a-biztalk-application.md)します。  
  
> [!IMPORTANT]
>  セキュリティ上の理由により、パスワードは、アプリケーションのエクスポート中にアプリケーションのバインドから削除されます。 ただし、既にアプリケーションに追加されたバインド ファイルからは削除されません。 アプリケーションをインポートした後、アプリケーションを機能させるためにパスワードを再構成する必要があります。 この操作を行うには、バインド ファイルを編集するか、管理コンソールを使用します。 バインド ファイルの編集の詳細については、次を参照してください。[バインド ファイルのカスタマイズ](../core/customizing-binding-files.md)します。 アダプターのセキュリティ構成の詳細については、次を参照してください。[を使用してアダプター](../core/using-adapters.md)します。  
> 
> [!NOTE]
>  インポートに失敗した場合、[!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] によってすべてのインポート操作がロールバックされます。ただし、カスタム スクリプトによって実行される操作は除きます。  
> 
> [!NOTE]
>  別のアプリケーションのプロパティ スキーマを使用するアプリケーションの送信ポートにフィルターを作成し、そのアプリケーションを新しい BizTalk グループにインポートした場合、そのアプリケーションをインストールおよび起動しても、フィルターは正しく機能せず、スキーマが欠落していることを伝える警告も発生しません。 この問題は、スキーマが欠落しているアプリケーションをインストールする前に、必要なスキーマを含んでいるアプリケーションをインポートすれば解決できます。  
  
## <a name="to-import-a-biztalk-application"></a>BizTalk アプリケーションをインポートするには  
  
#### <a name="using-the-biztalk-server-administration-console"></a>BizTalk Server 管理コンソールの使用  
  
1. クリックして**開始**、 をクリックして**すべてのプログラム**、 をクリックして[!INCLUDE[btsBizTalkServerStartMenuItemui](../includes/btsbiztalkserverstartmenuitemui-md.md)]、順にクリックします**BizTalk Server 管理**します。  
  
2. コンソール ツリーで、[[!INCLUDE[btsBizTalkServerAdminConsoleui](../includes/btsbiztalkserveradminconsoleui-md.md)]]、[BizTalk グループ] の順に展開し、次のいずれかの操作を実行します。  
  
   -   右クリックし、アプリケーションと BizTalk グループに .msi ファイルに含まれるアイテムをインポートする**アプリケーション**、 をポイント**インポート**、 をクリックし、 **MSI ファイル**。  
  
   -   既存のアプリケーションに .msi ファイルに含まれるアイテムをインポートするには、展開**アプリケーション**、アプリケーションを右クリックし、 をポイント**インポート**、 をクリックし、 **のMSIファイル**.  
  
3. MSI のインポート ウィザードのページへようこそ] で**インポートする MSI ファイル**、.msi ファイルのパスを入力し、[クリックして**次**します。 かどうか必要に応じてを参照できます、.msi ファイルをクリックして、 **.** ボタンをクリックします。  
  
4. アプリケーションの設定 ページで、**アプリケーション名**ドロップダウン リストで、使用可能な場合、アプリケーションの名前を選択します。 この一覧は、アプリケーションを BizTalk グループにインポートしている場合に使用できます。  
  
   > [!NOTE]
   >  一覧のすべてのアプリケーションの名前に現在含まれて、.msi ファイルのエクスポート元のアプリケーションと同様に、BizTalk グループにします。 .msi ファイルのエクスポート元アプリケーションの名前を選択すると、アプリケーションは BizTalk グループには存在しないので、インポート ウィザードによって新しいアプリケーションが作成されます。 グループに既に存在するアプリケーションを選択すると、インポート ウィザードは .msi ファイルから既存のアプリケーションにアイテムをインポートします。  
  
5. **への参照を追加できるアプリケーション**存在する場合、参照を追加するアプリケーションを選択し、クリックして**次**します。  
  
6. 既存のアプリケーションに .msi ファイルをインポートして既存のアプリケーション内のアイテムを上書きする場合は、選択**のリソースを上書き**します。  
  
   > [!NOTE]
   >  このオプションを選択しない場合、アプリケーションに既に存在するアイテムが .msi ファイルに含まれていると、インポート操作に失敗し操作がロールバックされます。 BizTalk アプリケーションまたはグループ内のアイテムのうち、特定の種類のアイテムは一意でなければなりません。 BizTalk グループに既に存在するアイテムを追加すると、現在のアプリケーションにはそのアイテムが存在しなくても、インポート操作に失敗します。これは上書きオプションを指定した場合も同様です。 どの成果物を一意にする必要があり、どのような方法でする必要がある一意の詳細については、次を参照してください。[成果物をする必要がありますする内で一意で、アプリケーションまたはグループ](../core/artifacts-that-must-be-unique-in-an-application-or-group.md)します。  
  
7. アプリケーションのターゲット環境の設定 ページで、**ターゲットのステージング環境**ドロップダウン リストがこのアプリケーションのターゲット環境を選択し、をクリックして**次へ**します。 この一覧には、このアプリケーションに追加されたすべてのバインド ファイルに指定されているすべての環境が含まれます。 選択\<既定\>ターゲット環境を指定のあるものを除くアプリケーションのすべてのバインドを適用するかどうか。 .Msi ファイルに明示的に適用するバインド ファイルが含まれていない場合おくことができます\<既定\>選択します。  
  
   > [!NOTE]
   >  バインド ファイルをアプリケーションに追加するときに、バインドのターゲット環境を指定します。 背景情報は、次を参照してください。[バインド ファイルとアプリケーションの展開](../core/binding-files-and-application-deployment.md)します。 バインド ファイルを追加する手順については、次を参照してください。[アプリケーションにバインド ファイルを追加する方法](../core/how-to-add-a-binding-file-to-an-application2.md)します。  
  
8. インポートの概要 ページで、概要情報が正しいことを確認し、**インポート**します。  
  
9. インポートに成功しました ページで、ローカル コンピューターにアプリケーションをインストールする場合を選択、 **、ローカル コンピューターにアプリケーションをインストールするアプリケーション インストール ウィザードを実行**チェック ボックスをオンします。  
  
    > [!NOTE]
    >  現在アプリケーションがローカル コンピューターで構成されている場合、アプリケーションを実行する必要がなければ、アプリケーションをインストールする必要はありません。 ただし、アプリケーションにファイルベースのアイテムが含まれている場合、アプリケーションが機能するためには、実行するすべてのコンピューターにアプリケーションをインストールする必要があります。アプリケーションのインポートでは BizTalk 管理データベースにしかアプリケーションは追加されません。  
  
10. **[完了]** をクリックします。  
  
> [!NOTE]
>  ローカル ファイル システムへの書き込みアクセス許可が与えられてないなどの理由によりインストールに失敗する場合、インストールはロールバックされますが、インポート操作はロールバックされません。  
  
#### <a name="using-the-command-line"></a>コマンドラインを使用  
  
1. 次のように、コマンド プロンプトを開きます: をクリックして**開始**、 をクリックして**実行**、型`cmd`、順にクリックします**OK**。  
  
2. 次の表に示すように、適切な値を置き換えて、次のコマンドを入力します。  
  
    **BTSTask の ImportApp/Package:** *値*[**/Environment:**<em>値</em>] [**/applicationname は:** <em>値</em>] **[/overwrite]** [**/Server:**<em>値</em>] [**/database:**<em>値</em>]  
  
    例:  
  
    **BTSTask ImportApp/Package:"C:\MSI \myapplication.msi"/Environment:Test applicationname: myapplication/overwrite**  
  
   |パラメーター|値|  
   |---------------|-----------|  
   |**/パッケージ**|.msi ファイルの完全パス。 パスにスペースが含まれている場合は、引用符 (") で囲む必要があります。|  
   |**/環境**|バインド ファイルの適用対象の展開環境 (Test など)。 これは、バインド ファイルをアプリケーションに追加するときに、対象の展開環境として指定した値です。|  
   |**/ApplicationName**|.msi ファイル内のアイテムをインポートする BizTalk アプリケーションの名前。 アプリケーション名を指定すると、指定しない場合、.msi ファイルのエクスポートを使用する場合。 指定したアプリケーションが存在しない場合は、それが作成されます。 スペースが含まれるアプリケーションの名前は、二重引用符 (") で囲む必要があります。|  
   |**/上書き**|.msi ファイル内のアイテムと、アプリケーション内のアイテムとが、同じローカル一意識別子 (LUID) を持つ場合に、アプリケーション内のアイテムを上書きするためのオプション。 このオプションを省略した場合、.msi ファイル内のアイテムと同じ LUID を持つアイテムがアプリケーションに存在すると、インポートは失敗します。 使用して、アプリケーションでアイテムの Luid を表示することができます、 [ListApp コマンド](../core/listapp-command.md)します。|  
   |**/サーバー**|BizTalk 管理データベースをホストする SQL Server インスタンスの名前。ServerName\InstanceName,Port の形式で指定します。<br /><br /> インスタンス名の指定は、そのインスタンス名がサーバー名と異なる場合にのみ必要です。 ポートの指定は、SQL Server で使用するポート番号が既定値 (1433) と異なる場合にのみ必要です。<br /><br /> 例 :<br /><br /> Server=MyServer<br /><br /> Server=MyServer\MySQLServer,1533<br /><br /> 指定しなかった場合、ローカル コンピューターで実行されている SQL Server インスタンスの名前が使用されます。|  
   |**/データベース**|BizTalk 管理データベースの名前。 指定しなかった場合、SQL Server のローカル インスタンスで実行されている BizTalk 管理データベースが使用されます。|  
  
## <a name="see-also"></a>参照  
 [BizTalk アプリケーション、バインド、およびポリシーのインポート](../core/importing-biztalk-applications-bindings-and-policies.md)   
 [ImportApp コマンド](../core/importapp-command.md)