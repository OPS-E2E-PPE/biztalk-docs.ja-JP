---
title: ポリシーをインポートする方法 |Microsoft Docs
ms.custom: ''
ms.date: 06/08/2017
ms.prod: biztalk-server
ms.reviewer: ''
ms.suite: ''
ms.tgt_pltfrm: ''
ms.topic: article
helpviewer_keywords:
- policies, requirements
- importing, policies
- policies, importing
- managing [policies], importing
ms.assetid: 92f6ef18-279f-416d-b13e-8b9642539d27
caps.latest.revision: 29
author: MandiOhlinger
ms.author: mandia
manager: anneta
ms.openlocfilehash: c70038d23dc43a865a5fe30d80543f0d1a47149a
ms.sourcegitcommit: 266308ec5c6a9d8d80ff298ee6051b4843c5d626
ms.translationtype: MT
ms.contentlocale: ja-JP
ms.lasthandoff: 06/27/2018
ms.locfileid: "37000299"
---
# <a name="how-to-import-a-policy"></a><span data-ttu-id="ec59e-102">ポリシーをインポートする方法</span><span class="sxs-lookup"><span data-stu-id="ec59e-102">How to Import a Policy</span></span>
<span data-ttu-id="ec59e-103">このトピックでは、BizTalk Server 管理コンソールを使用して BizTalk グループにポリシーをインポートする方法と、BTSTask コマンド ライン ツールを使用してポリシーを BizTalk アプリケーションにインポートする方法について説明します。</span><span class="sxs-lookup"><span data-stu-id="ec59e-103">This topic describes how to use the BizTalk Server Administration console to import a policy into a BizTalk group or the BTSTask command-line tool to import a policy into a BizTalk application.</span></span>  
  
 <span data-ttu-id="ec59e-104">」の説明に従って、ビジネス ルール作成ツールを使用してポリシーを作成することができます[ビジネス ルール作成ツールを使用して作成するビジネス ルール](../core/creating-business-rules-using-the-business-rule-composer.md)、しを直接インポートするか、」の説明に従って、別の BizTalk グループからポリシーをエクスポートすることができます[ポリシーをエクスポートする方法](../core/how-to-export-a-policy.md)し、それをインポートします。</span><span class="sxs-lookup"><span data-stu-id="ec59e-104">You can create a policy by using the Business Rule Composer, as described in [Creating Business Rules Using the Business Rule Composer](../core/creating-business-rules-using-the-business-rule-composer.md), and then import it directly, or you can export a policy from another BizTalk group, as described in [How to Export a Policy](../core/how-to-export-a-policy.md) and then import it.</span></span>  
  
 <span data-ttu-id="ec59e-105">ポリシーをインポートすると、BizTalk グループのルール エンジン データベースに登録されます。</span><span class="sxs-lookup"><span data-stu-id="ec59e-105">Importing a policy registers it in the Rule Engine database for the BizTalk group.</span></span> <span data-ttu-id="ec59e-106">インポートしたポリシーは、BizTalk Server 管理コンソールに表示できます。</span><span class="sxs-lookup"><span data-stu-id="ec59e-106">After you import the policy, you can view it in the BizTalk Server Administration console.</span></span> <span data-ttu-id="ec59e-107">ポリシーをインポートする BizTalk Server 管理コンソールを使用する場合に表示されます、\<すべての成果物\>BizTalk グループのノード。</span><span class="sxs-lookup"><span data-stu-id="ec59e-107">If you use the BizTalk Server Administration console to import a policy, it will display in the \<All Artifacts\> node for the BizTalk group.</span></span> <span data-ttu-id="ec59e-108">発行する」の説明に従って、BizTalk アプリケーションに追加できるようにし、[ポリシーを公開する方法](../core/how-to-publish-a-policy.md)します。</span><span class="sxs-lookup"><span data-stu-id="ec59e-108">You can then publish it to make it available to add it to a BizTalk application, as described in [How to Publish a Policy](../core/how-to-publish-a-policy.md).</span></span> <span data-ttu-id="ec59e-109">BTSTask コマンド ライン ツールを使用してポリシーをインポートしている場合、ポリシーは自動的に公開され、インポート先のアプリケーションのポリシー フォルダーに表示されます。</span><span class="sxs-lookup"><span data-stu-id="ec59e-109">If you use the BTSTask command-line tool to import a policy, the policy will be automatically published and will display in the Policies folder of the application into which you imported it.</span></span>  
  
 <span data-ttu-id="ec59e-110">ポリシーをインポートする際には、次の点に注意してください。</span><span class="sxs-lookup"><span data-stu-id="ec59e-110">When importing a policy, bear in mind the following important points:</span></span>  
  
- <span data-ttu-id="ec59e-111">インポートしたポリシーで既存のポリシーを上書きするオプションを指定した場合でも、グループのルール エンジン データベースに既に存在し、展開されているポリシーはインポートできません。</span><span class="sxs-lookup"><span data-stu-id="ec59e-111">Even if you specify the option to overwrite an existing policy with the imported policy, you cannot import a policy that already exists in the Rule Engine database for the group and has been deployed.</span></span> <span data-ttu-id="ec59e-112">この場合、インポート操作に失敗します。</span><span class="sxs-lookup"><span data-stu-id="ec59e-112">The import operation will fail.</span></span>  
  
- <span data-ttu-id="ec59e-113">別の BizTalk グループからのエクスポート時にポリシーが展開状態であっても、インポート時には展開解除状態になります。</span><span class="sxs-lookup"><span data-stu-id="ec59e-113">Even if the policy was in a deployed state when exported from another BizTalk group, it will be in an undeployed state when imported.</span></span>  
  
- <span data-ttu-id="ec59e-114">BTSTask にはポリシーをインポートする専用のコマンドはありませんが、BTSTask の ExportApp コマンドを使用して、他のアプリケーション アイテムは含まずにアプリケーション内の目的のポリシーだけを選択的にエクスポートすることができます。</span><span class="sxs-lookup"><span data-stu-id="ec59e-114">BTSTask does not provide a specific command for importing policies; however you can use the ExportApp command of BTSTask to selectively export only the policies in an application that you want, including no other application artifacts.</span></span> <span data-ttu-id="ec59e-115">それから ImportApp コマンドを使用して、その .msi ファイルを別の BizTalk グループ内のアプリケーションにインポートできます。</span><span class="sxs-lookup"><span data-stu-id="ec59e-115">Then you can use the ImportApp command to import the .msi file into an application in a different BizTalk group.</span></span> <span data-ttu-id="ec59e-116">この方法については、このトピックで説明します。</span><span class="sxs-lookup"><span data-stu-id="ec59e-116">This is the approach described in this topic.</span></span> <span data-ttu-id="ec59e-117">この方法では、ポリシーは BizTalk グループ内に自動的にインポートおよび公開されて、指定されたアプリケーションに追加されます。</span><span class="sxs-lookup"><span data-stu-id="ec59e-117">When you do this, the policy is automatically imported and published in the BizTalk group and added to the specified application.</span></span>  
  
  <span data-ttu-id="ec59e-118">ポリシーの使用方法の詳細については、[ポリシーの管理](../core/managing-policies.md)を参照してください。</span><span class="sxs-lookup"><span data-stu-id="ec59e-118">For more information about working with policies, see [Managing Policies](../core/managing-policies.md).</span></span> <span data-ttu-id="ec59e-119">アプリケーションにポリシーを追加する方法のベスト プラクティスは、[BizTalk アプリケーションの展開のベスト プラクティス](../core/best-practices-for-deploying-a-biztalk-application.md)を参照してください。</span><span class="sxs-lookup"><span data-stu-id="ec59e-119">For best practices on adding policies to applications, see [Best Practices for Deploying a BizTalk Application](../core/best-practices-for-deploying-a-biztalk-application.md).</span></span>  
  
> [!NOTE]
>  <span data-ttu-id="ec59e-120">ソリューション開発者がポリシーを作成し、それらをインポート、グループのルール エンジン データベース、ルール エンジン展開ウィザードを使用して」の説明に従って[とボキャブラリを展開およびポリシーの展開を解除する方法](../core/how-to-deploy-and-undeploy-policies-and-vocabularies.md)します。</span><span class="sxs-lookup"><span data-stu-id="ec59e-120">The solution developer can create policies and then import them into the Rule Engine database for the group by using the Rule Engine Deployment Wizard, as described in [How to Deploy and Undeploy Policies and Vocabularies](../core/how-to-deploy-and-undeploy-policies-and-vocabularies.md).</span></span>  
  
## <a name="prerequisites"></a><span data-ttu-id="ec59e-121">前提条件</span><span class="sxs-lookup"><span data-stu-id="ec59e-121">Prerequisites</span></span>  
 <span data-ttu-id="ec59e-122">このトピックの手順を実行するための前提条件は、次のとおりです。</span><span class="sxs-lookup"><span data-stu-id="ec59e-122">The following are prerequisites for performing the procedures in this topic:</span></span>  
  
-   <span data-ttu-id="ec59e-123">BizTalk Server 管理者グループに属するアカウントでログオンする必要があります。</span><span class="sxs-lookup"><span data-stu-id="ec59e-123">You must be logged on with an account that is a member of the BizTalk Server Administrators group.</span></span> <span data-ttu-id="ec59e-124">詳細なアクセス許可についてを参照してください。[を展開すると、BizTalk アプリケーションの管理に必要なアクセス許可](../core/permissions-required-for-deploying-and-managing-a-biztalk-application.md)します。</span><span class="sxs-lookup"><span data-stu-id="ec59e-124">For more detailed information on permissions, see [Permissions Required for Deploying and Managing a BizTalk Application](../core/permissions-required-for-deploying-and-managing-a-biztalk-application.md).</span></span>  
  
-   <span data-ttu-id="ec59e-125">ビジネス ルール エンジンがインストールされている必要があります。</span><span class="sxs-lookup"><span data-stu-id="ec59e-125">The Business Rule Engine must be installed.</span></span> <span data-ttu-id="ec59e-126">詳細については、[BizTalk Server 2013 および 2013 R2 のインストールの概要](http://msdn.microsoft.com/library/8041926c-cfc9-4eaf-9c28-a2c6e8015bc5)を参照してください。</span><span class="sxs-lookup"><span data-stu-id="ec59e-126">For more information, see [Installation Overview for BizTalk Server 2013 and 2013 R2](http://msdn.microsoft.com/library/8041926c-cfc9-4eaf-9c28-a2c6e8015bc5).</span></span>  
  
-   <span data-ttu-id="ec59e-127">BizTalk Server 管理コンソールを使用してポリシーをインポートする場合は、インポートするポリシーを含む使用可能な .xml ファイルが必要です。</span><span class="sxs-lookup"><span data-stu-id="ec59e-127">If you want to use the BizTalk Server Administration console to import a policy, you must have available an .xml file containing the policy that you want to import.</span></span> <span data-ttu-id="ec59e-128">」の説明に従って、別の BizTalk グループまたはアプリケーションからポリシーをエクスポートすることによってこのような .xml ファイルを生成できます[ポリシーをエクスポートする方法](../core/how-to-export-a-policy.md)、または」の説明に従って、ビジネス ルール作成ツールを使用して[インポートおよびエクスポートする方法ポリシーとボキャブラリ](../core/how-to-import-and-export-policies-and-vocabularies.md)します。</span><span class="sxs-lookup"><span data-stu-id="ec59e-128">You can generate such an .xml file by exporting a policy from another BizTalk group or application, as described in [How to Export a Policy](../core/how-to-export-a-policy.md), or by using the Business Rule Composer, as described in [How to Import and Export Policies and Vocabularies](../core/how-to-import-and-export-policies-and-vocabularies.md).</span></span>  
  
-   <span data-ttu-id="ec59e-129">BTSTask を使用してポリシーをインポートする場合は、インポートするポリシーを含む .msi ファイルが必要です。</span><span class="sxs-lookup"><span data-stu-id="ec59e-129">If you want to use BTSTask to import a policy, you must have an .msi file containing the policy to import.</span></span> <span data-ttu-id="ec59e-130">手順については、[ポリシーをエクスポートする方法](../core/how-to-export-a-policy.md)を参照してください。</span><span class="sxs-lookup"><span data-stu-id="ec59e-130">For instructions, see [How to Export a Policy](../core/how-to-export-a-policy.md).</span></span>  
  
## <a name="to-import-a-policy"></a><span data-ttu-id="ec59e-131">ポリシーをインポートするには</span><span class="sxs-lookup"><span data-stu-id="ec59e-131">To import a policy</span></span>  
  
#### <a name="using-the-biztalk-server-administration-console"></a><span data-ttu-id="ec59e-132">BizTalk Server 管理コンソールの使用</span><span class="sxs-lookup"><span data-stu-id="ec59e-132">Using the BizTalk Server Administration console</span></span>  
  
1. <span data-ttu-id="ec59e-133">クリックして**開始**、 をクリックして**すべてのプログラム**、 をクリックして[!INCLUDE[btsBizTalkServerStartMenuItemui](../includes/btsbiztalkserverstartmenuitemui-md.md)]、順にクリックします**BizTalk Server 管理**します。</span><span class="sxs-lookup"><span data-stu-id="ec59e-133">Click **Start**, click **All Programs**, click [!INCLUDE[btsBizTalkServerStartMenuItemui](../includes/btsbiztalkserverstartmenuitemui-md.md)], and then click **BizTalk Server Administration**.</span></span>  
  
2. <span data-ttu-id="ec59e-134">コンソール ツリーで、展開[!INCLUDE[btsBizTalkServerAdminConsoleui](../includes/btsbiztalkserveradminconsoleui-md.md)]、ポリシーをインポートするために展開する BizTalk グループを展開**アプリケーション**、順に展開**\<すべての成果物\>**.</span><span class="sxs-lookup"><span data-stu-id="ec59e-134">In the console tree, expand [!INCLUDE[btsBizTalkServerAdminConsoleui](../includes/btsbiztalkserveradminconsoleui-md.md)], expand the BizTalk group into which you want to import the policy, expand **Applications**, and then expand **\<All Artifacts\>**.</span></span>  
  
3. <span data-ttu-id="ec59e-135">右クリックして**ポリシー**、 をクリックし、**インポート**します。</span><span class="sxs-lookup"><span data-stu-id="ec59e-135">Right-click **Policies**, and then click **Import**.</span></span>  
  
4. <span data-ttu-id="ec59e-136">[参照] をクリックして、ポリシーを含む .xml ファイルに**オープン**します。</span><span class="sxs-lookup"><span data-stu-id="ec59e-136">Browse to the .xml file containing the policy and click **Open**.</span></span>  
  
    <span data-ttu-id="ec59e-137">ポリシーがグループにインポートされに表示されます、**ポリシー**フォルダーの**\<すべての成果物\>** します。</span><span class="sxs-lookup"><span data-stu-id="ec59e-137">The policy is imported into the group and displays in the **Policies** folder of **\<All Artifacts\>**.</span></span>  
  
#### <a name="using-the-command-line"></a><span data-ttu-id="ec59e-138">コマンドラインを使用</span><span class="sxs-lookup"><span data-stu-id="ec59e-138">Using the command line</span></span>  
  
1. <span data-ttu-id="ec59e-139">次のように、コマンド プロンプトを開きます: をクリックして**開始**、 をクリックして**実行**、型`cmd`、順にクリックします**OK**。</span><span class="sxs-lookup"><span data-stu-id="ec59e-139">Open a command prompt as follows: Click **Start**, click **Run**, type `cmd`, and then click **OK**.</span></span>  
  
2. <span data-ttu-id="ec59e-140">次の表に示すように、適切な値を置き換えて、次のコマンドを入力します。</span><span class="sxs-lookup"><span data-stu-id="ec59e-140">Type the following command, substituting the appropriate values, as described in the following table:</span></span>  
  
    <span data-ttu-id="ec59e-141">**BTSTask の ImportApp/Package:** *値*[**/applicationname は:**<em>値</em>] **[/overwrite]** [**/サーバー:**<em>値</em>] [**/database:**<em>値</em>]</span><span class="sxs-lookup"><span data-stu-id="ec59e-141">**BTSTask ImportApp /Package:** *value* [**/ApplicationName:**<em>value</em>] [**/Overwrite**] [**/Server:**<em>value</em>] [**/Database:**<em>value</em>]</span></span>  
  
    <span data-ttu-id="ec59e-142">例:</span><span class="sxs-lookup"><span data-stu-id="ec59e-142">Example:</span></span>  
  
    <span data-ttu-id="ec59e-143">**BTSTask ImportApp/Package:"C:\MSI \myapplication.msi"/Environment:Test applicationname: myapplication/overwrite**</span><span class="sxs-lookup"><span data-stu-id="ec59e-143">**BTSTask ImportApp /Package:"C:\MSI Files\MyApplication.msi"  /Environment:Test /ApplicationName:MyApplication /Overwrite**</span></span>  
  
   |<span data-ttu-id="ec59e-144">パラメーター</span><span class="sxs-lookup"><span data-stu-id="ec59e-144">Parameter</span></span>|<span data-ttu-id="ec59e-145">値</span><span class="sxs-lookup"><span data-stu-id="ec59e-145">Value</span></span>|  
   |---------------|-----------|  
   |<span data-ttu-id="ec59e-146">**/パッケージ**</span><span class="sxs-lookup"><span data-stu-id="ec59e-146">**/Package**</span></span>|<span data-ttu-id="ec59e-147">インポートするポリシーを含む .msi ファイルの完全パス。</span><span class="sxs-lookup"><span data-stu-id="ec59e-147">Full path of the .msi file containing the policy to import.</span></span> <span data-ttu-id="ec59e-148">パスにスペースが含まれている場合は、引用符 (") で囲む必要があります。</span><span class="sxs-lookup"><span data-stu-id="ec59e-148">If the path includes spaces, you must enclose it in quotation marks (").</span></span>|  
   |<span data-ttu-id="ec59e-149">**/ApplicationName**</span><span class="sxs-lookup"><span data-stu-id="ec59e-149">**/ApplicationName**</span></span>|<span data-ttu-id="ec59e-150">ポリシーをインポートする BizTalk アプリケーションの名前。</span><span class="sxs-lookup"><span data-stu-id="ec59e-150">Name of the BizTalk application into which to import the policy.</span></span> <span data-ttu-id="ec59e-151">アプリケーション名を指定すると、指定しない場合、.msi ファイルのエクスポートを使用する場合。</span><span class="sxs-lookup"><span data-stu-id="ec59e-151">If not specified, the application name that was specified when exporting the .msi file is used.</span></span> <span data-ttu-id="ec59e-152">指定したアプリケーションが存在しない場合は、それが作成されます。</span><span class="sxs-lookup"><span data-stu-id="ec59e-152">If the specified application does not exist, it will be created.</span></span> <span data-ttu-id="ec59e-153">スペースが含まれるアプリケーションの名前は、二重引用符 (") で囲む必要があります。</span><span class="sxs-lookup"><span data-stu-id="ec59e-153">Application names that include spaces must be enclosed with double quotation marks (").</span></span>|  
   |<span data-ttu-id="ec59e-154">**/上書き**</span><span class="sxs-lookup"><span data-stu-id="ec59e-154">**/Overwrite**</span></span>|<span data-ttu-id="ec59e-155">アプリケーション内のポリシーを、.msi ファイル内の名前とバージョン番号が同じアイテムで上書きするオプション。</span><span class="sxs-lookup"><span data-stu-id="ec59e-155">Option to overwrite policies in the application with artifacts in the .msi file that have the same name and version number.</span></span> <span data-ttu-id="ec59e-156">このオプションを省略した場合、.msi ファイル内のポリシーと同じ名前とバージョン番号を持つポリシーがアプリケーション内に 1 つ以上存在すると、インポートは失敗します。</span><span class="sxs-lookup"><span data-stu-id="ec59e-156">If this option is not specified, and there are one or more policies in the application that have the same name and version number as policies in the .msi file, the import fails.</span></span> <span data-ttu-id="ec59e-157">使用して、アプリケーションでポリシーの名前とバージョン番号を表示することができます、 [ListApp コマンド](../core/listapp-command.md)します。</span><span class="sxs-lookup"><span data-stu-id="ec59e-157">You can view the name and version number of the policies in an application by using the [ListApp Command](../core/listapp-command.md).</span></span>|  
   |<span data-ttu-id="ec59e-158">**/サーバー**</span><span class="sxs-lookup"><span data-stu-id="ec59e-158">**/Server**</span></span>|<span data-ttu-id="ec59e-159">BizTalk 管理データベースをホストする SQL Server インスタンスの名前。ServerName\InstanceName,Port の形式で指定します。</span><span class="sxs-lookup"><span data-stu-id="ec59e-159">Name of the SQL Server instance hosting the BizTalk Management database, in the form ServerName\InstanceName,Port.</span></span><br /><br /> <span data-ttu-id="ec59e-160">インスタンス名の指定は、そのインスタンス名がサーバー名と異なる場合にのみ必要です。</span><span class="sxs-lookup"><span data-stu-id="ec59e-160">Instance name is only required when the instance name is different than the server name.</span></span> <span data-ttu-id="ec59e-161">ポートの指定は、SQL Server で使用するポート番号が既定値 (1433) と異なる場合にのみ必要です。</span><span class="sxs-lookup"><span data-stu-id="ec59e-161">Port is only required when SQL Server uses a port number other than the default (1433).</span></span><br /><br /> <span data-ttu-id="ec59e-162">例 :</span><span class="sxs-lookup"><span data-stu-id="ec59e-162">Examples:</span></span><br /><br /> <span data-ttu-id="ec59e-163">Server=MyServer</span><span class="sxs-lookup"><span data-stu-id="ec59e-163">Server=MyServer</span></span><br /><br /> <span data-ttu-id="ec59e-164">Server=MyServer\MySQLServer,1533</span><span class="sxs-lookup"><span data-stu-id="ec59e-164">Server=MyServer\MySQLServer,1533</span></span><br /><br /> <span data-ttu-id="ec59e-165">指定しなかった場合、ローカル コンピューターで実行されている SQL Server インスタンスの名前が使用されます。</span><span class="sxs-lookup"><span data-stu-id="ec59e-165">If not provided, the name of the SQL Server instance running on the local computer is used.</span></span>|  
   |<span data-ttu-id="ec59e-166">**/データベース**</span><span class="sxs-lookup"><span data-stu-id="ec59e-166">**/Database**</span></span>|<span data-ttu-id="ec59e-167">BizTalk 管理データベースの名前。</span><span class="sxs-lookup"><span data-stu-id="ec59e-167">Name of the BizTalk Management database.</span></span> <span data-ttu-id="ec59e-168">指定しなかった場合、SQL Server のローカル インスタンスで実行されている BizTalk 管理データベースが使用されます。</span><span class="sxs-lookup"><span data-stu-id="ec59e-168">If not specified, the BizTalk Management database running in the local instance of SQL Server is used.</span></span>|  
  
   > [!NOTE]
   >  <span data-ttu-id="ec59e-169">ユーザー アカウント制御 (UAC) をサポートするシステムでは、管理者特権を使用してこのツールを実行することが必要な場合があります。</span><span class="sxs-lookup"><span data-stu-id="ec59e-169">On a system that supports User Account Control (UAC), you may need to run the tool with Administrative privileges.</span></span> <span data-ttu-id="ec59e-170">これを行うには、アプリケーションを右クリックし、**管理者として実行**します。</span><span class="sxs-lookup"><span data-stu-id="ec59e-170">To do this, right-click the application, and then select **Run as administrator**.</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="ec59e-171">参照</span><span class="sxs-lookup"><span data-stu-id="ec59e-171">See Also</span></span>  
 <span data-ttu-id="ec59e-172">[BizTalk アプリケーション、バインド、およびポリシーのインポート](../core/importing-biztalk-applications-bindings-and-policies.md) </span><span class="sxs-lookup"><span data-stu-id="ec59e-172">[Importing BizTalk Applications, Bindings, and Policies](../core/importing-biztalk-applications-bindings-and-policies.md) </span></span>  
 <span data-ttu-id="ec59e-173">[BizTalk アプリケーション、バインド、およびポリシーのエクスポート](../core/exporting-biztalk-applications-bindings-and-policies.md) </span><span class="sxs-lookup"><span data-stu-id="ec59e-173">[Exporting BizTalk Applications, Bindings, and Policies](../core/exporting-biztalk-applications-bindings-and-policies.md) </span></span>  
 [<span data-ttu-id="ec59e-174">ポリシーの管理</span><span class="sxs-lookup"><span data-stu-id="ec59e-174">Managing Policies</span></span>](../core/managing-policies.md)