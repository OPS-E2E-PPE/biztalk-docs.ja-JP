---
title: "ビジネス アクティビティの監視 |Microsoft ドキュメント"
ms.custom: 
ms.date: 06/08/2017
ms.prod: biztalk-server
ms.reviewer: 
ms.suite: 
ms.tgt_pltfrm: 
ms.topic: article
ms.assetid: 83b3c92f-3062-413e-8d89-797f1c7ea7ab
caps.latest.revision: "14"
author: MandiOhlinger
ms.author: mandia
manager: anneta
ms.openlocfilehash: 9003c89f7e1e3491ff343078936a9f22e6a41ef1
ms.sourcegitcommit: cb908c540d8f1a692d01dc8f313e16cb4b4e696d
ms.translationtype: MT
ms.contentlocale: ja-JP
ms.lasthandoff: 09/20/2017
---
# <a name="business-activity-monitoring"></a>ビジネス アクティビティの監視
インフォメーション ワーカーがビジネス プロセスを確認し評価する際には、柔軟性が必要です。 たとえば、購買部長は 1 日に承認および拒否される注文書の数を確認する必要があり、販売部長は受注製品を 1 時間ごとに更新するとします。 これらの異なるニーズを満たすには、特定のビジネス プロセスで起こっている事象を追跡するための全般的なフレームワークが必要です。 これはまさに、Microsoft [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] のビジネス アクティビティ監視 (BAM) コンポーネントによって提供されるものです。  
  
 ![BAM の図](../core/media/bam-diagram.gif "bam_diagram")  
  
 上の図に示すように、BAM コンポーネントを使用すると、BizTalk アプリケーションで生成されるイベントやデータを監視できます。 これらの情報には、SOAP 呼び出し可能な Web サービスを使用してアクセスできます。また次に示す各種の方法でもアクセスできます。  
  
-   Microsoft Excel や、カスタム ダッシュボード アプリケーションなどその他のデスクトップ クライアントを使用。  
  
-   BizTalk Server のコンポーネントである BAM ポータルを使用。ビジネス ユーザーはこのポータルを使用して、BAM 情報を確認および構成できます。 BAM ポータルを使用して、インフォメーション ワーカーは一部のビジネス プロセスの特定のインスタンスを選択し、プロセスに固有の BAM ビューを選択します。 これらの各ビューでは、製品ごとの売上動向、現在の在庫レベル、その他の重要なパフォーマンス インジケーターがグラフィカルに表示されるなど、さまざまな視点で情報が提供されます。 これらのビューに表示される情報は、毎日、毎時間、またはそれ以上の頻度で更新できます。 インフォメーション ワーカーは、BAM ポータルを使用して、注文の対応件数、取り消し件数、過去 1 時間の処理件数などのデータ集計を定義することもできます。 BAM ポータルは、ASP.NET ページのセットとして実装されており、Microsoft Windows SharePoint Services 内の Web 部分として動作することもできます。  
  
-   SQL Server Notification Services を使用。BAM 情報を通知として配信できます。 最初の 2 つの方法は、インフォメーション ワーカーが BAM 情報を確認できるようにするものですが、この 3 つ目の方法は、注目すべきイベントが発生したときに通知を作成するものです。 インフォメーション ワーカーは、BAM ポータルの警告マネージャーを使用して、特定のイベント発生時に送信する警告を定義できます。 たとえば、BAM を使用すると、注文の取り消し件数が 1 日に 10 件を超えたときに特定のマネージャーに電子メールを送信したり、大口顧客から注文を受けたときに販売関係者に通知したりできます。  
  
 内部では、各 BAM ビューは 1 つ以上の BAM アクティビティに依存しています。 BAM アクティビティは、注文書の処理や製品の出荷などの特定のビジネス プロセスを表しており、それぞれにマイルストーンとビジネス データのセットを定義できます。 たとえば、注文書アクティビティには、承認済み、拒否、配信済みなどのマイルストーンと、顧客名や製品などのビジネス データを定義できます。  
  
 Excel では、Excel アドインを使用して BAM アクティビティと BAM ビューを作成でき、インフォメーション ワーカーが Excel から BAM にアクセスできるようになっています。 このアドイン用の BAM アクティビティ ウィザードを使用すると、アクティビティを定義でき、BAM ビュー ウィザードを使用すると、これらのアクティビティに基づいてビューを定義できます。 実際には、インフォメーション ワーカーは BAM ビュー ウィザードを使用して、1 つ以上の BAM アクティビティに含まれる情報から標準の Excel のピボット テーブルを作成しているだけです。 このビューで提供される情報は、次の図に示すように、Excel 上に直接表示できます。  
  
 ![](../core/media/understandingbts-12-bam2.gif "UnderstandingBTS_12_BAM2")  
  
 この単純な例では、2 つの Excel グラフに、注文の処理状況と販売状況についての情報が表示されます。 BAM ビューはさらに複雑なものにでき、BAM ビューの作成者は、BAM ビューで公開されるデータの参照を許可するユーザーを指定することもできます。 たとえば、購買部長に対し、発注プロセス ビュー内の、購買係には表示されない情報にアクセスすることを許可できます。  
  
 インフォメーション ワーカーは自分用の BAM ビューと BAM アクティビティを作成できますが、これらのビューとアクティビティは、そのインフォメーション ワーカーが監視するオーケストレーションで提供される情報に依存します。 したがって、開発者の作業がなくなるというわけではありません。 開発者は、追跡プロファイル エディター (TPE) というツールを使用してオーケストレーションを構成し、特定の BAM アクティビティとそのアクティビティに依存する BAM ビューに使用される情報が、オーケストレーションから提供されるようにする必要があります。 このツールを使用すると、開発者はオーケストレーション内のイベントとメッセージ フィールドを、BAM アクティビティ内の対応するマイルストーンとビジネス データにグラフィカルに関連付けることができます。 前の図に示すように、これらのイベントとメッセージ フィールドの値は [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] エンジンによって追跡データベースに送信され、BAM コンポーネントからアクセスできるようになります。 開発者がこれらの作業を行うときには、BAM アクティビティと BAM ビューについて意識する必要がありません。 このようなビジネス志向のサービスは、インフォメーション ワーカーだけが作成、保存、および使用します。  
  
 [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] では、TPE を使用して、パイプラインでのイベントの生成方法を指定することもできます。 さらに重要なことに、BAM ではオーケストレーションとして構築されているかどうかに関係なく、あらゆるユーザー コードで生成されたイベントを受け取って表示できるようになりました。 基本的に .NET Framework を使用して構築されたアプリケーションであれば、[!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] の BAM コンポーネントを使用して監視できます。  
  
## <a name="see-also"></a>参照  
 [インフォメーション ワーカー テクノロジ](../core/information-worker-technologies.md)