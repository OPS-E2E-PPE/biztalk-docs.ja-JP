---
title: "EDI セキュリティに関する既知の問題 |Microsoft ドキュメント"
ms.custom: 
ms.date: 06/08/2017
ms.prod: biztalk-server
ms.reviewer: 
ms.suite: 
ms.tgt_pltfrm: 
ms.topic: article
ms.assetid: 9d7f68bc-8460-4656-b9f2-955337458d78
caps.latest.revision: "20"
author: MandiOhlinger
ms.author: mandia
manager: anneta
ms.openlocfilehash: 9517f6c5b1aeae06b5989eef12fe269f81a27c74
ms.sourcegitcommit: cb908c540d8f1a692d01dc8f313e16cb4b4e696d
ms.translationtype: MT
ms.contentlocale: ja-JP
ms.lasthandoff: 09/20/2017
---
# <a name="known-issues-with-edi-security"></a><span data-ttu-id="0d342-102">EDI セキュリティに関する既知の問題</span><span class="sxs-lookup"><span data-stu-id="0d342-102">Known Issues with EDI Security</span></span>
<span data-ttu-id="0d342-103">このトピックでは、[!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] EDI と AS2 ソリューションのセキュリティに関する既知の問題について説明します。</span><span class="sxs-lookup"><span data-stu-id="0d342-103">This topic describes known issues with the security of [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] EDI and AS2 solutions.</span></span>  
  
## <a name="biztalk-will-not-suspend-a-signed-message-from-a-party-for-which-no-certificate-is-set"></a><span data-ttu-id="0d342-104">証明書が設定されていないパーティからの署名付きメッセージが BizTalk によって中断されない</span><span class="sxs-lookup"><span data-stu-id="0d342-104">BizTalk Will Not Suspend a Signed Message from a Party for which No Certificate is Set</span></span>  
 <span data-ttu-id="0d342-105">[パーティのプロパティ] ページの [証明書] ノードでパーティに署名証明書が設定されていないが、そのパーティからの着信メッセージが署名付きである場合は、BizTalk Server がメッセージを中断せず、証明書の不在に基づいて例外を発行します。</span><span class="sxs-lookup"><span data-stu-id="0d342-105">If you do not set a signing certificate on a party (in the Certificate node of the party's Party Properties page), but an incoming message from that party is signed, BizTalk Server will not suspend the message and throw an exception based on the absence of the certificate.</span></span>  
  
 <span data-ttu-id="0d342-106">[パーティ - AS2 メッセージの送信者] ページで受信メッセージ プロパティを上書きし、"メッセージに署名を付ける" プロパティをクリアすると、署名付き受信メッセージは停止されます。</span><span class="sxs-lookup"><span data-stu-id="0d342-106">If you override inbound message properties (on the Party as AS2 Message Sender page), and clear the "Message should be signed" property, BizTalk Server will suspend a signed incoming message.</span></span>  
  
## <a name="access-to-program-files-folder-can-be-limited-to-prevent-file-tampering"></a><span data-ttu-id="0d342-107">ファイルの改ざん防止のために、プログラム ファイル フォルダーへのアクセスが制限される場合がある</span><span class="sxs-lookup"><span data-stu-id="0d342-107">Access to Program Files Folder Can Be Limited to Prevent File Tampering</span></span>  
 <span data-ttu-id="0d342-108">認証されていないユーザーが BizTalk Server の実行可能ファイルおよび EDI スキーマを格納するプログラム ファイル フォルダーにアクセスできる場合、それらのファイルはそのようなユーザーによって変更される可能性があります。</span><span class="sxs-lookup"><span data-stu-id="0d342-108">If the Program Files folder that contains BizTalk Server executables and EDI schemas is available to users who are not authenticated, those users can potentially modify those files.</span></span> <span data-ttu-id="0d342-109">このような脅威から保護するためには、プログラム ファイル フォルダーでアクセス制御リスト (ACL) を使用し、アクセスを、信頼されているユーザーのみに制限できます。</span><span class="sxs-lookup"><span data-stu-id="0d342-109">To protect against that threat, you can use Access Control Lists (ACLs) on the Program Files folder to limit access to trusted users.</span></span>  
  
## <a name="a-schema-with-a-long-field-can-be-susceptible-to-a-denial-of-service-attack"></a><span data-ttu-id="0d342-110">文字数の多いフィールドを含むスキーマがサービス拒否の攻撃を受けやすい</span><span class="sxs-lookup"><span data-stu-id="0d342-110">A Schema with a Long Field Can Be Susceptible to a Denial-of-Service Attack</span></span>  
 <span data-ttu-id="0d342-111">文字数の多いフィールドを含むカスタム スキーマは、サービス拒否の攻撃の対象になる可能性があります。</span><span class="sxs-lookup"><span data-stu-id="0d342-111">A custom schema that has a field of very great length could potentially be exploited by a denial-of-service attack.</span></span> <span data-ttu-id="0d342-112">[!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] に付属のスキーマには、文字数が特に多いフィールドはありません。したがって、一般に、そのような攻撃を受けることはありません。</span><span class="sxs-lookup"><span data-stu-id="0d342-112">Schemas that are shipped with [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] do not have fields with great lengths, and therefore are generally not susceptible to such an attack.</span></span>  
  
## <a name="message-processing-will-be-aborted-if-a-control-number-exceeds-its-maximum-length"></a><span data-ttu-id="0d342-113">制御番号が最大文字数を超えると、メッセージの処理が中止される</span><span class="sxs-lookup"><span data-stu-id="0d342-113">Message Processing Will Be Aborted If a Control Number Exceeds Its Maximum Length</span></span>  
 <span data-ttu-id="0d342-114">インターチェンジ、グループ、またはトランザクション セットの制御番号の最大文字数は制限されています。</span><span class="sxs-lookup"><span data-stu-id="0d342-114">An interchange, group, or transaction set control number has a limited maximum length.</span></span> <span data-ttu-id="0d342-115">これらの制御番号の文字数が最大文字数を超えると、単一パーティを対象としたそのエンコードの種類のすべてのメッセージの処理は中止されます。</span><span class="sxs-lookup"><span data-stu-id="0d342-115">If the length of one of these control numbers exceeds the maximum length, the processing of all messages of that encoding type for a single party will be aborted.</span></span> <span data-ttu-id="0d342-116">別のエンコードの種類 (たとえば X12 ではなく EDIFACT など) のメッセージは影響を受けません。</span><span class="sxs-lookup"><span data-stu-id="0d342-116">A message of another encoding type (EDIFACT instead of X12, for example) will not be affected.</span></span> <span data-ttu-id="0d342-117">これは、セキュリティの脆弱性を表している場合があります。</span><span class="sxs-lookup"><span data-stu-id="0d342-117">This could represent a security vulnerability.</span></span>  
  
 <span data-ttu-id="0d342-118">シーケンス番号の文字数が最大文字数を超えると、ユーザーは影響を受けたパーティについて、EDI プロパティでシーケンス番号をリセットする必要があります。</span><span class="sxs-lookup"><span data-stu-id="0d342-118">If the length of a sequence number exceeds the maximum length, the user has to reset the sequence number in the EDI Property for the party affected.</span></span> <span data-ttu-id="0d342-119">番号をリセットしたら、そのエンコードの種類のすべてのメッセージの処理を再開できます。</span><span class="sxs-lookup"><span data-stu-id="0d342-119">After the number has been reset, all messages of that encoding type can once again be processed.</span></span>  
  
 <span data-ttu-id="0d342-120">X12 メッセージの場合、制御番号の最大文字数は 9 桁です。</span><span class="sxs-lookup"><span data-stu-id="0d342-120">For X12 messages, the maximum length of a control number is nine digits.</span></span> <span data-ttu-id="0d342-121">EDIFACT メッセージの場合、制御番号の最大文字数は、3 つのフィールドを合わせて 14 桁です。</span><span class="sxs-lookup"><span data-stu-id="0d342-121">For EDIFACT message, the maximum length of a control number is 14 digits over three fields.</span></span>  
  
## <a name="using-the-edi-receive-pipeline-with-an-http-adapter-will-leave-the-connection-open-if-no-ack-is-sent"></a><span data-ttu-id="0d342-122">HTTP アダプターと共に EDI 受信パイプラインを使用した場合に確認が送信されないと、接続が開いたままになる</span><span class="sxs-lookup"><span data-stu-id="0d342-122">Using the EDI Receive Pipeline with an HTTP Adapter Will Leave the Connection Open If No ACK Is Sent</span></span>  
 <span data-ttu-id="0d342-123">トランスポートの種類が HTTP であり、EDIReceive パイプラインを使用する受信場所を作成すると、セキュリティ上の問題が発生する可能性があります。</span><span class="sxs-lookup"><span data-stu-id="0d342-123">A security issue could occur if you create a receive location that uses the EDIReceive pipeline and has a transport type of HTTP.</span></span> <span data-ttu-id="0d342-124">EdiReceive パイプラインでは、HTTP の "200 OK" 受信確認は生成されません。</span><span class="sxs-lookup"><span data-stu-id="0d342-124">The EdiReceive pipeline will not generate an HTTP "200 OK" acknowledgment.</span></span> <span data-ttu-id="0d342-125">EDI の受信確認が返されないと、接続が正常に終了せず、開いたままになります。</span><span class="sxs-lookup"><span data-stu-id="0d342-125">If no EDI acknowledgment is returned, the connection will not be terminated gracefully, but will remain open.</span></span> <span data-ttu-id="0d342-126">接続は、接続タイムアウト期間が経過したときにタイムアウトになります。</span><span class="sxs-lookup"><span data-stu-id="0d342-126">The connection will time out when the time-out period has expired.</span></span>  
  
 <span data-ttu-id="0d342-127">AS2EdiREceive パイプラインには、この問題はありません。</span><span class="sxs-lookup"><span data-stu-id="0d342-127">This is not an issue with the AS2EdiREceive pipeline.</span></span>  
  
## <a name="an-x12-encoded-message-is-suspended-if-port-based-authentication-is-enabled-and-biztalk-server-does-not-have-access-to-the-authorization-and-security-information"></a><span data-ttu-id="0d342-128">ポートベースの認証が有効で、BizTalk Server が認証情報およびセキュリティ情報にアクセスできない場合、X12 でエンコードされたメッセージが中断される</span><span class="sxs-lookup"><span data-stu-id="0d342-128">An X12-Encoded Message Is Suspended If Port-Based Authentication Is Enabled and BizTalk Server Does Not Have Access to the Authorization and Security Information</span></span>  
 <span data-ttu-id="0d342-129">**現象**</span><span class="sxs-lookup"><span data-stu-id="0d342-129">**Symptom**</span></span>  
  
 <span data-ttu-id="0d342-130">BizTalk Server は、認証が有効になっている受信ポートでメッセージを受信したときに、そのメッセージを送信したパーティを特定できなければ、メッセージを中断します。</span><span class="sxs-lookup"><span data-stu-id="0d342-130">When a message is received over a receive port for which authentication is enabled, and the party that sent the message cannot be determined, BizTalk Server will suspend the message.</span></span>  
  
 <span data-ttu-id="0d342-131">**考えられる原因**</span><span class="sxs-lookup"><span data-stu-id="0d342-131">**Possible Cause**</span></span>  
  
 <span data-ttu-id="0d342-132">受信ポートで認証が有効になっている (受信ポートの "認証しない" プロパティがオフになっている) 場合、インターチェンジを処理するためには、BizTalk Server で ISA1 ～ ISA2 (認証修飾子および認証情報) プロパティおよび ISA3 ～ ISA4 (セキュリティ修飾子およびセキュリティ情報) プロパティが設定されている必要があります。</span><span class="sxs-lookup"><span data-stu-id="0d342-132">If authentication is enabled for a receive port (the "No Authentication" property for the receive port is cleared), BizTalk Server requires settings for the "ISA1-2 (Authorization qualifier and information)" and "ISA3-4 (Security qualifier and information)" properties in order to process the interchange.</span></span> <span data-ttu-id="0d342-133">これらのパーティのプロパティは、パーティの [X12 インターチェンジ処理のプロパティ] ページでインターチェンジの送信者として設定されます。</span><span class="sxs-lookup"><span data-stu-id="0d342-133">These properties are set for a party in the X12 Interchange Processing Properties page for the party as an interchange sender.</span></span> <span data-ttu-id="0d342-134">これらのプロパティの値を決定できない場合、BizTalk Server はメッセージを中断します。</span><span class="sxs-lookup"><span data-stu-id="0d342-134">If BizTalk Server cannot determine the values of these properties, it will suspend the message.</span></span>  
  
 <span data-ttu-id="0d342-135">これは、2 つの方法で発生します。</span><span class="sxs-lookup"><span data-stu-id="0d342-135">This can occur in two ways.</span></span> <span data-ttu-id="0d342-136">最初のケースでは、メッセージを送信したパーティを特定できない場合、BizTalk Server は EDI グローバル プロパティを使用するため、認証およびセキュリティの設定にアクセスできません。</span><span class="sxs-lookup"><span data-stu-id="0d342-136">In the first case, if BizTalk Server cannot determine the party that sent the message, it will use the EDI global properties and will not have access to the authorization and security settings.</span></span> <span data-ttu-id="0d342-137">その結果、メッセージは中断されます。</span><span class="sxs-lookup"><span data-stu-id="0d342-137">As a result, it will suspend the message.</span></span> <span data-ttu-id="0d342-138">2 番目のケースでは、BizTalk Server には、パーティが決定されますが、パーティの ISA1 2 および ISA3 ~ 4 のプロパティが構成されていない場合、BizTalk Server がもう一度アクセス権がない承認およびセキュリティ情報にし、メッセージは中断されます。</span><span class="sxs-lookup"><span data-stu-id="0d342-138">In the second case, if BizTalk Server determines the party, but the ISA1-2 and ISA3-4 properties for the party are not configured, BizTalk Server will again not have access to authorization and security information and will suspend the message.</span></span>  
  
 <span data-ttu-id="0d342-139">**解決策**</span><span class="sxs-lookup"><span data-stu-id="0d342-139">**Resolution**</span></span>  
  
 <span data-ttu-id="0d342-140">メッセージの送信側パーティを識別できること、およびパーティ アグリーメントで ISA1 ～ ISA2 および ISA3 ～ ISA4 プロパティが定義されていることを確認します。</span><span class="sxs-lookup"><span data-stu-id="0d342-140">Make sure that the sending party for the message can be identified and that the ISA1-2 and ISA3-4 properties are defined in the party agreement.</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="0d342-141">参照</span><span class="sxs-lookup"><span data-stu-id="0d342-141">See Also</span></span>  
 [<span data-ttu-id="0d342-142">EDI および AS2 ソリューションのトラブルシューティング</span><span class="sxs-lookup"><span data-stu-id="0d342-142">Troubleshooting EDI and AS2 Solutions</span></span>](../core/troubleshooting-edi-and-as2-solutions.md)