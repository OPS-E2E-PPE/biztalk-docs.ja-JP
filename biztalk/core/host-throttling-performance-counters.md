---
title: ホスト制限パフォーマンス カウンター |Microsoft Docs
ms.custom: ''
ms.date: 06/08/2017
ms.prod: biztalk-server
ms.reviewer: ''
ms.suite: ''
ms.tgt_pltfrm: ''
ms.topic: article
helpviewer_keywords:
- host throttling, performance counters
ms.assetid: b9090d1c-86be-40db-b814-cc116a426d95
caps.latest.revision: 22
author: MandiOhlinger
ms.author: mandia
manager: anneta
ms.openlocfilehash: 2b5f4d6d9683bcfa277ddfcdfe82b07ead198290
ms.sourcegitcommit: 381e83d43796a345488d54b3f7413e11d56ad7be
ms.translationtype: MT
ms.contentlocale: ja-JP
ms.lasthandoff: 05/07/2019
ms.locfileid: "65387535"
---
# <a name="host-throttling-performance-counters"></a>ホスト制限パフォーマンス カウンター
このセクションでは、スロットルの影響をホストするシステム パラメーターを測定するパフォーマンス モニター カウンターについて説明します。 次のパフォーマンス カウンターは各ホスト インスタンスにアクセスできますが、 **BizTalk:Message Agent**パフォーマンス オブジェクト カテゴリ。  
  
|カウンター|説明|  
|-------------|-----------------|  
|Active instance count|メモリ内でアクティブなサービス インスタンスの数。 オーケストレーション エンジンでは、サービス インスタンスは、オーケストレーション スケジュールの各実行のインスタンスを参照します。 エンド ポイント マネージャーのサービス インスタンスは 1 つのステートレス メッセージまたはステートフルなメッセージのコレクションに、対応か可能性があります。 **注:** ステートフルなインスタンスは、インスタンスに関連付けられたメッセージに関する特定の状態情報を維持することです。 ステートフルなインスタンスに属するメッセージは、何らかの形式で相関性です。 たとえば、順序に関する情報を維持する順次送信ポートは、ステートフルなインスタンスと見なされます。 ほとんどのメッセージング シナリオには、ステートレスなインスタンスのメッセージが互いに完全に独立して処理が必要があります。 このような各ステートレス インスタンスは、EPM 内で 1 つのメッセージに対応します。|  
|Database session|使用されているメッセージ ボックス データベースの同時接続の数。|  
|データベース セッションのしきい値|同時実行データベース セッションの現在のしきい値。 初期設定は、**データベース接続**で値を**リソース ベースの制限**] タブの [**設定ダッシュ ボード**します。 この値には、プロセスのデータベース セッションの使用量に基づいて自動的に調整されました。 同時実行データベース セッションの数が、いつでもこのしきい値を超えた場合は、ホスト制限が実装されます。|  
|データベース サイズ|このプロセスが公開したデータベース キューにメッセージの数。 この値は、すべてのホストとスプールと追跡テーブル内の項目の数のキュー テーブル内の項目の数によって測定されます。 プロセスは複数のキューに発行する場合、このカウンターには、すべてのキューの加重平均が反映されます。 **注:** ホストを再起動すると、メモリに保持されている統計は失われます。 BizTalk Server が 100 以上である場合のみ、統計の収集を再開するが、関連するオーバーヘッドが 5%、合計して発行するためには、再起動のホスト プロセス内で発行します。|  
|高いデータベース セッション|-   0:標準<br />-   1:データベース セッション数がしきい値を超えています|  
|データベース サイズが大きい|-   0:標準<br />-   1:データベースのサイズがしきい値を超えました<br /><br /> このカウンターは、条件のいずれかに表示されている場合、いずれかの値に設定されます、 **DB のメッセージ カウント**しきい値に発生します。 [リソース ベースのスロットル設定の変更方法](../core/how-to-modify-resource-based-throttling-settings.md)この制限しきい値に関する情報を提供します。|  
|高のインプロセス メッセージ数|-   0:標準<br />-   1:インプロセス メッセージ数を超えています|  
|高いメッセージ配信率|-   0:標準<br />-   1:メッセージ配信率がメッセージの処理率を超えています|  
|高いメッセージ公開の割合|-   0:標準<br />-   1:公開要求率は、完了の割合を超えています。|  
|High process memory|-   0:標準<br />-   1:プロセス メモリがしきい値を超えています|  
|高システム メモリ|-   0:標準<br />-   1:システム メモリがしきい値を超えています|  
|スレッドの数|-   0:標準<br />-   1:スレッドの数がしきい値を超えています|  
|In-process message count|メモリ内のメッセージの数は、XLANG エンジンまたはまだ処理されていない送信メッセージング エンジンに配信します。|  
|In-process message count threshold|インプロセス メッセージ カウントの現在のしきい値。|  
|メッセージ配信の遅延 (ミリ秒)|(メッセージ配信が制限されている場合に適用可能) メッセージ配信バッチごとに適用されるミリ秒で現在の遅延時間。|  
|Message delivery incoming rate|指定されたサンプル間隔で、オーケストレーション エンジンまたはメッセージング エンジンに配信された 1 秒あたりのメッセージの数。|  
|メッセージ配信の送信速度|指定されたサンプル間隔で、オーケストレーション エンジンまたはメッセージング エンジンによって処理されている 1 秒あたりのメッセージの数。|  
|メッセージ配信の制限の状態|システムで (XLANG メッセージ処理および送信トランスポートに影響を与える) メッセージ配信を制限するかどうかを示すフラグです。<br /><br /> -   0:制限なし<br />-   1:不均衡なメッセージ配信率に起因する制限 (入力率が出力率を超えています)<br />-   3:高のインプロセス メッセージ カウントに起因する制限<br />-   4:プロセス メモリ不足に起因する制限<br />-   5:システム メモリ不足のための調整<br />-   9:スレッドの数に起因する制限<br />-   10:配信におけるユーザー指定に起因する制限。|  
|メッセージ配信の調整状態の期間|システムがこの状態になった後の秒。 ホストを調整すると、どのくらいの期間にはされている調整; 場合スロットルがない場合の制限が適用された後どのくらいの時間。|  
|メッセージの配信制限ユーザー オーバーライドします。|このカウンターは、ユーザー指定による、エンジンによって監視され、次のように解釈されるを反映しています。<br /><br /> -   0:オーバーライドはありません。<br />-   1:メッセージ配信を常にスロットル<br />-   2:メッセージの配信を制限しません。<br /><br /> このオーバーライドは構成可能で、**割合に基づく制限**] タブの [**設定ダッシュ ボード**します。|  
|メッセージ公開の遅延 (ミリ秒)|現在の遅延 (ミリ秒) は、各メッセージ公開バッチ (バッチが制限から除外されていない場合と、メッセージ公開が制限されている場合) に適用されます。|  
|Message publishing incoming rate|指定されたサンプル間隔、パブリッシング用のデータベースに送信される 1 秒あたりのメッセージの数。|  
|Message publishing outgoing rate|指定されたサンプル間隔で、データベースで実際に発行されている 1 秒あたりのメッセージの数。|  
|メッセージ公開の制限の状態|システムで (XLANG メッセージ処理および受信トランスポートに影響を与える) メッセージの公開を制限するかどうかを示すフラグです。<br /><br /> -   0:制限なし<br />-   2:不均衡なメッセージ公開の割合に起因する制限 (入力率が出力率を超えています)<br />-   4:プロセス メモリ不足に起因する制限<br />-   5:システム メモリ不足のための調整<br />-   6:データベース サイズの増加に起因する制限<br />-   8:高いセッション数に起因する制限<br />-   9:スレッドの数に起因する制限<br />-   11:公開におけるユーザー指定に起因する制限。|  
|メッセージ公開の状態期間の制限|システムがこの状態になった後の秒。 ホストを調整すると、どのくらいの期間にはされている調整; 場合スロットルがない場合の制限が適用された後どのくらいの時間。|  
|メッセージ公開の制限のユーザーをオーバーライドします。|このカウンターは、ユーザー指定による、エンジンによって監視され、次のように解釈されるを反映しています。<br /><br /> -   0:オーバーライドはありません。<br />-   1:常にメッセージの公開を制限します。<br />-   2:メッセージ公開を制限しません。<br /><br /> このオーバーライドは構成可能で、**割合に基づく制限**] タブの [**設定ダッシュ ボード**します。|  
|Physical memory usage (MB)|コンピューターのすべてのプロセスで使用されている MB の物理メモリの量。|  
|Process memory usage (MB)|(Mb) プロセスのメモリ使用量。 これは、プロセスのワーキング セットのサイズと、プロセスでページファイルに割り当てられた領域の合計の最大値です。|  
|Process memory usage threshold (MB)|プロセス メモリの消費量 (mb) の現在のしきい値。 初期設定は、**プロセス仮想**値**設定ダッシュ ボード**します。 コミットに使用可能なメモリに基づいて計算されます、割合の値が指定されている場合|  
|サービス クラス ID|サービス クラスにこのパフォーマンス カウンター インスタンスが対応する GUID の最初の部分の 10 進値。 プロセスが 1 つ以上のサービス クラスをホストし、メッセージ エージェントのパフォーマンス カウンターは、ほとんどのアクティブなサービス クラスのデータを表示します。|  
|Thread count|プロセス内で使用されているスレッドの数。|  
|Thread count threshold|プロセスのスレッドの数に対する現在のしきい値。 初期設定は、**スレッド**で値を**リソース ベースの制限**] タブの [**設定ダッシュ ボード**します。 この値は、現在のプロセスのスレッド要件に基づいて自動的に調整します。 プロセスのスレッドの数は、時間の任意の時点では、このしきい値を超えている場合は、ホスト制限が実装されます。|  
|コミットされたバッチの総数|サービス クラスがコミットされたデータベース バッチの数。|  
|配信されたメッセージの総数|送信メッセージの数は、オーケストレーション エンジンまたはエンド ポイント マネージャー (EPM) に配信します。|  
|公開されたメッセージの総数|公開されたメッセージの数。|  
  
> [!NOTE]
>  **BizTalk:Message Agent**パフォーマンス カウンターは、ホストの制限の動作を分析するという明確な目的に提供され、指定したホストがドキュメントをアクティブに処理しない限り、データをキャプチャはそのためです。 この動作を防ぐために設計を消費してパフォーマンス モニターでシステム スレッド アクティビティの制限が発生していないときに。  
  
## <a name="to-access-performance-counters"></a>パフォーマンス カウンターにアクセスするには  
 パフォーマンス カウンターにアクセスするのにには、次の手順を使用します。  
  
#### <a name="if-you-are-using-windows-2008"></a>Windows 2008 を使用している場合  
  
1.  クリックして**開始**、 をポイント**管理ツール**、順にクリックします**パフォーマンス モニター**します。  
  
2.  **パフォーマンス モニター**  ダイアログ ボックスで、展開**監視ツール**を選択します**パフォーマンス モニター**、 をクリックし、**追加**。  
  
3.  **カウンターの追加** ダイアログ ボックスから、**使用可能なカウンター**一覧で、展開、 **BizTalk:Message Agent**パフォーマンス カウンター オブジェクトとカウンターを選択します監視されます。  
  
4.  **インスタンスの選択したオブジェクト**一覧をクリックして、選択したカウンターを監視する特定のインスタンスを選択**追加**します。  使用可能なカウンターのインスタンスすべてを選択する\<**すべてのインスタンス**\>します。  
  
5.  カウンターを追加すると、次のようにクリックします。 **OK**します。  
  
     選択したパフォーマンス カウンターが表示される、**パフォーマンス モニター**画面。  
  
## <a name="see-also"></a>参照  
 [制限の設計の推奨事項](../core/throttling-design-recommendations.md)   
 [BizTalk Server がホスト制限を実装する方法](../core/how-biztalk-server-implements-host-throttling.md)   
 [BizTalk Server パフォーマンス チューニングのための設定ダッシュボードの使用](../core/using-settings-dashboard-for-biztalk-server-performance-tuning.md)