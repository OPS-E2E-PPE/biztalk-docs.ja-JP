---
title: WCF アダプターの証明書のインストール |Microsoft Docs
ms.custom: ''
ms.date: 06/08/2017
ms.prod: biztalk-server
ms.reviewer: ''
ms.suite: ''
ms.tgt_pltfrm: ''
ms.topic: article
helpviewer_keywords:
- tools, Certificates Management Console
- certificates, installing [WCF adapters]
- certificates, Certificates Management Console
- certificates, WCF adapters
- WCF adapters, send locations
- receive locations, WCF adapters
- send locations, WCF adapters
- WCF adapters, receive locations
- WCF adapters, certificates
ms.assetid: 04dc065f-a6e8-4359-8696-2a3de24d531d
caps.latest.revision: 13
author: MandiOhlinger
ms.author: mandia
manager: anneta
ms.openlocfilehash: f92f27f71f5989edaf847d3c0d340368553c7afa
ms.sourcegitcommit: 266308ec5c6a9d8d80ff298ee6051b4843c5d626
ms.translationtype: MT
ms.contentlocale: ja-JP
ms.lasthandoff: 06/27/2018
ms.locfileid: "37015187"
---
# <a name="installing-certificates-for-the-wcf-adapters"></a><span data-ttu-id="c4f2d-102">WCF アダプタの証明書のインストール</span><span class="sxs-lookup"><span data-stu-id="c4f2d-102">Installing Certificates for the WCF Adapters</span></span>
<span data-ttu-id="c4f2d-103">WCF アダプタでは、メッセージの暗号化と復号化、メッセージの署名し検証 (否認)、およびクライアント認証のために、公開キー基盤 (PKI) デジタル証明書を使用できます。</span><span class="sxs-lookup"><span data-stu-id="c4f2d-103">The WCF adapters can use public key infrastructure (PKI) digital certificates for purposes of message encryption and decryption, message signing and verification (non-repudiation), and client authentication.</span></span> <span data-ttu-id="c4f2d-104">このトピックでは、証明書を使用するさまざまなシナリオ、および WCF アダプタでデジタル証明書を使用する場合の構成オプションのガイドラインを示します。</span><span class="sxs-lookup"><span data-stu-id="c4f2d-104">This topic describes various certification usage scenarios and configuration option guidelines for using digital certificates with the WCF adapters.</span></span>  

## <a name="certificate-usage-scenarios-for-the-wcf-receive-locations"></a><span data-ttu-id="c4f2d-105">WCF 受信場所での証明書の使用シナリオ</span><span class="sxs-lookup"><span data-stu-id="c4f2d-105">Certificate Usage Scenarios for the WCF Receive Locations</span></span>  
 <span data-ttu-id="c4f2d-106">次の表は、証明書を WCF 受信場所にインストールする方法を示しています。</span><span class="sxs-lookup"><span data-stu-id="c4f2d-106">The following table shows how to install the certificates for the WCF receive locations.</span></span>  


|                                 <span data-ttu-id="c4f2d-107">証明書の使用法</span><span class="sxs-lookup"><span data-stu-id="c4f2d-107">Certificate usage</span></span>                                 |                             <span data-ttu-id="c4f2d-108">ユーザー コンテキスト</span><span class="sxs-lookup"><span data-stu-id="c4f2d-108">User context</span></span>                              |                                                                                                                                                                                     <span data-ttu-id="c4f2d-109">証明書ストアの場所</span><span class="sxs-lookup"><span data-stu-id="c4f2d-109">Certificate store location</span></span>                                                                                                                                                                                      |                      <span data-ttu-id="c4f2d-110">証明書の種類</span><span class="sxs-lookup"><span data-stu-id="c4f2d-110">Certificate type</span></span>                      |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <span data-ttu-id="c4f2d-111">証明書サーバーをインストールするタイミング</span><span class="sxs-lookup"><span data-stu-id="c4f2d-111">When to install the certificates</span></span>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 |
|-----------------------------------------------------------------------------------|-----------------------------------------------------------------------|-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|------------------------------------------------------------|-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| <span data-ttu-id="c4f2d-112">受信場所のセキュリティ設定に応じた暗号化の解読と署名</span><span class="sxs-lookup"><span data-stu-id="c4f2d-112">Decryption and signing depending on the security settings of the receive location</span></span> | <span data-ttu-id="c4f2d-113">受信ハンドラーに関連付けられているホスト インスタンスが使用するアカウント</span><span class="sxs-lookup"><span data-stu-id="c4f2d-113">Account used by the host instance associated with the receive handler</span></span> |                                                          <span data-ttu-id="c4f2d-114">実行している各コンピューターにログオン[!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)]各ホスト インスタンス サービス アカウントとして、受信場所をホストし、サービス証明書をインポートするは、**現在のユーザー \ 個人用 (マイ)** を格納します。</span><span class="sxs-lookup"><span data-stu-id="c4f2d-114">Log on to each computer running [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] that will host the receive locations as each host instance service account, and import the service certificate to the **Current User \ Personal (My)** store.</span></span>                                                           |                  <span data-ttu-id="c4f2d-115">独自のプライベート証明書</span><span class="sxs-lookup"><span data-stu-id="c4f2d-115">Own private certificate</span></span>                   | <span data-ttu-id="c4f2d-116">値を指定、**サービス証明書の拇印**次の構成でのプロパティ。</span><span class="sxs-lookup"><span data-stu-id="c4f2d-116">Specify the value for the **Service certificate - Thumbprint** property in the following configurations:</span></span><br /><br /> <span data-ttu-id="c4f2d-117">-**セキュリティ モード**プロパティの Wcf-basichttp 受信場所に設定されている**メッセージ**します。</span><span class="sxs-lookup"><span data-stu-id="c4f2d-117">-   The **Security mode** property of the WCF-BasicHttp receive location is set to **Message**.</span></span><br /><span data-ttu-id="c4f2d-118">-**クライアント資格情報の種類のトランスポート**プロパティの Wcf-basichttp 受信場所に設定されている**証明書**の**TransportCredentialOnly**セキュリティ モード。</span><span class="sxs-lookup"><span data-stu-id="c4f2d-118">-   The **Transport client credential type** property of the WCF-BasicHttp receive location is set to **Certificate** for the **TransportCredentialOnly** security mode.</span></span><br /><span data-ttu-id="c4f2d-119">-**クライアント資格情報の種類のメッセージ**プロパティの Wcf-wshttp 受信場所に設定されている**None**、**証明書**、または**UserName****メッセージ**セキュリティ モード。</span><span class="sxs-lookup"><span data-stu-id="c4f2d-119">-   The **Message client credential type** property of the WCF-WSHttp receive location is set to **None**, **Certificate**, or **UserName** for the **Message** security mode.</span></span><br /><span data-ttu-id="c4f2d-120">-**クライアント資格情報の種類のトランスポート**プロパティの Wcf-nettcp 受信場所に設定されている**None**または**証明書**の**トランスポート**セキュリティ モード。</span><span class="sxs-lookup"><span data-stu-id="c4f2d-120">-   The **Transport client credential type** property of the WCF-NetTcp receive location is set to **None** or **Certificate** for the **Transport** security mode.</span></span><br /><span data-ttu-id="c4f2d-121">-**クライアント資格情報の種類のメッセージ**プロパティの Wcf-nettcp 受信場所に設定されている**None**、 **UserName**、または**証明書****メッセージ**セキュリティ モード。</span><span class="sxs-lookup"><span data-stu-id="c4f2d-121">-   The **Message client credential type** property of the WCF-NetTcp receive location is set to **None**, **UserName**, or **Certificate** for the **Message** security mode.</span></span><br /><span data-ttu-id="c4f2d-122">-**クライアント資格情報の種類のメッセージ**プロパティの Wcf-nettcp 受信場所に設定されている**Windows**、 **UserName**、または**証明書**の**TransportWithMessageCredential**セキュリティ モード。</span><span class="sxs-lookup"><span data-stu-id="c4f2d-122">-   The **Message client credential type** property of the WCF-NetTcp receive location is set to **Windows**, **UserName**, or **Certificate** for the **TransportWithMessageCredential** security mode.</span></span><br /><span data-ttu-id="c4f2d-123">-**セキュリティ モード**Wcf-netmsmq のプロパティに設定されて**メッセージ**または**両方**します。</span><span class="sxs-lookup"><span data-stu-id="c4f2d-123">-   The **Security mode** property of the WCF-NetMsmq is set to **Message** or **Both**.</span></span> |
|                               <span data-ttu-id="c4f2d-124">クライアントの認証</span><span class="sxs-lookup"><span data-stu-id="c4f2d-124">Client authentication</span></span>                               |                                  <span data-ttu-id="c4f2d-125">なし</span><span class="sxs-lookup"><span data-stu-id="c4f2d-125">N/A</span></span>                                  | <span data-ttu-id="c4f2d-126">受信場所をホストする [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] を実行している各コンピュータに管理者としてログオンし、クライアントをこの受信場所に対して認証できるように、クライアントの X.509 証明書の CA 証明書チェーンをコンピュータの信頼されたルート証明機関の証明書ストアにインポートします。</span><span class="sxs-lookup"><span data-stu-id="c4f2d-126">Log on to each computer running [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] that will host the receive locations as Administrators, and import the CA certificate chain for the client X.509 certificates to the Trusted Root Certification Authorities certificate store of the computer so that the clients can be authenticated to this receive location.</span></span> | <span data-ttu-id="c4f2d-127">クライアントの X.509 証明書の CA 証明書チェーン</span><span class="sxs-lookup"><span data-stu-id="c4f2d-127">The CA certificate chain for the client X.509 certificates</span></span> |                                                                                                                                                                                                               <span data-ttu-id="c4f2d-128">次に示す構成で、クライアント証明書の CA 証明書チェーンを信頼されたルート証明機関の証明書ストアにインストールします。</span><span class="sxs-lookup"><span data-stu-id="c4f2d-128">Install the CA certificate chain for the client X.509 certificates to the Trusted Root Certification Authorities certificate store in the following configurations:</span></span><br /><br /> <span data-ttu-id="c4f2d-129">-**クライアント資格情報の種類のメッセージ**または**クライアント資格情報の種類のトランスポート**プロパティの Wcf-basichttp 受信場所に設定されている**証明書**します。</span><span class="sxs-lookup"><span data-stu-id="c4f2d-129">-   The **Message client credential type** or **Transport client credential type** property of the WCF-BasicHttp receive location is set to **Certificate**.</span></span><br /><span data-ttu-id="c4f2d-130">-**クライアント資格情報の種類のメッセージ**または**クライアント資格情報の種類のトランスポート**プロパティの Wcf-wshttp 受信場所に設定されている**証明書**します。</span><span class="sxs-lookup"><span data-stu-id="c4f2d-130">-   The **Message client credential type** or **Transport client credential type** property of the WCF-WSHttp receive location is set to **Certificate**.</span></span><br /><span data-ttu-id="c4f2d-131">-**クライアント資格情報の種類のメッセージ**または**クライアント資格情報の種類のトランスポート**プロパティの Wcf-nettcp 受信場所に設定されている**証明書**します。</span><span class="sxs-lookup"><span data-stu-id="c4f2d-131">-   The **Message client credential type** or **Transport client credential type** property of the WCF-NetTcp receive location is set to **Certificate**.</span></span><br /><span data-ttu-id="c4f2d-132">-**クライアント資格情報の種類のメッセージ**または**MSMQ 認証モード**プロパティの Wcf-netmsmq 受信場所に設定されている**証明書**します。</span><span class="sxs-lookup"><span data-stu-id="c4f2d-132">-   The **Message client credential type** or **MSMQ authentication mode** property of the WCF-NetMsmq receive location is set to **Certificate**.</span></span>                                                                                                                                                                                                                |

> [!NOTE]
>  <span data-ttu-id="c4f2d-133">標準の WCF 受信アダプターを使用しているため、 [ChainTrust](http://go.microsoft.com/fwlink/?LinkId=88960)クライアント証明書検証モードのクライアントの X.509 証明書の CA 証明書チェーンをインストールする必要があります。</span><span class="sxs-lookup"><span data-stu-id="c4f2d-133">Because the standard WCF receive adapters use the [ChainTrust](http://go.microsoft.com/fwlink/?LinkId=88960) mode to validate the client certificates, you must install the CA certificate chain for the client X.509 certificates.</span></span> <span data-ttu-id="c4f2d-134">この既定の動作を Wcf-custom または Wcf-customisolated アダプター cange に使用することができます。</span><span class="sxs-lookup"><span data-stu-id="c4f2d-134">You can use the WCF-Custom or the WCF-CustomIsolated adapters to cange this default behavior.</span></span>  

> [!NOTE]
>  <span data-ttu-id="c4f2d-135">分離 WCF 受信アダプタの場合は、分離ホスト インスタンスとそれに対応するアプリケーション プールのユーザー アカウントを一致させる必要があります。</span><span class="sxs-lookup"><span data-stu-id="c4f2d-135">For the isolated WCF receive adapters, you need to match the user account between an isolated host instance and the corresponding application pools.</span></span> <span data-ttu-id="c4f2d-136">BizTalk 分離ホストの詳細については、次を参照してください。 [Web サービスを有効にする](../core/enabling-web-services.md)します。</span><span class="sxs-lookup"><span data-stu-id="c4f2d-136">For more information about the BizTalk isolated hosts, see [Enabling Web Services](../core/enabling-web-services.md).</span></span>  

> [!NOTE]
>  <span data-ttu-id="c4f2d-137">Wcf-custom および Wcf-customisolated 受信場所、ユーザー コンテキスト、証明書ストアの場所、および証明書をインストールする証明書の種類によって異なります、 **serviceCredentials**と**clientCredentials**動作要素を設定します。</span><span class="sxs-lookup"><span data-stu-id="c4f2d-137">For the WCF-Custom and WCF-CustomIsolated receive locations, the user context, certificate store location, and certificate type for the certificates to install varies between the **serviceCredentials** and **clientCredentials** behavior element settings.</span></span>  

> [!NOTE]
>  <span data-ttu-id="c4f2d-138">受信場所、証明書の要素を使用している場合、**エンドポイント Id**プロパティもインストールする必要が公開されたサービス id の証明書で指定された証明書ストアに、 **エンドポイント Id**プロパティ。</span><span class="sxs-lookup"><span data-stu-id="c4f2d-138">If the receive location uses the certificate element for the **Endpoint Identity** property, you also have to install the certificate for the published service identity into the certificate store specified in the **Endpoint Identity** property.</span></span>  

> [!NOTE]
>  <span data-ttu-id="c4f2d-139">ホスト インスタンス サービス アカウントまたは管理者アカウントを使用してコンピュータにログオンする代わりに、[別のユーザーとして実行] を使用すると、適用可能なアカウントを使用して同じアクションを実行できます。</span><span class="sxs-lookup"><span data-stu-id="c4f2d-139">Instead of log on to the computer using host instance service account or administrator account, you can alternatively use Run As command with applicable accounts to perform the same action.</span></span>  

## <a name="certificate-usage-scenarios-for-the-wcf-send-ports"></a><span data-ttu-id="c4f2d-140">WCF 送信ポートでの証明書の使用シナリオ</span><span class="sxs-lookup"><span data-stu-id="c4f2d-140">Certificate Usage Scenarios for the WCF Send Ports</span></span>  
 <span data-ttu-id="c4f2d-141">次の表は、証明書を WCF 送信ポートにインストールする方法を示しています。</span><span class="sxs-lookup"><span data-stu-id="c4f2d-141">The following table shows how to install the certificates for the WCF send ports.</span></span>  


|                                                 <span data-ttu-id="c4f2d-142">証明書の使用法</span><span class="sxs-lookup"><span data-stu-id="c4f2d-142">Certificate usage</span></span>                                                  |                          <span data-ttu-id="c4f2d-143">ユーザー コンテキスト</span><span class="sxs-lookup"><span data-stu-id="c4f2d-143">User context</span></span>                           |                                                                                                                                                                                                      <span data-ttu-id="c4f2d-144">証明書ストアの場所</span><span class="sxs-lookup"><span data-stu-id="c4f2d-144">Certificate store location</span></span>                                                                                                                                                                                                      |                                       <span data-ttu-id="c4f2d-145">証明書の種類</span><span class="sxs-lookup"><span data-stu-id="c4f2d-145">Certificate type</span></span>                                       |                                                                                                                                                                                                                                                                                                                                                                                                                                                   <span data-ttu-id="c4f2d-146">証明書サーバーをインストールするタイミング</span><span class="sxs-lookup"><span data-stu-id="c4f2d-146">When to install the certificates</span></span>                                                                                                                                                                                                                                                                                                                                                                                                                                                   |
|--------------------------------------------------------------------------------------------------------------------|-----------------------------------------------------------------|--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|----------------------------------------------------------------------------------------------|--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
|                                               <span data-ttu-id="c4f2d-147">クライアントの認証</span><span class="sxs-lookup"><span data-stu-id="c4f2d-147">Client authentication</span></span>                                                | <span data-ttu-id="c4f2d-148">送信ポートに関連付けられているホスト インスタンスが使用するアカウント</span><span class="sxs-lookup"><span data-stu-id="c4f2d-148">Account used by the host instance associated with the send port</span></span> |                                                                               <span data-ttu-id="c4f2d-149">実行している各コンピューターにログオン[!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)]各ホスト インスタンス サービス アカウントとして、送信ポートをホストし、クライアント証明書をインポートするが、**現在のユーザー \ 個人用 (マイ)** を格納します。</span><span class="sxs-lookup"><span data-stu-id="c4f2d-149">Log on to each computer running [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] that will host the send ports as each host instance service account, and import the client certificate to the **Current User \ Personal (My)** store.</span></span>                                                                               |                                   <span data-ttu-id="c4f2d-150">独自のプライベート証明書</span><span class="sxs-lookup"><span data-stu-id="c4f2d-150">Own private certificate</span></span>                                    |                                                                                              <span data-ttu-id="c4f2d-151">値を指定、**クライアント証明書の拇印**次の構成でのプロパティ。</span><span class="sxs-lookup"><span data-stu-id="c4f2d-151">Specify the value for the **Client certificate - Thumbprint** property in the following configurations:</span></span><br /><br /> <span data-ttu-id="c4f2d-152">-**クライアント資格情報の種類のメッセージ**または**クライアント資格情報の種類のトランスポート**Wcf-basichttp 送信ポートのプロパティに設定されて**証明書**します。</span><span class="sxs-lookup"><span data-stu-id="c4f2d-152">-   The **Message client credential type** or **Transport client credential type** property of the WCF-BasicHttp send port is set to **Certificate**.</span></span><br /><span data-ttu-id="c4f2d-153">-**クライアント資格情報の種類のメッセージ**または**クライアント資格情報の種類のトランスポート**、Wcf-wshttp 送信ポートのプロパティに設定されて**証明書**します。</span><span class="sxs-lookup"><span data-stu-id="c4f2d-153">-   The **Message client credential type** or **Transport client credential type** property of the WCF-WSHttp send port is set to **Certificate**.</span></span><br /><span data-ttu-id="c4f2d-154">-**クライアント資格情報の種類のメッセージ**または**クライアント資格情報の種類のトランスポート**、Wcf-nettcp 送信ポートのプロパティに設定されて**証明書**します。</span><span class="sxs-lookup"><span data-stu-id="c4f2d-154">-   The **Message client credential type** or **Transport client credential type** property of the WCF-NetTcp send port is set to **Certificate**.</span></span><br /><span data-ttu-id="c4f2d-155">-**クライアント資格情報の種類のメッセージ**または**MSMQ 認証モード**Wcf-netmsmq 送信ポートのプロパティに設定されて**証明書**します。</span><span class="sxs-lookup"><span data-stu-id="c4f2d-155">-   The **Message client credential type** or **MSMQ authentication mode** property of the WCF-NetMsmq send port is set to **Certificate**.</span></span>                                                                                              |
| <span data-ttu-id="c4f2d-156">送信ポートのセキュリティ設定に応じたサービス認証、署名の確認、および暗号化</span><span class="sxs-lookup"><span data-stu-id="c4f2d-156">Service authentication, signature verification, and encryption depending on the security settings of the send port</span></span> |                               <span data-ttu-id="c4f2d-157">なし</span><span class="sxs-lookup"><span data-stu-id="c4f2d-157">N/A</span></span>                               | <span data-ttu-id="c4f2d-158">実行している各コンピューターにログオン[!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)]、管理者として、送信ポートをホストし、サービス証明書をインポートするが、**ローカル コンピューター \ その他の人 (アドレス帳)** 格納します。</span><span class="sxs-lookup"><span data-stu-id="c4f2d-158">Log on to each computer running [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] that will host the send ports as Administrators, and import the service certificate to the **Local Computer \ Other people (AddressBook)** store.</span></span> <span data-ttu-id="c4f2d-159">また、そのコンピュータの信頼されたルート証明機関の証明書ストアに、サービス証明書の CA 証明書チェーンをインストールする必要があります。</span><span class="sxs-lookup"><span data-stu-id="c4f2d-159">You also have to install the CA certificate chain for the service certificates to the Trusted Root Certification Authorities certificate store of the computer.</span></span> | <span data-ttu-id="c4f2d-160">-サービスのパブリック証明書</span><span class="sxs-lookup"><span data-stu-id="c4f2d-160">-   Service public certificate</span></span><br /><span data-ttu-id="c4f2d-161">でサービス証明書、CA 証明書チェーン</span><span class="sxs-lookup"><span data-stu-id="c4f2d-161">-   The CA certificate chain for the service certificate</span></span> |                                                                                                                                                                           <span data-ttu-id="c4f2d-162">値を指定、**サービス証明書の拇印**次の構成でのプロパティ。</span><span class="sxs-lookup"><span data-stu-id="c4f2d-162">Specify the value for the **Service certificate - Thumbprint** property in the following configurations:</span></span><br /><br /> <span data-ttu-id="c4f2d-163">-**クライアント資格情報の種類のメッセージ**または**クライアント資格情報の種類のトランスポート**Wcf-basichttp 送信ポートのプロパティに設定されて**証明書**します。</span><span class="sxs-lookup"><span data-stu-id="c4f2d-163">-   The **Message client credential type** or **Transport client credential type** property of the WCF-BasicHttp send port is set to **Certificate**.</span></span><br /><span data-ttu-id="c4f2d-164">-**クライアント資格情報の種類のメッセージ**、Wcf-wshttp 送信ポートのプロパティに設定されて**None**、 **UserName**、または**証明書**ときに、**サービス資格情報をネゴシエート**オプションはオフにします。</span><span class="sxs-lookup"><span data-stu-id="c4f2d-164">-   The **Message client credential type** property of the WCF-WSHttp send port is set to **None**, **UserName**, or **Certificate** when the **Negotiate service credential** option is cleared.</span></span><br /><span data-ttu-id="c4f2d-165">-**セキュリティ モード**の Wcf-netmsmq 送信ポートが に設定されている**メッセージ**または**両方**します。</span><span class="sxs-lookup"><span data-stu-id="c4f2d-165">-   The **Security mode** of the WCF-NetMsmq send port is set to **Message** or **Both**.</span></span>                                                                                                                                                                           |
| <span data-ttu-id="c4f2d-166">送信ポートのセキュリティ設定に応じたサービス認証、署名の確認、および暗号化</span><span class="sxs-lookup"><span data-stu-id="c4f2d-166">Service authentication, signature verification, and encryption depending on the security settings of the send port</span></span> |                               <span data-ttu-id="c4f2d-167">なし</span><span class="sxs-lookup"><span data-stu-id="c4f2d-167">N/A</span></span>                               |                         <span data-ttu-id="c4f2d-168">送信ポートをホストする [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] を実行している各コンピュータに管理者としてログオンし、サービスをこの送信ポートに対して認証できるように、クライアントの X.509 証明書の CA 証明書チェーンをコンピュータの信頼されたルート証明機関の証明書ストアにインポートします。</span><span class="sxs-lookup"><span data-stu-id="c4f2d-168">Log on to each computer running [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] that will host the send port as Administrators, and import the CA certificate chain for the client X.509 certificates to the Trusted Root Certification Authorities certificate store of the computer so that the service can be authenticated to this send port.</span></span>                         |                     <span data-ttu-id="c4f2d-169">サービス証明書の CA 証明書チェーン</span><span class="sxs-lookup"><span data-stu-id="c4f2d-169">The CA certificate chain for the service certificate</span></span>                     | <span data-ttu-id="c4f2d-170">かどうかは明示的に指定しないため、サービス証明書、**サービス証明書の拇印**プロパティに、サービスの X.509 CA 証明書チェーンが信頼されたルート証明機関に証明書のインストール次の構成で証明書ストア:</span><span class="sxs-lookup"><span data-stu-id="c4f2d-170">If you do not explicitly specify the service certificate for the **Service certificate - Thumbprint** property, install the CA certificate chain for the service X.509 certificates to the Trusted Root Certification Authorities certificate store in the following configurations:</span></span><br /><br /> <span data-ttu-id="c4f2d-171">-**セキュリティ モード**、Wcf-basichttp 送信ポートが に設定されている**トランスポート**または**TransportWithMessageCredential**します。</span><span class="sxs-lookup"><span data-stu-id="c4f2d-171">-   The **Security mode** of the WCF-BasicHttp send port is set to **Transport** or **TransportWithMessageCredential**.</span></span><br /><span data-ttu-id="c4f2d-172">-**セキュリティ モード**、Wcf-wshttp 送信ポートが に設定されている**トランスポート**または**TransportWithMessageCredential**します。</span><span class="sxs-lookup"><span data-stu-id="c4f2d-172">-   The **Security mode** of the WCF-WSHttp send port is set to **Transport** or **TransportWithMessageCredential**.</span></span><br /><span data-ttu-id="c4f2d-173">-**セキュリティ モード**に設定されているポートの WCF NetTcp 送信**TransportWithMessageCredential**します。</span><span class="sxs-lookup"><span data-stu-id="c4f2d-173">-   The **Security mode** of the WCF-NetTcp send port is set to **TransportWithMessageCredential**.</span></span><br /><span data-ttu-id="c4f2d-174">-**クライアント資格情報の種類のトランスポート**、Wcf-nettcp 送信ポートのプロパティに設定されて**None**または**証明書**します。</span><span class="sxs-lookup"><span data-stu-id="c4f2d-174">-   The **Transport client credential type** property of the WCF-NetTcp send port is set to **None** or **Certificate**.</span></span><br /><span data-ttu-id="c4f2d-175">-**クライアント資格情報の種類のメッセージ**、Wcf-nettcp 送信ポートのプロパティに設定されて**None**、 **UserName**、または**証明書**します。</span><span class="sxs-lookup"><span data-stu-id="c4f2d-175">-   The **Message client credential type** property of the WCF-NetTcp send port is set to **None**, **UserName**, or **Certificate**.</span></span> |

> [!NOTE]
>  <span data-ttu-id="c4f2d-176">標準の WCF 送信アダプターを使用しているため、 [ChainTrust](http://go.microsoft.com/fwlink/?LinkId=88960)サービス証明書検証モードのサービスの X.509 証明書の CA 証明書チェーンをインストールする必要があります。</span><span class="sxs-lookup"><span data-stu-id="c4f2d-176">Because the standard WCF send adapters use the [ChainTrust](http://go.microsoft.com/fwlink/?LinkId=88960) mode to validate the service certificates, you must install the CA certificate chain for the service X.509 certificates.</span></span> <span data-ttu-id="c4f2d-177">WCF-Custom アダプタまたは WCF-CustomIsolated アダプタを使用すると、この既定の動作を変更できます。</span><span class="sxs-lookup"><span data-stu-id="c4f2d-177">You can use the WCF-Custom or the WCF-CustomIsolated adapters to change this default behavior.</span></span>  

> [!NOTE]
>  <span data-ttu-id="c4f2d-178">Wcf-custom および Wcf-customisolated の送信ポート、ユーザー コンテキスト、証明書ストアの場所、および証明書をインストールする証明書の種類によって異なります、 **serviceCredentials**と**clientCredentials**動作要素を設定します。</span><span class="sxs-lookup"><span data-stu-id="c4f2d-178">For the WCF-Custom and WCF-CustomIsolated send ports, the user context, certificate store location, and certificate type for the certificates to install varies between the **serviceCredentials** and **clientCredentials** behavior element settings.</span></span>  

> [!NOTE]
>  <span data-ttu-id="c4f2d-179">送信ポートは、証明書の要素を使用している場合、**エンドポイント Id**プロパティもインストールする必要が予想されるサービス id の証明書で指定された証明書ストアに、**エンドポイントIdentity**プロパティ。</span><span class="sxs-lookup"><span data-stu-id="c4f2d-179">If the send port uses the certificate element for the **Endpoint Identity** property, you also have to install the certificate for the expected service identity into the certificate store specified in the **Endpoint Identity** property.</span></span>  

> [!NOTE]
>  <span data-ttu-id="c4f2d-180">ホスト インスタンス サービス アカウントまたは管理者アカウントを使用してコンピュータにログオンする代わりに、[別のユーザーとして実行] を使用すると、適用可能なアカウントを使用して同じアクションを実行できます。</span><span class="sxs-lookup"><span data-stu-id="c4f2d-180">Instead of log on to the computer using host instance service account or administrator account, you can alternatively use Run As command with applicable accounts to perform the same action.</span></span>  

## <a name="displaying-the-certificates-management-console"></a><span data-ttu-id="c4f2d-181">[証明書] 管理コンソールの表示</span><span class="sxs-lookup"><span data-stu-id="c4f2d-181">Displaying the Certificates Management Console</span></span>  
 <span data-ttu-id="c4f2d-182">[ローカル コンピュータ] と [現在のユーザー] の [証明書] 管理コンソール インターフェイスを表示するには、次の手順を実行します。</span><span class="sxs-lookup"><span data-stu-id="c4f2d-182">To display the Certificates Management Console interface for Local Computer and Current User, perform the following steps:</span></span>  

1.  <span data-ttu-id="c4f2d-183">をクリックして**開始**、 をクリックして**実行**、型**MMC**、 をクリック**OK** Microsoft 管理コンソールを開きます。</span><span class="sxs-lookup"><span data-stu-id="c4f2d-183">Click **Start**, click **Run**, type **MMC**, and click **OK** to open the Microsoft Management Console.</span></span>  

2.  <span data-ttu-id="c4f2d-184">**ファイル** メニューのをクリックして**スナップインの追加と削除**を表示する、**スナップインの追加と削除** ダイアログ ボックス。</span><span class="sxs-lookup"><span data-stu-id="c4f2d-184">On the **File** menu, click **Add/Remove Snap-in** to display the **Add/Remove Snap-in** dialog box.</span></span>  

3.  <span data-ttu-id="c4f2d-185">クリックして**追加**を表示する、**スタンドアロン スナップインの追加** ダイアログ ボックス。</span><span class="sxs-lookup"><span data-stu-id="c4f2d-185">Click **Add** to display the **Add Standalone Snap-in** dialog box.</span></span>  

4.  <span data-ttu-id="c4f2d-186">選択**証明書**クリックして、スナップインの一覧から**追加**します。</span><span class="sxs-lookup"><span data-stu-id="c4f2d-186">Select **Certificates** from the list of snap-ins, and then click **Add**.</span></span>  

5.  <span data-ttu-id="c4f2d-187">選択**コンピューター アカウント**、 をクリックして**次**、順にクリックします**完了**。</span><span class="sxs-lookup"><span data-stu-id="c4f2d-187">Select **Computer account**, click **Next**, and then click **Finish**.</span></span> <span data-ttu-id="c4f2d-188">[ローカル コンピュータ] の [証明書] 管理コンソール インターフェイスが追加されます。</span><span class="sxs-lookup"><span data-stu-id="c4f2d-188">This adds the Certificates Management Console interface for Local Computer.</span></span>  

6.  <span data-ttu-id="c4f2d-189">いることを確認**証明書**クリックして、スナップインの一覧が選択されている**追加**もう一度です。</span><span class="sxs-lookup"><span data-stu-id="c4f2d-189">Ensure that **Certificates** is still selected from the list of snap-ins, and then click **Add** again.</span></span>  

7.  <span data-ttu-id="c4f2d-190">選択 **[ユーザー アカウント**、] をクリックし、**完了**。</span><span class="sxs-lookup"><span data-stu-id="c4f2d-190">Select **My user account**, and then click **Finish**.</span></span> <span data-ttu-id="c4f2d-191">[現在のユーザー] の [証明書] 管理コンソール インターフェイスが追加されます。</span><span class="sxs-lookup"><span data-stu-id="c4f2d-191">This adds the Certificates Management Console interface for Current User.</span></span>  

    > [!NOTE]
    >  <span data-ttu-id="c4f2d-192">これにより、現在ログオンしているアカウントの [証明書] 管理コンソールが表示されます。</span><span class="sxs-lookup"><span data-stu-id="c4f2d-192">This displays the Certificates Management Console for the account that you are currently logged on as.</span></span> <span data-ttu-id="c4f2d-193">サービス アカウントの個人証明書ストアに証明書をインポートする必要がある場合は、最初にサービス アカウントの資格情報を使用してログオンしてください。</span><span class="sxs-lookup"><span data-stu-id="c4f2d-193">If you need to import certificates into the Personal store for a service account then you should log on with the service account credentials first.</span></span>  

8.  <span data-ttu-id="c4f2d-194">クリックして**閉じる**で、**スタンドアロン スナップイン** ダイアログ ボックス。</span><span class="sxs-lookup"><span data-stu-id="c4f2d-194">Click **Close** in the **Standalone Snap-in** dialog box.</span></span>  

9. <span data-ttu-id="c4f2d-195">をクリックして**OK**で、**スナップインの追加と削除** ダイアログ ボックス。</span><span class="sxs-lookup"><span data-stu-id="c4f2d-195">Click **OK** in the **Add/Remove Snap-in** dialog box.</span></span>