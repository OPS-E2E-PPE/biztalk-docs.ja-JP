---
title: 正常性と組み込みのツールを使用したパフォーマンスの監視 |Microsoft Docs
description: 可用性、ヘルス、およびパフォーマンスの BizTalk Server、およびモニターの SQL エージェント ジョブの監視
ms.custom: ''
ms.date: 01/14/2016
ms.prod: biztalk-server
ms.reviewer: ''
ms.suite: ''
ms.tgt_pltfrm: ''
ms.topic: article
ms.assetid: 96e244dc-b826-4a9f-a4e1-6dabc41eb144
caps.latest.revision: 20
author: MandiOhlinger
ms.author: mandia
manager: anneta
ms.openlocfilehash: c1fe69e9d1b63516a51230335aaf109e2de35f1b
ms.sourcegitcommit: 381e83d43796a345488d54b3f7413e11d56ad7be
ms.translationtype: MT
ms.contentlocale: ja-JP
ms.lasthandoff: 05/07/2019
ms.locfileid: "65394389"
---
# <a name="monitoring-biztalk-server"></a>BizTalk Server の監視
BizTalk Server アプリケーションとインフラストラクチャを定期的に監視と表示されている問題の解決は、BizTalk Server アプリケーションをユーザーにアクセスできるようにするのに役立ちます。 監視の目的は、例外が検出されないし、そのため、未解決の時間を最小限に抑えるです。 さらに、監視を使用して例外を引き起こす可能性がある状況を検出できます。  
  
 BizTalk Server を監視する場合、すべて予期されない、または異常な動作を探してください。 監視と、手動または自動のプロセスを指定できます。 監視することができます、BizTalk Server 管理コンソールを使用して、BizTalk Server インフラストラクチャの正常性を使用します。 BizTalk Server 管理コンソールを使用して、BizTalk Server アプリケーションの正常性を監視し、問題の根本原因を識別するために、根本原因分析を実行することができます。 . BizTalk Server を監視する場合は、これらの点に注意してください。  
  
- インフラストラクチャが正常でもアプリケーションは正常でない場合があります (アプリケーションが無効なメッセージを受信して処理できない場合など)。  
  
- インフラストラクチャに異常があってもアプリケーションは正常に実行されている場合もあります (サーバーがダウンしても負荷を引き継ぐのに十分なサーバーがホストに割り当てられている場合など)。  
  
- インフラストラクチャの問題がアプリケーションの問題のように見える場合があります (サーバーがダウンしているためにメッセージの処理が遅れている場合など)。  
  
  BizTalk Server とアプリケーションの監視は、次の 3 つの主なカテゴリに分類されます。  
  
- 可用性の監視  
  
- 正常性の監視  
  
- パフォーマンスの監視  
  
## <a name="availability-monitoring"></a>可用性の監視  
 「BizTalk Server アプリケーションを最適に実行を防止システムまたはアプリケーションのリソースの低下ですか?」質問の回答の可用性の監視 こうした問題は、ほぼ例外なくシステム レベルの問題 (サービスや接続の可用性の問題など) です。 たとえば、エンタープライズ シングル サインオン サービスが停止しているためにアダプターがエラーになる場合、それは可用性の問題です。 ホストに割り当てられているサーバーのいずれかでエラーが発生して、アプリケーションのメッセージ処理が遅れている場合も可用性の問題です。 同様に、アプリケーションが停止してメッセージを処理できない場合も可用性の問題です。 次の表では、可用性の監視ツールを示します。  
  
|ツール|タスク|  
|----------|----------|  
|BizTalk Server 管理コンソール|アプリケーションやそのコンポーネント (ポート/オーケストレーション) が停止したかどうかを確認するには、BizTalk Server 管理コンソールの [グループ ハブ] ページを確認する必要があります。|  
|イベント ビューアー|アダプターの接続の問題やサービスの停止などをチェックします。|  
  
## <a name="health-monitoring"></a>ヘルス状態の監視  
 稼働状況の監視では、"正常でないアプリケーションやリソースがないかどうか" を確認できます。 たとえば、アプリケーションやその構成アイテムで現在例外的な状態が発生していないかどうかや、 メッセージ ペイロードのデータが無効なために保留されているメッセージがないかどうかを確認できます。 次の表に、稼働状況の監視のためのツールを示します。  
  
|ツール|タスク|  
|----------|----------|  
|BizTalk Health Monitor ツール (BHM)|MMC スナップインで、BizTalk Server 環境の正常性を監視するユーザーにとって重要および重大でない問題の検出し、メンテナンス タスクを実行します。  [BizTalk Health Monitor のダウンロード](https://www.microsoft.com/download/details.aspx?id=43716)します。|  
|BizTalk Server 管理コンソール|アプリケーション正常性の問題を特定し、その原因を分析して、BizTalk Server 管理コンソールでグループ ハブ ページとクエリ ページが使用されます。|  
|イベント ビューアー|メッセージやオーケストレーションの処理の間に発生した問題を検出します。|  
  
## <a name="performance-monitoring"></a>パフォーマンス監視  
 パフォーマンス監視では、"システムの処理がどのくらい効率的に行われているか" を確認できます。 この種の監視では、主にデータベースやディスクのような物理的リソースへの負荷が焦点になります。 たとえば、CPU 使用率が常に 90 ～ 100% になっていて、メッセージのバックログが発生している場合は、コンピューター レベルのパフォーマンスに問題があります。 次の表に、パフォーマンス監視のためのツールを示します。  
  
|ツール|タスク|  
|----------|----------|  
|SQL クエリ アナライザー|データベースのサイズと内容を監視して、システムの問題を診断します。|  
|BizTalk Server 管理コンソール|グループ ハブ ページが現在アクティブ、退避済み、サービス インスタンスの数などの主要なパフォーマンス メトリックを表示は、実行、スケジュール、中断などの BizTalk Server アプリケーションで準備が整いました。|  
|ビジネス アクティビティ監視 (BAM)|ビジネス アプリケーションに関係する主要業績評価指標を追跡するビジネス プロセスの特定のステージを指定できます。|  
  
## <a name="biztalk-server-monitoring"></a>BizTalk Server の監視  
 実行することができます、 **Monitor BizTalk Server**管理、メッセージ ボックス、または DTA データベースの既知の問題を識別するために SQL エージェント ジョブ。 BizTalk Server 管理コンソールで、BizTalk グループの構成または以前のバージョンから BizTalk をアップグレードするときに、ジョブが作成されます。  
  
 Monitor BizTalk Server ジョブは、管理、メッセージ ボックス、および DTA データベースで、次の問題をスキャンできます。  
  
> [!NOTE]
>  Monitor BizTalk Server ジョブは、のみの問題をスキャンします。 発見された問題の修正は行いません。  
  
- 参照のないメッセージ  
  
- 参照カウントのないメッセージ  
  
- メッセージ参照数は 0 より小さい  
  
- スプール行のないメッセージ参照  
  
- インスタンスのないメッセージ参照  
  
- インスタンスのないインスタンスの状態  
  
- 対応するインスタンスのないインスタンス サブスクリプション  
  
- 孤立した DTA サービス インスタンス  
  
- 孤立した DTA サービス インスタンスの例外  
  
- グローバル追跡オプションが有効にすると、TDDS はホスト インスタンスで実行されていません。  
  
  Monitor BizTalk Server ジョブが構成され、1 週間に 1 回実行する自動します。 ジョブは計算負荷があるために、ダウンタイムまたは低トラフィック中にスケジュールすることお勧めします。  
  
  すべての問題が発生した場合、ジョブが失敗しました。エラーの文字列には、検出された問題の数が含まれています。 それ以外の場合、正常に実行します。 ジョブ履歴で詳細を確認できます。 管理者特権を持つジョブを実行する場合も (ジョブの履歴) と共に、エラー文字列をイベント ビューアーに記録されます。  
  
## <a name="troubleshooting"></a>トラブルシューティング  
 BizTalk Server アプリケーション (インフラストラクチャではなく) でのヘルスに関する問題を把握しておけばは、問題を分析して、BizTalk Server 管理コンソールで、グループ ハブ ページとクエリ ページを使用できます。 BizTalk Server 管理コンソールは、統合の構成、展開およびトラブルシューティングのエクスペリエンスを提供し、構成とデプロイを修正することができます特定した後、管理コンソール内の問題に関連します。 一般に、アプリケーションの問題のほとんどは、正しく処理されないメッセージに起因しています (中断されたサービス インスタンス、再試行中のポート、再アクティブ化されていない退避済みインスタンスなどとして現れる場合もあります)。  
  
 グループ ハブ ページとクエリ ページを使用するには、サービス インスタンスをグループ化する (どのような状態: 実行、中断、退避済みなど) アプリケーションでエラーの種類、サービスの種類、ホストなど、さまざまなエラーを特定し、1 つずつを調査し、解決するにはします。 メッセージ フローの履歴を調査する、BizTalk Server 管理コンソールから追跡データを監視することもできます。 または、オーケストレーションやルールの実行の履歴設定します。 この追跡データには、BizTalk Server アプリケーションに関する履歴データが含まれています。  
  
 BizTalk 管理コンソールで追跡を有効にした場合は追跡を使用してクエリを使用してメッセージ フローとサービス インスタンスを検索することができます。 これは、メッセージを検索し、たとえば、メッセージの種類 (スキーマ)、プロパティの値 (たとえば、顧客名) などののみを知っている場合に便利です。  
  
 以下のトピックでは、監視と、[BizTalk Server 管理コンソール、グループ ハブ] ページを使用したトラブルシューティングについて説明し、ページのクエリを実行します。 このセクションでは、追跡、トラブルシューティングや根本原因分析に支援するために使用できるも説明します。  
  
## <a name="more-good-stuff"></a>便利な機能  
  
-   [BizTalk Server 管理コンソールの使用](../core/using-the-biztalk-server-administration-console.md)  
  
-   [追跡メッセージおよびインスタンス データの表示](../core/viewing-tracked-message-and-instance-data.md)  
  
-   [EDI および AS2 ソリューションの監視](../core/monitoring-edi-and-as2-solutions.md)  
  
-   [BizTalk Server アプリケーションにおけるアイテム間の依存関係の追跡](../core/tracking-dependencies-between-artifacts-in-a-biztalk-server-application.md)

- [パフォーマンス カウンター](performance-counters.md)