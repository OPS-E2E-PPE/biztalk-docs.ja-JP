---
title: BizTalk Server の高可用性のシナリオのサンプル |Microsoft Docs
ms.custom: ''
ms.date: 06/08/2017
ms.prod: biztalk-server
ms.reviewer: ''
ms.suite: ''
ms.tgt_pltfrm: ''
ms.topic: article
helpviewer_keywords:
- architecture, small distributions
- examples, high availability
- architecture, examples
- high availability, examples
- examples, architecture
- databases, clustering
- architecture, medium distributions
- scaling
- architecture, large distributions
ms.assetid: ad9e3f57-1a23-41c2-82c9-dc8e1b29ed4d
caps.latest.revision: 30
author: MandiOhlinger
ms.author: mandia
manager: anneta
ms.openlocfilehash: 950f82a57c1f0be599fa9fbcceb4b6a590a0576e
ms.sourcegitcommit: 381e83d43796a345488d54b3f7413e11d56ad7be
ms.translationtype: MT
ms.contentlocale: ja-JP
ms.lasthandoff: 05/07/2019
ms.locfileid: "65393921"
---
# <a name="sample-biztalk-server-high-availability-scenarios"></a><span data-ttu-id="e8e92-102">サンプル BizTalk Server の高可用性のシナリオ</span><span class="sxs-lookup"><span data-stu-id="e8e92-102">Sample BizTalk Server High Availability Scenarios</span></span>
<span data-ttu-id="e8e92-103">このトピックでは、Microsoft のシナリオを説明します[!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)]をホストのスケール アウト層から高可用性を提供します。</span><span class="sxs-lookup"><span data-stu-id="e8e92-103">This topic describes the scenarios in Microsoft [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] that provide high availability through scaled-out tiers of hosts.</span></span> <span data-ttu-id="e8e92-104">別々 のホスト機能と階層内の領域を分離することで[!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)]管理者は、各ホストの冗長性を確保し、他のホストとは独立してスケールします。</span><span class="sxs-lookup"><span data-stu-id="e8e92-104">By separating areas of functionality into different hosts and tiers in [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)], administrators can provide redundancy for each host and scale them independently of other hosts.</span></span> <span data-ttu-id="e8e92-105">各機能領域の高可用性を実現するには、プライマリ関数ごとに個別のホストを作成する-受信、処理、送信、および追跡-クラスターと、[!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)]データベースと、エンタープライズ シングル サインオン マスター シークレット サーバーです。</span><span class="sxs-lookup"><span data-stu-id="e8e92-105">To provide high availability for each functional area, you create separate hosts for each primary function—receiving, processing, sending, and tracking—and cluster the [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] databases and the Enterprise Single Sign-On master secret server.</span></span>  
  
## <a name="small-biztalk-server-deployments"></a><span data-ttu-id="e8e92-106">小規模の BizTalk Server の展開</span><span class="sxs-lookup"><span data-stu-id="e8e92-106">Small BizTalk Server Deployments</span></span>  
 <span data-ttu-id="e8e92-107">最小[!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)]両方 SQL Server の高可用性を提供する展開と[!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)]for SQL Server をアクティブ/アクティブ クラスター構成を持つ 2 台のコンピューターの構成されます。</span><span class="sxs-lookup"><span data-stu-id="e8e92-107">The smallest [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] deployment that provides high availability for the both SQL Server and [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] is made up of two computers that have an active/active cluster configuration for SQL Server.</span></span> <span data-ttu-id="e8e92-108">両方のコンピューターには、環境内のすべての BizTalk ホストのインスタンスが含まれます。</span><span class="sxs-lookup"><span data-stu-id="e8e92-108">Both computers contain instances of all the BizTalk Hosts in the environment.</span></span> <span data-ttu-id="e8e92-109">1 台のコンピューターでは、障害が発生したり、エラーが発生した、他のコンピューターは、SQL Server と BizTalk Server の両方のサービスの可用性を維持します。</span><span class="sxs-lookup"><span data-stu-id="e8e92-109">If one computer fails or encounters errors, the other computer maintains service availability for both SQL Server and BizTalk Server.</span></span> <span data-ttu-id="e8e92-110">この構成できないため、マスター シークレット サーバーをクラスター対応していないため、高可用性は[!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)]ホスト インスタンスが起動しない、[!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)]パッシブ クラスター化されたエンタープライズ シングル サインオン リソースのコンピューター。</span><span class="sxs-lookup"><span data-stu-id="e8e92-110">This configuration is not highly available because it does not accommodate clustering the master secret server, since [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] host instances will not start on a [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] computer where the clustered Enterprise Single Sign-On resource is passive.</span></span> <span data-ttu-id="e8e92-111">マスター シークレット サーバーをクラスタ リングの詳細については、次を参照してください。[エンタープライズ シングル サインオンの高可用性](../core/high-availability-for-enterprise-single-sign-on.md)します。</span><span class="sxs-lookup"><span data-stu-id="e8e92-111">For more information about clustering the master secret server, see [High Availability for Enterprise Single Sign-On](../core/high-availability-for-enterprise-single-sign-on.md).</span></span>  
  
 <span data-ttu-id="e8e92-112">小規模[!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)]5 未満のコンピューターを含む展開では、お勧め、BizTalk Server コンピューターから別のコンピューターで BizTalk Server データベースを含む SQL Server クラスターを実行します。</span><span class="sxs-lookup"><span data-stu-id="e8e92-112">For small [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] deployments that contain fewer than five computers, we recommend that the SQL Server cluster that contains the BizTalk Server databases runs on separate computers from the BizTalk Server computers.</span></span> <span data-ttu-id="e8e92-113">BizTalk Server コンピューターは、すべての BizTalk ホストを実行できます (受信、処理、および送信) します。</span><span class="sxs-lookup"><span data-stu-id="e8e92-113">The BizTalk Server computers can run all the BizTalk Hosts (receive, process, and send).</span></span> <span data-ttu-id="e8e92-114">この展開を高可用性にするには、クラスターの SQL Server と、エンタープライズ シングル サインオン マスター シークレット サーバーと、環境内の各ホスト インスタンスを実行する 2 つの BizTalk サーバーがあります。</span><span class="sxs-lookup"><span data-stu-id="e8e92-114">To make this deployment highly available, cluster the SQL Server and the Enterprise Single Sign-On master secret server, and have two BizTalk Servers, each running an instance of each host in your environment.</span></span>  
  
 <span data-ttu-id="e8e92-115">次の図は、高可用性である小規模の BizTalk Server 展開を示します。</span><span class="sxs-lookup"><span data-stu-id="e8e92-115">The following figure shows a small BizTalk Server deployment that is highly available.</span></span>  
  
 <span data-ttu-id="e8e92-116">![小規模の BizTalk Server 展開](../core/media/tdi-highava-smalldepl.gif "TDI_HighAva_SmallDepl")</span><span class="sxs-lookup"><span data-stu-id="e8e92-116">![Small BizTalk Server Deployment](../core/media/tdi-highava-smalldepl.gif "TDI_HighAva_SmallDepl")</span></span>  
  
## <a name="medium-sized-biztalk-server-deployments"></a><span data-ttu-id="e8e92-117">BizTalk Server の規模の展開</span><span class="sxs-lookup"><span data-stu-id="e8e92-117">Medium-Sized BizTalk Server Deployments</span></span>  
 <span data-ttu-id="e8e92-118">5 ~ 10 台のコンピューターを含む中規模の展開、BizTalk Server データベースを含む SQL Server と、エンタープライズ シングル サインオン マスター シークレット サーバーをクラスター化することをお勧めします。</span><span class="sxs-lookup"><span data-stu-id="e8e92-118">For medium-sized deployments that contain five to ten computers, we recommend that you cluster the SQL Server that contains the BizTalk Server databases and the Enterprise Single Sign-On master secret server.</span></span> <span data-ttu-id="e8e92-119">自分のシナリオが受信集中型の場合は、専用の 2 つの BizTalk Server の高可用性ソリューションを提供する受信側のホスト インスタンスを実行したい場合があります。</span><span class="sxs-lookup"><span data-stu-id="e8e92-119">If your scenario is receive-intensive, you may want to dedicate two BizTalk Servers to run the receiving host instances to provide a highly available solution.</span></span> <span data-ttu-id="e8e92-120">2 つのコンピューターに、両方の処理を実行しているし、送信ホスト インスタンスをすることができます。</span><span class="sxs-lookup"><span data-stu-id="e8e92-120">You can then have two more computers that are running both the processing and send host instances.</span></span> <span data-ttu-id="e8e92-121">このようにするには、高可用性の展開が、両方の処理のホスト インスタンスを作成し、2 つの BizTalk サーバーでホストを送信します。</span><span class="sxs-lookup"><span data-stu-id="e8e92-121">To make this a highly available deployment, create host instances of both the processing and send hosts on two BizTalk Servers.</span></span> <span data-ttu-id="e8e92-122">同様に、処理負荷の高いシナリオがあれば、処理ホストのインスタンスを実行し、受信側の両方のインスタンスを実行している残りの 2 つの BizTalk サーバーし、送信ホストに 2 つの BizTalk サーバー専用にする可能性があります。</span><span class="sxs-lookup"><span data-stu-id="e8e92-122">Similarly, if you have a processing-intensive scenario, you may want to dedicate two BizTalk Servers to run the processing host instances, and have the remaining two BizTalk Servers running instances of both the receive and send hosts.</span></span>  
  
 <span data-ttu-id="e8e92-123">次の図は、受信側の操作に専用の 2 つの BizTalk Server で高可用性規模の BizTalk Server 展開を示しています。</span><span class="sxs-lookup"><span data-stu-id="e8e92-123">The following figure shows a highly available medium-sized BizTalk Server deployment with two BizTalk Servers dedicated to receiving operations.</span></span>  
  
 <span data-ttu-id="e8e92-124">![Medium&#45;BizTalk Server の展開の規模](../core/media/tdi-highava-meddepl.gif "TDI_HighAva_MedDepl")</span><span class="sxs-lookup"><span data-stu-id="e8e92-124">![Medium&#45;Sized BizTalk Server Deployment](../core/media/tdi-highava-meddepl.gif "TDI_HighAva_MedDepl")</span></span>  
  
 <span data-ttu-id="e8e92-125">エンタープライズ シングル サインオンの高可用性に関する詳細については、次を参照してください。[エンタープライズ シングル サインオンの高可用性](../core/high-availability-for-enterprise-single-sign-on.md)します。</span><span class="sxs-lookup"><span data-stu-id="e8e92-125">For more information about high availability for Enterprise Single Sign-On, see [High Availability for Enterprise Single Sign-On](../core/high-availability-for-enterprise-single-sign-on.md).</span></span>  
  
## <a name="large-scale-biztalk-server-deployments"></a><span data-ttu-id="e8e92-126">BizTalk Server の大規模な展開</span><span class="sxs-lookup"><span data-stu-id="e8e92-126">Large-Scale BizTalk Server Deployments</span></span>  
 <span data-ttu-id="e8e92-127">10 個以上のコンピューターを含む大規模な展開では、専用の受信、処理、および送信の各機能の個別の BizTalk Server コンピューターを割り当てます。</span><span class="sxs-lookup"><span data-stu-id="e8e92-127">For large-scale deployments that contain 10 or more computers, dedicate separate BizTalk Server computers for the receiving, processing, and sending functions.</span></span> <span data-ttu-id="e8e92-128">また、多くの BizTalk Server コンピューター グループである場合は場合、は、パフォーマンスを向上させるその他のメッセージ ボックス データベース コンピューターを含めることができます。</span><span class="sxs-lookup"><span data-stu-id="e8e92-128">Also, if you have many BizTalk Server computers in a group, you can include additional MessageBox database computers to increase performance.</span></span> <span data-ttu-id="e8e92-129">この場合、クラスター、メッセージ ボックス データベース、高可用性を提供する場合は、マスター シークレット サーバーをクリックします。</span><span class="sxs-lookup"><span data-stu-id="e8e92-129">In this case, cluster the MessageBox databases and the master secret server to provide high availability.</span></span>  
  
 <span data-ttu-id="e8e92-130">このような分散構成の柔軟性を示して[!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)]を評価および、配置内のエラーの特定のポイントを特定し、戦略的に、システムでこれらのポイントを削減するリソースを割り当てることができるためです。</span><span class="sxs-lookup"><span data-stu-id="e8e92-130">Such a distributed configuration demonstrates the flexibility of [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] because it lets you to evaluate and identify specific points of failure in your deployment, and then strategically allocate resources to reduce those points in the system.</span></span> <span data-ttu-id="e8e92-131">今日のダイナミックなビジネス環境は、ワークロードの変動やビジネス要件も日々 変化するために、このような柔軟性を要求します。</span><span class="sxs-lookup"><span data-stu-id="e8e92-131">Today's dynamic business environment demands such flexibility because workload fluctuations and business requirements can change daily.</span></span>  
  
 <span data-ttu-id="e8e92-132">アップグレードまたは新しいハードウェアを取得するのに追加のコストをかけるには、リソースの消費をあるコンピューターにいくつかのリソースを消費するコンピューターからリソースを移動することによって高可用性を実現するために既存のリソースを使用できます。</span><span class="sxs-lookup"><span data-stu-id="e8e92-132">Instead of spending additional money to upgrade or acquire new hardware, you can use existing resources to achieve high availability by moving resources from computers that consume few resources to computers that are resource-intensive.</span></span>  
  
 <span data-ttu-id="e8e92-133">次の図は、大規模な[!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)]展開します。</span><span class="sxs-lookup"><span data-stu-id="e8e92-133">The following figure shows a large-scale [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] deployment.</span></span>  
  
 <span data-ttu-id="e8e92-134">![大規模な&#45;BizTalk Server の展開をスケール](../core/media/tdi-highava-largedepl.gif "TDI_HighAva_LargeDepl")</span><span class="sxs-lookup"><span data-stu-id="e8e92-134">![Large&#45;Scale BizTalk Server Deployment](../core/media/tdi-highava-largedepl.gif "TDI_HighAva_LargeDepl")</span></span>  
  
 <span data-ttu-id="e8e92-135">エンタープライズ シングル サインオンの高可用性に関する詳細については、次を参照してください。[エンタープライズ シングル サインオンの高可用性](../core/high-availability-for-enterprise-single-sign-on.md)します。</span><span class="sxs-lookup"><span data-stu-id="e8e92-135">For more information about high availability for Enterprise Single Sign-On, see [High Availability for Enterprise Single Sign-On](../core/high-availability-for-enterprise-single-sign-on.md).</span></span>  
  
## <a name="providing-high-availability-using-hyper-v-and-failover-clustering"></a><span data-ttu-id="e8e92-136">HYPER-V とフェールオーバー クラスタ リングを使用して高可用性の実現</span><span class="sxs-lookup"><span data-stu-id="e8e92-136">Providing High Availability using Hyper-V and Failover Clustering</span></span>  
 <span data-ttu-id="e8e92-137">Windows® Server 2008 HYPER-V の役割と Windows Server 2008 フェールオーバー クラスタ リング機能は、仮想化サーバー コンピューティング環境の高可用性を提供する同時使用できます。</span><span class="sxs-lookup"><span data-stu-id="e8e92-137">The Windows® Server 2008 Hyper-V role and the Windows Server 2008 Failover Clustering feature can be used together to provide high availability for a virtualized server computing environment.</span></span> <span data-ttu-id="e8e92-138">BizTalk Server コンピューターとで使用される SQL Server コンピュータ、[!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)]展開を HYPER-V 仮想化環境にインストールされているし、フェールオーバー クラスタ リングによって高可用性になります。</span><span class="sxs-lookup"><span data-stu-id="e8e92-138">The BizTalk Server computers and the SQL Server computers used in a [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] deployment can be installed in a Hyper-V virtualized environment and then made highly available through failover clustering.</span></span> <span data-ttu-id="e8e92-139">HYPER-V でゲスト オペレーティング システムを実行に関連付けられているシステム リソースのコストがあるため、このようなソリューションを運用環境に展開する前に徹底的なパフォーマンス テストを実行することをお勧めします。</span><span class="sxs-lookup"><span data-stu-id="e8e92-139">Because there is a system resource cost associated with running a guest operating system on Hyper-V, we recommend that thorough performance testing is performed before deploying such a solution into production.</span></span> <span data-ttu-id="e8e92-140">HYPER-V とフェールオーバー クラスタ リングを使用しての詳細についてはまとめて高可用性の仮想マシンを参照してください"HYPER-V ステップ バイ ステップ ガイド。HYPER-V とフェールオーバー クラスタ リング"で[ http://go.microsoft.com/fwlink/?LinkID=129113](http://go.microsoft.com/fwlink/?LinkID=129113)します。</span><span class="sxs-lookup"><span data-stu-id="e8e92-140">For more information about using Hyper-V and Failover clustering together to provide high availability for virtual machines, see “Hyper-V Step-by-Step Guide: Hyper-V and Failover Clustering” at [http://go.microsoft.com/fwlink/?LinkID=129113](http://go.microsoft.com/fwlink/?LinkID=129113).</span></span> <span data-ttu-id="e8e92-141">展開の詳細については、 [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] 、HYPER-V の仮想化環境でダウンロードできる BizTalk Server の HYPER-V ガイドを参照してください。 [ http://go.microsoft.com/fwlink/?LinkId=189706](http://go.microsoft.com/fwlink/?LinkId=189706)します。</span><span class="sxs-lookup"><span data-stu-id="e8e92-141">For more information about deploying a [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] into a Hyper-V virtualized environment, see the BizTalk Server Hyper-V Guide available for download at [http://go.microsoft.com/fwlink/?LinkId=189706](http://go.microsoft.com/fwlink/?LinkId=189706).</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="e8e92-142">参照</span><span class="sxs-lookup"><span data-stu-id="e8e92-142">See Also</span></span>  
 <span data-ttu-id="e8e92-143">[BizTalk ホストの高可用性を実現します。](../core/providing-high-availability-for-biztalk-hosts.md) </span><span class="sxs-lookup"><span data-stu-id="e8e92-143">[Providing High Availability for BizTalk Hosts](../core/providing-high-availability-for-biztalk-hosts.md) </span></span>  
 <span data-ttu-id="e8e92-144">[BizTalk Server データベースの高可用性を実現します。](../core/providing-high-availability-for-biztalk-server-databases.md) </span><span class="sxs-lookup"><span data-stu-id="e8e92-144">[Providing High Availability for BizTalk Server Databases](../core/providing-high-availability-for-biztalk-server-databases.md) </span></span>  
 [<span data-ttu-id="e8e92-145">Enterprise Single Sign-On の高可用性</span><span class="sxs-lookup"><span data-stu-id="e8e92-145">High Availability for Enterprise Single Sign-On</span></span>](../core/high-availability-for-enterprise-single-sign-on.md)