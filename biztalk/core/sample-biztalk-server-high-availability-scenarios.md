---
title: BizTalk Server の高可用性のシナリオのサンプル |Microsoft ドキュメント
ms.custom: ''
ms.date: 06/08/2017
ms.prod: biztalk-server
ms.reviewer: ''
ms.suite: ''
ms.tgt_pltfrm: ''
ms.topic: article
helpviewer_keywords:
- architecture, small distributions
- examples, high availability
- architecture, examples
- high availability, examples
- examples, architecture
- databases, clustering
- architecture, medium distributions
- scaling
- architecture, large distributions
ms.assetid: ad9e3f57-1a23-41c2-82c9-dc8e1b29ed4d
caps.latest.revision: 30
author: MandiOhlinger
ms.author: mandia
manager: anneta
ms.openlocfilehash: ff4db96e89dc91ee96aaf5f0b60f0de34ce83425
ms.sourcegitcommit: cb908c540d8f1a692d01dc8f313e16cb4b4e696d
ms.translationtype: MT
ms.contentlocale: ja-JP
ms.lasthandoff: 09/20/2017
ms.locfileid: "22271666"
---
# <a name="sample-biztalk-server-high-availability-scenarios"></a><span data-ttu-id="d4f04-102">BizTalk Server の高可用性を実現するサンプル シナリオ</span><span class="sxs-lookup"><span data-stu-id="d4f04-102">Sample BizTalk Server High Availability Scenarios</span></span>
<span data-ttu-id="d4f04-103">このトピックは、ホストをスケールアウトすることによって Microsoft [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] の高可用性を実現するシナリオについて説明します。</span><span class="sxs-lookup"><span data-stu-id="d4f04-103">This topic describes the scenarios in Microsoft [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] that provide high availability through scaled-out tiers of hosts.</span></span> <span data-ttu-id="d4f04-104">管理者は、それぞれの機能領域を [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] の異なるホストおよび層に分離することにより、各ホストの冗長性を確保し、他のホストから独立して個別に拡張することができます。</span><span class="sxs-lookup"><span data-stu-id="d4f04-104">By separating areas of functionality into different hosts and tiers in [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)], administrators can provide redundancy for each host and scale them independently of other hosts.</span></span> <span data-ttu-id="d4f04-105">各機能領域の高可用性を実現するには、主要な機能 (受信、処理、送信、および追跡) ごとに別々のホストを作成し、[!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] データベースとエンタープライズ シングル サインオンのマスター シークレット サーバーをクラスター化します。</span><span class="sxs-lookup"><span data-stu-id="d4f04-105">To provide high availability for each functional area, you create separate hosts for each primary function—receiving, processing, sending, and tracking—and cluster the [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] databases and the Enterprise Single Sign-On master secret server.</span></span>  
  
## <a name="small-biztalk-server-deployments"></a><span data-ttu-id="d4f04-106">BizTalk Server の小規模な展開</span><span class="sxs-lookup"><span data-stu-id="d4f04-106">Small BizTalk Server Deployments</span></span>  
 <span data-ttu-id="d4f04-107">SQL Server と [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] の両方に高可用性を確保する最小限の [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] 環境には、SQL Server をアクティブ/アクティブのクラスター構成で実行する 2 台のコンピューターを使用します。</span><span class="sxs-lookup"><span data-stu-id="d4f04-107">The smallest [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] deployment that provides high availability for the both SQL Server and [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] is made up of two computers that have an active/active cluster configuration for SQL Server.</span></span> <span data-ttu-id="d4f04-108">この場合、両方のコンピューターが、BizTalk 環境のホスト インスタンスをすべて実行することになります。</span><span class="sxs-lookup"><span data-stu-id="d4f04-108">Both computers contain instances of all the BizTalk Hosts in the environment.</span></span> <span data-ttu-id="d4f04-109">1 台のコンピューターでエラーや障害が発生した場合、もう 1 台のコンピューターが、SQL Server と BizTalk Server の両方のサービスを引き継ぎます。</span><span class="sxs-lookup"><span data-stu-id="d4f04-109">If one computer fails or encounters errors, the other computer maintains service availability for both SQL Server and BizTalk Server.</span></span> <span data-ttu-id="d4f04-110">この構成はマスター シークレット サーバーのクラスター化に対応していないため、可用性はあまり高くありません。クラスター化されたエンタープライズ シングル サインオン リソースが [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] コンピューターでパッシブになっていて、[!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] ホスト インスタンスが起動しないからです。</span><span class="sxs-lookup"><span data-stu-id="d4f04-110">This configuration is not highly available because it does not accommodate clustering the master secret server, since [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] host instances will not start on a [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] computer where the clustered Enterprise Single Sign-On resource is passive.</span></span> <span data-ttu-id="d4f04-111">マスター シークレット サーバーをクラスタ リングの詳細については、次を参照してください。[エンタープライズ シングル サインオンの高可用性](../core/high-availability-for-enterprise-single-sign-on.md)です。</span><span class="sxs-lookup"><span data-stu-id="d4f04-111">For more information about clustering the master secret server, see [High Availability for Enterprise Single Sign-On](../core/high-availability-for-enterprise-single-sign-on.md).</span></span>  
  
 <span data-ttu-id="d4f04-112">5 台未満のコンピューターから成る小規模な [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] 環境では、BizTalk Server のデータベースをホストする SQL Server クラスターを、BizTalk Server コンピューターとは別のコンピューターで実行することをお勧めします。</span><span class="sxs-lookup"><span data-stu-id="d4f04-112">For small [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] deployments that contain fewer than five computers, we recommend that the SQL Server cluster that contains the BizTalk Server databases runs on separate computers from the BizTalk Server computers.</span></span> <span data-ttu-id="d4f04-113">BizTalk Server コンピューターでは、すべての BizTalk ホスト (受信、処理、および送信) を実行することができます。</span><span class="sxs-lookup"><span data-stu-id="d4f04-113">The BizTalk Server computers can run all the BizTalk Hosts (receive, process, and send).</span></span> <span data-ttu-id="d4f04-114">この環境で高可用性を実現するには、SQL Server とエンタープライズ シングル サインオンのマスター シークレット サーバーをクラスター化して 2 つの BizTalk Server を用意し、それぞれが各ホストのインスタンスを実行するように構成します。</span><span class="sxs-lookup"><span data-stu-id="d4f04-114">To make this deployment highly available, cluster the SQL Server and the Enterprise Single Sign-On master secret server, and have two BizTalk Servers, each running an instance of each host in your environment.</span></span>  
  
 <span data-ttu-id="d4f04-115">次の図は、小規模な BizTalk Server 環境に高可用性を実現した例を示しています。</span><span class="sxs-lookup"><span data-stu-id="d4f04-115">The following figure shows a small BizTalk Server deployment that is highly available.</span></span>  
  
 <span data-ttu-id="d4f04-116">![BizTalk Server の小規模展開](../core/media/tdi-highava-smalldepl.gif "TDI_HighAva_SmallDepl")</span><span class="sxs-lookup"><span data-stu-id="d4f04-116">![Small BizTalk Server Deployment](../core/media/tdi-highava-smalldepl.gif "TDI_HighAva_SmallDepl")</span></span>  
  
## <a name="medium-sized-biztalk-server-deployments"></a><span data-ttu-id="d4f04-117">BizTalk Server の中規模な展開</span><span class="sxs-lookup"><span data-stu-id="d4f04-117">Medium-Sized BizTalk Server Deployments</span></span>  
 <span data-ttu-id="d4f04-118">5 台から 10 台のコンピューターから成る中規模の環境では、BizTalk Server データベースとエンタープライズ シングル サインオンのマスター シークレット サーバーをホストする SQL Server をクラスター化することをお勧めします。</span><span class="sxs-lookup"><span data-stu-id="d4f04-118">For medium-sized deployments that contain five to ten computers, we recommend that you cluster the SQL Server that contains the BizTalk Server databases and the Enterprise Single Sign-On master secret server.</span></span> <span data-ttu-id="d4f04-119">受信の負荷が大きい場合、受信ホストのインスタンスを実行する専用の BizTalk Server を 2 つ用意することによって高可用性を確保できます。</span><span class="sxs-lookup"><span data-stu-id="d4f04-119">If your scenario is receive-intensive, you may want to dedicate two BizTalk Servers to run the receiving host instances to provide a highly available solution.</span></span> <span data-ttu-id="d4f04-120">さらに、処理と送信の両方のホスト インスタンスを実行する 2 台のコンピューターを追加します。</span><span class="sxs-lookup"><span data-stu-id="d4f04-120">You can then have two more computers that are running both the processing and send host instances.</span></span> <span data-ttu-id="d4f04-121">この環境に高可用性を実現するためには、2 つの BizTalk Server に対し、処理と送信の両方のホスト インスタンスを作成します。</span><span class="sxs-lookup"><span data-stu-id="d4f04-121">To make this a highly available deployment, create host instances of both the processing and send hosts on two BizTalk Servers.</span></span> <span data-ttu-id="d4f04-122">同様に、処理の負荷が大きい場合は、処理ホストのインスタンスを実行する専用の BizTalk Server を 2 つ用意し、残りの 2 つの BizTalk Server で、受信ホストおよび送信ホストの両方のインスタンスを実行するように構成します。</span><span class="sxs-lookup"><span data-stu-id="d4f04-122">Similarly, if you have a processing-intensive scenario, you may want to dedicate two BizTalk Servers to run the processing host instances, and have the remaining two BizTalk Servers running instances of both the receive and send hosts.</span></span>  
  
 <span data-ttu-id="d4f04-123">次の図は、中規模の BizTalk Server 環境で、受信機能を 2 つの BizTalk Server で実行することによって高可用性を実現する例を示しています。</span><span class="sxs-lookup"><span data-stu-id="d4f04-123">The following figure shows a highly available medium-sized BizTalk Server deployment with two BizTalk Servers dedicated to receiving operations.</span></span>  
  
 <span data-ttu-id="d4f04-124">![Medium &#45;BizTalk Server の展開の規模](../core/media/tdi-highava-meddepl.gif "TDI_HighAva_MedDepl")</span><span class="sxs-lookup"><span data-stu-id="d4f04-124">![Medium&#45;Sized BizTalk Server Deployment](../core/media/tdi-highava-meddepl.gif "TDI_HighAva_MedDepl")</span></span>  
  
 <span data-ttu-id="d4f04-125">エンタープライズ シングル サインオンの高可用性の詳細については、次を参照してください。[エンタープライズ シングル サインオンの高可用性](../core/high-availability-for-enterprise-single-sign-on.md)です。</span><span class="sxs-lookup"><span data-stu-id="d4f04-125">For more information about high availability for Enterprise Single Sign-On, see [High Availability for Enterprise Single Sign-On](../core/high-availability-for-enterprise-single-sign-on.md).</span></span>  
  
## <a name="large-scale-biztalk-server-deployments"></a><span data-ttu-id="d4f04-126">BizTalk Server の大規模な展開</span><span class="sxs-lookup"><span data-stu-id="d4f04-126">Large-Scale BizTalk Server Deployments</span></span>  
 <span data-ttu-id="d4f04-127">10 台以上のコンピューターが存在する大規模な環境では、受信、処理、送信の各機能ごとに専用の BizTalk Server コンピューターを用意します。</span><span class="sxs-lookup"><span data-stu-id="d4f04-127">For large-scale deployments that contain 10 or more computers, dedicate separate BizTalk Server computers for the receiving, processing, and sending functions.</span></span> <span data-ttu-id="d4f04-128">また、グループ内に多数の BizTalk Server コンピューターが存在する場合は、メッセージ ボックス データベース コンピューターを追加してパフォーマンスを強化できます。</span><span class="sxs-lookup"><span data-stu-id="d4f04-128">Also, if you have many BizTalk Server computers in a group, you can include additional MessageBox database computers to increase performance.</span></span> <span data-ttu-id="d4f04-129">この場合、メッセージ ボックス データベースとマスター シークレット サーバーをクラスター化することで、高可用性が実現します。</span><span class="sxs-lookup"><span data-stu-id="d4f04-129">In this case, cluster the MessageBox databases and the master secret server to provide high availability.</span></span>  
  
 <span data-ttu-id="d4f04-130">このような分散構成では、[!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] の柔軟性が最大限に発揮されます。環境内で障害の発生しやすい箇所を調べて特定し、戦略に基づいてリソースを割り当て、システムの障害発生点を減らしていくことができるためです。</span><span class="sxs-lookup"><span data-stu-id="d4f04-130">Such a distributed configuration demonstrates the flexibility of [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] because it lets you to evaluate and identify specific points of failure in your deployment, and then strategically allocate resources to reduce those points in the system.</span></span> <span data-ttu-id="d4f04-131">変化の激しい今日のビジネス環境では、ワークロードやビジネス要件も日々変化するため、こうした柔軟性が不可欠です。</span><span class="sxs-lookup"><span data-stu-id="d4f04-131">Today's dynamic business environment demands such flexibility because workload fluctuations and business requirements can change daily.</span></span>  
  
 <span data-ttu-id="d4f04-132">リソース消費の低いコンピューターから、リソース消費の激しいコンピューターへとリソースを移すことにより、既存のリソースを活用して高可用性を実現することができます。アップグレードや新しいハードウェアを購入するために投資を繰り返す必要はありません。</span><span class="sxs-lookup"><span data-stu-id="d4f04-132">Instead of spending additional money to upgrade or acquire new hardware, you can use existing resources to achieve high availability by moving resources from computers that consume few resources to computers that are resource-intensive.</span></span>  
  
 <span data-ttu-id="d4f04-133">次の図は、大規模な [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] 環境における構成例を示しています。</span><span class="sxs-lookup"><span data-stu-id="d4f04-133">The following figure shows a large-scale [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] deployment.</span></span>  
  
 <span data-ttu-id="d4f04-134">![大規模な & #45 です。BizTalk Server の展開をスケール](../core/media/tdi-highava-largedepl.gif "TDI_HighAva_LargeDepl")</span><span class="sxs-lookup"><span data-stu-id="d4f04-134">![Large&#45;Scale BizTalk Server Deployment](../core/media/tdi-highava-largedepl.gif "TDI_HighAva_LargeDepl")</span></span>  
  
 <span data-ttu-id="d4f04-135">エンタープライズ シングル サインオンの高可用性の詳細については、次を参照してください。[エンタープライズ シングル サインオンの高可用性](../core/high-availability-for-enterprise-single-sign-on.md)です。</span><span class="sxs-lookup"><span data-stu-id="d4f04-135">For more information about high availability for Enterprise Single Sign-On, see [High Availability for Enterprise Single Sign-On](../core/high-availability-for-enterprise-single-sign-on.md).</span></span>  
  
## <a name="providing-high-availability-using-hyper-v-and-failover-clustering"></a><span data-ttu-id="d4f04-136">Hyper-V とフェールオーバー クラスタリングによる高可用性の実現</span><span class="sxs-lookup"><span data-stu-id="d4f04-136">Providing High Availability using Hyper-V and Failover Clustering</span></span>  
 <span data-ttu-id="d4f04-137">Windows® Server 2008 Hyper-V ロールと Windows Server 2008 フェールオーバー クラスタリング機能を組み合わせて使用することで、仮想化サーバー コンピューティング環境における高可用性を確保できます。</span><span class="sxs-lookup"><span data-stu-id="d4f04-137">The Windows® Server 2008 Hyper-V role and the Windows Server 2008 Failover Clustering feature can be used together to provide high availability for a virtualized server computing environment.</span></span> <span data-ttu-id="d4f04-138">[!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] 環境で使用される BizTalk Server コンピューターと SQL Server コンピューターは、Hyper-V の仮想化環境にインストールすることができます。その後、フェールオーバー クラスタリングを使用して高可用性を実現できます。</span><span class="sxs-lookup"><span data-stu-id="d4f04-138">The BizTalk Server computers and the SQL Server computers used in a [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] deployment can be installed in a Hyper-V virtualized environment and then made highly available through failover clustering.</span></span> <span data-ttu-id="d4f04-139">Hyper-V でゲスト オペレーティング システムを実行するのに伴いシステム リソース コストが発生するため、このようなソリューションを実稼働環境に展開する前に、全体のパフォーマンス テストを実行することをお勧めします。</span><span class="sxs-lookup"><span data-stu-id="d4f04-139">Because there is a system resource cost associated with running a guest operating system on Hyper-V, we recommend that thorough performance testing is performed before deploying such a solution into production.</span></span> <span data-ttu-id="d4f04-140">詳細については、HYPER-V とフェールオーバー クラスタ リングを共に使用して仮想マシンの高可用性を実現するを参照してください「HYPER-V ステップ バイ ステップ ガイド:: HYPER-V とフェールオーバー クラスタ リング」 [http://go.microsoft.com/fwlink/?LinkID=129113](http://go.microsoft.com/fwlink/?LinkID=129113)です。</span><span class="sxs-lookup"><span data-stu-id="d4f04-140">For more information about using Hyper-V and Failover clustering together to provide high availability for virtual machines, see “Hyper-V Step-by-Step Guide: Hyper-V and Failover Clustering” at [http://go.microsoft.com/fwlink/?LinkID=129113](http://go.microsoft.com/fwlink/?LinkID=129113).</span></span> <span data-ttu-id="d4f04-141">展開の詳細については、 [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] HYPER-V の仮想化環境でダウンロードできる BizTalk Server の HYPER-V ガイドを参照してください。 [http://go.microsoft.com/fwlink/?LinkId=189706](http://go.microsoft.com/fwlink/?LinkId=189706)です。</span><span class="sxs-lookup"><span data-stu-id="d4f04-141">For more information about deploying a [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] into a Hyper-V virtualized environment, see the BizTalk Server Hyper-V Guide available for download at [http://go.microsoft.com/fwlink/?LinkId=189706](http://go.microsoft.com/fwlink/?LinkId=189706).</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="d4f04-142">参照</span><span class="sxs-lookup"><span data-stu-id="d4f04-142">See Also</span></span>  
 <span data-ttu-id="d4f04-143">[BizTalk ホストの高可用性を実現します。](../core/providing-high-availability-for-biztalk-hosts.md) </span><span class="sxs-lookup"><span data-stu-id="d4f04-143">[Providing High Availability for BizTalk Hosts](../core/providing-high-availability-for-biztalk-hosts.md) </span></span>  
 <span data-ttu-id="d4f04-144">[BizTalk Server データベースの高可用性を実現します。](../core/providing-high-availability-for-biztalk-server-databases.md) </span><span class="sxs-lookup"><span data-stu-id="d4f04-144">[Providing High Availability for BizTalk Server Databases](../core/providing-high-availability-for-biztalk-server-databases.md) </span></span>  
 [<span data-ttu-id="d4f04-145">エンタープライズ シングル サインオンの高可用性</span><span class="sxs-lookup"><span data-stu-id="d4f04-145">High Availability for Enterprise Single Sign-On</span></span>](../core/high-availability-for-enterprise-single-sign-on.md)