---
title: "BRE Database1 への接続の暗号化 |Microsoft ドキュメント"
ms.custom: 
ms.date: 06/08/2017
ms.prod: biztalk-server
ms.reviewer: 
ms.suite: 
ms.tgt_pltfrm: 
ms.topic: article
ms.assetid: 63edd2bb-97f1-4b8b-8cdc-f4792909ca86
caps.latest.revision: "6"
author: MandiOhlinger
ms.author: mandia
manager: anneta
ms.openlocfilehash: 0dd585c596f7635417a4e22cbccda04593e7c598
ms.sourcegitcommit: cb908c540d8f1a692d01dc8f313e16cb4b4e696d
ms.translationtype: MT
ms.contentlocale: ja-JP
ms.lasthandoff: 09/20/2017
---
# <a name="encrypting-the-connection-to-the-bre-database"></a><span data-ttu-id="76f2f-102">BRE データベースへの接続の暗号化</span><span class="sxs-lookup"><span data-stu-id="76f2f-102">Encrypting the Connection to the BRE Database</span></span>
<span data-ttu-id="76f2f-103">企業のセキュリティ ポリシーに基づいて、次の項目についての暗号化を検討してください。</span><span class="sxs-lookup"><span data-stu-id="76f2f-103">Based on the security policy of your company, consider encrypting:</span></span>  
  
-   <span data-ttu-id="76f2f-104">ログオン処理時に送信される資格情報。</span><span class="sxs-lookup"><span data-stu-id="76f2f-104">The credentials transmitted during the logon process.</span></span>  
  
-   <span data-ttu-id="76f2f-105">ビジネス ルール エンジン (BRE) ポリシーを実行するクライアント コンピューターとルール エンジン データベースの間のネットワーク上で送信されるデータ。</span><span class="sxs-lookup"><span data-stu-id="76f2f-105">The data transmitted across a network between the client computer where the Business Rule Engine (BRE) policy runs and the Rule Engine database.</span></span>  
  
 <span data-ttu-id="76f2f-106">このトピックでは、[!INCLUDE[btsSQLServer2008](../includes/btssqlserver2008-md.md)] または [!INCLUDE[btsSQLServer2008R2](../includes/btssqlserver2008r2-md.md)] でホストされる BRE データベースへの接続を暗号化する方法について説明します。</span><span class="sxs-lookup"><span data-stu-id="76f2f-106">This topic describes how to encrypt the connections to BRE databases hosted on [!INCLUDE[btsSQLServer2008](../includes/btssqlserver2008-md.md)] or [!INCLUDE[btsSQLServer2008R2](../includes/btssqlserver2008r2-md.md)].</span></span>  
  
## <a name="to-encrypt-the-connection-to-the-bre-database-hosted-on-sql-server-2008-sp1-or-sql-server-2008-r2"></a><span data-ttu-id="76f2f-107">SQL Server 2008 SP1 または SQL Server 2008 R2 でホストされる BRE データベースへの接続を暗号化するには</span><span class="sxs-lookup"><span data-stu-id="76f2f-107">To Encrypt the Connection to the BRE Database Hosted on SQL Server 2008 SP1 or SQL Server 2008 R2</span></span>  
 <span data-ttu-id="76f2f-108">既定では、クライアント アプリケーションによる [!INCLUDE[btsSQLServerNoVersion](../includes/btssqlservernoversion-md.md)] への接続の際のログオン処理時に送信される資格情報が暗号化されます。</span><span class="sxs-lookup"><span data-stu-id="76f2f-108">By default, credentials that are transmitted during the logon process when a client application connects to [!INCLUDE[btsSQLServerNoVersion](../includes/btssqlservernoversion-md.md)] are encrypted.</span></span> <span data-ttu-id="76f2f-109">サーバーの起動時に証明書がサーバーに提供されない場合、[!INCLUDE[btsSQLServerNoVersion](../includes/btssqlservernoversion-md.md)] ではログオン パケットの暗号化に使用する自己署名入りの証明書が生成されます。</span><span class="sxs-lookup"><span data-stu-id="76f2f-109">If no certificate has been provisioned on the server, when it starts up, [!INCLUDE[btsSQLServerNoVersion](../includes/btssqlservernoversion-md.md)] generates a self-signed certificate that is used to encrypt logon packets.</span></span>  
  
 <span data-ttu-id="76f2f-110">間にネットワーク経由で送信されるデータの暗号化を有効にする[!INCLUDE[btsSQLServerNoVersion](../includes/btssqlservernoversion-md.md)]とクライアントのインスタンスの[!INCLUDE[btsSQLServerNoVersion](../includes/btssqlservernoversion-md.md)]、設定する必要があります、**強制的に暗号化**をサーバーでオプション**を[はい]**設定または、 **Force Protocol Encryption**オプションを**はい**クライアントにします。</span><span class="sxs-lookup"><span data-stu-id="76f2f-110">To enable encryption of data that is transmitted across a network between [!INCLUDE[btsSQLServerNoVersion](../includes/btssqlservernoversion-md.md)] and the client for an instance of [!INCLUDE[btsSQLServerNoVersion](../includes/btssqlservernoversion-md.md)], you should set the **Force Encryption** option on the server to **Yes** or set the **Force Protocol Encryption** option to **Yes** on the client.</span></span>  
  
 <span data-ttu-id="76f2f-111">ときに、**強制的に暗号化**オプションに設定されて**はい**サーバー側で[!INCLUDE[btsSQLServerNoVersion](../includes/btssqlservernoversion-md.md)]すべての通信の暗号化に SSL を使用して*すべてのクライアントとデータベース サーバー*.</span><span class="sxs-lookup"><span data-stu-id="76f2f-111">When the **Force Encryption** option is set to **Yes** on the server side, [!INCLUDE[btsSQLServerNoVersion](../includes/btssqlservernoversion-md.md)] uses SSL to encrypt all the communication *between all the clients and the database server*.</span></span> <span data-ttu-id="76f2f-112">つまり、サーバーへのすべての着信接続が暗号化されます。</span><span class="sxs-lookup"><span data-stu-id="76f2f-112">In other words, all the incoming connections to the server are encrypted.</span></span> <span data-ttu-id="76f2f-113">サーバーでこのオプションを有効にするには、SQL Server 構成マネージャーを使用してサーバーに証明書をインストールすることをお勧めします。</span><span class="sxs-lookup"><span data-stu-id="76f2f-113">To enable this option on the server, it is recommended that you install a certificate on the server by using SQL Server Configuration Manager.</span></span> <span data-ttu-id="76f2f-114">サーバーに証明書がインストールされていない場合、インスタンスが起動されると、サーバーによって自己署名入りの証明書が自動生成されます。</span><span class="sxs-lookup"><span data-stu-id="76f2f-114">If a certificate is not installed on the server, the server auto-generates a self-signed certificate when the instance is started.</span></span>  
  
 <span data-ttu-id="76f2f-115">この自己署名入りの証明書は、信頼されている証明機関から発行された証明書の代わりに使用することができますが、この証明書では ID 偽装の脅威に対する保護は一切提供されません。</span><span class="sxs-lookup"><span data-stu-id="76f2f-115">This self-signed certificate can be used instead of a certificate from a trusted certificate authority, but it does not provide any protection against spoofing identity threats.</span></span> <span data-ttu-id="76f2f-116">実稼働環境やインターネットに接続しているサーバーでは、自己署名入りの証明書を使用した SSL 接続は使用しないことをお勧めします。</span><span class="sxs-lookup"><span data-stu-id="76f2f-116">You should not rely on SSL using self-signed certificates in a production environment or on servers that are connected to the Internet.</span></span> <span data-ttu-id="76f2f-117">このオプションが設定されている場合、暗号化をサポートできないクライアントによるアクセスはすべて拒否されます。</span><span class="sxs-lookup"><span data-stu-id="76f2f-117">When the option is set, any client that cannot support encryption is denied access.</span></span> <span data-ttu-id="76f2f-118">SQL Server は、設定後に再起動する必要があります、**強制的に暗号化**オプション。</span><span class="sxs-lookup"><span data-stu-id="76f2f-118">SQL Server must be restarted after setting the **Force Encryption** option.</span></span> <span data-ttu-id="76f2f-119">このオプションは、SQL Server 構成マネージャー ([!INCLUDE[btsSQLServerNoVersion](../includes/btssqlservernoversion-md.md)] のネットワーク構成) を使用して設定できます。</span><span class="sxs-lookup"><span data-stu-id="76f2f-119">You can set this option by using the SQL Server Configuration Manager ([!INCLUDE[btsSQLServerNoVersion](../includes/btssqlservernoversion-md.md)] Network Configuration).</span></span>  
  
 <span data-ttu-id="76f2f-120">ときに、 **Force Protocol Encryption**クライアント側で設定されている[!INCLUDE[btsSQLServerNoVersion](../includes/btssqlservernoversion-md.md)]すべての通信の暗号化に SSL を使用して*そのクライアントとすべてのサーバー間*です。</span><span class="sxs-lookup"><span data-stu-id="76f2f-120">When the **Force Protocol Encryption** is set on the client side, [!INCLUDE[btsSQLServerNoVersion](../includes/btssqlservernoversion-md.md)] uses SSL to encrypt all the communication *between that client and all the servers*.</span></span> <span data-ttu-id="76f2f-121">つまり、クライアントからのすべての発信接続が暗号化されます。</span><span class="sxs-lookup"><span data-stu-id="76f2f-121">In other words, all the outgoing connections from the client are encrypted.</span></span> <span data-ttu-id="76f2f-122">クライアント側でこのオプションを有効にするには、する必要があります証明書をインストール、サーバーの場合、 **Trust Server Certificate**にクライアントでオプションが設定されている**いいえ**です。</span><span class="sxs-lookup"><span data-stu-id="76f2f-122">To enable this option on the client side, you should install a certificate on the server if the **Trust Server Certificate** option on the client is set to **No**.</span></span> <span data-ttu-id="76f2f-123">場合、 **Trust Server Certificate**にクライアントでオプションが設定されている**はい**クライアントは、サーバー証明書を検証できません自己署名証明書の使用を許可します。</span><span class="sxs-lookup"><span data-stu-id="76f2f-123">If the **Trust Server Certificate** option on the client is set to **Yes**, the client does not validate the server certificate, thereby enabling the use of a self-signed certificate.</span></span> <span data-ttu-id="76f2f-124">このオプションは、SQL Server 構成マネージャー (SQL Native Client の構成) を使用して設定できます。</span><span class="sxs-lookup"><span data-stu-id="76f2f-124">You can set this option by using the SQL Server Configuration Manager (SQL Native Client Configuration).</span></span>  
  
 [!INCLUDE[btsSQLServerNoVersion](../includes/btssqlservernoversion-md.md)]<span data-ttu-id="76f2f-125">暗号化を有効にすることもできます、*特定のクライアントからサーバーへの接続*を設定して、**データ Encrypt/use Encryption**フラグを**はい**で、接続文字列です。</span><span class="sxs-lookup"><span data-stu-id="76f2f-125"> also allows you to enable the encryption for a *specific connection from a client to the server* by setting the **Encrypt/Use Encryption for Data** flag to **Yes** in the connection string.</span></span> <span data-ttu-id="76f2f-126">ただし、BRE 自動的に生成、接続文字列は、encryption オプションを設定しなくても**はい**です。</span><span class="sxs-lookup"><span data-stu-id="76f2f-126">However, the BRE automatically generates the connection strings without setting the encryption option to **Yes**.</span></span> <span data-ttu-id="76f2f-127">したがって、クライアント コンピューターからルール エンジン データベース サーバーへの特定の接続を暗号化することはできません。</span><span class="sxs-lookup"><span data-stu-id="76f2f-127">Hence, you cannot encrypt a specific connection to the Rule Engine database server from the client computer.</span></span> <span data-ttu-id="76f2f-128">代わりに、設定する必要があります、 **Force Protocol Encryption**前の段落で説明したように、クライアントでオプションです。</span><span class="sxs-lookup"><span data-stu-id="76f2f-128">Instead, you should set the **Force Protocol Encryption** option on the client as mentioned in the previous paragraph.</span></span>