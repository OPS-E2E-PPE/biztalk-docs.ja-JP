---
title: SSO のセキュリティに関する推奨事項 |Microsoft Docs
ms.custom: ''
ms.date: 06/08/2017
ms.prod: biztalk-server
ms.reviewer: ''
ms.suite: ''
ms.tgt_pltfrm: ''
ms.topic: article
helpviewer_keywords:
- SSO, deploying
- Kerberos protocol, SSO
- deploying, SSO
- user accounts, SSO
- deploying, security
- SQL Server, SSO
- security, SSO
- SSO, Kerberos protocol
- SSO, auditing
- best practices, deploying
- SSO, Windows groups
- SSO, best practices
- SSO, perimeter network
- Windows groups, SSO
- SSO, SQL Server access
- best practices, security
- Master Secret server, clustering
- perimeter networks
- auditing [SSO]
- SSO, security
- SSO, user accounts
- Master Secret server, best practices
ms.assetid: 7ae922b4-fd48-41f4-aaab-419a5e22c753
caps.latest.revision: 17
author: MandiOhlinger
ms.author: mandia
manager: anneta
ms.openlocfilehash: 4877bdb4ea7f19a1ff8ec93dcee2e6910ef8891f
ms.sourcegitcommit: 266308ec5c6a9d8d80ff298ee6051b4843c5d626
ms.translationtype: MT
ms.contentlocale: ja-JP
ms.lasthandoff: 06/27/2018
ms.locfileid: "37007123"
---
# <a name="sso-security-recommendations"></a><span data-ttu-id="03df2-102">SSO のセキュリティに関する推奨事項</span><span class="sxs-lookup"><span data-stu-id="03df2-102">SSO Security Recommendations</span></span>
<span data-ttu-id="03df2-103">エンタープライズ シングル サインオン (SSO) システムを使用すると、ユーザーは 1 組の資格情報だけを使用してさまざまなシステムに接続できるようになります。</span><span class="sxs-lookup"><span data-stu-id="03df2-103">With the Enterprise Single Sign-On (SSO) system, users can connect to different systems by using only one set of credentials.</span></span> [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] <span data-ttu-id="03df2-104">では、SSO システムを機密情報の格納場所として使用しています。</span><span class="sxs-lookup"><span data-stu-id="03df2-104">leverages the SSO system as a store for sensitive information.</span></span> <span data-ttu-id="03df2-105">[!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] では、[!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] ランタイムをインストールするたびにエンタープライズ シングル サインオンが自動的にインストールされますが、[!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] 環境に関係なく、エンタープライズ シングル サインオンをスタンドアロン コンポーネントとしてインストールすることもできます。</span><span class="sxs-lookup"><span data-stu-id="03df2-105">Although [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] automatically installs whenever you install the [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] runtime, you can also install Enterprise Single Sign-On as a stand-alone component, independent of your [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] environment.</span></span> <span data-ttu-id="03df2-106">エンタープライズ シングル サインオンに関する詳細については、[を使用して SSO](../core/using-sso.md)を参照してください。</span><span class="sxs-lookup"><span data-stu-id="03df2-106">For more information about Enterprise Single Sign-On, see [Using SSO](../core/using-sso.md).</span></span> <span data-ttu-id="03df2-107">SSO サービスとリソースをセキュリティで保護して環境に展開するには、次のガイドラインに従うことをお勧めします。</span><span class="sxs-lookup"><span data-stu-id="03df2-107">It is recommended you follow these guidelines for securing and deploying the Enterprise Single Sign-On (SSO) services and resources in your environment.</span></span>  
  
## <a name="general-deployment-recommendations-for-sso"></a><span data-ttu-id="03df2-108">SSO の展開に関する一般的な推奨事項</span><span class="sxs-lookup"><span data-stu-id="03df2-108">General Deployment Recommendations for SSO</span></span>  
  
-   <span data-ttu-id="03df2-109">ある 1 つだけのマスタ シークレット サーバーと、環境全体で SSO データベースを 1 つだけ場合でも、環境内で複数の BizTalk グループがあります。</span><span class="sxs-lookup"><span data-stu-id="03df2-109">There must be only one master secret server and only one SSO database in the entire environment, even if you have multiple BizTalk groups in your environment.</span></span> <span data-ttu-id="03df2-110">これら 2 台のサーバーは、他の BizTalk Server コンピュータと SSO サーバーを構成する前に構成する必要があります。</span><span class="sxs-lookup"><span data-stu-id="03df2-110">You must configure these two servers before you configure any other BizTalk and SSO servers.</span></span>  
  
-   <span data-ttu-id="03df2-111">すべての SSO サーバーが同期されるように、環境内には 1 台のタイム サーバーを配置する必要があります。</span><span class="sxs-lookup"><span data-stu-id="03df2-111">You must have a time server in your environment to ensure all SSO servers are synchronized.</span></span> <span data-ttu-id="03df2-112">SSO サーバー間で時刻が同期されていないことが原因で、環境のセキュリティが危険にさらされる場合があります。</span><span class="sxs-lookup"><span data-stu-id="03df2-112">If the clocks on the SSO servers are not synchronized, the security of your environment could be compromised.</span></span>  
  
-   <span data-ttu-id="03df2-113">環境内に 1 台のマスタ シークレット サーバーしか存在しないことを考慮して、マスタ シークレット サーバーにはアクティブ/パッシブのクラスタ構成を使用することをお勧めします。</span><span class="sxs-lookup"><span data-stu-id="03df2-113">Considering there is only one master secret server in your entire environment, it is recommended to use an active-passive cluster configuration for the master secret server.</span></span> <span data-ttu-id="03df2-114">マスター シークレット サーバーをクラスタ リングの詳細については、[マスター シークレット サーバーをクラスター化する方法](../core/how-to-cluster-the-master-secret-server1.md)を参照してください。</span><span class="sxs-lookup"><span data-stu-id="03df2-114">For more information about clustering the master secret server, see [How to Cluster the Master Secret Server](../core/how-to-cluster-the-master-secret-server1.md).</span></span>  
  
-   <span data-ttu-id="03df2-115">マスタ シークレット サーバーでは、SSO システムが SSO データベースに格納されている情報の暗号化に使用する暗号化キーを保持します。</span><span class="sxs-lookup"><span data-stu-id="03df2-115">The master secret server holds the encryption key that the SSO system uses to encrypt the information in the SSO database.</span></span> <span data-ttu-id="03df2-116">マスタ シークレット サーバーには、他の製品やサービスをインストールまたは構成しないことをお勧めします。</span><span class="sxs-lookup"><span data-stu-id="03df2-116">It is recommended that you do not install or configure any other products or services on this computer.</span></span>  
  
    > [!NOTE]
    >  <span data-ttu-id="03df2-117">マスタ シークレット サーバーをインストールおよび構成するコンピュータは、サーバーである必要はありません。</span><span class="sxs-lookup"><span data-stu-id="03df2-117">The computer where you install and configure the master secret server does not have to be a server.</span></span>  
  
-   <span data-ttu-id="03df2-118">マスタ シークレット サーバーは、マスタ シークレットをバックアップおよび復元するため、リムーバブル メディアまたは NTFS ファイル システム フォルダにアクセスできる必要があります。</span><span class="sxs-lookup"><span data-stu-id="03df2-118">The master secret server should have access to a removable media or NTFS file system folder in order to back up and restore the master secret.</span></span> <span data-ttu-id="03df2-119">リムーバブル メディアを使用する場合は、適切な手段を講じてリムーバブル メディアを保護してください。</span><span class="sxs-lookup"><span data-stu-id="03df2-119">If you use removable media, ensure you take appropriate measures to protect the removable media.</span></span> <span data-ttu-id="03df2-120">NTFS ファイル システムにマスタ シークレットをバックアップする場合は、ファイルとフォルダを保護する必要があります。</span><span class="sxs-lookup"><span data-stu-id="03df2-120">If you back up the master secret to an NTFS file system, ensure you protect the file and the folder.</span></span> <span data-ttu-id="03df2-121">また、このファイルには、SSO 管理者のみがアクセスできるようにする必要があります。</span><span class="sxs-lookup"><span data-stu-id="03df2-121">Only the SSO Administrator should have access to this file.</span></span>  
  
-   <span data-ttu-id="03df2-122">マスタ シークレットは、マスタ シークレット サーバーによって生成されたら、すぐにバックアップする必要があります。</span><span class="sxs-lookup"><span data-stu-id="03df2-122">You should back up the master secret as soon as the master secret server generates it.</span></span> <span data-ttu-id="03df2-123">バックアップすると、マスタ シークレット サーバーで障害が発生した場合に、SSO データベースのデータを回復することができます。</span><span class="sxs-lookup"><span data-stu-id="03df2-123">This is so that you may recover the data in the SSO database in the event the master secret server fails.</span></span> <span data-ttu-id="03df2-124">マスター シークレットのバックアップの詳細については、[マスター シークレットの管理](../core/managing-the-master-secret.md)を参照してください。</span><span class="sxs-lookup"><span data-stu-id="03df2-124">For more information about backing up the master secret, see [Managing the Master Secret](../core/managing-the-master-secret.md).</span></span>  
  
-   <span data-ttu-id="03df2-125">現在のシークレットをバックアップするか、または定期的 (月 1 回など) に新しいシークレットを生成します。</span><span class="sxs-lookup"><span data-stu-id="03df2-125">Back up your current secret, or generate a new secret on a regular basis, for example, once a month.</span></span> <span data-ttu-id="03df2-126">シークレットがないと、SSO データベースから情報を取得できません。</span><span class="sxs-lookup"><span data-stu-id="03df2-126">Without the secret, you cannot retrieve information from the SSO database.</span></span> <span data-ttu-id="03df2-127">バックアップと、マスター シークレットの復元の詳細については、[マスター シークレットの管理](../core/managing-the-master-secret.md)を参照してください。</span><span class="sxs-lookup"><span data-stu-id="03df2-127">For more information about backing up and restoring the master secret, see [Managing the Master Secret](../core/managing-the-master-secret.md).</span></span>  
  
## <a name="security-recommendations-for-sso-groups-and-accounts"></a><span data-ttu-id="03df2-128">SSO グループとアカウントのセキュリティに関する推奨事項</span><span class="sxs-lookup"><span data-stu-id="03df2-128">Security Recommendations for SSO Groups and Accounts</span></span>  
  
-   <span data-ttu-id="03df2-129">特に SSO 管理者グループと SSO 関連管理者グループについては、単独のユーザー アカウントではなく Windows グループを使用することをお勧めします。</span><span class="sxs-lookup"><span data-stu-id="03df2-129">It is recommended to use Windows groups, and not single user accounts, especially for the SSO Administrator and SSO Affiliate administrator groups.</span></span> <span data-ttu-id="03df2-130">これらのグループには、少なくとも 2 つのユーザー アカウントがメンバとして常に含まれている必要があります。</span><span class="sxs-lookup"><span data-stu-id="03df2-130">These groups must have at least two user accounts as members of the group at all times.</span></span>  
  
-   <span data-ttu-id="03df2-131">SSO ランタイム サービス アカウントと SSO 管理者ユーザー アカウントが同じ SSO 管理者グループのメンバである場合も、これらのアカウントには、別のアカウントを使用することをお勧めします。</span><span class="sxs-lookup"><span data-stu-id="03df2-131">The SSO runtime service accounts and the SSO administrator user accounts should be different accounts, even when they are members of the same SSO Administrators group.</span></span> <span data-ttu-id="03df2-132">シークレットの生成やバックアップなどの管理タスクを実行する SSO 管理者ユーザーは、Windows 管理者である必要がありますが、SSO ランタイム サービス アカウントは Windows 管理者である必要はありません。</span><span class="sxs-lookup"><span data-stu-id="03df2-132">The SSO administrator users performing administrative tasks such as generating and backing up the secret must be Windows administrators, while the SSO runtime service accounts do not need to be Windows administrators.</span></span>  
  
    > [!IMPORTANT]
    >  <span data-ttu-id="03df2-133">Windows 管理者のユーザー権限は、SSO 管理者のユーザー権利に代わるものではありません。</span><span class="sxs-lookup"><span data-stu-id="03df2-133">Windows administrator user rights do not supersede the user rights of the SSO administrator.</span></span> <span data-ttu-id="03df2-134">SSO 管理者レベルのタスクを実行するには、Windows 管理者であっても、SSO 管理者グループのメンバでなければなりません。</span><span class="sxs-lookup"><span data-stu-id="03df2-134">To perform any SSO administration-level task you must be a member of SSO administrators group even if you already are a Windows administrator.</span></span>  
  
-   <span data-ttu-id="03df2-135">SSO のチケット発行機能を使用する場合、処理ドメイン (SSO サーバーが配置されているドメイン) のコンピュータで認識されるドメイン アカウントを使用する必要があります。</span><span class="sxs-lookup"><span data-stu-id="03df2-135">If you use the SSO ticketing feature, you must use domain accounts that the computers in the processing domain (domain where the SSO servers are) recognize.</span></span>  
  
-   <span data-ttu-id="03df2-136">マスタ シークレット サーバーに対応する SSO サービスには、一意なサービス アカウントを使用することをお勧めします。</span><span class="sxs-lookup"><span data-stu-id="03df2-136">It is recommended to use a unique service account for the SSO service corresponding to the master secret server.</span></span>  
  
-   <span data-ttu-id="03df2-137">SSO 管理者アカウントは、SSO システムに対して高いレベルの特権を持っており、SSO データベースが格納されている SQL Server コンピュータの SQL Server 管理者アカウントでもあります。</span><span class="sxs-lookup"><span data-stu-id="03df2-137">The SSO administrator account is a highly privileged account in the SSO system, which also is the SQL Server administrator account for the SQL server that has the SSO database.</span></span> <span data-ttu-id="03df2-138">SSO 管理者には専用のアカウントを用意し、他の目的には使用しないでください。</span><span class="sxs-lookup"><span data-stu-id="03df2-138">You should have dedicated accounts for SSO administrators, and should not use these accounts for any other purposes.</span></span> <span data-ttu-id="03df2-139">また、SSO 管理者グループのメンバシップは、SSO システムの実行と保守にかかわるアカウントのみに与えるようにしてください。</span><span class="sxs-lookup"><span data-stu-id="03df2-139">You should limit the membership to the SSO administrators group only to those accounts responsible for running and maintaining the SSO system.</span></span>  
  
-   <span data-ttu-id="03df2-140">BizTalk 管理者は、SSO データベースで、アダプターの構成情報を保存する SSO システムを活用できるように、BizTalk 管理者グループを「SSO 関連管理者グループに手動で追加する必要があります。</span><span class="sxs-lookup"><span data-stu-id="03df2-140">You must manually add the BizTalk administrators group to the SSO Affiliate Administrators group so that the BizTalk administrators can leverage the SSO system to save the configuration information for the adapters in the SSO database.</span></span> <span data-ttu-id="03df2-141">SSO 関連管理者グループのメンバにする必要があるのは、アダプタを管理している BizTalk 管理者のみです。</span><span class="sxs-lookup"><span data-stu-id="03df2-141">Only the BizTalk administrators managing adapters need to be members of the SSO Affiliate Administrators group.</span></span> <span data-ttu-id="03df2-142">すべての BizTalk 管理者を、SSO 管理者にする必要はありません。</span><span class="sxs-lookup"><span data-stu-id="03df2-142">BizTalk administrators do not need to be SSO administrators.</span></span>  
  
## <a name="security-recommendations-for-an-sso-deployment"></a><span data-ttu-id="03df2-143">SSO 展開のセキュリティに関する推奨事項</span><span class="sxs-lookup"><span data-stu-id="03df2-143">Security Recommendations for an SSO Deployment</span></span>  
  
- <span data-ttu-id="03df2-144">ネットワークが Kerberos 認証をサポートしている場合、すべての SSO サーバーを登録する必要があります。</span><span class="sxs-lookup"><span data-stu-id="03df2-144">If your network supports Kerberos authentication, you should register all SSO servers.</span></span> <span data-ttu-id="03df2-145">マスタ シークレット サーバーと SSO データベース間に Kerberos 認証を使用する場合、SSO データベースが存在する SQL Server コンピュータにサービス プリンシパル名 (SPN) を構成する必要があります。</span><span class="sxs-lookup"><span data-stu-id="03df2-145">When you use Kerberos authentication between the master secret server and the SSO database, you must configure Service Principal Names (SPN) on the SQL server where the SSO database is located.</span></span> <span data-ttu-id="03df2-146">サービス プリンシパル名を構成する方法の詳細については、Microsoft ダウンロード Web サイトを参照して[ http://go.microsoft.com/fwlink/?LinkId=195797](http://go.microsoft.com/fwlink/?LinkId=195797)します。</span><span class="sxs-lookup"><span data-stu-id="03df2-146">For more information about configuring Service Principal Names, see Microsoft Download Web site at [http://go.microsoft.com/fwlink/?LinkId=195797](http://go.microsoft.com/fwlink/?LinkId=195797).</span></span>  
  
- <span data-ttu-id="03df2-147">[!INCLUDE[btsWinSvr2k8](../includes/btswinsvr2k8-md.md)] または [!INCLUDE[btsWinSvr2k8R2](../includes/btswinsvr2k8r2-md.md)] を実行していて、マスター シークレット サーバーが他の SSO サーバーや SSO データベースと異なるドメインに配置されている場合、マスター シークレット サーバー、処理ドメイン内のコンピューターを処理している SSO サーバー、および SSO データベースで、コンピューター間のデータ トランザクション コーディネーター (DTC) 認証に使用している RPC セキュリティを無効にする必要があります。</span><span class="sxs-lookup"><span data-stu-id="03df2-147">When running [!INCLUDE[btsWinSvr2k8](../includes/btswinsvr2k8-md.md)] or [!INCLUDE[btsWinSvr2k8R2](../includes/btswinsvr2k8r2-md.md)], if the master secret server is on a different domain from the other SSO servers and from the SSO database, you must disable RPC security (as used for Data Transaction Coordinator (DTC) authentication between computers) on the master secret server, on the SSO servers (processing computers in the processing domain), and on the SSO database.</span></span> <span data-ttu-id="03df2-148">RPC セキュリティは、[!INCLUDE[btsWinSvr2k8](../includes/btswinsvr2k8-md.md)] および [!INCLUDE[btsWinSvr2k8R2](../includes/btswinsvr2k8r2-md.md)] の DTC 機能です。</span><span class="sxs-lookup"><span data-stu-id="03df2-148">RPC security is a DTC feature in [!INCLUDE[btsWinSvr2k8](../includes/btswinsvr2k8-md.md)] and [!INCLUDE[btsWinSvr2k8R2](../includes/btswinsvr2k8r2-md.md)].</span></span> <span data-ttu-id="03df2-149">RPC セキュリティを無効にすると、RPC 呼び出しの DTC 認証セキュリティ レベルは、Microsoft Windows Server 2003 で利用できるレベルに戻ります。</span><span class="sxs-lookup"><span data-stu-id="03df2-149">When you disable RPC security, the DTC authentication security level for RPC calls goes back to one available in Microsoft Windows Server 2003.</span></span>  
  
- <span data-ttu-id="03df2-150">SSO 管理者は、マスタ シークレット サーバーと SSO サーバーのイベント ログで SSO 監査イベントを定期的に監視することをお勧めします。</span><span class="sxs-lookup"><span data-stu-id="03df2-150">SSO administrators should regularly monitor the event log in the master secret server and the SSO server for SSO auditing events.</span></span>  
  
- <span data-ttu-id="03df2-151">すべての SSO サーバーと SSO データベース間に、ファイアウォールに加えて、インターネット プロトコル セキュリティ (IPsec) または Secure Sockets Layer (SSL) を使用することをお勧めします。</span><span class="sxs-lookup"><span data-stu-id="03df2-151">In addition to firewalls, it is recommended to use Internet Protocol security (IPSec) or Secure Sockets Layer (SSL) between all the SSO servers and the SSO database.</span></span> <span data-ttu-id="03df2-152">SSL の詳細については、Microsoft ヘルプとサポート Web サイトを参照して[ http://go.microsoft.com/fwlink/?LinkId=195798](http://go.microsoft.com/fwlink/?LinkId=195798)します。</span><span class="sxs-lookup"><span data-stu-id="03df2-152">For more information about SSL, see Microsoft Help and Support Web site at [http://go.microsoft.com/fwlink/?LinkId=195798](http://go.microsoft.com/fwlink/?LinkId=195798).</span></span> <span data-ttu-id="03df2-153">詳細については、すべての SSO サーバーと SSO データベース間で SSL を使用して、[SSO の SSL を有効にする方法](../core/how-to-enable-ssl-for-sso.md)を参照してください。</span><span class="sxs-lookup"><span data-stu-id="03df2-153">For more information about using SSL between all the SSO servers and the SSO database, see [How to Enable SSL for SSO](../core/how-to-enable-ssl-for-sso.md).</span></span>  
  
## <a name="perimeter-network"></a><span data-ttu-id="03df2-154">境界ネットワーク</span><span class="sxs-lookup"><span data-stu-id="03df2-154">Perimeter Network</span></span>  
 <span data-ttu-id="03df2-155">インターネット インフォメーション サービス (IIS) とエンタープライズ シングル サインオンを実行する際は、次の推奨事項に従ってください。</span><span class="sxs-lookup"><span data-stu-id="03df2-155">When running Internet Information Services (IIS) and Enterprise Single Sign-On, follow these recommendations:</span></span>  
  
-   <span data-ttu-id="03df2-156">IIS が境界ネットワーク (DMZ、非武装地帯、スクリーン サブネットとも呼ばれます) に配置されている場合、SSO システムに接続するために別の IIS サーバーをファイアウォールの内側に配置します。</span><span class="sxs-lookup"><span data-stu-id="03df2-156">If IIS is in a perimeter network (also known as demilitarized zone, DMZ, and screened subnet), provide another IIS server behind the firewall to connect to the SSO system.</span></span>  
  
-   <span data-ttu-id="03df2-157">IIS ではリモート プロシージャ コール (RPC) ポートを開かないでください。</span><span class="sxs-lookup"><span data-stu-id="03df2-157">Do not open the remote procedure calls (RPC) port on IIS.</span></span>  
  
## <a name="sql-server-access"></a><span data-ttu-id="03df2-158">SQL Server へのアクセス</span><span class="sxs-lookup"><span data-stu-id="03df2-158">SQL Server Access</span></span>  
 <span data-ttu-id="03df2-159">すべての SSO サーバーでは SQL Server に格納されている SSO データベースへのアクセスが発生します。</span><span class="sxs-lookup"><span data-stu-id="03df2-159">All SSO servers access the SQL Server SSO database.</span></span> <span data-ttu-id="03df2-160">SQL Server データベースをセキュリティで保護する方法の詳細については、[ http://go.microsoft.com/fwlink/?LinkId=33175](http://go.microsoft.com/fwlink/?LinkId=33175)を参照してください。</span><span class="sxs-lookup"><span data-stu-id="03df2-160">For more information about how to secure SQL Server databases, see [http://go.microsoft.com/fwlink/?LinkId=33175](http://go.microsoft.com/fwlink/?LinkId=33175).</span></span>  
  
 <span data-ttu-id="03df2-161">Secure Sockets Layer (SSL)、インターネット プロトコル セキュリティ (IPsec) のいずれか、またはその両方を使用して、SSO サーバーと SSO データベース間でのデータの移動をセキュリティで保護することをお勧めします。</span><span class="sxs-lookup"><span data-stu-id="03df2-161">It is recommended that you use Secure Sockets Layer (SSL) and/or Internet Protocol security (IPSec) to secure the transmission of data between the SSO servers and the SSO database.</span></span> <span data-ttu-id="03df2-162">SSL の使用方法の詳細については、[ http://go.microsoft.com/fwlink/?LinkId=195798](http://go.microsoft.com/fwlink/?LinkId=195798)を参照してください。</span><span class="sxs-lookup"><span data-stu-id="03df2-162">For more information about using SSL, see [http://go.microsoft.com/fwlink/?LinkId=195798](http://go.microsoft.com/fwlink/?LinkId=195798).</span></span>  
  
 <span data-ttu-id="03df2-163">SSO サーバーと SSO データベース間の接続のみで SSL を有効にする場合は、ssoconfig ユーティリティを使用して、すべての SSO サーバーに SSL サポートを設定できます。</span><span class="sxs-lookup"><span data-stu-id="03df2-163">To enable SSL for only the connection between the SSO server and the SSO database, you can set SSL support on every SSO server using the ssoconfig utility.</span></span> <span data-ttu-id="03df2-164">このオプションを使用すると、SSO サーバーでは、SSO データベースにアクセスするときに必ず SSL が使用されるようになります。</span><span class="sxs-lookup"><span data-stu-id="03df2-164">This option enables SSO to always use SSL when accessing the SSO database.</span></span> <span data-ttu-id="03df2-165">詳細については、[SSO の SSL を有効にする方法](../core/how-to-enable-ssl-for-sso.md)を参照してください。</span><span class="sxs-lookup"><span data-stu-id="03df2-165">For more information, see [How to Enable SSL for SSO](../core/how-to-enable-ssl-for-sso.md).</span></span>  
  
## <a name="strong-passwords"></a><span data-ttu-id="03df2-166">強力なパスワード</span><span class="sxs-lookup"><span data-stu-id="03df2-166">Strong Passwords</span></span>  
 <span data-ttu-id="03df2-167">すべてのアカウントには、強力なパスワードを使用する必要があります。特に SSO 管理者グループのメンバ アカウントは SSO システム全体を制御できるので、強力なパスワードを使用することが重要になります。</span><span class="sxs-lookup"><span data-stu-id="03df2-167">It is very important that you use strong passwords for all accounts, especially the accounts that are members of the SSO Administrators group, because these users have control over the entire SSO system.</span></span>  
  
## <a name="sso-administrator-accounts"></a><span data-ttu-id="03df2-168">SSO 管理者アカウント</span><span class="sxs-lookup"><span data-stu-id="03df2-168">SSO Administrator Accounts</span></span>  
 <span data-ttu-id="03df2-169">SSO サービスのサービス アカウントには、コンピュータごとに別のアカウントを使用することをお勧めします。</span><span class="sxs-lookup"><span data-stu-id="03df2-169">It is recommended that you use different service accounts for the SSO services running on different computers.</span></span> <span data-ttu-id="03df2-170">SSO サービス アカウントには、シークレットの生成やバックアップなどの管理タスクを実行する SSO 管理者アカウントを使用しないでください。</span><span class="sxs-lookup"><span data-stu-id="03df2-170">You should not use the SSO administrator account that performs administration operations such as generating and backing up the secret for the SSO service.</span></span> <span data-ttu-id="03df2-171">SSO サービス アカウントに、コンピュータのローカル管理者アカウントを使用することはお勧めしませんが、SSO 管理者が実行する管理タスクには、ローカル管理者の権利が必要なものもあります。</span><span class="sxs-lookup"><span data-stu-id="03df2-171">While the SSO service accounts should not be local administrators on that computer, the SSO administrator that is performing administration operations must be a local administrator on the computer for some operations.</span></span>  
  
## <a name="master-secret-server"></a><span data-ttu-id="03df2-172">マスタ シークレット サーバー</span><span class="sxs-lookup"><span data-stu-id="03df2-172">Master Secret Server</span></span>  
 <span data-ttu-id="03df2-173">マスタ シークレット サーバーは、セキュリティで保護し、ロックダウンすることを強くお勧めします。</span><span class="sxs-lookup"><span data-stu-id="03df2-173">It is highly recommended that you secure and lock down the master secret server.</span></span> <span data-ttu-id="03df2-174">マスタ シークレット サーバーは、処理サーバーとして使用しないでください。</span><span class="sxs-lookup"><span data-stu-id="03df2-174">You should not use this server as a processing server.</span></span> <span data-ttu-id="03df2-175">このサーバーは、マスタ シークレットを保持する目的にのみ使用してください。</span><span class="sxs-lookup"><span data-stu-id="03df2-175">The only purpose of this server should be to hold the master secret.</span></span> <span data-ttu-id="03df2-176">このコンピュータの物理的なセキュリティを確保し、このコンピュータには SSO 管理者のみがアクセスできるようにする必要があります。</span><span class="sxs-lookup"><span data-stu-id="03df2-176">You should ensure the physical security of this computer and only SSO Administrators should have access to this computer.</span></span>  
  
## <a name="kerberos"></a><span data-ttu-id="03df2-177">Kerberos</span><span class="sxs-lookup"><span data-stu-id="03df2-177">Kerberos</span></span>  
 <span data-ttu-id="03df2-178">SSO では Kerberos 認証がサポートされているため、SSO に Kerberos 認証を設定することをお勧めします。</span><span class="sxs-lookup"><span data-stu-id="03df2-178">SSO supports Kerberos, and it is recommended that you set up Kerberos for SSO.</span></span> <span data-ttu-id="03df2-179">SSO に Kerberos を設定するには、SSO サービスのサービス プリンシパル名 (SPN) を登録する必要があります。</span><span class="sxs-lookup"><span data-stu-id="03df2-179">To set up Kerberos with SSO, you must register a Secure Principal Name (SPN) for the SSO service.</span></span> <span data-ttu-id="03df2-180">既定では、Kerberos を設定すると、SSO では SPN を使用して、SSO サービスを使用するコンポーネントを認証します。</span><span class="sxs-lookup"><span data-stu-id="03df2-180">By default, when you setup Kerberos, SSO uses that SPN to authenticate the components using the SSO Service.</span></span> <span data-ttu-id="03df2-181">SSO で管理しているサブサービスと SSO サーバー間には、Kerberos 認証を設定することをお勧めします。</span><span class="sxs-lookup"><span data-stu-id="03df2-181">It is recommended you set up Kerberos authentication between the SSO administrative subservices and the SSO server.</span></span> <span data-ttu-id="03df2-182">また、SSO サーバー間、SSO サーバーと SSO データベースが格納されている SQL Server コンピュータ間に Kerberos 認証を使用することもできます。</span><span class="sxs-lookup"><span data-stu-id="03df2-182">You can also user Kerberos authentication between the SSO servers and between the SSO servers and the SQL server where the SSO database is.</span></span>  
  
 <span data-ttu-id="03df2-183">Kerberos 認証を設定および確認するには、setspn ユーティリティと kerbtray ユーティリティを使用します。</span><span class="sxs-lookup"><span data-stu-id="03df2-183">To set up and verify Kerberos, you use the utilities setspn and kerbtray.</span></span> <span data-ttu-id="03df2-184">これらのユーティリティの詳細については、[ http://go.microsoft.com/fwlink/?LinkId=33178](http://go.microsoft.com/fwlink/?LinkId=33178)を参照してください。</span><span class="sxs-lookup"><span data-stu-id="03df2-184">For more information about these utilities, see [http://go.microsoft.com/fwlink/?LinkId=33178](http://go.microsoft.com/fwlink/?LinkId=33178).</span></span>  
  
## <a name="delegation"></a><span data-ttu-id="03df2-185">委任</span><span class="sxs-lookup"><span data-stu-id="03df2-185">Delegation</span></span>  
 <span data-ttu-id="03df2-186">[!INCLUDE[btsWinSvr2k8](../includes/btswinsvr2k8-md.md)] または [!INCLUDE[btsWinSvr2k8R2](../includes/btswinsvr2k8r2-md.md)] を使用している場合、制約付き委任を使用できますが、シングル サインオン管理者のタスクの実行には委任を使用しないことをお勧めします。</span><span class="sxs-lookup"><span data-stu-id="03df2-186">When using [!INCLUDE[btsWinSvr2k8](../includes/btswinsvr2k8-md.md)] or [!INCLUDE[btsWinSvr2k8R2](../includes/btswinsvr2k8r2-md.md)], it is possible to use constrained delegation, but it is recommended that you do not use delegation to perform the tasks of the Single Sign-On Administrator.</span></span> <span data-ttu-id="03df2-187">また、シングル サインオン管理者には、追加のタスクやユーザー権利を委任しないことをお勧めします。</span><span class="sxs-lookup"><span data-stu-id="03df2-187">Similarly, it is recommended that you do not delegate additional tasks or user rights to the Single Sign-On administrator.</span></span>  
  
## <a name="auditing"></a><span data-ttu-id="03df2-188">監査</span><span class="sxs-lookup"><span data-stu-id="03df2-188">Auditing</span></span>  
 <span data-ttu-id="03df2-189">監査は、環境内の情報を追跡するための重要なメカニズムです。</span><span class="sxs-lookup"><span data-stu-id="03df2-189">Auditing is a critical mechanism for tracking information in your environment.</span></span> <span data-ttu-id="03df2-190">エンタープライズ シングル サインオン (SSO) では、SSO データベースで行われたすべての操作が監査対象になります。</span><span class="sxs-lookup"><span data-stu-id="03df2-190">Enterprise Single Sign-On (SSO) audits all operations performed in the SSO database.</span></span> <span data-ttu-id="03df2-191">SSO では、データベースに備わっているイベント ログと監査ログを使用します。</span><span class="sxs-lookup"><span data-stu-id="03df2-191">SSO uses event logs and audit logs of the database itself.</span></span> <span data-ttu-id="03df2-192">SSO には、シングル サインオン サーバーに対して次の 2 つの監査レベルが用意されています。</span><span class="sxs-lookup"><span data-stu-id="03df2-192">SSO provides two audit levels for the Single Sign-On servers:</span></span>  
  
- <span data-ttu-id="03df2-193">"成功" 監査レベルでは、成功した操作を監査します。</span><span class="sxs-lookup"><span data-stu-id="03df2-193">Positive auditing levels audit successful operations</span></span>  
  
- <span data-ttu-id="03df2-194">"失敗" 監査レベルでは、失敗した操作を監査します。</span><span class="sxs-lookup"><span data-stu-id="03df2-194">Negative auditing levels audit operations that fail</span></span>  
  
  <span data-ttu-id="03df2-195">SSO 管理者は、企業の規定に応じて、成功と失敗の監査レベルを設定できます。</span><span class="sxs-lookup"><span data-stu-id="03df2-195">SSO administrators can set the positive and negative audit levels that suit their corporate policies.</span></span>  
  
  <span data-ttu-id="03df2-196">成功と失敗の監査は、次のレベルのいずれかに設定できます。</span><span class="sxs-lookup"><span data-stu-id="03df2-196">You can set positive and negative audits to one of the following levels:</span></span>  
  
  <span data-ttu-id="03df2-197">0 = オフ。</span><span class="sxs-lookup"><span data-stu-id="03df2-197">0 = None.</span></span> <span data-ttu-id="03df2-198">このレベルでは、監査メッセージは発行されません。</span><span class="sxs-lookup"><span data-stu-id="03df2-198">This level issues no audit messages</span></span>  
  
  <span data-ttu-id="03df2-199">1 = 低。</span><span class="sxs-lookup"><span data-stu-id="03df2-199">1 = Low</span></span>  
  
  <span data-ttu-id="03df2-200">2 = 中。</span><span class="sxs-lookup"><span data-stu-id="03df2-200">2 = Medium</span></span>  
  
  <span data-ttu-id="03df2-201">3 = 高。</span><span class="sxs-lookup"><span data-stu-id="03df2-201">3 = High.</span></span> <span data-ttu-id="03df2-202">このレベルでは、できるだけ多くの監査メッセージが発行されます。</span><span class="sxs-lookup"><span data-stu-id="03df2-202">This level issues as many audit messages as possible</span></span>  
  
  <span data-ttu-id="03df2-203">成功の監査の既定値は 0 (オフ)、失敗の監査の既定値は 1 (低) です。</span><span class="sxs-lookup"><span data-stu-id="03df2-203">The default value for positive auditing is 0 (none), and the default value for negative auditing is 1 (low).</span></span> <span data-ttu-id="03df2-204">これらの値は、SSO システムで必要な監査レベルに応じて変更できます。</span><span class="sxs-lookup"><span data-stu-id="03df2-204">You may want to change these values depending on the level of auditing you want for your SSO system.</span></span>  
  
> [!IMPORTANT]
>  <span data-ttu-id="03df2-205">エンタープライズ シングル サインオンの監査では、シングル サインオン サービスによって生成されたメッセージを発行します。</span><span class="sxs-lookup"><span data-stu-id="03df2-205">Enterprise Single Sign-On auditing issues messages generated by the Single Sign-On service.</span></span> <span data-ttu-id="03df2-206">これはセキュリティ監査ではないため、SSO システムでは、イベント ログのセキュリティ ログには情報を保存しません。</span><span class="sxs-lookup"><span data-stu-id="03df2-206">This is not a security audit, and the SSO system does not save the information in the security log of the Event Log.</span></span> <span data-ttu-id="03df2-207">SSO システムは、SSO 監査メッセージをアプリケーション イベント ログに直接保存します。</span><span class="sxs-lookup"><span data-stu-id="03df2-207">The SSO system saves the SSO audit messages directly to the Application Event Log.</span></span>  
  
### <a name="database-level-auditing"></a><span data-ttu-id="03df2-208">データベース レベルの監査</span><span class="sxs-lookup"><span data-stu-id="03df2-208">Database-Level Auditing</span></span>  
 <span data-ttu-id="03df2-209">SSO システムによるデータベース レベルの監査では、SSO データベースで実行された操作を SSO データベースの監査テーブルで追跡します。</span><span class="sxs-lookup"><span data-stu-id="03df2-209">For database-level auditing, the SSO system tracks the operations performed on the SSO database in the audit tables in the database.</span></span> <span data-ttu-id="03df2-210">これらの監査テーブルのサイズは、SSO システム レベルで定義されています。</span><span class="sxs-lookup"><span data-stu-id="03df2-210">The size of these audit tables is defined at the SSO system level.</span></span> <span data-ttu-id="03df2-211">関連アプリケーションやマッピングの削除、資格情報の参照などの操作を監査できます。</span><span class="sxs-lookup"><span data-stu-id="03df2-211">You can audit for affiliate applications that are deleted, for mappings that are deleted, and for credential look-ups that are performed.</span></span> <span data-ttu-id="03df2-212">既定では、監査テーブルのサイズは 1,000 エントリに設定されています。</span><span class="sxs-lookup"><span data-stu-id="03df2-212">By default, the audit size is set to 1,000 entries.</span></span> <span data-ttu-id="03df2-213">SSO 管理者は、企業のポリシーに応じて、このサイズを変更できます。</span><span class="sxs-lookup"><span data-stu-id="03df2-213">SSO administrators can change this size to meet their corporate policies.</span></span>  
  
## <a name="using-sso-accounts"></a><span data-ttu-id="03df2-214">SSO アカウントの使用</span><span class="sxs-lookup"><span data-stu-id="03df2-214">Using SSO Accounts</span></span>  
 <span data-ttu-id="03df2-215">このセクションでは、エンタープライズ シングル サインオン (SSO) システムでドメイン グループ、ローカル グループ、および単独アカウントを使用する際のベスト プラクティスを紹介します。</span><span class="sxs-lookup"><span data-stu-id="03df2-215">This section contains best practices when using domain and local groups and individual accounts in the Enterprise Single Sign-On (SSO) system.</span></span>  
  
### <a name="domain-windows-groups-and-accounts"></a><span data-ttu-id="03df2-216">ドメイン Windows グループとアカウント</span><span class="sxs-lookup"><span data-stu-id="03df2-216">Domain Windows Groups and Accounts</span></span>  
 <span data-ttu-id="03df2-217">ドメイン Windows グループを使用する場合は、以下のような推奨事項があります。</span><span class="sxs-lookup"><span data-stu-id="03df2-217">When working with domain Windows groups, the following recommendations apply:</span></span>  
  
- <span data-ttu-id="03df2-218">ドメイン グループとドメイン アカウントを使用します。</span><span class="sxs-lookup"><span data-stu-id="03df2-218">Use domain groups and domain accounts.</span></span>  
  
- <span data-ttu-id="03df2-219">[!INCLUDE[btsWinSvr2k8](../includes/btswinsvr2k8-md.md)] または [!INCLUDE[btsWinSvr2k8R2](../includes/btswinsvr2k8r2-md.md)] を使用する場合、ENTSSO サービス アカウントは、Network Service アカウントで実行されるように構成できます。</span><span class="sxs-lookup"><span data-stu-id="03df2-219">When using [!INCLUDE[btsWinSvr2k8](../includes/btswinsvr2k8-md.md)] or [!INCLUDE[btsWinSvr2k8R2](../includes/btswinsvr2k8r2-md.md)]the ENTSSO service account can be configured to run under the Network Service account.</span></span> <span data-ttu-id="03df2-220">ただし、この構成では Network Service アカウントに SSO 管理者権限を与える必要があるため、セキュリティ上の理由により推奨されていません。</span><span class="sxs-lookup"><span data-stu-id="03df2-220">However, this is not recommended for security reasons, as the Network Service account will need to be given the SSO Administrators privilege.</span></span> <span data-ttu-id="03df2-221">代わりに、ENTSSO サービスに対する一意のドメイン サービス アカウントを使用することをお勧めします。</span><span class="sxs-lookup"><span data-stu-id="03df2-221">It is recommended instead that you use a unique domain service account for the ENTSSO service account.</span></span>  
  
- <span data-ttu-id="03df2-222">SSO 管理者にはドメイン グループを使用します。</span><span class="sxs-lookup"><span data-stu-id="03df2-222">Use a domain group for SSO administrators.</span></span> <span data-ttu-id="03df2-223">単独のドメイン アカウントは別の単独アカウントに変更することができません。そのため、単独のドメイン アカウントを SSO 管理者として指定しないことをお勧めします。</span><span class="sxs-lookup"><span data-stu-id="03df2-223">You should not specify an individual domain account as the SSO administrator, because you cannot change this account from one individual account to another individual account.</span></span>  
  
- <span data-ttu-id="03df2-224">SSO 関連管理者として単独のドメイン アカウントを指定することはできますが、SSO 関連管理者にはドメイン グループを使用することをお勧めします。</span><span class="sxs-lookup"><span data-stu-id="03df2-224">Although you can specify an individual domain account as the SSO affiliate administrator, you should use a domain group.</span></span>  
  
- <span data-ttu-id="03df2-225">アプリケーション管理者として単独のドメイン アカウントを指定することはできますが、アプリケーション管理者にはドメイン グループを使用することをお勧めします。</span><span class="sxs-lookup"><span data-stu-id="03df2-225">Although you can specify an individual domain account as the application administrator, you should use a domain group.</span></span>  
  
- <span data-ttu-id="03df2-226">アプリケーション ユーザー アカウントには、ドメイン グループを使用する必要があります。</span><span class="sxs-lookup"><span data-stu-id="03df2-226">You must use domain groups for the application user account.</span></span> <span data-ttu-id="03df2-227">SSO アプリケーション ユーザー アカウントでは、個人用アカウントはサポートされません。</span><span class="sxs-lookup"><span data-stu-id="03df2-227">The SSO applications user account does not support an individual account.</span></span>  
  
- <span data-ttu-id="03df2-228">これらの各 SSO アクセス アカウントには、複数のアカウントを指定できます。</span><span class="sxs-lookup"><span data-stu-id="03df2-228">Multiple accounts can be specified for each of these SSO access accounts.</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="03df2-229">参照</span><span class="sxs-lookup"><span data-stu-id="03df2-229">See Also</span></span>  
 <span data-ttu-id="03df2-230">[エンタープライズ シングル サインオン サーバーのポート](../core/ports-for-the-enterprise-single-sign-on-servers.md) </span><span class="sxs-lookup"><span data-stu-id="03df2-230">[Ports for the Enterprise Single Sign-On Servers](../core/ports-for-the-enterprise-single-sign-on-servers.md) </span></span>  
 [<span data-ttu-id="03df2-231">セキュリティ保護のための最小ユーザー権限</span><span class="sxs-lookup"><span data-stu-id="03df2-231">Minimum Security User Rights</span></span>](../core/minimum-security-user-rights.md)