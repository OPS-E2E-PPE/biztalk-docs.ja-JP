---
title: "ベスト プラクティスと、FTP アダプターの推奨事項 |Microsoft ドキュメント"
ms.custom: 
ms.date: 06/08/2017
ms.prod: biztalk-server
ms.reviewer: 
ms.suite: 
ms.tgt_pltfrm: 
ms.topic: article
helpviewer_keywords:
- best practices, FTP adapters
- FTP adapters, best practices
ms.assetid: f73b2016-d48c-48d8-9ba0-96e26b694d1e
caps.latest.revision: "12"
author: MandiOhlinger
ms.author: mandia
manager: anneta
ms.openlocfilehash: 85967756089be91939bf5b6f73b12d36ed8caa51
ms.sourcegitcommit: cb908c540d8f1a692d01dc8f313e16cb4b4e696d
ms.translationtype: MT
ms.contentlocale: ja-JP
ms.lasthandoff: 09/20/2017
---
# <a name="best-practices-and-recommendations-for-the-ftp-adapter"></a><span data-ttu-id="ca64c-102">ベスト プラクティスと、FTP アダプターの推奨事項</span><span class="sxs-lookup"><span data-stu-id="ca64c-102">Best practices and recommendations for the FTP Adapter</span></span>
<span data-ttu-id="ca64c-103">ベスト プラクティス、セキュリティの推奨事項、および FTP アダプターの機能強化について確認します。</span><span class="sxs-lookup"><span data-stu-id="ca64c-103">Read about the best practices, security recommendations, and enhancements for the FTP adapter.</span></span>

## <a name="best-practices"></a><span data-ttu-id="ca64c-104">ベスト プラクティス</span><span class="sxs-lookup"><span data-stu-id="ca64c-104">Best practices</span></span>  
  
-   <span data-ttu-id="ca64c-105">受信したファイルの一部を定期的に一時フォルダから削除することで、ファイルがコンピュータ リソースを使い続けたり、場合によってはサービスが中断されたりするのを防いでください。</span><span class="sxs-lookup"><span data-stu-id="ca64c-105">Delete partially received files from the temporary folder on a regular basis to keep files from using computer resources and potentially disrupting service.</span></span>  
  
-   <span data-ttu-id="ca64c-106">ストリーミング サーバーでの作業中は、メッセージ ボックス データベースでファイル全体が取得されるまでは、新しいファイルへの読み取りアクセスを拒否してください。</span><span class="sxs-lookup"><span data-stu-id="ca64c-106">When working with a streaming server, deny read access to the new file until the MessageBox database receives the entire file.</span></span> <span data-ttu-id="ca64c-107">ファイルの一部分が FTP アダプタからメッセージ ボックス データベースに送信された場合、メッセージ ボックス データベースではメッセージが正常に保存されますが、FTP アダプタでは受信場所からメッセージの断片を削除できません。</span><span class="sxs-lookup"><span data-stu-id="ca64c-107">If a partial file is submitted to the MessageBox database by the FTP adapter, the MessageBox database will successfully store the message, but the FTP adapter will not be able to delete the partial message from the receive location.</span></span>  
  
-   <span data-ttu-id="ca64c-108">FTP アダプタの受信ハンドラの高可用性を実現するには、クラスタ化された BizTalk ホスト インスタンスで実行されるように、FTP アダプタの受信ハンドラを構成する必要があります。</span><span class="sxs-lookup"><span data-stu-id="ca64c-108">To ensure high availability for the FTP adapter receive handler, the FTP adapter receive handler should be configured to run in a clustered BizTalk Host instance.</span></span> <span data-ttu-id="ca64c-109">詳細については、次を参照してください。[化されたクラスター化されたホストでアダプター ハンドラーの実行に関する考慮事項](../core/considerations-for-running-adapter-handlers-within-a-clustered-host1.md)です。</span><span class="sxs-lookup"><span data-stu-id="ca64c-109">For more information see [Considerations for Running Adapter Handlers within a Clustered Host](../core/considerations-for-running-adapter-handlers-within-a-clustered-host1.md).</span></span>  

## <a name="security-recommendations-and-tips"></a><span data-ttu-id="ca64c-110">セキュリティに関する推奨事項とヒント</span><span class="sxs-lookup"><span data-stu-id="ca64c-110">Security recommendations and tips</span></span>

<span data-ttu-id="ca64c-111">BizTalk Server では、ファイル転送プロトコル (FTP) サーバーからファイルを取得でき、他のアプリケーション用に FTP サーバーにファイルを送信することができます。</span><span class="sxs-lookup"><span data-stu-id="ca64c-111">BizTalk Server can receive files from a File Transfer Protocol (FTP) server and send files to an FTP server for other applications.</span></span> <span data-ttu-id="ca64c-112">BizTalk Server は FTP サーバーとして機能しません。</span><span class="sxs-lookup"><span data-stu-id="ca64c-112">BizTalk Server does not act as an FTP server.</span></span>  
  
 <span data-ttu-id="ca64c-113">FTP は、本質的に、安全ではありません。 ユーザー名、パスワード、およびその他の資格情報がクリア テキストでネットワークを通過します。</span><span class="sxs-lookup"><span data-stu-id="ca64c-113">FTP is, by nature, not secure: The user name, password, and other credentials traverse the network in clear text.</span></span> <span data-ttu-id="ca64c-114">同様に、アップロードまたはダウンロードされたファイルもクリア テキストで移送されるため、途中で簡単に表示または改ざんできます。</span><span class="sxs-lookup"><span data-stu-id="ca64c-114">Likewise, files uploaded or downloaded move across in clear text and can be easily viewed or tampered with along the way.</span></span> <span data-ttu-id="ca64c-115">さらに、攻撃者が FTP サーバー自体になりすます可能性があります (非認証サーバーによる攻撃とも呼ばれます)。</span><span class="sxs-lookup"><span data-stu-id="ca64c-115">Moreover, an attacker could spoof the FTP server itself, known as a rogue server attack.</span></span> <span data-ttu-id="ca64c-116">この場合、特定の FTP サーバーが実際に通信しようとしたコンピューターであるかどうかを判断する方法はありません。</span><span class="sxs-lookup"><span data-stu-id="ca64c-116">In this case you cannot tell if a particular FTP server is indeed the computer that you intended to communicate with.</span></span>  
  
 <span data-ttu-id="ca64c-117">これらの問題を解決するのには、FTP アダプターは、暗号化によるデータの機密性を保証する SSL/TLS プロトコルをサポートします。</span><span class="sxs-lookup"><span data-stu-id="ca64c-117">To overcome these problems, the FTP adapter supports the SSL/TLS protocol that ensures data confidentiality through encryption.</span></span>  
  
 <span data-ttu-id="ca64c-118">FTP プロトコルを使用する場合の一般的なセキュリティに関する考慮事項」を参照して、 [Internet FAQ Archives](http://go.microsoft.com/fwlink/p/?LinkId=24779) (http://go.microsoft.com/fwlink/p/?LinkId=24779)。</span><span class="sxs-lookup"><span data-stu-id="ca64c-118">For general security considerations when you use the FTP protocol, see the [Internet FAQ Archives](http://go.microsoft.com/fwlink/p/?LinkId=24779) (http://go.microsoft.com/fwlink/p/?LinkId=24779).</span></span>   
  
 <span data-ttu-id="ca64c-119">FTP アダプターをセキュリティで保護して環境に展開するには、次のガイドラインに従うことをお勧めします。</span><span class="sxs-lookup"><span data-stu-id="ca64c-119">We recommend that you use the following guidelines for securing and deploying the FTP adapter in your environment:</span></span>  

- <span data-ttu-id="ca64c-120">データへのサーバーと制限のアクセスをセキュリティで保護します。</span><span class="sxs-lookup"><span data-stu-id="ca64c-120">Secure your server and limit access to the data.</span></span> <span data-ttu-id="ca64c-121">FTP プロトコルはセキュリティで保護されたプロトコルではないので、常に危険にさらされます。</span><span class="sxs-lookup"><span data-stu-id="ca64c-121">Since the FTP protocol is not a secure protocol, it will always be vulnerable.</span></span> <span data-ttu-id="ca64c-122">FTP サーバーがセキュリティで保護された専用の接続を使用して、サーバーと BizTalk Server と FTP ホスト間の接続を制限することを確認することができます。</span><span class="sxs-lookup"><span data-stu-id="ca64c-122">You can ensure that the FTP server is secure by using a dedicated connection, and limiting the server and the connection between BizTalk Server and the FTP host.</span></span> <span data-ttu-id="ca64c-123">FTP サーバーのセキュリティ ポリシーを設定して、FTP クライアントとの、セキュリティで保護された接続を行うこともできます。</span><span class="sxs-lookup"><span data-stu-id="ca64c-123">You can also set the security policies of the FTP server to allow for secure connections with the FTP client.</span></span>  

- <span data-ttu-id="ca64c-124">アダプターと FTP サーバー間の通信には、SSL (Secure Sockets Layer) プロトコルを使用するように FTP アダプターを構成します。</span><span class="sxs-lookup"><span data-stu-id="ca64c-124">Configure the FTP adapter to use Secure Sockets Layer (SSL) protocol for the communication between the adapter and the FTP server.</span></span> <span data-ttu-id="ca64c-125">SSL プロトコルにより、暗号化を通じてデータの機密性が確保されます。</span><span class="sxs-lookup"><span data-stu-id="ca64c-125">SSL protocol ensures data confidentiality through encryption.</span></span> <span data-ttu-id="ca64c-126">これにより、ユーザー ID とパスワードは暗号化され、テキスト形式で送信されることはありません。</span><span class="sxs-lookup"><span data-stu-id="ca64c-126">This means that user IDs and passwords are encrypted and not sent as plain text.</span></span> <span data-ttu-id="ca64c-127">FTP アダプターでは、FTP 接続のデータ チャネルを暗号化する選択もできます。</span><span class="sxs-lookup"><span data-stu-id="ca64c-127">With the FTP adapter, you also have a choice to encrypt the data channel of the FTP connection.</span></span> <span data-ttu-id="ca64c-128">参照してください**強化**(」を参照)。</span><span class="sxs-lookup"><span data-stu-id="ca64c-128">See **Enhancements** (in this topic).</span></span>
  
-   <span data-ttu-id="ca64c-129">セキュリティで保護されたファイルの転送を実現するために、FTP アダプターによって提供される SSL 固有のプロパティを構成します。</span><span class="sxs-lookup"><span data-stu-id="ca64c-129">To achieve secure file transfer, configure the SSL-specific properties provided by the FTP adapter.</span></span> <span data-ttu-id="ca64c-130">参照してください**強化**(」を参照)。</span><span class="sxs-lookup"><span data-stu-id="ca64c-130">See **Enhancements** (in this topic).</span></span> 
  
-   <span data-ttu-id="ca64c-131">FTP アダプターには、FTP Request for Comments (RFC) 959 がサポートしています。</span><span class="sxs-lookup"><span data-stu-id="ca64c-131">The FTP adapter supports FTP Request for Comments (RFC) 959.</span></span> <span data-ttu-id="ca64c-132">参照してください、 [World Wide Web Consortium (W3C)](http://go.microsoft.com/fwlink/p/?LinkId=24781) (http://go.microsoft.com/fwlink/p/?LinkId=24781)。</span><span class="sxs-lookup"><span data-stu-id="ca64c-132">See the [World Wide Web Consortium (W3C)](http://go.microsoft.com/fwlink/p/?LinkId=24781) (http://go.microsoft.com/fwlink/p/?LinkId=24781).</span></span> <span data-ttu-id="ca64c-133">FTP アダプタは、Secure FTP (SFTP) をサポートしていません。</span><span class="sxs-lookup"><span data-stu-id="ca64c-133">The FTP adapter does not support the Secure FTP (SFTP) protocol.</span></span> <span data-ttu-id="ca64c-134">参照してください、 [SFTP アダプター](../core/sftp-adapter.md)です。</span><span class="sxs-lookup"><span data-stu-id="ca64c-134">See the [SFTP adapter](../core/sftp-adapter.md).</span></span>
  
-   <span data-ttu-id="ca64c-135">FTP アダプタは、ファイアウォールを越えて使用できます。</span><span class="sxs-lookup"><span data-stu-id="ca64c-135">You can use the FTP adapter across firewalls.</span></span> <span data-ttu-id="ca64c-136">で使用するファイアウォールの種類に応じて次のファイアウォールのプロパティの 1 つ以上を構成する必要があります。 ユーザー名、パスワード、コンピューター、ポート、ファイアウォールの種類 (なし、socks 4、socks 5)、とモードです。</span><span class="sxs-lookup"><span data-stu-id="ca64c-136">Depending on the type of firewall you use, you may have to configure one or more of the following firewall properties: username, password, computer, port, firewall type (none, socks 4, socks 5), and mode.</span></span>  
  
-   <span data-ttu-id="ca64c-137">安全な場所にリモートの FTP サーバーに配置することをお勧めします。</span><span class="sxs-lookup"><span data-stu-id="ca64c-137">We recommend you place the remote FTP server in a secure location.</span></span> <span data-ttu-id="ca64c-138">このサーバーの物理的なセキュリティとネットワークのセキュリティを確保して、未認証のサーバーの攻撃を最小限に抑える必要があります。</span><span class="sxs-lookup"><span data-stu-id="ca64c-138">You must ensure the physical and network security of this server to minimize rogue server attacks.</span></span>  
  
-   <span data-ttu-id="ca64c-139">FTP アダプタでは、エンタープライズ シングル サインオンの使用がサポートされています。</span><span class="sxs-lookup"><span data-stu-id="ca64c-139">The FTP adapter supports the use of Enterprise Single Sign-On (SSO).</span></span> <span data-ttu-id="ca64c-140">参照してください[エンタープライズ シングル サインオンを実装する](../core/implementing-enterprise-single-sign-on.md)です。</span><span class="sxs-lookup"><span data-stu-id="ca64c-140">See [Implementing Enterprise Single Sign-On](../core/implementing-enterprise-single-sign-on.md).</span></span>  
  
-   <span data-ttu-id="ca64c-141">既定では、FTP 受信アダプターはダウンロード後に FTP サーバーからファイルを削除するので、FTP サーバーへの書き込みアクセス許可が必要になります。</span><span class="sxs-lookup"><span data-stu-id="ca64c-141">By default, the FTP receive adapter must have write permissions in the FTP server because the adapter deletes the file from the server after download.</span></span> <span data-ttu-id="ca64c-142">ただし、FTP アダプターは、読み取り専用の場所からファイルのダウンロードをサポートします。</span><span class="sxs-lookup"><span data-stu-id="ca64c-142">However, the FTP adapter supports downloading of files from read-only locations.</span></span> <span data-ttu-id="ca64c-143">参照してください**強化**(」を参照)。</span><span class="sxs-lookup"><span data-stu-id="ca64c-143">See **Enhancements** (in this topic).</span></span>
  
- <span data-ttu-id="ca64c-144">FTP 送信ポートを使用する場合は、送信ポートの構成時にユーザー ID とパスワードの組み合わせを指定して格納する必要があります。</span><span class="sxs-lookup"><span data-stu-id="ca64c-144">When using an FTP send port, you must specify and store a user ID and password combination when configuring the send port.</span></span> <span data-ttu-id="ca64c-145">アダプタは、この情報を使用して FTP サーバーに接続します。</span><span class="sxs-lookup"><span data-stu-id="ca64c-145">The adapter uses this information to connect to the FTP server.</span></span> <span data-ttu-id="ca64c-146">ユーザーの資格情報は、プレーンテキストで SQL Server データベースに格納されます。</span><span class="sxs-lookup"><span data-stu-id="ca64c-146">The user credentials are stored in a SQL Server database in plain text.</span></span> <span data-ttu-id="ca64c-147">動的な送信ポートでは、資格情報は FTP サーバーに送信されます。</span><span class="sxs-lookup"><span data-stu-id="ca64c-147">In a dynamic send port, credentials are sent to the FTP server.</span></span> <span data-ttu-id="ca64c-148">実稼働環境の要件によってより強力なセキュリティが保証されている場合は、サーバーに対して匿名の資格情報を使用します。</span><span class="sxs-lookup"><span data-stu-id="ca64c-148">If production environment requirements warrant stronger security, use anonymous credentials to the server.</span></span>  
  
-   <span data-ttu-id="ca64c-149">システムでは、アカウントの入力を求められたら、既存のユーザー アカウントとローカル システム アカウントではなく入力することをお勧めします。</span><span class="sxs-lookup"><span data-stu-id="ca64c-149">When the system prompts you for an account, we recommend that you enter an existing user account, and not the local system account.</span></span> <span data-ttu-id="ca64c-150">これにより、より優れたセキュリティを実装し、ログオンせずにアダプタを自動実行モードで実行できます。</span><span class="sxs-lookup"><span data-stu-id="ca64c-150">This enables you to implement better security, and allows the adapter to run in unattended mode, without logging on.</span></span>  

## <a name="enhancements"></a><span data-ttu-id="ca64c-151">機能強化</span><span class="sxs-lookup"><span data-stu-id="ca64c-151">Enhancements</span></span>

### <a name="transferring-data-to-and-from-a-secure-ftp-server"></a><span data-ttu-id="ca64c-152">セキュリティで保護された FTP サーバーとの間のデータを転送します。</span><span class="sxs-lookup"><span data-stu-id="ca64c-152">Transferring data to and from a secure FTP server</span></span>  
 <span data-ttu-id="ca64c-153">FTP アダプターは Secure Sockets Layer (SSL) 経由での FTPS サーバーからのファイル転送をサポートする//transport Level Security (TLS)。</span><span class="sxs-lookup"><span data-stu-id="ca64c-153">The FTP adapter supports file transfers from an FTPS server over Secure Sockets Layer (SSL)/Transport Level Security (TLS).</span></span> <span data-ttu-id="ca64c-154">SSL/TLS によって、暗号化をとおしたデータの機密性が確保されます。</span><span class="sxs-lookup"><span data-stu-id="ca64c-154">SSL/TLS ensures data confidentiality through encryption.</span></span> <span data-ttu-id="ca64c-155">セキュリティで保護されたモードを有効にするには、アダプターが提供する SSL 固有のプロパティを構成する必要があります。</span><span class="sxs-lookup"><span data-stu-id="ca64c-155">You must enable the secure mode by configuring SSL-specific properties provided by the adapter.</span></span> <span data-ttu-id="ca64c-156">アダプターを使用するとセキュリティで保護された FTP サーバーからのデータの読み取りと書き込みが可能になるため、送信ハンドラー/ポートおよび受信ハンドラー/場所を構成するときも SSL 固有のプロパティを使用できます。</span><span class="sxs-lookup"><span data-stu-id="ca64c-156">Because the adapter allows for both reading and writing data from a secure FTP server, the SSL-specific properties are available when configuring send handlers/ports and also with receive handlers/locations.</span></span>  

<span data-ttu-id="ca64c-157">以降で[!INCLUDE[bts2016_md](../includes/bts2016-md.md)]、SYST コマンドには不要、FTP アダプター。</span><span class="sxs-lookup"><span data-stu-id="ca64c-157">Starting with [!INCLUDE[bts2016_md](../includes/bts2016-md.md)], the FTP adapter no longer requires the SYST command:</span></span> 

- <span data-ttu-id="ca64c-158">**FTP サーバーの種類**プロパティ – SYST コマンドを必要としないサーバーを使用するには、このプロパティに設定します。</span><span class="sxs-lookup"><span data-stu-id="ca64c-158">**FTP Server Type** property – Set this property to use a server that doesn't require the SYST command.</span></span>
   
 <span data-ttu-id="ca64c-159">SSL 固有のプロパティを構成するときは、以下のオプションを使用できます。</span><span class="sxs-lookup"><span data-stu-id="ca64c-159">The following options are available for configuring the SSL-specific properties:</span></span>  

-   <span data-ttu-id="ca64c-160">**SSL を使用して**プロパティ – がその FTP アダプターは、転送セッションごとに SSL を使用する必要がありますので、このプロパティを設定します。</span><span class="sxs-lookup"><span data-stu-id="ca64c-160">**Use SSL** property – Set this property so that FTP adapter must use SSL for each transfer session.</span></span>  
  
-   <span data-ttu-id="ca64c-161">**データ保護を有効にする**プロパティ – データの暗号化を有効にするには、このプロパティに設定します。</span><span class="sxs-lookup"><span data-stu-id="ca64c-161">**Enable Data Protection** property – Set this property to turn on data encryption.</span></span> <span data-ttu-id="ca64c-162">この設定が動作するためには、FTPS サーバーのセキュリティ ポリシーで、アダプターによって SSL 接続のセキュリティを保護することを考慮に入れる必要があります。</span><span class="sxs-lookup"><span data-stu-id="ca64c-162">The security policies of the FTPS server must allow for secure SSL connections with the adapter in order for this setting to work.</span></span>  
  
-   <span data-ttu-id="ca64c-163">**FTPS 接続モード**プロパティ-セキュリティをアクティブにするタイミングを決定するには、このプロパティを設定します。</span><span class="sxs-lookup"><span data-stu-id="ca64c-163">**FTPS Connection Mode** property – Set this property to determine when security is activated:</span></span>  
  
    -   <span data-ttu-id="ca64c-164">**暗黙的な**モードでは、セキュリティが自動的にオン、アダプターは、サーバーに接続するとすぐにします。</span><span class="sxs-lookup"><span data-stu-id="ca64c-164">In **Implicit** mode, security is automatically turned on as soon as the adapter connects to the server.</span></span>  
  
    -   <span data-ttu-id="ca64c-165">**Explicit**モードでは、アダプターは、セキュリティで保護されたコントロール チャネルを開始するコマンドを送信します。</span><span class="sxs-lookup"><span data-stu-id="ca64c-165">In **Explicit** mode, the adapter sends a command to initiate a secure control channel.</span></span>  
  
> [!NOTE]
>  <span data-ttu-id="ca64c-166">FTP アダプターはサーバー証明書の失効確認をサポートしていません。</span><span class="sxs-lookup"><span data-stu-id="ca64c-166">The FTP adapter does not support revocation checks on the server certificates.</span></span>  
  
### <a name="support-for-downloading-files-from-locations-marked-as-read-only"></a><span data-ttu-id="ca64c-167">読み取り専用とマーク付けされている場所からのファイル ダウンロードのサポート</span><span class="sxs-lookup"><span data-stu-id="ca64c-167">Support for downloading files from locations marked as read-only</span></span>  
<span data-ttu-id="ca64c-168">FTP アダプターは、読み取り専用ファイルの場所からファイルのダウンロードをサポートします。</span><span class="sxs-lookup"><span data-stu-id="ca64c-168">The FTP adapter supports download of files from read-only file locations.</span></span> <span data-ttu-id="ca64c-169">また、アダプターはダウンロードしたファイルの一覧をデータベースで管理するようになりました。</span><span class="sxs-lookup"><span data-stu-id="ca64c-169">The adapter now maintains a list of downloaded files in a database.</span></span> <span data-ttu-id="ca64c-170">次回ダウンロード時には、FTP サーバー上のファイルの一覧と、アダプターによって管理されているファイルの一覧とが比較され、サーバー上の新しいファイルだけがダウンロードされます。</span><span class="sxs-lookup"><span data-stu-id="ca64c-170">For the next download, the list of files on the FTP server is compared to the list of files maintained by the adapter, and only new files on the server are downloaded.</span></span> <span data-ttu-id="ca64c-171">2 つのダウンロード間の既存のファイルの更新のシナリオをサポートするためにも設定してファイルのタイムスタンプをチェックするアダプターを構成することができます、 **タイムスタンプ比較の**FTP の受信場所。</span><span class="sxs-lookup"><span data-stu-id="ca64c-171">To support scenarios where an existing file is updated between two downloads, you can configure the adapter to also check file timestamps by setting the **Enable Timestamp Comparison** property for the FTP receive location.</span></span> <span data-ttu-id="ca64c-172">このような場合、ファイル名は同じですが、タイムスタンプが更新されると、場合でも、アダプターは、ファイルをダウンロードします。</span><span class="sxs-lookup"><span data-stu-id="ca64c-172">In such cases, even if the file name is same but the timestamp is updated, the adapter downloads the file.</span></span>  
  
 <span data-ttu-id="ca64c-173">FTP サーバーによっては、変更されたタイムスタンプのファイルへの関連付けをサポートしていないことがあります。</span><span class="sxs-lookup"><span data-stu-id="ca64c-173">Sometimes the FTP server does not support associating a modified timestamp with a file.</span></span> <span data-ttu-id="ca64c-174">そのような場合、アダプターを使用すれば、ファイルを再度ダウンロードする間隔を指定できます。</span><span class="sxs-lookup"><span data-stu-id="ca64c-174">In such cases, the adapter enables you to specify an interval after which the file will be downloaded again.</span></span> <span data-ttu-id="ca64c-175">この間隔を構成するには、**再ダウンロード間隔**FTP の受信場所。</span><span class="sxs-lookup"><span data-stu-id="ca64c-175">You configure this interval by setting the **Redownload Interval** property for the FTP receive location.</span></span>  
  
 <span data-ttu-id="ca64c-176">次の表は、別の値を設定の FTP アダプターの予期される動作を一覧表示されます、**ダウンロード後に削除**、 **タイムスタンプ比較の**と**再ダウンロード間隔**プロパティです。</span><span class="sxs-lookup"><span data-stu-id="ca64c-176">The following table lists the expected behavior of the FTP adapter for different values set for the **Delete After Download**, **Enable Timestamp Comparison** and **Redownload Interval** properties.</span></span>  
  
|<span data-ttu-id="ca64c-177">ダウンロード後に削除</span><span class="sxs-lookup"><span data-stu-id="ca64c-177">Delete After Download</span></span>|<span data-ttu-id="ca64c-178">タイムスタンプ比較の有効化</span><span class="sxs-lookup"><span data-stu-id="ca64c-178">Enable Timestamp Comparison</span></span>|<span data-ttu-id="ca64c-179">再ダウンロード間隔</span><span class="sxs-lookup"><span data-stu-id="ca64c-179">Redownload Interval</span></span>|<span data-ttu-id="ca64c-180">アダプターの動作</span><span class="sxs-lookup"><span data-stu-id="ca64c-180">Adapter Behavior</span></span>|  
|---|---|---|---|  
|<span data-ttu-id="ca64c-181">はい</span><span class="sxs-lookup"><span data-stu-id="ca64c-181">Yes</span></span>|<span data-ttu-id="ca64c-182">適用なし</span><span class="sxs-lookup"><span data-stu-id="ca64c-182">Not applicable</span></span>|<span data-ttu-id="ca64c-183">適用なし</span><span class="sxs-lookup"><span data-stu-id="ca64c-183">Not applicable</span></span>|<span data-ttu-id="ca64c-184">アダプターは、ファイルをダウンロードした後、そのファイルを FTP サーバーから削除します。</span><span class="sxs-lookup"><span data-stu-id="ca64c-184">The adapter deletes a file from the FTP server after downloading it.</span></span> <span data-ttu-id="ca64c-185">これがアダプターの既定の動作です。</span><span class="sxs-lookup"><span data-stu-id="ca64c-185">This is the default behavior of the adapter.</span></span>|  
|<span data-ttu-id="ca64c-186">不可</span><span class="sxs-lookup"><span data-stu-id="ca64c-186">No</span></span>|<span data-ttu-id="ca64c-187">はい</span><span class="sxs-lookup"><span data-stu-id="ca64c-187">Yes</span></span>|<span data-ttu-id="ca64c-188">適用なし</span><span class="sxs-lookup"><span data-stu-id="ca64c-188">Not applicable</span></span>|<span data-ttu-id="ca64c-189">アダプターは、ファイルをダウンロードした後、そのファイルを FTP サーバーから削除しません。</span><span class="sxs-lookup"><span data-stu-id="ca64c-189">The adapter does not delete a file from the FTP server after downloading it.</span></span> <span data-ttu-id="ca64c-190">代わりに、アダプターは MDTM コマンドを使用して、ファイルの最終変更タイムスタンプを比較します。</span><span class="sxs-lookup"><span data-stu-id="ca64c-190">Instead the adapter compares the file’s last modified timestamp using the MDTM command.</span></span> <span data-ttu-id="ca64c-191">タイムスタンプに応じて、アダプターはファイルを再度ダウンロードします。</span><span class="sxs-lookup"><span data-stu-id="ca64c-191">Depending on the timestamp, the adapter downloads the file again.</span></span>|  
|<span data-ttu-id="ca64c-192">不可</span><span class="sxs-lookup"><span data-stu-id="ca64c-192">No</span></span>|<span data-ttu-id="ca64c-193">不可</span><span class="sxs-lookup"><span data-stu-id="ca64c-193">No</span></span>|<span data-ttu-id="ca64c-194">適用できます</span><span class="sxs-lookup"><span data-stu-id="ca64c-194">Applicable</span></span>|<span data-ttu-id="ca64c-195">FTP アダプターは、ファイルが変更されているかどうかにかかわらず、指定された間隔が経過すると、FTP サーバーからファイルをダウンロードします。</span><span class="sxs-lookup"><span data-stu-id="ca64c-195">The FTP adapter downloads a file from the FTP server after the interval you specify, irrespective of whether the file has been modified or not.</span></span>|  
  
### <a name="support-for-atomic-file-transfer-in-ascii-mode"></a><span data-ttu-id="ca64c-196">ASCII モードでのアトミックなファイル転送のサポート</span><span class="sxs-lookup"><span data-stu-id="ca64c-196">Support for atomic file transfer in ASCII mode</span></span>  
 <span data-ttu-id="ca64c-197">FTP アダプターは、ASCII モードのアトミック ファイル転送をサポートします。</span><span class="sxs-lookup"><span data-stu-id="ca64c-197">The FTP adapter supports atomic file transfer for ASCII mode.</span></span> <span data-ttu-id="ca64c-198">ASCII モードでアトミック ファイル転送を有効にするアダプターを使用して、**一時フォルダー**プロパティです。</span><span class="sxs-lookup"><span data-stu-id="ca64c-198">To enable atomic file transfer for ASCII mode, the adapter uses the **Temporary Folder** property.</span></span> <span data-ttu-id="ca64c-199">このプロパティは、ファイルが最初に移動される FTP サーバー上の一時的な場所を指定します。</span><span class="sxs-lookup"><span data-stu-id="ca64c-199">This property defines a temporary location on the FTP server where the file is first moved to.</span></span> <span data-ttu-id="ca64c-200">一時的な場所にファイルが完全に転送されたら、次に、FTP サーバー上の関連する場所に移動されます。</span><span class="sxs-lookup"><span data-stu-id="ca64c-200">After the file is completely transferred to the temporary location, the file is then moved to the relevant location on the FTP server.</span></span> <span data-ttu-id="ca64c-201">この場合、FTP サーバー上の一時的な場所と関連する場所との間でファイル転送がアトミックであることが前提となります。</span><span class="sxs-lookup"><span data-stu-id="ca64c-201">Here, the assumption is that the file transfer is atomic between the temporary location and the relevant location on the FTP server.</span></span>  
  
> [!NOTE]
>  <span data-ttu-id="ca64c-202">ASCII ファイルを一時フォルダーを使用する拡張機能にのみ適用、**送信**には適用されず**受信**です。</span><span class="sxs-lookup"><span data-stu-id="ca64c-202">The extension of using temporary folder to ASCII file is applicable only for the **Send**, and does not apply to **Receive**.</span></span> <span data-ttu-id="ca64c-203">この機能を実装する主な理由は、サード パーティ製アプリケーションはファイルの書き込みが完了しなければ読み取らないためです。</span><span class="sxs-lookup"><span data-stu-id="ca64c-203">The primary reason for implementing this feature is that, a third party application will not read a file until it is fully written.</span></span> <span data-ttu-id="ca64c-204">BizTalk がファイルを受信する場合、アダプターはファイルの読み取りが完了した後でのみ BizTalk にファイルを送信します。</span><span class="sxs-lookup"><span data-stu-id="ca64c-204">In the case of BizTalk receiving the file, the adapter will submit the file to BizTalk only after it is completely read.</span></span>  
  
> [!NOTE]
>  <span data-ttu-id="ca64c-205">バイナリ モードで、**一時フォルダー**プロパティは、間にエラーがある場合は、ファイル転送を再開するも使用できます。</span><span class="sxs-lookup"><span data-stu-id="ca64c-205">In binary mode, the **Temporary Folder** property can also be used to resume file transfer if there is a failure in between.</span></span> <span data-ttu-id="ca64c-206">ASCII モードでは適用されません。</span><span class="sxs-lookup"><span data-stu-id="ca64c-206">This is not applicable for ASCII mode.</span></span> <span data-ttu-id="ca64c-207">ASCII モードで、**一時フォルダー**プロパティはアトミック ファイル転送にのみ使用します。</span><span class="sxs-lookup"><span data-stu-id="ca64c-207">For ASCII mode, the **Temporary Folder** property is only used for atomic file transfer.</span></span>  
  
 
## <a name="next"></a><span data-ttu-id="ca64c-208">Next</span><span class="sxs-lookup"><span data-stu-id="ca64c-208">Next</span></span> 
[<span data-ttu-id="ca64c-209">FTP アダプタを構成します。</span><span class="sxs-lookup"><span data-stu-id="ca64c-209">Configuring the FTP Adapter</span></span>](../core/configuring-the-ftp-adapter.md)  

## <a name="see-also"></a><span data-ttu-id="ca64c-210">参照</span><span class="sxs-lookup"><span data-stu-id="ca64c-210">See Also</span></span>  
 <span data-ttu-id="ca64c-211">[受信と送信サーバーのポート](../core/ports-for-the-receive-and-send-servers.md) </span><span class="sxs-lookup"><span data-stu-id="ca64c-211">[Ports for the Receive and Send Servers](../core/ports-for-the-receive-and-send-servers.md) </span></span>  
 [<span data-ttu-id="ca64c-212">セキュリティの最小ユーザー権限</span><span class="sxs-lookup"><span data-stu-id="ca64c-212">Minimum Security User Rights</span></span>](../core/minimum-security-user-rights.md)
