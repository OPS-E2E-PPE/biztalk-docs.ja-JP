---
title: SQL Server データベース ミラーリング、ボリューム シャドウ コピー サービス、および AlwaysOn |Microsoft Docs
ms.custom: ''
ms.date: 06/08/2017
ms.prod: biztalk-server
ms.reviewer: ''
ms.suite: ''
ms.tgt_pltfrm: ''
ms.topic: article
ms.assetid: b965cafc-cd34-4657-975d-0dedffd27333
caps.latest.revision: 14
author: MandiOhlinger
ms.author: mandia
manager: anneta
ms.openlocfilehash: 6dcf7ea68871d198ddf6a796d3022fc78647f925
ms.sourcegitcommit: 381e83d43796a345488d54b3f7413e11d56ad7be
ms.translationtype: MT
ms.contentlocale: ja-JP
ms.lasthandoff: 05/07/2019
ms.locfileid: "65401784"
---
# <a name="sql-server-database-mirroring-volume-shadow-copy-service-and-alwayson"></a><span data-ttu-id="ea35b-102">SQL Server データベース ミラーリング、ボリューム シャドウ コピー サービス、および AlwaysOn</span><span class="sxs-lookup"><span data-stu-id="ea35b-102">SQL Server database mirroring, Volume Shadow Copy service and AlwaysOn</span></span>
<span data-ttu-id="ea35b-103">Microsoft SQL Server と呼ばれるソフトウェア ソリューションを提供する*データベース ミラーリング*と Windows ボリューム シャドウ コピー サービス (VSS) の特定のシナリオの高可用性を向上させます。</span><span class="sxs-lookup"><span data-stu-id="ea35b-103">Microsoft provides software solutions known as SQL Server *database mirroring* and the Windows Volume Shadow Copy Service (VSS) to increase high availability for particular scenarios.</span></span> <span data-ttu-id="ea35b-104">SQL Server*データベース ミラーリング*ボリューム シャドウ コピー サービス (VSS) には、ディザスター リカバリー用のバックアップと復元の機能が用意されています。 データベースが使用可能な確率が高くなります。</span><span class="sxs-lookup"><span data-stu-id="ea35b-104">SQL Server *database mirroring* increases the probability that a database is available while the Volume Shadow Copy Service (VSS) provides backup and restore functionality for disaster recovery.</span></span> <span data-ttu-id="ea35b-105">SQL Server の使用*データベース ミラーリング*または Windows ボリューム シャドウ コピー サービスが Microsoft の高可用性を確保するためのサポート対象ソリューション[!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)]データベース。</span><span class="sxs-lookup"><span data-stu-id="ea35b-105">The use of SQL Server *database mirroring* or the Windows Volume Shadow Copy Service are not supported solutions for ensuring high availability of Microsoft [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] databases.</span></span>  
  
## <a name="using-sql-server-database-mirroring-to-provide-high-availability-for-biztalk-server-databases"></a><span data-ttu-id="ea35b-106">SQL Server データベース ミラーリングを使用して、BizTalk Server データベースの高可用性を実現するには</span><span class="sxs-lookup"><span data-stu-id="ea35b-106">Using SQL Server database mirroring to provide high availability for BizTalk Server databases</span></span>  
 <span data-ttu-id="ea35b-107">SQL Server の使用*データベース ミラーリング*現在、Microsoft の高可用性を確保するためのサポートされているソリューションではない[!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)]データベースでトランザクションの一貫性を維持する潜在的な問題のため、BizTalk Server データベース。</span><span class="sxs-lookup"><span data-stu-id="ea35b-107">The use of SQL Server *database mirroring* is not currently a supported solution for ensuring high availability of the Microsoft [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] databases because of potential problems maintaining transactional consistency in the BizTalk Server databases.</span></span> <span data-ttu-id="ea35b-108">データベース ミラーリングと SQL Server データベースにまたがるトランザクションの詳細については、次を参照してください。 [ http://go.microsoft.com/fwlink/?LinkId=87977](http://go.microsoft.com/fwlink/?LinkId=87977)します。</span><span class="sxs-lookup"><span data-stu-id="ea35b-108">For more information about Database Mirroring and Cross-Database Transactions in SQL Server see [http://go.microsoft.com/fwlink/?LinkId=87977](http://go.microsoft.com/fwlink/?LinkId=87977).</span></span> [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] <span data-ttu-id="ea35b-109">データベースをインストールする必要がありますのディザスター リカバリーの目的での高可用性と BizTalk 確保する SQL Server クラスターでログ配布を利用する必要があります。</span><span class="sxs-lookup"><span data-stu-id="ea35b-109">databases should be installed on a SQL Server cluster to ensure high availability and BizTalk log shipping should be utilized for purposes of disaster recovery.</span></span> <span data-ttu-id="ea35b-110">BizTalk ログ配布の詳細については、次を参照してください。[ログ配布](../core/log-shipping.md)します。</span><span class="sxs-lookup"><span data-stu-id="ea35b-110">For more information about BizTalk log shipping, see [Log Shipping](../core/log-shipping.md).</span></span>  
  
## <a name="using-the-volume-shadow-copy-service-to-provide-high-availability-for-biztalk-server-databases"></a><span data-ttu-id="ea35b-111">ボリューム シャドウ コピー サービスを使用して、BizTalk Server データベースの高可用性を実現するには</span><span class="sxs-lookup"><span data-stu-id="ea35b-111">Using the Volume Shadow Copy service to provide high availability for BizTalk Server databases</span></span>  
 <span data-ttu-id="ea35b-112">ボリューム シャドウ コピー サービスは、ディザスター リカバリー用のバックアップと復元の機能を提供します。</span><span class="sxs-lookup"><span data-stu-id="ea35b-112">The Volume Shadow Copy Service provides backup and restore functionality for disaster recovery.</span></span> <span data-ttu-id="ea35b-113">VSS の Microsoft 分散トランザクション コーディネーター (MS DTC) をサポートするため、ローカルの展開とトランザクション調整シナリオにも他の制限が適用) に制限は、現在のサポートされているソリューションが、VSS サービスの使用ではありません。Microsoft の高可用性を確保[!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)]データベース。</span><span class="sxs-lookup"><span data-stu-id="ea35b-113">Because Microsoft Distributed Transaction Coordinator (MS DTC) support for VSS it is limited to local deployment and transaction coordination scenarios (and also subject to other limitations), use of the VSS service is not currently a supported solution for ensuring high availability of the Microsoft [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] databases.</span></span> <span data-ttu-id="ea35b-114">分散トランザクションでボリューム シャドウ コピー サービスのサポートの詳細については、次を参照してください。 [ http://go.microsoft.com/fwlink/?LinkId=139505](http://go.microsoft.com/fwlink/?LinkId=139505)します。</span><span class="sxs-lookup"><span data-stu-id="ea35b-114">For more information about Volume Shadow Copy Service Support with Distributed Transactions see [http://go.microsoft.com/fwlink/?LinkId=139505](http://go.microsoft.com/fwlink/?LinkId=139505).</span></span>  
  
## <a name="using-sql-server-alwayson"></a><span data-ttu-id="ea35b-115">SQL Server AlwaysOn を使用します。</span><span class="sxs-lookup"><span data-stu-id="ea35b-115">Using SQL Server AlwaysOn</span></span> 
 <span data-ttu-id="ea35b-116">[!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] および [!INCLUDE[btsSQLServerNoVersion](../includes/btssqlservernoversion-md.md)] が別のコンピューターにインストールされている場合、Distributed Transaction Coordinator (MS DTC) がコンピューター間のトランザクションを処理します。</span><span class="sxs-lookup"><span data-stu-id="ea35b-116">When [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] and [!INCLUDE[btsSQLServerNoVersion](../includes/btssqlservernoversion-md.md)] are installed on separate computers, Distributed Transaction Coordinator (MS DTC) handles the transactions between the computers.</span></span> 
 
<span data-ttu-id="ea35b-117">SQL Server 2016 以降では、AlwaysOn は、MSDTC トランザクションをサポートします。</span><span class="sxs-lookup"><span data-stu-id="ea35b-117">Starting with SQL Server 2016, AlwaysOn supports MSDTC transactions.</span></span> <span data-ttu-id="ea35b-118">結果として、[!INCLUDE[btsSQLServerNoVersion](../includes/btssqlservernoversion-md.md)]この SQL Server のバージョンを使用して、AlwaysOn 機能はサポートされています。</span><span class="sxs-lookup"><span data-stu-id="ea35b-118">As a result, the [!INCLUDE[btsSQLServerNoVersion](../includes/btssqlservernoversion-md.md)] AlwaysOn feature is supported when using this SQL Server version.</span></span> <span data-ttu-id="ea35b-119">以前の SQL Server バージョンと、 [!INCLUDE[btsSQLServerNoVersion](../includes/btssqlservernoversion-md.md)] AlwaysOn 機能は、MSDTC トランザクションをサポートしていませんし、したがって AlwaysOn がサポートされていません。</span><span class="sxs-lookup"><span data-stu-id="ea35b-119">With previous SQL Server versions, the [!INCLUDE[btsSQLServerNoVersion](../includes/btssqlservernoversion-md.md)] AlwaysOn feature does not support MSDTC transactions, and therefore AlwaysOn is not supported.</span></span> 

<span data-ttu-id="ea35b-120">参照してください[SQL Server Always On 可用性グループを使用して高可用性](../core/high-availability-using-sql-server-always-on-availability-groups.md)します。</span><span class="sxs-lookup"><span data-stu-id="ea35b-120">See [High Availability using SQL Server Always On Availability Groups](../core/high-availability-using-sql-server-always-on-availability-groups.md).</span></span>
  
## <a name="see-also"></a><span data-ttu-id="ea35b-121">参照</span><span class="sxs-lookup"><span data-stu-id="ea35b-121">See Also</span></span>  
 <span data-ttu-id="ea35b-122">[BizTalk Server データベースをクラスタ リング](../core/clustering-the-biztalk-server-databases1.md) </span><span class="sxs-lookup"><span data-stu-id="ea35b-122">[Clustering the BizTalk Server Databases](../core/clustering-the-biztalk-server-databases1.md) </span></span>  
 [<span data-ttu-id="ea35b-123">バックアップおよび復元に関する詳細情報</span><span class="sxs-lookup"><span data-stu-id="ea35b-123">Advanced Information About Backup and Restore</span></span>](../core/advanced-information-about-backup-and-restore1.md)