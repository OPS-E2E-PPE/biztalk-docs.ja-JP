---
title: Visual Studio から BizTalk アセンブリを再デプロイする方法 |Microsoft Docs
ms.custom: ''
ms.date: 06/08/2017
ms.prod: biztalk-server
ms.reviewer: ''
ms.suite: ''
ms.tgt_pltfrm: ''
ms.topic: article
ms.assetid: 5c4bb627-48de-4874-bb25-af2c513dbc51
caps.latest.revision: 41
author: MandiOhlinger
ms.author: mandia
manager: anneta
ms.openlocfilehash: 68a3d764a02063253e889498e21c65d602973fd9
ms.sourcegitcommit: 266308ec5c6a9d8d80ff298ee6051b4843c5d626
ms.translationtype: MT
ms.contentlocale: ja-JP
ms.lasthandoff: 06/27/2018
ms.locfileid: "37008859"
---
# <a name="how-to-redeploy-a-biztalk-assembly-from-visual-studio"></a><span data-ttu-id="e5a21-102">Visual Studio から BizTalk アセンブリを再展開する方法</span><span class="sxs-lookup"><span data-stu-id="e5a21-102">How to Redeploy a BizTalk Assembly from Visual Studio</span></span>
<span data-ttu-id="e5a21-103">アセンブリの開発プロセスでは、展開、テスト、修正、再展開を繰り返し行うことがしばしば必要になります。</span><span class="sxs-lookup"><span data-stu-id="e5a21-103">In the process of developing an assembly, you often need to deploy, test, modify, and redeploy it repeatedly.</span></span> <span data-ttu-id="e5a21-104">以前のバージョンの [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] では、バージョン番号を変更せずにアセンブリを再展開するには、まず [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] でアセンブリに含まれるアイテムの停止、参加解除、バインド解除を手動で行い、次に BizTalk 管理 (構成) データベースからそのアセンブリを削除する必要がありました。</span><span class="sxs-lookup"><span data-stu-id="e5a21-104">In previous versions of [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)], if you wanted to redeploy an assembly without changing the version number, you first needed to manually stop, unenlist, and unbind artifacts contained in the assembly in [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] and then remove the assembly from the BizTalk Management (configuration) database.</span></span> <span data-ttu-id="e5a21-105">さらに、アセンブリの再展開の後、[!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] でアイテムをバインドし、参加させ、開始する必要がありました。</span><span class="sxs-lookup"><span data-stu-id="e5a21-105">In addition, after redeploying the assembly, you needed to bind, enlist, and start its artifacts in [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)].</span></span>  
  
 <span data-ttu-id="e5a21-106">BizTalk Server で、有効にすると、再展開オプションで[!INCLUDE[btsVStudioNoVersion](../includes/btsvstudionoversion-md.md)]、[!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)]によって自動的にすべてのアセンブリを再デプロイする手順を実行します。</span><span class="sxs-lookup"><span data-stu-id="e5a21-106">With BizTalk Server, however, when you enable the Redeploy option in [!INCLUDE[btsVStudioNoVersion](../includes/btsvstudionoversion-md.md)], [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] automatically takes all of the steps to redeploy the assembly for you.</span></span> <span data-ttu-id="e5a21-107">プロジェクト レベルからアセンブリを再展開することで (ソリューション エクスプローラーでプロジェクトを右クリックして [配置] をクリックするなどの手順で) 個別のアセンブリを再展開することもできますが、常にソリューション レベルからアセンブリを再展開すること (ソリューションを右クリックして [配置] をクリックするなどの手順で) を強くお勧めします。</span><span class="sxs-lookup"><span data-stu-id="e5a21-107">Although you can redeploy an assembly from the project level (such as by right-clicking the project in Solution Explorer and clicking Deploy) to redeploy an individual assembly, we strongly recommend that you always redeploy assemblies from the solution level (such as by right-clicking the solution and clicking Deploy).</span></span> <span data-ttu-id="e5a21-108">これにより、ソリューションのアセンブリが一度に再展開され、依存関係がある場合に関連する手順がすべて処理されます。詳細については、後で説明します。</span><span class="sxs-lookup"><span data-stu-id="e5a21-108">This redeploys all of the assemblies in the solution at once and handles all of the steps involved when there are dependencies, as described later.</span></span>  
  
> [!IMPORTANT]
>  <span data-ttu-id="e5a21-109">プロジェクト レベルで再展開することが必要になる場合もまれにありますが、一般には、常にソリューション レベルで再展開することをお勧めします。</span><span class="sxs-lookup"><span data-stu-id="e5a21-109">Although there are rare situations in which you might need to redeploy at the project level, as a rule you should always redeploy at the solution level.</span></span>  
  
 <span data-ttu-id="e5a21-110">アセンブリを再展開する際には、次の重要事項を念頭に置いてください。</span><span class="sxs-lookup"><span data-stu-id="e5a21-110">When redeploying an assembly, bear in mind the following important points:</span></span>  
  
- <span data-ttu-id="e5a21-111">**新しいアセンブリは、GAC にインストールする必要があります。**</span><span class="sxs-lookup"><span data-stu-id="e5a21-111">**You must install the new assembly in the GAC.**</span></span> <span data-ttu-id="e5a21-112">アセンブリを再デプロイするときにする必要があります常に新しいバージョンのアセンブリを GAC にインストール、」の説明に従って[を GAC にアセンブリをインストールする方法](../core/how-to-install-an-assembly-in-the-gac.md)します。</span><span class="sxs-lookup"><span data-stu-id="e5a21-112">When you redeploy an assembly, you must always install the new version of the assembly in the GAC, as described in [How to Install an Assembly in the GAC](../core/how-to-install-an-assembly-in-the-gac.md).</span></span> <span data-ttu-id="e5a21-113">このインストールは、再展開の後に行えます。</span><span class="sxs-lookup"><span data-stu-id="e5a21-113">You can do this after you redeploy it.</span></span>  
  
- <span data-ttu-id="e5a21-114">**常に再デプロイするソリューション レベルでの依存関係がある場合。**</span><span class="sxs-lookup"><span data-stu-id="e5a21-114">**You should always redeploy at the solution level when there are dependencies.**</span></span> <span data-ttu-id="e5a21-115">ソリューションに複数のアセンブリがあり、そのソリューションの 1 つ以上のアセンブリが再展開するアセンブリに依存している場合、ソリューション レベルで目的のアセンブリを再展開する必要があります。</span><span class="sxs-lookup"><span data-stu-id="e5a21-115">If you have multiple assemblies in a solution, and one or more assemblies in the solution has a dependency on the assembly that you want to redeploy, you should redeploy your assemblies at the solution level.</span></span> <span data-ttu-id="e5a21-116">これは、プロジェクト レベルでアセンブリを再展開すると、このアセンブリに依存する、またはこのアセンブリが依存するすべてのアセンブリのアイテムの停止、参加解除、バインド解除、削除が [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] によって行われるためです。</span><span class="sxs-lookup"><span data-stu-id="e5a21-116">This is because when you redeploy an assembly at the project level, [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] will stop, unenlist, unbind, and remove the artifacts in all assemblies that either depend on this assembly on upon which this assembly depends.</span></span> [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)]<span data-ttu-id="e5a21-117"> では、アイテムの展開、バインド、参加、開始を行う追加手順は実行されません。</span><span class="sxs-lookup"><span data-stu-id="e5a21-117"> will not take the additional steps to deploy, bind, enlist, and start the artifacts.</span></span> <span data-ttu-id="e5a21-118">ソリューション全体を再展開すると、依存関係に基づいているソリューションのすべてのアイテムを展開解除して再展開するのに必要な手順が、[!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] によって自動的に実行されます。</span><span class="sxs-lookup"><span data-stu-id="e5a21-118">When you redeploy the entire solution, however, [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] automatically takes the steps required to undeploy and redeploy all of the artifacts in the solution based on their dependencies.</span></span>  
  
- <span data-ttu-id="e5a21-119">**依存アセンブリを手動で再デプロイする必要があります。**</span><span class="sxs-lookup"><span data-stu-id="e5a21-119">**You may need to manually redeploy dependent assemblies.**</span></span> [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)]<span data-ttu-id="e5a21-120"> では常に依存アセンブリが展開解除されますが、次に示す場合においては、依存先のアセンブリを再展開した後、各依存アセンブリのアイテムを展開し、バインドして、参加させる追加手順の実行が必要です。</span><span class="sxs-lookup"><span data-stu-id="e5a21-120"> always undeploys dependent assemblies, but in the following cases, you must take the additional steps to deploy, bind, and enlist the artifacts in each dependent assembly after redeploying the assembly on which the assembly depends:</span></span>  
  
  - <span data-ttu-id="e5a21-121">プロジェクト レベルでアセンブリを再展開する際に、同じソリューションの別のアセンブリが目的のアセンブリに依存している場合。</span><span class="sxs-lookup"><span data-stu-id="e5a21-121">If you redeploy an assembly at the project level and another assembly in the same solution depends on it.</span></span>  
  
  - <span data-ttu-id="e5a21-122">ソリューション レベルでアセンブリを再展開する際に、別のソリューションに依存アセンブリが存在する場合。</span><span class="sxs-lookup"><span data-stu-id="e5a21-122">If you redeploy an assembly at the solution level, but a dependent assembly exists in a different solution.</span></span>  
  
    <span data-ttu-id="e5a21-123">たとえば、次の図で、アセンブリ 3 だけを再展開しようとすると、再展開の後、アセンブリ 2 のアイテムの展開、バインド、参加が必要になり、次にアセンブリ 1 のアイテムの展開、バインド、参加が必要になります。</span><span class="sxs-lookup"><span data-stu-id="e5a21-123">For example, if you were to redeploy only Assembly 3 shown in the following diagram, following redeployment you would need to deploy, bind, and enlist the artifacts in Assembly 2, and then deploy, bind, and enlist the artifacts in Assembly 1.</span></span>  
  
    <span data-ttu-id="e5a21-124">![依存関係を持つアセンブリ](../core/media/assemblydependencies.gif "AssemblyDependencies")</span><span class="sxs-lookup"><span data-stu-id="e5a21-124">![Assemblies with dependencies](../core/media/assemblydependencies.gif "AssemblyDependencies")</span></span>  
  
    <span data-ttu-id="e5a21-125">別の方法として、変更されていないコア アセンブリの不要な展開を避ける方法があります。</span><span class="sxs-lookup"><span data-stu-id="e5a21-125">An alternative approach is to avoid unnecessary deployment of core assemblies that have not changed.</span></span>  <span data-ttu-id="e5a21-126">上の図の例では、アセンブリ 2 およびアセンブリ 3 に依存している他のアセンブリが存在する場合、これらのアセンブリはどれも更新されていません。</span><span class="sxs-lookup"><span data-stu-id="e5a21-126">For example in the diagram above, if there are other assemblies that depend on Assembly 2 and Assembly 3 and neither of these assemblies have been updated.</span></span>  <span data-ttu-id="e5a21-127">オフに、**デプロイ**構成マネージャーで、アセンブリ 2 およびアセンブリ 3 プロジェクトのオプション。</span><span class="sxs-lookup"><span data-stu-id="e5a21-127">Uncheck the **Deploy** option in configuration manager for the Assembly 2 and the Assembly 3 projects.</span></span> <span data-ttu-id="e5a21-128">これにより、依存する外部アセンブリは展開解除されず、再展開は必要ありません。</span><span class="sxs-lookup"><span data-stu-id="e5a21-128">This way external assemblies that depended on them will not be undeployed requiring redeployment.</span></span> <span data-ttu-id="e5a21-129">詳細については、次を参照してください。 [Visual Studio の配置プロパティを設定する方法](../core/how-to-set-deployment-properties-in-visual-studio.md)します。</span><span class="sxs-lookup"><span data-stu-id="e5a21-129">For more information, see [How to Set Deployment Properties in Visual Studio](../core/how-to-set-deployment-properties-in-visual-studio.md).</span></span>  
  
- <span data-ttu-id="e5a21-130">**ホスト インスタンスを再起動する必要があります。**</span><span class="sxs-lookup"><span data-stu-id="e5a21-130">**You must restart host instances.**</span></span> <span data-ttu-id="e5a21-131">アセンブリ バージョン番号を変更せずにオーケストレーションを含むアセンブリを再展開すると、BizTalk 管理データベースの既存のアセンブリは上書きされます。</span><span class="sxs-lookup"><span data-stu-id="e5a21-131">When you redeploy an assembly that contains an orchestration without changing the assembly version number, the existing assembly is overwritten in the BizTalk Management database.</span></span> <span data-ttu-id="e5a21-132">ただし、変更が有効になる前に、オーケストレーションがバインドされているホストの各ホスト インスタンスを再起動する必要があります。</span><span class="sxs-lookup"><span data-stu-id="e5a21-132">Before the change will take effect, however, you must restart each host instance of the host to which the orchestration is bound.</span></span> <span data-ttu-id="e5a21-133">オプションを指定して、アセンブリの再展開時に、ローカル コンピューター上のすべてのホスト インスタンスを自動的に再起動することができます。</span><span class="sxs-lookup"><span data-stu-id="e5a21-133">You can specify the option that all host instances on the local computer restart automatically when you redeploy an assembly.</span></span> <span data-ttu-id="e5a21-134">手順については、次を参照してください。 [Visual Studio の配置プロパティを設定する方法](../core/how-to-set-deployment-properties-in-visual-studio.md)します。</span><span class="sxs-lookup"><span data-stu-id="e5a21-134">For instructions, see [How to Set Deployment Properties in Visual Studio](../core/how-to-set-deployment-properties-in-visual-studio.md).</span></span> <span data-ttu-id="e5a21-135">手動で停止しての説明に従って、各ホスト インスタンスを起動[ホスト インスタンスを停止する方法](../core/how-to-stop-a-host-instance.md)と[ホスト インスタンスを開始する方法](../core/how-to-start-a-host-instance.md)します。</span><span class="sxs-lookup"><span data-stu-id="e5a21-135">You can also manually stop and start each host instance, as described in [How to Stop a Host Instance](../core/how-to-stop-a-host-instance.md) and [How to Start a Host Instance](../core/how-to-start-a-host-instance.md).</span></span>  
  
> [!IMPORTANT]
>  <span data-ttu-id="e5a21-136">再展開オプションではバージョン管理が無視されるので、使用は開発時のみに限定することをお勧めします。</span><span class="sxs-lookup"><span data-stu-id="e5a21-136">Because the Redeploy option bypasses version control, we recommend that you use it only during development.</span></span>  
  
## <a name="prerequisites"></a><span data-ttu-id="e5a21-137">前提条件</span><span class="sxs-lookup"><span data-stu-id="e5a21-137">Prerequisites</span></span>  
 <span data-ttu-id="e5a21-138">このトピックの手順を実行するには、[!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] 管理者グループに属するアカウントでログオンする必要があります。</span><span class="sxs-lookup"><span data-stu-id="e5a21-138">To perform the procedure in this topic, you must be logged on with an account that is a member of the [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] Administrators group.</span></span> <span data-ttu-id="e5a21-139">また、使用するアカウントには、ローカル ファイル システムおよびグローバル アセンブリ キャッシュ (GAC) に対する読み取り/書き込みアクセス許可が必要です。</span><span class="sxs-lookup"><span data-stu-id="e5a21-139">In addition, your account must have Read/Write permissions on the local file system and the global assembly cache (GAC).</span></span> <span data-ttu-id="e5a21-140">ローカル コンピューターの管理者アカウントには、これらのアクセス許可が与えられています。</span><span class="sxs-lookup"><span data-stu-id="e5a21-140">The Administrators account on the local computer has these permissions.</span></span>  
  
## <a name="to-redeploy-a-biztalk-solution"></a><span data-ttu-id="e5a21-141">BizTalk ソリューションを再展開するには</span><span class="sxs-lookup"><span data-stu-id="e5a21-141">To redeploy a BizTalk solution</span></span>  
  
#### <a name="using-visual-studio-solution-explorer"></a><span data-ttu-id="e5a21-142">Visual Studio ソリューション エクスプローラーを使用する場合</span><span class="sxs-lookup"><span data-stu-id="e5a21-142">Using Visual Studio Solution Explorer</span></span>  
  
1. <span data-ttu-id="e5a21-143">」の説明に従って、ソリューション内の各プロジェクトの展開プロパティで再展開オプションが有効であることを確認[Visual Studio の配置プロパティを設定する方法](../core/how-to-set-deployment-properties-in-visual-studio.md)します。</span><span class="sxs-lookup"><span data-stu-id="e5a21-143">Ensure that the Redeploy option is enabled in Deployment properties for each project in the solution, as described in [How to Set Deployment Properties in Visual Studio](../core/how-to-set-deployment-properties-in-visual-studio.md).</span></span> <span data-ttu-id="e5a21-144">このオプションは、既定の設定で有効になります。</span><span class="sxs-lookup"><span data-stu-id="e5a21-144">This option is enabled by default.</span></span>  
  
2. <span data-ttu-id="e5a21-145">[!INCLUDE[btsVStudioNoVersion](../includes/btsvstudionoversion-md.md)]ソリューション エクスプ ローラーは、BizTalk ソリューションを右クリックし、順にクリックします**デプロイ**します。</span><span class="sxs-lookup"><span data-stu-id="e5a21-145">In [!INCLUDE[btsVStudioNoVersion](../includes/btsvstudionoversion-md.md)] Solution Explorer, right-click a BizTalk solution, and then click **Deploy**.</span></span>  
  
    <span data-ttu-id="e5a21-146">ソリューションのアセンブリが、指定した BizTalk アプリケーションに展開されます。</span><span class="sxs-lookup"><span data-stu-id="e5a21-146">The assemblies in the solution are deployed into the specified BizTalk application.</span></span> <span data-ttu-id="e5a21-147">ページの左下隅に、ビルドおよび展開プロセスの状態が表示されます。</span><span class="sxs-lookup"><span data-stu-id="e5a21-147">The status of the build and deployment process displays in the lower left corner of the page.</span></span>  
  
#### <a name="using-the-visual-studio-command-prompt"></a><span data-ttu-id="e5a21-148">Visual Studio コマンド プロンプトを使用する場合</span><span class="sxs-lookup"><span data-stu-id="e5a21-148">Using the Visual Studio command prompt</span></span>  
  
1.  <span data-ttu-id="e5a21-149">」の説明に従って、ソリューション内の各プロジェクトの展開プロパティで再展開オプションが有効であることを確認[Visual Studio の配置プロパティを設定する方法](../core/how-to-set-deployment-properties-in-visual-studio.md)します。</span><span class="sxs-lookup"><span data-stu-id="e5a21-149">Ensure that the Redeploy option is enabled in Deployment properties for each project in the solution, as described in [How to Set Deployment Properties in Visual Studio](../core/how-to-set-deployment-properties-in-visual-studio.md).</span></span> <span data-ttu-id="e5a21-150">このオプションは、既定の設定で有効になります。</span><span class="sxs-lookup"><span data-stu-id="e5a21-150">This option is enabled by default.</span></span>  
  
2.  <span data-ttu-id="e5a21-151">開始**Visual Studio コマンド プロンプト**します。</span><span class="sxs-lookup"><span data-stu-id="e5a21-151">Start **Visual Studio Command Prompt**.</span></span>  
  
3.  <span data-ttu-id="e5a21-152">次の表に示すように、適切な値を置き換えて、次のコマンドを入力します。</span><span class="sxs-lookup"><span data-stu-id="e5a21-152">Type the following command, substituting the appropriate values, as described in the following table:</span></span>  
  
     <span data-ttu-id="e5a21-153">**devenv/deploy***SolnConfigName* *SolutionName* </span><span class="sxs-lookup"><span data-stu-id="e5a21-153">**devenv /deploy**  *SolnConfigName* *SolutionName*</span></span>  
  
     <span data-ttu-id="e5a21-154">例:</span><span class="sxs-lookup"><span data-stu-id="e5a21-154">Example:</span></span>  
  
     <span data-ttu-id="e5a21-155">**devenv/deploy リリース"C:\Documents と Settings\someuser\My documents \visual Studio\Projects\MySolution\MySolution.sln"**</span><span class="sxs-lookup"><span data-stu-id="e5a21-155">**devenv /deploy Release "C:\Documents and Settings\someuser\My Documents\Visual Studio\Projects\MySolution\MySolution.sln"**</span></span>  
  
    |<span data-ttu-id="e5a21-156">パラメーター</span><span class="sxs-lookup"><span data-stu-id="e5a21-156">Parameter</span></span>|<span data-ttu-id="e5a21-157">値</span><span class="sxs-lookup"><span data-stu-id="e5a21-157">Value</span></span>|  
    |---------------|-----------|  
    |<span data-ttu-id="e5a21-158">**/deploy**</span><span class="sxs-lookup"><span data-stu-id="e5a21-158">**/deploy**</span></span>|<span data-ttu-id="e5a21-159">ビルドまたはリビルド後にソリューションを配置します。</span><span class="sxs-lookup"><span data-stu-id="e5a21-159">Deploys a solution after a build or rebuild.</span></span>|  
    |<span data-ttu-id="e5a21-160">*SolnConfigName*</span><span class="sxs-lookup"><span data-stu-id="e5a21-160">*SolnConfigName*</span></span>|<span data-ttu-id="e5a21-161">SolutionName で指定したソリューションのビルドに使用されるソリューション構成の名前です。</span><span class="sxs-lookup"><span data-stu-id="e5a21-161">Name of the solution configuration that will be used to build the solution named in SolutionName.</span></span>|  
    |<span data-ttu-id="e5a21-162">*SolutionName*</span><span class="sxs-lookup"><span data-stu-id="e5a21-162">*SolutionName*</span></span>|<span data-ttu-id="e5a21-163">ソリューション ファイルの完全パスと名前です。</span><span class="sxs-lookup"><span data-stu-id="e5a21-163">Full path and name of the solution file.</span></span>|  
  
## <a name="see-also"></a><span data-ttu-id="e5a21-164">参照</span><span class="sxs-lookup"><span data-stu-id="e5a21-164">See Also</span></span>  
 [<span data-ttu-id="e5a21-165">Visual Studio から BizTalk アプリケーションへの BizTalk アセンブリの展開</span><span class="sxs-lookup"><span data-stu-id="e5a21-165">Deploying BizTalk Assemblies from Visual Studio into a BizTalk Application</span></span>](../core/deploying-biztalk-assemblies-from-visual-studio-into-a-biztalk-application.md)