---
title: "EDI アセンブラーの動作 |Microsoft ドキュメント"
ms.custom: 
ms.date: 06/08/2017
ms.prod: biztalk-server
ms.reviewer: 
ms.suite: 
ms.tgt_pltfrm: 
ms.topic: article
ms.assetid: c3785870-08ab-4fc2-8f7e-7c5a37639a7a
caps.latest.revision: "33"
author: MandiOhlinger
ms.author: mandia
manager: anneta
ms.openlocfilehash: 6f11fa41cabb6d5199953c2df005aa79965216f9
ms.sourcegitcommit: cb908c540d8f1a692d01dc8f313e16cb4b4e696d
ms.translationtype: MT
ms.contentlocale: ja-JP
ms.lasthandoff: 09/20/2017
---
# <a name="how-the-edi-assembler-works"></a><span data-ttu-id="32eb0-102">EDI アセンブラの動作</span><span class="sxs-lookup"><span data-stu-id="32eb0-102">How the EDI Assembler Works</span></span>
[!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)]<span data-ttu-id="32eb0-103"> は、送信される EDI エンコード インターチェンジの処理の大部分を、EDI 送信パイプライン (`Microsoft.BizTalk.DefaultPipelines.EDISendPipeline`) で実行します。</span><span class="sxs-lookup"><span data-stu-id="32eb0-103"> performs most processing of EDI-encoded interchanges to be sent in the EDI Send Pipeline (`Microsoft.BizTalk.DefaultPipelines.EDISendPipeline`).</span></span> <span data-ttu-id="32eb0-104">このパイプラインには、EDI アセンブラ パイプライン コンポーネントが含まれ、このコンポーネントにより、次の処理が実行されます。</span><span class="sxs-lookup"><span data-stu-id="32eb0-104">This pipeline includes the EDI assembler pipeline component, which performs the following processing:</span></span>  
  
-   <span data-ttu-id="32eb0-105">EDI インターチェンジをシリアル化します。これによって、XML エンコード メッセージがインターチェンジ内の EDI トランザクション セットに変換されます。</span><span class="sxs-lookup"><span data-stu-id="32eb0-105">Serializes the EDI interchange, converting XML-encoded messages into EDI transaction sets in the interchange.</span></span>  
  
-   <span data-ttu-id="32eb0-106">EDI スキーマ検証、X12 エンコード メッセージのクロスフィールド検証 (設定されている場合)、EDI 構造検証、および拡張スキーマ検証 (スキーマがカスタマイズされており、EDI 以外のデータ型のノードがある場合) を実行します。</span><span class="sxs-lookup"><span data-stu-id="32eb0-106">Performs EDI schema validation, cross-field validation for X12-encoded messages (if configured), EDI structural validation, and extended schema validation (if the schema was customized with a node that has a non-EDI data type).</span></span>  
  
-   <span data-ttu-id="32eb0-107">EDI メッセージをエンベロープを適用します。</span><span class="sxs-lookup"><span data-stu-id="32eb0-107">Applies an envelope to the EDI message.</span></span>  
  
-   <span data-ttu-id="32eb0-108">EDI メッセージへの応答として受信した、技術および機能の確認を処理し、確認のバッチ解除を行います (設定されている場合)。</span><span class="sxs-lookup"><span data-stu-id="32eb0-108">Processes Technical and Functional acknowledgments received in response to EDI messages, debatching the acknowledgments if configured.</span></span>  
  
## <a name="applying-an-envelope-to-an-outgoing-edi-message"></a><span data-ttu-id="32eb0-109">送信 EDI メッセージへのエンベロープの適用</span><span class="sxs-lookup"><span data-stu-id="32eb0-109">Applying an Envelope to an Outgoing EDI Message</span></span>  
 <span data-ttu-id="32eb0-110">EDI 送信パイプラインが中間 XML ファイルから送信 EDI メッセージを作成するときに、インターチェンジとグループのヘッダーが含まれたエンベロープがメッセージに適用されます。このエンベロープは、受信側のアグリーメントに対して設定された EDI プロパティに基づいて適用されます。</span><span class="sxs-lookup"><span data-stu-id="32eb0-110">When the EDI send pipeline builds an outgoing EDI message from an intermediate XML file, it applies an envelope containing interchange and group headers to the message based upon the EDI properties established for the receive-side agreement.</span></span> <span data-ttu-id="32eb0-111">受信アグリーメントを送信ポートから特定できなかった場合は、フォールバック アグリーメントを使用してエンベロープが適用されます。</span><span class="sxs-lookup"><span data-stu-id="32eb0-111">If the send pipeline was not able to determine the receiving agreement from the send port, it will use the fallback agreement to apply the envelope.</span></span>  
  
 <span data-ttu-id="32eb0-112">`EdiOverride.OverrideEdiHeader` コンテキスト プロパティが true に設定されている場合は、EdiOverride プロパティ コレクションで指定されている値を使用してエンベロープが作成されます。</span><span class="sxs-lookup"><span data-stu-id="32eb0-112">If the `EdiOverride.OverrideEdiHeader` context property is set to true, the EDI send pipeline will use values specified in the EdiOverride property collection to construct the envelope.</span></span> <span data-ttu-id="32eb0-113">このコレクションにない値については、アグリーメント プロパティ内の対応する EDI 値が使用されます。</span><span class="sxs-lookup"><span data-stu-id="32eb0-113">If a value is not present in the collection, the corresponding EDI value in agreement properties will be used.</span></span> <span data-ttu-id="32eb0-114">EdiOverride コレクションとアグリーメント プロパティのどちらにもない値については、フォールバック EDI アグリーメントのプロパティが使用されます。</span><span class="sxs-lookup"><span data-stu-id="32eb0-114">If a value does not exist in either the EdiOverride collection or the agreement properties, the properties in the fallback EDI agreement will be used.</span></span>  
  
 <span data-ttu-id="32eb0-115">中間 XML ファイルに予約済みのタグまたは ReuseEnvelope コンテキスト プロパティが含まれている場合、メッセージは保護されたバッチであるため、エンベロープ アプリケーション ロジックは適用されません。</span><span class="sxs-lookup"><span data-stu-id="32eb0-115">If the intermediate XML file has a reserved tag or the ReuseEnvelope context property, the message is a preserved batch and the envelope application logic will not apply.</span></span>  
  
### <a name="sources-for-x12-envelope-values"></a><span data-ttu-id="32eb0-116">X12 エンベロープ値のソース</span><span class="sxs-lookup"><span data-stu-id="32eb0-116">Sources for X12 Envelope Values</span></span>  
 <span data-ttu-id="32eb0-117">次の表に、EDI 送信パイプラインが、X12 エンベロープの各部分に必要な情報を取得する場所を示します。</span><span class="sxs-lookup"><span data-stu-id="32eb0-117">The following table shows where the EDI send pipeline gets the information it needs for each part of an X12 envelope:</span></span>  
  
|<span data-ttu-id="32eb0-118">Header</span><span class="sxs-lookup"><span data-stu-id="32eb0-118">Header</span></span>|<span data-ttu-id="32eb0-119">ソース</span><span class="sxs-lookup"><span data-stu-id="32eb0-119">Source</span></span>|  
|------------|------------|  
|<span data-ttu-id="32eb0-120">インターチェンジ制御ヘッダー (ISA)</span><span class="sxs-lookup"><span data-stu-id="32eb0-120">Interchange Control Header (ISA)</span></span>|<span data-ttu-id="32eb0-121">-EdiOverride コンテキスト プロパティ (場合`EdiOverride.OverrideEdiHeader`が true)。</span><span class="sxs-lookup"><span data-stu-id="32eb0-121">-   EdiOverride context properties (if `EdiOverride.OverrideEdiHeader` is true).</span></span><br /><span data-ttu-id="32eb0-122">ISA セグメントの下のさまざまなページの定義でアグリーメントが定義されている場合、**インターチェンジの設定**一方向アグリーメント プロパティでは、セクション、**アグリーメントのプロパティ** ダイアログ ボックス。</span><span class="sxs-lookup"><span data-stu-id="32eb0-122">-   If an agreement is defined, ISA segment definitions from different pages under the **Interchange Settings** section in the one-way agreement properties in the **Agreement Properties** dialog box.</span></span><br /><span data-ttu-id="32eb0-123">ISA セグメントの下のさまざまなページの定義でアグリーメントが定義されていない場合、**インターチェンジの設定**」の「、 **EDIFACT フォールバックの設定** ダイアログ ボックス。</span><span class="sxs-lookup"><span data-stu-id="32eb0-123">-   If no agreement is defined, ISA segment definitions from different pages under the **Interchange Settings** section in the **EDIFACT Fallback Settings** dialog box.</span></span>|  
|<span data-ttu-id="32eb0-124">機能グループ ヘッダー (GS)</span><span class="sxs-lookup"><span data-stu-id="32eb0-124">Functional Group Headers (GS)</span></span>|<span data-ttu-id="32eb0-125">-EdiOverride コンテキスト プロパティ (場合`EdiOverride.OverrideEdiHeader`が true)</span><span class="sxs-lookup"><span data-stu-id="32eb0-125">-   EdiOverride context properties (if `EdiOverride.OverrideEdiHeader` is true)</span></span><br /><span data-ttu-id="32eb0-126">GS セグメントの定義がアグリーメントが定義されている場合、**エンベロープ**ページ ([**トランザクション セットの設定**セクション) の一方向アグリーメントのプロパティで、**アグリーメントのプロパティ** ] ダイアログ ボックス</span><span class="sxs-lookup"><span data-stu-id="32eb0-126">-   If an agreement is defined, GS segment definitions from the **Envelopes** page (under **Transaction Set Settings** section) in the one-way agreement properties in the **Agreement Properties** dialog box</span></span><br /><span data-ttu-id="32eb0-127">GS セグメントの定義がアグリーメントが定義されていない場合、**エンベロープ**ページ ([**トランザクション セットの設定**セクション) で、 **X12 フォールバック設定**] ダイアログ ボックス</span><span class="sxs-lookup"><span data-stu-id="32eb0-127">-   If no agreement is defined, GS segment definitions from the **Envelopes** page (under **Transaction Set Settings** section) in the **X12 Fallback Settings** dialog box</span></span><br /><br /> <span data-ttu-id="32eb0-128">アグリーメントが定義されている場合は、GS データ要素の値はトランザクション セット識別子 (ST1)、バージョン、およびターゲットの名前空間の組み合わせに基づいて決定されます。</span><span class="sxs-lookup"><span data-stu-id="32eb0-128">If an agreement is defined, the values for the GS data elements are determined based upon the combination of the Transaction Set Identifier (ST1), the version, and the target namespace.</span></span> <span data-ttu-id="32eb0-129">これらの値でグリッドと比較されます、**エンベロープ**ページ (**トランザクション セットの設定**セクション) (アグリーメントが定義されている) 場合、アグリーメントのプロパティまたはフォールバック アグリーメントのプロパティ (の場合のアグリーメントが定義されていません)。</span><span class="sxs-lookup"><span data-stu-id="32eb0-129">These values are compared to the grid in the **Envelopes** page (under **Transaction Set Settings** section) of the agreement properties (if an agreement is defined) or the fallback agreement properties (if no agreement is defined):</span></span><br /><br /> <span data-ttu-id="32eb0-130">-一致する行がある場合、一致する行に含まれる値は、GS ヘッダーに使用されます。</span><span class="sxs-lookup"><span data-stu-id="32eb0-130">-   If there is a matching row, then the values contained in the matching row are used for the GS header.</span></span><br /><span data-ttu-id="32eb0-131">場合は、一致するものはありませんが、既定の行が定義されている、GS01 を除くすべての GS データ要素は、既定の行から取得されます。</span><span class="sxs-lookup"><span data-stu-id="32eb0-131">-   If there is no match, but a default row is defined, all the GS data elements except GS01 are populated from the default row.</span></span> <span data-ttu-id="32eb0-132">GS01 は、ST1 の値に基づいて動的に決定されます。</span><span class="sxs-lookup"><span data-stu-id="32eb0-132">GS01 is dynamically determined based on the value of ST1.</span></span><br /><span data-ttu-id="32eb0-133">-一致する行、および既定の行がある場合、メッセージは中断されます。</span><span class="sxs-lookup"><span data-stu-id="32eb0-133">-   If there is no matching row, and no default row, the message is suspended.</span></span> <span data-ttu-id="32eb0-134">**注:**グループの他のグループから一意になる、すべてこれらの値のことができますで別のグループのものと同じです。</span><span class="sxs-lookup"><span data-stu-id="32eb0-134">**Note:**  For a group to be unique from other groups, not all of these values can be the same as those for another group.</span></span> <br /><br /> <span data-ttu-id="32eb0-135">アグリーメントが定義されていない場合は、フォールバック アグリーメントのプロパティから GS データ要素の値が取得されます。</span><span class="sxs-lookup"><span data-stu-id="32eb0-135">If no agreement is defined, then the GS data elements are populated from the fallback agreement properties.</span></span>|  
  
### <a name="sources-for-edifact-envelope-values"></a><span data-ttu-id="32eb0-136">EDIFACT エンベロープ値のソース</span><span class="sxs-lookup"><span data-stu-id="32eb0-136">Sources for EDIFACT Envelope Values</span></span>  
 <span data-ttu-id="32eb0-137">次の表に、EDI 送信パイプラインが、EDIFACT エンベロープの各部分に必要な情報を取得する場所を示します。</span><span class="sxs-lookup"><span data-stu-id="32eb0-137">The following table shows where the EDI send pipeline gets the information it needs for each part of an EDIFACT envelope:</span></span>  
  
|<span data-ttu-id="32eb0-138">Header</span><span class="sxs-lookup"><span data-stu-id="32eb0-138">Header</span></span>|<span data-ttu-id="32eb0-139">ソース</span><span class="sxs-lookup"><span data-stu-id="32eb0-139">Source</span></span>|  
|------------|------------|  
|<span data-ttu-id="32eb0-140">文字列サービス通知 (UNA)</span><span class="sxs-lookup"><span data-stu-id="32eb0-140">Service String Advice (UNA)</span></span>|<span data-ttu-id="32eb0-141">-EdiOverride コンテキスト プロパティ (場合`EdiOverride.OverrideEdiHeader`が true)。</span><span class="sxs-lookup"><span data-stu-id="32eb0-141">-   EdiOverride context properties (if `EdiOverride.OverrideEdiHeader` is true).</span></span><br /><span data-ttu-id="32eb0-142">UNA セグメントの定義である場合は、アグリーメントが定義されている、**文字セットと区切り記号**一方向アグリーメント プロパティで、ページ、**アグリーメントのプロパティ** ダイアログ ボックス。</span><span class="sxs-lookup"><span data-stu-id="32eb0-142">-   If an agreement is defined, UNA segment definitions from **Charset and Separators** page in the one-way agreement properties in the **Agreement Properties** dialog box.</span></span><br /><span data-ttu-id="32eb0-143">UNA セグメントの定義がアグリーメントが定義されていない場合**文字セットと区切り記号** ページで、 **EDIFACT フォールバックの設定** ダイアログ ボックス。</span><span class="sxs-lookup"><span data-stu-id="32eb0-143">-   If no agreement is defined, UNA segment definitions from **Charset and Separators** page in the **EDIFACT Fallback Settings** dialog box.</span></span>|  
|<span data-ttu-id="32eb0-144">インターチェンジ制御ヘッダー (UNB)</span><span class="sxs-lookup"><span data-stu-id="32eb0-144">Interchange Control Header (UNB)</span></span>|<span data-ttu-id="32eb0-145">-EdiOverride コンテキスト プロパティ (場合`EdiOverride.OverrideEdiHeader`が true)。</span><span class="sxs-lookup"><span data-stu-id="32eb0-145">-   EdiOverride context properties (if `EdiOverride.OverrideEdiHeader` is true).</span></span><br /><span data-ttu-id="32eb0-146">UNB セグメントの下のさまざまなページの定義でアグリーメントが定義されている場合、**インターチェンジの設定**一方向アグリーメント プロパティでは、セクション、**アグリーメントのプロパティ** ダイアログ ボックス。</span><span class="sxs-lookup"><span data-stu-id="32eb0-146">-   If an agreement is defined, UNB segment definitions from different pages under the **Interchange Settings** section in the one-way agreement properties in the **Agreement Properties** dialog box.</span></span><br /><span data-ttu-id="32eb0-147">UNB セグメントの下のさまざまなページの定義でアグリーメントが定義されていない場合、**インターチェンジの設定**」の「、 **EDIFACT フォールバックの設定** ダイアログ ボックス。</span><span class="sxs-lookup"><span data-stu-id="32eb0-147">-   If no agreement is defined, UNB segment definitions from different pages under the **Interchange Settings** section in the **EDIFACT Fallback Settings** dialog box.</span></span>|  
|<span data-ttu-id="32eb0-148">機能グループ ヘッダー (UNG)</span><span class="sxs-lookup"><span data-stu-id="32eb0-148">Functional Group Headers (UNG)</span></span>|<span data-ttu-id="32eb0-149">-EdiOverride コンテキスト プロパティ (場合`EdiOverride.OverrideEdiHeader`が true)。</span><span class="sxs-lookup"><span data-stu-id="32eb0-149">-   EdiOverride context properties (if `EdiOverride.OverrideEdiHeader` is true).</span></span><br /><span data-ttu-id="32eb0-150">アグリーメントが定義されている場合、UNG および UNH セグメントの定義、**エンベロープ**ページ (**トランザクション セットの設定**セクション) で一方向アグリーメントのプロパティで、**アグリーメントプロパティ** ダイアログ ボックス</span><span class="sxs-lookup"><span data-stu-id="32eb0-150">-   If an agreement is defined, UNG and UNH segment definitions from the **Envelopes** page (under **Transaction Set Settings** section) in the one-way agreement properties in the **Agreement Properties** dialog box</span></span><br /><span data-ttu-id="32eb0-151">アグリーメントが定義されていない場合、[UNG および UNH セグメントの定義、**エンベロープ**ページ ([**トランザクション セットの設定**セクション) で一方向アグリーメントのプロパティで、**アグリーメントプロパティ**] ダイアログ ボックスで、 **EDIFACT フォールバックの設定**] ダイアログ ボックス</span><span class="sxs-lookup"><span data-stu-id="32eb0-151">-   If no agreement is defined, UNG and UNH segment definitions from the **Envelopes** page (under **Transaction Set Settings** section) in the one-way agreement properties in the **Agreement Properties** dialog box in the **EDIFACT Fallback Settings** dialog box</span></span><br /><br /> <span data-ttu-id="32eb0-152">アグリーメントが定義されている場合は、UNG データ要素の値はメッセージの種類 (UNH2.1)、メッセージのリリース番号 (UNH2.3)、割り当てコード (UNH2.5)、バージョン、およびターゲットの名前空間の組み合わせに基づいて決定されます。</span><span class="sxs-lookup"><span data-stu-id="32eb0-152">If an agreement is defined, the values for the UNG data elements are determined based upon the combination of the Message Type (UNH2.1), the Message Release Number (UNH2.3), the Assigned Code (UNH2.5), the version, and the target namespace.</span></span> <span data-ttu-id="32eb0-153">**注:**グループの他のグループから一意になる、すべてこれらの値のことができますで別のグループのものと同じです。</span><span class="sxs-lookup"><span data-stu-id="32eb0-153">**Note:**  For a group to be unique from other groups, not all of these values can be the same as those for another group.</span></span>|  
  
### <a name="applying-transaction-set-header-and-trailer-segments"></a><span data-ttu-id="32eb0-154">トランザクション セット ヘッダーおよびトレーラ セグメントの適用</span><span class="sxs-lookup"><span data-stu-id="32eb0-154">Applying Transaction Set Header and Trailer Segments</span></span>  
 <span data-ttu-id="32eb0-155">送信 EDI インターチェンジにシリアル化される XML トランザクション セットには、トランザクション セット ヘッダーとトレーラーが必要です。</span><span class="sxs-lookup"><span data-stu-id="32eb0-155">An XML transaction set being serialized into an outgoing EDI interchange should have a transaction set header and trailer.</span></span> <span data-ttu-id="32eb0-156">ただし、EDI アセンブラーは、トランザクション セット ヘッダーまたはトレーラーがなくても、メッセージを処理します。</span><span class="sxs-lookup"><span data-stu-id="32eb0-156">However, the EDI Assembler will process the message if it does not have a transaction set header or trailer.</span></span> <span data-ttu-id="32eb0-157">XML トランザクション セットでは、X12 および EDIFACT スキーマのトランザクション セット ヘッダーおよびトレーラー セグメントはオプションです。</span><span class="sxs-lookup"><span data-stu-id="32eb0-157">Transaction set header and trailer segments in X12 and EDIFACT schemas are optional for XML transaction sets.</span></span> <span data-ttu-id="32eb0-158">トランザクションにヘッダーまたはトレーラーがない場合、EDISend または AS2EDISend 送信パイプラインの EDI アセンブラーは、トランザクションにトランザクション セット ヘッダー値およびトレーラー値を追加します。</span><span class="sxs-lookup"><span data-stu-id="32eb0-158">If a transaction does not have a header or trailer, the EDI Assembler in the EDISend or AS2EDISend send pipeline will add transaction set header and trailer values to it.</span></span> <span data-ttu-id="32eb0-159">これらの値は、マッピングまたは計算に基づきます。</span><span class="sxs-lookup"><span data-stu-id="32eb0-159">These values will be based on mappings or calculations.</span></span> <span data-ttu-id="32eb0-160">EDI アセンブラーは、この処理をインターチェンジ XML (保護されたバッチ)、バッチ トランザクション セット XML、およびトランザクション セット XML に対して行います。</span><span class="sxs-lookup"><span data-stu-id="32eb0-160">The EDI Assembler will do this for interchange XML (a preserved batch), batched transaction set XML, and transaction set XML.</span></span>  
  
 <span data-ttu-id="32eb0-161">マッピングによって検証エラーが発生した場合、イベント ビューアに無効な長さやデータ型、無効な制御機関コードなどの該当するエラーが表示され、XML トランザクション セットまたはインターチェンジ XML は中断されます。</span><span class="sxs-lookup"><span data-stu-id="32eb0-161">If mapping causes a validation error, the XML transaction set or interchange XML is suspended with an appropriate error in the event viewer, such as invalid length or data type, or invalid Control Agency Code.</span></span>  
  
####  <a name="BKMK_X12"></a><span data-ttu-id="32eb0-162">X12 トランザクション セット ヘッダーおよびトレーラ セグメント</span><span class="sxs-lookup"><span data-stu-id="32eb0-162">X12 Transaction Set Header and Trailer Segments</span></span>  
 <span data-ttu-id="32eb0-163">ヘッダーおよびトレーラ セグメントのない X12 エンコード トランザクション セットの場合、EDI アセンブラは、ST および SE セグメントを次の値に設定します。</span><span class="sxs-lookup"><span data-stu-id="32eb0-163">For X12-encoded transaction sets that do not have header and trailer segments, the EDI Assembler will set ST and SE segments to the following:</span></span>  
  
|<span data-ttu-id="32eb0-164">ヘッダーおよびトレーラ セグメント</span><span class="sxs-lookup"><span data-stu-id="32eb0-164">Header/Footer Segment</span></span>|<span data-ttu-id="32eb0-165">値</span><span class="sxs-lookup"><span data-stu-id="32eb0-165">Value</span></span>|  
|----------------------------|-----------|  
|<span data-ttu-id="32eb0-166">ST01 (トランザクション セット識別コード)</span><span class="sxs-lookup"><span data-stu-id="32eb0-166">ST01 (Transaction Set Identifier Code)</span></span>|<span data-ttu-id="32eb0-167">受信 XML トランザクション セットの RootNode 名の最後の 3 文字にマップされます。</span><span class="sxs-lookup"><span data-stu-id="32eb0-167">Mapped to the last three characters of the RootNode name from the incoming XML transaction set.</span></span> <span data-ttu-id="32eb0-168">たとえば、"X12_00401_855" の場合は、"855" にマップされます。</span><span class="sxs-lookup"><span data-stu-id="32eb0-168">For example, "855" from "X12_00401_855".</span></span> <span data-ttu-id="32eb0-169">TS 識別コードが 837P、837D、または 837I の HIPAA クレームの場合、"837" が使用されます。</span><span class="sxs-lookup"><span data-stu-id="32eb0-169">For HIPAA Claims that have a TS Identifier Code of 837P, 837D, or 837I, "837" is used.</span></span>|  
|<span data-ttu-id="32eb0-170">ST02 (トランザクション セット制御番号)</span><span class="sxs-lookup"><span data-stu-id="32eb0-170">ST02 (Transaction Set Control Number)</span></span>|<span data-ttu-id="32eb0-171">値`EdiOverride.ST02`(場合`EdiOveride.OverrideEdiHeader`が true の場合) の値にマップされているか、**トランザクション セット制御番号 (ST02)**で、**ローカル ホスト設定**ページ ([**インターチェンジ設定**) 一方向アグリーメント タブで、**アグリーメントのプロパティ**] ダイアログ ボックス。</span><span class="sxs-lookup"><span data-stu-id="32eb0-171">The value of `EdiOverride.ST02` (if `EdiOveride.OverrideEdiHeader` is true,) or mapped to the value of the **Transaction set control number (ST02)** in the **Local Host Settings** page (under **Interchange Settings**) of the one-way agreement tab in the **Agreement Properties** dialog box.</span></span><br /><br /> <span data-ttu-id="32eb0-172">設定に関係なく、新しいまたは増分制御番号が適用される、**新しい ID を適用**プロパティです。</span><span class="sxs-lookup"><span data-stu-id="32eb0-172">A new or incremented control number is applied regardless of the setting of the **Apply New ID** property.</span></span>|  
|<span data-ttu-id="32eb0-173">ST03 (バージョン識別子)</span><span class="sxs-lookup"><span data-stu-id="32eb0-173">ST03 (Version identifier)</span></span>|<span data-ttu-id="32eb0-174">受信 XML トランザクション セットの ST03 の値にマップされます。</span><span class="sxs-lookup"><span data-stu-id="32eb0-174">Mapped to the value of ST03 from the incoming XML transaction set.</span></span> <span data-ttu-id="32eb0-175">たとえば、5010 HIPAA 820 ドキュメント (給与控除) の場合は "005010X218" です。</span><span class="sxs-lookup"><span data-stu-id="32eb0-175">For example, “005010X218” for a 5010 HIPAA 820 document (Payroll deduction).</span></span> <span data-ttu-id="32eb0-176">ST03 は、トランザクション セットの検証に使用されるスキーマに対して検証されます。</span><span class="sxs-lookup"><span data-stu-id="32eb0-176">ST03 is validated against the schema that is used to validate the transaction set.</span></span> <span data-ttu-id="32eb0-177">**注:** ST03 は、835 を除くすべての HIPAA バージョン 5010 のトランザクションでは必須です。</span><span class="sxs-lookup"><span data-stu-id="32eb0-177">**Note:**  ST03 is mandatory for all HIPAA version 5010 transactions except for 835.</span></span>|  
|<span data-ttu-id="32eb0-178">SE01 (含まれているセグメントの数)</span><span class="sxs-lookup"><span data-stu-id="32eb0-178">SE01 (Number of Included Segments)</span></span>|<span data-ttu-id="32eb0-179">ST および SE セグメントを含む、トランザクション セットのセグメントの合計数に設定されます。</span><span class="sxs-lookup"><span data-stu-id="32eb0-179">Set to the total number of segments in the transaction set, including the ST and SE segments.</span></span>|  
|<span data-ttu-id="32eb0-180">SE02 (トランザクション セット制御番号)</span><span class="sxs-lookup"><span data-stu-id="32eb0-180">SE02 (Transaction Set Control Number)</span></span>|<span data-ttu-id="32eb0-181">トランザクション セットの ST02 の値にマップされます。</span><span class="sxs-lookup"><span data-stu-id="32eb0-181">Mapped to the value of ST02 in the transaction set.</span></span>|  
  
 <span data-ttu-id="32eb0-182">ST03 など、トランザクション セット ヘッダーの他のデータ要素は省略可能であるため、生成されるセグメントでは評価されません。</span><span class="sxs-lookup"><span data-stu-id="32eb0-182">Other data elements in the transaction set header, such as ST03, are optional and so are not valued in the generated segments.</span></span>  
  
####  <a name="BKMK_EDIFACT"></a><span data-ttu-id="32eb0-183">EDIFACT トランザクション セット ヘッダーおよびトレーラ セグメント</span><span class="sxs-lookup"><span data-stu-id="32eb0-183">EDIFACT Transaction Set Header and Trailer Segments</span></span>  
 <span data-ttu-id="32eb0-184">ヘッダーおよびトレーラ セグメントのない EDIFACT エンコード トランザクション セットの場合、EDI アセンブラは、UNH および UNT セグメントを次の値に設定します。</span><span class="sxs-lookup"><span data-stu-id="32eb0-184">For EDIFACT-encoded transaction sets that do not have header and trailer segments, the EDI Assembler will set UNH and UNT segments to the following:</span></span>  
  
|<span data-ttu-id="32eb0-185">ヘッダーおよびトレーラ セグメント</span><span class="sxs-lookup"><span data-stu-id="32eb0-185">Header/Footer Segment</span></span>|<span data-ttu-id="32eb0-186">値</span><span class="sxs-lookup"><span data-stu-id="32eb0-186">Value</span></span>|  
|----------------------------|-----------|  
|<span data-ttu-id="32eb0-187">UNH01 (メッセージ参照制御番号)</span><span class="sxs-lookup"><span data-stu-id="32eb0-187">UNH01 (Message Reference Control Number)</span></span>|<span data-ttu-id="32eb0-188">値`EdiOverride.UNH1`(場合`EdiOverride.OverrideEdiHeader`が true の場合) またはの値にマップされた**参照番号 (UNH1)**で、**ローカル ホスト設定**ページ ([ **インターチェンジの設定**)一方向アグリーメント タブで、**アグリーメントのプロパティ**] ダイアログ ボックス。</span><span class="sxs-lookup"><span data-stu-id="32eb0-188">The value of `EdiOverride.UNH1` (if `EdiOverride.OverrideEdiHeader` is true,) or mapped to the value of **Reference Number (UNH1)** in the **Local Host Settings** page (under **Interchange Settings**)of the one-way agreement tab in the **Agreement Properties** dialog box.</span></span> <span data-ttu-id="32eb0-189">設定に関係なく、新しいまたは増分制御番号が適用される、**新しい ID を適用**プロパティです。</span><span class="sxs-lookup"><span data-stu-id="32eb0-189">A new or incremented control number is applied regardless of the setting of the **Apply New ID** property.</span></span>|  
|<span data-ttu-id="32eb0-190">UNH2.1 (メッセージの種類)</span><span class="sxs-lookup"><span data-stu-id="32eb0-190">UNH2.1 (Message Type)</span></span>|<span data-ttu-id="32eb0-191">受信 XML トランザクション セットの RootNode 名の最後の 6 文字にマップされます。</span><span class="sxs-lookup"><span data-stu-id="32eb0-191">Mapped to the last six characters of the RootNode name from the incoming XML transaction set.</span></span> <span data-ttu-id="32eb0-192">たとえば、"EFACT_D96A_INVOIC" の場合は、"INVOIC" にマップされます。</span><span class="sxs-lookup"><span data-stu-id="32eb0-192">For example, "INVOIC" from "EFACT_D96A_INVOIC".</span></span>|  
|<span data-ttu-id="32eb0-193">UNH2.2 (メッセージのバージョン番号)</span><span class="sxs-lookup"><span data-stu-id="32eb0-193">UNH2.2 (Message Version Number)</span></span>|<span data-ttu-id="32eb0-194">受信 XML トランザクション セットの RootNode 名の 7 番目の文字にマップされます。</span><span class="sxs-lookup"><span data-stu-id="32eb0-194">Mapped to the seventh character of the RootNode name from the incoming XML transaction set.</span></span> <span data-ttu-id="32eb0-195">たとえば、"EFACT_D96A_INVOIC" の場合は、"D" にマップされます。</span><span class="sxs-lookup"><span data-stu-id="32eb0-195">For example, "D" from "EFACT_D96A_INVOIC".</span></span>|  
|<span data-ttu-id="32eb0-196">UNH2.3 (メッセージのリリース番号)</span><span class="sxs-lookup"><span data-stu-id="32eb0-196">UNH2.3 (Message Release Number)</span></span>|<span data-ttu-id="32eb0-197">受信 XML トランザクション セットの RootNode 名の 8、9、および 10 番目の文字にマップされます。</span><span class="sxs-lookup"><span data-stu-id="32eb0-197">Mapped to the eighth, ninth, and tenth characters of the RootNode name from the incoming XML transaction set.</span></span> <span data-ttu-id="32eb0-198">たとえば、"EFACT_D96A_INVOIC" の場合は、"96A" にマップされます。</span><span class="sxs-lookup"><span data-stu-id="32eb0-198">For example, "96A" from "EFACT_D96A_INVOIC".</span></span>|  
|<span data-ttu-id="32eb0-199">UNH2.4 (制御機関コード)</span><span class="sxs-lookup"><span data-stu-id="32eb0-199">UNH2.4 (Control Agency Coded)</span></span>|<span data-ttu-id="32eb0-200">常に文字列 'UN' にマップされます。</span><span class="sxs-lookup"><span data-stu-id="32eb0-200">Always mapped to string ‘UN’.</span></span>|  
|<span data-ttu-id="32eb0-201">UNT01 (含まれているセグメントの数)</span><span class="sxs-lookup"><span data-stu-id="32eb0-201">UNT01 (Number of Included Segments)</span></span>|<span data-ttu-id="32eb0-202">UNH および UNT セグメントを含む、トランザクション セットのセグメントの合計数に設定されます。</span><span class="sxs-lookup"><span data-stu-id="32eb0-202">Set to the total number of segments in the transaction set, including the UNH and UNT segments.</span></span>|  
|<span data-ttu-id="32eb0-203">UNH02 (メッセージ参照制御番号)</span><span class="sxs-lookup"><span data-stu-id="32eb0-203">UNT02 (Message Reference Control Number)</span></span>|<span data-ttu-id="32eb0-204">値にマップされている**参照番号 (UNH1)**で、**ローカル ホストの設定**ページ ([**インターチェンジの設定**) 一方向アグリーメント タブで、 **アグリーメントのプロパティ**] ダイアログ ボックス</span><span class="sxs-lookup"><span data-stu-id="32eb0-204">Mapped to the value of **Reference Number (UNH1)** in the **Local Host Settings** page (under **Interchange Settings**)of the one-way agreement tab in the **Agreement Properties** dialog box</span></span>|  
  
 <span data-ttu-id="32eb0-205">UNH3 から UNH6 などのトランザクション セット ヘッダーの他のデータ要素は省略可能であるため、生成されるセグメントでは評価されません。</span><span class="sxs-lookup"><span data-stu-id="32eb0-205">Other data elements in the UNH transaction set header, such as UNH3 to UNH6, are optional and so are not valued in the generated segments.</span></span> <span data-ttu-id="32eb0-206">これらのフィールドが必要な場合は、受信 XML トランザクション セットの値に設定する必要があります。</span><span class="sxs-lookup"><span data-stu-id="32eb0-206">If any of these fields are required, you must set them to a value in the incoming XML transaction set.</span></span>  
  
### <a name="additional-processing-on-envelope-of-an-outgoing-message"></a><span data-ttu-id="32eb0-207">送信メッセージのエンベロープの追加処理</span><span class="sxs-lookup"><span data-stu-id="32eb0-207">Additional Processing on Envelope of an Outgoing Message</span></span>  
 <span data-ttu-id="32eb0-208">EDI 送信パイプラインは、送信メッセージのエンベロープで次の処理を実行します。</span><span class="sxs-lookup"><span data-stu-id="32eb0-208">The EDI send pipeline performs the following processing on the envelope of an outgoing message.</span></span>  
  
#### <a name="control-numbers"></a><span data-ttu-id="32eb0-209">制御番号</span><span class="sxs-lookup"><span data-stu-id="32eb0-209">Control Numbers</span></span>  
 <span data-ttu-id="32eb0-210">EDI 送信パイプラインは、各送信インターチェンジのエンベロープ セグメントに、インターチェンジ制御番号、グループ制御番号、およびトランザクション セット制御 (または参照) 番号を入力します。</span><span class="sxs-lookup"><span data-stu-id="32eb0-210">The EDI send pipeline will enter an interchange control number, a group control number, and a transaction set control (or reference) number into the envelope segments of each outgoing interchange.</span></span> <span data-ttu-id="32eb0-211">次の表に、これらの番号を示します。</span><span class="sxs-lookup"><span data-stu-id="32eb0-211">These numbers are shown in the following table:</span></span>  
  
|<span data-ttu-id="32eb0-212">制御番号</span><span class="sxs-lookup"><span data-stu-id="32eb0-212">Control Number</span></span>|<span data-ttu-id="32eb0-213">X12 フィールド</span><span class="sxs-lookup"><span data-stu-id="32eb0-213">X12 Field</span></span>|<span data-ttu-id="32eb0-214">EDIFACT フィールド</span><span class="sxs-lookup"><span data-stu-id="32eb0-214">EDIFACT Field</span></span>|  
|--------------------|---------------|-------------------|  
|<span data-ttu-id="32eb0-215">インターチェンジ制御番号</span><span class="sxs-lookup"><span data-stu-id="32eb0-215">Interchange control number</span></span>|<span data-ttu-id="32eb0-216">ISA13</span><span class="sxs-lookup"><span data-stu-id="32eb0-216">ISA13</span></span>|<span data-ttu-id="32eb0-217">UNB5</span><span class="sxs-lookup"><span data-stu-id="32eb0-217">UNB5</span></span>|  
|<span data-ttu-id="32eb0-218">グループ制御番号</span><span class="sxs-lookup"><span data-stu-id="32eb0-218">Group control number</span></span>|<span data-ttu-id="32eb0-219">GS6</span><span class="sxs-lookup"><span data-stu-id="32eb0-219">GS6</span></span>|<span data-ttu-id="32eb0-220">UNG5</span><span class="sxs-lookup"><span data-stu-id="32eb0-220">UNG5</span></span>|  
|<span data-ttu-id="32eb0-221">トランザクション セット制御番号 (X12)</span><span class="sxs-lookup"><span data-stu-id="32eb0-221">Transaction set control number (X12)</span></span><br /><br /> <span data-ttu-id="32eb0-222">トランザクション セット参照番号 (EDIFACT)</span><span class="sxs-lookup"><span data-stu-id="32eb0-222">Transaction set reference number (EDIFACT)</span></span>|<span data-ttu-id="32eb0-223">ST2</span><span class="sxs-lookup"><span data-stu-id="32eb0-223">ST2</span></span>|<span data-ttu-id="32eb0-224">UNH1</span><span class="sxs-lookup"><span data-stu-id="32eb0-224">UNH1</span></span>|  
  
 [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)]<span data-ttu-id="32eb0-225">[次へ] で入力した値の範囲に基づいて、送信インターチェンジのインターチェンジ制御番号を設定、**インターチェンジ制御番号 (ISA13)**プロパティを**ローカル ホスト設定**(ページ[**インターチェンジの設定**) 一方向アグリーメント タブで、**アグリーメントのプロパティ**] ダイアログ ボックス。</span><span class="sxs-lookup"><span data-stu-id="32eb0-225"> will set the interchange control number for the next interchange sent based on the range of values that you entered in the **Interchange control number (ISA13)** property on the **Local Host Settings** page (under **Interchange Settings**) of the one-way agreement tab in the **Agreement Properties** dialog box.</span></span> <span data-ttu-id="32eb0-226">この番号は、以降のインターチェンジごとに増分されます (最大値に達するまで)。</span><span class="sxs-lookup"><span data-stu-id="32eb0-226">It will increment this number for each subsequent interchange, until the maximum value is reached.</span></span>  
  
 <span data-ttu-id="32eb0-227">インターチェンジ制御番号が EdiOverride コンテキスト プロパティを使用して指定されている場合は、その値がこのインターチェンジで使用されるので、アグリーメントで指定されたインターチェンジ制御番号の影響は受けません。</span><span class="sxs-lookup"><span data-stu-id="32eb0-227">If the interchange control number is specified using the EdiOverride context properties, the value specified will be used for this interchange and will not affect the interchange control number specified in agreement.</span></span>  
  
> [!NOTE]
>  <span data-ttu-id="32eb0-228">EDIFACT のグループ制御番号は、場合にのみ増分されますが、 **UNG セグメント適用**プロパティに、**エンベロープ**EDIFACT アグリーメントのプロパティのページが選択されています。</span><span class="sxs-lookup"><span data-stu-id="32eb0-228">The group control number in EDIFACT is only incremented if the **Apply UNG segments** property in the **Envelopes** page of the EDIFACT agreement properties is selected.</span></span> <span data-ttu-id="32eb0-229">2 番目のフィールド (参照番号) は増分されますが、プレフィクックスおよびサフィックス フィールドは増分されません。</span><span class="sxs-lookup"><span data-stu-id="32eb0-229">The second field (reference number) is incremented; the prefix and suffix fields are not incremented.</span></span> <span data-ttu-id="32eb0-230">トランザクション セット制御番号は場合にのみ増分されます、**新しい ID を適用**プロパティが選択されています。</span><span class="sxs-lookup"><span data-stu-id="32eb0-230">Transaction set control numbers are only incremented if the **Apply new ID** property is selected.</span></span>  
  
> [!NOTE]
>  <span data-ttu-id="32eb0-231">保護されているバッチ インターチェンジでは、メッセージ強化サンプルを使用して、カスタム インターチェンジ制御番号を作成できます。</span><span class="sxs-lookup"><span data-stu-id="32eb0-231">In a preserved batch interchange, you can create a custom interchange control number using the message enrichment sample.</span></span> <span data-ttu-id="32eb0-232">詳細については、次を参照してください。[メッセージ強化サンプル (BizTalk Server サンプル)](../core/message-enrichment-sample-biztalk-server-sample.md)です。</span><span class="sxs-lookup"><span data-stu-id="32eb0-232">For more information, see [Message Enrichment Sample (BizTalk Server Sample)](../core/message-enrichment-sample-biztalk-server-sample.md).</span></span>  
  
 <span data-ttu-id="32eb0-233">アグリーメントが定義されていない場合は、フォールバック アグリーメントの同じページから番号が取得されます。</span><span class="sxs-lookup"><span data-stu-id="32eb0-233">If no agreement is defined, the numbers are taken from the same pages in the fallback agreement.</span></span> <span data-ttu-id="32eb0-234">送信パイプラインは、最後に使用された制御番号を格納し、次のインターチェンジ、グループ、およびトランザクション セットについては増分された番号を入力します。</span><span class="sxs-lookup"><span data-stu-id="32eb0-234">The send pipeline stores the last-used control number, and then enters an incremented number for the next interchange, group, and transaction set.</span></span>  
  
> [!NOTE]
>  <span data-ttu-id="32eb0-235">制御番号が、指定された範囲の最大値に達した場合は、[!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] によってエラーが生成され、インターチェンジは保留となります。</span><span class="sxs-lookup"><span data-stu-id="32eb0-235">If any control number reaches the maximum value of the specified range, [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] will raise an error and suspend the interchange.</span></span> <span data-ttu-id="32eb0-236">手動で制御番号をリセットしたり、構成[!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)]の下限の値に自動的にリセットする、**ローカル ホスト設定** ページで、**アグリーメントのプロパティ**x12 の両方のダイアログ ボックスとEDIFACT メッセージです。</span><span class="sxs-lookup"><span data-stu-id="32eb0-236">You can manually reset the control number, or configure [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] to automatically reset to the lower limit, in the **Local Host Settings** page in the **Agreement Properties** dialog box for both X12 and EDIFACT messages.</span></span>  
  
> [!NOTE]
>  <span data-ttu-id="32eb0-237">制御番号は、BizTalk MessageBox データベースの dbo.EdiSequenceNumbers テーブルに保存されています。</span><span class="sxs-lookup"><span data-stu-id="32eb0-237">Control numbers are saved in the dbo.EdiSequenceNumbers table of the BizTalk MessageBox database.</span></span> <span data-ttu-id="32eb0-238">必要に応じて、このテーブルの制御番号を削除するかアーカイブすることによって、このデータベースを管理する必要があります。</span><span class="sxs-lookup"><span data-stu-id="32eb0-238">You should manage this database table by purging the control numbers from the table or archiving the control numbers, as appropriate.</span></span>  
  
 <span data-ttu-id="32eb0-239">EDIFACT では、制御番号は英数字で構成されます。</span><span class="sxs-lookup"><span data-stu-id="32eb0-239">In EDIFACT, the control numbers consist of alphanumeric values.</span></span> <span data-ttu-id="32eb0-240">次の書式がサポートされています。</span><span class="sxs-lookup"><span data-stu-id="32eb0-240">The following formats are supported:</span></span>  
  
-   <span data-ttu-id="32eb0-241">Numbers ("1" など)</span><span class="sxs-lookup"><span data-stu-id="32eb0-241">Numbers (for example, "1")</span></span>  
  
-   <span data-ttu-id="32eb0-242">PrefixNumbersSuffix ("WA1A" など)</span><span class="sxs-lookup"><span data-stu-id="32eb0-242">PrefixNumbersSuffix (for example, "WA1A")</span></span>  
  
-   <span data-ttu-id="32eb0-243">PrefixNumbers ("AA1" など)。</span><span class="sxs-lookup"><span data-stu-id="32eb0-243">PrefixNumbers (for example, "AA1")</span></span>  
  
-   <span data-ttu-id="32eb0-244">NumbersSuffix ("1AA" など)</span><span class="sxs-lookup"><span data-stu-id="32eb0-244">NumbersSuffix (for example, "1AA")</span></span>  
  
 <span data-ttu-id="32eb0-245">これらの書式では、数字には "0" ～ "9"、プレフィックスとサフィックスには数字以外の任意の文字を使用できます。</span><span class="sxs-lookup"><span data-stu-id="32eb0-245">In these formats, the number characters can be from "0" to "9", and the prefix and suffix characters can be any characters other than numbers.</span></span> <span data-ttu-id="32eb0-246">数字のみが最大値に達するまで増分されます。</span><span class="sxs-lookup"><span data-stu-id="32eb0-246">Only the number will be incremented to reach the maximum value.</span></span>  
  
#### <a name="count-of-segments"></a><span data-ttu-id="32eb0-247">セグメント数</span><span class="sxs-lookup"><span data-stu-id="32eb0-247">Count of segments</span></span>  
 <span data-ttu-id="32eb0-248">インターチェンジのトランザクション セットごとに、EDI 送信パイプラインは、トランザクション セットのセグメント数を検証します。これは、X12 の場合は SE1 データ要素、EDIFACT の場合は UNT01 データ要素で示されます。</span><span class="sxs-lookup"><span data-stu-id="32eb0-248">For each transaction set in an interchange, the EDI send pipeline will verify the count of segments in the transaction set, as indicated in the SE01 data element for X12 and the UNT01 data element for EDIFACT.</span></span> <span data-ttu-id="32eb0-249">該当するデータ要素の値が実際の数と一致しない場合、送信パイプラインは実際のセグメント数を反映するように数を更新します。</span><span class="sxs-lookup"><span data-stu-id="32eb0-249">If the value of the appropriate data element does not match the actual count, the send pipeline will update the count to reflect the actual number of segments.</span></span> <span data-ttu-id="32eb0-250">数が間違っていても、トランザクション セットは拒否されません。</span><span class="sxs-lookup"><span data-stu-id="32eb0-250">The transaction set will not be rejected because of an erroneous count.</span></span> <span data-ttu-id="32eb0-251">数の更新は、イベント ビューアの警告に記録されます。</span><span class="sxs-lookup"><span data-stu-id="32eb0-251">The update of the count will be logged in a warning in the event viewer.</span></span> <span data-ttu-id="32eb0-252">これは、保護されたバッチの処理には適用されません。</span><span class="sxs-lookup"><span data-stu-id="32eb0-252">This does not apply to the processing of preserved batches.</span></span>  
  
## <a name="additional-steps-in-serializing-an-edi-interchange"></a><span data-ttu-id="32eb0-253">EDI インターチェンジのシリアル化の追加手順</span><span class="sxs-lookup"><span data-stu-id="32eb0-253">Additional Steps in Serializing an EDI Interchange</span></span>  
 <span data-ttu-id="32eb0-254">EDI 送信パイプラインは、シリアル化中に次の手順も実行します。</span><span class="sxs-lookup"><span data-stu-id="32eb0-254">The EDI send pipeline also performs the following steps during serializing.</span></span>  
  
### <a name="serializing-the-release-indicator"></a><span data-ttu-id="32eb0-255">リリース インジケータのシリアル化</span><span class="sxs-lookup"><span data-stu-id="32eb0-255">Serializing the Release Indicator</span></span>  
 <span data-ttu-id="32eb0-256">EDIFACT メッセージのシリアル化中、EDI 送信パイプラインは、必要なリリース インジケータを EDI インターチェンジに挿入します。</span><span class="sxs-lookup"><span data-stu-id="32eb0-256">During the serializing of an EDIFACT messages, the EDI send pipeline will insert any required release indicator into the EDI interchange.</span></span> <span data-ttu-id="32eb0-257">送信パイプラインにルーティングされた中間 XML には、エスケープされるデータは含まれないと想定されています。</span><span class="sxs-lookup"><span data-stu-id="32eb0-257">It is assumed that the intermediate XML routed to the send pipeline does not include data that is escaped.</span></span> <span data-ttu-id="32eb0-258">たとえば、送信パイプラインにルーティングされる XML データにリリース インジケータが存在する場合、送信パイプラインは、既存のリリース インジケータの前に別のリリース インジケータを追加して、既存のリリース インジケータをエスケープします。</span><span class="sxs-lookup"><span data-stu-id="32eb0-258">For example, if a release indicator is present in the XML data routed to the send pipeline, the send pipeline will add another release indicator before the existing release indicator in order to escape it.</span></span>  
  
 <span data-ttu-id="32eb0-259">リリース インジケータは、EDI 検証には含まれません。</span><span class="sxs-lookup"><span data-stu-id="32eb0-259">The release indicator will not be included in EDI validation.</span></span> <span data-ttu-id="32eb0-260">長さ制限が計算されるとき、リリース インジケータは含まれません。</span><span class="sxs-lookup"><span data-stu-id="32eb0-260">The EDI send pipeline will not include the release indicator when it computes length restrictions.</span></span>  
  
### <a name="adding-trailing-zeroes-to-meet-implied-decimal-requirements"></a><span data-ttu-id="32eb0-261">暗黙の小数点以下の桁数要件を満たすために後ろにゼロを追加</span><span class="sxs-lookup"><span data-stu-id="32eb0-261">Adding Trailing Zeroes to Meet Implied Decimal Requirements</span></span>  
 <span data-ttu-id="32eb0-262">EDI アセンブラは、小数点以下の桁数が足りない数字を検出すると、暗黙の桁数要件を満たすために後ろにゼロを追加します。</span><span class="sxs-lookup"><span data-stu-id="32eb0-262">If the EDI Assembler encounters a number that has an insufficient number of digits after the decimal point, it will add trailing zeroes after the decimal point to meet implied decimal requirements.</span></span> <span data-ttu-id="32eb0-263">たとえば、数字の書式が N2 である必要がある場合に、数字が "4.5" であれば、EDI アセンブラは数字を "4.50" に変更します。</span><span class="sxs-lookup"><span data-stu-id="32eb0-263">For example, if the EDI Assembler encounters the number "4.5" when the number should have the format N2, the Assembler will change the number to "4.50".</span></span>  
  
### <a name="replacing-separators-in-payload-data"></a><span data-ttu-id="32eb0-264">ペイロード データ内の区切り記号の置き換え</span><span class="sxs-lookup"><span data-stu-id="32eb0-264">Replacing Separators in Payload Data</span></span>  
 <span data-ttu-id="32eb0-265">データ、セグメント、またはコンポーネントの区切り記号としても設定されている文字が送信メッセージのデータに含まれている場合は、その文字を EDI 送信パイプラインによって置き換えることができます。</span><span class="sxs-lookup"><span data-stu-id="32eb0-265">If the data in the outbound message contains characters that are also configured as data, segment or component separators, the EDI send pipeline can replace these characters.</span></span> <span data-ttu-id="32eb0-266">たとえば、メッセージには値が含まれています"テスト * データ"データ要素区切り記号が構成されていると '\*'、受信側システムで解析の問題が発生します。</span><span class="sxs-lookup"><span data-stu-id="32eb0-266">For example, if the message contains a value of “test*data” and the data element separator is configured as ‘\*’, this may cause parsing problems on the receiving system.</span></span>  
  
 <span data-ttu-id="32eb0-267">有効にすると、この文字を置換する EDI 送信パイプラインを構成することができます、**ペイロードの区切り記号を置き換えます**プロパティと、置換文字を指定します。</span><span class="sxs-lookup"><span data-stu-id="32eb0-267">The EDI send pipeline can be configured to replace this character by enabling the **Replace separators in payload with** property and specifying a replacement character.</span></span> <span data-ttu-id="32eb0-268">このプロパティにある、**文字セットと区切り記号**の一方向アグリーメント タブのページで、**アグリーメントのプロパティ** ダイアログ ボックス。</span><span class="sxs-lookup"><span data-stu-id="32eb0-268">This property is located in the **Charset and Separators** page in the one-way agreement tab of the **Agreement Properties** dialog box.</span></span>  
  
### <a name="transform-hipaa-records-based-on-trigger-fields"></a><span data-ttu-id="32eb0-269">トリガー フィールドに基づく HIPAA レコードの変換</span><span class="sxs-lookup"><span data-stu-id="32eb0-269">Transform HIPAA Records Based on Trigger Fields</span></span>  
 <span data-ttu-id="32eb0-270">送信ドキュメントが HIPAA トランザクション セットの場合は、EDI アセンブラーが一致する汎用の EDI セグメントにトリガー フィールドが含まれる一意の XML レコードに変換されます (を参照してください[HIPAA トリガー フィールドの注釈をスキーマ](../core/hipaa-schema-trigger-field-annotations.md))。</span><span class="sxs-lookup"><span data-stu-id="32eb0-270">If the outbound document is a HIPAA transaction set, the EDI Assembler will transform any unique XML record that contains a trigger field into the matching generic EDI segment (see [HIPAA Schema Trigger Field Annotations](../core/hipaa-schema-trigger-field-annotations.md)).</span></span> <span data-ttu-id="32eb0-271">この処理は、具体的には XML レコード名の "_" 文字の後にあるサフィックスを削除するというものです。</span><span class="sxs-lookup"><span data-stu-id="32eb0-271">This is accomplished by dropping the suffix of the XML record name after the “_” character.</span></span>  
  
 <span data-ttu-id="32eb0-272">たとえば、要素 <N1_PayerIdentification_TS835W1_1000A> と <N1_PayeeIdentification_TS835W1_1000B> のどちらも N1 セグメントになります。</span><span class="sxs-lookup"><span data-stu-id="32eb0-272">For example, both the elements <N1_PayerIdentification_TS835W1_1000A> and <N1_PayeeIdentification_TS835W1_1000B> will become N1 segments.</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="32eb0-273">参照</span><span class="sxs-lookup"><span data-stu-id="32eb0-273">See Also</span></span>  
 [<span data-ttu-id="32eb0-274">BizTalk Server が EDI メッセージを送信する方法</span><span class="sxs-lookup"><span data-stu-id="32eb0-274">How BizTalk Server Sends EDI Messages</span></span>](../core/how-biztalk-server-sends-edi-messages.md)