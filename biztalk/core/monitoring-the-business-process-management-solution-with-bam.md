---
title: BAM によるビジネス プロセス管理ソリューションの監視 |Microsoft ドキュメント
ms.custom: ''
ms.date: 06/08/2017
ms.prod: biztalk-server
ms.reviewer: ''
ms.suite: ''
ms.tgt_pltfrm: ''
ms.topic: article
helpviewer_keywords:
- process management solution tutorial, monitoring
- monitoring, process management solutions
ms.assetid: 7c5fde9d-6eef-41c9-979c-ac7e5a172812
caps.latest.revision: 13
author: MandiOhlinger
ms.author: mandia
manager: anneta
ms.openlocfilehash: 26a8b795b90b75518f6c1ec21a6ca6d8f0f0d6a0
ms.sourcegitcommit: cb908c540d8f1a692d01dc8f313e16cb4b4e696d
ms.translationtype: MT
ms.contentlocale: ja-JP
ms.lasthandoff: 09/20/2017
ms.locfileid: "22264370"
---
# <a name="monitoring-the-business-process-management-solution-with-bam"></a><span data-ttu-id="4bb4a-102">BAM によるビジネス プロセス管理ソリューションの監視</span><span class="sxs-lookup"><span data-stu-id="4bb4a-102">Monitoring the Business Process Management Solution with BAM</span></span>
<span data-ttu-id="4bb4a-103">このソリューションは、ビジネス アクティビティ監視 (BAM) API を使用して、注文の処理順序を監視します。</span><span class="sxs-lookup"><span data-stu-id="4bb4a-103">The solution monitors the steps in processing orders using the Business Activity Monitoring (BAM) API.</span></span> <span data-ttu-id="4bb4a-104">ビジネス プロセスのデザインでは、アクティビティを複数のステージに分けます。</span><span class="sxs-lookup"><span data-stu-id="4bb4a-104">The design of the business process splits activities among multiple stages.</span></span> <span data-ttu-id="4bb4a-105">アクティビティを再び組み合わせて、連続するプロセスのような一体感を持たせることができます。</span><span class="sxs-lookup"><span data-stu-id="4bb4a-105">Through, the activities can be re-combined to create a sense of a continuous process.</span></span> <span data-ttu-id="4bb4a-106">BAM は集計データも提供するので、各バックエンドに要する時間、完了した注文数、その他の関連情報を入手できます。</span><span class="sxs-lookup"><span data-stu-id="4bb4a-106">BAM also provides aggregate data so that you can know how long different back-ends are taking, how many orders have been completed, and other similar information.</span></span>  
  
 <span data-ttu-id="4bb4a-107">サービス指向ソリューションと同様に使用して、新しい**OrchestrationEventStream**オブジェクト。</span><span class="sxs-lookup"><span data-stu-id="4bb4a-107">Like the service-oriented solution, it uses the new **OrchestrationEventStream** object.</span></span> <span data-ttu-id="4bb4a-108">については、 **OrchestrationEventStream**オブジェクト」新機能は、「OrchestrationEventStream オブジェクト「を参照してください[BAM を使用するサービス指向ソリューションの監視](../core/monitoring-the-service-oriented-solution-with-bam.md)です。</span><span class="sxs-lookup"><span data-stu-id="4bb4a-108">For a discussion of the **OrchestrationEventStream** object, see "What Is the OrchestrationEventStream Object" in [Monitoring the Service Oriented Solution with BAM](../core/monitoring-the-service-oriented-solution-with-bam.md).</span></span>  
  
 <span data-ttu-id="4bb4a-109">BAM の詳細については、次を参照してください。[を使用したビジネス アクティビティ監視](../core/using-business-activity-monitoring.md)です。</span><span class="sxs-lookup"><span data-stu-id="4bb4a-109">For general information about BAM, see [Using Business Activity Monitoring](../core/using-business-activity-monitoring.md).</span></span> <span data-ttu-id="4bb4a-110">追跡プロファイル エディター (TPE) についての詳細について、次を参照してください。[追跡プロファイル エディター](../core/tracking-profile-editor.md)です。</span><span class="sxs-lookup"><span data-stu-id="4bb4a-110">For information about the Tracking Profile Editor (TPE), see [Tracking Profile Editor](../core/tracking-profile-editor.md).</span></span>  
  
## <a name="wrapping-the-orchestrationeventstream-object"></a><span data-ttu-id="4bb4a-111">OrchestrationEventStream オブジェクトのラップ処理</span><span class="sxs-lookup"><span data-stu-id="4bb4a-111">Wrapping the OrchestrationEventStream Object</span></span>  
 <span data-ttu-id="4bb4a-112">ビジネス プロセス管理ソリューションがラップ、サービス指向ソリューションと同様に、 **OrchestrationEventStream**オブジェクト。</span><span class="sxs-lookup"><span data-stu-id="4bb4a-112">Like the service-oriented solution, the business process management solution wraps the **OrchestrationEventStream** object.</span></span> <span data-ttu-id="4bb4a-113">また、サービス指向ソリューションと同様に、メソッドはすべて静的であるため、メソッドを使用するためにオーケストレーションでオブジェクトのインスタンスを作成する必要はありません。</span><span class="sxs-lookup"><span data-stu-id="4bb4a-113">And, like the service-oriented solution, all of the methods are static so that the orchestrations do not need to create instances of objects in order to use the methods.</span></span> <span data-ttu-id="4bb4a-114">つまり、エンジンによってオーケストレーションが退避される場合は、追跡に使用したオブジェクトをシリアル化する必要がなく、保存する (シリアル化可能にする) 必要もありません。</span><span class="sxs-lookup"><span data-stu-id="4bb4a-114">This also means that the objects used in tracking do not have to be serialized and will not need to be saved (do not need to be serializable) if the engine dehydrates an orchestration.</span></span> <span data-ttu-id="4bb4a-115">ただし、ビジネス プロセス管理ソリューションをラップ**OrchestrationEventStream**いくつか、オブジェクトと 1 つのすべての派生オブジェクトを抽象化します。</span><span class="sxs-lookup"><span data-stu-id="4bb4a-115">The business process management solution, however, wraps **OrchestrationEventStream** with several objects all derived from a single, abstract object.</span></span>  
  
 <span data-ttu-id="4bb4a-116">抽象クラスは**BasicActivity**です。</span><span class="sxs-lookup"><span data-stu-id="4bb4a-116">The abstract class is **BasicActivity**.</span></span> <span data-ttu-id="4bb4a-117">このクラスは抽象ですが、派生したクラスのテンプレートとして機能するというよりは、</span><span class="sxs-lookup"><span data-stu-id="4bb4a-117">Although it is abstract, the class does not really serve as a template for derived classes.</span></span> <span data-ttu-id="4bb4a-118">クラスの静的メソッドを経由して、派生したクラス内で修飾なしで使用できる一連のメソッドを提供します。</span><span class="sxs-lookup"><span data-stu-id="4bb4a-118">Rather, through its static methods, it provides a set of methods available without qualification in a derived class.</span></span> <span data-ttu-id="4bb4a-119">このため、メソッドの既定の実装は 4 種類用意されています。</span><span class="sxs-lookup"><span data-stu-id="4bb4a-119">This, in effect, gives you four default implementations of the methods.</span></span> <span data-ttu-id="4bb4a-120">次の 4 つの静的メソッドは、: **CreateActivityId**、 **BeginActivity**、 **UpdateActivity**、および**EndActivity**です。</span><span class="sxs-lookup"><span data-stu-id="4bb4a-120">The four static methods are: **CreateActivityId**, **BeginActivity**, **UpdateActivity**, and **EndActivity**.</span></span>  
  
 <span data-ttu-id="4bb4a-121">クラスのオーバー ロード、 **BeginActivity**メソッドです。</span><span class="sxs-lookup"><span data-stu-id="4bb4a-121">The class overloads the **BeginActivity** method.</span></span> <span data-ttu-id="4bb4a-122">このメソッドには、アクティビティ名を唯一の引数として受け取り、GUID を作成してアクティビティ識別子として使用するバージョンがあります。このバージョンは、同じメソッドの別のバージョン (アクティビティ名とアクティビティ識別子を受け取るバージョン) を呼び出して、アクティビティ識別子を返します。</span><span class="sxs-lookup"><span data-stu-id="4bb4a-122">One version of it takes an activity name as a single argument, creates a GUID to use as the activity identifier, and then calls the version of itself that takes an activity name and an activity identifier, and then returns the activity identifier.</span></span> <span data-ttu-id="4bb4a-123">この引数を 1 つだけ受け取るバージョンは、注文に一意の識別子がない場合に役立ちます。</span><span class="sxs-lookup"><span data-stu-id="4bb4a-123">This single argument version is useful for cases where an order might not have a unique identifier.</span></span>  
  
 <span data-ttu-id="4bb4a-124">**CreateActivityId**メソッド (string) と要求識別子などの一意の識別子を受け取り、アンダー スコアで連結する文字列を返します。</span><span class="sxs-lookup"><span data-stu-id="4bb4a-124">The **CreateActivityId** method takes a string and a unique identifier such as the request identifier and returns a string concatenating them with an underscore.</span></span> <span data-ttu-id="4bb4a-125">これは一意のアクティビティ識別子となり、派生したクラスで広く使用されます。</span><span class="sxs-lookup"><span data-stu-id="4bb4a-125">This provides a unique activity identifier and is used extensively in the derived classes.</span></span> <span data-ttu-id="4bb4a-126">**BeginActivity**、 **UpdateActivity**、および**EndActivity**メソッドの呼び出し、 **BeginActiviy**、 **UpdateActivity**、および**EndActivity**のメソッド**OrchestrationEventStream**です。</span><span class="sxs-lookup"><span data-stu-id="4bb4a-126">The **BeginActivity**, **UpdateActivity**, and **EndActivity** methods call the **BeginActiviy**, **UpdateActivity**, and **EndActivity** methods of **OrchestrationEventStream**.</span></span>  
  
 <span data-ttu-id="4bb4a-127">ソリューションからのクラスを派生する**BasicActivity**注文ブローカの (**CustomerOrderRequest**)、注文マネージャ (**OrderManager**)、および処理ステージ (**ServiceOrderRequest**)。</span><span class="sxs-lookup"><span data-stu-id="4bb4a-127">The solution derives classes from **BasicActivity** for the order broker (**CustomerOrderRequest**), order manager (**OrderManager**), and the processing stages (**ServiceOrderRequest**).</span></span> <span data-ttu-id="4bb4a-128">クラスはそれぞれ、アクティビティに対応しています。</span><span class="sxs-lookup"><span data-stu-id="4bb4a-128">Each of the classes corresponds to an activity.</span></span> <span data-ttu-id="4bb4a-129">各クラスで使用するアクティビティの名前の文字列の提供**CreateActivityId**活動を作成するメソッドと同様に識別子に特化したアクティビティ マイルス トーンです。</span><span class="sxs-lookup"><span data-stu-id="4bb4a-129">Each class provides a string for the activity name to be used in **CreateActivityId** to create the activity identifier as well as methods specialized for the activity milestones.</span></span>  
  
 <span data-ttu-id="4bb4a-130">注文ブローカは注文を渡し、後で応答を受け取るため、注文の要求識別子に割り当てられたアクティビティ識別子を回復するメソッドを含んでいます。</span><span class="sxs-lookup"><span data-stu-id="4bb4a-130">Because the order broker hands off the order and later receives a response, it includes a method to recover the activity identifier given to the request identifier of the order.</span></span> <span data-ttu-id="4bb4a-131">これによって、ビジネス プロセスが注文処理の最終的な要素の追跡を続けることが可能になります。</span><span class="sxs-lookup"><span data-stu-id="4bb4a-131">This allows the business process to continue tracking the final elements of processing the order.</span></span>  
  
> [!NOTE]
>  <span data-ttu-id="4bb4a-132">カスタマ サービス Web アプリケーションを使用せずに、ファイル機能から注文を送信した場合は、要求ごとに一意の識別子を追加する必要があります。</span><span class="sxs-lookup"><span data-stu-id="4bb4a-132">If you submit orders through the file facility rather than through the customer service web application, you need to add an identifier unique to each request.</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="4bb4a-133">参照</span><span class="sxs-lookup"><span data-stu-id="4bb4a-133">See Also</span></span>  
 [<span data-ttu-id="4bb4a-134">ビジネス プロセス管理ソリューションの開発</span><span class="sxs-lookup"><span data-stu-id="4bb4a-134">Developing a Business Process Management Solution</span></span>](../core/developing-a-business-process-management-solution.md)