---
title: Wcf-webhttp アダプター |Microsoft ドキュメント
ms.custom: ''
ms.date: 06/08/2017
ms.prod: biztalk-server
ms.reviewer: ''
ms.suite: ''
ms.tgt_pltfrm: ''
ms.topic: article
ms.assetid: 67a353e7-1ba3-427a-8e99-c9b8d83061cb
caps.latest.revision: ''
author: MandiOhlinger
ms.author: mandia
manager: anneta
ms.openlocfilehash: 891f636a5380eda7db676559194618915213dc37
ms.sourcegitcommit: 8418b1a8f38b7f56979cd6e203f0b591e2f40fe1
ms.translationtype: MT
ms.contentlocale: ja-JP
ms.lasthandoff: 03/23/2018
---
# <a name="wcf-webhttp-adapter"></a>WCF-WebHttp アダプター
[!INCLUDE[btsCoName](../includes/btsconame-md.md)] [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] 使用して、 **Wcf-webhttp** RESTful サービスにメッセージを送信するアダプター。 **Wcf-webhttp** 送信アダプターは、BizTalk メッセージからサービスに HTTP メッセージを送信します。 受信場所は RESTful サービスからのメッセージを受信します。 GET および DELETE 要求の場合、アダプターはペイロードを使用しません。 POST および PUT 要求の場合は、アダプターは HTTP コンテンツ/ペイロードに BizTalk メッセージのボディ部を使用します。  

このトピックでは、受信場所を作成し、BizTalk 管理コンソールを使用してポートを送信する方法を説明します。

## <a name="create-a-receive-location"></a>受信場所を作成する
  
> [!NOTE]
>  次の手順を完了する前にする必要がありますを既に追加した一方向受信ポートです。 参照してください [を作成する方法、受信ポート](../core/how-to-create-a-receive-port.md)します。  
  
1.  BizTalk Server 管理コンソールで、 [!INCLUDE[btsBizTalkServerAdminConsoleui](../includes/btsbiztalkserveradminconsoleui-md.md)]、**[BizTalk グループ]**、**[アプリケーション]**、受信場所を作成するアプリケーションの順に展開します。  
  
2.  左側のウィンドウで、**[受信ポート]** ノードをクリックし、右側のウィンドウで、新しい受信場所に関連付ける受信ポートを右クリックし、**[プロパティ]** をクリックします。  
  
3.  **[受信ポートのプロパティ]** ダイアログ ボックスの左側のウィンドウで **[受信場所]** を選択し、右側のウィンドウで **[新規作成]** をクリックして、新しい受信場所を作成します。  
  
4.  **[受信場所のプロパティ]** ダイアログ ボックスの **[トランスポート]** セクションで、**[種類]** ドロップダウン リストから **[WCF-WebHttp]** を選択します。次に、**[構成]** をクリックして、受信場所のトランスポートのプロパティを構成します。  
  
5.  **全般** タブで、メッセージを受信する REST インターフェイスのエンドポイント アドレスを構成します。  
  
    |プロパティ|目的|  
    |--------------|----------------|  
    |**アドレス (URI)**|必須。 HTTP ベースの RESTful メッセージを受信できる [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] の URI を指定します。|  
    |**エンドポイント Id**|省略可。 エンドポイント ID を指定します。 これらの設定により、エンドポイントはこの受信場所を認証できます。 エンドポイントと受信場所のハンドシェイク プロセスでは、Windows Communication Foundation (WCF) インフラストラクチャによって、この要素の値と予期されるサービスの ID が照合されます。<br /><br /> 既定値は空の文字列です。|  
    |**HTTP メソッドと URL マッピング**|BTS 操作マッピングによって、ユーザーは、受信 HTTP メソッドと URL サブパスに基づいて、メッセージ コンテキスト内で受信 HTTP 要求を BTS 操作にマップすることができます。 受信 HTTP メソッドと URL サブパスは、一連の HTTP メソッドと URI テンプレートと照合されます。 一致項目が見つかると、アダプターは、メッセージ内で指定された値を使って、 **BTS.Operation** プロパティを BizTalk メッセージ コンテキストに昇格させます。<br /><br /> HTTP メソッドは、単一形式として、またはマルチマッピング形式として、URL マッピングに指定できます。 マルチマッピング形式は、以下のようになります。<br /><br /> `<BtsHttpUrlMapping> <Operation Name = "DelCust" Method="DELETE" Url="/Customer/12345</BtsHttpUrlMapping>`<br /><br /> 前のスニペットでは、顧客 ID は定数値 ( *12345*) として指定されています。 ただし、顧客 ID またはその他のクエリ変数を、実行時に決定しなければならないシナリオもあります。 このようなシナリオを実現するには、URL の変数コンポーネントを中かっこ { } で囲んで指定する必要があります。 たとえば、前のスニペットでは、顧客 ID を変数として指定する場合は、次のようになります。<br /><br /> `<BtsHttpUrlMapping> <Operation Name = "DelCust" Method="DELETE" Url="/Customer/{ID}</BtsHttpUrlMapping>`<br /><br /> このような場合、実行時に変数 **ID** の値をどこから選択するかも指定する必要があります。 これは、**[変数マッピング]** を使用して指定します。<br /><br />**注**<br /> URL のフィールド内で XML の特殊文字必要があります「エスケープする」です。 これにより、特殊な XML 文字が、処理し、ポートでは保持されます。 たとえば、 `&` として特殊文字をエスケープする必要があります `&amp;`します。 <br /><br />From:<br />`Url=”/Customer?{ID}& group=Location”`<br />目的: <br />`Url=”/Customer?{ID}&amp;group=Location”`|  
    |**変数のマッピング**|[HTTP メソッドと URL マッピング] で変数を指定した場合は、実行時に変数がマッピングされる対象を指定する必要があります。 **[編集]** をクリックして、**[変数マッピング]** ダイアログ ボックスを表示します。 ダイアログ ボックスの **[変数]** 列に、**[HTTP メソッドと URL マッピング]** で定義した変数の一覧が表示されます。 **[プロパティ名]** フィールドで、変数に関連付けられる値を提供するプロパティの名前を指定する必要があります。 ソリューションの一部として、このプロパティを事前に定義/昇格しておく必要があります。 また、**[プロパティ名前空間]** フィールドで、プロパティの名前空間も指定する必要があります。|  
  
6.  **バインド**  タブで、タイムアウトおよびエンコード関連のプロパティを構成します。  
  
    |プロパティ|目的|  
    |--------------|----------------|  
    |**オープン タイムアウト (hh:mm:ss)**|チャネルを開く操作が完了するまでの間隔を示す期間値を指定します。 **System.TimeSpan.Zero**以上の値を指定してください。<br /><br /> 既定値:00:01:00<br /><br /> 最大値: 23:59:59|  
    |**送信タイムアウト (hh:mm:ss)**|送信操作が完了するまでの間隔を示す期間値を指定します。 **System.TimeSpan.Zero**以上の値を指定してください。 要求 - 応答受信ポートを使用する場合、この値は、対話処理がすべて完了するまでの時間を指定します。これは、クライアントが大きなメッセージを返した場合にも適用されます。<br /><br /> 既定値:00:01:00<br /><br /> 最大値: 23:59:59|  
    |**クローズ タイムアウト (hh:mm:ss)**|チャネルを閉じる操作が完了するまでの間隔を示す期間値を指定します。 **System.TimeSpan.Zero**以上の値を指定してください。<br /><br /> 既定値:00:01:00<br /><br /> 最大値: 23:59:59|  
    |**受信したメッセージの最大サイズ (バイト)**|有線ネットワーク上で受信できる、ヘッダーを含むメッセージの最大サイズをバイト単位で指定します。 メッセージのサイズは、各メッセージに割り当てられているメモリの量に制限されます。 このプロパティを使用して、サービス拒否 (DoS) 攻撃にさらされる危険性を制限できます。<br /><br /> WCF-WebHttp アダプターでは、バッファリングされた送信モードで [WebHttpBinding](http://msdn.microsoft.com/library/system.servicemodel.webhttpbinding.aspx) クラスを活用して、エンドポイントと通信します。 バッファリングされたトランスポート モードでは、 [WebHttpBinding.MaxBufferSize](http://msdn.microsoft.com/library/system.servicemodel.webhttpbinding.maxbuffersize.aspx) プロパティは常にこのプロパティの値と等しくなります。<br /><br /> 既定値:65536<br /><br /> 最大値: 2147483647|  
    |**最大同時呼び出し数**|単一のサービス インスタンスに対する同時呼び出しの数を指定します。 制限を超える呼び出しはキューに格納されます。 この値を 0 に設定することは、 **Int32.MaxValue**に設定するのと同じです。<br /><br /> 既定値は 200 です。|  
  
7.  **セキュリティ**  タブで、セキュリティを定義する機能、Wcf-webhttp 受信場所。  
  
    |プロパティ|目的|  
    |--------------|----------------|  
    |**セキュリティ モード**|使用するセキュリティの種類を指定します。 有効な値は次のとおりです。<br /><br /> -                          **None**: メッセージが転送中にセキュリティ保護されません。<br /><br /> - **トランスポート**: セキュリティは、HTTPS トランスポートを使用して提供します。 SOAP メッセージは、HTTPS を使用してセキュリティ保護されます。 このモードを使用するには、Microsoft インターネット インフォメーション サービス (IIS) の Secure Sockets Layer (SSL) を設定する必要があります。<br /><br /> - **TransportWithMessageCredential**: 整合性、機密性、およびサービスの認証は、HTTPS トランスポートによって提供されます。 このモードを使用するには、Microsoft インターネット インフォメーション サービス (IIS) の Secure Sockets Layer (SSL) を設定する必要があります。<br /><br /> 既定値は **[トランスポート]** です。|  
    |**トランスポート クライアント資格情報の種類**|クライアント認証の実行時に使用する資格情報の種類を指定します。 有効な値は次のとおりです。<br /><br /> - **None**: トランスポート レベルの認証は行われません。<br /><br /> - **基本的な**: 基本認証です。 基本認証では、ユーザー名とパスワードは、ネットワークを経由してプレーン テキストで送信されます。 資格情報に対応するドメイン ユーザー アカウントまたはローカル ユーザー アカウントを作成する必要があります。<br /><br /> - **ダイジェスト**: ダイジェスト認証です。 この認証方法は、動作が基本認証とよく似ています。ただし、セキュリティの強化のために、パスワードは、ネットワーク経由でハッシュ値として送信されます。 ダイジェスト認証は、Windows Server オペレーティング システムの認証を実行しているドメイン コントローラーを使用するドメインでのみ使用できます。 クライアントの資格情報に対応するドメイン ユーザー アカウントまたはローカル ユーザー アカウントを作成する必要があります。<br /><br /> -                          **Ntlm**: NTLM 認証です。 クライアントは、この受信場所にパスワードを送信せずに資格情報を送信できます。 クライアントの資格情報に対応するドメイン ユーザー アカウントまたはローカル ユーザー アカウントを作成する必要があります。<br /><br /> -                          **Windows**: 統合 Windows 認証です。 Windows Communication Foundation は、Kerberos または NTLM をネゴシエートします。ドメインが存在する場合には、Kerberos の方とネゴシエートします。 Kerberos を使用する場合は、クライアントがサービス プリンシパル名 (SPN) によってサービスを識別できるようにすることが重要です。 クライアントの資格情報に対応するドメイン ユーザー アカウントまたはローカル ユーザー アカウントを作成する必要があります。<br /><br /> - **証明書**: クライアント証明書を使用してクライアント認証です。 クライアントをこの受信場所に対して認証できるように、クライアントの X.509 証明書の CA 証明書チェーンを、このコンピューターの信頼されたルート証明機関の証明書ストアにインストールする必要があります。<br /><br /> **注**、 **クライアント資格情報の種類のトランスポート** プロパティが仮想の IIS の認証スキームと一致する必要があります受信場所のディレクトリをホストします。 たとえば、このプロパティが **[Windows]** に設定されている場合は、これをホストする仮想ディレクトリの **[統合 Windows 認証]** も有効にする必要があります。 同様に、このプロパティが **[なし]** に設定されている場合は、この受信場所をホストする仮想ディレクトリへの匿名アクセスを許可する必要があります。<br /><br /> 既定値は **[Windows]** です。|  
    |**サービス証明書の拇印**|クライアントがサービスの認証に使用する、この受信場所に対する X.509 証明書の拇印を指定します。 拇印は、**[参照]** ボタンを使用して **[現在のユーザー]** の場所の **[My]** ストアを参照して選択できます。<br /><br /> **注** にサービス証明書をインストールする必要があります、 **現在のユーザー** この受信場所をホストする受信ハンドラーのユーザー アカウントの場所。<br /><br /> 最小長: 0<br /><br /> 最大長:40<br /><br /> 既定値は空の文字列です。|  

8. **動作**  タブで、サービス レベル、およびエンドポイント レベルで異なる動作を指定します。 これらの動作は、.NET Framework クラスを無効に基づいています。  
  
    | プロパティ|目的|  
    |--------------|----------------|  
    | ServiceBehavior | サービス レベルで、WCF サービスの機能を拡張します。 別のことなどのセキュリティ設定を定義、デバッグを有効に、調整を実装およびその他の .NET クラスを使用する拡張機能を追加することができます。  <br/><br/> 右側の選択 **ServiceBehavior**, 、および **拡張機能の追加**します。 一覧では、使用できる .NET クラスを示します。|
    | [Endpointbehavior] | エンドポイント レベルで要求を受信する方法の機能を拡張します。 別のことなどのブラウザー ベースの ASP.NET AJAX クライアントから HTTP 要求を受信、トランザクションの時間間隔を指定する、同期または非同期にメッセージを受信するよう選択する拡張機能を追加し、その他の .NET クラスを使用できます。 <br/><br/> 右側の選択 **[endpointbehavior]**, 、および **拡張機能の追加**します。 一覧では、使用できる .NET クラスを示します。|

    これは、機能は、Wcf-custom 受信場所の動作構成に似ています。 参照してください、 **Wcf-custom トランスポートのプロパティ ダイアログ ボックス、受信、動作**タブ[!INCLUDE[ui-guidance-developers-reference](../includes/ui-guidance-developers-reference.md)]です。
    
9.  **メッセージ**  タブで、SOAP のデータ選択を指定 **本文** 要素。  
  
    |プロパティ|目的|  
    |--------------|----------------|  
    |**送信 HTTP ヘッダー**|応答メッセージがある場合はそれに設定される HTTP ヘッダーを指定します。|  
    |**失敗時に場所を無効にします。**|受信パイプラインまたはルーティングの障害によって受信処理に失敗した受信場所を無効にするかどうかを指定します。<br /><br /> 既定値はオフです。|  
    |**失敗時に要求メッセージを中断します。**|受信パイプラインまたはルーティングの障害によって受信処理に失敗した要求メッセージを保留するかどうかを指定します。<br /><br /> 既定値はオフです。|  
    |**エラーに例外の詳細を含める**|エラーが発生した場合に、デバッグのために SOAP エラーを返すかどうかを指定します。<br /><br /> 既定値はオフです。|  
  
9. **[OK]**をクリックします。  
  
10. **[受信場所のプロパティ]** ダイアログ ボックスで、受信場所を構成するための適切な値を入力し、**[OK]** をクリックして設定を保存します。 については、 **受信場所のプロパティ** ダイアログ ボックスを参照してください [受信場所を作成する方法](../core/how-to-create-a-receive-location.md)します。  

## <a name="create-the-send-port"></a>送信ポートを作成します。

1.  BizTalk 管理コンソールで、新しい送信ポートを作成するか、既存の送信ポートをダブルクリックして変更します。 参照してください [送信ポートを作成する方法](../core/how-to-create-a-send-port2.md)します。 すべての送信ポートのオプションを構成し、指定 **Wcf-webhttp** の **型** オプション、 **トランスポート** のセクション、 **全般**  タブをクリックします。  
  
2.  **全般的な**  タブで、 **トランスポート**  をクリックして、 **構成**  ボタンをクリックします。  
  
3.  **全般**  タブで、メッセージが送信された REST インターフェイスのエンドポイント アドレスを構成します。  
  
    |プロパティ|目的|  
    |--------------|----------------|  
    |**アドレス (URI)**|必須。 メッセージが送信された REST インターフェイスの URI を指定します。|  
    |**エンドポイント Id**|省略可。 エンドポイント ID を指定します。 これらの設定により、エンドポイントはこの送信ポートを認証できます。 エンドポイントと受信場所のハンドシェイク プロセスでは、Windows Communication Foundation (WCF) インフラストラクチャによって、この要素の値と予期されるサービスの ID が照合されます。<br /><br /> 既定値は空の文字列です。|  
    |**HTTP メソッドと URL マッピング**|BTS 操作マッピングによって、ユーザーは、受信 HTTP メソッドと URL サブパスに基づいて、メッセージ コンテキスト内で受信 HTTP 要求を BTS 操作にマップすることができます。 受信 HTTP メソッドと URL サブパスは、一連の HTTP メソッドと URI テンプレートと照合されます。 一致項目が見つかると、アダプターは、メッセージ内で指定された値を使って、 **BTS.Operation** プロパティを BizTalk メッセージ コンテキストに昇格させます。<br /><br /> HTTP メソッドは、単一形式として、またはマルチマッピング形式として、URL マッピングに指定できます。 マルチマッピング形式は、以下のようになります。<br /><br /> `BtsHttpUrlMapping> <Operation Name = "DelCust" Method="DELETE" Url="/Customer/12345" /> </BtsHttpUrlMapping>`<br /><br /> 前のスニペットでは、顧客 ID は定数値 ( *12345*) として指定されています。 ただし、顧客 ID またはその他のクエリ変数を、実行時に決定しなければならないシナリオもあります。 このようなシナリオを実現するには、URL の変数コンポーネントを中かっこ { } で囲んで指定する必要があります。 たとえば、前のスニペットでは、顧客 ID を変数として指定する場合は、次のようになります。<br /><br /> `<BtsHttpUrlMapping> <Operation Name = "DelCust" Method="DELETE" Url="/Customer/{ID}" /> </BtsHttpUrlMapping>`<br /><br /> このような場合、実行時に変数 **ID** の値をどこから選択するかも指定する必要があります。 これは、**[変数マッピング]** を使用して指定します。 <br /><br />**注**<br /> URL のフィールド内で XML の特殊文字必要があります「エスケープする」です。 これにより、特殊な XML 文字が、処理し、ポートでは保持されます。 たとえば、 `&` として特殊文字をエスケープする必要があります `&amp;`します。 <br /><br />From:<br />`Url=”/Customer?{ID}& group=Location”`<br />目的: <br />`Url=”/Customer?{ID}&amp;group=Location”`|  
    |**変数のマッピング**|[HTTP メソッドと URL マッピング] で変数を指定した場合は、実行時に変数がマッピングされる対象を指定する必要があります。 **[編集]** をクリックして、**[変数マッピング]** ダイアログ ボックスを表示します。 ダイアログ ボックスの **[変数]** 列に、**[HTTP メソッドと URL マッピング]** で定義した変数の一覧が表示されます。 **[プロパティ名]** フィールドで、変数に関連付けられる値を提供するプロパティの名前を指定する必要があります。 ソリューションの一部として、このプロパティを事前に定義/昇格しておく必要があります。 また、**[プロパティ名前空間]** フィールドで、プロパティの名前空間も指定する必要があります。|  
  
4.  **バインド**  タブで、タイムアウトおよびエンコード関連のプロパティを構成します。  
  
    |プロパティ|目的|  
    |--------------|----------------|  
    |**オープン タイムアウト (hh:mm:ss)**|チャネルを開く操作が完了するまでの間隔を示す期間値を指定します。 **System.TimeSpan.Zero**以上の値を指定してください。<br /><br /> 既定値:00:01:00<br /><br /> 最大値: 23:59:59|  
    |**送信タイムアウト (hh:mm:ss)**|送信操作が完了するまでの間隔を示す期間値を指定します。 **System.TimeSpan.Zero**以上の値を指定してください。 要求 - 応答受信ポートを使用する場合、この値は、対話処理がすべて完了するまでの時間を指定します。これは、クライアントが大きなメッセージを返した場合にも適用されます。<br /><br /> 既定値:00:01:00<br /><br /> 最大値: 23:59:59|  
    |**クローズ タイムアウト (hh:mm:ss)**|チャネルを閉じる操作が完了するまでの間隔を示す期間値を指定します。 **System.TimeSpan.Zero**以上の値を指定してください。<br /><br /> 既定値:00:01:00<br /><br /> 最大値: 23:59:59|  
    |**受信したメッセージの最大サイズ (バイト)**|有線ネットワーク上で受信できる、ヘッダーを含むメッセージの最大サイズをバイト単位で指定します。 メッセージのサイズは、各メッセージに割り当てられているメモリの量に制限されます。 このプロパティを使用して、サービス拒否 (DoS) 攻撃にさらされる危険性を制限できます。<br /><br /> WCF-WebHttp アダプターでは、バッファリングされた送信モードで [WebHttpBinding](http://msdn.microsoft.com/library/system.servicemodel.webhttpbinding.aspx) クラスを活用して、エンドポイントと通信します。 バッファリングされたトランスポート モードでは、 [WebHttpBinding.MaxBufferSize](http://msdn.microsoft.com/library/system.servicemodel.webhttpbinding.maxbuffersize.aspx) プロパティは常にこのプロパティの値と等しくなります。<br /><br /> 既定値:65536<br /><br /> 最大値: 2147483647|  
  
5.  **セキュリティ** タブで、Wcf-webhttp 送信ポートのセキュリティ機能を定義します。  
  
    |プロパティ|目的|  
    |--------------|----------------|  
    |**セキュリティ モード**|使用するセキュリティの種類を指定します。 有効な値は次のとおりです。<br /><br /> -   **None**: メッセージが転送中にセキュリティ保護されません。<br />-   **トランスポート**: HTTPS トランスポートを使用してセキュリティを提供します。 SOAP メッセージは、HTTPS を使用してセキュリティ保護されます。 サービスの証明書を使用してサービスを送信ポートに対して認証できるように、サービスの X.509 証明書の CA 証明書チェーンを、このコンピューターの信頼されたルート証明機関の証明書ストアにインストールする必要があります。<br />-   **TransportWithMessageCredential**: 整合性、機密性、およびサービスの認証は、HTTPS トランスポートによって提供されます。 サービスがサービスの証明書を使用して送信ポートに対して認証できるように、このコンピューターの信頼されたルート証明機関の証明書ストアにサービスの X.509 証明書の CA 証明書チェーンをインストールする必要があります。 送信ポートの認証は、SOAP メッセージのセキュリティによって提供されます。<br /><br /> 既定値は **None**します。|  
    |**トランスポート クライアント資格情報の種類**|クライアント認証の実行時に使用する資格情報の種類を指定します。 有効な値は次のとおりです。<br /><br /> -   **None**: トランスポート レベルの認証は行われません。<br />-   **基本的な**: 基本認証です。 基本認証では、ユーザー名とパスワードは、ネットワークを経由してプレーン テキストで送信されます。 資格情報に対応するドメイン ユーザー アカウントまたはローカル ユーザー アカウントを作成する必要があります。<br />-   **ダイジェスト**: ダイジェスト認証です。 この認証方法は、動作が基本認証とよく似ています。ただし、セキュリティの強化のために、パスワードは、ネットワーク経由でハッシュ値として送信されます。 ダイジェスト認証は、Windows Server オペレーティング システムの認証を実行しているドメイン コントローラーを使用するドメインでのみ使用できます。 クライアントの資格情報に対応するドメイン ユーザー アカウントまたはローカル ユーザー アカウントを作成する必要があります。<br />-   **Ntlm**: NTLM 認証です。 クライアントは、この受信場所にパスワードを送信せずに資格情報を送信できます。 クライアントの資格情報に対応するドメイン ユーザー アカウントまたはローカル ユーザー アカウントを作成する必要があります。<br />-   **Windows**: Windows 統合認証です。 Windows Communication Foundation は、Kerberos または NTLM をネゴシエートします。ドメインが存在する場合には、Kerberos の方とネゴシエートします。 Kerberos を使用する場合は、クライアントがサービス プリンシパル名 (SPN) によってサービスを識別できるようにすることが重要です。 クライアントの資格情報に対応するドメイン ユーザー アカウントまたはローカル ユーザー アカウントを作成する必要があります。<br />-   **証明書**: クライアント証明書を使用してクライアント認証です。 クライアントをこの受信場所に対して認証できるように、クライアントの X.509 証明書の CA 証明書チェーンを、このコンピューターの信頼されたルート証明機関の証明書ストアにインストールする必要があります。 **注:**  、 **クライアント資格情報の種類のトランスポート** プロパティが仮想の IIS の認証スキームと一致する必要があります受信場所のディレクトリをホストします。 たとえば、このプロパティが **[Windows]** に設定されている場合は、これをホストする仮想ディレクトリの **[統合 Windows 認証]** も有効にする必要があります。 同様に、このプロパティが **[なし]** に設定されている場合は、この受信場所をホストする仮想ディレクトリへの匿名アクセスを許可する必要があります。 <br /><br /> 既定値は **[Windows]** です。|  
    |**クライアント証明書の拇印**|この送信ポートをエンドポイントに対して認証する際に使用する X.509 証明書の拇印を指定します。 移動してサムプリントを選択することができます、 **マイ** に格納、 **現在のユーザー** と場所、 **参照**  ボタンをクリックします。 **注:**  にクライアント証明書をインストールする必要があります、 **現在のユーザー** これをホストしている送信ハンドラーのユーザー アカウントの場所は、ポートを送信します。 <br /><br /> 最小長: 0<br /><br /> 最大長:40<br /><br /> 既定値は空の文字列です。|  
    |**サービス証明書の拇印**|この送信ポートのメッセージ送信先のエンドポイントを認証する際に使用する X.509 証明書の拇印を指定します。 拇印を選択することができます、 **その他のユーザー** に格納、 **ローカル マシン** と場所、 **参照**  ボタンをクリックします。<br /><br /> 最小長: 0<br /><br /> 最大長:40<br /><br /> 既定値は空の文字列です。|  
    |**ユーザー名資格情報**|メッセージを送信するための資格情報を指定します。 クリックしてプロパティを指定することができます、 **編集** ボタンをクリックします。 選択した場合は、資格情報を設定する必要があります、 **Username** のオプションとして **クライアント資格情報の種類のメッセージ**します。<br /><br /> 既定値は **シングル サインオンを使用しない**します。|  
    |**ACS サービス id を使用します。**|適用されます[!INCLUDE[bts2013r2_md](../includes/bts2013r2-md.md)]と BizTalk Server 2013。 <br /><br />このチェック ボックスを選択し、クリックして **編集** と Service Bus での認証に次の値を指定します。 これは、機能は、関連するエンティティを Service Bus のインターフェイス、REST を呼び出すときにのみ必要です。<br /><br /> -   **アクセス制御サービス STS Uri** – これを設定して`https://<Namespace>-sb.accesscontrol.windows.net/`ここで、\<名前空間\>Service Bus 名前空間です。<br />-   **発行者名** – 発行者の名前を指定します。 通常は所有者に設定します。<br />-   **発行者キー** – 発行者キーを指定します。|  
    |**Service Bus 接続情報** | 始まる新しい[!INCLUDE[bts2016_md](../includes/bts2016-md.md)]です。<br/><br/>共有アクセス署名 (SAS) または Service Bus 名前空間のように、Access Control Service (ACS) を使用できます。 <br/><br/>オプションを選択し、 **編集** キーの情報を入力します。<br/><br/> - **Shared Access Signature** : アクセスのキー名とアクセス キーを入力します。 両方の値は、「、 [Azure ポータル](https://portal.azure.com)します。<br/> - **アクセス制御サービス**: STS URI を入力 (`https://<yourNamespace>-sb.accesscontrol.windows.net/`)、発行者名、および発行者キー。 これらの値を取得する」の説明に従って Windows PowerShell を使用して[Sb-messaging アダプター](../core/sb-messaging-adapter.md)です。 |
  
6.  **動作** タブで、この送信ポートのエンドポイントの動作を構成します。 

    |プロパティ|目的|  
    |--------------|----------------|  
    | [Endpointbehavior] | エンドポイント レベルで要求を送信する方法の機能を拡張します。 拡張機能など、さまざまな処理を実行する SOAP 処理動作を定義するトランザクション制御検出機能の時間間隔を指定してその他の .NET クラスを使用してを追加することができます。 <br/><br/>右側の選択 **[endpointbehavior]**, 、および **拡張機能の追加**します。 一覧では、使用できる .NET クラスを示します。 |
    
    これは、WCF-Custom 送信ポートのエンドポイント動作の構成と似ています。 参照してください、 **Wcf-custom トランスポートのプロパティ ダイアログ ボックス、送信、動作**タブ[!INCLUDE[ui-guidance-developers-reference](../includes/ui-guidance-developers-reference.md)]です。
  
7.  **プロキシ** タブで、Wcf-webhttp 送信ポートのプロキシ設定を構成します。 
  
    |プロパティ|目的|  
    |--------------|----------------|  
    |**使用する送信ハンドラーのプロキシ設定**|この送信ポートがホストされている送信ハンドラーのプロキシ設定を使用するかどうかを指定します。<br /><br /> これが既定の設定です。|  
    |**プロキシを使用しません。**|この送信ポートがプロキシ サーバーを使用するかどうかを示します。<br /><br /> 既定値はオフです。|  
    |**プロキシを使用します。**|この送信ポートがで指定されたプロキシ サーバーを使用するかどうかを示す、 **アドレス** プロパティです。<br /><br /> 既定値はオフです。|  
    |**アドレス**|プロキシ サーバーのアドレスを指定します。 使用して、 **https** または **http** セキュリティ構成に応じて設定します。 このアドレスの後に、コロンとポート番号を指定します。 たとえば、http://127.0.0.1:8080 と指定します。<br /><br /> このプロパティには値の場合にのみ **プロキシを使用して** が選択されています。<br /><br /> 型:文字列<br /><br /> 最大長: 256<br /><br /> 既定値は空の文字列です。|  
    |**ユーザー名**|認証に使用するユーザー名を指定します。 統合認証が使用されている場合、ユーザー名にはドメインが含まれ、"ドメイン\ユーザー名" となります。 基本認証またはダイジェスト認証を使用する場合、ユーザー名がドメインを含まない\\します。 このプロパティには値の場合にのみ **プロキシを使用して** が選択されています。 **注:**  、Wcf-webhttp 送信アダプターは、プロキシに対して基本認証です。 <br /><br /> 型:文字列<br /><br /> 最小長: 0<br /><br /> 最大長: 256<br /><br /> 既定値は空の文字列です。|  
    |**パスワード**|認証を使用するパスワードを指定します。<br /><br /> このプロパティには値の場合にのみ **プロキシを使用して** が選択されています。<br /><br /> 型:文字列<br /><br /> 最小長: 0<br /><br /> 最大長: 256<br /><br /> 既定値は空の文字列です。|  
  
8.  **メッセージ** タブで、REST インターフェイスにメッセージを送信する方法を指定します。  
  
    |プロパティ|目的|  
    |--------------|----------------|  
    |**送信 HTTP ヘッダー**|応答メッセージがある場合はそれに設定される HTTP ヘッダーを指定します。|  
    |**動詞の本文を抑制します。**|REST エンドポイントを呼び出すために使用する動詞に応じて、メッセージ ペイロードが必要な場合と不要な場合があります。 たとえば、GET または DELETE 動詞を使用するときには、メッセージ ペイロードは必要ではない可能性があります。 ただし、送信ポートを使用して REST エンドポイントの呼び出しをトリガーするには、メッセージ ペイロードを含むダミー メッセージを使用できます。 メッセージが REST エンドポイントに送信される前に、ダミー メッセージからメッセージ ペイロードを削除する必要があります。 メッセージ ペイロードを取り除かなければなりませんを使用する動詞を指定する、 **動詞の本文を抑制** プロパティです。<br /><br /> たとえば、GET 動詞を使用しているときにメッセージ ペイロードを削除する場合は、としてこのプロパティの値を指定 `GET`します。|  
  
9. をクリックして **[ok]** と **OK** 設定を保存します。  

## <a name="import-wcf-extensions"></a>WCF の拡張機能をインポートします。

受信ハンドラーまたは送信ハンドラーで WCF 拡張機能をインポートします。

1.  [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)]管理、展開[!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)]管理、展開**BizTalk グループ**、展開**プラットフォームの設定**、順に展開**アダプター**.  

2.  選択 **Wcf-webhttp**, とし、ダブルクリックして、受信または送信ハンドラー。  

3. [全般] タブで **プロパティ**します。 

4. **WCF 拡張機能**,  **インポート**, 、WCF 拡張機能の構成ファイルを参照します。 

  
## <a name="add-a-proxy-to-the-send-handler"></a>送信ハンドラーにプロキシを追加します。

プロキシは、送信ポートまたは送信ハンドラーを追加できます。 送信ポートでのプロキシを追加する場合は、このセクションをスキップします。

1.  [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)]管理コンソールで、[!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)]管理、展開**BizTalk グループ**、展開**プラットフォームの設定**、順に展開**アダプター**.  
  
2.  選択 **Wcf-webhttp**, 、送信ハンドラーを選択します。  
  
3.  **アダプター ハンドラーのプロパティ**, の **全般** タブで **プロパティ**します。  
  
4.  **プロキシ** タブで、次の操作を行います。  
  
    |プロパティ|目的|  
    |--------------|----------------|  
    |**プロキシを使用します。**|この送信ハンドラーがプロキシ サーバーを使用しているかどうかを示します。<br /><br /> 既定値はオフです。|  
    |**アドレス**|プロキシ サーバーのアドレスを指定します。 使用して、 **https** または **http** セキュリティ構成に応じて設定します。 このアドレスの後に、コロンとポート番号を指定します。 たとえば、http://127.0.0.1:8080 と指定します。<br /><br /> このプロパティには値の場合にのみ **プロキシを使用して** が選択されています。<br /><br /> 型:文字列<br /><br /> 最大長: 256<br /><br /> 既定値は空の文字列です。|  
    |**ユーザー名**|認証に使用するユーザー名を指定します。 統合認証または基本認証が使用されている場合は、"ドメイン\ユーザー名" のように、ユーザー名にドメインを含めます。 ダイジェスト認証を使用する場合、ユーザー名がドメインを含まない\\します。<br /><br /> このプロパティには値の場合にのみ **プロキシを使用して** が選択されています。<br /><br /> 型:文字列<br /><br /> 最小長: 0<br /><br /> 最大長: 256<br /><br /> 既定値は空の文字列です。|  
    |**パスワード**|認証を使用するパスワードを指定します。<br /><br /> このプロパティには値の場合にのみ **プロキシを使用して** が選択されています。<br /><br /> 型:文字列<br /><br /> 最小長: 0<br /><br /> 最大長: 256<br /><br /> 既定値は空の文字列です。|  
  
5.  クリックして **OK** すべてのダイアログ ボックスを終了するまでです。  
   
## <a name="see-also"></a>参照  
[Sb-messaging アダプター](../core/sb-messaging-adapter.md)

[アダプターの使用](../core/using-adapters.md)

[WCF アダプターについて](../core/what-are-the-wcf-adapters.md)
