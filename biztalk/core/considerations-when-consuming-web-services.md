---
title: Web サービスを使用する場合の考慮事項 |Microsoft Docs
ms.custom: ''
ms.date: 06/08/2017
ms.prod: biztalk-server
ms.reviewer: ''
ms.suite: ''
ms.tgt_pltfrm: ''
ms.topic: article
ms.assetid: ea7038dc-4740-4c0a-b6a1-08bc22f42bc2
caps.latest.revision: 31
author: MandiOhlinger
ms.author: mandia
manager: anneta
ms.openlocfilehash: aa1bbb536890a518248f2b328de71172a5df7186
ms.sourcegitcommit: 266308ec5c6a9d8d80ff298ee6051b4843c5d626
ms.translationtype: MT
ms.contentlocale: ja-JP
ms.lasthandoff: 06/27/2018
ms.locfileid: "36997747"
---
# <a name="considerations-when-consuming-web-services"></a><span data-ttu-id="83589-102">Web サービスを使用する際の考慮事項</span><span class="sxs-lookup"><span data-stu-id="83589-102">Considerations When Consuming Web Services</span></span>
<span data-ttu-id="83589-103">ここでは、Web サービスを使用する際に考慮すべき情報について説明します。</span><span class="sxs-lookup"><span data-stu-id="83589-103">This section provides information that you should take into consideration when consuming Web services.</span></span>  
  
## <a name="using-two-underscore-characters-in-a-parameter-name"></a><span data-ttu-id="83589-104">パラメータ名での 2 つのアンダースコア文字の使用</span><span class="sxs-lookup"><span data-stu-id="83589-104">Using two underscore characters in a parameter name</span></span>  
 <span data-ttu-id="83589-105">Web メソッドのパラメータ名を "__" (2 つのアンダースコア文字) で始めることはできません。</span><span class="sxs-lookup"><span data-stu-id="83589-105">Parameter names for Web methods cannot begin with "__" (two underscore characters).</span></span> <span data-ttu-id="83589-106">2 つのアンダースコア文字で始まる名前を使用すると、XLANG/s でサポートされない (使用できない) Web メッセージ部分が作成される場合があります。</span><span class="sxs-lookup"><span data-stu-id="83589-106">Names that begin with two underscore characters may create Web message parts that are unsupported (unusable) by XLANG/s.</span></span>  
  
## <a name="the-any-element-and-the-anyattribute-attributes-are-not-supported-in-web-methods"></a><span data-ttu-id="83589-107">any 要素と anyAttribute 属性は Web メソッドでサポートされない</span><span class="sxs-lookup"><span data-stu-id="83589-107">The any element and the anyAttribute attributes are not supported in Web methods</span></span>  
 <span data-ttu-id="83589-108">使用することはできません、**任意**要素または**anyAttribute** Web メソッドのスキーマ内の属性。</span><span class="sxs-lookup"><span data-stu-id="83589-108">You cannot use the **any** element or **anyAttribute** attribute in the schema for a Web method.</span></span>  
  
## <a name="using-xlangs-keywords"></a><span data-ttu-id="83589-109">XLANG/s キーワードの使用</span><span class="sxs-lookup"><span data-stu-id="83589-109">Using XLANG/s keywords</span></span>  
 <span data-ttu-id="83589-110">Web サービス名または Web メソッド名に XLANG/s のキーワードを使用することはできません。</span><span class="sxs-lookup"><span data-stu-id="83589-110">A Web service name or a Web method name cannot be a keyword in an XLANG/s.</span></span> <span data-ttu-id="83589-111">Web サービス名または Web メソッド名で XLANG/s のキーワードを使用すると、Web サービスを追加するときにコンパイル エラーが発生します。</span><span class="sxs-lookup"><span data-stu-id="83589-111">If you use an XLANG/s keyword in the Web service name or Web method name, you will get a compilation error when you add the Web service.</span></span> <span data-ttu-id="83589-112">Xlang/s 言語の予約語の一覧は、[xlang-s の予約語](../core/xlang-s-reserved-words.md)を参照してください。</span><span class="sxs-lookup"><span data-stu-id="83589-112">For a list of reserved words for the XLANG/s language, see [XLANG-s Reserved Words](../core/xlang-s-reserved-words.md).</span></span>  
  
## <a name="required-xlangs-support-for-parameter-types"></a><span data-ttu-id="83589-113">パラメータの型は XLANG/s でサポートされる必要がある</span><span class="sxs-lookup"><span data-stu-id="83589-113">Required XLANG/s support for parameter types</span></span>  
 <span data-ttu-id="83589-114">Web メソッドにおいて、XLANG/s でサポートされていないパラメータの型を使用すると、コンパイル エラーが発生します。</span><span class="sxs-lookup"><span data-stu-id="83589-114">Using non-XLANG/s supported Web method parameter type will cause compilation errors.</span></span> <span data-ttu-id="83589-115">たとえば、BizTalk Server では 1 次元配列のスキーマの種類で構成されるパラメータはサポートされていません。</span><span class="sxs-lookup"><span data-stu-id="83589-115">For example, BizTalk Server does not support a parameter that consists of a single dimensional array of schema types.</span></span> <span data-ttu-id="83589-116">また、BizTalk Server では多次元配列もサポートされていません。</span><span class="sxs-lookup"><span data-stu-id="83589-116">In addition, BizTalk Server does not support multi-dimensional arrays.</span></span> <span data-ttu-id="83589-117">Xlang/s 言語は、BizTalk server によって予約されている単語の一覧は、[xlang-s の予約語](../core/xlang-s-reserved-words.md)を参照してください。</span><span class="sxs-lookup"><span data-stu-id="83589-117">For a list of words that XLANG/s language reserves in BizTalk Server, see [XLANG-s Reserved Words](../core/xlang-s-reserved-words.md).</span></span>  
  
## <a name="avoiding-compilation-errors-caused-by-adding-web-references-containing-c-keywords-or-identifiers"></a><span data-ttu-id="83589-118">C# のキーワードまたは識別子を含む Web 参照を追加することによって発生するコンパイル エラーの回避</span><span class="sxs-lookup"><span data-stu-id="83589-118">Avoiding compilation errors caused by adding Web references containing C# keywords or identifiers</span></span>  
 <span data-ttu-id="83589-119">使用すると、**サービス参照の追加**を BizTalk プロジェクトにサービス参照を追加するには、BizTalk Server はスキーマに対して各 Web メソッドを呼び出すために必要なスキーマ型に変換します。</span><span class="sxs-lookup"><span data-stu-id="83589-119">When you use the **Add Service Reference** to add service references to BizTalk projects, BizTalk Server converts the schema types that are required to call each Web method to schemas.</span></span> <span data-ttu-id="83589-120">変換後のスキーマは Reference.xsd に追加されます。</span><span class="sxs-lookup"><span data-stu-id="83589-120">BizTalk Server adds these schemas to Reference.xsd.</span></span> <span data-ttu-id="83589-121">スキーマに C# のキーワードと同じ要素名や C# の識別子として有効でない要素名が含まれる場合は、ランタイム エラーが発生することがあります。</span><span class="sxs-lookup"><span data-stu-id="83589-121">If your schemas contain element names that are C# keywords or the element name is not valid as a C# identifier, you may get a run-time error.</span></span> <span data-ttu-id="83589-122">ランタイム エラーを回避するには、使用する Web サービスに C# のキーワードと同じ要素名や C# の識別子として無効な要素名を含めないようにしてください。</span><span class="sxs-lookup"><span data-stu-id="83589-122">To avoid run-time errors, ensure that the Web service you consume does not contain element names that are C# keywords or invalid C# identifiers.</span></span>  
  
## <a name="multiple-serviceport-type-definitions-are-unsupported"></a><span data-ttu-id="83589-123">複数のサービス/ポートの種類の定義はサポートされていません</span><span class="sxs-lookup"><span data-stu-id="83589-123">Multiple service/port type definitions are unsupported</span></span>  
 <span data-ttu-id="83589-124">BizTalk Server では、単一のサービスおよびポートの種類の定義を含む Web サービス ファイルを追加することができます。</span><span class="sxs-lookup"><span data-stu-id="83589-124">BizTalk Server supports adding a Web service file with a single service and port type definition.</span></span> <span data-ttu-id="83589-125">複数のサービスまたはポートの種類の定義を含む WSDL ファイルを追加すると、次のエラーが発生することがあります。</span><span class="sxs-lookup"><span data-stu-id="83589-125">If you add a WSDL file with multiple service or port type definitions, you may receive the following error:</span></span>  
  
 <span data-ttu-id="83589-126">"BizTalk ファイルを生成できませんでした。</span><span class="sxs-lookup"><span data-stu-id="83589-126">Could not generate BizTalk files.</span></span> <span data-ttu-id="83589-127">オブジェクト参照がオブジェクト インスタンスに設定されていません。"</span><span class="sxs-lookup"><span data-stu-id="83589-127">Object reference not set to an instance of an object.</span></span>  
  
## <a name="support-for-consuming-arrays-exposed-by-web-services"></a><span data-ttu-id="83589-128">Web サービスで公開される配列の使用に関するサポート</span><span class="sxs-lookup"><span data-stu-id="83589-128">Support for consuming arrays exposed by Web services</span></span>  
 <span data-ttu-id="83589-129">BizTalk Server では、BizTalk Web サービス以外の Web サービスによって公開される 1 次元のジャグ配列を使用できます。</span><span class="sxs-lookup"><span data-stu-id="83589-129">BizTalk Server can consume one dimensional and jagged arrays exposed by Web services that are not BizTalk Web services.</span></span> <span data-ttu-id="83589-130">Web サービスの配列を使用する方法の詳細については、[Web サービスの配列を使用する方法](../core/how-to-consume-web-service-arrays.md)を参照してください。</span><span class="sxs-lookup"><span data-stu-id="83589-130">For more information about how to consume Web service arrays, see [How to Consume Web Service Arrays](../core/how-to-consume-web-service-arrays.md).</span></span>  
  
> [!NOTE]
>  <span data-ttu-id="83589-131">多次元配列の構文はサポートされていません。</span><span class="sxs-lookup"><span data-stu-id="83589-131">Multi dimensional array syntax is not supported.</span></span> <span data-ttu-id="83589-132">たとえば、 `MyArray[1,5]`のようにします。</span><span class="sxs-lookup"><span data-stu-id="83589-132">For example, `MyArray[1,5]`.</span></span>  
  
> [!NOTE]
>  <span data-ttu-id="83589-133">BizTalk Server がの配列の使用をサポートしていません**データセット**Web サービスによって公開されているオブジェクト。</span><span class="sxs-lookup"><span data-stu-id="83589-133">BizTalk Server does not support consuming an array of **DataSet** objects exposed by a Web service.</span></span> <span data-ttu-id="83589-134">XLANG/s サブサービスでは、.NET DataSet クラスがネイティブでサポートされます。ただし、.NET DataSet オブジェクトの配列を公開する Web サービスへの Web 参照を含む BizTalk プロジェクトを作成した場合は、プロジェクトのコンパイル時にエラーが発生します。</span><span class="sxs-lookup"><span data-stu-id="83589-134">The XLANG/s subservice does natively support the .NET DataSet class but if you create a BizTalk project that contains a Web reference to a Web service that exposes an array of .NET DataSet objects you will get errors when you attempt to compile the project.</span></span>  
  
## <a name="web-method-parameters-must-be-xml-serializable"></a><span data-ttu-id="83589-135">Web メソッドのパラメータは XML シリアル化可能である必要がある</span><span class="sxs-lookup"><span data-stu-id="83589-135">Web method parameters must be Xml Serializable</span></span>  
 <span data-ttu-id="83589-136">使用する Web サービスのパラメータはすべて、XML シリアル化可能である必要があります。</span><span class="sxs-lookup"><span data-stu-id="83589-136">All parameters in a consumed Web service must be Xml Serializable.</span></span> <span data-ttu-id="83589-137">XML シリアル化可能でないパラメータを含む Web メソッドを追加すると、次のエラー メッセージが表示されることがあります。</span><span class="sxs-lookup"><span data-stu-id="83589-137">If you add a Web method that contains a parameter that is not Xml Serializable, you may receive the following error message:</span></span>  
  
 <span data-ttu-id="83589-138">"System.Xml.Element はメッセージ部分の型になるように、XML にシリアル化可能である必要があります。"</span><span class="sxs-lookup"><span data-stu-id="83589-138">System.Xml.Element must be Xml Seralizeable to be a message part type.</span></span>  
  
> [!NOTE]
>  <span data-ttu-id="83589-139">データ型、 **XmlDocument**と**データセット**、サポートされていない Xml シリアル化可能な中にします。</span><span class="sxs-lookup"><span data-stu-id="83589-139">The data types, **XmlDocument** and **DataSet**, while not Xml Serializable, are supported.</span></span>  
  
## <a name="consuming-messaging-only-web-services"></a><span data-ttu-id="83589-140">メッセージングのみの Web サービスの使用</span><span class="sxs-lookup"><span data-stu-id="83589-140">Consuming Messaging only Web services</span></span>  
 <span data-ttu-id="83589-141">メッセージングのみの Web サービスを使用する場合、BizTalk メッセージのボディ部分の名前はすべて、Web メソッドのパラメータ名と一致する必要があります。</span><span class="sxs-lookup"><span data-stu-id="83589-141">When consuming messaging only Web services, all BizTalk message body part names must match the Web method parameter names.</span></span> <span data-ttu-id="83589-142">たとえば、Web サービスの署名が `WebMethod(MyType1 type1, MyType2 type2)` である場合、ボディ部分の名前は type1 および type2 である必要があります。それ以外の場合は、次の実行時エラーが発生することがあります。</span><span class="sxs-lookup"><span data-stu-id="83589-142">For example, if the signature of the Web service is `WebMethod(MyType1 type1, MyType2 type2)`, the part name must be type1 and type2, you may get the following runtime error:</span></span>  
  
 <span data-ttu-id="83589-143">"パラメータ "%1" のメッセージ部分を取得できませんでした。"</span><span class="sxs-lookup"><span data-stu-id="83589-143">Failed to retrieve the message part for parameter %1</span></span>  
  
 <span data-ttu-id="83589-144">詳細については、[メッセージングのみのシナリオで Web サービスを使用する方法](../core/how-to-consume-web-services-in-a-messaging-only-scenario.md)を参照してください。</span><span class="sxs-lookup"><span data-stu-id="83589-144">For more information, see [How to Consume Web Services in a Messaging Only Scenario](../core/how-to-consume-web-services-in-a-messaging-only-scenario.md).</span></span>  
  
## <a name="configuring-a-soap-send-port-programmatically"></a><span data-ttu-id="83589-145">プログラムによる SOAP 送信ポートの構成</span><span class="sxs-lookup"><span data-stu-id="83589-145">Configuring a SOAP Send Port Programmatically</span></span>  
 <span data-ttu-id="83589-146">プログラムを使って、構成プロパティをメッセージ コンテキストに設定できます。</span><span class="sxs-lookup"><span data-stu-id="83589-146">It is possible to set configuration properties programmatically on the message context.</span></span> <span data-ttu-id="83589-147">これらのプロパティは、送信ポートが静的であるか動的であるかにかかわらず、オーケストレーションまたはカスタム パイプライン コンポーネントに設定できます。</span><span class="sxs-lookup"><span data-stu-id="83589-147">You can set these properties in an orchestration or a custom pipeline component whether or not the send port is static or dynamic.</span></span>  
  
> [!NOTE]
>  <span data-ttu-id="83589-148">構成する、 **MethodName**プロパティ、静的 soap 送信ポートをプログラムで、設定する必要がある**メソッド名**に **[後で指定]** で、 **Webサービス**のタブ、 **SOAP トランスポートのプロパティ** ダイアログ ボックスで、BizTalk Server 管理コンソール。</span><span class="sxs-lookup"><span data-stu-id="83589-148">To configure the **MethodName** property for the static SOAP send port programmatically, you need to set **Method name** to **[Specify Later]** in the **Web Service** tab of the **SOAP Transport Properties** dialog box in the BizTalk Server Administration Console.</span></span>  
> 
>  <span data-ttu-id="83589-149">詳細については、 **MethodName**プロパティを参照してください[消費する Web サービスの URI を動的に設定する方法](../core/how-to-dynamically-set-the-uri-of-a-consumed-web-service.md)します。</span><span class="sxs-lookup"><span data-stu-id="83589-149">For more information about the **MethodName** property, see [How to Dynamically Set the URI of a Consumed Web Service](../core/how-to-dynamically-set-the-uri-of-a-consumed-web-service.md).</span></span>  
> 
>  <span data-ttu-id="83589-150">詳細については**SOAP トランスポートのプロパティ**ダイアログ ボックスを参照してください、 **SOAP トランスポートのプロパティ ダイアログ ボックス、Web サービス**タブ[!INCLUDE[ui-guidance-developers-reference](../includes/ui-guidance-developers-reference.md)]します。</span><span class="sxs-lookup"><span data-stu-id="83589-150">For more information about **SOAP Transport Properties** dialog box, see the **SOAP Transport Properties Dialog Box, Web service** tab [!INCLUDE[ui-guidance-developers-reference](../includes/ui-guidance-developers-reference.md)].</span></span>
  
## <a name="property-rules"></a><span data-ttu-id="83589-151">プロパティのルール</span><span class="sxs-lookup"><span data-stu-id="83589-151">Property Rules</span></span>  
 <span data-ttu-id="83589-152">構成プロパティがオーケストレーション、または受信パイプラインのカスタム パイプライン コンポーネントで設定されている場合は、次のルールが適用されます。</span><span class="sxs-lookup"><span data-stu-id="83589-152">If the configuration property is set in an orchestration or in a custom pipeline component in a receive pipeline, then the following rules are applied:</span></span>  
  
- <span data-ttu-id="83589-153">メッセージを送信する場合は、静的な送信ポート、プロパティの値は、その送信ポート用に構成された値で上書きされます。</span><span class="sxs-lookup"><span data-stu-id="83589-153">If a message is sent to a static send port, the property value will be overwritten with the value configured for that send port.</span></span>  
  
- <span data-ttu-id="83589-154">動的送信ポートにメッセージを送信する場合、プロパティの値は上書きされません。</span><span class="sxs-lookup"><span data-stu-id="83589-154">If a message is sent to a dynamic send port, the property value will not be overwritten.</span></span>  
  
  <span data-ttu-id="83589-155">構成プロパティが送信パイプラインのカスタム パイプライン コンポーネントで設定されている場合は、次のルールが適用されます。</span><span class="sxs-lookup"><span data-stu-id="83589-155">If a configuration property is set in a custom pipeline component in a send pipeline, then the following rule is applied:</span></span>  
  
- <span data-ttu-id="83589-156">メッセージを送信する送信ポートが静的か動的かにかかわらず、プロパティ値は上書きされません。</span><span class="sxs-lookup"><span data-stu-id="83589-156">The value will not be overwritten regardless of whether the message is sent to a static or dynamic send port.</span></span> <span data-ttu-id="83589-157">つまり、送信パイプライン コンポーネントは、設定されているかどうかにかかわらず、構成プロパティを上書きします。</span><span class="sxs-lookup"><span data-stu-id="83589-157">In other words, send pipeline components overwrite the configuration property no matter where it was set.</span></span>  
  
- <span data-ttu-id="83589-158">カスタム パイプライン コンポーネントの詳細については、[カスタム パイプライン コンポーネントの開発](../core/developing-custom-pipeline-components.md)を参照してください。</span><span class="sxs-lookup"><span data-stu-id="83589-158">For more information about custom pipeline components, see [Developing Custom Pipeline Components](../core/developing-custom-pipeline-components.md).</span></span>  
  
- <span data-ttu-id="83589-159">SOAP 送信アダプタの構成プロパティの詳細については、[消費する Web サービスの URI を動的に設定する方法](../core/how-to-dynamically-set-the-uri-of-a-consumed-web-service.md)を参照してください。</span><span class="sxs-lookup"><span data-stu-id="83589-159">For more information about the configuration properties of the SOAP send adapter, see [How to Dynamically Set the URI of a Consumed Web Service](../core/how-to-dynamically-set-the-uri-of-a-consumed-web-service.md).</span></span>  
  
## <a name="adding-a-web-reference-to-a-consumed-web-service-that-contains-a-multi-rooted-schema-will-cause-a-compilation-error"></a><span data-ttu-id="83589-160">使用する Web サービスに複数ルートのスキーマが含まれており、その Web サービスへの Web 参照を追加すると、コンパイル エラーが発生する</span><span class="sxs-lookup"><span data-stu-id="83589-160">Adding a Web reference to a consumed Web service that contains a multi-rooted schema will cause a compilation error</span></span>  
 <span data-ttu-id="83589-161">公開済みの BizTalk オーケストレーションから派生した Web サービスの Web 参照をプロジェクトに追加し、そのオーケストレーションに複数ルートのスキーマが含まれる場合は、プロジェクトのコンパイル時にエラーが発生します。</span><span class="sxs-lookup"><span data-stu-id="83589-161">If you add a Web reference to your project for a Web service that was derived from a published BizTalk orchestration and the orchestration contains a schema with multiple roots then an error will occur when the project is compiled.</span></span> <span data-ttu-id="83589-162">公開済みの BizTalk オーケストレーションから派生した Web 参照をプロジェクトに追加する場合は、オーケストレーションに複数ルートのスキーマが含まれていないことを確認してください。</span><span class="sxs-lookup"><span data-stu-id="83589-162">If you add a Web reference to your project that was derived from a published BizTalk orchestration, ensure that the orchestration does not contain any multi-rooted schemas.</span></span>  
  
## <a name="using-typeddatasets-as-parameters-to-web-methods"></a><span data-ttu-id="83589-163">Web メソッドのパラメータとしての TypedDataSets の使用</span><span class="sxs-lookup"><span data-stu-id="83589-163">Using TypedDataSets as parameters to Web methods</span></span>  
 <span data-ttu-id="83589-164">Web メソッドのパラメータとして TypedDataSets を使用するには、次の手順を実行します。</span><span class="sxs-lookup"><span data-stu-id="83589-164">The following is what you need to do to support using TypedDataSets as parameters to Web methods:</span></span>  
  
1. <span data-ttu-id="83589-165">Web 参照を C# プロジェクトに追加し、プロキシを生成します。</span><span class="sxs-lookup"><span data-stu-id="83589-165">Add the Web reference to a C# project and then generate the proxy.</span></span>  
  
2. <span data-ttu-id="83589-166">SOAP 送信ポートを作成し、送信ポートにプロキシを指定して、メソッドを選択します。</span><span class="sxs-lookup"><span data-stu-id="83589-166">Create a SOAP send port and specify the proxy on the send port and choose the method.</span></span>  
  
3. <span data-ttu-id="83589-167">オーケストレーションで、遅延バインディング ポートとメッセージの種類を定義します。</span><span class="sxs-lookup"><span data-stu-id="83589-167">In the orchestration, define a late bound port and define the message types.</span></span> <span data-ttu-id="83589-168">ほとんどの場合は、プロパティの昇格や識別フィールドへのアクセスは必要ありません、として、型を定義できます**XMLDocument**します。</span><span class="sxs-lookup"><span data-stu-id="83589-168">For most cases where no property promotion or distinguished field access is needed, the type can be defined as **XMLDocument**.</span></span> <span data-ttu-id="83589-169">この種類に対応したパススルー パイプラインを選択してください。</span><span class="sxs-lookup"><span data-stu-id="83589-169">Select PassThrough pipelines with this type.</span></span>  
  
4. <span data-ttu-id="83589-170">BizTalk Server 管理コンソールで、 **Web サービス** タブで、 **SOAP トランスポートのプロパティ**SOAP のダイアログ ボックスで送信ポート、その作成したプロキシを使用することを指定します。</span><span class="sxs-lookup"><span data-stu-id="83589-170">In BizTalk Server Administration console, in the **Web Service** tab in the **SOAP Transport Properties** dialog box of the SOAP send port, specify that you want to use that proxy that you created.</span></span> <span data-ttu-id="83589-171">アセンブリ、型、メソッドも指定する必要があります。</span><span class="sxs-lookup"><span data-stu-id="83589-171">You will also need to specify assembly, type, and method.</span></span> <span data-ttu-id="83589-172">詳細については、、 **SOAP トランスポートのプロパティ ダイアログ ボックス、Web サービス**タブ[!INCLUDE[ui-guidance-developers-reference](../includes/ui-guidance-developers-reference.md)]を参照してください。</span><span class="sxs-lookup"><span data-stu-id="83589-172">For more information, see the **SOAP Transport Properties Dialog Box, Web service** tab [!INCLUDE[ui-guidance-developers-reference](../includes/ui-guidance-developers-reference.md)].</span></span>
  
## <a name="adding-a-web-reference-to-a-consumed-web-service-that-contains-a-web-method-expecting-generic-based-parameters-will-cause-a-compilation-error"></a><span data-ttu-id="83589-173">使用する Web サービスにジェネリック パラメータを想定した Web メソッドが含まれており、その Web サービスへの Web 参照を追加すると、コンパイル エラーが発生する</span><span class="sxs-lookup"><span data-stu-id="83589-173">Adding a Web reference to a consumed Web service that contains a Web method expecting generic based parameters will cause a compilation error</span></span>  
 <span data-ttu-id="83589-174">NULL 許容パラメータなどのジェネリック パラメータを想定した Web メソッドを含む Web サービスの Web 参照をプロジェクトに追加すると、プロジェクトのコンパイル時にエラーが発生します。</span><span class="sxs-lookup"><span data-stu-id="83589-174">If you add a Web reference to your project for a Web service that contains a Web method expecting generic based parameters such as nullable parameters, an error will occur when the project is compiled.</span></span> <span data-ttu-id="83589-175">これはサポートされていません。</span><span class="sxs-lookup"><span data-stu-id="83589-175">This is not supported.</span></span> <span data-ttu-id="83589-176">ジェネリック クラスは XLANG/s から明示的な特殊化によって呼び出す必要があります。</span><span class="sxs-lookup"><span data-stu-id="83589-176">You must use explicit specialization to call the generic class from XLANG/s.</span></span>  
  
## <a name="biztalk-schema-generation-using-the-add-service-reference"></a><span data-ttu-id="83589-177">[サービス参照の追加] を使用した BizTalk スキーマの生成</span><span class="sxs-lookup"><span data-stu-id="83589-177">BizTalk Schema Generation using the Add Service Reference</span></span>  
 <span data-ttu-id="83589-178">使用すると、**サービス参照の追加**を BizTalk プロジェクトにサービス参照を追加するには、BizTalk Server はスキーマに対して各 Web メソッドを呼び出すために必要なスキーマ型に変換します。</span><span class="sxs-lookup"><span data-stu-id="83589-178">When you use the **Add Service Reference** to add service references to BizTalk projects, BizTalk Server converts the schema types that are required to call each Web method to schemas.</span></span> <span data-ttu-id="83589-179">変換後のスキーマは Reference.xsd に追加されます。</span><span class="sxs-lookup"><span data-stu-id="83589-179">BizTalk Server adds these schemas to Reference.xsd.</span></span> <span data-ttu-id="83589-180">いることを確認する、**サービス参照の追加**BizTalk スキーマを生成します。 正しく、Web サービスは、次のガイドラインに従う必要があります。</span><span class="sxs-lookup"><span data-stu-id="83589-180">To ensure that the **Add Service Reference** generates the BizTalk schemas correctly, the Web services must conform to the following guidelines:</span></span>  
  
-   <span data-ttu-id="83589-181">Web メソッド**SoapDocumentMethodAttribute**の代わりに**SoapRpcMethodAttribute**します。</span><span class="sxs-lookup"><span data-stu-id="83589-181">Web methods should have **SoapDocumentMethodAttribute** instead of **SoapRpcMethodAttribute**.</span></span>  
  
-   <span data-ttu-id="83589-182">Web サービスおよびメソッドを使用する必要があります、**リテラル**の代わりにバインド**Encoded**など **[SoapDocumentMethod(Use=SoapBindingUse.Literal)]** します。</span><span class="sxs-lookup"><span data-stu-id="83589-182">Web services and methods must use the **Literal** binding instead of **Encoded** such as **[SoapDocumentMethod(Use=SoapBindingUse.Literal)]**.</span></span>  
  
-   <span data-ttu-id="83589-183">Web メソッドのパラメーターと戻り値の型**XmlRootAttribute**有効な**Namespace**プロパティ ネイティブ XSD 型、および XmlNode 型でない限り、します。</span><span class="sxs-lookup"><span data-stu-id="83589-183">Web method parameters and return types must have **XmlRootAttribute** with a valid **Namespace** property unless they are native XSD types and the XmlNode type.</span></span>  
  
-   <span data-ttu-id="83589-184">Web メソッドが使用する必要があります、 **RequestNamespace**と**ResponseNamespace**プロパティ**SoapDocumentMethodAttribute**します。</span><span class="sxs-lookup"><span data-stu-id="83589-184">Web methods must not use the **RequestNamespace** and **ResponseNamespace** properties in **SoapDocumentMethodAttribute**.</span></span>  
  
-   <span data-ttu-id="83589-185">Web サービスは、Web Services Interoperability (WSI) Basic Profile バージョン 1.1 に準拠する。</span><span class="sxs-lookup"><span data-stu-id="83589-185">Web services must be compliant with the Web services interoperability (WSI) Basic Profile version 1.1.</span></span>  
  
## <a name="xsd-will-not-contain-nodes-for-simple-parameter-types"></a><span data-ttu-id="83589-186">XSD に単純なパラメーターの型のノードが含まれない</span><span class="sxs-lookup"><span data-stu-id="83589-186">XSD will not contain nodes for simple parameter types</span></span>  
 <span data-ttu-id="83589-187">Web 参照を追加するときに、Web メソッドに単純な型のパラメーターが含まれている場合、生成される XSD にはそのパラメーターのノードは含まれません。</span><span class="sxs-lookup"><span data-stu-id="83589-187">When you add a Web reference and the Web method has a parameter that is a simple type, the generated XSD will not contain nodes for that parameter.</span></span> <span data-ttu-id="83589-188">代わりに、生成されるマルチパート メッセージに単純な型の部分が含まれます。</span><span class="sxs-lookup"><span data-stu-id="83589-188">Instead, the multipart message that is generated will contain a part that is of the simple type.</span></span> <span data-ttu-id="83589-189">このメッセージ部分は、オーケストレーションで適切に処理する必要があります。</span><span class="sxs-lookup"><span data-stu-id="83589-189">The orchestration should handle this message part appropriately.</span></span> <span data-ttu-id="83589-190">Web サービスへの要求の部分である場合は、メッセージの割り当て図形により、その部分に手動で値を割り当てます。</span><span class="sxs-lookup"><span data-stu-id="83589-190">If it is a part of the request to the Web service, manually assign the value to that part with a message assignment shape.</span></span> <span data-ttu-id="83589-191">Web サービスからの応答の部分である場合は、図形式でその部分に手動でアクセスして、値を確認します。</span><span class="sxs-lookup"><span data-stu-id="83589-191">If it is a part of the response from the Web service, manually access that part in an expression shape to see the value.</span></span>  
  
## <a name="the-add-service-reference-do-not-support-the-web-services-description-language-wsdl-import-element"></a><span data-ttu-id="83589-192">[サービス参照の追加] で Web Services Description Language (WSDL) インポート要素がサポートされない</span><span class="sxs-lookup"><span data-stu-id="83589-192">The Add Service Reference do not support the Web Services Description Language (WSDL) import element</span></span>  
 <span data-ttu-id="83589-193">インポート要素を使用して WSDL ファイルのサービス参照を追加すると、[サービス参照の追加] は失敗します。</span><span class="sxs-lookup"><span data-stu-id="83589-193">The Add Service Reference fails when you add service references for the WSDL file with the import element.</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="83589-194">参照</span><span class="sxs-lookup"><span data-stu-id="83589-194">See Also</span></span>  
 [<span data-ttu-id="83589-195">Web メッセージの構築</span><span class="sxs-lookup"><span data-stu-id="83589-195">Constructing Web Messages</span></span>](../core/constructing-web-messages.md)