---
title: "送信 MDN を送信する |Microsoft ドキュメント"
ms.custom: 
ms.date: 06/08/2017
ms.prod: biztalk-server
ms.reviewer: 
ms.suite: 
ms.tgt_pltfrm: 
ms.topic: article
ms.assetid: 2dce7620-d354-4b76-bcbc-f97dc93c3fc3
caps.latest.revision: "12"
author: MandiOhlinger
ms.author: mandia
manager: anneta
ms.openlocfilehash: d947751e06e0dc9892ab63e109b417047ad91b59
ms.sourcegitcommit: cb908c540d8f1a692d01dc8f313e16cb4b4e696d
ms.translationtype: MT
ms.contentlocale: ja-JP
ms.lasthandoff: 09/20/2017
---
# <a name="sending-an-outgoing-mdn"></a><span data-ttu-id="875d0-102">送信 MDN の送信</span><span class="sxs-lookup"><span data-stu-id="875d0-102">Sending an Outgoing MDN</span></span>
<span data-ttu-id="875d0-103">送信 MDN は、AS2EDIReceive または AS2Receive 受信パイプラインにより生成され、AS2Send パイプラインにより送信されます。</span><span class="sxs-lookup"><span data-stu-id="875d0-103">An outgoing MDN is generated by the AS2EDIReceive or AS2Receive receive pipeline, and sent by the AS2Send pipeline.</span></span> <span data-ttu-id="875d0-104">このトピックでは、MDN の送信方法について説明します。</span><span class="sxs-lookup"><span data-stu-id="875d0-104">This topic describes how an MDN is sent.</span></span> <span data-ttu-id="875d0-105">MDN を生成する方法の詳細については、次を参照してください。[送信 MDN の生成](../core/generating-an-outgoing-mdn.md)です。</span><span class="sxs-lookup"><span data-stu-id="875d0-105">For more information on how an MDN is generated, see [Generating an Outgoing MDN](../core/generating-an-outgoing-mdn.md).</span></span>  
  
> [!NOTE]
>  <span data-ttu-id="875d0-106">AS2EDISend 送信パイプラインは、送信 MDN の送信には使用されません。これは、このパイプラインの EDI アセンブラーが、MDN の処理では使用されないためです。</span><span class="sxs-lookup"><span data-stu-id="875d0-106">The AS2EDISend send pipeline is not used to send an outgoing MDN, because the EDI assembler in that pipeline is not used in processing an MDN.</span></span>  
  
## <a name="agreement-resolution-for-an-mdn"></a><span data-ttu-id="875d0-107">MDN のアグリーメントの解決</span><span class="sxs-lookup"><span data-stu-id="875d0-107">Agreement Resolution for an MDN</span></span>  
 <span data-ttu-id="875d0-108">MDN はセルフ ルーティングです。</span><span class="sxs-lookup"><span data-stu-id="875d0-108">An MDN is self-routing.</span></span> <span data-ttu-id="875d0-109">MDN には、目的のアグリーメントまでルーティングされるのに必要な情報が含まれます。</span><span class="sxs-lookup"><span data-stu-id="875d0-109">It contains the information that it needs to be routed to the intended agreement.</span></span> <span data-ttu-id="875d0-110">送信パイプラインは、AS2 アグリーメント プロパティを使用して送信 MDN を処理します。</span><span class="sxs-lookup"><span data-stu-id="875d0-110">The send pipeline uses the AS2 agreement properties to process the outgoing MDN.</span></span> <span data-ttu-id="875d0-111">ただし、MDN では、パーティにルーティングされるためにアグリーメントを解決する必要がありません。</span><span class="sxs-lookup"><span data-stu-id="875d0-111">However, the MDN does not have to have an agreement resolved for it to be routed to the party.</span></span>  
  
 <span data-ttu-id="875d0-112">AS2Send パイプラインは、送信 MDN を処理するとき、メッセージ コンテキストの AS2-To 値を使用してアグリーメント プロパティを取得し MDN を処理します。</span><span class="sxs-lookup"><span data-stu-id="875d0-112">When the AS2Send pipeline processes an outgoing MDN, it uses the AS2-To value in the message context to obtain the agreement properties to process the MDN.</span></span> <span data-ttu-id="875d0-113">これは、AS2 の一致によって-、AS2 でのコンテキスト プロパティに-でアグリーメントのプロパティに、**識別子** ページでは、一方向の AS2 アグリーメント タブで、**アグリーメントのプロパティ** ダイアログ ボックス。</span><span class="sxs-lookup"><span data-stu-id="875d0-113">It does so by matching the AS2-To context property with the AS2-To agreement property in the **Identifiers** page in the one-way AS2 agreement tab in the **Agreement Properties** dialog box.</span></span> <span data-ttu-id="875d0-114">AS2-To 値がアグリーメントに対して設定されていない場合、MDN のこのアグリーメントの解決は失敗する場合があります。</span><span class="sxs-lookup"><span data-stu-id="875d0-114">This agreement resolution for the MDN can fail if the AS2-To value is not set for the agreement.</span></span> <span data-ttu-id="875d0-115">アグリーメントを特定できない場合は、MDN を生成するために既定のアグリーメントが使用されます。</span><span class="sxs-lookup"><span data-stu-id="875d0-115">If the agreement cannot be determined, a default agreement is used to generate the MDN.</span></span>  
  
 <span data-ttu-id="875d0-116">送出 MDN の既定のアグリーメントでは、証明書解決の一覧の検証が実行されます。</span><span class="sxs-lookup"><span data-stu-id="875d0-116">In the default agreement for an outgoing MDN, the certificate resolution list verification is performed.</span></span> <span data-ttu-id="875d0-117">この検証を実行する必要がない場合は、受信側パーティを解決できるようにするため、およびアグリーメントのプロパティを特定できるようにするために、正しい AS2-To アグリーメント プロパティが設定されていることを確認します。</span><span class="sxs-lookup"><span data-stu-id="875d0-117">If you do not want this verification to be performed, verify that the correct AS2-To agreement property is set, so the receiving party can be resolved and the agreement properties can be determined.</span></span> <span data-ttu-id="875d0-118">これにより、証明書解決の一覧の検証を要求する既定のアグリーメントが使用されなくなります。</span><span class="sxs-lookup"><span data-stu-id="875d0-118">If so, the default agreement that prompts verification of the certificate resolution list will not be used.</span></span> <span data-ttu-id="875d0-119">無効にする必要があります、**証明書失効リストのチェック**プロパティを**検証**一方向の AS2 アグリーメント タブのページ、**アグリーメントのプロパティ**ダイアログ ボックス。</span><span class="sxs-lookup"><span data-stu-id="875d0-119">You will also need to disable the **Check Certification Revocation List** property on the **Validation** page of the one-way AS2 agreement tab in the **Agreement Properties** dialog box.</span></span>  
  
## <a name="synchronous-and-asynchronous-transmission"></a><span data-ttu-id="875d0-120">同期送信と非同期送信</span><span class="sxs-lookup"><span data-stu-id="875d0-120">Synchronous and Asynchronous Transmission</span></span>  
 <span data-ttu-id="875d0-121">既定の AS2 処理では、MDN は同期送信されます。</span><span class="sxs-lookup"><span data-stu-id="875d0-121">In default AS2 processing, an MDN is sent synchronously.</span></span> <span data-ttu-id="875d0-122">MDN が送信される双方向に関連付けられているポートの受信ポートで送信します。</span><span class="sxs-lookup"><span data-stu-id="875d0-122">The MDN is sent by the send port associated with a two-way receive port.</span></span> [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)]<span data-ttu-id="875d0-123">HTTP POST に対する HTTP 応答として、または同じ TCP/IP 接続で HTTPS POST に対する HTTPS 応答として MDN を送信します。</span><span class="sxs-lookup"><span data-stu-id="875d0-123"> sends the MDN as an HTTP response to an HTTP POST or as an HTTPS response to an HTTPS POST, on the same TCP/IP connection.</span></span> <span data-ttu-id="875d0-124">MDN は、HTTP 応答コマンドのメッセージのボディ部に組み込まれます。</span><span class="sxs-lookup"><span data-stu-id="875d0-124">The MDN is included in the message body of the HTTP Response command.</span></span>  
  
 <span data-ttu-id="875d0-125">MDN を非同期に送信する場合、メッセージ ボックスから MDN を取得する個別の送信ポートから MDN を送信する必要があります。</span><span class="sxs-lookup"><span data-stu-id="875d0-125">If the MDN is being sent asynchronously, the MDN must be sent by a separate send port, which picks the MDN up from the MessageBox.</span></span> [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)]<span data-ttu-id="875d0-126">個別の元の AS2 メッセージを配信するために使用される一意な TCP/IP 接続で配信される HTTP Post として MDN を送信します。</span><span class="sxs-lookup"><span data-stu-id="875d0-126"> sends the MDN as a separate HTTP Post delivered on a unique TCP/IP connection, distinct from that used to deliver the original AS2 message.</span></span> <span data-ttu-id="875d0-127">MDN が個別の HTTP Post として設定されていても、Post では HTTP 応答コマンドが必要です。</span><span class="sxs-lookup"><span data-stu-id="875d0-127">Even though the MDN is set as a separate HTTP Post, an HTTP Response command is still required for the Post.</span></span>  
  
 <span data-ttu-id="875d0-128">非同期 MDN は、通常、元の AS2 メッセージの Receipt-Delivery-Option ヘッダーの URL に送信されます。</span><span class="sxs-lookup"><span data-stu-id="875d0-128">An asynchronous MDN will normally be sent to the URL in the Receipt-Delivery-Option header of the original AS2 message.</span></span> <span data-ttu-id="875d0-129">ただし場合、**検証および MDN に対してメッセージ ヘッダーの代わりにアグリーメントの設定を使用して**プロパティが設定されて、上、**検証**一方向の AS2 アグリーメント タブのページ、**アグリーメントプロパティ**、MDN は送信 URL にダイアログ ボックスを**- Receipt-delivery-option (URL)**アグリーメント プロパティに設定します。</span><span class="sxs-lookup"><span data-stu-id="875d0-129">However, if the **Use agreement settings for validation and MDN instead of message header** property is set on the on the **Validation** page of the one-way AS2 agreement tab in the **Agreement Properties** dialog box, the MDN will be sent to the URL that the **Receipt-Delivery-Option (URL)** agreement property is set to.</span></span>  
  
## <a name="how-the-send-pipeline-processes-an-outgoing-mdn"></a><span data-ttu-id="875d0-130">送信パイプラインによる送信 MDN の処理方法</span><span class="sxs-lookup"><span data-stu-id="875d0-130">How the Send Pipeline Processes an Outgoing MDN</span></span>  
 <span data-ttu-id="875d0-131">AS2Send パイプラインは、送信 MDN を次のように処理します。</span><span class="sxs-lookup"><span data-stu-id="875d0-131">The AS2Send pipeline processes an outgoing MDN are as follows:</span></span>  
  
-   <span data-ttu-id="875d0-132">デジタル署名の適用を含む MIME 処理を実行します (AS2 の一方向のアグリーメント プロパティで有効になっている場合)。</span><span class="sxs-lookup"><span data-stu-id="875d0-132">Performs MIME processing, including applying a digital signature, if enabled in the AS2 one-way agreement properties.</span></span>  
  
-   <span data-ttu-id="875d0-133">否認不可データベース (BizTalkDTADb データベースの EdiMessageContent テーブル) に関連付けのエントリを作成します。</span><span class="sxs-lookup"><span data-stu-id="875d0-133">Makes correlation entries in the non-repudiation database (the EdiMessageContent table of the BizTalkDTADb database).</span></span>  
  
-   <span data-ttu-id="875d0-134">MDN のコピー (ワイヤ形式) を作成しで有効になっている場合は、否認不可データベースに格納、**送信 MDN の NRR の有効化**アグリーメントのプロパティです。</span><span class="sxs-lookup"><span data-stu-id="875d0-134">Makes a copy of the MDN (in wire format) and stores it in the non-repudiation database, if enabled in the **NRR enabled for outbound MDN** agreement property.</span></span>  
  
-   <span data-ttu-id="875d0-135">MDN を HTTP アダプターに配信します。</span><span class="sxs-lookup"><span data-stu-id="875d0-135">Delivers the MDN to the HTTP adapter.</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="875d0-136">参照</span><span class="sxs-lookup"><span data-stu-id="875d0-136">See Also</span></span>  
 <span data-ttu-id="875d0-137">[BizTalk Server が AS2 メッセージを送信する方法](../core/how-biztalk-server-sends-as2-messages.md) </span><span class="sxs-lookup"><span data-stu-id="875d0-137">[How BizTalk Server Sends AS2 Messages](../core/how-biztalk-server-sends-as2-messages.md) </span></span>  
 [<span data-ttu-id="875d0-138">AS2 送信コンポーネント</span><span class="sxs-lookup"><span data-stu-id="875d0-138">AS2 Send Components</span></span>](../core/as2-send-components.md)