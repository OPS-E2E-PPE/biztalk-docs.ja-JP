---
title: "AS2 の証明書の構成 |Microsoft ドキュメント"
ms.custom: 
ms.date: 06/08/2017
ms.prod: biztalk-server
ms.reviewer: 
ms.suite: 
ms.tgt_pltfrm: 
ms.topic: article
ms.assetid: c160f294-7529-4e0a-876c-5827feaed067
caps.latest.revision: "20"
author: MandiOhlinger
ms.author: mandia
manager: anneta
ms.openlocfilehash: cb2f9c22ddf41eec4133710de8a775bf8ff0b044
ms.sourcegitcommit: cb908c540d8f1a692d01dc8f313e16cb4b4e696d
ms.translationtype: MT
ms.contentlocale: ja-JP
ms.lasthandoff: 09/20/2017
---
# <a name="configuring-certificates-for-as2"></a><span data-ttu-id="fa87d-102">AS2 の証明書の構成</span><span class="sxs-lookup"><span data-stu-id="fa87d-102">Configuring Certificates for AS2</span></span>
<span data-ttu-id="fa87d-103">暗号化とデジタル署名を使用して安全な AS2 データ送信を行うには、[!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] で AS2 を適切に構成するだけではなく、適切な証明書をインストールする必要があります。</span><span class="sxs-lookup"><span data-stu-id="fa87d-103">To help secure AS2 data transfer using encryption and digital signatures, you must have the appropriate certificates installed, in addition to the appropriate AS2 configuration on [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)].</span></span> <span data-ttu-id="fa87d-104">このトピックでは、必要な証明書、証明書の設定方法、および証明書に関する一般的な問題について説明します。</span><span class="sxs-lookup"><span data-stu-id="fa87d-104">This topic describes the certificates required, how to configure them, and common issues with them.</span></span>  
  
## <a name="prerequisites"></a><span data-ttu-id="fa87d-105">前提条件</span><span class="sxs-lookup"><span data-stu-id="fa87d-105">Prerequisites</span></span>  
 <span data-ttu-id="fa87d-106">[!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] 管理者グループのメンバーとしてログオンしている必要があります。</span><span class="sxs-lookup"><span data-stu-id="fa87d-106">You must be logged on as a member of the [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] Administrators group.</span></span>  
  
## <a name="certificates-required-for-as2-transport"></a><span data-ttu-id="fa87d-107">AS2 トランスポートに必要な証明書</span><span class="sxs-lookup"><span data-stu-id="fa87d-107">Certificates Required for AS2 Transport</span></span>  
 <span data-ttu-id="fa87d-108">安全な AS2 データ送信を行うには、適切な証明書を適切な証明書ストアに追加して、証明書を適切な BizTalk アイテムに関連付ける必要があります。</span><span class="sxs-lookup"><span data-stu-id="fa87d-108">To help secure AS2 data transfer, you must add the appropriate certificate to the appropriate certificate store, and associate the certificates with the appropriate BizTalk artifacts.</span></span> <span data-ttu-id="fa87d-109">AS2 メッセージを保護するために、以下の証明書が使用されます。</span><span class="sxs-lookup"><span data-stu-id="fa87d-109">The following certificates are used to help secure AS2 messages:</span></span>  
  
|<span data-ttu-id="fa87d-110">証明書の使用</span><span class="sxs-lookup"><span data-stu-id="fa87d-110">Certificate Usage</span></span>|<span data-ttu-id="fa87d-111">証明書の種類</span><span class="sxs-lookup"><span data-stu-id="fa87d-111">Certificate Type</span></span>|<span data-ttu-id="fa87d-112">パイプライン コンポーネント</span><span class="sxs-lookup"><span data-stu-id="fa87d-112">Pipeline Component</span></span>|<span data-ttu-id="fa87d-113">ユーザー コンテキスト</span><span class="sxs-lookup"><span data-stu-id="fa87d-113">User Context</span></span>|<span data-ttu-id="fa87d-114">証明書ストア</span><span class="sxs-lookup"><span data-stu-id="fa87d-114">Certificate Store</span></span>|<span data-ttu-id="fa87d-115">定義されている場所</span><span class="sxs-lookup"><span data-stu-id="fa87d-115">Where Defined</span></span>|  
|-----------------------|----------------------|------------------------|------------------|-----------------------|-------------------|  
|<span data-ttu-id="fa87d-116">署名 (送信)</span><span class="sxs-lookup"><span data-stu-id="fa87d-116">Signature (outbound)</span></span>|<span data-ttu-id="fa87d-117">固有の秘密キー (.pfx)</span><span class="sxs-lookup"><span data-stu-id="fa87d-117">Own private key (.pfx)</span></span>|<span data-ttu-id="fa87d-118">AS2 エンコーダー</span><span class="sxs-lookup"><span data-stu-id="fa87d-118">AS2 encoder</span></span>|<span data-ttu-id="fa87d-119">送信ハンドラに関連付けられているホスト インスタンスが使用するアカウント</span><span class="sxs-lookup"><span data-stu-id="fa87d-119">Account used by the host instance associated with the send handler.</span></span>|<span data-ttu-id="fa87d-120">各ホスト インスタンス サービス アカウントとして AS2 エンコーダー パイプラインをホストする各 [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] の "現在のユーザー\個人用" ストア</span><span class="sxs-lookup"><span data-stu-id="fa87d-120">Current User\Personal store of each [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] that hosts an AS2 encoder pipeline as each host instance service account</span></span>|<span data-ttu-id="fa87d-121">-   **証明書**のページ、**グループのプロパティ** ダイアログ ボックス。</span><span class="sxs-lookup"><span data-stu-id="fa87d-121">-   **Certificate** page of the **Group Properties** dialog box.</span></span> <span data-ttu-id="fa87d-122">これは、署名されたドキュメントの送信時に使用される既定の署名証明書です。</span><span class="sxs-lookup"><span data-stu-id="fa87d-122">This is the default signing certificate used when sending signed documents.</span></span><br /><span data-ttu-id="fa87d-123">-既定の証明書設定をオーバーライドして代わりに別の証明書を別のパーティを使用できます。</span><span class="sxs-lookup"><span data-stu-id="fa87d-123">-   You can override the default certificate setting and instead use different certificates for different parties.</span></span> <span data-ttu-id="fa87d-124">これを行う を選択して**グループ署名証明書を上書き**で、**署名証明書**の一方向アグリーメント タブのページ、**アグリーメントのプロパティ**ダイアログボックス、および署名証明書を指定します。</span><span class="sxs-lookup"><span data-stu-id="fa87d-124">You can do so by selecting **Override Group Signature Certificate** in the **Signature Certificate** page of the one-way agreement tab of the **Agreement Properties** dialog box, and specify a signing certificate.</span></span> <span data-ttu-id="fa87d-125">このプロパティが設定されている場合、アグリーメントに解決される AS2 メッセージは署名で指定された証明書を使用して、**署名証明書**ページし、証明書ではなく、BizTalk グループのプロパティの一部として提供します。</span><span class="sxs-lookup"><span data-stu-id="fa87d-125">If this property is set, whichever AS2 message resolves to the agreement will be signed using the certificate provided in the **Signature Certificate** page and not by the certificate provided as part of the BizTalk Group properties.</span></span>|  
|<span data-ttu-id="fa87d-126">署名の検証 (受信)</span><span class="sxs-lookup"><span data-stu-id="fa87d-126">Signature verification (inbound)</span></span>|<span data-ttu-id="fa87d-127">取引先の公開キー (.cer)</span><span class="sxs-lookup"><span data-stu-id="fa87d-127">Trading partner's public key (.cer)</span></span>|<span data-ttu-id="fa87d-128">AS2 デコーダー</span><span class="sxs-lookup"><span data-stu-id="fa87d-128">AS2 decoder</span></span>|<span data-ttu-id="fa87d-129">受信ハンドラに関連付けられているホスト インスタンスが使用するアカウント</span><span class="sxs-lookup"><span data-stu-id="fa87d-129">Account used by the host instance associated with the receive handler.</span></span>|<span data-ttu-id="fa87d-130">各ホスト インスタンス サービス アカウントとして AS2 デコーダー パイプラインをホストする各 [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] の "ローカル コンピューター\その他のユーザー" ストア</span><span class="sxs-lookup"><span data-stu-id="fa87d-130">Local computer\Other People store of each [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] that hosts an AS2 decoder pipeline as each host instance service account</span></span>|<span data-ttu-id="fa87d-131">**証明書**のページ、**パーティ プロパティ** ダイアログ ボックス**注:**パーティを署名を確認するために使用する証明書から一意にする必要があります、署名の検証に使用する証明書他のパーティです。</span><span class="sxs-lookup"><span data-stu-id="fa87d-131">**Certificate** page of the **Party Properties** dialog box **Note:**  The certificate used to verify a signature for a party must be unique from the certificates used to verify signatures for other parties.</span></span>|  
|<span data-ttu-id="fa87d-132">暗号化 (送信)</span><span class="sxs-lookup"><span data-stu-id="fa87d-132">Encryption (outbound)</span></span>|<span data-ttu-id="fa87d-133">取引先の公開キー (.cer)</span><span class="sxs-lookup"><span data-stu-id="fa87d-133">Trading partner's public key (.cer)</span></span>|<span data-ttu-id="fa87d-134">AS2 エンコーダー</span><span class="sxs-lookup"><span data-stu-id="fa87d-134">AS2 encoder</span></span>|<span data-ttu-id="fa87d-135">送信ハンドラに関連付けられているホスト インスタンスが使用するアカウント</span><span class="sxs-lookup"><span data-stu-id="fa87d-135">Account used by the host instance associated with the send handler.</span></span>|<span data-ttu-id="fa87d-136">AS2 エンコーダー パイプラインをホストする各 [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] の "ローカル コンピューター\その他のユーザー" ストア</span><span class="sxs-lookup"><span data-stu-id="fa87d-136">Local computer\Other People store of each [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] that hosts an AS2 encoder pipeline</span></span>|<span data-ttu-id="fa87d-137">**証明書**のページ、**送信ポートのプロパティ** ダイアログ ボックス</span><span class="sxs-lookup"><span data-stu-id="fa87d-137">**Certificate** page of the **Send Port Properties** dialog box</span></span>|  
|<span data-ttu-id="fa87d-138">解読 (受信)</span><span class="sxs-lookup"><span data-stu-id="fa87d-138">Decryption (inbound)</span></span>|<span data-ttu-id="fa87d-139">固有の秘密キー (.pfx)</span><span class="sxs-lookup"><span data-stu-id="fa87d-139">Own private key (.pfx)</span></span>|<span data-ttu-id="fa87d-140">AS2 デコーダー</span><span class="sxs-lookup"><span data-stu-id="fa87d-140">AS2 decoder</span></span>|<span data-ttu-id="fa87d-141">受信ハンドラに関連付けられているホスト インスタンスが使用するアカウント</span><span class="sxs-lookup"><span data-stu-id="fa87d-141">Account used by the host instance associated with the receive handler.</span></span>|<span data-ttu-id="fa87d-142">各ホスト インスタンス サービス アカウントとして AS2 デコーダー パイプラインをホストする各 [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] の "現在のユーザー\個人用" ストア</span><span class="sxs-lookup"><span data-stu-id="fa87d-142">Current User\Personal store of each [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] that hosts an AS2 decoder pipeline as each host instance service account</span></span>|<span data-ttu-id="fa87d-143">メッセージに含まれている証明書情報に基づいて、AS2 デコーダが証明書を決定します。</span><span class="sxs-lookup"><span data-stu-id="fa87d-143">The AS2 Decoder will determine the certificate based upon certificate information in the message.</span></span><br /><br /> <span data-ttu-id="fa87d-144">BizTalk MIME デコーダの場合、証明書が必要になります、**証明書**メッセージを受信するために使用するホストのページです。</span><span class="sxs-lookup"><span data-stu-id="fa87d-144">For the BizTalk MIME Decoder, the certificate must be in the **Certificate** page of the host used for receiving the message.</span></span> <span data-ttu-id="fa87d-145">AS2 デコーダの場合は必要ありません。</span><span class="sxs-lookup"><span data-stu-id="fa87d-145">This is not necessary for the AS2 Decoder.</span></span>|  
  
## <a name="certificate-signing-for-outgoing-messages"></a><span data-ttu-id="fa87d-146">送信メッセージの証明書への署名</span><span class="sxs-lookup"><span data-stu-id="fa87d-146">Certificate Signing for Outgoing Messages</span></span>  
 <span data-ttu-id="fa87d-147">送信 AS2 メッセージへの署名には、BizTalk グループのプロパティに定義された既定の証明書が使用されます。</span><span class="sxs-lookup"><span data-stu-id="fa87d-147">Outgoing AS2 messages are signed using a default certificate defined as part of the BizTalk Group properties.</span></span> <span data-ttu-id="fa87d-148">ただし、メッセージを受信するパーティの求めに応じて、そのパーティから提供されるプライベート証明書を使用して署名したり、そのパーティへの送信メッセージの署名時には別の証明書を使用する必要がある場合もあります。</span><span class="sxs-lookup"><span data-stu-id="fa87d-148">However, there could be scenarios where the party receiving the messages wants the messages to be signed with a private certificate that they provide or expect a different certificate to be used when signing outgoing messages for them.</span></span> <span data-ttu-id="fa87d-149">選択した場合、このシナリオの他の証明書を使用して送信メッセージの署名が有効になっている、**グループ署名証明書を上書き**で、**署名証明書**一方向アグリーメント タブのページ**アグリーメントのプロパティ** ダイアログ ボックス、および署名証明書を指定します。</span><span class="sxs-lookup"><span data-stu-id="fa87d-149">This scenario of signing outgoing messages using other certificates is enabled if you select the **Override Group Signature Certificate** in the **Signature Certificate** page of the one-way agreement tab of the **Agreement Properties** dialog box, and specify a signing certificate.</span></span> <span data-ttu-id="fa87d-150">パーティの AS2 アグリーメントで証明書が指定されている場合、送信メッセージの署名にはその証明書が使用されます。</span><span class="sxs-lookup"><span data-stu-id="fa87d-150">If a certificate is specified as part of the AS2 agreement for a party, that certificate is used for signing outgoing messages.</span></span> <span data-ttu-id="fa87d-151">パーティに証明書が定義されていない場合、BizTalk グループのプロパティで指定された既定の証明書が使用されます。</span><span class="sxs-lookup"><span data-stu-id="fa87d-151">If no certificate is defined for the party, the default certificate specified as part of the BizTalk Group properties is used.</span></span>  
  
## <a name="adding-certificates-to-the-certificate-stores"></a><span data-ttu-id="fa87d-152">証明書ストアへの証明書の追加</span><span class="sxs-lookup"><span data-stu-id="fa87d-152">Adding Certificates to the Certificate Stores</span></span>  
 <span data-ttu-id="fa87d-153">詳細については、の「証明書管理コンソールの表示」セクションを参照してください。 [WCF アダプター用の証明書をインストールする](../core/installing-certificates-for-the-wcf-adapters.md)、だけでなく[証明書ウィザード ユーティリティ](../core/certificate-wizard-utility.md)トピックです。</span><span class="sxs-lookup"><span data-stu-id="fa87d-153">For more information, see the "Displaying the Certificates Management Console" section of [Installing Certificates for the WCF Adapters](../core/installing-certificates-for-the-wcf-adapters.md), as well as the [Certificate Wizard Utility](../core/certificate-wizard-utility.md) topic.</span></span>  
  
> [!IMPORTANT]
>  <span data-ttu-id="fa87d-154">個人証明書ストアは、ログオン資格情報がホスト インスタンスに関連付けられているユーザーのユーザー プロファイルが読み込まれた場合にのみ、メッセージ処理に使用できます。</span><span class="sxs-lookup"><span data-stu-id="fa87d-154">The Personal certificate store will be available for message processing only if the user profile is loaded for the user whose logon credentials are associated with the host instance.</span></span> <span data-ttu-id="fa87d-155">個人証明書ストアは、証明書 (ユーザー独自の秘密キー) の署名と解読に使用されます。</span><span class="sxs-lookup"><span data-stu-id="fa87d-155">The Personal store is used for signing and decryption certificates (the user's own private key).</span></span> <span data-ttu-id="fa87d-156">ユーザー プロファイルは、インプロセス ホスト インスタンスでは既定で読み込まれますが、分離ホスト インスタンスでは既定で読み込まれません。</span><span class="sxs-lookup"><span data-stu-id="fa87d-156">The user profile is loaded by default for the in-process host instance; however, the user profile is not loaded by default for the isolated host instance.</span></span> <span data-ttu-id="fa87d-157">分離ホストのユーザー プロファイルは、アプリケーションで読み込むことができます。</span><span class="sxs-lookup"><span data-stu-id="fa87d-157">You can have an application load the user profile for the isolated host.</span></span> <span data-ttu-id="fa87d-158">インプロセス ホスト インスタンスと分離ホスト インスタンスに同じログオンを使用することで、この問題を回避することもできます。</span><span class="sxs-lookup"><span data-stu-id="fa87d-158">Alternatively, you can work around this issue by using the same logon for the in-process host instance and the isolated host instance.</span></span>  
  
## <a name="generating-certificates"></a><span data-ttu-id="fa87d-159">証明書の生成</span><span class="sxs-lookup"><span data-stu-id="fa87d-159">Generating Certificates</span></span>  
 <span data-ttu-id="fa87d-160">証明書は、証明機関 (CA) から取得できますが、証明書を要求する手順は CA ごとに異なります。</span><span class="sxs-lookup"><span data-stu-id="fa87d-160">Certificates can be obtained from a Certificate Authority (CA); however the steps to request a certificate can vary between CAs.</span></span> <span data-ttu-id="fa87d-161">証明書の要求を送信する前に、目的の証明機関の Web サイトに記載された情報を確認してください。</span><span class="sxs-lookup"><span data-stu-id="fa87d-161">Review the information provided on the Certificate Authority’s Web site before submitting any certificate requests.</span></span>  
  
> [!IMPORTANT]
>  <span data-ttu-id="fa87d-162">AS2 トランスポートに使用する証明書には、その使用目的に必要な属性が設定されている必要があります。</span><span class="sxs-lookup"><span data-stu-id="fa87d-162">Certificates used for AS2 transport must have the attributes required for their intended use.</span></span> <span data-ttu-id="fa87d-163">署名および署名の検証のため、**キー使用法**証明書の属性がある必要があります**デジタル署名**です。</span><span class="sxs-lookup"><span data-stu-id="fa87d-163">For signing and signature verification, the **Key Usage** attribute of the certificate must be **Digital Signature**.</span></span> <span data-ttu-id="fa87d-164">暗号化と復号化、**キー使用法**証明書の属性がある必要があります**データの暗号化**または**キーの暗号化**です。</span><span class="sxs-lookup"><span data-stu-id="fa87d-164">For encryption and decryption, the **Key Usage** attribute of the certificate must be **Data Encipherment** or **Key Encipherment**.</span></span> <span data-ttu-id="fa87d-165">確認することができます、**キー使用法**属性をクリックすると、証明書をダブルクリックして、**詳細** タブで、**証明書** ダイアログ ボックスとチェック、 **キー使用法**フィールドです。</span><span class="sxs-lookup"><span data-stu-id="fa87d-165">You can verify the **Key Usage** attribute by double-clicking the certificate, clicking the **Details** tab in the **Certificate** dialog box, and checking the **Key Usage** field.</span></span>  
  
 <span data-ttu-id="fa87d-166">Windows Server 2008 の証明書サービスを使用して証明書を生成することもできます。ただし、このようにして生成された証明書はパブリック CA による署名ではなく自己署名入りのため、取引先はテスト目的でしか受け付けない可能性があります。</span><span class="sxs-lookup"><span data-stu-id="fa87d-166">You can also generate certificates in Windows Server 2008 by using Certificate Services, however your partner may only accept these certificates for test purposes as they are self-signed instead of signed by a public CA.</span></span> <span data-ttu-id="fa87d-167">証明書サービスを使用して証明書を要求する方法の詳細については、ダウンロード**Windows Server 2008 Active Directory Certificate Services Step-By-Step Guide**から[Windows Server 2008 ステップ バイ ステップ ガイド](http://go.microsoft.com/fwlink/?LinkId=187916) ([http://go.microsoft.com/fwlink/?LinkId=187916](http://go.microsoft.com/fwlink/?LinkId=187916))。</span><span class="sxs-lookup"><span data-stu-id="fa87d-167">For more information on using Certificate Services to request certificates, download **Windows Server 2008 Active Directory Certificate Services Step-By-Step Guide** from [Windows Server 2008 Step-by-Step Guides](http://go.microsoft.com/fwlink/?LinkId=187916) ([http://go.microsoft.com/fwlink/?LinkId=187916](http://go.microsoft.com/fwlink/?LinkId=187916)).</span></span>  
  
### <a name="to-configure-a-certificate-for-signing-outgoing-as2-messages"></a><span data-ttu-id="fa87d-168">送信 AS2 メッセージの署名に使用する証明書を構成するには</span><span class="sxs-lookup"><span data-stu-id="fa87d-168">To configure a certificate for signing outgoing AS2 messages</span></span>  
  
1.  <span data-ttu-id="fa87d-169">[!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)]管理コンソールで、右クリックし、 **BizTalk グループ**ノードをクリックして**プロパティ**です。</span><span class="sxs-lookup"><span data-stu-id="fa87d-169">In the [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] Administration console, right-click the **BizTalk Group** node, and then click **Properties**.</span></span>  
  
2.  <span data-ttu-id="fa87d-170">コンソール ツリーで、**グループのプロパティ**ダイアログ ボックスで、をクリックして**証明書**です。</span><span class="sxs-lookup"><span data-stu-id="fa87d-170">In the console tree of the **Group Properties** dialog box, click **Certificate**.</span></span>  
  
3.  <span data-ttu-id="fa87d-171">**証明書** ウィンドウで、をクリックして**参照**、署名を使用する証明書を見つけて、をクリックして**OK**です。</span><span class="sxs-lookup"><span data-stu-id="fa87d-171">In the **Certificate** pane, click **Browse**, find the certificate you want to use for signing, and then click **OK**.</span></span>  
  
    > [!NOTE]
    >  <span data-ttu-id="fa87d-172">証明書の一般名を入力する代わりに、拇印だけを入力できます。</span><span class="sxs-lookup"><span data-stu-id="fa87d-172">Instead of entering the common name of the certificate, you can enter just the thumbprint.</span></span> <span data-ttu-id="fa87d-173">MMC でまたはをクリックすると、ファイル システム内の証明書ストアに証明書をダブルクリックして拇印を取得することができます、**詳細** タブをクリックすると、**拇印**フィールド、および拇印をコピー.</span><span class="sxs-lookup"><span data-stu-id="fa87d-173">You can get the thumbprint by double-clicking the certificate in the certificate store in MMC or in the file system, clicking the **Details** tab, clicking the **Thumbprint** field, and copying the thumbprint.</span></span>  
  
4.  <span data-ttu-id="fa87d-174">**[OK]**をクリックします。</span><span class="sxs-lookup"><span data-stu-id="fa87d-174">Click **OK**.</span></span>  
  
### <a name="to-configure-a-certificate-for-signing-outgoing-as2-messages-for-a-specific-party"></a><span data-ttu-id="fa87d-175">特定のパーティに対する送信 AS2 メッセージの署名に使用する証明書を構成するには</span><span class="sxs-lookup"><span data-stu-id="fa87d-175">To configure a certificate for signing outgoing AS2 messages for a specific party</span></span>  
  
1.  <span data-ttu-id="fa87d-176">[!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)]管理コンソールで、をクリックして、**パーティ**ノード。</span><span class="sxs-lookup"><span data-stu-id="fa87d-176">In the [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] Administration console, click the **Parties** node.</span></span> <span data-ttu-id="fa87d-177">**パーティとビジネス プロファイル**ウィンドウから、**契約**セクションで特定のパーティとメッセージの交換中に作成されるアグリーメントを右クリックし、をクリックして**プロパティ**です。</span><span class="sxs-lookup"><span data-stu-id="fa87d-177">From the **Parties and Business Profiles** pane, from the **Agreements** section, right-click the agreement that is created for exchanging messages with a specific party, and click **Properties**.</span></span>  
  
2.  <span data-ttu-id="fa87d-178">一方向アグリーメント タブで、をクリックして**署名証明書**です。</span><span class="sxs-lookup"><span data-stu-id="fa87d-178">On a one-way agreement tab, click **Signature Certificates**.</span></span>  
  
3.  <span data-ttu-id="fa87d-179">選択、**署名証明書の上書きグループ**送信 AS2 メッセージと MDN に署名するため、このページで指定された証明書を使用する チェック ボックスです。</span><span class="sxs-lookup"><span data-stu-id="fa87d-179">Select the **Override group signing certificate** check box to use the certificate provided in this page for signing outgoing AS2 messages and MDN.</span></span>  
  
4.  <span data-ttu-id="fa87d-180">をクリックして**参照**を表示する、**証明書の選択**ダイアログ ボックスで、このパーティから送信されたメッセージに適用する署名証明書を選択します。</span><span class="sxs-lookup"><span data-stu-id="fa87d-180">Click **Browse** to display the **Select Certificate** dialog box, where you select the signature certificate to apply to messages transmitted by this party.</span></span>  
  
5.  <span data-ttu-id="fa87d-181">**共通名**テキスト ボックスには、選択した証明書の説明が表示されます。</span><span class="sxs-lookup"><span data-stu-id="fa87d-181">The **Common Name** text box displays a description of the selected certificate.</span></span>  
  
6.  <span data-ttu-id="fa87d-182">**拇印**テキスト ボックスは、証明書の拇印を表示します。</span><span class="sxs-lookup"><span data-stu-id="fa87d-182">The **Thumbprint** text box displays the thumbprint of certificate.</span></span> <span data-ttu-id="fa87d-183">証明書の拇印には、HHHH HHHH HHHH HHHH HHHH HHHH HHHH HHHH HHHH HHHH、H は 16 進数字 (0 ~ 9 の数字) または a ~ F の文字の形式があります。</span><span class="sxs-lookup"><span data-stu-id="fa87d-183">The certificate thumbprint has the format HHHH HHHH HHHH HHHH HHHH HHHH HHHH HHHH HHHH HHHH, where H is a hexadecimal digit (a number from 0 through 9 or a letter from A through F).</span></span>  
  
7.  <span data-ttu-id="fa87d-184">をクリックして**証明書の削除**を選択した証明書を削除します。</span><span class="sxs-lookup"><span data-stu-id="fa87d-184">Click **Remove Certificate** to remove the selected certificate.</span></span>  
  
8.  <span data-ttu-id="fa87d-185">をクリックして**OK**を変更を検証し、ダイアログ ボックスを閉じます。</span><span class="sxs-lookup"><span data-stu-id="fa87d-185">Click **OK** to validate the changes and then close the dialog box.</span></span>  
  
### <a name="to-configure-a-certificate-for-verifying-the-digital-signature-of-an-incoming-as2-messages"></a><span data-ttu-id="fa87d-186">受信 AS2 メッセージのデジタル署名の検証に使用する証明書を構成するには</span><span class="sxs-lookup"><span data-stu-id="fa87d-186">To configure a certificate for verifying the digital signature of an incoming AS2 messages</span></span>  
  
1.  <span data-ttu-id="fa87d-187">[!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] 、管理コンソールを開き、 **BizTalk グループ**ノードをクリックして、**パーティ**ノード。</span><span class="sxs-lookup"><span data-stu-id="fa87d-187">In the [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] Administration console, open the **BizTalk Group** node, and then click the **Parties** node.</span></span>  
  
2.  <span data-ttu-id="fa87d-188">**パーティとビジネス プロファイル** ウィンドウを右クリックするを受信するパーティ間でメッセージの署名し、をクリックして**プロパティ**です。</span><span class="sxs-lookup"><span data-stu-id="fa87d-188">In the **Parties and Business Profiles** pane, right-click the party that you will be receiving signed messages from, and then click **Properties**.</span></span>  
  
3.  <span data-ttu-id="fa87d-189">コンソール ツリーでクリックして**証明書**です。</span><span class="sxs-lookup"><span data-stu-id="fa87d-189">In the console tree, click **Certificate**.</span></span>  
  
4.  <span data-ttu-id="fa87d-190">**証明書** ウィンドウで、をクリックして**参照**、デジタル署名の検証に使用する証明書を見つけて、をクリックして**OK**です。</span><span class="sxs-lookup"><span data-stu-id="fa87d-190">In the **Certificate** pane, click **Browse**, find the certificate you want to use for verifying the digital signature, and then click **OK**.</span></span>  
  
    > [!NOTE]
    >  <span data-ttu-id="fa87d-191">証明書の一般名を入力する代わりに、拇印だけを入力できます。</span><span class="sxs-lookup"><span data-stu-id="fa87d-191">Instead of entering the common name of the certificate, you can enter just the thumbprint.</span></span> <span data-ttu-id="fa87d-192">MMC でまたはをクリックすると、ファイル システム内の証明書ストアに証明書をダブルクリックして拇印を取得することができます、**詳細** タブをクリックすると、**拇印**フィールド、および拇印をコピー.</span><span class="sxs-lookup"><span data-stu-id="fa87d-192">You can get the thumbprint by double-clicking the certificate in the certificate store in MMC or in the file system, clicking the **Details** tab, clicking the **Thumbprint** field, and copying the thumbprint.</span></span>  
  
5.  <span data-ttu-id="fa87d-193">**[OK]**をクリックします。</span><span class="sxs-lookup"><span data-stu-id="fa87d-193">Click **OK**.</span></span>  
  
### <a name="to-configure-a-certificate-for-encrypting-an-outgoing-as2-messages"></a><span data-ttu-id="fa87d-194">送信 AS2 メッセージの暗号化に使用する証明書を構成するには</span><span class="sxs-lookup"><span data-stu-id="fa87d-194">To configure a certificate for encrypting an outgoing AS2 messages</span></span>  
  
1.  <span data-ttu-id="fa87d-195">[!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)]管理コンソールで、 **BizTalk グループ**ノードを開いて、**アプリケーション** ノードのノードを開き、**アプリケーション**を格納している、暗号化されたメッセージを送信するポートを送信します。</span><span class="sxs-lookup"><span data-stu-id="fa87d-195">In the [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] Administration console, open the **BizTalk Group** node, open the **Applications** node, and open the node of the **application** that contains the send port that you will be sending the encrypted message on.</span></span>  
  
2.  <span data-ttu-id="fa87d-196">開く、**送信ポート**ノードは、送信ポートを右クリックし、をクリックして**プロパティ**です。</span><span class="sxs-lookup"><span data-stu-id="fa87d-196">Open the **Send Ports** node, right-click the send port, and then click **Properties**.</span></span>  
  
3.  <span data-ttu-id="fa87d-197">コンソール ツリーでクリックして**証明書**です。</span><span class="sxs-lookup"><span data-stu-id="fa87d-197">In the console tree, click **Certificate**.</span></span>  
  
4.  <span data-ttu-id="fa87d-198">**証明書** ウィンドウで、をクリックして**参照**、クリックして、暗号化に使用する証明書の検索**ok**です。</span><span class="sxs-lookup"><span data-stu-id="fa87d-198">In the **Certificate** pane, click **Browse**, find the certificate that you want to use for encryption, and then click **OK**.</span></span>  
  
    > [!NOTE]
    >  <span data-ttu-id="fa87d-199">証明書の一般名を入力する代わりに、拇印だけを入力できます。</span><span class="sxs-lookup"><span data-stu-id="fa87d-199">Instead of entering the common name of the certificate, you can enter just the thumbprint.</span></span> <span data-ttu-id="fa87d-200">MMC でまたはをクリックすると、ファイル システム内の証明書ストアに証明書をダブルクリックして拇印を取得することができます、**詳細** タブをクリックすると、**拇印**フィールド、および拇印をコピー.</span><span class="sxs-lookup"><span data-stu-id="fa87d-200">You can get the thumbprint by double-clicking the certificate in the certificate store in MMC or in the file system, clicking the **Details** tab, clicking the **Thumbprint** field, and copying the thumbprint.</span></span>  
  
5.  <span data-ttu-id="fa87d-201">**[OK]**をクリックします。</span><span class="sxs-lookup"><span data-stu-id="fa87d-201">Click **OK**.</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="fa87d-202">参照</span><span class="sxs-lookup"><span data-stu-id="fa87d-202">See Also</span></span>  
 <span data-ttu-id="fa87d-203">[AS2 セキュリティ](../core/as2-security.md) </span><span class="sxs-lookup"><span data-stu-id="fa87d-203">[AS2 Security](../core/as2-security.md) </span></span>  
 <span data-ttu-id="fa87d-204">[署名、圧縮、および AS2 トランスポートに暗号化を構成します。](../core/configuring-signing-compression-and-encryption-in-as2-transport.md) </span><span class="sxs-lookup"><span data-stu-id="fa87d-204">[Configuring Signing, Compression, and Encryption in AS2 Transport](../core/configuring-signing-compression-and-encryption-in-as2-transport.md) </span></span>  
 <span data-ttu-id="fa87d-205">[AS2 ソリューションのアーキテクチャ](../core/as2-solution-architecture.md) </span><span class="sxs-lookup"><span data-stu-id="fa87d-205">[AS2 Solution Architecture](../core/as2-solution-architecture.md) </span></span>  
 [<span data-ttu-id="fa87d-206">WCF アダプターの証明書のインストール</span><span class="sxs-lookup"><span data-stu-id="fa87d-206">Installing Certificates for the WCF Adapters</span></span>](../core/installing-certificates-for-the-wcf-adapters.md)