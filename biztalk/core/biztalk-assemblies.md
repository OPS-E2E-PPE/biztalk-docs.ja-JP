---
title: BizTalk Server 内のアセンブリを展開する方法 |Microsoft ドキュメント
description: GAC にアセンブリを展開し、BizTalk Server 内のアセンブリのバージョン管理を有効にします。
ms.custom: ''
ms.date: 01/21/2016
ms.prod: biztalk-server
ms.reviewer: ''
ms.suite: ''
ms.tgt_pltfrm: ''
ms.topic: article
ms.assetid: c7f99ed5-b64a-4a38-99d7-83070fb69030
caps.latest.revision: 13
author: MandiOhlinger
ms.author: mandia
manager: anneta
ms.openlocfilehash: bb6c787219855ca219808fc1e95c0caefbf12a9d
ms.sourcegitcommit: 3fc338e52d5dbca2c3ea1685a2faafc7582fe23a
ms.translationtype: MT
ms.contentlocale: ja-JP
ms.lasthandoff: 12/01/2017
ms.locfileid: "26006115"
---
# <a name="biztalk-assemblies"></a><span data-ttu-id="845b2-103">BizTalk アセンブリ</span><span class="sxs-lookup"><span data-stu-id="845b2-103">BizTalk Assemblies</span></span>
<span data-ttu-id="845b2-104">Microsoft BizTalk Server と .NET Framework の特徴として最も重要な点は、BizTalk Server のアイテム、マップ、スキーマ、オーケストレーション、パイプラインがすべて、.NET アセンブリにコンパイルされることです。</span><span class="sxs-lookup"><span data-stu-id="845b2-104">The most important aspect of Microsoft BizTalk Server and the .NET Framework is that all BizTalk Server artifacts; maps, schemas, orchestrations, and pipelines, get compiled into .NET assemblies.</span></span> <span data-ttu-id="845b2-105">このしくみが意味するのは、これらのアセンブリに厳密な名前が必要であり、そのために .NET のバージョン管理規則にも従う必要が生じることです。</span><span class="sxs-lookup"><span data-stu-id="845b2-105">The two most important implications of this design are that these assemblies must have strong names, and because of that, they also follow .NET versioning rules.</span></span> <span data-ttu-id="845b2-106">結果として、BizTalk のプロジェクトは、別の .NET プロジェクトまたはアセンブリ (BizTalk プロジェクトを含む) の特定のバージョンに対して構築されると、新しいバージョンに対して再構築されるまではそのバージョンを使い続けることになります。</span><span class="sxs-lookup"><span data-stu-id="845b2-106">The main implication of this is that a BizTalk project, once built against a particular version of another .NET project or assembly (including BizTalk projects), continues to use that version until it has been rebuilt against a newer version.</span></span>  
  
## <a name="net-versioning-and-assemblies"></a><span data-ttu-id="845b2-107">.NET のバージョン管理とアセンブリ</span><span class="sxs-lookup"><span data-stu-id="845b2-107">.NET Versioning and Assemblies</span></span>  
 <span data-ttu-id="845b2-108">.NET のバージョン管理に関連する開発中の問題は、BizTalk プロジェクトのバージョン番号を変更せず、型の読み込み先である BizTalk ホストのインスタンスを停止してから開始せずにアセンブリを再展開した場合によく発生します。</span><span class="sxs-lookup"><span data-stu-id="845b2-108">A common problem occurs during development related to .NET versioning when the version numbers on a BizTalk project are not changed and the assembly is redeployed without stopping and starting the BizTalk host instance that the types are loaded into.</span></span>  
  
 <span data-ttu-id="845b2-109">プロセスを再実行した場合、変更は適用されません。</span><span class="sxs-lookup"><span data-stu-id="845b2-109">When the process is run again, the changes do not take effect.</span></span> <span data-ttu-id="845b2-110">これは、メモリへの .NET アセンブリの読み込み方法が原因です。</span><span class="sxs-lookup"><span data-stu-id="845b2-110">This is due to the way in which .NET assemblies are loaded into memory.</span></span> <span data-ttu-id="845b2-111">ホストのメモリ内には既にアセンブリのコピーがあるため、新しいコピーをグローバル アセンブリ キャッシュに入れても、アセンブリの再読み込みは行われません。</span><span class="sxs-lookup"><span data-stu-id="845b2-111">Because the host already has an in-memory copy of the assembly, it does not reload the assembly when a new copy is put into the Global Assembly Cache.</span></span> <span data-ttu-id="845b2-112">たとえば、オーケストレーションのあるアセンブリのバージョン 1.0.0.0 を再展開して実行した場合、オーケストレーションに変更を加えても、バージョン番号を変更しなければ、変更は反映されません。</span><span class="sxs-lookup"><span data-stu-id="845b2-112">For example, if version 1.0.0.0 of an assembly with an orchestration is deployed and running, and changes are made to the orchestration but the version number is not changed, then the changes do not take effect.</span></span> <span data-ttu-id="845b2-113">ホストのインスタンスを停止した後、メモリ内のアセンブリのコピーが解放され、ホストインスタンスが再開すると、アセンブリの新しいコピーを再度読み込んで変更を取り込みます。</span><span class="sxs-lookup"><span data-stu-id="845b2-113">After the host instance is stopped, the in-memory copy of the assembly is released and when the host instance starts again it reloads the new copy of the assembly and gets the changes.</span></span> <span data-ttu-id="845b2-114">新しいバージョン (たとえば、バージョン 2.0.0.0) が展開されて読み込まれると、変更が反映されます。</span><span class="sxs-lookup"><span data-stu-id="845b2-114">If a new version was deployed, say version 2.0.0.0, and it was loaded, then the changes would have taken effect.</span></span>  
  
 <span data-ttu-id="845b2-115">アセンブリは 2 段階のプロセスで BizTalk Server に展開されます。</span><span class="sxs-lookup"><span data-stu-id="845b2-115">Deploying assemblies to BizTalk Server is a two part process.</span></span> <span data-ttu-id="845b2-116">第 1 段階は、従来の .NET アセンブリの展開で、アセンブリを使用する各サーバーの Global Assembly Cache (GAC) に、厳密な名前のアセンブリが展開されます。</span><span class="sxs-lookup"><span data-stu-id="845b2-116">The first part is traditional .NET assembly deployment in which the strong-named assembly is deployed to the Global Assembly Cache (GAC) on each server where the assembly will be used.</span></span> <span data-ttu-id="845b2-117">第 2 段階では、アセンブリに関するメタデータとその型が BizTalk Server 管理データベースに展開されます。</span><span class="sxs-lookup"><span data-stu-id="845b2-117">The second step is to deploy metadata about the assemblies and their types to the BizTalk Server Management database.</span></span> <span data-ttu-id="845b2-118">BizTalk Server アセンブリが BizTalk Server に読み込まれるとき、通常は管理データベースに保管されている厳密な名前を使用して読み込まれます。</span><span class="sxs-lookup"><span data-stu-id="845b2-118">When BizTalk Server assemblies are loaded by BizTalk Server, they are most often loaded using their strong name, found in the Management database.</span></span>  
  
## <a name="deploying-biztalk-server-assemblies-to-the-gac"></a><span data-ttu-id="845b2-119">GAC への BizTalk Server アセンブリの展開</span><span class="sxs-lookup"><span data-stu-id="845b2-119">Deploying BizTalk Server Assemblies to the GAC</span></span>  
 <span data-ttu-id="845b2-120">開発者が作成する BizTalk Server のアイテムは、BizTalk Server に組み込まれている型から派生したクラスとしてコンパイルされます。</span><span class="sxs-lookup"><span data-stu-id="845b2-120">The BizTalk Server artifacts that a developer creates get compiled into classes which derive from built in BizTalk Server types.</span></span> <span data-ttu-id="845b2-121">たとえば、オーケストレーションは、Microsoft.BizTalkXLANGs.BTXEngine.BTXService から派生したクラスになります。</span><span class="sxs-lookup"><span data-stu-id="845b2-121">For example, an orchestration becomes a class which derives from the Microsoft.BizTalkXLANGs.BTXEngine.BTXService class.</span></span> <span data-ttu-id="845b2-122">その理由は、これらの基本クラスはアセンブリでグローバル アセンブリ キャッシュに展開されますが、これらのアセンブリは GAC の他のアセンブリと依存関係があるため、開発者のアセンブリも GAC に展開される必要があるからです。</span><span class="sxs-lookup"><span data-stu-id="845b2-122">It is because these base classes are deployed in assemblies to the Global Assembly Cache, and these assemblies have dependencies on other assemblies in the GAC, that a developer's assemblies must also get deployed to the GAC.</span></span>  
  
 <span data-ttu-id="845b2-123">BizTalk Server アイテムをグローバル アセンブリ キャッシュに展開し、そのために厳密な名前を付けるということは、厳密な名前の付いているアセンブリから厳密な名前の付いていない他のアセンブリは呼び出せないということも意味しています。</span><span class="sxs-lookup"><span data-stu-id="845b2-123">Another important implication of BizTalk Server artifacts being deployed to the Global Assembly Cache and therefore being strong named, is that strong named assemblies cannot call other assemblies that are not also strong named.</span></span> <span data-ttu-id="845b2-124">つまり、開発者が作成したアセンブリのうち、これらの BizTalk Server アセンブリで使用されるものにはすべて厳密な名前を付ける必要があります。</span><span class="sxs-lookup"><span data-stu-id="845b2-124">This means that any assemblies a developer creates that are used by these BizTalk Server assemblies must also be strong named.</span></span> <span data-ttu-id="845b2-125">同様に、GAC に展開されたアセンブリは、特定のパスを使用しないで他のアセンブリを読み込みますが、それらのアセンブリを GAC から読み込む必要があります。</span><span class="sxs-lookup"><span data-stu-id="845b2-125">Likewise, assemblies deployed to the GAC that load other assemblies without using a specific path, must load those assemblies from the GAC.</span></span>  
  
 <span data-ttu-id="845b2-126">パイプライン コンポーネントは [!INCLUDE[btsVStudioNoVersion](../includes/btsvstudionoversion-md.md)] の開発者のツールボックスに追加され、パイプライン デザイナーにドラッグできるようになります。</span><span class="sxs-lookup"><span data-stu-id="845b2-126">Pipeline components are added to a developer's toolbox in [!INCLUDE[btsVStudioNoVersion](../includes/btsvstudionoversion-md.md)] to make them available to be dragged onto the pipeline designer.</span></span> <span data-ttu-id="845b2-127">BizTalk Server パイプラインを .NET アセンブリにコンパイルすると、パイプラインのさまざまなステージの全コンポーネントに関する情報がアセンブリにコンパイルされます。</span><span class="sxs-lookup"><span data-stu-id="845b2-127">When a BizTalk Server pipeline is compiled into a .NET assembly, the information about all of the components in the various stages of the pipeline get compiled into the assembly.</span></span> <span data-ttu-id="845b2-128">このパイプラインが BizTalk Server に展開されると、ファイル名など、コンポーネントに関する情報が BizTalk 管理データベースに挿入し、パイプライン アセンブリは GAC に展開します。</span><span class="sxs-lookup"><span data-stu-id="845b2-128">When this pipeline is deployed to BizTalk Server, the information about the components, including their file name, is inserted into the BizTalk Management database and the pipeline assembly is deployed into the GAC.</span></span> <span data-ttu-id="845b2-129">実行時に検出するために、BizTalk パイプライン コンポーネントが依存する追加のアセンブリを GAC に展開も必要があります。</span><span class="sxs-lookup"><span data-stu-id="845b2-129">Any additional assemblies that BizTalk pipeline components depend upon must also be deployed to the GAC in order to be found at runtime.</span></span> <span data-ttu-id="845b2-130">パイプライン コンポーネント アセンブリは、実行時に BizTalk パイプラインによってにアクセスできるように BizTalk Server\Pipeline コンポーネント ディレクトリにもコピーする必要があります。</span><span class="sxs-lookup"><span data-stu-id="845b2-130">Pipeline component assemblies must also be copied to the BizTalk Server\Pipeline Components directory to be accessible by a BizTalk pipeline at runtime.</span></span> <span data-ttu-id="845b2-131">パイプラインが実行されると、これらのコンポーネントが読み込まれ、コンポーネントが実装するインターフェイスが必要に応じて呼び出されます。</span><span class="sxs-lookup"><span data-stu-id="845b2-131">When the pipeline is executed, these components are loaded, and the interfaces they implement called as appropriate.</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="845b2-132">参照</span><span class="sxs-lookup"><span data-stu-id="845b2-132">See Also</span></span>  
 [<span data-ttu-id="845b2-133">ランタイム アーキテクチャ</span><span class="sxs-lookup"><span data-stu-id="845b2-133">Runtime Architecture</span></span>](../core/runtime-architecture.md)