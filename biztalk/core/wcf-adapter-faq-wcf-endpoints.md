---
title: 'WCF アダプター FAQ: WCF エンドポイント |Microsoft ドキュメント'
ms.custom: ''
ms.date: 06/08/2017
ms.prod: biztalk-server
ms.reviewer: ''
ms.suite: ''
ms.tgt_pltfrm: ''
ms.topic: article
ms.assetid: ccc94b7d-b8a6-4c24-907e-922fd885b874
caps.latest.revision: 4
author: MandiOhlinger
ms.author: mandia
manager: anneta
ms.openlocfilehash: 90c59c586f0d7f1d02ad406baec694cf4e22ff24
ms.sourcegitcommit: 5abd0ed3f9e4858ffaaec5481bfa8878595e95f7
ms.translationtype: MT
ms.contentlocale: ja-JP
ms.lasthandoff: 11/28/2017
ms.locfileid: "25974296"
---
# <a name="wcf-adapter-faq-wcf-endpoints"></a><span data-ttu-id="30b33-102">WCF アダプター FAQ: WCF エンドポイント</span><span class="sxs-lookup"><span data-stu-id="30b33-102">WCF Adapter FAQ: WCF Endpoints</span></span>
## <a name="what-are-two-endpoints-options-can-be-created-by-the-biztalk-wcf-service-publishing-wizard"></a><span data-ttu-id="30b33-103">BizTalk WCF サービス公開ウィザードで作成できる 2 つのエンドポイント オプションは何ですか。</span><span class="sxs-lookup"><span data-stu-id="30b33-103">What are two endpoints options can be created by the BizTalk WCF Service Publishing Wizard?</span></span>  
 <span data-ttu-id="30b33-104">BizTalk WCF サービス公開ウィザードを実行すると、作成するエンドポイントとして WCF サービス エンドポイントか、WCF メタデータ専用エンドポイント (MEX) を選択できます。</span><span class="sxs-lookup"><span data-stu-id="30b33-104">When running the BizTalk WCF Service Publishing Wizard, you can select to create either a WCF service endpoint or a WCF metadata-only endpoint (MEX).</span></span>  
  
 <span data-ttu-id="30b33-105">サービス エンドポイントの場合、実際の Web の場所が作成されて IIS でホストされ、実際の WCF サービスの機能が公開されます。</span><span class="sxs-lookup"><span data-stu-id="30b33-105">A service endpoint creates an actual Web location hosted in IIS that exposes the functionality of an actual WCF service.</span></span> <span data-ttu-id="30b33-106">サービス エンドポイントで使用できるのは分離アダプター (WCF-WsHttp、WCF-BasicHttp、および WCF-CustomIsolated) のみです。</span><span class="sxs-lookup"><span data-stu-id="30b33-106">Only isolated adapters (WCF-WsHttp, WCF-BasicHttp, and WCF-CustomIsolated) can be used for service endpoints.</span></span> <span data-ttu-id="30b33-107">この種類のエンドポイントの機能は、オーケストレーションまたはスキーマによって実装され、WCF サービスとして公開されます。</span><span class="sxs-lookup"><span data-stu-id="30b33-107">The functionality of this type of endpoint is implemented by an orchestration or a schema that is published as a WCF service.</span></span>  
  
 <span data-ttu-id="30b33-108">メタデータ専用エンドポイントの機能は、BizTalk 受信場所を通じて実装されます。</span><span class="sxs-lookup"><span data-stu-id="30b33-108">A metadata-only endpoint is one whose functionality is implemented through a BizTalk receive location.</span></span>  <span data-ttu-id="30b33-109">これには、公開されたオーケストレーションや実際の WCF サービス コードではなく、IIS とインプロセス WCF 受信アダプターが使用されます。</span><span class="sxs-lookup"><span data-stu-id="30b33-109">This uses IIS and an in-process WCF receive adapter rather than by an exposed orchestration or actual WCF service code.</span></span> <span data-ttu-id="30b33-110">ウィザードでメタデータ専用エンドポイントを生成すると、インプロセス WCF アダプターを使用して公開された受信場所の統合情報を提供できます。これは svcutil.exe を使用して手動で行うよりも簡単です。</span><span class="sxs-lookup"><span data-stu-id="30b33-110">Using the wizard to generate a metadata-only endpoint is an easier way to provide integration information on exposed receive locations using an in-process WCF adapter than doing it manually using svcutil.exe.</span></span> <span data-ttu-id="30b33-111">svcutil.exe を使用する場合は、サービスのコンシューマーにメタデータを転送して呼び出せるようにする方法を見つける必要があります。</span><span class="sxs-lookup"><span data-stu-id="30b33-111">Using svcutil.exe forces you to find a way to forward the metadata to the consumer of your service so it can be called.</span></span>  
  
## <a name="why-would-i-use-a-metadata-only-endpoint-in-biztalk-server"></a><span data-ttu-id="30b33-112">BizTalk Server でメタデータ専用エンドポイントを使用するとどのような利点がありますか。</span><span class="sxs-lookup"><span data-stu-id="30b33-112">Why would I use a metadata-only endpoint in BizTalk Server?</span></span>  
 <span data-ttu-id="30b33-113">メタデータ専用エンドポイントでは、実際の WCF サービスにはサービス実装が存在しません。</span><span class="sxs-lookup"><span data-stu-id="30b33-113">With metadata-only endpoints, the service implementation does not exist in an actual WCF service.</span></span> <span data-ttu-id="30b33-114">機能は BizTalk 受信場所に実装され、サービス エンドポイントが設定された WCF サービスと同様に呼び出されます。</span><span class="sxs-lookup"><span data-stu-id="30b33-114">Rather, the functionality is implemented in a BizTalk receive location, which is called just as a WCF service with a service endpoint.</span></span> <span data-ttu-id="30b33-115">たとえば、2 つのスキーマとマップを使用して、メッセージ内のフィールドを取得してすべて大文字に変換するとします。</span><span class="sxs-lookup"><span data-stu-id="30b33-115">For example, you could have two schemas and a map to take a field in a message and convert it to all uppercase.</span></span> <span data-ttu-id="30b33-116">この場合、サービスは “ConvertToUpper” としてメタデータで公開されます。</span><span class="sxs-lookup"><span data-stu-id="30b33-116">In this case the service is published in metadata as “ConvertToUpper”.</span></span> <span data-ttu-id="30b33-117">しかし、サービスの機能は、コード内やオーケストレーション経由ではなく受信場所に実装されています。</span><span class="sxs-lookup"><span data-stu-id="30b33-117">But the functionality of the service is implemented in the receive location and not in code or through an orchestration.</span></span>  
  
 <span data-ttu-id="30b33-118">WCF エンドポイントは、アドレス、バインド、およびコントラクトで構成されます。</span><span class="sxs-lookup"><span data-stu-id="30b33-118">A WCF endpoint is composed of an address, a binding, and a contract.</span></span> <span data-ttu-id="30b33-119">ウィザードでメタデータ専用エンドポイントを作成する場合、既存の受信場所からアドレスとバインドの詳細が取得されます。</span><span class="sxs-lookup"><span data-stu-id="30b33-119">When the wizard creates a metadata-only endpoint, it gets the address and binding details from the already existing receive location.</span></span> <span data-ttu-id="30b33-120">コントラクト情報は、BizTalk オーケストレーション内にあるスキーマで定義されますが、ウィザードを使用して手動で作成することもできます。</span><span class="sxs-lookup"><span data-stu-id="30b33-120">The contract information is defined by schemas which can exist in a BizTalk orchestration, or you can create them manually using the wizard.</span></span> <span data-ttu-id="30b33-121">選択した場合**BizTalk オーケストレーションを WCF サービスとして発行**、メタデータ専用エンドポイントでは、オーケストレーション アセンブリからのメッセージとポートの種類を使用して、コントラクトを定義します。</span><span class="sxs-lookup"><span data-stu-id="30b33-121">If you choose **Publish BizTalk orchestrations as a WCF service**, the metadata-only endpoint uses the message and port types from the orchestration assembly to define the contract.</span></span>  
  
 <span data-ttu-id="30b33-122">選択した場合**スキーマを WCF サービスとして公開**ウィザードでは、既存の入力と出力スキーマのサービスやオペレーション名を指定することによって、サービス定義を定義することができます。</span><span class="sxs-lookup"><span data-stu-id="30b33-122">If you choose **Publish schemas as WCF service**, the wizard allows you to define a service definition by specifying service and operation names with existing input and output schemas.</span></span> <span data-ttu-id="30b33-123">メタデータを公開後に参照できるように、ウィザードにより .svc ファイルと IIS 仮想ディレクトリが作成されます。</span><span class="sxs-lookup"><span data-stu-id="30b33-123">The wizard creates an .svc file and an IIS virtual directory so the metadata can be browsed after it is published.</span></span> <span data-ttu-id="30b33-124">BizTalk WCF サービス公開ウィザードの httpGetEnabled 属性された web.config ファイルも作成されます、 \<serviceMetadata\>要素が true に設定します。</span><span class="sxs-lookup"><span data-stu-id="30b33-124">The BizTalk WCF Service Publishing Wizard also creates a web.config file with its httpGetEnabled attribute of the \<serviceMetadata\> element set to true.</span></span> <span data-ttu-id="30b33-125">これにより、メタデータが公開され、参照可能になります。</span><span class="sxs-lookup"><span data-stu-id="30b33-125">This publishes the metadata for browsing.</span></span> <span data-ttu-id="30b33-126">そのデータを使用して HTTP 経由での GET 要求を通じてアクセスできる BizTalk 受信場所用にサービス メタデータを公開する場合は、`?wsdl`サービスの URL の末尾にします。</span><span class="sxs-lookup"><span data-stu-id="30b33-126">If you choose to publish service metadata for a BizTalk receive location, that data can be accessed through a GET request over HTTP using a `?wsdl` at the end of the URL for the service.</span></span>  
  
## <a name="are-service-endpoints-hosted-in-iis-and-why"></a><span data-ttu-id="30b33-127">サービス エンドポイントは IIS でホストされますか。それはなぜですか。</span><span class="sxs-lookup"><span data-stu-id="30b33-127">Are service endpoints hosted in IIS and why?</span></span>  
 <span data-ttu-id="30b33-128">はい。サービス エンドポイントは次の分離アダプターのいずれかを使用して IIS でホストされます。</span><span class="sxs-lookup"><span data-stu-id="30b33-128">Yes, a service endpoint is hosted in IIS using one of the three isolated adapters:</span></span>  
  
-   <span data-ttu-id="30b33-129">WCF-WsHttp</span><span class="sxs-lookup"><span data-stu-id="30b33-129">WCF-WsHttp</span></span>  
  
-   <span data-ttu-id="30b33-130">WCF-BasicHttp</span><span class="sxs-lookup"><span data-stu-id="30b33-130">WCF-BasicHttp</span></span>  
  
-   <span data-ttu-id="30b33-131">WCF-CustomIsolated</span><span class="sxs-lookup"><span data-stu-id="30b33-131">WCF-CustomIsolated</span></span>  
  
 <span data-ttu-id="30b33-132">サービス エンドポイントは、その機能を WCF サービスとして直接呼び出すことができる点で、メタデータ専用エンドポイントと異なります。</span><span class="sxs-lookup"><span data-stu-id="30b33-132">A service endpoint differs from a metadata-only endpoint in that its functionality can be called directly as a WCF service.</span></span> <span data-ttu-id="30b33-133">BizTalk WCF サービス公開ウィザードを使用してサービス エンドポイントを作成すると、指定された BizTalk アプリケーションに新しい受信場所が作成されます。</span><span class="sxs-lookup"><span data-stu-id="30b33-133">Using the BizTalk WCF Service Publishing Wizard to create a service endpoint results in a new receive location in the specified BizTalk application.</span></span> <span data-ttu-id="30b33-134">ここで定義された URI を使用して IIS からオーケストレーションにアクセスできます。</span><span class="sxs-lookup"><span data-stu-id="30b33-134">It defines a URI at which the orchestration can be accessed through IIS.</span></span>  
  
## <a name="when-creating-a-service-endpoint-why-would-i-select-to-publish-schemas-as-a-wcf-service"></a><span data-ttu-id="30b33-135">サービス エンドポイントを作成する場合に [スキーマを WCF サービスとして公開する] を選択すると、どのような利点がありますか。</span><span class="sxs-lookup"><span data-stu-id="30b33-135">When creating a service endpoint, why would I select to “Publish schemas as a WCF Service”?</span></span>  
 <span data-ttu-id="30b33-136">WCF 受信場所が、BizTalk メッセージングのみを使用する BizTalk アプリケーションに含まれる場合は、スキーマを WCF サービスとして公開することを選択します。</span><span class="sxs-lookup"><span data-stu-id="30b33-136">Choose to publish schemas as a WCF service if your WCF receive location is part of a BizTalk application that is using BizTalk messaging only.</span></span> <span data-ttu-id="30b33-137">つまり、オーケストレーションは使用されず、すべての機能は受信場所および送信ポートから公開されます。</span><span class="sxs-lookup"><span data-stu-id="30b33-137">This means there are no orchestrations being used, and all the functionality will be exposed through the receive location and send ports.</span></span> <span data-ttu-id="30b33-138">スキーマはコントラクト情報を指定するために公開されます。</span><span class="sxs-lookup"><span data-stu-id="30b33-138">Schemas are published to specify the contract information.</span></span> <span data-ttu-id="30b33-139">この情報はスキーマ アセンブリから取得できます。また、オーケストレーション アセンブリからでも取得できます (ただし、このエンドポイントではオーケストレーションは使用されません)。</span><span class="sxs-lookup"><span data-stu-id="30b33-139">This information can be obtained from a schema assembly, or even from an orchestration assembly (although the orchestration may not be used for this endpoint).</span></span>