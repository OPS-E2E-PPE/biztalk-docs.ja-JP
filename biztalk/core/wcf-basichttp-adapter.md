---
title: Wcf-basichttp アダプター |Microsoft Docs
ms.custom: ''
ms.date: 06/08/2017
ms.prod: biztalk-server
ms.reviewer: ''
ms.suite: ''
ms.tgt_pltfrm: ''
ms.topic: article
helpviewer_keywords:
- WCF-BasicHttp adapters
ms.assetid: 51bc56be-3c78-4bf9-87b6-8fb1435d8cde
caps.latest.revision: 10
author: MandiOhlinger
ms.author: mandia
manager: anneta
ms.openlocfilehash: deac1790ecc317c4ca0e7f5d45076fb4f5d8ae74
ms.sourcegitcommit: 5d5113325a296252cd45eb2beab067b1fddd1dfc
ms.translationtype: MT
ms.contentlocale: ja-JP
ms.lasthandoff: 09/06/2018
ms.locfileid: "37014739"
---
# <a name="wcf-basichttp-adapter"></a>WCF-BasicHttp アダプタ
[!INCLUDE[btsCoName](../includes/btsconame-md.md)] [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] を介して WCF サービス要求を送受信するため、Wcf-basichttp アダプターを使用して、 [BasicHttpBinding クラス](https://msdn.microsoft.com/library/system.servicemodel.basichttpbinding.aspx)します。 Wcf-basichttp アダプターを使用するオーケストレーションとスキーマを WCF サービスとして公開して、と共に外部 WCF サービスを使用する、 **BasicHttpBinding**します。  

WCF-BasicHttp アダプターを使用して、WS-I 基本プロファイル 1.1 準拠のレガシ ASMX ベースの Web サービスおよびクライアントとコンピューター間通信を実行できます (テキスト エンコードによる HTTP または HTTPS トランスポートを使用します)。 ただし、WS-* プロトコルによってサポートされる機能を利用することはできません。  

 次の表は、Wcf-basichttp アダプタの特性をまとめたものです。

|説明|特性|  
|-----------------|--------------------|  
|相互運用性レベル|基本プロファイル|  
|[メッセージ エンコード]|テキストまたは MTOM|  
|[境界]|コンピュータ間|  
|トランスポート プロトコル|HTTP または HTTPS|  
|[セキュリティ モード]|None、Message、Transport、TransportWithMessageCredential、および TransportCredentialOnly|  
|クライアント認証のメカニズム|トランスポート セキュリティとメッセージ セキュリティ|  
|WS-ReliableMessaging のサポート|いいえ|  
|WS-AtomicTransaction のサポート|いいえ|  
|一方向メッセージングのサポート|はい|  
|双方向メッセージングのサポート|はい|  
|受信アダプタのホストの種類|分離されます。|  
|送信アダプタのホストの種類|インプロセス|  

 Wcf-basichttp アダプターは、2 つのアダプターで構成されます-受信アダプタと送信アダプター。 

このトピックでは、受信場所を作成し、BizTalk 管理コンソールを使用してポートを送信する方法を示します。 できます[受信場所を作成し、送信ポートをプログラムで](../core/create-the-receive-location-and-send-port-programmatically.md)します。

## <a name="before-you-begin"></a>アンインストールの準備

- 以降で[!INCLUDE[bts2016_md](../includes/bts2016-md.md)]、この送信アダプターは Service Bus と Access Control Service (ACS) または athenticate に Shared Access Signature (SAS) を使用できます。 Service Bus で認証するときに、Shared Access Signature (SAS) を使用することをお勧めします。 

    Service Bus 名前空間を作成するときに、Access Control (ACS) 名前空間は自動的に作成されません。 認証に ACS を使用する場合は、新しい ACS 名前空間を作成する必要があります。 参照してください[Sb-messaging アダプター](../core/sb-messaging-adapter.md) ACS キーの値を取得する手順を含む詳細については、します。

- Wcf-basichttp アダプターは、次のシナリオで、SOAP アダプタ上で優先です。  

    -   WCF アダプターの 1 秒あたりのドキュメントのレートは SOAP アダプタよりも一般的に優れています。    
    -   SOAP アダプタおよび .NET 型と生の XML データの間でメッセージを逆シリアル化の欠点には不要なデータの変更もなる可能性があります。 WCF アダプタでは、データ ストリームが保持されます。    
    -   WCF アダプタは、BizTalk ランタイムで使用されるスキーマと基本的に同じスキーマを公開します。 これに対し、SOAP アダプタは、スキーマを表すために生成される .NET クラスに反映することによって生成されるメタデータを返します。 .NET は XSD スキーマのすべての微妙な差異を保持しないので、公開された WSDL が BizTalk ランタイムで使用されるスキーマを正確に反映しない場合があります。    
    -   必要な場合、Wcf-basichttp から Wcf-wshttp への移行に簡単です。  
- WCF-BasicHttp 受信アダプタは、HTTP プロトコルまたは HTTPS プロトコルを介して WCF サービス要求を受信するのに使用します。  WCF-BasicHttp 送信アダプタは、HTTP プロトコルまたは HTTPS プロトコルを使用して、型宣言が不要なコントラクトを介して WCF サービスを呼び出すのに使用します。  

## <a name="create-the-receive-location"></a>受信場所を作成します。

これは、受信場所で一方向として構成できるまたは要求-応答 (双方向)。  

> [!NOTE]
>  次の手順を完了する前にする必要があります既に追加している受信ポート。 参照してください[を作成する方法、受信ポート](../core/how-to-create-a-receive-port.md)します。  
> 
> できます[受信場所をプログラムで作成](../core/create-the-receive-location-and-send-port-programmatically.md)です。 

1. BizTalk 管理コンソールで  **BizTalk Server 管理**、展開**BizTalk グループ**、展開**アプリケーション**アプリケーションを展開します。受信場所を作成します。  

2. BizTalk 管理コンソールの左側のウィンドウで、**[受信ポート]** ノードをクリックします。 次に右ウィンドウで、既存の受信場所に関連付けられているか、新しい受信場所に関連付ける受信ポートを右クリックし、**[プロパティ]** をクリックします。  

3. **[受信ポートのプロパティ]** ダイアログ ボックスの左ウィンドウで **[受信場所]** を選択します。次に、右ウィンドウで既存の受信場所をダブルクリックするか、または **[新規作成]** をクリックして、新しい受信場所を作成します。  

4. **受信場所のプロパティ** ダイアログ ボックスで、**トランスポート**の横**型**、 **Wcf-basichttp**から、ドロップダウン リスト、およびクリック**構成**します。  

5. **Wcf-basichttp トランスポートのプロパティ**の**全般** タブで、エンドポイント アドレスを構成し、サービス id を Wcf-basichttp 受信場所。  

   > [!NOTE]
   >  使用する場合**トランスポート**または**TransportWithMessageCredential**の**セキュリティ モード**を Secure Sockets Layer (SSL) で Microsoft インターネット インフォメーションを設定する必要がありますサービス (IIS)。  

   |       プロパティ        |                                                                                                                                                                                                                                                                                                                 目的                                                                                                                                                                                                                                                                                                                  |
   |-----------------------|---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
   |   **アドレス (URI)**   |                                                                                                                                                                       必須。 この受信場所の URI を指定します。 仮想ディレクトリと、BizTalk WCF サービス公開ウィザードによって生成される .svc ファイル名を指定する: 例:/path/service.svc です。<br /><br /> 既定値:/<br /><br /> 長さの最小値: 1<br /><br /> 最大長: 255                                                                                                                                                                        |
   | **エンドポイント Id** | 任意。 Id の指定をクリックして、サービスのこの受信場所を提供します、**編集**ボタンをクリックします。 指定できる値、**エンドポイント Id**プロパティは、セキュリティの構成によって異なります。 これらの設定により、クライアントはこの受信場所を認証できます。 クライアントとサービスの間のハンドシェイク プロセスでは、Windows Communication Foundation (WCF) インフラストラクチャによって、この要素の値と予期されるサービスの ID が照合されます。<br /><br /> 既定値は空の文字列です。<br /><br /> 最小長: 0<br /><br /> 最大長:32767 |


6. **Wcf-basichttp トランスポートのプロパティ** ダイアログ ボックスで、**バインド** タブで、タイムアウトを構成し、エンコードのプロパティ。


   |                 プロパティ                  |                                                                                                                                                                                                                                                                                                                                                          目的                                                                                                                                                                                                                                                                                                                                                          |
   |-------------------------------------------|------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
   |        **オープン タイムアウト (hh:mm:ss)**         |                                                                                                                                                                                                                              チャネルを開く操作が完了するまでの間隔を示す期間値を指定します。 **System.TimeSpan.Zero**以上の値を指定してください。<br /><br /> 既定値:00:01:00<br /><br /> 最大値: 23:59:59                                                                                                                                                                                                                               |
   |        **送信タイムアウト (hh:mm:ss)**         |                                                                                                                                                  送信操作が完了するまでの間隔を示す期間値を指定します。 **System.TimeSpan.Zero**以上の値を指定してください。 要求 - 応答受信ポートを使用する場合、この値は、対話処理がすべて完了するまでの時間を指定します。これは、クライアントが大きなメッセージを返した場合にも適用されます。<br /><br /> 既定値:00:01:00<br /><br /> 最大値: 23:59:59                                                                                                                                                   |
   |        **クローズ タイムアウト (hh:mm:ss)**        |                                                                                                                                                                                                                              チャネルを閉じる操作が完了するまでの間隔を示す期間値を指定します。 **System.TimeSpan.Zero**以上の値を指定してください。<br /><br /> 既定値:00:01:00<br /><br /> 最大値: 23:59:59                                                                                                                                                                                                                              |
   | **受信したメッセージの最大サイズ (バイト)** | 有線ネットワーク上で受信できる、ヘッダーを含むメッセージの最大サイズをバイト単位で指定します。 メッセージのサイズは、各メッセージに割り当てられているメモリの量に制限されます。 このプロパティを使用して、サービス拒否 (DoS) 攻撃にさらされる危険性を制限できます。<br /><br /> Wcf-basichttp アダプターの活用、 [BasicHttpBinding](http://go.microsoft.com/fwlink/?LinkId=81086)エンドポイントとの通信に、バッファリングされた送信モードでのクラス。 バッファリングされたトランスポート モードの場合、 [BasicHttpBinding.MaxBufferSize](http://go.microsoft.com/fwlink/?LinkId=80659)プロパティは常にこのプロパティの値を等しくします。<br /><br /> 既定値:65536<br /><br /> 最大値: 2147483647 |
   |           **メッセージのエンコード**            |                                                                                                                                                                                                                         SOAP メッセージをエンコードするために使用されるエンコーダーを指定します。 有効な値は次のとおりです。<br /><br /> -   **テキスト**: テキスト メッセージ エンコーダーを使用します。<br />-   **Mtom**: Message Transmission 組織 Mechanism 1.0 (MTOM) エンコーダーを使用します。<br /><br /> 既定値は**テキスト**します。                                                                                                                                                                                                                         |
   |             **テキスト エンコード**             |                                                                                                                                                                           文字セットのバインディングでメッセージを出力するために使用するエンコードを指定するときに、**メッセージ エンコーディング**プロパティに設定されて**テキスト**。 有効な値は次のとおりです。<br /><br /> -   **utf 16BE (unicodeFFFE)**: Unicode BigEndian エンコーディングします。<br />-   **utf-16**: 16 ビット エンコーディングします。<br />-   **utf-8**: 8 ビット エンコード<br /><br /> 既定値は**utf-8**します。                                                                                                                                                                           |
   |         **最大同時呼び出し数**          |                                                                                                                                                                                                                                                   単一のサービス インスタンスに対する同時呼び出しの数を指定します。 制限を超える呼び出しはキューに格納されます。 この値を 0 に設定することは、 **Int32.MaxValue**に設定するのと同じです。<br /><br /> 既定値は 200                                                                                                                                                                                                                                                    |


7. **Wcf-basichttp トランスポートのプロパティ** ダイアログ ボックスの 、**セキュリティ** タブで、セキュリティ機能を定義します。

   |プロパティ|目的|  
   |--------------|----------------|  
   |**セキュリティ モード**|使用するセキュリティの種類を指定します。 有効な値は次のとおりです。<br /><br /> -   **None**: メッセージが転送中にセキュリティ保護されません。<br />-   **トランスポート**: HTTPS トランスポートを使用してセキュリティを提供します。 SOAP メッセージは、HTTPS を使用してセキュリティ保護されます。 このモードを使用するには、Microsoft インターネット インフォメーション サービス (IIS) の Secure Sockets Layer (SSL) を設定する必要があります。<br />-   **メッセージ**: HTTP トランスポート経由で SOAP メッセージ セキュリティを使用してセキュリティを提供します。 既定では、SOAP **Body** は暗号化および署名されます。 唯一の有効な**クライアント資格情報の種類のメッセージ**Wcf-basic アダプターは**証明書**します。 このモードには、HTTP トランスポートが必要です。 このサービス証明書が受信場所を指定する必要がありますでこのセキュリティ モードを使用する場合、**サービス証明書の拇印**プロパティ。<br />-   **TransportWithMessageCredential**: 整合性、機密性、およびサービスの認証は、HTTPS トランスポートによって提供されます。 このモードを使用するには、Microsoft インターネット インフォメーション サービス (IIS) の Secure Sockets Layer (SSL) を設定する必要があります。<br />-   **TransportCredentialOnly**: このモードではメッセージの整合性と機密性を提供しません。 HTTP ベースのクライアント認証が提供されます。 このモードは注意して使用してください。 トランスポート セキュリティが他の手段 (IPSec など) によって提供され、WCF インフラストラクチャによってクライアント認証のみが提供される環境で使用する必要があります。 選択した場合**証明書**の**クライアント資格情報の種類のトランスポート**でこのセキュリティ モード プロパティは、このサービス証明書の受信場所を指定する必要があります、 **サービス証明書の拇印**プロパティ。<br /><br /> 既定値は**None**します。|  
   |**トランスポート クライアントの資格情報の種類**|クライアント認証の実行時に使用する資格情報の種類を指定します。 有効な値は次のとおりです。<br /><br /> -   **None**: トランスポート レベルで認証は行われません。<br />-   **基本的な**: 基本認証。 基本認証では、ユーザー名とパスワードは、ネットワークを経由してプレーン テキストで送信されます。 資格情報に対応するドメイン ユーザー アカウントまたはローカル ユーザー アカウントを作成する必要があります。<br />-   **ダイジェスト**: ダイジェスト認証です。 この認証方法は、動作が基本認証とよく似ています。ただし、セキュリティの強化のために、パスワードは、ネットワーク経由でハッシュ値として送信されます。 ダイジェスト認証は、Windows Server オペレーティング システムの認証を実行しているドメイン コントローラーを使用するドメインでのみ使用できます。 クライアントの資格情報に対応するドメイン ユーザー アカウントまたはローカル ユーザー アカウントを作成する必要があります。<br />-   **Ntlm**: NTLM 認証です。 クライアントは、この受信場所にパスワードを送信せずに資格情報を送信できます。 クライアントの資格情報に対応するドメイン ユーザー アカウントまたはローカル ユーザー アカウントを作成する必要があります。<br />-   **Windows**: Windows 統合認証です。 Windows Communication Foundation は、Kerberos または NTLM をネゴシエートします。ドメインが存在する場合には、Kerberos の方とネゴシエートします。 Kerberos を使用する場合は、クライアントがサービス プリンシパル名 (SPN) によってサービスを識別できるようにすることが重要です。 クライアントの資格情報に対応するドメイン ユーザー アカウントまたはローカル ユーザー アカウントを作成する必要があります。<br />-   **証明書**: クライアント証明書を使用してクライアント認証です。 クライアントをこの受信場所に対して認証できるように、クライアントの X.509 証明書の CA 証明書チェーンを、このコンピューターの信頼されたルート証明機関の証明書ストアにインストールする必要があります。 **注:** 、**クライアント資格情報の種類のトランスポート**プロパティが仮想の IIS の認証スキームと一致する必要があります受信場所のディレクトリをホストします。 たとえば、このプロパティが **[Windows]** に設定されている場合は、これをホストする仮想ディレクトリの **[統合 Windows 認証]** も有効にする必要があります。 同様に、このプロパティが **[なし]** に設定されている場合は、この受信場所をホストする仮想ディレクトリへの匿名アクセスを許可する必要があります。 <br /><br /> 既定値は**None**します。|  
   |**メッセージ クライアント資格情報の種類**|メッセージ ベースのセキュリティを使用してクライアント認証を実行するときに使用する、資格情報の種類を指定します。 有効な値は次のとおりです。<br /><br /> -   **ユーザー名**: これを許可する受信場所が要求を使用してクライアントを認証する、 **UserName**資格情報。 ドメインまたはクライアントの資格情報に対応するローカル ユーザー アカウントを作成する必要があります。<br />-   **証明書**: このクライアントを認証の受信場所のクライアント証明書を使用します。 クライアントをこの受信場所に対して認証できるように、クライアントの X.509 証明書の CA 証明書チェーンを、このコンピューターの信頼されたルート証明機関の証明書ストアにインストールする必要があります。<br /><br /> 既定値は**UserName**します。|  
   |**アルゴリズム スイート**|メッセージの暗号化とキー ラップのアルゴリズムを指定します。 これらのアルゴリズムは、セキュリティ ポリシー言語 (WS-SecurityPolicy) 仕様で指定されたアルゴリズムにマップされます。 有効な値は次のとおりです。<br /><br /> -   **Basic128**: Aes128 暗号化、メッセージ ダイジェストに Sha1、Rsa oaep-mgf1p キー ラップします。<br />-   **[Basic128rsa15]**: メッセージの暗号化に Aes128、メッセージ ダイジェストに Sha1、キー ラップに rsa15 を使用します。<br />-   **Basic128Sha256**: メッセージの暗号化に Aes256、メッセージ ダイジェストに Sha256、Rsa oaep-mgf1p キー ラップします。<br />-   **Basic128Sha256Rsa15**: メッセージの暗号化に Aes128、メッセージ ダイジェストに Sha256 をキー ラップに rsa15 を使用します。<br />-   **Basic192**: Aes192 暗号化、メッセージ ダイジェストに Sha1、Rsa oaep-mgf1p キー ラップします。<br />-   **Basic192Rsa15**: メッセージの暗号化に Aes192、メッセージ ダイジェストに Sha1、キー ラップに rsa15 を使用します。<br />-   **Basic192Sha256**: メッセージの暗号化に Aes192、メッセージ ダイジェストに Sha256、Rsa oaep-mgf1p キー ラップします。<br />-   **Basic192Sha256Rsa15**: メッセージの暗号化に Aes192、メッセージ ダイジェストに Sha256、キー ラップに rsa15 を使用します。<br />-   **Basic256**: Aes256 暗号化、メッセージ ダイジェストに Sha1、Rsa oaep-mgf1p キー ラップします。<br />-   **Basic256Rsa15**: メッセージの暗号化に Aes256、メッセージ ダイジェストに Sha1、キー ラップに rsa15 を使用します。<br />-   **Basic256Sha256**: メッセージの暗号化に Aes256、メッセージ ダイジェストに Sha256、Rsa oaep-mgf1p キー ラップします。<br />-   **Basic256Sha256Rsa15**: メッセージの暗号化に Aes256、メッセージ ダイジェストに Sha256 をキー ラップに rsa15 を使用します。<br />-   **TripleDes**: TripleDes 暗号化、メッセージ ダイジェスト認証、Rsa oaep-mgf1p キー ラップには Sha1 です。<br />-   **TripleDesRsa15**: TripleDes 暗号化、メッセージ ダイジェストに Sha1、キー ラップに rsa15 を使用します。<br />-   **TripleDesSha256**: メッセージの暗号化に TripleDes、メッセージ ダイジェストに Sha256、Rsa oaep-mgf1p キー ラップします。<br />-   **TripleDesSha256Rsa15**: メッセージの暗号化に TripleDes、メッセージ ダイジェストに Sha256 をキー ラップに rsa15 を使用します。<br /><br /> 既定値は **[Basic256]** です。|  
   |**サービス証明書の拇印**|クライアントがサービスの認証に使用する、この受信場所に対する X.509 証明書の拇印を指定します。 拇印は、**[参照]** ボタンを使用して **[現在のユーザー]** の場所の **[My]** ストアを参照して選択できます。 **注:** にサービス証明書をインストールする必要があります、**現在のユーザー**この受信場所をホストする受信ハンドラーのユーザー アカウントの場所。 <br /><br /> 最小長: 0<br /><br /> 最大長:40<br /><br /> 既定値は空の文字列です。|  
   |**シングル サインオンの使用**|シングル サインオンを使用して、クライアントの資格情報を取得し、SSO チケットを発行します。 このオプションは、次の「WCF-BasicHttp 受信アダプターに対するエンタープライズ シングル サインオンのサポート」に示すセキュリティ構成に対してのみ有効です。<br /><br /> 既定値はオフです。|  

   **エンタープライズ シングル サインオンのサポート、Wcf-basichttp 受信アダプター**  
   このアダプターは、次の表に示すセキュリティ構成でのみ SSO サーバーから SSO チケットを発行することができます。


   |         **セキュリティ モード**          | **トランスポート クライアントの資格情報の種類** | **メッセージ クライアント資格情報の種類** |
   |------------------------------------|--------------------------------------|------------------------------------|
   |           **トランスポート**            |              **基本**               |                なし                 |
   |           **トランスポート**            |              **ダイジェスト**              |                なし                 |
   |           **トランスポート**            |               **Ntlm**               |                なし                 |
   |           **トランスポート**            |             **Windows**              |                なし                 |
   |           **トランスポート**            |           **[MSSQLSERVER のプロトコルのプロパティ]**            |                なし                 |
   |            **メッセージ**             |                 なし                  |            **UserName**            |
   | **TransportWithMessageCredential** |                 なし                  |            **UserName**            |
   |    **TransportCredentialOnly**     |              **基本**               |                なし                 |
   |    **TransportCredentialOnly**     |              **ダイジェスト**              |                なし                 |
   |    **TransportCredentialOnly**     |               **Ntlm**               |                なし                 |
   |    **TransportCredentialOnly**     |             **Windows**              |                なし                 |
   |    **TransportCredentialOnly**     |           **[MSSQLSERVER のプロトコルのプロパティ]**            |                なし                 |


8. **Wcf-basichttp トランスポートのプロパティ** ダイアログ ボックスで、**メッセージ** タブで、SOAP のデータ選択を指定**本文**要素。  


   |                   プロパティ                    |                                                                                                                                                                                                                                                                                                                                   目的                                                                                                                                                                                                                                                                                                                                    |
   |-----------------------------------------------|---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
   |   **Envelope -- entire \<soap:Envelope\>**    |                                                                                                                                                                                                                                                                    受信メッセージの SOAP **Envelope** 全体から、BizTalk メッセージのボディ部を作成します。<br /><br /> 既定値はオフです。                                                                                                                                                                                                                                                                     |
   | **ボディ--内容\<Soap:body\>要素** |                                                                                                                                                                                                  受信メッセージの SOAP **Body** 要素の内容を使用して、BizTalk メッセージのボディ部を作成します。 **Body** 要素に複数の子要素がある場合は、最初の要素のみが BizTalk メッセージのボディ部になります。<br /><br /> これが既定の設定です。                                                                                                                                                                                                   |
   |   **パス--本文のパスでのコンテンツ**    |                                                                                                                                                                                             **[本文のパス式]** ボックスのボディ パス式を使用して、BizTalk メッセージのボディ部を作成します。 ボディ パス式は、受信メッセージの SOAP **Body** 要素のすぐ下の子要素に対して評価されます。<br /><br /> 既定値はオフです。                                                                                                                                                                                             |
   |           **ボディ パス式**            |                           BizTalk メッセージのボディ部を作成するために使用する受信メッセージの特定の部分を示すボディ パス式を入力します。 このボディ パス式は、受信メッセージの SOAP **Body** 要素のすぐ下の子要素に対して評価されます。 このボディ パス式で複数のノードが返される場合は、最初のノードのみが BizTalk メッセージのボディ部に対して選択されます。 **[パス -- 本文のパスで見つかったコンテンツ]** オプションが選択されている場合は、このプロパティが必要です。<br /><br /> 型:文字列<br /><br /> 最小長: 0<br /><br /> 最大長:32767<br /><br /> 既定値は空の文字列です。                           |
   |               **ノード エンコード**               | Wcf-basichttp 受信アダプターでボディ パス式で識別されるノードのデコードに使用するエンコードの種類を指定、**本文のパス式**テキスト ボックス。<br /><br /> **[パス -- 本文のパスで見つかったコンテンツ]** オプションが選択されている場合は、このプロパティが必要です。 有効な値は次のとおりです。<br /><br /> -   **Base64**: Base64 エンコーディングします。<br />-   **16 進**: 16 進エンコーディングします。<br />-   **文字列**: テキスト エンコード - utf-8<br />-   **XML**: WCF アダプターは、ボディ パス式で選択されたノードの外部の XML を BizTalk メッセージ本文を作成、**本文のパス式**テキスト ボックス。<br /><br /> 既定値は **[XML]** です。 |
   |   **ボディ--BizTalk 応答メッセージの本文**   |                                                                                                                                                                                                                       BizTalk メッセージのボディ部を使用して、送信応答メッセージの SOAP **Body** 要素の内容を作成します。 このプロパティは、要求 - 応答の受信場所に対してのみ有効です。<br /><br /> これが既定の設定です。                                                                                                                                                                                                                        |
   | **テンプレート--テンプレートで指定されたコンテンツ** |                                                                                                                                                                                                                   **[XML]** ボックスで指定されているテンプレートを使用して、送信メッセージの SOAP **Body** 要素の内容を作成します。 このプロパティは、要求 - 応答の受信場所に対してのみ有効です。<br /><br /> 既定値はオフです。                                                                                                                                                                                                                   |
   |                    **XML**                    |                                                                                             送信メッセージの SOAP **Body** 要素の内容に対する XML 形式のテンプレートを入力します。 **[ボディ -- BizTalk 応答メッセージ本文]** オプションが選択されている場合は、このプロパティが必要です。 このプロパティは、要求 - 応答の受信場所に対してのみ有効です。<br /><br /> 型:文字列<br /><br /> 最小長: 0<br /><br /> 最大長:32767<br /><br /> 既定値は **\<bts メッセージの本文の xmlns ="<http://www.microsoft.com/schemas/bts2007>"encoding ="xml"\>** します。                                                                                             |
   |    **エラー発生時に要求メッセージを中断します。**     |                                                                                                                                                                                                                                                 受信パイプラインまたはルーティングの障害によって受信処理に失敗した要求メッセージを保留するかどうかを指定します。<br /><br /> 既定値はオフです。                                                                                                                                                                                                                                                  |
   |    **例外の詳細をエラーに含める**     |                                                                                                                                                                                                                                                                             エラーが発生した場合に、デバッグのために SOAP エラーを返すかどうかを指定します。<br /><br /> 既定値はオフです。                                                                                                                                                                                                                                                                             |

## <a name="create-the-send-port"></a>送信ポートを作成します。

> [!NOTE] 
> できます[送信ポートをプログラムで作成](../core/create-the-receive-location-and-send-port-programmatically.md)です。

1. BizTalk 管理コンソールで、新しい送信ポートを作成するか、既存の送信ポートをダブルクリックして変更します。 詳細については、[送信ポートを作成する方法](../core/how-to-create-a-send-port2.md)を参照してください。 すべての送信ポートのオプションを構成し、指定**Wcf-basichttp**の**型**オプション、**トランスポート**のセクション、**全般**タブ。  

2. **全般**] タブで、**トランスポート**セクションで、[、**構成**横に**型**します。  

3. **Wcf-basichttp トランスポートのプロパティ** ダイアログ ボックスの 、**全般** タブで、エンドポイント アドレス、サービスの id を構成し、 **SOAPAction** HTTP ヘッダーWcf-basichttp 送信ポート。  

   > [!NOTE]
   >  指定した場合、 **https**スキームを**アドレス (URI)** プロパティを構成する必要がある、**セキュリティ モード**プロパティを**トランスポート**または**TransportWithMessageCredential**します。 使用することができます、**セキュリティ**タブを構成、**セキュリティ モード**プロパティ。  

   |       プロパティ        |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  目的                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   |
   |-----------------------|-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
   |   **アドレス (URI)**   |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         必須。 この送信ポートの完全修飾 URI を指定します。 使用して、 **https**または**http**セキュリティ構成に応じてスキーム。<br /><br /> 最大長: 255<br /><br /> 既定値: http://localhost/                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          |
   | **エンドポイント Id** |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              任意。 この送信ポートが必要とするサービスの ID を指定します。 これらの設定により、この送信ポートでサービスを認証できます。 クライアントとサービスの間のハンドシェイク プロセスでは、Windows Communication Foundation (WCF) インフラストラクチャによって、この要素の値と予期されるサービスの ID が照合されます。 指定できる値、 **Identity**プロパティは、セキュリティの構成によって異なります。<br /><br /> 既定値はオフです。                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               |
   |      **操作**       | 指定、 **SOAPAction**送信メッセージの HTTP ヘッダー フィールド。 このプロパティは、メッセージ コンテキスト プロパティも設定できます**WCF です。アクション**パイプラインまたはオーケストレーションします。 2 つの方法でこの値を指定することができます。 シングル アクション形式とアクション マッピング形式。 たとえば、シングル アクション形式にこのプロパティを設定する場合 <http://contoso.com/Svc/Op1-> 、 **SOAPAction**ヘッダーは常に送信メッセージの値に設定、このプロパティで指定します。<br /><br /> 送信アクション マッピング形式でこのプロパティを設定する場合**SOAPAction**ヘッダーはによって決定されます、 **BTS します。操作**コンテキスト プロパティ。 たとえば、このプロパティは、次の XML 形式に設定されている場合、 **BTS です。操作**を Op1 に設定されているプロパティ、WCF 送信アダプタを使用して <http://contoso.com/Svc/Op1> アウトゴーイング**SOAPAction**ヘッダー。<br /><br /> \<BtsActionMapping\><br /><br /> \<Operation Name="Op1" Action="<http://contoso.com/Svc/Op1>" \><br /><br /> \<操作名"Op2"アクションを = ="<http://contoso.com/Svc/Op2>" \><br /><br /> \</BtsActionMapping\><br /><br /> 送信メッセージは、オーケストレーション ポートからに関しては場合、オーケストレーション インスタンスは動的に設定、 **BTS します。操作**ポートの操作の名前を持つプロパティです。 設定することができますコンテンツ ベースのルーティングでは、送信メッセージがルーティングされている場合、 **BTS します。操作**パイプライン コンポーネントのプロパティ。<br /><br /> 最小長: 0<br /><br /> 最大長:32767<br /><br /> 既定値は空の文字列です。 |


4. **Wcf-basichttp トランスポートのプロパティ**の**バインド** タブで、タイムアウトを構成し、エンコードのプロパティ。 


   |                 プロパティ                  |                                                                                                                                                                                                                                                                                                                                                          目的                                                                                                                                                                                                                                                                                                                                                          |
   |-------------------------------------------|------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
   |        **オープン タイムアウト (hh:mm:ss)**         |                                                                                                                                                                                                                              チャネルを開く操作が完了するまでの間隔を示す期間値を指定します。 **System.TimeSpan.Zero**以上の値を指定してください。<br /><br /> 既定値:00:01:00<br /><br /> 最大値: 23:59:59                                                                                                                                                                                                                               |
   |        **送信タイムアウト (hh:mm:ss)**         |                                                                                                                                                   送信操作が完了するまでの間隔を示す期間値を指定します。 **System.TimeSpan.Zero**以上の値を指定してください。 送信請求 - 応答の送信ポートを使用する場合は、サービスから大きいメッセージが返される場合でも、この値には対話処理がすべて完了するまでの時間を指定します。<br /><br /> 既定値:00:01:00<br /><br /> 最大値: 23:59:59                                                                                                                                                    |
   |        **クローズ タイムアウト (hh:mm:ss)**        |                                                                                                                                                                                                                               チャネルを閉じる操作が完了するまでの間隔を示す期間値を指定します。 この値は、以上にすることは**System.TimeSpan.Zero**します。<br /><br /> 既定値:00:01:00<br /><br /> 最大値: 23:59:59                                                                                                                                                                                                                                |
   | **受信したメッセージの最大サイズ (バイト)** | 有線ネットワーク上で受信できる、ヘッダーを含むメッセージの最大サイズをバイト単位で指定します。 メッセージのサイズは、各メッセージに割り当てられているメモリの量に制限されます。 このプロパティを使用して、サービス拒否 (DoS) 攻撃にさらされる危険性を制限できます。<br /><br /> Wcf-basichttp アダプターの活用、 [BasicHttpBinding](http://go.microsoft.com/fwlink/?LinkId=81086)エンドポイントとの通信に、バッファリングされた送信モードでのクラス。 バッファリングされたトランスポート モードの場合、 [BasicHttpBinding.MaxBufferSize](http://go.microsoft.com/fwlink/?LinkId=80659)プロパティは常にこのプロパティの値を等しくします。<br /><br /> 既定値:65536<br /><br /> 最大値: 2147483647 |
   |           **メッセージのエンコード**            |                                                                                                                                                                                                                         SOAP メッセージをエンコードするために使用されるエンコーダーを指定します。 有効な値は次のとおりです。<br /><br /> -   **テキスト**: テキスト メッセージ エンコーダーを使用します。<br />-   **Mtom**: Message Transmission 組織 Mechanism 1.0 (MTOM) エンコーダーを使用します。<br /><br /> 既定値:**テキスト**                                                                                                                                                                                                                          |
   |             **テキスト エンコード**             |                                                                                                                                                                           文字セットのバインディングでメッセージを出力するために使用するエンコードを指定するときに、**メッセージ エンコーディング**プロパティに設定されて**テキスト**。 有効な値は次のとおりです。<br /><br /> -   **utf 16BE (unicodeFFFE)**: Unicode BigEndian エンコーディングします。<br />-   **utf-16**: 16 ビット エンコーディングします。<br />-   **utf-8**: 8 ビット エンコード<br /><br /> 既定値: **utf-8**                                                                                                                                                                            |


5. **Wcf-basichttp トランスポートのプロパティ** ダイアログ ボックスの 、**セキュリティ** タブで、Wcf-basichttp 送信ポートのセキュリティ機能を定義します。


   |                プロパティ                |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          目的                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           |
   |----------------------------------------|---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
   |           **セキュリティ モード**            |                                                                                                                                                                                                                       使用するセキュリティの種類を指定します。 有効な値は次のとおりです。<br /><br /> -   **None**: メッセージが転送中にセキュリティ保護されません。<br />-   **トランスポート**: HTTPS トランスポートを使用してセキュリティを提供します。 SOAP メッセージは、HTTPS を使用してセキュリティ保護されます。 サービスの証明書を使用してサービスを送信ポートに対して認証できるように、サービスの X.509 証明書の CA 証明書チェーンを、このコンピューターの信頼されたルート証明機関の証明書ストアにインストールする必要があります。<br />-   **メッセージ**: SOAP メッセージ セキュリティを使用してセキュリティを提供します。 既定では、SOAP**本文**要素は暗号化および署名されます。 唯一の有効な**クライアント資格情報の種類のメッセージ**Wcf-basichttp 送信アダプターは**証明書**します。 このモードには、HTTP トランスポートが必要です。<br />-   **TransportWithMessageCredential**: 整合性、機密性、およびサービスの認証は、HTTPS トランスポートによって提供されます。 サービスの X.509 証明書の CA 証明書チェーンは、サービスの証明書を使用して、送信ポートには、サービスを認証できるように、このコンピューターの信頼されたルート証明機関の証明書ストアにインストールする必要があります。 送信ポートの認証は、SOAP メッセージのセキュリティによって提供されます。<br />-   **TransportCredentialOnly**: このモードではメッセージの整合性と機密性を提供しません。 HTTP ベースのクライアント認証が提供されます。 このモードは注意して使用してください。 トランスポート セキュリティが他の手段 (IPSec など) によって提供され、WCF インフラストラクチャによってクライアント認証のみが提供される環境で使用する必要があります。<br /><br /> 既定値は**None**します。                                                                                                                                                                                                                        |
   |  **トランスポート クライアントの資格情報の種類**  |                                                                                                                                                                                                                                                                                                                                      送信ポート認証の実行時に使用する資格情報の種類を指定します。 有効な値は次のとおりです。<br /><br /> -   **None**: トランスポート レベルで認証は行われません。<br />-   **基本的な**: 基本認証。 基本認証では、ユーザー名とパスワードは、ネットワークを経由してプレーン テキストで送信されます。 このオプションは、構成する必要があります、**クライアント資格情報**プロパティ。<br />-   **ダイジェスト**: ダイジェスト認証です。 この認証方法は、動作が基本認証とよく似ています。ただし、セキュリティの強化のために、パスワードは、ネットワーク経由でハッシュ値として送信されます。 ダイジェスト認証は、Windows Server オペレーティング システムの認証を実行しているドメイン コントローラーを使用するドメインでのみ使用できます。 このオプションは、構成する必要があります、**クライアント資格情報**プロパティ。<br />-   **Ntlm**: NTLM 認証です。 この送信ポートを実行するユーザー アカウントは、サービスがこの送信ポートを認証するために使用されます。<br />-   **Windows**: Windows 統合認証です。 この送信ポートを実行するユーザー アカウントは、サービスがこの送信ポートを認証するために使用されます。<br />-   **証明書**: を通じて指定されたクライアント証明書を使用してクライアント認証、**クライアント証明書の拇印**プロパティ。 サービス証明書がを介して提供する必要があるこの資格情報の種類を使用する場合、**サービス証明書の拇印**プロパティ。<br /><br /> 既定値は**None**します。                                                                                                                                                                                                                                                                                                                                       |
   |   **メッセージ クライアント資格情報の種類**   |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                メッセージ ベースのセキュリティを使用してクライアント認証を実行するときに使用する、資格情報の種類を指定します。 有効な値は次のとおりです。<br /><br /> -   **ユーザー名**: この送信ポートを使用してサービスに認証を**UserName**資格情報。 WCF-BasicHttp 送信アダプターは、これをサポートしていません。<br />-   **証明書**: この送信ポートがで指定されたクライアント証明書を使用して、サービスに対して認証、**クライアント証明書の拇印**プロパティ。 さらに、この資格情報の種類を使用する場合、サービス証明書はを介して提供する必要が、**サービス証明書の拇印**プロパティ。<br /><br /> 既定値は**UserName**します。                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                |
   |          **アルゴリズム スイート**           | メッセージの暗号化とキー ラップのアルゴリズムを指定します。 これらのアルゴリズムは、セキュリティ ポリシー言語 (WS-SecurityPolicy) 仕様で指定されたアルゴリズムにマップされます。 有効な値は次のとおりです。<br /><br /> -   **Basic128**: Aes128 暗号化、メッセージ ダイジェストに Sha1、Rsa oaep-mgf1p キー ラップします。<br />-   **[Basic128rsa15]**: メッセージの暗号化に Aes128、メッセージ ダイジェストに Sha1、キー ラップに rsa15 を使用します。<br />-   **Basic128Sha256**: メッセージの暗号化に Aes256、メッセージ ダイジェストに Sha256、Rsa oaep-mgf1p キー ラップします。<br />-   **Basic128Sha256Rsa15**: メッセージの暗号化に Aes128、メッセージ ダイジェストに Sha256 をキー ラップに rsa15 を使用します。<br />-   **Basic192**: Aes192 暗号化、メッセージ ダイジェストに Sha1、Rsa oaep-mgf1p キー ラップします。<br />-   **Basic192Rsa15**: メッセージの暗号化に Aes192、メッセージ ダイジェストに Sha1、キー ラップに rsa15 を使用します。<br />-   **Basic192Sha256**: メッセージの暗号化に Aes192、メッセージ ダイジェストに Sha256、Rsa oaep-mgf1p キー ラップします。<br />-   **Basic192Sha256Rsa15**: メッセージの暗号化に Aes192、メッセージ ダイジェストに Sha256、キー ラップに rsa15 を使用します。<br />-   **Basic256**: Aes256 暗号化、メッセージ ダイジェストに Sha1、Rsa oaep-mgf1p キー ラップします。<br />-   **Basic256Rsa15**: メッセージの暗号化に Aes256、メッセージ ダイジェストに Sha1、キー ラップに rsa15 を使用します。<br />-   **Basic256Sha256**: メッセージの暗号化に Aes256、メッセージ ダイジェストに Sha256、Rsa oaep-mgf1p キー ラップします。<br />-   **Basic256Sha256Rsa15**: メッセージの暗号化に Aes256、メッセージ ダイジェストに Sha256 をキー ラップに rsa15 を使用します。<br />-   **TripleDes**: TripleDes 暗号化、メッセージ ダイジェスト認証、Rsa oaep-mgf1p キー ラップには Sha1 です。<br />-   **TripleDesRsa15**: TripleDes 暗号化、メッセージ ダイジェストに Sha1、キー ラップに rsa15 を使用します。<br />-   **TripleDesSha256**: メッセージの暗号化に TripleDes、メッセージ ダイジェストに Sha256、Rsa oaep-mgf1p キー ラップします。<br />-   **TripleDesSha256Rsa15**: メッセージの暗号化に TripleDes、メッセージ ダイジェストに Sha256 をキー ラップに rsa15 を使用します。<br /><br /> 既定値は **[Basic256]** です。 |
   |  **クライアント証明書の拇印**  |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 この送信ポートをサービスに対して認証する際に使用する X.509 証明書の拇印を指定します。 移動して、拇印を選択することができます、**マイ**で格納、**現在のユーザー**の場所を**参照**ボタンをクリックします。 **注:** にクライアント証明書をインストールする必要があります、**現在のユーザー**これをホストする送信ハンドラーのユーザー アカウントの場所の送信ポート。 <br /><br /> 最小長: 0<br /><br /> 最大長:40<br /><br /> 既定値は空の文字列です。                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  |
   |  **サービス証明書の拇印**  |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             この送信ポートのメッセージ送信先のサービスを認証する際に使用する X.509 証明書の拇印を指定します。 拇印を選択することができます、**その他のユーザー**で格納、**ローカル マシン**の場所を**参照**ボタンをクリックします。<br /><br /> 最小長: 0<br /><br /> 最大長:40<br /><br /> 既定値は空の文字列です。                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              |
   |       **ユーザー名資格情報**        |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     メッセージを送信するための資格情報を指定します。 クリックしてプロパティを指定することができます、**編集**ボタンをクリックします。 このオプションは、次の「WCF-BasicHttp 送信アダプターに対するエンタープライズ シングル サインオンのサポート」に示すセキュリティ構成に対してのみ有効です。<br /><br /> 既定値は**シングル サインオンを使用しないでください**します。                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      |
   | **Service Bus 接続情報** |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    以降では新しい[!INCLUDE[bts2016_md](../includes/bts2016-md.md)]します。<br/><br/>Shared Access Signature (SAS) または Service Bus 名前空間の Access Control Service (ACS) を使用する場合に選択します。 <br/><br/>オプションを選択し、**編集**キー情報を入力します。<br/><br/> - **Shared Access Signature** : アクセス キー名、およびアクセス キーを入力します。 両方の値が記載されて、 [Azure portal](https://portal.azure.com)します。<br/> - **Access Control Service** : STS URI を入力します (`https://<yourNamespace>-sb.accesscontrol.windows.net/`)、発行者名、および発行者キー。 」の説明に従って、Windows PowerShell を使用してこれらの値を取得する[Sb-messaging アダプター](../core/sb-messaging-adapter.md)します。                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    |

   **エンタープライズ シングル サインオンのサポート、Wcf-basichttp 送信アダプター**  
   WCF-BasicHttp 送信アダプターは、次の表に示すセキュリティ構成でのみ、ユーザーの資格情報を取得するために、SSO サーバーから SSO チケットを引き換えることができます。  

   |**セキュリティ モード**|**トランスポート クライアントの資格情報の種類**|**メッセージ クライアント資格情報の種類**|  
   |-----------------------|------------------------------------------|----------------------------------------|  
   |**トランスポート**|**基本**|なし|  
   |**トランスポート**|**ダイジェスト**|なし|  
   |**TransportCredentialOnly**|**基本**|なし|  
   |**TransportCredentialOnly**|**ダイジェスト**|なし|  
   |**メッセージ**|なし|**UserName**|  
   |**TransportWithMessageCredential**|なし|**UserName**|   


6. **Wcf-basichttp トランスポートのプロパティ** ダイアログ ボックスの 、**プロキシ** タブで、Wcf-basichttp 送信ポートのプロキシ設定を構成します。 


   |                 プロパティ                 |                                                                                                                                                                                                                                                              目的                                                                                                                                                                                                                                                              |
   |------------------------------------------|--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
   | **ハンドラーの既定のプロキシ設定を使用して、** |                                                                                                                                                                                             この送信ポートがホストされている送信ハンドラーのプロキシ設定を使用するかどうかを指定します。<br /><br /> これが既定の設定です。                                                                                                                                                                                              |
   |           **プロキシを使用しません。**           |                                                                                                                                                                                                                    この送信ポートがプロキシ サーバーを使用するかどうかを示します。<br /><br /> 既定値はオフです。                                                                                                                                                                                                                    |
   |              **[プロキシを使用する]**               |                                                                                                                                                                                                この送信ポートがで指定されたプロキシ サーバーを使用するかどうかを示す、**アドレス**プロパティ。<br /><br /> 既定値はオフです。                                                                                                                                                                                                |
   |               **Address**                |                                                            プロキシ サーバーのアドレスを指定します。 使用して、 **https**または**http**セキュリティ構成に応じてスキーム。 このアドレスの後に、コロンとポート番号を指定します。 たとえば、 http://127.0.0.1:8080 のようにします。<br /><br /> このプロパティには値の場合にのみ**プロキシを使用して、** が選択されています。<br /><br /> 型:文字列<br /><br /> 最大長: 256<br /><br /> 既定値は空の文字列です。                                                            |
   |              **ユーザー名**               | 認証に使用するユーザー名を指定します。 統合認証が使用されている場合、ユーザー名にはドメインが含まれ、"ドメイン\ユーザー名" となります。 基本認証またはダイジェスト認証を使用する場合、ユーザー名がドメインを含まない\\します。 このプロパティには値の場合にのみ**プロキシを使用して、** が選択されています。 **注:** Wcf-basichttp 送信アダプターの使用、プロキシに対して基本認証。 <br /><br /> 型:文字列<br /><br /> 最小長: 0<br /><br /> 最大長: 256<br /><br /> 既定値は空の文字列です。 |
   |               **Password**               |                                                                                                                                   認証に使用するパスワードを指定します。<br /><br /> このプロパティには値の場合にのみ**プロキシを使用して、** が選択されています。<br /><br /> 型:文字列<br /><br /> 最小長: 0<br /><br /> 最大長: 256<br /><br /> 既定値は空の文字列です。                                                                                                                                   |


7. **Wcf-basichttp トランスポートのプロパティ** ダイアログ ボックスで、**メッセージ** タブで、SOAP のデータ選択を指定**本文**要素。 


   |                   プロパティ                    |                                                                                                                                                                                                                                                                                                                                                          目的                                                                                                                                                                                                                                                                                                                                                          |
   |-----------------------------------------------|------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
   |   **ボディ--BizTalk 要求メッセージの本文**    |                                                                                                                                                                                                                                                                                    BizTalk メッセージのボディ部を使用して、SOAP のコンテンツを作成する**本文**送信メッセージの要素。<br /><br /> これが既定の設定です。                                                                                                                                                                                                                                                                                    |
   | **テンプレート--テンプレートで指定されたコンテンツ** |                                                                                                                                                                                                                                                                           **[XML]** ボックスで指定されているテンプレートを使用して、送信メッセージの SOAP **Body** 要素の内容を作成します。<br /><br /> 既定値はオフです。                                                                                                                                                                                                                                                                            |
   |                    **XML**                    |                                                                                                                                                  送信メッセージの SOAP **Body** 要素の内容に対する XML 形式のテンプレートを入力します。 **[ボディ -- BizTalk 応答メッセージ本文]** オプションが選択されている場合は、このプロパティが必要です。<br /><br /> 型:文字列<br /><br /> 最小長: 0<br /><br /> 最大長:32767<br /><br /> 既定値は < bts メッセージの本文<br /><br /> xmlns="<http://www.microsoft.com/schemas/bts2007>" encoding="xml"/>.                                                                                                                                                  |
   |   **Envelope -- entire \<soap:Envelope\>**    |                                                                                                                                                                                                                                                               受信メッセージの SOAP **Envelope** 全体から、BizTalk メッセージのボディ部を作成します。 このプロパティは、送信請求 - 応答のポートに対してのみ有効です。<br /><br /> 既定値はオフです。                                                                                                                                                                                                                                                               |
   | **ボディ--内容\<Soap:body\>要素** |                                                                                                                                                                                             受信メッセージの SOAP **Body** 要素の内容を使用して、BizTalk メッセージのボディ部を作成します。 **Body** 要素に複数の子要素がある場合は、最初の要素のみが BizTalk メッセージのボディ部になります。 このプロパティは、送信請求 - 応答のポートに対してのみ有効です。<br /><br /> これが既定の設定です。                                                                                                                                                                                             |
   |   **パス--本文のパスでのコンテンツ**    |                                                                                                                                                                                       **[本文のパス式]** ボックスのボディ パス式を使用して、BizTalk メッセージのボディ部を作成します。 ボディ パス式は、受信メッセージの SOAP **Body** 要素のすぐ下の子要素に対して評価されます。 このプロパティは、送信請求 - 応答のポートに対してのみ有効です。<br /><br /> 既定値はオフです。                                                                                                                                                                                        |
   |           **ボディ パス式**            |                       BizTalk メッセージのボディ部を作成するために使用する受信メッセージの特定の部分を示すボディ パス式を入力します。 このボディ パス式は、SOAP の直接の子要素に対して評価される**本文**受信メッセージのノード。 このボディ パス式で複数のノードが返される場合は、最初のノードのみが BizTalk メッセージのボディ部に対して選択されます。 **[パス -- 本文のパスで見つかったコンテンツ]** オプションが選択されている場合は、このプロパティが必要です。 このプロパティは、送信請求 - 応答のポートに対してのみ有効です。<br /><br /> 型:文字列<br /><br /> 最小長: 0<br /><br /> 最大長:32767<br /><br /> 既定値は空の文字列です。                       |
   |               **ノード エンコード**               | ボディ パス式で識別されるノードに対して、Wcf-basichttp 送信アダプターがデコードに使用するエンコードの種類を指定、**本文のパス式**テキスト ボックス。 **[パス -- 本文のパスで見つかったコンテンツ]** オプションが選択されている場合は、このプロパティが必要です。 このプロパティは、送信請求 - 応答のポートに対してのみ有効です。 有効な値は次のとおりです。<br /><br /> -   **Base64**: Base64 エンコーディングします。<br />-   **16 進**: 16 進エンコーディングします。<br />-   **文字列**: テキスト エンコード - utf-8<br />-   **XML**: WCF アダプターは、ボディ パス式で選択されたノードの外部の XML を BizTalk メッセージ本文を作成、**本文のパス式**テキスト ボックス。<br /><br /> 既定値は **[XML]** です。 |
   |          **エラー メッセージを伝達します。**          |                                                                                                                                                                              送信処理に失敗したメッセージを、他の受信ポートやオーケストレーション スケジュールなど、そのメッセージをサブスクライブしているアプリケーションに回送する場合は、このチェック ボックスをオンにします。 失敗したメッセージを保留し、否定の確認 (NACK) を生成する場合は、このチェック ボックスをオフにします。 このプロパティは、送信請求 - 応答のポートに対してのみ有効です。<br /><br /> 既定値が選択されます。                                                                                                                                                                               |

## <a name="add-a-proxy-to-the-send-handler"></a>送信ハンドラーにプロキシを追加します。

プロキシは、送信ポートまたは送信ハンドラーを追加できます。 送信ポートでプロキシを追加する場合は、このセクションをスキップします。

1. [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)]管理コンソールで、展開[!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)]管理、展開**BizTalk グループ**、展開**プラットフォームの設定**、順に展開**アダプター**.  

2. 選択**Wcf-basichttp**と double 選択の送信ハンドラー。  

3. **アダプター ハンドラーのプロパティ**の**全般**] タブで [**プロパティ**します。  

4. **プロキシ** タブで、次の操作を行います。  


   |   プロパティ    |                                                                                                                                                                                                                        目的                                                                                                                                                                                                                        |
   |---------------|----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
   | **[プロキシを使用する]** |                                                                                                                                                                            この送信ハンドラーがプロキシ サーバーを使用するかどうかを示します。<br /><br /> 既定値はオフです。                                                                                                                                                                             |
   |  **Address**  |                      プロキシ サーバーのアドレスを指定します。 使用して、 **https**または**http**セキュリティ構成に応じてスキーム。 このアドレスの後に、コロンとポート番号を指定します。 たとえば、 http://127.0.0.1:8080 のようにします。<br /><br /> このプロパティには値の場合にのみ**プロキシを使用して、** が選択されています。<br /><br /> 型:文字列<br /><br /> 最大長: 256<br /><br /> 既定値は空の文字列です。                      |
   | **ユーザー名** | 認証に使用するユーザー名を指定します。 統合認証または基本認証が使用されている場合は、"ドメイン\ユーザー名" のように、ユーザー名にドメインを含めます。 ダイジェスト認証を使用する場合、ユーザー名がドメインを含まない\\します。<br /><br /> このプロパティには値の場合にのみ**プロキシを使用して、** が選択されています。<br /><br /> 型:文字列<br /><br /> 最小長: 0<br /><br /> 最大長: 256<br /><br /> 既定値は空の文字列です。 |
   | **Password**  |                                                                                             認証に使用するパスワードを指定します。<br /><br /> このプロパティには値の場合にのみ**プロキシを使用して、** が選択されています。<br /><br /> 型:文字列<br /><br /> 最小長: 0<br /><br /> 最大長: 256<br /><br /> 既定値は空の文字列です。                                                                                             |


5. クリックして**OK**すべてのダイアログ ボックスを終了するまでです。  

   ## <a name="see-also"></a>関連項目

[WCF アダプターについて](../core/what-are-the-wcf-adapters.md)

[Sb-messaging アダプター](../core/sb-messaging-adapter.md)

[アダプターの使用](../core/using-adapters.md)
