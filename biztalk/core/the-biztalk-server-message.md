---
title: BizTalk Server メッセージ |Microsoft Docs
ms.custom: ''
ms.date: 06/08/2017
ms.prod: biztalk-server
ms.reviewer: ''
ms.suite: ''
ms.tgt_pltfrm: ''
ms.topic: article
helpviewer_keywords:
- messages, properties
- messages, about messages
ms.assetid: 6048c191-b495-4fdc-b547-e3e322340a49
caps.latest.revision: 17
author: MandiOhlinger
ms.author: mandia
manager: anneta
ms.openlocfilehash: 012bb1f9602b6afa02ab609d8ff2e1b967117bce
ms.sourcegitcommit: 381e83d43796a345488d54b3f7413e11d56ad7be
ms.translationtype: MT
ms.contentlocale: ja-JP
ms.lasthandoff: 05/07/2019
ms.locfileid: "65298877"
---
# <a name="the-biztalk-server-message"></a>BizTalk Server メッセージ
[!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] 基本的には、メッセージの処理エンジンです。 詳細を理解する[!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)]メッセージとそれらの表示、保存、および BizTalk Server で処理を理解することが重要です。 メッセージを使用した BizTalk Server のしくみの詳細については、メッセージの理解を獲得した後に理解しやすいになります。  
  
 BizTalk Server 内の各メッセージを使用して、マルチパート メッセージに見なされ、0 個以上の部分構成されます。 1 つまたは複数の部分を各メッセージがボディ部として認識される部分のいずれかです。 XML ドキュメント、フラット ファイル、シリアル化された .NET クラス、またはその他のバイナリ ストリームのデータを表すデータのバイナリ データの各部分で構成されます。 ルーティングに使用できるメッセージの種類を識別するために、メッセージのボディ部を使用するとします。  
  
 すべてのメッセージは不変である非常に重要な概念を理解するは[!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)]します。 これは、メッセージの構築後に変更できないことを意味します。 メッセージは、メッセージ ボックス データベースに格納される構築されたと見なされます。 メッセージへの変更は、新しいメッセージが作成され、その時点から使用する必要があります。 これは、コンパイル ルールを強制すると、それを使用する前に、メッセージの構築に関する厳密なガイドラインに従うし、メッセージの構築ブロックの外部で変更できないようにする、オーケストレーション デザイナーで特に明白です。 メッセージを変更する必要がある場合、同じ種類のメッセージを作成する新しい構築ブロックを作成、新しいメッセージに、元のメッセージをコピー、構築ブロックを終了する前に、新しいメッセージに変更を加えるし、する必要があります。  
  
## <a name="message-properties"></a>メッセージのプロパティ  
 システム内の各メッセージだけでなく、メッセージを構成する部品と呼ばれるものに付随するプロパティのセットがあります、*メッセージ コンテキスト*します。 これらのプロパティから抽出された、またはメッセージ自体に関連する値を指定できます。 たとえば、アダプターは、位置、メッセージを受信した、場所など、メッセージの受信に関連するコンテキストとメッセージを受信するために使用されたアダプターの種類にプロパティを配置します。 プロパティは、コンテキストに書き込むかできますまたは*昇格*コンテキストにします。 これら 2 つのオプションの違いは、昇格させたプロパティをメッセージのルーティング、書き込まれたプロパティの条件として使用できることです。  
  
 この概念の書き込みまたは昇格の値をコンテキストに関連していますとは異なりますが、BizTalk エディターでプロパティを昇格します。 BizTalk エディターで、要素または属性をスキーマにフラグを設定できます昇格させたプロパティまたは識別フィールドとして。 メッセージ スキーマ内の PropertyField 注釈でマークされている項目は、コンテキストで昇格させたプロパティを設定するパイプラインの逆アセンブラーになります。 メッセージ スキーマ内の DistinguishedField 注釈でマークされている項目をコンテキストに書き込まれたプロパティを設定するパイプラインの逆アセンブラーになります。  
  
 昇格させたプロパティのデザインのデザインの使用を開始*メッセージの相関関係*: 既に実行中のオーケストレーション インスタンスに受信されるメッセージに関連する機能。 関連付けを行うプロパティまたはオーケストレーションでメッセージの間のリンクを提供するプロパティのセットを定義する必要があります。 たとえば、購入のプロセスで、PurchaseOrderID に基づいてメッセージを関連付ける必要があります。 ただし、多くのビジネス ケースの特定のフィールドまたはメッセージ内の属性の名前が一致しません。 注文書スキーマには、請求書のスキーマに OrderID という要素を持つ可能性があります、POId をという名前の要素があります。 このような状況で PurchaseOrderID などの名前付きのプロパティでメッセージを関連付けるために、開発者は、値のソースから使用するプロパティの名前を抽象化できる必要があります。 プロパティ スキーマでは、この抽象化をサポートします。  
  
 A*プロパティ スキーマ*を共通の場所で昇格させたプロパティを定義し、他のスキーマで参照できます。 他のスキーマのようにプロパティ スキーマが、名前空間が、他のスキーマとは異なりできますのみが定義要素 (つまり、いないレコードまたは属性)。 プロパティ スキーマで定義されている各要素は、名前と型を持ちます。 プロパティ スキーマは、1 つ以上のスキーマが参照する必要があり、プロパティ スキーマの情報は、実行時にコンポーネントに使用できる必要があるため、プロパティ スキーマは他のすべてのスキーマのように BizTalk Server に展開を取得する必要があります。 通常のスキーマ展開の手順だけでなく、昇格させたプロパティに関する情報が抽出され、管理データベースの bts_documentSpec テーブルに格納されています。  
  
 プロパティ スキーマが作成されたら、要素と属性を同じ入力 (たとえばします。 整数型) は、プロパティ スキーマの名前付きプロパティの 1 つとして昇格できます。  
  
 **上記の例を完了するには、開発者は、関連付けに必要な共有のプロパティを定義する次の手順を実行します。**  
  
1. プロパティ スキーマを作成し、PurchaseOrderId という xs:int 型の要素を定義します。  
  
2. PurchaseOrder スキーマを作成し、要素または POId という xs:int 型の属性を追加します。  
  
3. BizTalk エディターでの昇格の表示コマンドを使用して、開発者は昇格させたプロパティの一覧に POId フィールドを追加して、PurchaseOrderId を選択して、プロパティ スキーマで定義された PurchaseOrderId プロパティとして昇格することを示します一覧から名前付きプロパティ。  
  
4. 請求書スキーマを作成し、要素または OrderId という xs:int 型の属性を追加します。  
  
5. BizTalk エディターでの昇格の表示コマンドを使用して、開発者は昇格させたプロパティの一覧に OrderId フィールドを追加し、PurchaseOrderId を選択して、プロパティ スキーマで定義された PurchaseOrderId プロパティとして昇格することを示します一覧から名前付きプロパティ。  
  
   これでこの定義は、ドキュメント スキーマが存在する、パイプライン コンポーネント正しく昇格できます。 OrderId と POId 名前付きプロパティ PurchaseOrderID としてルーティングと相関関係のために使用できるようにします。 この昇格プロセスの詳細については、このドキュメントで「メッセージの処理」トピックを参照してください。  
  
   昇格させたプロパティの利点の 1 つは、昇格させた要素の値がメッセージのコンテキストで使用できることです。 つまり、値を取得するがないこと、高価なように、メッセージをメッセージの XPath ステートメントを実行するメモリに読み込む必要はありません。 代わりに、単純なプロパティ バッグは、値を取得するキーと共に使用できます。 この種類の動作はメッセージのルーティング以外の状況に適して、識別フィールドを作成する理由です。 昇格させたプロパティがメッセージ コンテキストに昇格させると、中に、識別フィールドは、メッセージ コンテキストに書き込まれます。 昇格させたプロパティとは異なりは識別フィールドのプロパティ スキーマです。 これは、ため、識別フィールドのルーティングに使用することはできませんを使用できるように、送信ポートまたはオーケストレーションのフィルター条件の受信図形です。 ただしフィールドを識別、メッセージをメモリに読み込むし、値を抽出する代わりに、メッセージ コンテキストから値を書き込んだり読み取ったりするオーケストレーションで使用できます。  
  
   昇格させるか、メッセージ コンテキストにプロパティを書き込む、だけでなくメッセージの述語はまた、コンテキストに追加します。 メッセージの述語は、BizTalk Server のセキュリティ対策として使用しにルーティングされるメッセージである任意のホストに対して指定された値に一致する必要がありますメッセージに関するコンテキスト情報を提供します。 このセキュリティ対策を受信して、特定のメッセージを処理できる唯一のホストに特定のホストを許可するように、BizTalk Server 環境を構成することができます。 たとえば、BizTalk Server 管理コンソールで、メッセージのデコードおよび暗号化解除に使用する証明書の拇印を持つホストを構成できます。 このプロパティを構成すると、メッセージ ボックス データベースでは、そのホストのアプリケーション プロパティが作成されます。 受信したメッセージをセキュリティで保護し、この拇印を使用して復号化されたは、ルーティングのみのホストに拇印が構成されているのです。  
  
## <a name="see-also"></a>参照  
 [ランタイム アーキテクチャ](../core/runtime-architecture.md)