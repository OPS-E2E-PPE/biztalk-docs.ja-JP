---
title: 調整のしきい値の調整。タイミングと理由 |Microsoft Docs
ms.custom: ''
ms.date: 06/08/2017
ms.prod: biztalk-server
ms.reviewer: ''
ms.suite: ''
ms.tgt_pltfrm: ''
ms.topic: article
ms.assetid: 9afb26c8-e5f4-4b78-9a45-a1263e3cb6ab
caps.latest.revision: 5
author: MandiOhlinger
ms.author: mandia
manager: anneta
ms.openlocfilehash: 3fa8ad1a9c8c9c94bc41bc4ca33b3fb8763d2b69
ms.sourcegitcommit: 381e83d43796a345488d54b3f7413e11d56ad7be
ms.translationtype: MT
ms.contentlocale: ja-JP
ms.lasthandoff: 05/07/2019
ms.locfileid: "65360117"
---
# <a name="adjusting-throttling-thresholds-when-and-why"></a><span data-ttu-id="1ad37-102">調整のしきい値の調整。タイミングと理由</span><span class="sxs-lookup"><span data-stu-id="1ad37-102">Adjusting Throttling Thresholds: When and Why</span></span>
<span data-ttu-id="1ad37-103">調整する際、1 つのサイズが収まらないすべて。</span><span class="sxs-lookup"><span data-stu-id="1ad37-103">When it comes to throttling, one size does not fit all.</span></span> <span data-ttu-id="1ad37-104">最適な設定にする必要がありますを決定する要素の範囲があります。</span><span class="sxs-lookup"><span data-stu-id="1ad37-104">There are a range of factors that will determine what the optimal settings should be.</span></span> <span data-ttu-id="1ad37-105">BizTalk Server が効果的にシステムを保護することからテストを通じて実証されている既定値を提供するすぐに使えるバックログ過多など。</span><span class="sxs-lookup"><span data-stu-id="1ad37-105">Out of the box, BizTalk Server provides default values that have been proven through testing to effectively protect a system from things like backlog overages.</span></span> <span data-ttu-id="1ad37-106">ただし、一部のシナリオでは、厳しすぎる時間ことが考えられます。</span><span class="sxs-lookup"><span data-stu-id="1ad37-106">However, for some scenarios, this may be too aggressive.</span></span> <span data-ttu-id="1ad37-107">次の例では、この点を説明します。</span><span class="sxs-lookup"><span data-stu-id="1ad37-107">The following examples illustrate this point.</span></span>  
  
## <a name="example-1-peak-loads-and-database-size"></a><span data-ttu-id="1ad37-108">例 1 : ピーク時の負荷とデータベースのサイズ</span><span class="sxs-lookup"><span data-stu-id="1ad37-108">Example 1: Peak Loads and Database Size</span></span>  
 <span data-ttu-id="1ad37-109">BizTalk Server 上に構築された各ソリューションには、最大持続可能スループット (MST) があります。</span><span class="sxs-lookup"><span data-stu-id="1ad37-109">Each solution built on BizTalk Server has a maximum sustainable throughput (MST).</span></span> <span data-ttu-id="1ad37-110">負荷がこのレベルを下回っている限り、システムが維持できるその負荷、無期限に定義します。</span><span class="sxs-lookup"><span data-stu-id="1ad37-110">As long as load stays below this level, the system can sustain that load indefinitely, by definition.</span></span> <span data-ttu-id="1ad37-111">ただし、実際がするに時間の経過と共に変化しない安定した負荷よりも、山と谷ロード プロファイルが一般的です。</span><span class="sxs-lookup"><span data-stu-id="1ad37-111">In practice, however, it is more common to have peaks and valleys in the load profile than it is to have a steady load that doesn’t vary over time.</span></span>  
  
 <span data-ttu-id="1ad37-112">負荷を無期限に維持の最も高いピーク時の対応しているシステムのビルドではなく、コスト効率にピーク時の負荷、ある程度のバックログを処理したり、谷中に回復するシステムを構築します。</span><span class="sxs-lookup"><span data-stu-id="1ad37-112">Rather than build a system that is capable of sustaining the highest peak loads indefinitely, it is more cost effective to build a system that can handle some backlog under peak load, and recover during the valleys.</span></span> <span data-ttu-id="1ad37-113">ただし、ピーク時に想定されるバックログが読み込まれる場合は、既定のデータベースのサイズの値の制限を超えるシステムは入力を制限してバックログをブロックし。</span><span class="sxs-lookup"><span data-stu-id="1ad37-113">However, if the backlog expected during the peak loads is higher than the default throttling value for database size, then the system will block the backlog by throttling the input.</span></span> <span data-ttu-id="1ad37-114">これが望ましくない場合など、すべての入力ファイルとして、できるだけ早く使用する必要があるため、ソリューションは発生させる、データベース サイズがしきい値を調整する前に、想定されるバックログを受け入れるように。</span><span class="sxs-lookup"><span data-stu-id="1ad37-114">If this is not desirable, for example, because you need all of the input files to be consumed as quickly as possible, then the solution is to raise the database size threshold to accept the expected backlog before throttling.</span></span>  
  
## <a name="example-2-memory-usage-optimization"></a><span data-ttu-id="1ad37-115">例 2:メモリ使用量の最適化</span><span class="sxs-lookup"><span data-stu-id="1ad37-115">Example 2: Memory Usage Optimization</span></span>  
 <span data-ttu-id="1ad37-116">調整では、処理速度を測定するために別のリソースは、メモリの量はホスト プロセスを使用できます。</span><span class="sxs-lookup"><span data-stu-id="1ad37-116">Another resource that throttling uses in order to gauge processing speed is how much memory is available to host processes.</span></span> <span data-ttu-id="1ad37-117">小さすぎる、使用可能なメモリを取得、しきい値と比較して、調整は速度が低下する、エンジンの取得で作業するホスト キューからメッセージの数。</span><span class="sxs-lookup"><span data-stu-id="1ad37-117">If the available memory gets too small compared to the threshold, throttling will slow down the number of messages the engine retrieves from the host queues to be worked on.</span></span> <span data-ttu-id="1ad37-118">特定の量と今日のエンタープライズ クラスのサーバー上のメモリの可用性にばらつき、特にで x64 がサポート[!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)]しきい値は発生またはメモリ使用量を最適化するために削減する非常にうまく必要があります。</span><span class="sxs-lookup"><span data-stu-id="1ad37-118">Given the variability in the amount and availability of memory on today’s enterprise class servers, especially with x64 support in [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)], the threshold may very well need to be raised or lowered to optimize memory usage.</span></span>  
  
## <a name="recommendation"></a><span data-ttu-id="1ad37-119">推奨</span><span class="sxs-lookup"><span data-stu-id="1ad37-119">Recommendation</span></span>  
 <span data-ttu-id="1ad37-120">スロットル[!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)]なしで、システムの適切な保護を提供する既定で構成されます。</span><span class="sxs-lookup"><span data-stu-id="1ad37-120">Throttling in [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] is configured by default to provide good protection for the system out of the box.</span></span> <span data-ttu-id="1ad37-121">既定の設定は、should not、ただし、常識では、最適です。</span><span class="sxs-lookup"><span data-stu-id="1ad37-121">The default settings should not, however, be taken for granted as optimal.</span></span> <span data-ttu-id="1ad37-122">制限のかどうかは調整が行われて、表示する状態のパフォーマンス カウンターを監視し、自分のゲージのスロットルを適用する上のリソースが基づいている場合 (たとえば、データベースのサイズまたはメモリ使用率) がまたはの上で使用される、スロットルの調整しきい値は切り上げまたは切り捨てです。</span><span class="sxs-lookup"><span data-stu-id="1ad37-122">Monitor the performance counters for throttling states to see if throttling is taking place, then gauge for yourself if the resource on which throttling is based (for example, database size or memory usage) is under or over utilized, then adjust the throttling thresholds up or down accordingly.</span></span>