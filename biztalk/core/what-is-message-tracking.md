---
title: メッセージ追跡について | Microsoft Docs
ms.custom: ''
ms.date: 06/08/2017
ms.prod: biztalk-server
ms.reviewer: ''
ms.suite: ''
ms.tgt_pltfrm: ''
ms.topic: article
helpviewer_keywords:
- HAT, metadata
- HAT, messages
- messages, tracking
- data, HAT
- metadata, tracking
- tracking, metadata
- HAT, data security
- tracking, messages
- configuring [HAT tracking], messages
- data, security
ms.assetid: 51cec59d-b411-4d8f-b771-7b2cf0f38945
caps.latest.revision: 18
author: MandiOhlinger
ms.author: mandia
manager: anneta
ms.openlocfilehash: e20978905628072269b0acf0990d67dc4582b414
ms.sourcegitcommit: 381e83d43796a345488d54b3f7413e11d56ad7be
ms.translationtype: MT
ms.contentlocale: ja-JP
ms.lasthandoff: 05/07/2019
ms.locfileid: "65394032"
---
# <a name="what-is-message-tracking"></a>メッセージ追跡について
メッセージは通常 2 つの間で交換されるデータの電子的なインスタンスのビジネス プロセスやアプリケーションを実行します。 メッセージ本文、メッセージのプロパティおよびメタデータのメッセージ インスタンスが構成されます。  
  
 BizTalk Server 管理コンソールを使用して、メッセージ本文とメッセージ プロパティの追跡を有効にすることができます。 あるスキーマ情報、厳密な名前は、生成されたメッセージのすべての昇格させたプロパティなど、追跡されるメッセージ本文を表示することもできます。  
  
## <a name="message-body"></a>メッセージ本文  
 メッセージ本文の追跡には、送受信されるメッセージの記録が提供します。 本文の追跡サービス インスタンスの処理後にメッセージを保存するにはオンになってが完了したメッセージが必要です。 追跡オプションを設定した後は、メッセージを表示する前に数分かかります。  
  
> [!IMPORTANT]
>  すべてのメッセージ ボックス データベースでは、SQL Server エージェント サービスを実行する必要があります。 Trackedmessages_copy _\<MessageBoxName\>ジョブにより、メッセージ本文の追跡クエリおよび WMI を使用できます。 メッセージ本文を効率的にコピーするには、メッセージ ボックス データベースに保持し、trackedmessages_copy _ では、BizTalk 追跡 (BizTalkDTADb) データベースに定期的にコピーが\<MessageBoxName\>ジョブ。 SQL Server エージェント サービスが実行されていることが正常に動作する、アーカイブおよび削除のプロセスの前提条件もです。  
  
 追跡メッセージを使用して、トラブルシューティングするには、有効にすると、トランザクションの履歴のデータ マイニングを行ったり、受信確認を提供することができます。 入力と出力のポート、パイプライン、およびオーケストレーションでメッセージ本文を追跡できます。 Windows Management Instrumentation (WMI) を介してアプリケーション プログラミング インターフェイス (Api) または (推奨) Operations オブジェクト モデル (OM) を使用して、BizTalk Server 管理コンソールを使用してこれらのメッセージを回復できます。  
  
 BizTalk Server では、正常に、それはない追跡ポイントのいずれかでメッセージを追跡しません。 場合によってが有効でないために、メッセージが中断されたときや、ホストがメッセージを指定していないかどうかなど、追跡されているせず保留キューに配置する可能性があります。 このメッセージを終了する場合は書き留めてことはありません。  
  
> [!IMPORTANT]
>  メッセージ本文の追跡では、監査、法的拘束に代わるものでないし、否認防止をサポートしていません。  
  
## <a name="message-properties"></a>メッセージのプロパティ  
 メッセージ プロパティには、昇格させたプロパティ、ルーティング情報、およびパートナーのデータを取引先が含まれます。 メッセージ プロパティの追跡を使用することがありますが、によって追跡結果リスト内の各メッセージの昇格させたプロパティの記録を提供する何千もの特定のメッセージを検索することができます。 追跡しは、メッセージのサブセットを使用してこれらのプロパティのいずれか。  
  
 コンテキストのプロパティを追跡するには、プロパティを格納するコンテキストで使用する名前空間のプロパティ スキーマを定義します。 そこから、追跡するコンテキスト プロパティを選択できます。BizTalk Server では、昇格させたメッセージ プロパティを追跡する同じ方法でそれらを追跡します。  
  
> [!NOTE]
>  スキーマのプロパティに別の名前を付けることを確認します。 重複する名前を作成する場合、エラー メッセージが表示されます。  
  
 たとえば、注文書スキーマから PO 番号フィールドを昇格させるスキーマ エディターを使用できます。 次に、メッセージの検索ビューを使用して検索できます追跡フィールドに PO 番号などの特定の値が含まれているメッセージ インスタンス 16995 します。  
  
 メッセージ プロパティの追跡は、メッセージ プロパティの追跡のみが選択したフィールドは追跡するために、メッセージ本文の追跡よりもはるかに少ないオーバーヘッドを作成します。 メッセージ プロパティの追跡オプションを設定した後は、プロパティを表示する前に数分かかります。  
  
## <a name="metadata"></a>メタデータ  
 メッセージ インスタンス識別子、オーケストレーションまたはパイプラインがオーケストレーションまたはパイプライン ログ メッセージ、およびその他の追跡に関連する詳細ポイント、メッセージをログ記録などのメタデータ。 ビジネス プロセスにルーティングするメッセージ ボックス データベース内のメッセージには、メッセージの種類や送信元などのコンテキスト プロパティを含める必要があります。 これらのプロパティでは、メタデータになります。 メッセージとサービス インスタンスの追跡では、配信登録の条件を使用して、このメタデータに対してクエリを実行します。  
  
 BizTalk Server 管理コンソールを通じて、特定のシステム スキーマを選択して、コンテキスト プロパティを昇格できます。 すべてのシステム スキーマ Applications\BizTalk.System\Schemas ノードに配置されます。 BizTalk Server がこれらのコンテキスト プロパティをグローバルに追跡します-今すぐのすべてのメッセージ、特定のコンテキスト プロパティの追跡は、します。 これにより、BizTalk 追跡データベースのサイズが大幅に増加します。  
  
## <a name="sensitive-data"></a>機密データ  
 対応するスキーマのプロパティ ウィンドウでは表示されずがそのため、追跡のために使用できなくなったことを確認する次のデータをセキュリティで保護することができます。  
  
-   適用、 **isSensitive**属性プロパティ スキーマでは、機密なプロパティが不要になったメッセージ プロパティの構成の選択内容の追跡で表示されるようにします。  
  
-   すべての既定のトランスポートには、トランスポートを追跡することはできませんので、機密性の高い、指定されているパスワードが含まれます。  
  
-   さらに、これらの機密性の高いプロパティはで、管理データベースのため、追跡に使用できる追跡データベースで直接オプションを設定する場合はありません。  
  
-   送信の送信中にメッセージ本文を追跡する場合、メッセージ追跡は追跡メッセージ本文のショートカットからすべてのトランスポートのプロパティを削除します。 そのため、追跡メッセージ本文のショートカットから送信トランスポートのプロパティを削除、だけでなくメッセージの追跡プロパティも削除します受信トランスポート。  
  
    > [!IMPORTANT]
    >  昇格させたプロパティは、機密データを含めることができます。 グループ ハブ ページから、追跡クエリは、機密データを含むプロパティを追跡、追跡クエリを実行するアクセス許可を持つすべてのユーザーはこのデータを表示できます。  
  
## <a name="see-also"></a>参照  
 [BizTalk Server 管理コンソールの使用の追跡の構成](http://msdn.microsoft.com/49b7f9d3-60b5-41bd-ba8b-029253926bef)
