---
title: WCF アダプターに関する FAQ:サービス アーキテクチャ |Microsoft Docs
ms.custom: ''
ms.date: 06/08/2017
ms.prod: biztalk-server
ms.reviewer: ''
ms.suite: ''
ms.tgt_pltfrm: ''
ms.topic: article
ms.assetid: 8bad0063-ccff-41f4-b4e0-a02b49403c2d
caps.latest.revision: 4
author: MandiOhlinger
ms.author: mandia
manager: anneta
ms.openlocfilehash: 8cf46334fe3c40b222552c97115bc7758134c7a4
ms.sourcegitcommit: 381e83d43796a345488d54b3f7413e11d56ad7be
ms.translationtype: MT
ms.contentlocale: ja-JP
ms.lasthandoff: 05/07/2019
ms.locfileid: "65393591"
---
# <a name="wcf-adapter-faq-service-architecture"></a><span data-ttu-id="c2218-102">WCF アダプターに関する FAQ:サービスのアーキテクチャ</span><span class="sxs-lookup"><span data-stu-id="c2218-102">WCF Adapter FAQ: Service Architecture</span></span>
## <a name="what-is-the-difference-between-a-wcf-custom-behavior-and-a-biztalk-pipeline-component"></a><span data-ttu-id="c2218-103">WCF カスタム動作と BizTalk パイプライン コンポーネントの違いは何ですか。</span><span class="sxs-lookup"><span data-stu-id="c2218-103">What is the difference between a WCF custom behavior and a BizTalk pipeline component?</span></span>  
 <span data-ttu-id="c2218-104">初期の検査時に WCF カスタム動作は従来の BizTalk パイプラインとほぼ同じです。</span><span class="sxs-lookup"><span data-stu-id="c2218-104">Upon initial inspection, a WCF custom behavior is very much like a traditional BizTalk pipeline.</span></span> <span data-ttu-id="c2218-105">両方は、その宛先にメッセージの流れを中断、カスタム メッセージの処理を実行するメッセージのインターセプトの基本的な概念を活用して、その宛先に転送します。</span><span class="sxs-lookup"><span data-stu-id="c2218-105">Both leverage the basic concept of message interception to interrupt the flow of a message to its destination, execute some custom message processing in it, and forward it on to its destination.</span></span> <span data-ttu-id="c2218-106">(送信ポートにバインド) した後、BizTalk Server でメッセージの処理がまたはこのインターセプションの (受信場所にバインド) する前にいずれかで発生することができます。</span><span class="sxs-lookup"><span data-stu-id="c2218-106">This interception can occur either before (bound to a receive location) or after (bound to a send port) a message has been processed by BizTalk Server.</span></span> <span data-ttu-id="c2218-107">インターセプションの時点からも実装でだけでなく、2 つのメソッド内でこのインターセプションがどのように行われるかは異なります。</span><span class="sxs-lookup"><span data-stu-id="c2218-107">How this interception occurs within the two methods differs not only in implementation but also from within the point of interception.</span></span> <span data-ttu-id="c2218-108">違いの一部を次に示します。</span><span class="sxs-lookup"><span data-stu-id="c2218-108">Here are some of the differences:</span></span>  
  
-   <span data-ttu-id="c2218-109">パイプラインは、オーケストレーションで使用できます。</span><span class="sxs-lookup"><span data-stu-id="c2218-109">Pipelines can be used by an orchestration.</span></span> <span data-ttu-id="c2218-110">WCF の動作は、BizTalk Server 内から WCF アダプターによって呼び出されるに制限されます。</span><span class="sxs-lookup"><span data-stu-id="c2218-110">WCF behaviors are limited to being called by a WCF adapter from within BizTalk Server.</span></span>  
  
-   <span data-ttu-id="c2218-111">パイプラインは、BizTalk Server に固有の古い技術です。</span><span class="sxs-lookup"><span data-stu-id="c2218-111">Pipelines are an older technology specific to BizTalk Server.</span></span> <span data-ttu-id="c2218-112">BizTalk Server で、またはその他の純粋な WCF シナリオでは、WCF の動作を使用できます。</span><span class="sxs-lookup"><span data-stu-id="c2218-112">WCF behaviors can be used by BizTalk Server, and also in other pure WCF scenarios.</span></span>  
  
-   <span data-ttu-id="c2218-113">パイプライン (デコード、検証など) のセットのパイプライン ステージ以内に居住します。WCF の動作は、(後ほど説明)、4 つのインターセプション エントリ ポイントのいずれかでメッセージ フローに接続することができます。</span><span class="sxs-lookup"><span data-stu-id="c2218-113">Pipelines live within set pipeline stages, such as Decode, Validate, etc. WCF behaviors can be plugged into the message flow at any of its four interception entry points (described shortly).</span></span>  
  
-   <span data-ttu-id="c2218-114">パイプラインは、純粋な実行時の機能です。</span><span class="sxs-lookup"><span data-stu-id="c2218-114">Pipelines are purely runtime in their functionality.</span></span> <span data-ttu-id="c2218-115">WCF 動作も同様です中は、リレーショナルできますも強制または BizTalk Server 管理コンソール内から構成中に、値のデータの制約を設定します。</span><span class="sxs-lookup"><span data-stu-id="c2218-115">While WCF behaviors are as well, they can also enforce relational or data constraints upon the values set during configuration from within the BizTalk Server Administration console.</span></span>  
  
-   <span data-ttu-id="c2218-116">パイプラインは、WCF の動作が WCF メッセージに対し、BizTalk メッセージを操作できます。</span><span class="sxs-lookup"><span data-stu-id="c2218-116">Pipelines can operate on a BizTalk message whereas WCF behaviors operate on a WCF message.</span></span> <span data-ttu-id="c2218-117">つまり、パイプラインは、WCF の動作が WCF メッセージ プロパティにアクセスできますが、BizTalk コンテキスト プロパティの昇格などの操作を実行できます。</span><span class="sxs-lookup"><span data-stu-id="c2218-117">This means the pipeline can do things like promote a BizTalk context property whereas a WCF behavior can access a WCF message property.</span></span>  
  
-   <span data-ttu-id="c2218-118">WCF または WCF アダプタでのマルチパート メッセージのモデルはありません。</span><span class="sxs-lookup"><span data-stu-id="c2218-118">There is no model of multipart messages in WCF or in the WCF adapters.</span></span> <span data-ttu-id="c2218-119">ただし、パイプライン コンポーネントは、する必要がある任意の方法で BizTalk メッセージを操作できる、ために、必要に応じてマルチパート メッセージを処理ができます。</span><span class="sxs-lookup"><span data-stu-id="c2218-119">However, since a pipeline component can manipulate the BizTalk message in whatever way it needs to, it can process a multipart message if necessary.</span></span>  
  
## <a name="for-the-receive-locations-or-send-ports-using-the-wcf-basichttp-and-wcf-wshttp-adapters-what-type-of-encoding-should-i-select"></a><span data-ttu-id="c2218-120">受信場所または送信ポートを Wcf-basichttp と Wcf-wshttp アダプターを使用してでは、エンコードの種類に選択します。</span><span class="sxs-lookup"><span data-stu-id="c2218-120">For the receive locations or send ports using the WCF-BasicHttp and WCF-WSHttp adapters, what type of encoding should I select?</span></span>  
 <span data-ttu-id="c2218-121">各アダプターには HTTP ベースのメッセージ、テキスト エンコードです。</span><span class="sxs-lookup"><span data-stu-id="c2218-121">For each of these adapters there is HTTP-based message and text encoding.</span></span> <span data-ttu-id="c2218-122">メッセージのエンコードには、MTOM (Message Transmission Organization Mechanism) またはテキストのいずれかであると、メッセージに使用される SOAP エンコーダーを指定します。</span><span class="sxs-lookup"><span data-stu-id="c2218-122">Message encoding specifies the SOAP encoder used for the message, which is either MTOM (Message Transmission Organization Mechanism) or Text.</span></span> <span data-ttu-id="c2218-123">テキストが選択されている場合、テキスト エンコードを選択してください。</span><span class="sxs-lookup"><span data-stu-id="c2218-123">If Text is chosen, then a Text encoding must be selected.</span></span> <span data-ttu-id="c2218-124">この選択肢は、unicodeFFF (ビッグ エンディアン)、utf-16 (16 ビット エンコード)、および utf-8 (8 ビット エンコード) です。</span><span class="sxs-lookup"><span data-stu-id="c2218-124">The choices for this are unicodeFFF (big endian), utf-16 (16-bit encoding), and utf-8 (8-bit encoding).</span></span>  
  
 <span data-ttu-id="c2218-125">MTOM は、バイナリ データの最も効率的な転送を推奨されるメカニズムです。</span><span class="sxs-lookup"><span data-stu-id="c2218-125">MTOM is the recommended and most efficient transfer mechanism for binary data.</span></span> <span data-ttu-id="c2218-126">ただし、サービスは MTOM データを処理できることと、これにより、このオプションは、テキスト形式に比べ移植性は劣りますが必要です。</span><span class="sxs-lookup"><span data-stu-id="c2218-126">However it requires that the service be able to process MTOM data, and this makes this option much less portable than plain Text.</span></span> <span data-ttu-id="c2218-127">標準的な非バイナリのデータを転送する場合、MTOM はテキスト オプションを使用するより非効率実際にはことができます。</span><span class="sxs-lookup"><span data-stu-id="c2218-127">If used to transfer standard, non-binary data, MTOM can actually be less efficient than using the Text option.</span></span> <span data-ttu-id="c2218-128">テキストは、一般的に受け付けられるし、により、複数のプラットフォーム間相互運用性が転送されるデータには、テキスト以外のコンテンツが含まれている場合、2 つの非効率の選択肢となります。</span><span class="sxs-lookup"><span data-stu-id="c2218-128">Text is universally accepted and allows for more cross-platform interoperability, but it is the less efficient choice of the two if the data being transmitted contains non-textual content.</span></span> <span data-ttu-id="c2218-129">これは、WCF サービス コントラクトを使用する場合にバインディング エンコード選択肢を選択する際に重要な要素です。</span><span class="sxs-lookup"><span data-stu-id="c2218-129">This is an important factor when selecting a choice of binding encodings when using WCF service contracts.</span></span> <span data-ttu-id="c2218-130">WCF 操作で転送するデータとプロセスを理解するには、メッセージ エンコーディングの正しい選択に影響します。</span><span class="sxs-lookup"><span data-stu-id="c2218-130">Knowing the data that the WCF operations will transfer and process affects the correct choice of message encoding.</span></span>