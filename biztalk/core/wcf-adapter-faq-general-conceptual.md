---
title: WCF アダプターに関する FAQ:一般的な概念 |Microsoft Docs
ms.custom: ''
ms.date: 06/08/2017
ms.prod: biztalk-server
ms.reviewer: ''
ms.suite: ''
ms.tgt_pltfrm: ''
ms.topic: article
ms.assetid: bbeac135-3ba8-4b0b-a8ca-4eb5eb3d3ca3
caps.latest.revision: 8
author: MandiOhlinger
ms.author: mandia
manager: anneta
ms.openlocfilehash: 7d3611a5e12cbbe52946630404c3ed6eb36f886c
ms.sourcegitcommit: 381e83d43796a345488d54b3f7413e11d56ad7be
ms.translationtype: MT
ms.contentlocale: ja-JP
ms.lasthandoff: 05/07/2019
ms.locfileid: "65393600"
---
# <a name="wcf-adapter-faq-general-conceptual"></a><span data-ttu-id="da461-102">WCF アダプターに関する FAQ:一般的な概念</span><span class="sxs-lookup"><span data-stu-id="da461-102">WCF Adapter FAQ: General Conceptual</span></span>
<span data-ttu-id="da461-103">以下はいくつかに関してよく寄せられる一般的なと概念に関する質問 Windows® Communication Foundation (WCF) アダプター。</span><span class="sxs-lookup"><span data-stu-id="da461-103">Below are some frequently asked general and conceptual questions about Windows® Communication Foundation (WCF) adapters.</span></span>  
  
## <a name="what-is-a-wcf-adapter"></a><span data-ttu-id="da461-104">WCF アダプターとは何ですか。</span><span class="sxs-lookup"><span data-stu-id="da461-104">What is a WCF adapter?</span></span>  
 <span data-ttu-id="da461-105">BizTalk アダプターは、Microsoft® BizTalk® Server が外部と通信する方法の重要な部分です。</span><span class="sxs-lookup"><span data-stu-id="da461-105">A BizTalk adapter is a key part of the way Microsoft® BizTalk® Server communicates with the outside world.</span></span> <span data-ttu-id="da461-106">WCF アダプターは、BizTalk アプリケーションとメッセージを送信して、WCF エンドポイントからメッセージを受信する必要がある間の通信プロセスを管理するコンポーネントです。</span><span class="sxs-lookup"><span data-stu-id="da461-106">A WCF adapter is a component that manages the communication process between a BizTalk application and its need to send messages to, and receive messages from, a WCF endpoint.</span></span> <span data-ttu-id="da461-107">BizTalk Server では、WCF アダプターは WCF バインドとして公開されます。</span><span class="sxs-lookup"><span data-stu-id="da461-107">With the BizTalk Server, WCF adapters are exposed as WCF bindings.</span></span> <span data-ttu-id="da461-108">これは、WCF バインドを使用できる任意の WCF アプリケーションと通信できること、WCF アダプタを直接 BizTalk Server を介さずにしなくても意味します。</span><span class="sxs-lookup"><span data-stu-id="da461-108">This means that any WCF application that can use a WCF binding can communicate with the WCF adapters directly, without needing BizTalk Server to intervene.</span></span> <span data-ttu-id="da461-109">ただし、WCF アダプターを BizTalk Server を使用する BizTalk Server が提供するアプリケーションのインフラストラクチャのメリットが多数します。</span><span class="sxs-lookup"><span data-stu-id="da461-109">However, using the WCF adapters through BizTalk Server gives you many of the application infrastructure benefits that BizTalk Server provides.</span></span> <span data-ttu-id="da461-110">これらの Faq のフォーカスは、BizTalk Server 環境から WCF アダプターを使用して主にします。</span><span class="sxs-lookup"><span data-stu-id="da461-110">The focus of these FAQs is primarily using the WCF adapters from within the BizTalk Server environment.</span></span>  
  
 <span data-ttu-id="da461-111">WCF アダプターでは、WCF メッセージの送受信に WCF バインドを使用する BizTalk Server によりできます。</span><span class="sxs-lookup"><span data-stu-id="da461-111">A WCF adapter allows BizTalk Server to use the WCF bindings to send and receive WCF messages.</span></span> <span data-ttu-id="da461-112">WCF クライアント アプリケーション アダプターを受信する送信 WCF メッセージを BizTalk 受信場所、WCF によって、メッセージを受信します。</span><span class="sxs-lookup"><span data-stu-id="da461-112">A WCF client application can send a WCF message to a BizTalk receive location, where the message is received by a WCF receive adapter.</span></span> <span data-ttu-id="da461-113">アダプターは WCF メッセージを取得し、BizTalk メッセージに変換します。</span><span class="sxs-lookup"><span data-stu-id="da461-113">The adapter takes the WCF message and converts it to a BizTalk message.</span></span> <span data-ttu-id="da461-114">変換が行われると、BizTalk Server 管理コンソールを使用して構成されている特定のアダプター構成の設定に依存します。</span><span class="sxs-lookup"><span data-stu-id="da461-114">How the conversion takes place depends upon certain adapter configuration settings which are configured using the BizTalk Server Administration console.</span></span> <span data-ttu-id="da461-115">アダプターでは、内部の BizTalk メッセージ ボックス データベースを BizTalk メッセージを送信します。</span><span class="sxs-lookup"><span data-stu-id="da461-115">The adapter submits the BizTalk message to the internal BizTalk MessageBox database.</span></span> <span data-ttu-id="da461-116">同様に、BizTalk は、ポートには、WCF アダプターできますメッセージの種類へのサブスクライブ、BizTalk メッセージを取得、WCF メッセージに変換およびサポートされている WCF プロトコルのいずれかを使用して WCF サービス エンドポイントに WCF メッセージの送信を使用して送信します。</span><span class="sxs-lookup"><span data-stu-id="da461-116">Correspondingly, a BizTalk send port using a WCF adapter can subscribe to this message type, obtain the BizTalk message, convert it to a WCF message, and transmit the WCF message to a WCF service endpoint using one of the supported WCF protocols.</span></span>  
  
 <span data-ttu-id="da461-117">BizTalk Server 内から WCF アダプターを使用するには、非表示選択との通信プロトコル、セキュリティの問題、およびトランザクション操作の実装など、BizTalk WCF アプリケーション ソリューションの複雑さが抽象化します。</span><span class="sxs-lookup"><span data-stu-id="da461-117">Using the WCF adapters from within BizTalk Server abstracts the hidden complexities of a BizTalk-WCF application solution, such as the choice and implementation of communication protocols, security issues, and transactional operations.</span></span>  
  
## <a name="what-are-the-wcf-adapter-bindings"></a><span data-ttu-id="da461-118">WCF アダプター バインドとは</span><span class="sxs-lookup"><span data-stu-id="da461-118">What are the WCF adapter bindings?</span></span>  
 <span data-ttu-id="da461-119">WCF バインドは、2 つのカテゴリのいずれかに分類されます。</span><span class="sxs-lookup"><span data-stu-id="da461-119">WCF bindings fall into one of two categories:</span></span>  
  
- <span data-ttu-id="da461-120">**カスタム バインド:** バインドの柔軟性を向上させますは、特別なカスタム バインドが存在します。</span><span class="sxs-lookup"><span data-stu-id="da461-120">**Custom Bindings:** For increased binding flexibility, the special custom binding exists.</span></span> <span data-ttu-id="da461-121">これには、標準バインディングからの逸脱を必要とする通信状況について説明します。</span><span class="sxs-lookup"><span data-stu-id="da461-121">This covers communication situations that require deviations from the standard bindings.</span></span> <span data-ttu-id="da461-122">Wcf-custom および Wcf-customisolated アダプターでは、広範なバインドのカスタマイズの開発を許可します。</span><span class="sxs-lookup"><span data-stu-id="da461-122">The WCF-Custom and WCF-CustomIsolated adapters allow development of extensive binding customizations.</span></span> <span data-ttu-id="da461-123">これは、既存のバインド要素 (BindingElement クラス) の構成と動作 (Behavior クラス) のアプリケーションを許可することで行います。</span><span class="sxs-lookup"><span data-stu-id="da461-123">This is done by allowing the composition of existing binding elements (the BindingElement class) and the application of behaviors (the Behavior class).</span></span>  
  
- <span data-ttu-id="da461-124">**標準バインド:** マイクロソフトの目標、最も一般的な通信シナリオに焦点を当てたアダプターを開発することです。</span><span class="sxs-lookup"><span data-stu-id="da461-124">**Standard bindings:** Microsoft’s goal is to develop adapters focused on the most common communication scenarios.</span></span> <span data-ttu-id="da461-125">標準バインディングを使用すると、通信プロトコルの多くの詳細を非表示にして、開発者のエクスペリエンスが簡略化します。</span><span class="sxs-lookup"><span data-stu-id="da461-125">Using standard bindings simplifies the developer’s experience by hiding many details of the communication protocols.</span></span> <span data-ttu-id="da461-126">BizTalk Server の WCF アダプターのセットには、.NET Framework 4.0 WCF ライブラリで使用可能なバインドのセットが反映されます。</span><span class="sxs-lookup"><span data-stu-id="da461-126">The set of WCF adapters in BizTalk Server reflects the set of bindings available in the .NET Framework 4.0 WCF libraries.</span></span> <span data-ttu-id="da461-127">標準バインドは、一般的なバインドのパターンを使いやすくするために、.NET WCF ライブラリについて紹介しました。</span><span class="sxs-lookup"><span data-stu-id="da461-127">Standard bindings were introduced to the .NET WCF libraries to make typical binding patterns easier to use.</span></span> <span data-ttu-id="da461-128">最もよく使用される通信シナリオに対応が含まれます。</span><span class="sxs-lookup"><span data-stu-id="da461-128">They cover the most commonly used communication scenarios and include:</span></span>  
  
  -   <span data-ttu-id="da461-129">Wcf-wshttp</span><span class="sxs-lookup"><span data-stu-id="da461-129">WCF-WsHttp</span></span>  
  
  -   <span data-ttu-id="da461-130">WCF-BasicHttp</span><span class="sxs-lookup"><span data-stu-id="da461-130">WCF-BasicHttp</span></span>  
  
  -   <span data-ttu-id="da461-131">WCF-NetTcp</span><span class="sxs-lookup"><span data-stu-id="da461-131">WCF-NetTcp</span></span>  
  
  -   <span data-ttu-id="da461-132">WCF-NetMsmg</span><span class="sxs-lookup"><span data-stu-id="da461-132">WCF-NetMsmg</span></span>  
  
  -   <span data-ttu-id="da461-133">WCF-NetNamedPipe</span><span class="sxs-lookup"><span data-stu-id="da461-133">WCF-NetNamedPipe</span></span>  
  
  <span data-ttu-id="da461-134">BizTalk Server R2 では、次の WCF アダプターが付属しています。</span><span class="sxs-lookup"><span data-stu-id="da461-134">BizTalk Server R2 ships with the following WCF adapters:</span></span>  
  
1.  <span data-ttu-id="da461-135">**Wcf-wshttp アダプター:** Ws-\* 標準 HTTP トランスポート経由でサポートされています。</span><span class="sxs-lookup"><span data-stu-id="da461-135">**WCF-WSHttp adapter:**  Provides the WS-\* standards support over the HTTP transport.</span></span> <span data-ttu-id="da461-136">Wcf-wshttp アダプタは、次の仕様を実装します。WS トランザクションの外部アプリケーションとメッセージ ボックス データベースでは、Ws-security とは、メッセージ セキュリティと認証のトランザクション対話を処理します。</span><span class="sxs-lookup"><span data-stu-id="da461-136">The WCF-WSHttp adapter implements the following specifications: WS-Transaction for the transactional interactions between external applications and the MessageBox database, and WS-Security for message security and authentication.</span></span> <span data-ttu-id="da461-137">トランスポートは HTTP または HTTPS、およびメッセージのエンコードは、テキストまたは Message Transmission Optimization Mechanism (MTOM) エンコードします。</span><span class="sxs-lookup"><span data-stu-id="da461-137">The transport is HTTP or HTTPS, and message encoding is a text or Message Transmission Optimization Mechanism (MTOM) encoding.</span></span>  
  
2.  <span data-ttu-id="da461-138">**Wcf-basichttp アダプター:** ASMX ベースの Web サービスとクライアント、および、WS に準拠するその他のサービスと通信の基本プロファイル 1.1。</span><span class="sxs-lookup"><span data-stu-id="da461-138">**WCF-BasicHttp adapter:** Communicates with ASMX-based Web services and clients and other services that conform to the WS-I Basic Profile 1.1.</span></span> <span data-ttu-id="da461-139">トランスポートは HTTP または HTTPS、およびメッセージのエンコードは text エンコードです。</span><span class="sxs-lookup"><span data-stu-id="da461-139">The transport is HTTP or HTTPS, and message encoding is a text encoding.</span></span>  
  
3.  <span data-ttu-id="da461-140">**Wcf-nettcp アダプター:** Ws-\* 標準 TCP トランスポート経由でサポートされています。</span><span class="sxs-lookup"><span data-stu-id="da461-140">**WCF-NetTcp adapter:** Provides the WS-\* standards support over the TCP transport.</span></span> <span data-ttu-id="da461-141">Wcf-nettcp アダプターは、効率的な通信を提供し、仕様を実装します。WS トランザクションの外部アプリケーションとメッセージ ボックス データベースでは、Ws-security とは、メッセージ セキュリティと認証のトランザクション対話を処理します。</span><span class="sxs-lookup"><span data-stu-id="da461-141">The WCF-NetTcp adapter provides efficient communication and implements the following specifications: WS-Transaction for the transactional interactions between external applications and the MessageBox database, and WS-Security for message security and authentication.</span></span> <span data-ttu-id="da461-142">トランスポートは TCP、およびメッセージのエンコードはバイナリ エンコードです。</span><span class="sxs-lookup"><span data-stu-id="da461-142">The transport is TCP, and message encoding is binary encoding.</span></span>  
  
4.  <span data-ttu-id="da461-143">**Wcf-netmsmq アダプター:** メッセージ キュー (MSMQ とも呼ばれます) を使用するトランスポートとして使用したキューのサポートを提供し、疎結合アプリケーション、エラーの分離、負荷平準化、および切断操作のサポートを有効にします。</span><span class="sxs-lookup"><span data-stu-id="da461-143">**WCF-NetMsmq adapter:** Provides support for queuing by leveraging Message Queuing (also known as MSMQ) as a transport and enables support for loosely coupled applications, failure isolation, load-leveling, and disconnected operations.</span></span>  
  
5.  <span data-ttu-id="da461-144">**Wcf-netnamedpipe アダプター:** セキュリティで保護されたコンピューター上のプロセス間通信の最適化を提供します。</span><span class="sxs-lookup"><span data-stu-id="da461-144">**WCF-NetNamedPipe adapter:** Provides secure optimization for on-machine cross-process communication.</span></span> <span data-ttu-id="da461-145">Wcf-netnamedpipe アダプタは、メッセージの配信、およびバイナリ メッセージ エンコーディングの名前付きパイプ、転送セキュリティ用トランスポート セキュリティを使用します。</span><span class="sxs-lookup"><span data-stu-id="da461-145">The WCF-NetNamedPipe adapter uses transport security for transfer security, named pipes for message delivery, and binary message encoding.</span></span>  
  
     <span data-ttu-id="da461-146">先ほど説明した 5 つのアダプタのそれぞれは、1 対 1 リレーションシップでの WCF バインドを 1 つに対応します。</span><span class="sxs-lookup"><span data-stu-id="da461-146">Each of the five adapters just mentioned correspond to one WCF binding in a 1:1 relationship.</span></span> <span data-ttu-id="da461-147">2 つのカスタム アダプターの構造からは少し外れます、WCF モデルが実際には 2 つのカスタム アダプター 1 つの WCF CustomBinding に対応します。</span><span class="sxs-lookup"><span data-stu-id="da461-147">The structure of the two custom adapters we are about to discuss slightly breaks with the WCF model in that there are actually two distinct custom adapters that correspond to the single WCF CustomBinding.</span></span>  
  
6.  <span data-ttu-id="da461-148">**Wcf-custom アダプター:** WCF の拡張機能を使用できるようにします。</span><span class="sxs-lookup"><span data-stu-id="da461-148">**WCF-Custom adapter:** Enables the use of WCF extensibility features.</span></span> <span data-ttu-id="da461-149">アダプターを選択し、WCF バインドと受信場所または送信ポートが BizTalk Server プロセスでホストされている動作情報を構成することができます。</span><span class="sxs-lookup"><span data-stu-id="da461-149">The adapter allows you to select and configure a WCF binding and the behavior information for a receive location or a send port hosted in the BizTalk Server process.</span></span>  
  
7.  <span data-ttu-id="da461-150">**Wcf-customisolated アダプター:** HTTP トランスポート経由で WCF 拡張機能を使用できるようにします。</span><span class="sxs-lookup"><span data-stu-id="da461-150">**WCF-CustomIsolated adapter:** Enables the use of WCF extensibility features over the HTTP transport.</span></span> <span data-ttu-id="da461-151">アダプターを選択し、WCF バインドと分離ホストのインターネット インフォメーション サービス (IIS) で実行されている受信場所の動作情報を構成することができます。</span><span class="sxs-lookup"><span data-stu-id="da461-151">The adapter allows you to select and configure a WCF binding and the behavior information for a receive location running in the isolated host of Internet Information Services (IIS).</span></span>  
  
## <a name="what-is-the-difference-between-the-wcf-xxx-adapter-and-the-wcf-xxx-binding"></a><span data-ttu-id="da461-152">Wcf-xxx アダプターと wcf-xxx バインドの違いは何ですか。</span><span class="sxs-lookup"><span data-stu-id="da461-152">What is the difference between the WCF-xxx adapter and the WCF-xxx binding?</span></span>  
 <span data-ttu-id="da461-153">各 WCF アダプターは、組み込みの WCF バインドのいずれかに対応しています。</span><span class="sxs-lookup"><span data-stu-id="da461-153">Each of the WCF adapters corresponds to one of the built-in WCF bindings.</span></span> <span data-ttu-id="da461-154">上位のレベルで、これらの用語は wcf-xxx アダプターは wcf-xxx バインドを使用しているという場合にほぼ同じ意味で使用されます。</span><span class="sxs-lookup"><span data-stu-id="da461-154">At a higher level, these terms are used almost interchangeably when saying that the WCF-xxx adapter uses the WCF-xxx binding.</span></span> <span data-ttu-id="da461-155">たとえば、Wcf-basichttp アダプターは WCF BasicHttpBinding クラスを使用します。</span><span class="sxs-lookup"><span data-stu-id="da461-155">For example, the WCF-BasicHttp adapter uses the WCF BasicHttpBinding class.</span></span> <span data-ttu-id="da461-156">WCF バインドは、WCF エンドポイントの定義の一部です。</span><span class="sxs-lookup"><span data-stu-id="da461-156">A WCF binding is part of the definition of a WCF Endpoint.</span></span> <span data-ttu-id="da461-157">これは参照されます"abc"、WCF エンドポイントのアドレス、バインディングおよびコントラクトのこれらの文字がスタンド アロンします。</span><span class="sxs-lookup"><span data-stu-id="da461-157">This is referred to in the “ABC” of a WCF endpoint, where these letters stand for Address, Binding and Contract.</span></span>  
  
 <span data-ttu-id="da461-158">バインディングは、バインド要素のコレクションで構成をされます。</span><span class="sxs-lookup"><span data-stu-id="da461-158">A binding is made up of a collection of binding elements.</span></span> <span data-ttu-id="da461-159">各要素には、エンドポイントがクライアントと通信する方法の一部の側面について説明します。</span><span class="sxs-lookup"><span data-stu-id="da461-159">Each element describes some aspect of how the endpoint communicates with clients.</span></span> <span data-ttu-id="da461-160">バインドを含める必要があります。</span><span class="sxs-lookup"><span data-stu-id="da461-160">A binding must include:</span></span>  
  
- <span data-ttu-id="da461-161">少なくとも 1 つのトランスポート バインド要素。</span><span class="sxs-lookup"><span data-stu-id="da461-161">At least one transport binding element.</span></span>  
  
- <span data-ttu-id="da461-162">少なくとも 1 つメッセージ エンコーディング バインド要素 (トランスポート バインド要素は、既定で提供できます)。</span><span class="sxs-lookup"><span data-stu-id="da461-162">At least one message-encoding binding element (which the transport binding element can provide by default).</span></span>  
  
- <span data-ttu-id="da461-163">その他のプロトコル バインド要素の任意の数。</span><span class="sxs-lookup"><span data-stu-id="da461-163">Any number of other protocol binding elements.</span></span>  
  
  <span data-ttu-id="da461-164">この記述からランタイム環境を構築するプロセスは、その環境にコードを投稿するには、各バインド要素を使用します。</span><span class="sxs-lookup"><span data-stu-id="da461-164">The process that builds a runtime environment out of this description allows each binding element to contribute code to that environment.</span></span> <span data-ttu-id="da461-165">通常はクライアントが同じバインドの種類と呼び出し先の WCF サービスをサポートするアダプターと一致するために必要になります。</span><span class="sxs-lookup"><span data-stu-id="da461-165">It is generally required for a client to match the same binding types and adapter that the called WCF Service supports.</span></span> <span data-ttu-id="da461-166">WCF レベルでは、バインドを定義できます宣言によって構成ファイルで、またはコードによって明示的にします。</span><span class="sxs-lookup"><span data-stu-id="da461-166">At the WCF level, a binding can be defined declaratively in a configuration file or explicitly through code.</span></span> <span data-ttu-id="da461-167">WCF アダプターを特定の WCF バインドを使用して通信を容易にして、用語「アダプター」と「バインド」がほぼ同じ意味で使用する傾向がそのため。</span><span class="sxs-lookup"><span data-stu-id="da461-167">A WCF adapter facilitates communication using a specific WCF binding, and thus the terms “adapter” and “binding” tend to become almost identical in their usage.</span></span>  
  
## <a name="when-using-the-wcf-adapters-how-do-you-decide-which-wcf-binding-to-use"></a><span data-ttu-id="da461-168">WCF アダプタを使用する場合を決める方法を使用する WCF バインドしますか。</span><span class="sxs-lookup"><span data-stu-id="da461-168">When using the WCF adapters, how do you decide which WCF binding to use?</span></span>  
 <span data-ttu-id="da461-169">メッセージング パターン、外部の制約、およびその順序でのパフォーマンスに基づいてこの決定を行うことができます。</span><span class="sxs-lookup"><span data-stu-id="da461-169">You can make this decision based upon the messaging pattern, external constraints, and performance, in that order.</span></span>  
  
1.  <span data-ttu-id="da461-170">**メッセージング パターン:** 通信のパターンは、通信のメッセージのフローに基づく処理方法です。</span><span class="sxs-lookup"><span data-stu-id="da461-170">**Messaging pattern:** The pattern of communication is how the communication occurs based on the flow of the message.</span></span> <span data-ttu-id="da461-171">たとえば、メッセージ可能性があります (要求) または双方向 (要求-応答)、そのトランザクションが行われる可能性があります、キューします。</span><span class="sxs-lookup"><span data-stu-id="da461-171">For example, the message may be one-way (request) or two-way (request-response), it may be transacted, it may be queued, and so on.</span></span>  
  
    -   <span data-ttu-id="da461-172">キューに配置する場合は、キューに登録されたトランザクションの一方向通信をサポートする Wcf-netmsmq アダプターを使用する必要があります。</span><span class="sxs-lookup"><span data-stu-id="da461-172">If it is queued, you need to use the WCF-NetMsmq adapter, which supports one-way queued transacted communication.</span></span>  
  
    -   <span data-ttu-id="da461-173">パターンが双方向の要求-応答と 2 台のコンピューター間のフローの場合、(パフォーマンスを懸念がある) 場合、HTTP (懸念される限り柔軟な場合) または Wcf-nettcp を使用します。</span><span class="sxs-lookup"><span data-stu-id="da461-173">If the pattern is a two-way request-response and flows between two computers, you would use HTTP (if you are concerned about being as flexible as possible), or WCF-NetTcp (if you are concerned about performance).</span></span>  
  
    -   <span data-ttu-id="da461-174">メッセージは、1 台のコンピューターに残りますが、単にプロセス間のフローする場合、は、Wcf-netnamedpipe バインドを使用できます。</span><span class="sxs-lookup"><span data-stu-id="da461-174">If the message remains on a single computer and flows simply between processes, you can use the WCF-NetNamedPipe binding.</span></span>  
  
2.  <span data-ttu-id="da461-175">**外部の制約:** 特定のバインディングを使用するよう指示する問題である可能性があります。</span><span class="sxs-lookup"><span data-stu-id="da461-175">**External constraints:** There may be issues that dictate you use a specific binding.</span></span> <span data-ttu-id="da461-176">たとえば、外部システムは、Web サービスの SOAP バージョン 1.2 とアドレス指定 1.0 が必要です。</span><span class="sxs-lookup"><span data-stu-id="da461-176">For instance, suppose the external system requires SOAP Web Services version 1.2 and Addressing 1.0.</span></span> <span data-ttu-id="da461-177">この場合、バインドが最適です WSHttpBinding、Wcf-wshttp アダプターを使用します。</span><span class="sxs-lookup"><span data-stu-id="da461-177">In this case, the best binding choice is WSHttpBinding using the WCF-WsHttp adapter.</span></span> <span data-ttu-id="da461-178">多くの場合、外部システムは、特定のセキュリティ モードを構成する要件もがあります。</span><span class="sxs-lookup"><span data-stu-id="da461-178">In all likelihood, the external system would also have requirements around the particular security mode to configure.</span></span> <span data-ttu-id="da461-179">外部システムには、Soap Web サービス 1.1 が必要な場合は、HTTP バインディングの Wcf-basichttp アダプタを使用します。</span><span class="sxs-lookup"><span data-stu-id="da461-179">If the external system required Soap Web Services 1.1 you would use the WCF-BasicHttp adapter for the HTTP binding.</span></span>  
  
3.  <span data-ttu-id="da461-180">**パフォーマンス:** 速度、呼び出しが行われるバインドの使用を選択する、アプリケーションでの決定要因があります。</span><span class="sxs-lookup"><span data-stu-id="da461-180">**Performance:** How fast the call is made may be a deciding factor in which binding you choose to use in your application:</span></span>  
  
    -   <span data-ttu-id="da461-181">WCF サービスが BizTalk Server と同じコンピューター上にある場合は、最適のパフォーマンスは、Wcf-netnamedpipe アダプタを使用します。</span><span class="sxs-lookup"><span data-stu-id="da461-181">If the WCF service is on the same computer as BizTalk Server, using the WCF-NetNamedPipe adapter is the best performance choice.</span></span>  
  
    -   <span data-ttu-id="da461-182">WCF サービスが、ローカル ネットワーク上にある場合は、Wcf-nettcp には、最適なパフォーマンスが得られます。</span><span class="sxs-lookup"><span data-stu-id="da461-182">If the WCF service is on your local network, WCF-NetTcp yields the best performance.</span></span>  
  
    -   <span data-ttu-id="da461-183">パフォーマンスが大きな問題ではない場合、呼び出しが、HTTP ベース アダプターのいずれかと、インターネット経由で、(Wcf-wshttp または Wcf-basichttp) は、適切なアダプター。</span><span class="sxs-lookup"><span data-stu-id="da461-183">If performance is not a major concern and the call is going across the Internet, either of the HTTP-based adapters (WCF-WsHttp or WCF-BasicHttp) is the right adapter.</span></span>  
  
         <span data-ttu-id="da461-184">HTTP ベース アダプターの種類が、高度な HTTP 機能 (Wcf-wshttp) を使用しているか (Wcf-basichttp) の基本的な機能が決まるかどうかを使用する最適な選択肢になります。</span><span class="sxs-lookup"><span data-stu-id="da461-184">Whether you are using any advanced HTTP functionality (WCF-WsHttp) or just basic functionality (WCF-BasicHttp) will dictate which HTTP-based adapter is the best choice to use.</span></span>  
  
## <a name="when-do-you-use-one-of-the-two-custom-wcf-adapters"></a><span data-ttu-id="da461-185">使用するは 2 つのカスタム WCF アダプターのいずれかですか。</span><span class="sxs-lookup"><span data-stu-id="da461-185">When do you use one of the two custom WCF adapters?</span></span>  
 <span data-ttu-id="da461-186">BizTalk Server に付属する 2 つのカスタム WCF アダプターがあります。</span><span class="sxs-lookup"><span data-stu-id="da461-186">There are two custom WCF adapters that ship with BizTalk Server.</span></span> <span data-ttu-id="da461-187">2 つのカスタム アダプターは BizTalk Server では、特定のアダプターの種類のホストは、システムとその登録の一部である必要がある必要があるためにがある理由です。</span><span class="sxs-lookup"><span data-stu-id="da461-187">The reason there are two custom adapters is because BizTalk Server requires that the hosting of a particular adapter type needs to be part of its registration with the system.</span></span> <span data-ttu-id="da461-188">2 つのカスタム アダプターが、WCF フレームワークのバインドの種類を 1 つだけですが、既存の BizTalk アダプターのモデルでのこの制限に対応するために BizTalk Server であります。</span><span class="sxs-lookup"><span data-stu-id="da461-188">Although there is only one CustomBinding type in the WCF  Framework, there are two custom adapters in BizTalk Server to accommodate this limitation in the pre-existing BizTalk adapter model.</span></span> <span data-ttu-id="da461-189">実際には、使用するこれらのアダプターとは、実際にアダプターのみが必要になった WCF チャネル スタックの構成を完全に制御できるためです。</span><span class="sxs-lookup"><span data-stu-id="da461-189">In reality, these adapters are really the only adapters you ever need because they allow complete control over the WCF channel stack configuration.</span></span>  
  
 <span data-ttu-id="da461-190">カスタム アダプターへの唯一の欠点は、こともが必要になる WCF 構成とさまざまな機能拡張技法に関する詳しい知識がユーザーです。</span><span class="sxs-lookup"><span data-stu-id="da461-190">The only drawback to custom adapters is that they also require you to be very knowledgeable about WCF configuration and the various extensibility techniques.</span></span>  <span data-ttu-id="da461-191">Microsoft 標準の WCF バインドのアダプターを提供するため、効率化の構成。</span><span class="sxs-lookup"><span data-stu-id="da461-191">Simplifying configuration is why Microsoft provides adapters for standard WCF bindings.</span></span> <span data-ttu-id="da461-192">標準のバインディングは、一般的なユース ケースのほとんどに対応し、できるだけ簡単に BizTalk Server を経由してメッセージを送受信することを定義済みです。</span><span class="sxs-lookup"><span data-stu-id="da461-192">The standard bindings are predefined to cover most of the common use cases and to make sending and receiving messages through BizTalk Server as simple as possible.</span></span> <span data-ttu-id="da461-193">通常、これらのカスタム アダプターのいずれかを使用する必要は、標準バインディングまたは完全に正確には、送信ポートの要件を満たすまたは受信場所に失敗する場合にのみ発生します。</span><span class="sxs-lookup"><span data-stu-id="da461-193">The need to use one of these custom adapters typically occurs only when the standard bindings fail to completely or precisely meet the requirements for your send port or receive location.</span></span> <span data-ttu-id="da461-194">たとえば、そのメッセージに独自の圧縮スキームを使用して、アプリケーションがあります。</span><span class="sxs-lookup"><span data-stu-id="da461-194">For example, there may be an application using a proprietary compression scheme for its messages.</span></span> <span data-ttu-id="da461-195">これをサポートするには、カスタム バインド要素が書き込まれる必要があります。</span><span class="sxs-lookup"><span data-stu-id="da461-195">To support this, a custom binding element will have to be written.</span></span> <span data-ttu-id="da461-196">2 つの標準カスタム アダプターのいずれかを使用すると、転送要求を処理するカスタム バインドの構成ができます。</span><span class="sxs-lookup"><span data-stu-id="da461-196">Using one of the two standard custom adapters allows configuration of this custom binding to handle the transmission requirement.</span></span> <span data-ttu-id="da461-197">そのため、カスタム アダプターにより、高いレベルのチャネル スタックを通じてその通信プロセスのバインドの構成を制御します。</span><span class="sxs-lookup"><span data-stu-id="da461-197">Thus, a custom adapter allows a higher level of control over the configuration of the bindings for that communication process through the channel stack.</span></span>  
  
 <span data-ttu-id="da461-198">カスタム プロパティとカスタム分離アダプターの主な違いは、ホストの 1 つと、BizTalk Server の受信側にのみ影響をホストしています。</span><span class="sxs-lookup"><span data-stu-id="da461-198">The primary difference between the Custom and Custom Isolated adapters is one of hosting, and hosting only impacts the receive side of BizTalk Server.</span></span> <span data-ttu-id="da461-199">のみ、受信場所および送信ポートではなく、Wcf-customisolated アダプターが使用されます。</span><span class="sxs-lookup"><span data-stu-id="da461-199">The WCF-CustomIsolated adapter is used with a receive location only and not with a send port.</span></span> <span data-ttu-id="da461-200">「分離」という用語を参照すると、BizTalk Server の BtsNtSvc.exe プロセスの外部でホストされている BizTalk フレーズです。</span><span class="sxs-lookup"><span data-stu-id="da461-200">The term “Isolated” is a BizTalk phrase that refers to being hosted outside of the BizTalk Server BtsNtSvc.exe process.</span></span> <span data-ttu-id="da461-201">そのため、Wcf-customisolated アダプターは、トランスポートが標準の BtsNtSvc.exe プロセス内でインターネット インフォメーション サービス (IIS)、HTTP トランスポートを使用して外部ホストされている場合に使用されます。</span><span class="sxs-lookup"><span data-stu-id="da461-201">Therefore, the WCF-CustomIsolated adapter is used when the transport is hosted outside the standard BtsNtSvc.exe process within Internet Information Services (IIS) using the HTTP transport.</span></span> <span data-ttu-id="da461-202">Wcf-custom アダプターは、受信場所または送信ポートのいずれかで使用できます。</span><span class="sxs-lookup"><span data-stu-id="da461-202">The WCF-Custom adapter can be used with either a receive location or a send port.</span></span> <span data-ttu-id="da461-203">トランスポートが標準の BtsNtSvc.exe プロセス内でホストされている場合に使用されます。</span><span class="sxs-lookup"><span data-stu-id="da461-203">It is used when the transport is hosted inside the standard BtsNtSvc.exe process.</span></span>  
  
## <a name="how-does-a-wcf-endpoint-relate-to-biztalk-server"></a><span data-ttu-id="da461-204">BizTalk Server には、WCF エンドポイントはどのように関連しますか。</span><span class="sxs-lookup"><span data-stu-id="da461-204">How does a WCF endpoint relate to BizTalk Server?</span></span>  
 <span data-ttu-id="da461-205">WCF エンドポイントは、アドレス、バインディング、およびコントラクト (ABC) で構成されます。</span><span class="sxs-lookup"><span data-stu-id="da461-205">A WCF endpoint is composed of an address, a binding, and a contract (ABC).</span></span> <span data-ttu-id="da461-206">BizTalk Server 内で、ユーザーは、受信場所のアドレスを指定または送信ポート。</span><span class="sxs-lookup"><span data-stu-id="da461-206">Within BizTalk Server, the user specifies the address in the receive location or send port.</span></span> <span data-ttu-id="da461-207">バインディングは、ユーザーが選択した WCF アダプターによって指定されます。</span><span class="sxs-lookup"><span data-stu-id="da461-207">The binding is dictated by the WCF adapter the user has chosen.</span></span> <span data-ttu-id="da461-208">コントラクトは、プログラマーが決定ことで、エンドポイントによって公開されるインターフェイスを指定します。</span><span class="sxs-lookup"><span data-stu-id="da461-208">The contract is programmer-driven in that it specifies the interface exposed by the endpoint.</span></span>  
  
 <span data-ttu-id="da461-209">メッセージを送信する wcf 受信場所として、実際のエンドポイントが存在します。</span><span class="sxs-lookup"><span data-stu-id="da461-209">The actual endpoint exists as a receive location to which WCF messages are sent.</span></span>  <span data-ttu-id="da461-210">BizTalk Server アプリケーションで WCF エンドポイントを公開する複数の方法はあります。</span><span class="sxs-lookup"><span data-stu-id="da461-210">There are multiple ways to expose a WCF endpoint in a BizTalk Server application:</span></span>  
  
- <span data-ttu-id="da461-211">BizTalk WCF サービス公開ウィザードを使用すると、BizTalk オーケストレーションを WCF エンドポイントとして公開します。</span><span class="sxs-lookup"><span data-stu-id="da461-211">You can use the BizTalk WCF Service Publishing Wizard to publish a BizTalk orchestration as a WCF endpoint.</span></span>  
  
- <span data-ttu-id="da461-212">BizTalk WCF サービス公開ウィザードを使用して、既存の BizTalk アプリケーションで受信場所を作成することができます。</span><span class="sxs-lookup"><span data-stu-id="da461-212">You can use the BizTalk WCF Service Publishing Wizard to create a receive location in an existing BizTalk application.</span></span>  
  
- <span data-ttu-id="da461-213">コードで受信場所のバインドとアドレスを構成することで、WCF エンドポイントを手動で作成することができます。</span><span class="sxs-lookup"><span data-stu-id="da461-213">You can manually create a WCF endpoint by configuring a receive location’s binding and address in code.</span></span>  <span data-ttu-id="da461-214">この場合、受信場所は、実際に指定されていないかではありません。</span><span class="sxs-lookup"><span data-stu-id="da461-214">In this case the receive location is actually un-typed.</span></span>  <span data-ttu-id="da461-215">メッセージ ボックス データベースに任意の形式のメッセージを受信することができます、WCF メッセージ クラスの純粋な観点から指定されたコントラクトがあります。</span><span class="sxs-lookup"><span data-stu-id="da461-215">It has a contract that is specified purely in terms of the WCF Message class, allowing it to receive any message format into the MessageBox database.</span></span>  
  
  <span data-ttu-id="da461-216">各 BizTalk 受信場所を WCF を使用するアダプターは WCF クライアントが呼び出しを行うことができます、WCF エンドポイントとして公開されます。</span><span class="sxs-lookup"><span data-stu-id="da461-216">Each BizTalk receive location that uses a WCF adapter is exposed as a WCF endpoint into which a WCF client can make a call.</span></span>  <span data-ttu-id="da461-217">受信場所は、有効になっているまたはそれぞれ個別に無効にする別の受信場所を許可するのに独自の WCF ServiceHost を内部的に使用します。</span><span class="sxs-lookup"><span data-stu-id="da461-217">A receive location internally uses its own WCF ServiceHost to allow the different receive locations to be enabled or disabled independently of each other.</span></span> <span data-ttu-id="da461-218">サービス エンドポイントの有効期間に限り、その受信場所が存在するが有効になっています。</span><span class="sxs-lookup"><span data-stu-id="da461-218">The lifetime of the service endpoint exists as long as that receive location is enabled.</span></span> <span data-ttu-id="da461-219">この有効期間の問題により、WCF ServiceHosts がポートを受信するのではなく、受信場所に対応しています。</span><span class="sxs-lookup"><span data-stu-id="da461-219">It is because of this lifetime issue that WCF ServiceHosts correspond to receive locations rather than to receive ports.</span></span> <span data-ttu-id="da461-220">WCF の設計により、個々 の Servicehost はランタイムのリソースの観点から安価同じ問題なく実行可能ファイル内で実行できる多くなります。</span><span class="sxs-lookup"><span data-stu-id="da461-220">The design of WCF ensures that individual ServiceHosts are not expensive in terms of runtime resources and many can be run within the same executable without any trouble.</span></span>  
  
  <span data-ttu-id="da461-221">WCF アダプタを使用する各 BizTalk 送信ポートは、WCF サービスに対して行われた呼び出しに対応します。</span><span class="sxs-lookup"><span data-stu-id="da461-221">Each BizTalk send port that uses a WCF adapter corresponds to a call made to a WCF service.</span></span> <span data-ttu-id="da461-222">送信するメッセージが存在する場合、BizTalk Server では、アダプター対応するメッセージに BizTalk WCF アダプター内で WCF クライアント プロキシの作成。</span><span class="sxs-lookup"><span data-stu-id="da461-222">When there are messages to be sent, BizTalk Server gives the adapter those messages that correspond to the creation of the WCF client proxy within the BizTalk WCF adapter.</span></span> <span data-ttu-id="da461-223">メッセージを送信した後、WCF クライアント プロキシは解放されます。</span><span class="sxs-lookup"><span data-stu-id="da461-223">After the messages are sent the WCF client proxy is released.</span></span> <span data-ttu-id="da461-224">送信ポートで WCF の有効期間は常にはし、プロキシの作成、使用、および破棄が通過します。</span><span class="sxs-lookup"><span data-stu-id="da461-224">The WCF lifetime on a send port constantly comes and goes as a proxy is created, used, and torn down.</span></span>