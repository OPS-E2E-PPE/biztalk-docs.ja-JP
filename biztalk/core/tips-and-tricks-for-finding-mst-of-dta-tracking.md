---
title: DTA 追跡の MST を特定のヒントし、テクニック |Microsoft Docs
ms.custom: ''
ms.date: 06/08/2017
ms.prod: biztalk-server
ms.reviewer: ''
ms.suite: ''
ms.tgt_pltfrm: ''
ms.topic: article
ms.assetid: 7d72e4ac-d952-4cff-9a65-491e20945d40
caps.latest.revision: 8
author: MandiOhlinger
ms.author: mandia
manager: anneta
ms.openlocfilehash: 56d36b6f6be249820e0e24e2ec76151ab47e620b
ms.sourcegitcommit: 381e83d43796a345488d54b3f7413e11d56ad7be
ms.translationtype: MT
ms.contentlocale: ja-JP
ms.lasthandoff: 05/07/2019
ms.locfileid: "65298652"
---
# <a name="tips-and-tricks-for-finding-mst-of-dta-tracking"></a><span data-ttu-id="e33f6-102">DTA 追跡の MST を特定のヒントし、テクニック</span><span class="sxs-lookup"><span data-stu-id="e33f6-102">Tips and Tricks for Finding MST of DTA Tracking</span></span>
<span data-ttu-id="e33f6-103">定義上、MST は再現可能な一定の負荷を使用してシステム パフォーマンスを測定するベンチマークです。</span><span class="sxs-lookup"><span data-stu-id="e33f6-103">By definition, MST is a benchmark to reproducibly measure system performance using a constant load.</span></span> <span data-ttu-id="e33f6-104">次に、状況は、MST を知ることは特に便利です。</span><span class="sxs-lookup"><span data-stu-id="e33f6-104">Following are situations where knowing the MST is particularly useful.</span></span>  
  
1. <span data-ttu-id="e33f6-105">**システムから最も低い待機時間を必要とする場合**します。</span><span class="sxs-lookup"><span data-stu-id="e33f6-105">**When you require the lowest latency from the system**.</span></span> <span data-ttu-id="e33f6-106">MST を超える結果バックログで、システムでは、メッセージの待機時間の増加が導入されています。</span><span class="sxs-lookup"><span data-stu-id="e33f6-106">Exceeding MST results in backlog in the system, which introduces increased latency for messages.</span></span> <span data-ttu-id="e33f6-107">バックログが一時的な場合でも、待機時間に影響を即時を及ぼしますがバックログには。</span><span class="sxs-lookup"><span data-stu-id="e33f6-107">Even if the backlog is only temporary, backlog has an immediate and deleterious effect on latency.</span></span> <span data-ttu-id="e33f6-108">そのため、システムの MST を知ることがわかります絶対的な最大スループット (たとえば、秒から分に、構成によって) 大幅に増加を処理する個別のメッセージの待機時間の前に実現するために期待する必要があります。</span><span class="sxs-lookup"><span data-stu-id="e33f6-108">So, knowing your systems MST will tell you the absolute maximum throughput you should expect to achieve before the latency of individual message processing increases dramatically (for example, from seconds to minutes depending on your configuration).</span></span>  
  
2. <span data-ttu-id="e33f6-109">**その他のシステムを比較するときに**します。</span><span class="sxs-lookup"><span data-stu-id="e33f6-109">**When comparing to other systems**.</span></span> <span data-ttu-id="e33f6-110">たとえば、ことを検証する場合は、別のシステム (たとえば、このトピックで、ケース スタディ、または環境内の別のシステムのシナリオ); と比較して推定 MST を達成一定の入力を使用して MST を測定すると、比較のための再現可能な明確な標準が用意されています。</span><span class="sxs-lookup"><span data-stu-id="e33f6-110">For example, if you want to validate that you are achieving the expected MST compared to another system (for example, the scenario in this topic, a case study, or another system in your environment); measuring MST using a steady input offers a reproducible, unambiguous standard for comparison.</span></span>  
  
   <span data-ttu-id="e33f6-111">もちろん、ただし、できます MST を測定する時間がかかります。</span><span class="sxs-lookup"><span data-stu-id="e33f6-111">Needless to say, however, it can be time consuming to measure MST.</span></span> <span data-ttu-id="e33f6-112">したがって、それを測定する時間のかかる作業に着手する前に、メリットを評価する必要があります。</span><span class="sxs-lookup"><span data-stu-id="e33f6-112">Therefore, before you embark on a lengthy exercise to measure it, you should evaluate the benefits.</span></span> <span data-ttu-id="e33f6-113">ほとんどの実稼働システムでは、MST が時間の経過と共に変化する負荷によって測定されるように、一定の入力は発生しません。</span><span class="sxs-lookup"><span data-stu-id="e33f6-113">Most production systems will not experience a steady input such as that measured by MST, but rather a load that changes over time.</span></span> <span data-ttu-id="e33f6-114">このロード プロファイルを最終的に実稼働に先立ってシステムの認定を受けるテストが必要になります。</span><span class="sxs-lookup"><span data-stu-id="e33f6-114">It is this load profile that must ultimately be tested to certify a system prior to production.</span></span> <span data-ttu-id="e33f6-115">さいわい、運用負荷プロファイルの持続性を評価 MST の測定に使用される同じ手法を使用できます。</span><span class="sxs-lookup"><span data-stu-id="e33f6-115">Fortunately, you can use the same technique that is used to measure MST to evaluate the sustainability of your production load profile.</span></span> <span data-ttu-id="e33f6-116">単に、プロファイルの読み込み時間の長い含めた 1 つまたは複数の BizTalkDTADb データベースのデータ保有期間の windows を実行し、主要業績評価指標 (KPI) を確認します。</span><span class="sxs-lookup"><span data-stu-id="e33f6-116">Simply run your load profile long enough to include one or more BizTalkDTADb database data retention windows and observe the key performance indicators (KPI).</span></span>  
  
   <span data-ttu-id="e33f6-117">空の BizTalkDTADb データベースで、MST、または負荷のプロファイルかどうかがテストの実行を開始する重要です。</span><span class="sxs-lookup"><span data-stu-id="e33f6-117">It is important to start your test runs, whether MST or load profiles, with an empty BizTalkDTADb database.</span></span> <span data-ttu-id="e33f6-118">BizTalkDTADb データベースに格納されているデータは時間的制約と、結果が偏る可能性が各テストの実行に最初から再取得がない場合、。</span><span class="sxs-lookup"><span data-stu-id="e33f6-118">The data that is stored in the BizTalkDTADb database is time sensitive and if it is not re-acquired from scratch for each test run, it can skew your results.</span></span> <span data-ttu-id="e33f6-119">によって、データの保有期間には、MST を見つけるためにかかる時間を大幅に増加このことができます。</span><span class="sxs-lookup"><span data-stu-id="e33f6-119">Depending on your data retention window, this can significantly increase the time it takes to find MST.</span></span> <span data-ttu-id="e33f6-120">これを防ぐにテストの実行中に"その場"での負荷を調整することで役に立ちます詳細すばやく領域の解放 MST にします。</span><span class="sxs-lookup"><span data-stu-id="e33f6-120">To mitigate this, adjusting load "on the fly" during test runs can be useful in more quickly zeroing in on MST.</span></span>  
  
   <span data-ttu-id="e33f6-121">などを検索する場合、最初の保有期間が経過して、Kpi を示す左より高いスループットを収容できる余地がある (たとえば、まだゼロはディスクのアイドル時間)、増分、負荷が増加し、影響を確認できます。</span><span class="sxs-lookup"><span data-stu-id="e33f6-121">For example, if you find that you have passed your first retention window time and the KPIs indicate you have headroom for higher throughput left (for example, disk idle time is still above zero), you can incrementally increase your load and observe the effect.</span></span> <span data-ttu-id="e33f6-122">この方法で、MST の推定値を見直した後が推定値を検証する空の BizTalkDTADb データベース以降を実行するテストを実行することが重要です。</span><span class="sxs-lookup"><span data-stu-id="e33f6-122">After you have refined your MST estimate in this way, however, it is important that you perform a test run starting with an empty BizTalkDTADb database to validate your estimate.</span></span>  
  
## <a name="recommendations"></a><span data-ttu-id="e33f6-123">推奨事項</span><span class="sxs-lookup"><span data-stu-id="e33f6-123">Recommendations</span></span>  
 <span data-ttu-id="e33f6-124">追跡のシステム アーキテクチャ[!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)]のさまざまな情報の追跡が可能と管理、慎重に監視する必要があります。</span><span class="sxs-lookup"><span data-stu-id="e33f6-124">The tracking system architecture in [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] is capable of tracking a wide variety of information and must be managed and monitored carefully.</span></span> <span data-ttu-id="e33f6-125">MST によって示される、システムのパフォーマンスに最も影響する要因は次のとおりです。</span><span class="sxs-lookup"><span data-stu-id="e33f6-125">The factors that will most affect the performance of your system, as indicated by MST, are as follows:</span></span>  
  
- <span data-ttu-id="e33f6-126">システムの目的のスループット。</span><span class="sxs-lookup"><span data-stu-id="e33f6-126">The desired throughput for the system.</span></span>  
  
- <span data-ttu-id="e33f6-127">システム内で各メッセージとサービス インスタンスの追跡情報の量。</span><span class="sxs-lookup"><span data-stu-id="e33f6-127">The volume of information tracked for each message and service instance in the system.</span></span> <span data-ttu-id="e33f6-128">これがどの程度の速度、BizTalkDTADb データベースのサイズが増え、決定、最終的にどのくらいの頻度、BizTalkDTADb データベース必要がありますパージするよりも遅れているを回避するためにします。</span><span class="sxs-lookup"><span data-stu-id="e33f6-128">This will determine how quickly the size of the BizTalkDTADb database increases, and ultimately how often the BizTalkDTADb database must be purged to avoid falling behind.</span></span>  
  
- <span data-ttu-id="e33f6-129">データの保有期間は、BizTalkDTADb データベースにデータを保持する期間。</span><span class="sxs-lookup"><span data-stu-id="e33f6-129">How long you wish to retain data in the BizTalkDTADb database, that is, the data retention window.</span></span> <span data-ttu-id="e33f6-130">長くウィンドウ、大きい方、BizTalkDTADb データベースが大きく、スループットに影響です。</span><span class="sxs-lookup"><span data-stu-id="e33f6-130">The longer the window, the larger the BizTalkDTADb database will grow, affecting throughput.</span></span>  
  
- <span data-ttu-id="e33f6-131">BizTalkDTADb データベースのサイズを維持するか消去、および BizTalkDTADb データベースのデータをアーカイブするかどうかを消去します。</span><span class="sxs-lookup"><span data-stu-id="e33f6-131">Whether you archive BizTalkDTADb database data as well as purge, or just purge to maintain BizTalkDTADb database size.</span></span>  
  
  <span data-ttu-id="e33f6-132">における追跡の維持可能な最大スループットを見つけるプロセスの[!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)]3 つの主要業績評価指標が含まれます。</span><span class="sxs-lookup"><span data-stu-id="e33f6-132">The process of finding the maximum sustainable throughput for tracking in [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] involves three key performance indicators:</span></span>  
  
- <span data-ttu-id="e33f6-133">物理的なディスク アイドル時間 DTAdb データ ファイルのディスク サブシステム。</span><span class="sxs-lookup"><span data-stu-id="e33f6-133">Physical Disk Idle Time for the DTAdb data file disk subsystem.</span></span>  
  
- <span data-ttu-id="e33f6-134">スプールの深さ</span><span class="sxs-lookup"><span data-stu-id="e33f6-134">Spool depth</span></span>  
  
- <span data-ttu-id="e33f6-135">Biztalkdtadb データの深さ</span><span class="sxs-lookup"><span data-stu-id="e33f6-135">BizTalkDTADbData depth</span></span>  
  
  <span data-ttu-id="e33f6-136">どちらかのシステムの MST または探してこれら 3 つの主要なパフォーマンス指標を監視することによって、実稼働プロファイルのスループットを検証します。</span><span class="sxs-lookup"><span data-stu-id="e33f6-136">Find either your systems’ MST or validate your production profile throughput by monitoring these three key performance indicators looking for:</span></span>  
  
- <span data-ttu-id="e33f6-137">安定したスプールと trackingdata テーブルの深さ。</span><span class="sxs-lookup"><span data-stu-id="e33f6-137">Stable spool and trackingdata table depth.</span></span>  
  
- <span data-ttu-id="e33f6-138">BizTalkDTADb データベースのデータは、ほぼ物理アイドル時間をディスク ファイルが、継続的に「設定」では、0。</span><span class="sxs-lookup"><span data-stu-id="e33f6-138">BizTalkDTADb database data file disk physical idle time near, but not continuously "pegged" at, zero.</span></span>  
  
  <span data-ttu-id="e33f6-139">DTA を使用すると、パフォーマンスに影響が追跡機能。</span><span class="sxs-lookup"><span data-stu-id="e33f6-139">Using the DTA tracking features has an associated performance impact.</span></span>  <span data-ttu-id="e33f6-140">既定の追跡は、ソリューションが、運用環境では、開発と初期テストおよびデバッグを容易に十分な問題解決の情報を提供することで後は必要以上に追跡できます。</span><span class="sxs-lookup"><span data-stu-id="e33f6-140">Default tracking may track more than is needed once a solution is in production, but can make development and initial testing and debugging easier by providing ample problem resolution information.</span></span> <span data-ttu-id="e33f6-141">そのため、開発と初期テスト中に場合は、既定の追跡で左をお勧めします。</span><span class="sxs-lookup"><span data-stu-id="e33f6-141">Therefore, we recommend that default tracking be left on during development and initial testing.</span></span> <span data-ttu-id="e33f6-142">BizTalk に展開されているソリューションが安定性とパフォーマンスをテストするなど、実稼働の保証できる状態とは、運用環境で追跡する必要がある情報の量と必要な時間の長さを調べる慎重にことをお勧めBizTalkDTADb データベースに保持され、必要に応じて調整します。</span><span class="sxs-lookup"><span data-stu-id="e33f6-142">Once a solution deployed on BizTalk is stable and ready for production certification, including performance testing, it is recommended that you carefully examine the amount of information that needs to be tracked in production, and the length of time it needs to be kept in the BizTalkDTADb database and adjust accordingly.</span></span>  
  
  <span data-ttu-id="e33f6-143">たとえば、メッセージ本文は、いずれかの否認不可または問題解決のために追跡する必要はありませんし、有効にしないでメッセージ本文の追跡。</span><span class="sxs-lookup"><span data-stu-id="e33f6-143">For example, if message bodies do not need to be tracked for either non-repudiation or problem resolution purposes, then do not turn on message body tracking.</span></span> <span data-ttu-id="e33f6-144">説明されているシナリオの例で、この点を説明する[測定 MST の DTA 追跡のテスト シナリオ](../core/test-scenarios-for-measuring-mst-of-dta-tracking.md)メッセージ本文の追跡の追跡の構成のコンポーネントが削除されたときに、MST が 40 を 2 倍になりますメッセージ/秒。</span><span class="sxs-lookup"><span data-stu-id="e33f6-144">To illustrate this point, in the example scenario described in [Test Scenarios for Measuring MST of DTA Tracking](../core/test-scenarios-for-measuring-mst-of-dta-tracking.md), when the message body tracking component of the tracking configuration was eliminated, the MST was doubled to 40 messages/second.</span></span>  
  
  <span data-ttu-id="e33f6-145">またを多く (ただし、すべてではありません) の場合、問題が発生した場合でもメッセージ、メッセージ ボックス データベースが中断し取得してメッセージ本文を追跡することがなく検査に留意してください。</span><span class="sxs-lookup"><span data-stu-id="e33f6-145">Also, keep in mind that even when problems do occur, in many (but by no means all) cases, messages are suspended in the MessageBox database and can be retrieved and inspected without needing to track message bodies.</span></span>  
  
  <span data-ttu-id="e33f6-146">システム上に配置する負荷の持続性に注目します。</span><span class="sxs-lookup"><span data-stu-id="e33f6-146">Focus on the sustainability of the load you place on the system:</span></span>  
  
- <span data-ttu-id="e33f6-147">システムが、実稼動ロード プロファイル無期限に通常のメンテナンス アクティビティを使用しても維持できるでしょうか。</span><span class="sxs-lookup"><span data-stu-id="e33f6-147">Can your system sustain the production load profile indefinitely even with normal maintenance activities?</span></span>  
  
- <span data-ttu-id="e33f6-148">What-if 何かが発生した場合、計画または計画外の BizTalkDTADb データベースの停止などのバックログを維持するために、システムが原因ですか。</span><span class="sxs-lookup"><span data-stu-id="e33f6-148">What if something happens that causes the system to sustain a backlog, such as a planned or unplanned BizTalkDTADb database outage?</span></span>  
  
  <span data-ttu-id="e33f6-149">最悪のシナリオとそれらの目標にテストに基づいて目標を設定することをお勧めします。</span><span class="sxs-lookup"><span data-stu-id="e33f6-149">It is a good idea to set goals based on worst case scenarios and test to those goals.</span></span> <span data-ttu-id="e33f6-150">たとえば、BizTalkDTADb データベースがオフラインになる定期的な計画済みメンテナンス サイクルがあることがわかっている場合は、テストの結果のバックログから回復するシステムの能力を評価する実行中にこの機能停止をエミュレートします。</span><span class="sxs-lookup"><span data-stu-id="e33f6-150">For example, if you know that there is a periodic planned maintenance cycle that will take the BizTalkDTADb database off line, emulate this outage during a test run to evaluate the ability of the system to recover from the resulting backlog.</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="e33f6-151">参照</span><span class="sxs-lookup"><span data-stu-id="e33f6-151">See Also</span></span>  
 <span data-ttu-id="e33f6-152">[維持可能な最大の追跡スループットの測定](../core/measuring-maximum-sustainable-tracking-throughput.md) </span><span class="sxs-lookup"><span data-stu-id="e33f6-152">[Measuring Maximum Sustainable Tracking Throughput](../core/measuring-maximum-sustainable-tracking-throughput.md) </span></span>  
 <span data-ttu-id="e33f6-153">[DTA 追跡のパフォーマンス特性を理解します。](../core/understanding-dta-tracking-performance-behavior.md) </span><span class="sxs-lookup"><span data-stu-id="e33f6-153">[Understanding DTA Tracking Performance Behavior](../core/understanding-dta-tracking-performance-behavior.md) </span></span>  
 <span data-ttu-id="e33f6-154">[DTA 追跡の MST を測定するためのテスト シナリオ](../core/test-scenarios-for-measuring-mst-of-dta-tracking.md) </span><span class="sxs-lookup"><span data-stu-id="e33f6-154">[Test Scenarios for Measuring MST of DTA Tracking](../core/test-scenarios-for-measuring-mst-of-dta-tracking.md) </span></span>  
 [<span data-ttu-id="e33f6-155">追跡データベースのサイズに関するガイドライン</span><span class="sxs-lookup"><span data-stu-id="e33f6-155">Tracking Database Sizing Guidelines</span></span>](../core/tracking-database-sizing-guidelines.md)