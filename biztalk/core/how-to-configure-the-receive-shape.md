---
title: "受信図形を構成する方法 |Microsoft ドキュメント"
ms.custom: 
ms.date: 06/08/2017
ms.prod: biztalk-server
ms.reviewer: 
ms.suite: 
ms.tgt_pltfrm: 
ms.topic: article
helpviewer_keywords:
- filter expressions, Receive shape [Orchestration Designer]
- Receive shape [Orchestration Designer], about Receive shape
- configuring [Orchestration Designer], Receive shapes
- Receive shape [Orchestration Designer]
- Receive shape [Orchestration Designer], filter expressions
ms.assetid: 15aadee4-fa05-4edd-a191-e4d191c1ea22
caps.latest.revision: "11"
author: MandiOhlinger
ms.author: mandia
manager: anneta
ms.openlocfilehash: a3868384641e4c5fa03c82c7ec4ba18e3ee9fb1b
ms.sourcegitcommit: cb908c540d8f1a692d01dc8f313e16cb4b4e696d
ms.translationtype: MT
ms.contentlocale: ja-JP
ms.lasthandoff: 09/20/2017
---
# <a name="how-to-configure-the-receive-shape"></a>受信図形を構成する方法
![](../core/media/ebiz-orch-receive.gif "ebiz_orch_receive")  
受信図形  
  
 A**受信**図形は、オーケストレーションを開始するために使用できます。 設定した場合、 **Activate**プロパティを**True**、ランタイム エンジンは、受信メッセージと表示する適切な種類であるかどうか、フィルターが適用されている場合、フィルター式があるかどうかをテスト満たされます。 メッセージの受信の条件が満たされた場合、ランタイム エンジンを作成およびで新しいオーケストレーション インスタンスを実行し、**受信**図形がメッセージを受信します。  
  
> [!NOTE]
>  場合、 **Activate**受信図形のプロパティが True に設定されて、**受信**オーケストレーションの最初のアクションをする必要があります。  
  
> [!NOTE]
>  場合、 **Activate**すべてのプロパティが False に設定されて**受信**図形、オーケストレーションを呼び出さなければなりません別のオーケストレーションによって実行するためにします。  
  
> [!NOTE]
>  配置した場合は、**受信**のスコープ内の図形、 **Activate**プロパティに設定**True**、.NET クラス変数を変更することがなく、オーケストレーションに追加し、変数の**既定のコンス トラクターを使用**プロパティを**False**では、アクティブ化受信ステートメントは、生成された XLANG/S コードでは、スコープの外部でされますが、デザイン画面は引き続きとしてスコープ内には、これを表示します。  
  
 各オーケストレーションは少なくとも 1 つである必要があります**受信**図形を含み、**アクティブ化**プロパティに設定**True**です。  
  
 以前送信したメッセージへの応答を間接的または非同期に (要求 - 応答ポートではなく) 受信する場合は、応答者が適切なインスタンスに応答できるように、送信したメッセージを現在実行中のオーケストレーションのインスタンスに関連付ける必要があります。 受信メッセージ内の値に対して関連付けを行う場合は受信図形にイニシャライズ関連付けセットを適用することができます。または、既にイニシャライズ関連付けセットを使用した関連付けに次の関連付けセットを適用することができます。 詳細については、次を参照してください。[オーケストレーションでの相関関係を使用して](../core/using-correlations-in-orchestrations.md)です。  
  
### <a name="to-configure-a-receive-shape"></a>受信図形を構成するには  
  
1.  メッセージとポート操作を設定します。  
  
    1.  [オーケストレーションの種類] ウィンドウで、受信されているメッセージの種類に対して定義されているメッセージとポート操作の両方がオーケストレーションにあることを確認します。  
  
         [プロパティ] ウィンドウでから受信するメッセージを選択、**メッセージ**プロパティ ボックスの一覧です。  
  
    2.  [プロパティ] ウィンドウでからメッセージを受信するポート操作を選択、**操作**ドロップダウン リスト。  
  
         - または -  
  
         受信コネクタをドラッグして、**受信**図形、メッセージを受信するポート ソケットにします。  
  
2.  指定する、**受信**図形がオーケストレーションをアクティブ化します。  
  
3.  [プロパティ] ウィンドウで "アクティブ化" プロパティを True に設定します。  
  
    1.  [プロパティ] ウィンドウ、**省略記号**(**.**) ボタンをメッセージを制限するフィルターを作成するフィルター式のプロパティをこの**受信**図形が受け入れます。  
  
         - または -  
  
         右クリックし、**受信**図形をクリックして**フィルタ式の編集**です。  
  
    2.  **フィルター式** ダイアログ ボックスが表示されます。 このダイアログ ボックスを使用して、1 つ以上のフィルター式を作成します。  
  
        > [!NOTE]
        >  メッセージの種類を定義してに割り当てられている必要があります、**受信**図形のフィルターを適用する前にします。  
  
4.  メッセージの制限に相関関係のセットを指定する、**受信**図形が受け入れます。  
  
    -   ドロップダウン リストから設定の相関関係を確認して、実行する各関連付けセット、**フォロー関連付けセット**プロパティです。  
  
    -   各関連付けセットを初期化する場合、ドロップダウン リストから設定の相関関係を確認して、**イニシャライズ関連付けセット**プロパティです。  
  
## <a name="filter-expression-grid-control"></a>[フィルター式] グリッド コントロール  
 このグリッド コントロールを使用してフィルター式を構築し、式を構成する述語を定義します。 グリッドのセルから述語を追加、編集、および削除できます。 このグリッド コントロールが 4 つの列: プロパティ、演算子、値、およびグループ化します。  
  
-   **プロパティ。** : プロパティの参照を入力するか、セルのドロップダウン リストからいずれかのプロパティを選択します。 一覧には、受信メッセージのプロパティが表示されます。  
  
-   **演算子。** : このセルに演算子を直接入力するか、ドロップダウン リストから演算子を選択します。 有効な選択肢は次のとおりです。  
  
    |オペランド|意味|  
    |-------------|-------------|  
    |==|次の値に等しい|  
    |!=|次の値に等しくない|  
    |<|次の値より小さい|  
    |\<=|次の値以下|  
    |>|次の値より大きい|  
    |>=|次の値以上|  
    |Exists|Exists|  
  
-   **値。** セル、**値**列に入力した任意の定数を保持できます: 文字列リテラル、整数リテラル、または null。  
  
    > [!NOTE]
    >  選択したプロパティの型が文字列の場合、値を二重引用符で囲む必要があります。 たとえば、「SMTP.From = "MyServer"」となります。  
  
-   **グループ化します。** 述語のグループ化を制御する場合にこの列を使用します。 フィルター式では、グループ化を自動的に決定できるようにで選言標準形 (dnf) で表しますは常に表現されます。 [および] は、述語が次の述語とグループ化されることを意味します。一方、[または] は、述語が次の行の述語から分離されることを意味します。 グリッド コントロールの左側の灰色の角かっこは、述語がグループ化されているときに表示されます。 述語グループを入れ子にすることはできません。 このセルに値を指定しなかった場合は、既定値として [および] が設定されます。  
  
 たとえば、次のような式を作成できます。  
  
 `MSMQ.MsgID = 1`  
  
 このフィルターを適用した場合、送信ポート グループは、MSMQ のメッセージ ID が 1 であるメッセージだけをサブスクライブします。  
  
 さらに式を追加したり、AND や OR で他の式と組み合わせることもできます。その例を次に示します。  
  
 `MSMQ.MsgID = 1 OR`  
  
 `SMTP.From = "MyServer"`  
  
 この場合、送信ポート グループは、MSMQ メッセージ ID が 1 であるか、または、送信元が MyServer という名前の SMTP サーバーであるすべてのメッセージをサブスクライブします。  
  
## <a name="hint-label"></a>ヒント ラベル  
 このフィールドは、ユーザー ガイダンスを提供します。 ラベル テキストは、列に含まれているアクティブなセルに応じて異なります。 テキストには、列名が表示され、その後に次のようにガイダンス テキストが続きます。  
  
-   **プロパティ。** リストから受信メッセージのプロパティを選択してください。  
  
-   **演算子。** プロパティを値と比較するための演算子を選択します。  
  
-   **値。** リストからメッセージ プロパティを選択するか、リテラル値で入力します。  
  
-   **グループ化します。** この行が次の行とどのようにグループ化されるかを指定します。 "AND" は行を組み合わせ、"OR" は行を分離します。  
  
## <a name="move-up-button"></a>[上へ移動] ボタン  
 選択した行を上へ移動するには、このボタンをクリックします  (最初の行をクリックして選択、*右矢印*(**>)**グリッド コントロールの左側にあるボタンをクリックします)。  
  
## <a name="move-down-button"></a>[下へ移動] ボタン  
 選択した行を下へ移動するには、このボタンをクリックします  (最初の行をクリックして選択、*右矢印*(**>)**グリッド コントロールの左側にあるボタンをクリックします)。  
  
## <a name="filter-expression-created-field"></a>"作成されたフィルター式" フィールド  
 この読み取り専用のテキスト ボックスには、式を構築するにつれてその式が表示されます。  
  
## <a name="in-this-section"></a>このセクションの内容  
 [受信メッセージ図形にフィルターを使用します。](../core/using-filters-with-the-receive-message-shape.md)