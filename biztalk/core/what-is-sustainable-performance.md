---
title: 維持可能なパフォーマンスとは何ですか。 | Microsoft Docs
ms.custom: ''
ms.date: 06/08/2017
ms.prod: biztalk-server
ms.reviewer: ''
ms.suite: ''
ms.tgt_pltfrm: ''
ms.topic: article
helpviewer_keywords:
- reliability, sustainable performance
- performance, goals
- performance, sustainable performance
- planning, performance
- performance, planning
- sustainable performance
ms.assetid: 4b18b976-7714-431f-8976-f40a1016d5f3
caps.latest.revision: ''
author: MandiOhlinger
ms.author: mandia
manager: anneta
ms.openlocfilehash: 276ce104d8667166d020b33b2f1fb4e7bfb98dbc
ms.sourcegitcommit: 8418b1a8f38b7f56979cd6e203f0b591e2f40fe1
ms.translationtype: MT
ms.contentlocale: ja-JP
ms.lasthandoff: 03/28/2018
---
# <a name="what-is-sustainable-performance"></a><span data-ttu-id="7781d-103">維持可能なパフォーマンスとは何ですか。</span><span class="sxs-lookup"><span data-stu-id="7781d-103">What Is Sustainable Performance?</span></span>
<span data-ttu-id="7781d-104">システム持続性を計画および評価する場合、長期間の持続性について考慮することが重要です。</span><span class="sxs-lookup"><span data-stu-id="7781d-104">When planning for and estimating system sustainability, it is critical to think in terms of sustainability over the long term.</span></span> <span data-ttu-id="7781d-105">主要な考慮事項は次のとおりです。</span><span class="sxs-lookup"><span data-stu-id="7781d-105">The primary considerations are:</span></span>  
  
-   <span data-ttu-id="7781d-106">**ロード プロファイルおよびパフォーマンス目標**: プロファイルおよびパフォーマンスの目標をロードする際に、あまり詳細を持つことはできません。</span><span class="sxs-lookup"><span data-stu-id="7781d-106">**Load Profiles and Performance Goals**: You can't have too much detail when it comes to load profiles and performance goals.</span></span> <span data-ttu-id="7781d-107">テストと準備が完了したことは、これらの負荷を長期間にわたって処理できるかどうかによって判断されます。</span><span class="sxs-lookup"><span data-stu-id="7781d-107">Testing and readiness certification will be based on being able to handle these loads long term.</span></span>  
  
-   <span data-ttu-id="7781d-108">**その他のアクティビティおよびプロセス サーバーのリソースに対して競合する**: メッセージの読み込みだけはありません。</span><span class="sxs-lookup"><span data-stu-id="7781d-108">**Other Activities and Processes that Compete for Server Resources**: It isn’t just about the message load.</span></span> <span data-ttu-id="7781d-109">サーバーでは、パフォーマンスに影響を与える他のプロセスおよびアクティビティ (データベース メンテナンスや、メッセージのクエリなど) が発生します。</span><span class="sxs-lookup"><span data-stu-id="7781d-109">There are other processes and activities taking place on the servers that affect performance such as database maintenance and MessageBox queries.</span></span>  
  
-   <span data-ttu-id="7781d-110">**計画済みおよび計画外のシステムの障害およびダウンタイム**: フラッド ゲート イベントおよびメッセージのバックログが効率的なロード プロファイルを変更できます。</span><span class="sxs-lookup"><span data-stu-id="7781d-110">**Planned and Unplanned System Outages and Downtime**: Floodgate events and message backlog can change the effective load profile.</span></span>  
  
 <span data-ttu-id="7781d-111">維持可能なシステムの構築および証明するためのテストについて検討する場合は、これらの事項を考慮する必要があります。</span><span class="sxs-lookup"><span data-stu-id="7781d-111">When thinking about building sustainable systems and the tests to certify them, be sure to take these factors into account and plan for them.</span></span>  
  
## <a name="is-your-performance-sustainable"></a><span data-ttu-id="7781d-112">維持可能なパフォーマンスについて</span><span class="sxs-lookup"><span data-stu-id="7781d-112">Is Your Performance Sustainable?</span></span>  
 <span data-ttu-id="7781d-113">[!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] のパフォーマンスを検討する場合、維持可能な最大パフォーマンスを次のように定義します。</span><span class="sxs-lookup"><span data-stu-id="7781d-113">When discussing performance for [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)], we define maximum sustainable performance as follows:</span></span>  
  
-   <span data-ttu-id="7781d-114">システムが実稼働環境で無制限に処理できるメッセージ トラフィックの最大負荷。</span><span class="sxs-lookup"><span data-stu-id="7781d-114">The highest load of message traffic that a system can handle indefinitely in a production environment.</span></span>  
  
 <span data-ttu-id="7781d-115">単純なようですが、特定のハードウェアで動作するソリューションが、実稼働環境へのソリューション適用後に毎日発生する負荷に対応できるかどうかを評価する場合は、多数の要因を考慮する必要があります。</span><span class="sxs-lookup"><span data-stu-id="7781d-115">While this seems simple, there are many factors that you must consider when evaluating whether or not a solution - running on a particular set of hardware - will be able to support the loads experienced day in and day out after you put the solution into production.</span></span>  
  
 <span data-ttu-id="7781d-116">ソリューションを実稼働に移す前に、ソリューションがメッセージ トラフィックの最大負荷を無制限に処理できるかどうかを評価するために、次の事項について考慮してください。</span><span class="sxs-lookup"><span data-stu-id="7781d-116">Before you put your solution into production, consider the following factors to evaluate whether the solution can handle the highest load of message traffic indefinitely:</span></span>  
  
-   <span data-ttu-id="7781d-117">適切なパフォーマンス目標、および、スループットと待機時間のプロファイル</span><span class="sxs-lookup"><span data-stu-id="7781d-117">Desired Performance Goals and Throughput/Latency profiles.</span></span>  
  
-   <span data-ttu-id="7781d-118">同じハードウェアで実行される他のプロセス</span><span class="sxs-lookup"><span data-stu-id="7781d-118">Other Processes Running on the Same Hardware such as:</span></span>  
  
    -   <span data-ttu-id="7781d-119">標準の監視ツールとトラブルシューティング ツール</span><span class="sxs-lookup"><span data-stu-id="7781d-119">Normal Monitoring and Troubleshooting</span></span>  
  
    -   <span data-ttu-id="7781d-120">ログ配布、バックアップ、削除、インデックス メンテナンス、統計の更新など、稼働中のデータベースのメンテナンス</span><span class="sxs-lookup"><span data-stu-id="7781d-120">Operational database maintenance such as log shipping, backup, purging, index maintenance, and statistics updates.</span></span>  
  
    -   <span data-ttu-id="7781d-121">その他のアプリケーション</span><span class="sxs-lookup"><span data-stu-id="7781d-121">Other Applications</span></span>  
  
-   <span data-ttu-id="7781d-122">計画内または計画外のシステムの障害</span><span class="sxs-lookup"><span data-stu-id="7781d-122">Planned and Unplanned System Outages such as:</span></span>  
  
    -   <span data-ttu-id="7781d-123">取引先サイトのダウンによるメッセージ送受信のブロック</span><span class="sxs-lookup"><span data-stu-id="7781d-123">Partner sites down which blocks sending or receiving messages</span></span>  
  
    -   <span data-ttu-id="7781d-124">通常のシステム メンテナンス ダウン タイム</span><span class="sxs-lookup"><span data-stu-id="7781d-124">Regular system maintenance down time</span></span>  
  
## <a name="know-your-performance-goals"></a><span data-ttu-id="7781d-125">パフォーマンスの目標の理解</span><span class="sxs-lookup"><span data-stu-id="7781d-125">Know Your Performance Goals</span></span>  
 <span data-ttu-id="7781d-126">ソリューションの持続性を評価するには、実稼働環境の負荷の予測を詳細に理解する必要があります。</span><span class="sxs-lookup"><span data-stu-id="7781d-126">Before you can evaluate your solution for sustainability, you must have a detailed understanding of the expected production loads.</span></span> <span data-ttu-id="7781d-127">目標を適切に把握していないと、準備が十分かどうかを評価できません。</span><span class="sxs-lookup"><span data-stu-id="7781d-127">Without a well understood goal, you can't evaluate readiness.</span></span> <span data-ttu-id="7781d-128">システムのテストおよび保証は、パフォーマンス目標を軸として遂行されるので、目標を適切に設定することが重要です。</span><span class="sxs-lookup"><span data-stu-id="7781d-128">A well formed set of performance goals is critical as it will drive your strategies around system testing and certification.</span></span> <span data-ttu-id="7781d-129">パフォーマンスの目標には次の要素が必要です。</span><span class="sxs-lookup"><span data-stu-id="7781d-129">Your performance goals should have the following elements:</span></span>  
  
-   <span data-ttu-id="7781d-130">パフォーマンスを時間の関数として定義する曲線。</span><span class="sxs-lookup"><span data-stu-id="7781d-130">A curve that defines performance as a function of time.</span></span> <span data-ttu-id="7781d-131">これらの関数は、非常に単純なものから非常に複雑なものまであります。</span><span class="sxs-lookup"><span data-stu-id="7781d-131">These functions can range from extremely simple to very complex.</span></span>  
  
-   <span data-ttu-id="7781d-132">パフォーマンス関数に関連付けるパフォーマンス要件。</span><span class="sxs-lookup"><span data-stu-id="7781d-132">A performance requirement associated with the performance function.</span></span>  
  
-   <span data-ttu-id="7781d-133">ファイルのサイズと種類の分布。</span><span class="sxs-lookup"><span data-stu-id="7781d-133">A distribution of file sizes and types.</span></span>  
  
### <a name="example-1"></a><span data-ttu-id="7781d-134">例 1</span><span class="sxs-lookup"><span data-stu-id="7781d-134">Example 1</span></span>  
  
-   <span data-ttu-id="7781d-135">毎日、蓄積されるメッセージは、8:00AM に 0 メッセージ/秒、正午に 80 メッセージ/秒となり、9:00PM に 0 メッセージ/秒に戻ります。ベル曲線にほぼ近い形です。</span><span class="sxs-lookup"><span data-stu-id="7781d-135">Each day, messages build up from 0 msgs/sec at 8:00AM to 80 msgs/sec at noon and then back down to 0 msgs/sec at 9:00PM, roughly in the form of a bell curve.</span></span>  
  
-   <span data-ttu-id="7781d-136">システムの各メッセージについて、特定の待機時間の要件がありませんが、この負荷を処理できる必要がありますおよびすべて前日のメッセージの負荷を (たとえば、障害発生時に、24 時間対応のシステム) 遅れることがなく。</span><span class="sxs-lookup"><span data-stu-id="7781d-136">The system has no specific latency requirement for each message, but it must be able to process this load, plus all of the previous day’s message load (for example, in the event of a 24 hour system outage) without getting behind.</span></span>  
  
-   <span data-ttu-id="7781d-137">次の 3 つのドキュメントの種類があります。 販売バスケット、戻るの順序および在庫要求です。</span><span class="sxs-lookup"><span data-stu-id="7781d-137">There are three document types: Sales Basket, Back Order, and Stock Request.</span></span> <span data-ttu-id="7781d-138">販売バスケット ドキュメントのサイズの範囲は 2 ～ 10 KB で、どの時点でもメッセージ数の 75% を占めます。</span><span class="sxs-lookup"><span data-stu-id="7781d-138">Sales Basket documents range in size between 2 and 10 kilobytes and make up 75% of the message counts at any given time.</span></span> <span data-ttu-id="7781d-139">注文残および在庫要求ドキュメントのサイズは常に約 1 KB で、どの時点でもメッセージ数の 10% と 15% をそれぞれ占めます。</span><span class="sxs-lookup"><span data-stu-id="7781d-139">Back Order and Stock Request documents are always close to 1 Kilobyte in size and make up the remaining, 10% and 15% of the message count at any given time, respectively.</span></span>  
  
### <a name="example-2"></a><span data-ttu-id="7781d-140">例 2</span><span class="sxs-lookup"><span data-stu-id="7781d-140">Example 2</span></span>  
  
-   <span data-ttu-id="7781d-141">毎日、深夜 0 時に、500,000 メッセージのバッチが処理のために到着します。</span><span class="sxs-lookup"><span data-stu-id="7781d-141">Every night at midnight, a batch of 500,000 messages arrive for processing.</span></span>  
  
-   <span data-ttu-id="7781d-142">バッチのメッセージはすべて、8 時間以内に完了するように処理する必要があります。</span><span class="sxs-lookup"><span data-stu-id="7781d-142">All messages in the batch must be processed to completion in 8 hours.</span></span>  
  
-   <span data-ttu-id="7781d-143">メッセージはすべて同じ種類で、10 ～ 15 KB の範囲で均等に分布しています。</span><span class="sxs-lookup"><span data-stu-id="7781d-143">All messages are of the same type and are evenly distributed between 10 and 50 Kilobytes, inclusive.</span></span> <span data-ttu-id="7781d-144">さらに、バッチは常に、それぞれ 10 MB のカタログ タイプ メッセージ 10 件を含んでおり、処理のために個別のカタログ エントリに分割する必要があります。</span><span class="sxs-lookup"><span data-stu-id="7781d-144">In addition, the batch always contains 10 catalog type messages that are 10 megabytes each and must be subdivided into individual catalog entries for processing.</span></span>  
  
### <a name="example-3"></a><span data-ttu-id="7781d-145">例 3</span><span class="sxs-lookup"><span data-stu-id="7781d-145">Example 3</span></span>  
  
-   <span data-ttu-id="7781d-146">4,000 人の顧客サービス担当者が、週に 7 日間、毎日午前 8 時から対話型のシステムにログオンし、午後 5 時の終了時間までに各人が 1 分間に平均 4 件の問い合わせを実行します。</span><span class="sxs-lookup"><span data-stu-id="7781d-146">Every morning at 8:00AM, 4000 customer service representatives log on to the interactive system and perform, on average, 4 inquiries per representative per minute until closing time at 5:00PM, 7 days per week.</span></span>  
  
-   <span data-ttu-id="7781d-147">すべての問い合わせは、2 秒未満で結果を返す必要があります。</span><span class="sxs-lookup"><span data-stu-id="7781d-147">All inquiries must return results in less than 2 seconds.</span></span>  
  
-   <span data-ttu-id="7781d-148">問い合わせはすべて同じ種類で、500 ～ 1,000 KB の範囲で均等に分布しています。</span><span class="sxs-lookup"><span data-stu-id="7781d-148">All inquiries are the same type and are evenly distributed between 500 and 1000 bytes in size, inclusive.</span></span>  
  
#### <a name="a-performance-requirement-associated-with-the-performance-function"></a><span data-ttu-id="7781d-149">パフォーマンス関数に関連付けるパフォーマンス要件</span><span class="sxs-lookup"><span data-stu-id="7781d-149">A performance requirement associated with the performance function</span></span>  
 <span data-ttu-id="7781d-150">上記の例をもう一度使用します。</span><span class="sxs-lookup"><span data-stu-id="7781d-150">Continuing with the above examples:</span></span>  
  
-   <span data-ttu-id="7781d-151">**例 1 (続き)**: および遅れることがなく (たとえば、および障害発生時に、24 時間対応のシステム) 負荷前日のメッセージのすべてをシステムには、メッセージごとに固有の待機時間要件がありませんが、この負荷を処理できる必要があります。</span><span class="sxs-lookup"><span data-stu-id="7781d-151">**Example 1 (continued)**:  The system has no specific latency requirement for each message, but it must be able to process this load, plus all of the previous day’s message load (for example,, in the event of a 24 hour system outage) without getting behind.</span></span>  
  
-   <span data-ttu-id="7781d-152">**例 2 (続き)**: 8 時間以内に完了するまで、バッチ内のすべてのメッセージを処理する必要があります。</span><span class="sxs-lookup"><span data-stu-id="7781d-152">**Example 2 (continued)**:  All messages in the batch must be processed to completion in 8 hours.</span></span>  
  
-   <span data-ttu-id="7781d-153">**例 (続き) 3**: 問い合わせに対しては 2 秒以内に結果を返す必要があります。</span><span class="sxs-lookup"><span data-stu-id="7781d-153">**Example 3 (continued)**:  All inquiries must return results in less than 2 seconds.</span></span>  
  
#### <a name="a-distribution-of-file-sizes-and-types"></a><span data-ttu-id="7781d-154">ファイルのサイズと種類の分布</span><span class="sxs-lookup"><span data-stu-id="7781d-154">A distribution of file sizes and types</span></span>  
  
-   <span data-ttu-id="7781d-155">**例 1 (続き)**: 次の 3 つのドキュメントの種類があります。 販売バスケット、戻るの順序および在庫要求です。</span><span class="sxs-lookup"><span data-stu-id="7781d-155">**Example 1 (continued)**: There are three document types: Sales Basket, Back Order, and Stock Request.</span></span> <span data-ttu-id="7781d-156">販売バスケット ドキュメントのサイズの範囲は 2 ～ 10 KB で、どの時点でもメッセージ数の 75% を占めます。</span><span class="sxs-lookup"><span data-stu-id="7781d-156">Sales Basket documents range in size between 2 and 10 kilobytes and make up 75% of the message counts at any given time.</span></span> <span data-ttu-id="7781d-157">注文残および在庫要求ドキュメントのサイズは常に約 1 KB で、どの時点でもメッセージ数の 10% と 15% をそれぞれ占めます。</span><span class="sxs-lookup"><span data-stu-id="7781d-157">Back Order and Stock Request documents are always close to 1 Kilobyte in size and make up the remaining, 10% and 15% of the message count at any given time, respectively.</span></span>  
  
-   <span data-ttu-id="7781d-158">**例 2 (続き)**: すべてのメッセージが同じ型および 10 と 50 キロバイト単位、包括的な間に均等に分散されます。</span><span class="sxs-lookup"><span data-stu-id="7781d-158">**Example 2 (continued)**: All messages are of the same type and are evenly distributed between 10 and 50 Kilobytes, inclusive.</span></span> <span data-ttu-id="7781d-159">さらに、バッチは常に、それぞれ 10 MB のカタログ タイプ メッセージ 10 件を含んでおり、処理のために個別のカタログ エントリに分割する必要があります。</span><span class="sxs-lookup"><span data-stu-id="7781d-159">In addition, the batch always contains 10 catalog type messages that are 10 megabytes each and must be subdivided into individual catalog entries for processing.</span></span>  
  
-   <span data-ttu-id="7781d-160">**例 (続き) 3**: 問い合わせに対して同じ種類し、サイズは、包括的 500 ~ 1000 のバイトが均等に配分します。</span><span class="sxs-lookup"><span data-stu-id="7781d-160">**Example 3 (continued)**: All inquiries are the same type and are evenly distributed between 500 and 1000 bytes in size, inclusive.</span></span>  
  
## <a name="accounting-for-other-processes"></a><span data-ttu-id="7781d-161">他のプロセスに関する考慮事項</span><span class="sxs-lookup"><span data-stu-id="7781d-161">Accounting for Other Processes</span></span>  
 <span data-ttu-id="7781d-162">BizTalk エンジンに直接送られるロード プロファイル以外に、リソースに対して競合する他のプロセスが同じハードウェア上に常に存在します。</span><span class="sxs-lookup"><span data-stu-id="7781d-162">In addition to the load profiles that pass directly through the BizTalk engine, there are always other processes that compete for resources on the same hardware.</span></span>  <span data-ttu-id="7781d-163">このような他のプロセスにより、維持可能なシステムのパフォーマンス機能が全体的に低下します。</span><span class="sxs-lookup"><span data-stu-id="7781d-163">These other processes will reduce the overall sustainable performance capabilities of the system.</span></span> <span data-ttu-id="7781d-164">データベース メンテナンスは、この種類のプロセスの最も一般的な例です。</span><span class="sxs-lookup"><span data-stu-id="7781d-164">Database maintenance is probably the most common example of this type of process.</span></span>  
  
 <span data-ttu-id="7781d-165">各データベースは (サイズの大小に関係なく)、ログ配布、バックアップ、アーカイブ、削除など、定期的な稼働中のメンテナンスが必要です。</span><span class="sxs-lookup"><span data-stu-id="7781d-165">Every database, large or small, requires periodic operational maintenance such as log shipping, backup, archive, and purging.</span></span> <span data-ttu-id="7781d-166">監視およびトラブルシューティングは、何が維持可能かを定義および証明する場合に考慮すべき操作の 1 つです。</span><span class="sxs-lookup"><span data-stu-id="7781d-166">Monitoring and troubleshooting are other examples of operations that you must take into account when defining and certifying what is sustainable.</span></span> <span data-ttu-id="7781d-167">たとえば、管理コンソールの [グループ ハブ] ページなどから、メッセージ ボックスで、24 時間以内に保留された特定の種類のメッセージ数を求めるクエリを実行する場合は、SQL Server のリソースが必要ですが、メッセージの処理に使用されている可能性があります。</span><span class="sxs-lookup"><span data-stu-id="7781d-167">For example, querying the MessageBox (for example, via the administration console Group Hub page) to see how many messages of a given type have been suspended in the last 24 hours requires resources from SQL Server that could otherwise have been used to process messages.</span></span>  
  
 <span data-ttu-id="7781d-168">[!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] の全体的な持続性に、一般的に最も影響が大きいアクティビティを次に示します。</span><span class="sxs-lookup"><span data-stu-id="7781d-168">Following is a list of activities that will typically have the most effect on overall sustainability in [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)]:</span></span>  
  
-   <span data-ttu-id="7781d-169">**ログ配布とバックアップ**します。</span><span class="sxs-lookup"><span data-stu-id="7781d-169">**Log Shipping and Backup**.</span></span> <span data-ttu-id="7781d-170">SQL Server に関連する大半のディザスター リカバリー計画の一部として、すべての [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] グループ データベースのログ配布およびバックアップを定期的に行う必要があります。</span><span class="sxs-lookup"><span data-stu-id="7781d-170">As part of most disaster recovery plans involving SQL Server, you must perform log shipping and backup periodically for all of the [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] group databases.</span></span> <span data-ttu-id="7781d-171">詳細については、次を参照してください。 [をバックアップおよび BizTalk Server データベースの復元](../core/backing-up-and-restoring-biztalk-server-databases.md)します。</span><span class="sxs-lookup"><span data-stu-id="7781d-171">For more information, see [Backing Up and Restoring BizTalk Server Databases](../core/backing-up-and-restoring-biztalk-server-databases.md).</span></span> <span data-ttu-id="7781d-172">参照してください[ログ配布](../core/log-shipping.md)です。</span><span class="sxs-lookup"><span data-stu-id="7781d-172">Also see [Log Shipping](../core/log-shipping.md).</span></span>  
  
-   <span data-ttu-id="7781d-173">**アーカイブと削除の追跡データ**します。</span><span class="sxs-lookup"><span data-stu-id="7781d-173">**Archiving and Purging Tracking Data**.</span></span> <span data-ttu-id="7781d-174">全体のログ配布およびバックアップ計画に加えて、BizTalk 追跡 (BizTalkDTADb) データベース、固有のアーカイブがあり、パージ手法があります。詳細については、次を参照してください。[アーカイブ化および BizTalk 追跡データベースを削除](../core/archiving-and-purging-the-biztalk-tracking-database.md)です。</span><span class="sxs-lookup"><span data-stu-id="7781d-174">In addition to the overall log shipping and backup plan, the BizTalk Tracking (BizTalkDTADb) database has its own archive and purge regimes; for more information, see [Archiving and Purging the BizTalk Tracking Database](../core/archiving-and-purging-the-biztalk-tracking-database.md).</span></span> <span data-ttu-id="7781d-175">BizTalk 追跡データベースからデータをアーカイブおよび削除できる速度は、特に重要です。追跡が使用中である場合は、通常、BizTalk 追跡データベースのアーカイブと削除がボトルネックとなるためです。</span><span class="sxs-lookup"><span data-stu-id="7781d-175">The speed at which data can be archived and purged from the BizTalk Tracking database is especially important since archiving and purging of the BizTalk Tracking database is typically a bottleneck when tracking is in use.</span></span>  
  
-   <span data-ttu-id="7781d-176">**システム クエリ**します。</span><span class="sxs-lookup"><span data-stu-id="7781d-176">**System Queries**.</span></span> <span data-ttu-id="7781d-177">Api または BizTalk Server 管理コンソール UI を使用して、システムに対する各種クエリを実行すると維持可能なパフォーマンスに影響します。</span><span class="sxs-lookup"><span data-stu-id="7781d-177">Using APIs or the BizTalk Server Administration Console UI to run various types of queries against the system will affect sustainable performance.</span></span>  
  
-   <span data-ttu-id="7781d-178">**メッセージ ボックスのメンテナンス**します。</span><span class="sxs-lookup"><span data-stu-id="7781d-178">**MessageBox Maintenance**.</span></span> <span data-ttu-id="7781d-179">[!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] コア機能の一部であるさまざまな SQL ジョブは、メッセージ ボックス データベースのメンテナンスのために、処理を終えたメッセージおよびインスタンスのクリーンアップを行います。</span><span class="sxs-lookup"><span data-stu-id="7781d-179">There are a number of SQL jobs that are part of the core functionality of [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] that maintain the MessageBox database by cleaning up messages and instances that have finished processing.</span></span> <span data-ttu-id="7781d-180">コア エンジンの一部として、これらのジョブを完了できる速度は、持続性を予測するときの主要な要素です。</span><span class="sxs-lookup"><span data-stu-id="7781d-180">As part of the core engine, the speed at which these jobs can complete is a key factor in gauging sustainability.</span></span> <span data-ttu-id="7781d-181">これらのジョブとその役割の詳細については、次を参照してください。 [BizTalk Server1 の維持](../core/maintaining-biztalk-server1.md)です。</span><span class="sxs-lookup"><span data-stu-id="7781d-181">For more information about these jobs and their role, see [Maintaining BizTalk Server1](../core/maintaining-biztalk-server1.md).</span></span>  
  
-   <span data-ttu-id="7781d-182">**ソリューション展開アクティビティ**します。</span><span class="sxs-lookup"><span data-stu-id="7781d-182">**Solution Deployment Activities**.</span></span> <span data-ttu-id="7781d-183">新しいアプリケーションまたは既存のアプリケーションの新しいバージョンを展開、バインド、および開始すると、メッセージ ボックス データベースの新しいサブスクリプションの作成など、BizTalk に追加の負荷が加わります。</span><span class="sxs-lookup"><span data-stu-id="7781d-183">When deploying, binding, and starting new applications or new versions of existing applications, additional load is placed on BizTalk such as the creation of new subscriptions on the MessageBox database(s).</span></span> <span data-ttu-id="7781d-184">アプリケーションの展開後、処理されるメッセージがリソースに対して競合するので、既存のアプリケーションのパフォーマンスに影響が及びます。</span><span class="sxs-lookup"><span data-stu-id="7781d-184">After applications are deployed, the messages being processed will compete for resources and thereby affect the performance of the existing applications.</span></span>  
  
 <span data-ttu-id="7781d-185">これらの領域ごとに、確認する必要があります。 これらのアクティビティの影響を最小限にするための推奨は何ですか。</span><span class="sxs-lookup"><span data-stu-id="7781d-185">For each of these areas, you need to ask: What is your recommendation to minimize the impact of these activities?</span></span> <span data-ttu-id="7781d-186">たとえば、午前 3 時に実行する計画を立てるべきか。</span><span class="sxs-lookup"><span data-stu-id="7781d-186">For example, should they plan to run them at 3am?</span></span>  
  
## <a name="considering-planned-and-unplanned-outages"></a><span data-ttu-id="7781d-187">計画内または計画外のシステムの障害への考慮</span><span class="sxs-lookup"><span data-stu-id="7781d-187">Considering Planned and Unplanned Outages</span></span>  
 <span data-ttu-id="7781d-188">障害によるシステム パフォーマンスへの影響は広範であり、障害が発生したシステムによって異なりますが、最も一般的な影響は次のとおりです。</span><span class="sxs-lookup"><span data-stu-id="7781d-188">The effects that outages have on the system performance will vary depending on the system experiencing the outage, however the most common consequences are:</span></span>  
  
-   <span data-ttu-id="7781d-189">**フラッド ゲート イベント**です。</span><span class="sxs-lookup"><span data-stu-id="7781d-189">**Floodgate Events**.</span></span> <span data-ttu-id="7781d-190">システムが一定期間ダウンしている間、メッセージが蓄積され、後でシステムが再び使用可能になったときに、すべてのメッセージが一度に到着します。</span><span class="sxs-lookup"><span data-stu-id="7781d-190">When systems are down for some length of time, messages can build up and then arrive all at once for processing once the systems are functional again.</span></span>  <span data-ttu-id="7781d-191">たとえば、BizTalk で動作しているアプリケーションが MSMQ を介してメッセージを受信し、そのアプリケーションが一定期間ダウンしている間、取得を待機するメッセージがキューに蓄積されます。</span><span class="sxs-lookup"><span data-stu-id="7781d-191">For example, if an application running on BizTalk receives messages via MSMQ, and that application is down for some time, messages build up in the queues waiting to be picked up.</span></span> <span data-ttu-id="7781d-192">アプリケーションを再び起動すると、大量のメッセージが一度に届いたように動作します。</span><span class="sxs-lookup"><span data-stu-id="7781d-192">When the application is started up again, it is as if a large number of messages arrived "all at once."</span></span>  
  
-   <span data-ttu-id="7781d-193">**メッセージのバックログ**します。</span><span class="sxs-lookup"><span data-stu-id="7781d-193">**Message Backlog**.</span></span> <span data-ttu-id="7781d-194">メッセージの送信先であるシステムがダウンした場合、通常は、追加のリソースを使用する再試行サイクルが使用されます。</span><span class="sxs-lookup"><span data-stu-id="7781d-194">When systems to which messages are sent are down, there is typically a retry cycle that is employed that uses additional resources.</span></span> <span data-ttu-id="7781d-195">再試行サイクルが終了すると、通常、メッセージは保留されます。</span><span class="sxs-lookup"><span data-stu-id="7781d-195">After the retry cycle is exhausted, then messages are typically suspended.</span></span> <span data-ttu-id="7781d-196">ダウンしたシステムが再びオンラインで使用可能になると、フラッドゲート タイプのイベントが発生し、多数のメッセージが再開され、正常に送信されます。</span><span class="sxs-lookup"><span data-stu-id="7781d-196">Then the downed systems come back on line, a type of floodgate event occurs where large numbers of messages can now be resumed and/or successfully sent.</span></span>  
  
 <span data-ttu-id="7781d-197">システムを設計および保証する場合は、スケジュールされた定期的なメンテナンスなど、すべての計画内の障害を必ず考慮する必要があります。</span><span class="sxs-lookup"><span data-stu-id="7781d-197">Certainly any planned outages such as regularly scheduled maintenance must be taken into consideration when designing and certifying a system.</span></span> <span data-ttu-id="7781d-198">また、計画外の障害とその影響の分析について考慮することもお勧めします。</span><span class="sxs-lookup"><span data-stu-id="7781d-198">It is also recommended that an analysis of unplanned outages and their effects be considered.</span></span>  
  
 <span data-ttu-id="7781d-199">発生する可能性のある障害の種類を特定し、リスク レベルの予測 (確率×重大度) によって順位付けし、よりリスクの高い障害の期間および影響 (フラッドゲート イベント、保留メッセージ量、バックログなど) を予測することにより、障害が発生した場合にも問題とならないシステム能力が明らかになります。</span><span class="sxs-lookup"><span data-stu-id="7781d-199">Identifying the types of outages that can occur, ranking them by estimated risk level (that is, probability times severity), and estimating the duration and effect (for example, floodgate events, suspended message volume, backlog, etc.) of the higher risk outages will indicate a desired system capability should the outages take place.</span></span> <span data-ttu-id="7781d-200">[!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)] のようなストア アンド フォワード式のメッセージングベースの非同期システムは、計画内および計画外の障害に対応できる処理能力の「余裕」を十分に備えるように設計する必要があります。</span><span class="sxs-lookup"><span data-stu-id="7781d-200">Any store-and-forward, messaging-based asynchronous system, such as [!INCLUDE[btsBizTalkServerNoVersion](../includes/btsbiztalkservernoversion-md.md)], should be designed will processing "headroom" sufficient to cope with planned and unplanned outages.</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="7781d-201">参照</span><span class="sxs-lookup"><span data-stu-id="7781d-201">See Also</span></span>  
 <span data-ttu-id="7781d-202">[エンジンの永続性と持続性](../core/engine-persistence-and-durability.md) </span><span class="sxs-lookup"><span data-stu-id="7781d-202">[Engine Persistence and Durability](../core/engine-persistence-and-durability.md) </span></span>  
 <span data-ttu-id="7781d-203">[プロジェクト計画のフェーズの推奨事項](../core/project-planning-recommendations-by-phase.md) </span><span class="sxs-lookup"><span data-stu-id="7781d-203">[Project Planning Recommendations by Phase](../core/project-planning-recommendations-by-phase.md) </span></span>  
 <span data-ttu-id="7781d-204">[維持可能な最大のエンジン スループットの測定](../core/measuring-maximum-sustainable-engine-throughput.md) </span><span class="sxs-lookup"><span data-stu-id="7781d-204">[Measuring Maximum Sustainable Engine Throughput](../core/measuring-maximum-sustainable-engine-throughput.md) </span></span>  
 <span data-ttu-id="7781d-205">[維持可能な最大の追跡スループットの測定](../core/measuring-maximum-sustainable-tracking-throughput.md) </span><span class="sxs-lookup"><span data-stu-id="7781d-205">[Measuring Maximum Sustainable Tracking Throughput](../core/measuring-maximum-sustainable-tracking-throughput.md) </span></span>  
 <span data-ttu-id="7781d-206">[ソリューションの拡張](../core/scaling-your-solutions.md) </span><span class="sxs-lookup"><span data-stu-id="7781d-206">[Scaling Your Solutions](../core/scaling-your-solutions.md) </span></span>  
 <span data-ttu-id="7781d-207">[パフォーマンスのボトルネックを特定します。](../core/identifying-performance-bottlenecks.md) </span><span class="sxs-lookup"><span data-stu-id="7781d-207">[Identifying Performance Bottlenecks](../core/identifying-performance-bottlenecks.md) </span></span>  
 [<span data-ttu-id="7781d-208">エンジンのパフォーマンスおよび容量</span><span class="sxs-lookup"><span data-stu-id="7781d-208">Engine Performance and Capacity</span></span>](../core/engine-performance-and-capacity.md)