---
title: ESB 追加 Namespace Namespace コンポーネントおよび削除 |Microsoft Docs
ms.custom: ''
ms.date: 06/08/2017
ms.prod: biztalk-server
ms.reviewer: ''
ms.suite: ''
ms.tgt_pltfrm: ''
ms.topic: article
ms.assetid: 21df1b21-b73c-4e31-a234-49a1a6b53cc7
caps.latest.revision: 2
author: MandiOhlinger
ms.author: mandia
manager: anneta
ms.openlocfilehash: ef25458cdf578930f46bdb702feb283a171d1529
ms.sourcegitcommit: 266308ec5c6a9d8d80ff298ee6051b4843c5d626
ms.translationtype: MT
ms.contentlocale: ja-JP
ms.lasthandoff: 06/27/2018
ms.locfileid: "36971427"
---
# <a name="the-esb-add-namespace-and-remove-namespace-components"></a>ESB Namespace を追加し、Namespace コンポーネントを削除
多くの企業では、時と標準がまだに新たな、一般的なドキュメントの共有が XML テクノロジの早期採用者がいました。 そのため、それらが厳密に適用ですが、通常は、今日の一意のルート名前空間を含めるための要件。  
  
 ただし、Microsoft BizTalk Server は、ルート ノードの名前空間とルート ノード名の組み合わせに基づいているため、ルート ノードの名前空間を持たないドキュメントがいくつかを識別する困難なドキュメントの識別を実行します別のドキュメント。種類は、同じルート ノード名を使用します。  
  
 Namespace の追加と削除の Namespace コンポーネントを受け取ったときに、ドキュメントに名前空間を追加して、配信される前に、ドキュメントから、名前空間を削除できるので、この問題を解決します。 ドキュメントが既定の名前空間 (または別のドキュメントのいくつかの種類に共通の名前空間) を配置するため、ESB および BizTalk 内での処理中に一時的な一意のルート名前空間に存在するが、場合の送信し受信します。  
  
 コンポーネントは、ドキュメント型定義 (DTD) を使用する、XML スキーマ定義ではなくやルート名前空間が含まれているドキュメントを作成できない従来の XML パーサーを使用するレガシ システムを統合する場合にも役立ちます。  
  
## <a name="installation"></a>インストール  
 ESB コアを自動的にインストールするインストール、**追加 Namespace**と**削除 Namespace** BizTalk Server パイプライン コンポーネント フォルダー内のコンポーネント。  
  
## <a name="how-it-works"></a>しくみ  
 Namespace の追加コンポーネントは、XML ドキュメントに指定された名前空間を追加します。 コンポーネントは、ドキュメントに単一の名前空間のみを追加できます。 ルート ノードの名前空間に既にある文書で Namespace の追加コンポーネントを使用してシナリオでない、サポートされているため、1 つの一意の名前空間が必要なの。  
  
 コンポーネントは、名前空間に対応していないし、任意の名前空間の値は保持されません。 ただし、Namespace の追加コンポーネントは、メッセージの既存の名前空間で要求された名前空間を比較し、単に一致する場合、パイプラインに、元のメッセージを返します。  
  
 開発者は、受信パイプラインまたは送信パイプラインに追加の Namespace コンポーネントを含めるし、適切なプロパティを設定します。 次の検証は実行時に実行されます。  
  
- **Xpath**プロパティまたは**NamespaceBase**プロパティ値を含める必要があります。  
  
- **区切り**プロパティが有効な文字だけを含めることができます (など**/** または**\\**) または空の文字列。  
  
- **NamespacePrefix**プロパティの値は予約済みの値のいずれかにすることはできません (**ns0**に**ns6**) と英数字にする必要があります。  
  
  これらの規則からのすべてのバリエーションにより実行時に例外をスロー、メッセージを中断するコンポーネント (としてマークされている**中断 – 再開可能な**)、Windows アプリケーション イベント ログ エントリの書き込みとします。  
  
  削除 Namespace コンポーネントでは、XML ドキュメントからすべてのルート名前空間を削除します。 コンポーネントが 1 つのドキュメントから削除できる名前空間の数は、処理中に、現在のノードを保持するために使用可能な物理メモリによって制約されます。 ただし、コンポーネントは、標準の BizTalk Server 2009 パイプライン メッセージ ストリーミング プロセスを使用して、ドキュメント全体の読み込みではなくメモリにドキュメントの現在のノードのみを読み込みます。  
  
  削除 Namespace コンポーネントも再エンコードしますドキュメントを指定したエンコーディング (**ascii、unicode/utf16**または**utf8**) と場合、ストリームの先頭からバイト オーダー マーク (BOM) を削除できます必須。  
  
## <a name="using-the-add-namespace-and-remove-namespace-components"></a>使用して、Namespace を追加し、Namespace コンポーネントを削除  
 開発者は、次の状況のいずれかで Namespace の追加コンポーネントを使用する可能性があります。  
  
- 受信メッセージには、ルート名前空間がありません。  
  
- 受信メッセージでは、要素のデータまたは属性のデータを使用して、メッセージの種類について説明します。  
  
- メッセージ型を記述するデータは一貫性のある XPath クエリを使用して利用できます。  
  
  Namespace の追加と削除の Namespace コンポーネントは、受信パイプラインまたは送信パイプラインのいずれかの段階に配置できます。 必要な場合、このようなドキュメントのルート名前空間を変更する追加 Namespace コンポーネントによって後に削除 Namespace コンポーネントを使用している場合、コンポーネントのインスタンスを連結することができます。  
  
  複数の受信場所をこれらのコンポーネントの使用を必要とする場合は、1 つのパイプラインを作成し、BizTalk Server を使用して、送信の各インスタンスについて、コンポーネントのプロパティを設定または受信パイプライン コンポーネントの構成"インスタンス"ごと。 BizTalk Server 2009 を使用して、プロパティを設定するパイプラインのインスタンスごとに、複数で 1 つのパイプラインを再利用できることを意味する受信場所と、おそらくインスタンスごとに別のコンポーネントのプロパティがあります。 これは、コードや再デプロイを変更することがなく、BizTalk Server 管理コンソールを使用して変更を行う管理者を許可する実行時の設定です。  
  
## <a name="component-properties"></a>コンポーネント プロパティ  
 Namespace の追加コンポーネントは、5 つのパブリック プロパティを公開します。  
  
-   **NamespacePrefix**します。 これは、間に挿入される、名前空間のプレフィックス、 **xmlns:** 部分と、次の等号 (=) に署名します。 標準の BizTalk スキーマ名前空間プレフィックスとの競合を避けるためには、回避、値を使用して**ns0**を通じて**ns9**します。  
  
-   **NamespaceBase**します。 これは、内の値によって生成された結果を前に付ける名前空間の静的なセクション、**区切り**と**Xpath**プロパティ。  
  
-   **ExtractionNodeXPath**します。 これは、生成された名前空間の部分を使用する要素または属性の値を含むドキュメント内の単一の要素に解決される XPath ステートメントです。  
  
-   **Xpath**します。 これは、パイプ (**&#124;** ) の各名前空間を形成する結合コンポーネントを抽出するために使用する XPath クエリの区切られたリスト。  
  
-   **区切り記号**します。 これは、名前空間のセグメントの間で使用する区切り記号です。 最も一般的な値はスラッシュ (**/** )、必要な場合、空の文字列であることができますが、します。  
  
> [!NOTE]
>  要素および属性の名前など、すべての XML ノードは、大文字小文字を区別します。  
  
 削除 Namespace コンポーネントは、2 つのパブリック プロパティを公開します。  
  
- **エンコード**します。 これは、次の値のいずれかの出力メッセージのエンコード: **ascii、unicode/utf16**または**utf8**します。  
  
- **RemoveByteOrderMark**します。 これは、コンポーネントがバイト順マークを削除するかどうかを示すブール型プロパティ (通常は**0xEFBB、0xBFFFFE、** または**0 xfeff**)、XML ドキュメント ストリームの先頭から。  
  
  これらのコンポーネントを使用する方法の例は、次を参照してください。[をインストールすると、Namespace コンポーネント サンプルを実行している](../esb-toolkit/installing-and-running-the-namespace-component-sample.md)します。