---
title: "Namespace を追加する、ESB Namespace コンポーネントを削除および |Microsoft ドキュメント"
ms.custom: 
ms.date: 06/08/2017
ms.prod: biztalk-server
ms.reviewer: 
ms.suite: 
ms.tgt_pltfrm: 
ms.topic: article
ms.assetid: 21df1b21-b73c-4e31-a234-49a1a6b53cc7
caps.latest.revision: "2"
author: MandiOhlinger
ms.author: mandia
manager: anneta
ms.openlocfilehash: 2bcbe519cfd8c6796569da4de87f59fa6a16d8a8
ms.sourcegitcommit: cb908c540d8f1a692d01dc8f313e16cb4b4e696d
ms.translationtype: MT
ms.contentlocale: ja-JP
ms.lasthandoff: 09/20/2017
---
# <a name="the-esb-add-namespace-and-remove-namespace-components"></a>Namespace を追加する、ESB Namespace コンポーネントおよび削除
多くの企業早期導入の XML テクノロジの時点であったとき基準がまだに新たなドキュメントの共有なしで共通です。 したがってが厳密に実行しなかったこれは、通常、ケース今日、一意のルート名前空間を含めるための要件です。  
  
 ただし、Microsoft BizTalk Server には、ドキュメント ルート ノードの名前空間がないに対し肯定的な場合は、いくつかを識別するが困難なので、ルート ノードの名前空間とルート ノード名の組み合わせに基づいてドキュメントの識別を実行します別のドキュメント。種類は、同じルート ノードの名前を使用します。  
  
 Namespace の追加と削除 Namespace コンポーネントでは、この問題を解決するために受信したときに、ドキュメントに名前空間を追加して、配信される前に、ドキュメントから名前空間を削除できるようになります。 ドキュメントできるため、既定の名前空間 (または複数の異なるドキュメントの種類に共通の名前空間) に、ESB と BizTalk 内での処理中に一時的な一意のルート名前空間に存在するが、する場合の送信し受信します。  
  
 コンポーネントは、XML スキーマ定義ではなくドキュメント型定義 (DTD) を使用するか、ルート名前空間を含むドキュメントを作成できない従来の XML パーサーを使用するレガシ システムを統合している場合にも役立ちます。  
  
## <a name="installation"></a>インストール  
 ESB コアを自動的にインストールするとインストール、**追加 Namespace**と**削除 Namespace** BizTalk Server パイプライン コンポーネント フォルダー内のコンポーネントです。  
  
## <a name="how-it-works"></a>しくみ  
 Namespace の追加コンポーネントは、XML ドキュメントに指定された名前空間を追加します。 コンポーネントは、ドキュメントを単一の名前空間のみを追加できます。 ルート ノードの名前空間が既にいる文書で Namespace の追加コンポーネントを使用してはいないシナリオはサポート 1 つの一意の名前空間が必要なものであるためです。  
  
 コンポーネントは、名前空間に対応していないし、名前空間の値のいずれかの保持されません。 ただし、追加の Namespace コンポーネントは、メッセージの既存の名前空間内の要求された名前空間を比較し、パイプラインに一致する場合、元のメッセージを単純に返します。  
  
 開発者は、受信パイプラインまたは送信パイプラインに追加の Namespace コンポーネントを含めるし、適切なプロパティを設定します。 次の検証は実行時に実行されます。  
  
-   **Xpath**プロパティまたは**NamespaceBase**プロパティ値を含める必要があります。  
  
-   **区切り**プロパティが有効な文字だけを含めることができます (など **/** または **\\** ) または空の文字列。  
  
-   **NamespacePrefix**プロパティの値は予約済みの値のいずれかにすることはできません (**ns0**に**ns6**) と英数字にする必要があります。  
  
 これらの規則からのすべてのバリエーションにより、メッセージを中断、実行時に例外がスローするコンポーネント (としてマークされている**– 中断された再開可能な**)、Windows アプリケーション イベント ログ エントリの書き込みとします。  
  
 削除 Namespace コンポーネントは、XML ドキュメントからすべてのルート名前空間を削除します。 コンポーネントが 1 つのドキュメントから削除できる名前空間の数は、処理中に、現在のノードを保持するために使用できる物理メモリによって制限されます。 ただし、コンポーネントは、プロセスをストリーミング標準の BizTalk Server 2009 パイプラインのメッセージを使用し、ドキュメント内の現在のノードだけをドキュメント全体を読み込む代わりに、メモリに読み込みます。  
  
 削除 Namespace コンポーネントもの再エンコードを指定したエンコーディングのドキュメント (**ascii、unicode/utf16**または**utf8**) され場合に、ストリームの先頭からバイト オーダー マーク (BOM) を削除できます必須。  
  
## <a name="using-the-add-namespace-and-remove-namespace-components"></a>使用して、追加 Namespace Namespace コンポーネントおよび削除  
 開発者は、次の状況のいずれかの追加 Namespace コンポーネントを使用する可能性があります。  
  
-   受信メッセージには、ルート名前空間がありません。  
  
-   受信メッセージは、メッセージ型を記述するのに要素のデータまたは属性のデータを使用します。  
  
-   メッセージ型を記述するデータは、一貫性のあるおよび XPath クエリで使用できます。  
  
 Namespace の追加と削除 Namespace コンポーネントは、受信パイプラインまたは送信パイプラインのいずれかの段階に配置できます。 必要な場合、このようなドキュメントのルート名前空間を変更する、追加の Namespace コンポーネント続けて削除 Namespace コンポーネントを使用している場合、コンポーネントのインスタンスを連結することができます。  
  
 複数の受信場所のこれらのコンポーネントを使用する必要がある場合は場合、は、1 つのパイプラインを作成して、BizTalk Server を使用して、送信の各インスタンスのコンポーネント プロパティを設定したり、受信パイプラインのコンポーネントの構成"インスタンス"ごとです。 BizTalk Server 2009 を使用して、プロパティを設定するパイプラインのインスタンスごとに、複数、1 つのパイプラインを再利用できることを意味する受信場所、おそらくインスタンスごとに別のコンポーネント プロパティです。 これは、コードまたは再配置を変更することがなく、BizTalk Server 管理コンソールを使用して変更を行う管理者を許可する実行時の設定です。  
  
## <a name="component-properties"></a>コンポーネント プロパティ  
 Namespace の追加コンポーネントは、5 つのパブリック プロパティを公開します。  
  
-   **NamespacePrefix**です。 これは、間に挿入される、名前空間のプレフィックス、 **xmlns:**部分と、次の等号 (=) に署名します。 標準の BizTalk スキーマ名前空間プレフィックスとの競合を避けるためには、値は使用しないでください**ns0**を通じて**ns9**です。  
  
-   **NamespaceBase**です。 これは、名前空間内の値によって生成される結果をプレフィックスの静的なセクション、**区切り**と**Xpath**プロパティです。  
  
-   **ExtractionNodeXPath**です。 これは、生成された名前空間の部分に使用する要素または属性の値を含むドキュメント内の単一要素に解決される XPath ステートメントです。  
  
-   **Xpath**です。 これは、パイプ (**&#124;** ) が、名前空間を形成する結合されたコンポーネントのそれぞれを抽出するために使用する XPath クエリの区切られた一覧です。  
  
-   **区切り記号**です。 これは、セグメントの名前空間の間で使用する区切り記号です。 最も一般的な値はスラッシュ ( **/**  ) が必要な場合、空の文字列を指定できます。  
  
> [!NOTE]
>  要素と属性名など、すべての XML ノードは、大文字小文字を区別します。  
  
 削除 Namespace コンポーネントは、2 つのパブリック プロパティを公開します。  
  
-   **エンコード**です。 これは、次の値のいずれかの出力メッセージのエンコーディング: **ascii、unicode/utf16**または**utf8**です。  
  
-   **RemoveByteOrderMark**です。 これは、コンポーネントがバイト順マークを削除するかどうかを示すブール型プロパティ (通常**0xEFBB、0xBFFFFE、**または**0 xfeff**)、XML ドキュメント ストリームの先頭からです。  
  
 これらのコンポーネントを使用する方法の例は、次を参照してください。[をインストールすると、Namespace コンポーネント サンプルを実行している](../esb-toolkit/installing-and-running-the-namespace-component-sample.md)です。