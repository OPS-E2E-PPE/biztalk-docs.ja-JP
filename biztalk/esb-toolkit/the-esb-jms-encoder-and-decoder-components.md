---
title: ESB JMS エンコーダーとデコーダー コンポーネントは、|Microsoft ドキュメント
ms.custom: ''
ms.date: 06/08/2017
ms.prod: biztalk-server
ms.reviewer: ''
ms.suite: ''
ms.tgt_pltfrm: ''
ms.topic: article
ms.assetid: 4e5591c2-d2ca-4168-8026-059fe51dd588
caps.latest.revision: 4
author: MandiOhlinger
ms.author: mandia
manager: anneta
ms.openlocfilehash: 9f39f4ab1b0650a8ad6fa1ff35d62b4807995237
ms.sourcegitcommit: cb908c540d8f1a692d01dc8f313e16cb4b4e696d
ms.translationtype: MT
ms.contentlocale: ja-JP
ms.lasthandoff: 09/20/2017
ms.locfileid: "22295682"
---
# <a name="the-esb-jms-encoder-and-decoder-components"></a><span data-ttu-id="16457-102">ESB JMS エンコーダーおよびデコーダー コンポーネント</span><span class="sxs-lookup"><span data-stu-id="16457-102">The ESB JMS Encoder and Decoder Components</span></span>
<span data-ttu-id="16457-103">一部の統合ソリューションに関連して Java Message Service (JMS) と IBM WebSphere MQ; の間に送信される SOAP メッセージ[!INCLUDE[esbToolkit](../includes/esbtoolkit-md.md)]このような状況で使用するためのマネージ コードで記述された 2 つの JMS パイプライン コンポーネントが含まれています。</span><span class="sxs-lookup"><span data-stu-id="16457-103">Some integration solutions involve Java Message Service (JMS) and SOAP messages sent to or from IBM WebSphere MQ; [!INCLUDE[esbToolkit](../includes/esbtoolkit-md.md)] includes two JMS pipeline components written in managed code for use in these situations.</span></span> <span data-ttu-id="16457-104">コンポーネントの読み取りまたは書き込みのメッセージに関連付けられているコンテキスト プロパティの値を使用して、MQ メッセージ ヘッダーの JMS 部分。</span><span class="sxs-lookup"><span data-stu-id="16457-104">The components read or write the JMS portion of the MQ message header using the values of context properties associated with the message.</span></span> <span data-ttu-id="16457-105">現在、60 を超えるのさまざまな種類の JMS ヘッダー WebSphere MQ Series システムで使用するにはESB JMS コンポーネントは、MQRFH2 ヘッダーでのみ動作します。</span><span class="sxs-lookup"><span data-stu-id="16457-105">Currently, there are more than 60 different types of JMS headers in use with WebSphere MQ Series systems; the ESB JMS components work only with MQRFH2 headers.</span></span>  
  
## <a name="installation"></a><span data-ttu-id="16457-106">インストール</span><span class="sxs-lookup"><span data-stu-id="16457-106">Installation</span></span>  
 <span data-ttu-id="16457-107">ESB コアを自動的にインストールすると、BizTalk Server パイプライン コンポーネント フォルダーで JMS エンコーダーとデコーダーの JMS のコンポーネントがインストールされます。</span><span class="sxs-lookup"><span data-stu-id="16457-107">Installing the ESB Core automatically installs the JMS Encoder and JMS Decoder components in the BizTalk Server Pipeline Components folder.</span></span>  
  
## <a name="how-it-works"></a><span data-ttu-id="16457-108">しくみ</span><span class="sxs-lookup"><span data-stu-id="16457-108">How It Works</span></span>  
 <span data-ttu-id="16457-109">JMS パイプライン コンポーネントは、メッセージのヘッダーを検査しを持つメッセージに対してのみ機能、 **MQMD_Format**ヘッダーに設定**RFH (MQRFH2)** です。</span><span class="sxs-lookup"><span data-stu-id="16457-109">The JMS pipeline components inspect the message headers and operate only on messages that have the **MQMD_Format** header set to **RFH (MQRFH2)**.</span></span> <span data-ttu-id="16457-110">ただし、このプロパティを設定した場合でも、コンポーネントは IBM RFH2 形式への準拠していることを確認するヘッダーを検査します。</span><span class="sxs-lookup"><span data-stu-id="16457-110">However, even when this property is set, the components inspect the headers to confirm that they do conform to the IBM RFH2 format.</span></span> <span data-ttu-id="16457-111">コンポーネントを示す解析エラーを生成するヘッダーがこの形式に準拠していない場合、 **MQMD_Format**にパラメーターが設定された**RFH (MQRFH2)** ヘッダーの構造に準拠していませんが、RFH2 標準です。</span><span class="sxs-lookup"><span data-stu-id="16457-111">If the header does not conform to this format, the components generate a parse error that indicates the **MQMD_Format** parameter was set to **RFH (MQRFH2)**, but the structure of the header did not comply with the RFH2 standard.</span></span> <span data-ttu-id="16457-112">受信メッセージ ヘッダーの解析が失敗した場合、デコーダー コンポーネントにより、渡すには、メッセージが、という名前のメッセージ コンテキスト プロパティを設定**MQRFH2_ParseError**に**True**です。</span><span class="sxs-lookup"><span data-stu-id="16457-112">If inbound message header parsing fails, the decoder component allows the message to pass, but it sets a message context property named **MQRFH2_ParseError** to **True**.</span></span>  
  
 <span data-ttu-id="16457-113">**MQRFH2** JMS コンポーネントと BizTalk に展開されているプロパティ スキーマは、すべての MQRFH2 ヘッダーのプロパティを公開します。</span><span class="sxs-lookup"><span data-stu-id="16457-113">The **MQRFH2** property schema deployed in BizTalk with the JMS components exposes all of the MQRFH2 header properties.</span></span> <span data-ttu-id="16457-114">格納されている XML ドキュメントの受信メッセージのヘッダーを降格した後、ヘッダーのデータが存在する、 **MQRFH2_NameValueData**メッセージのコンテキスト プロパティです。</span><span class="sxs-lookup"><span data-stu-id="16457-114">After demoting the headers of an incoming message, the data from the headers resides in an XML document stored in the **MQRFH2_NameValueData** context property of the message.</span></span> <span data-ttu-id="16457-115">長さを調整します。 エンコーダー、 **NameValueData**いることを確認するフォルダーは、正しい長さ。</span><span class="sxs-lookup"><span data-stu-id="16457-115">The encoder adjusts the length of the **NameValueData** folder to ensure it is the correct length.</span></span> <span data-ttu-id="16457-116">値を変更する場合は、これらのヘッダー、および影響の使い方を理解、適切な IBM のドキュメントを確認します。</span><span class="sxs-lookup"><span data-stu-id="16457-116">To understand the usage of these headers, and the impact when changing the values, review the appropriate IBM documentation.</span></span>  
  
## <a name="using-the-jms-encoder-and-decoder-components"></a><span data-ttu-id="16457-117">JMS エンコーダーおよびデコーダー コンポーネントを使用してください。</span><span class="sxs-lookup"><span data-stu-id="16457-117">Using the JMS Encoder and Decoder Components</span></span>  
 <span data-ttu-id="16457-118">JMS エンコーダーおよびデコーダー コンポーネントを使用するには、開発者は、それらを BizTalk アプリケーションでパイプラインに追加します。</span><span class="sxs-lookup"><span data-stu-id="16457-118">To use the JMS Encoder and Decoder components, developers add them to pipelines in a BizTalk application.</span></span> <span data-ttu-id="16457-119">送信パイプラインでは、JMS エンコーダー コンポーネントは、エンコード ステージに配置する必要があります。</span><span class="sxs-lookup"><span data-stu-id="16457-119">For a send pipeline, the JMS Encoder component should reside in the Encode stage.</span></span> <span data-ttu-id="16457-120">受信パイプラインでは、JMS デコーダー コンポーネントは、デコード ステージで配置する必要があります。</span><span class="sxs-lookup"><span data-stu-id="16457-120">For a receive pipeline, the JMS Decoder component should reside in the Decode stage.</span></span> <span data-ttu-id="16457-121">JMS コンポーネントは、パイプラインの他の段階的にはインストールされません。</span><span class="sxs-lookup"><span data-stu-id="16457-121">The JMS components will not install in any other stages of a pipeline.</span></span>  
  
 <span data-ttu-id="16457-122">JMS エンコーダー コンポーネントは、JMS 内の値を読み取りますインストールすると、エンコード ステージに**MQRFH2**ヘッダーおよび書き込み (昇格)、メッセージ コンテキスト プロパティにします。</span><span class="sxs-lookup"><span data-stu-id="16457-122">When installed in the Encode stage, the JMS Encoder component reads the values in the JMS **MQRFH2** headers and writes (promotes) them into the message context properties.</span></span> <span data-ttu-id="16457-123">JMS デコーダー コンポーネントを読み取り、デコード段階でインストールすると (降格されます)、コンテキスト プロパティを選択し、値は、JMS に挿入**MQRFH2**ヘッダー。</span><span class="sxs-lookup"><span data-stu-id="16457-123">When installed in the Decode stage, the JMS Decoder component reads (demotes) the context property values and inserts them into the JMS **MQRFH2** headers.</span></span> <span data-ttu-id="16457-124">つまり、すべての MQ ヘッダー値が、パイプラインでメッセージのコンテキスト プロパティとして使用できます。</span><span class="sxs-lookup"><span data-stu-id="16457-124">This means that all the MQ header values are available as context properties of the message in the pipeline.</span></span>  
  
 <span data-ttu-id="16457-125">検出をヘッダー解析エラーの管理は、開発者がの値を調査するコードを含めることができます、 **MQRFH2_ParseError**プロパティです。</span><span class="sxs-lookup"><span data-stu-id="16457-125">To detect and manage header-parsing errors, developers can include code that examines the value of the **MQRFH2_ParseError** property.</span></span> <span data-ttu-id="16457-126">失敗したメッセージをサブスクライブしている、回復プロセスを実装するか、フィルターを適用する送信ポートを指定、 **MQRFH2_ParseError**メッセージを保持するプロパティです。</span><span class="sxs-lookup"><span data-stu-id="16457-126">They can implement a recovery process that subscribes to failed messages or specify send ports that filter on the **MQRFH2_ParseError** property to persist the message.</span></span> <span data-ttu-id="16457-127">JMS メッセージを処理するサブスクライバーは、値を指定するフィルター条件を含める必要があります**False**の**MQRFH2_ParseError**メッセージの受信からサブスクライバーを防ぐためにプロパティヘッダーのプロセスの解析に失敗しました。</span><span class="sxs-lookup"><span data-stu-id="16457-127">Subscribers that work with JMS messages should include a filter condition that specifies the value **False** for the **MQRFH2_ParseError** property to prevent the subscriber from receiving messages that failed the header parsing process.</span></span>  
  
 <span data-ttu-id="16457-128">開発者は、コンテキスト プロパティの値も更新できます (たとえば、変更、 **MQRFH2_Encoding**プロパティの値)、およびコンポーネントにメッセージが到着したときに設定されているように、MQ メッセージ ヘッダーでこれらの変更が反映されますその最終的な送信先です。</span><span class="sxs-lookup"><span data-stu-id="16457-128">Developers can also update the context property values (for example, change the **MQRFH2_Encoding** property value), and the component will reflect these changes in the MQ message headers so that they are set when the message arrives at its ultimate destination.</span></span> <span data-ttu-id="16457-129">コンポーネントは自動的に無効な値を無視し、場所に必要なヘッダーが見つからないを「安全な」既定値に設定します。</span><span class="sxs-lookup"><span data-stu-id="16457-129">The component automatically ignores invalid values and sets "safe" default values where required headers are missing.</span></span> <span data-ttu-id="16457-130">たとえば、開発者に対して無効な値を指定する場合、 **MQRFH2_Encoding**プロパティ、送信メッセージが、 **MQRFH2_Encoding**ヘッダーに設定**不明**.</span><span class="sxs-lookup"><span data-stu-id="16457-130">For example, if the developer specifies an invalid value for the **MQRFH2_Encoding** property, the outbound message will have the **MQRFH2_Encoding** header set to **UNKNOWN**.</span></span> <span data-ttu-id="16457-131">開発者は、コンテキスト プロパティから値を削除する場合ですが、 **MQMD_Format**プロパティ設定されている**RFH**コンポーネントは、IBM 仕様に従って、既定値を含むヘッダーを追加します。</span><span class="sxs-lookup"><span data-stu-id="16457-131">If the developer removes a value from a context property, but the **MQMD_Format** property is still set to **RFH**, the component will add a header containing the default value, as per the IBM specification.</span></span>  
  
 <span data-ttu-id="16457-132">これらのコンポーネントを使用する方法の例は、次を参照してください。[をインストールすると、JMS MQRFH2 コンポーネント サンプルを実行している](../esb-toolkit/installing-and-running-the-jms-mqrfh2-component-sample.md)です。</span><span class="sxs-lookup"><span data-stu-id="16457-132">For an example of how to use these components, see [Installing and Running the JMS MQRFH2 Component Sample](../esb-toolkit/installing-and-running-the-jms-mqrfh2-component-sample.md).</span></span>