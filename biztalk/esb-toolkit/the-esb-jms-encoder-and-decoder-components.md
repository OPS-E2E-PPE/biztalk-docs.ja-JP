---
title: "ESB JMS エンコーダーとデコーダー コンポーネントは、|Microsoft ドキュメント"
ms.custom: 
ms.date: 06/08/2017
ms.prod: biztalk-server
ms.reviewer: 
ms.suite: 
ms.tgt_pltfrm: 
ms.topic: article
ms.assetid: 4e5591c2-d2ca-4168-8026-059fe51dd588
caps.latest.revision: "4"
author: MandiOhlinger
ms.author: mandia
manager: anneta
ms.openlocfilehash: 9f39f4ab1b0650a8ad6fa1ff35d62b4807995237
ms.sourcegitcommit: cb908c540d8f1a692d01dc8f313e16cb4b4e696d
ms.translationtype: MT
ms.contentlocale: ja-JP
ms.lasthandoff: 09/20/2017
---
# <a name="the-esb-jms-encoder-and-decoder-components"></a>ESB JMS エンコーダーおよびデコーダー コンポーネント
一部の統合ソリューションに関連して Java Message Service (JMS) と IBM WebSphere MQ; の間に送信される SOAP メッセージ[!INCLUDE[esbToolkit](../includes/esbtoolkit-md.md)]このような状況で使用するためのマネージ コードで記述された 2 つの JMS パイプライン コンポーネントが含まれています。 コンポーネントの読み取りまたは書き込みのメッセージに関連付けられているコンテキスト プロパティの値を使用して、MQ メッセージ ヘッダーの JMS 部分。 現在、60 を超えるのさまざまな種類の JMS ヘッダー WebSphere MQ Series システムで使用するにはESB JMS コンポーネントは、MQRFH2 ヘッダーでのみ動作します。  
  
## <a name="installation"></a>インストール  
 ESB コアを自動的にインストールすると、BizTalk Server パイプライン コンポーネント フォルダーで JMS エンコーダーとデコーダーの JMS のコンポーネントがインストールされます。  
  
## <a name="how-it-works"></a>しくみ  
 JMS パイプライン コンポーネントは、メッセージのヘッダーを検査しを持つメッセージに対してのみ機能、 **MQMD_Format**ヘッダーに設定**RFH (MQRFH2)**です。 ただし、このプロパティを設定した場合でも、コンポーネントは IBM RFH2 形式への準拠していることを確認するヘッダーを検査します。 コンポーネントを示す解析エラーを生成するヘッダーがこの形式に準拠していない場合、 **MQMD_Format**にパラメーターが設定された**RFH (MQRFH2)**ヘッダーの構造に準拠していませんが、RFH2 標準です。 受信メッセージ ヘッダーの解析が失敗した場合、デコーダー コンポーネントにより、渡すには、メッセージが、という名前のメッセージ コンテキスト プロパティを設定**MQRFH2_ParseError**に**True**です。  
  
 **MQRFH2** JMS コンポーネントと BizTalk に展開されているプロパティ スキーマは、すべての MQRFH2 ヘッダーのプロパティを公開します。 格納されている XML ドキュメントの受信メッセージのヘッダーを降格した後、ヘッダーのデータが存在する、 **MQRFH2_NameValueData**メッセージのコンテキスト プロパティです。 長さを調整します。 エンコーダー、 **NameValueData**いることを確認するフォルダーは、正しい長さ。 値を変更する場合は、これらのヘッダー、および影響の使い方を理解、適切な IBM のドキュメントを確認します。  
  
## <a name="using-the-jms-encoder-and-decoder-components"></a>JMS エンコーダーおよびデコーダー コンポーネントを使用してください。  
 JMS エンコーダーおよびデコーダー コンポーネントを使用するには、開発者は、それらを BizTalk アプリケーションでパイプラインに追加します。 送信パイプラインでは、JMS エンコーダー コンポーネントは、エンコード ステージに配置する必要があります。 受信パイプラインでは、JMS デコーダー コンポーネントは、デコード ステージで配置する必要があります。 JMS コンポーネントは、パイプラインの他の段階的にはインストールされません。  
  
 JMS エンコーダー コンポーネントは、JMS 内の値を読み取りますインストールすると、エンコード ステージに**MQRFH2**ヘッダーおよび書き込み (昇格)、メッセージ コンテキスト プロパティにします。 JMS デコーダー コンポーネントを読み取り、デコード段階でインストールすると (降格されます)、コンテキスト プロパティを選択し、値は、JMS に挿入**MQRFH2**ヘッダー。 つまり、すべての MQ ヘッダー値が、パイプラインでメッセージのコンテキスト プロパティとして使用できます。  
  
 検出をヘッダー解析エラーの管理は、開発者がの値を調査するコードを含めることができます、 **MQRFH2_ParseError**プロパティです。 失敗したメッセージをサブスクライブしている、回復プロセスを実装するか、フィルターを適用する送信ポートを指定、 **MQRFH2_ParseError**メッセージを保持するプロパティです。 JMS メッセージを処理するサブスクライバーは、値を指定するフィルター条件を含める必要があります**False**の**MQRFH2_ParseError**メッセージの受信からサブスクライバーを防ぐためにプロパティヘッダーのプロセスの解析に失敗しました。  
  
 開発者は、コンテキスト プロパティの値も更新できます (たとえば、変更、 **MQRFH2_Encoding**プロパティの値)、およびコンポーネントにメッセージが到着したときに設定されているように、MQ メッセージ ヘッダーでこれらの変更が反映されますその最終的な送信先です。 コンポーネントは自動的に無効な値を無視し、場所に必要なヘッダーが見つからないを「安全な」既定値に設定します。 たとえば、開発者に対して無効な値を指定する場合、 **MQRFH2_Encoding**プロパティ、送信メッセージが、 **MQRFH2_Encoding**ヘッダーに設定**不明**. 開発者は、コンテキスト プロパティから値を削除する場合ですが、 **MQMD_Format**プロパティ設定されている**RFH**コンポーネントは、IBM 仕様に従って、既定値を含むヘッダーを追加します。  
  
 これらのコンポーネントを使用する方法の例は、次を参照してください。[をインストールすると、JMS MQRFH2 コンポーネント サンプルを実行している](../esb-toolkit/installing-and-running-the-jms-mqrfh2-component-sample.md)です。