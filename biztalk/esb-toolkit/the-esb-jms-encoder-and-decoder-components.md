---
title: ESB JMS エンコーダーとデコーダー コンポーネント |Microsoft Docs
ms.custom: ''
ms.date: 06/08/2017
ms.prod: biztalk-server
ms.reviewer: ''
ms.suite: ''
ms.tgt_pltfrm: ''
ms.topic: article
ms.assetid: 4e5591c2-d2ca-4168-8026-059fe51dd588
caps.latest.revision: 4
author: MandiOhlinger
ms.author: mandia
manager: anneta
ms.openlocfilehash: a7c1be49757872021ab19b419eb0042261a76e15
ms.sourcegitcommit: 381e83d43796a345488d54b3f7413e11d56ad7be
ms.translationtype: MT
ms.contentlocale: ja-JP
ms.lasthandoff: 05/07/2019
ms.locfileid: "65399774"
---
# <a name="the-esb-jms-encoder-and-decoder-components"></a>ESB JMS エンコーダーとデコーダーのコンポーネント
統合ソリューションいくつかにはは、Java Message Service (JMS) および IBM WebSphere MQ; 送受信される SOAP メッセージが含まれます。[!INCLUDE[esbToolkit](../includes/esbtoolkit-md.md)]このような状況で使用するためのマネージ コードで記述された 2 つの JMS パイプライン コンポーネントが含まれています。 コンポーネントの読み取りまたは書き込みに関連付けられたメッセージ コンテキスト プロパティの値を使用して、MQ メッセージ ヘッダーの JMS 部分。 現時点では、WebSphere MQ Series システムで使用中の JMS ヘッダーの 60 以上のさまざまな種類があります。ESB JMS コンポーネントは、MQRFH2 ヘッダーでのみ動作します。  
  
## <a name="installation"></a>インストール  
 ESB コアを自動的にインストールすると、BizTalk Server パイプライン コンポーネント フォルダーで JMS エンコーダーと JMS デコーダー コンポーネントがインストールされます。  
  
## <a name="how-it-works"></a>しくみ  
 JMS のパイプライン コンポーネントは、メッセージ ヘッダーを検査しを持つメッセージに対してのみ機能、 **MQMD_Format**ヘッダーに設定**RFH (MQRFH2)** します。 ただし、このプロパティが設定されている場合でも、コンポーネントは、IBM RFH2 形式に準拠している行うことを確認するヘッダーを検査します。 コンポーネントが示す解析エラーを生成するヘッダーがこの形式に準拠していない場合、 **MQMD_Format**にパラメーターが設定された**RFH (MQRFH2)** ヘッダーの構造に準拠していませんが、RFH2 標準です。 受信メッセージ ヘッダーの解析が失敗した場合、デコーダー コンポーネントでは、渡すには、メッセージを使用できます。 という名前のメッセージ コンテキスト プロパティを設定**MQRFH2_ParseError**に**True**します。  
  
 **MQRFH2** JMS コンポーネント BizTalk にデプロイされているプロパティ スキーマは MQRFH2 ヘッダーのプロパティのすべてを公開します。 格納されている XML ドキュメントの受信メッセージのヘッダーを降格した後、ヘッダーからのデータが存在する、 **MQRFH2_NameValueData**メッセージのコンテキスト プロパティ。 エンコーダーの長さが調整、 **NameValueData**ことを確認するためのフォルダーは、正しい長さ。 値を変更するときに、これらのヘッダーと、影響の使用状況を理解するには、適切な IBM のドキュメントを確認します。  
  
## <a name="using-the-jms-encoder-and-decoder-components"></a>JMS エンコーダーとデコーダーのコンポーネントを使用します。  
 JMS エンコーダーとデコーダー コンポーネントを使用するには、開発者は、それらを BizTalk アプリケーション内のパイプラインに追加します。 送信パイプラインでは、場合は、JMS エンコーダー コンポーネントは、エンコード ステージに存在する必要があります。 受信パイプラインでは、場合は、JMS デコーダー コンポーネントは、デコード段階に存在する必要があります。 JMS コンポーネントは、パイプラインの他のステージではインストールされません。  
  
 エンコード段階でインストールされていると、JMS エンコーダー コンポーネントは、JMS 内の値を読み取ります**MQRFH2**ヘッダーと書き込み (昇格)、メッセージ コンテキスト プロパティにします。 JMS デコーダー コンポーネントを読み取り、デコード段階でインストールすると (降格) コンテキスト プロパティの値を JMS に挿入する**MQRFH2**ヘッダー。 つまり、すべての MQ ヘッダー値が、パイプラインでメッセージのコンテキスト プロパティとして使用できます。  
  
 検出し、ヘッダーの解析エラーを管理、開発者がの値を調べるコードを含めることができます、 **MQRFH2_ParseError**プロパティ。 失敗したメッセージをサブスクライブする回復プロセスを実装したりフィルターを適用する送信ポートを指定できます、 **MQRFH2_ParseError**メッセージを保持するプロパティ。 JMS メッセージを処理するサブスクライバーが値を指定するフィルター条件を含める必要があります**False**の**MQRFH2_ParseError**メッセージの受信から、サブスクライバーを防ぐためにプロパティヘッダーのプロセスを解析できませんでした。  
  
 開発者は、コンテキスト プロパティの値も更新できます (たとえば、変更、 **MQRFH2_Encoding**プロパティの値)、および、コンポーネント、メッセージが到着すると、それらが設定されるように MQ メッセージのヘッダーにこれらの変更が反映されます最終的な宛先。 コンポーネントは自動的に無効な値は無視され、必要なヘッダーがないを「安全」の既定値に設定します。 たとえば、開発者が無効な値を指定します、 **MQRFH2_Encoding**プロパティ、送信メッセージになります、 **MQRFH2_Encoding**ヘッダーに設定**不明**. 場合は、開発者は、コンテキスト プロパティから値を削除しますが、 **MQMD_Format**プロパティに設定されても**RFH**コンポーネントは、IBM の仕様に従って、既定値を含むヘッダーを追加します。  
  
 これらのコンポーネントを使用する方法の例は、次を参照してください。[インストールして、JMS MQRFH2 コンポーネント サンプルを実行する](../esb-toolkit/installing-and-running-the-jms-mqrfh2-component-sample.md)します。