---
title: "ESB Itinerary 管理 |Microsoft ドキュメント"
ms.custom: 
ms.date: 06/08/2017
ms.prod: biztalk-server
ms.reviewer: 
ms.suite: 
ms.tgt_pltfrm: 
ms.topic: article
ms.assetid: f78240de-34da-4751-aceb-b69d81403124
caps.latest.revision: "2"
author: MandiOhlinger
ms.author: mandia
manager: anneta
ms.openlocfilehash: 6fb7c2566cbd445ea305089033935427b82046bd
ms.sourcegitcommit: cb908c540d8f1a692d01dc8f313e16cb4b4e696d
ms.translationtype: MT
ms.contentlocale: ja-JP
ms.lasthandoff: 09/20/2017
---
# <a name="esb-itinerary-management"></a><span data-ttu-id="6397d-102">ESB Itinerary 管理</span><span class="sxs-lookup"><span data-stu-id="6397d-102">ESB Itinerary Management</span></span>
[!INCLUDE[esbToolkit](../includes/esbtoolkit-md.md)]<span data-ttu-id="6397d-103">ESB itinerary 管理用の 2 つのオプションを提供しています: 集中化および集中管理されていません。</span><span class="sxs-lookup"><span data-stu-id="6397d-103"> offers two distinct options for ESB itinerary management: centralized and decentralized.</span></span> <span data-ttu-id="6397d-104">このセクションでは、これらの各オプションの利点とリスクについて説明します。</span><span class="sxs-lookup"><span data-stu-id="6397d-104">This section discusses benefits and risks for each of these options.</span></span>  
  
## <a name="decentralized-esb-policy-management"></a><span data-ttu-id="6397d-105">分散 ESB ポリシーの管理</span><span class="sxs-lookup"><span data-stu-id="6397d-105">Decentralized ESB Policy Management</span></span>  
 <span data-ttu-id="6397d-106">このシナリオでは、ESB クライアント アプリケーションは、各送信されたメッセージの添付ファイルとして、ESB を ESB 行程の内容を提供します。</span><span class="sxs-lookup"><span data-stu-id="6397d-106">In this scenario, the ESB client application provides the content of the ESB itinerary as an attachment for each submitted message to the ESB.</span></span> <span data-ttu-id="6397d-107">メッセージには、itinerary 内容; での SOAP ヘッダーが含まれています。パイプライン コンポーネントは、メッセージを受信したときに、メッセージをデコードし、日程をさらにルーティング メッセージ コンテキストに昇格させます。</span><span class="sxs-lookup"><span data-stu-id="6397d-107">The message contains a SOAP header with the itinerary contents; when a pipeline component receives the message, it decodes the message, and then it promotes the itinerary to the message context for further routing.</span></span> <span data-ttu-id="6397d-108">この設計は、明細のルーティング パターンを簡単に実装する機会を提供しますが、完全にメッセージのフローを制御できるように、次のような課題が表示されます。</span><span class="sxs-lookup"><span data-stu-id="6397d-108">Although this design provides the opportunity to easily implement a Routing Slip pattern, fully allowing the client to control the flow of a message presents the following challenges:</span></span>  
  
-   <span data-ttu-id="6397d-109">クライアントを確認するプロセスは、メッセージに適用する必要がありますを許可すると、選択対象の選択可能なプロセスの詳細は、ESB クライアント アプリケーションに透過的です。</span><span class="sxs-lookup"><span data-stu-id="6397d-109">By allowing the client to determine which processes should be applied to a message, the details of available processes from which to choose are transparent to the ESB client application.</span></span> <span data-ttu-id="6397d-110">この実習では、クライアントに ESB 行程から機密情報が公開可能性のある可能性があります。</span><span class="sxs-lookup"><span data-stu-id="6397d-110">This practice could potentially expose sensitive information from ESB itinerary to the client.</span></span>  
  
-   <span data-ttu-id="6397d-111">潜在的なセキュリティ上の問題だけでなくメッセージごとに送信中の日程を管理するクライアントは強制されません ESB 行程ポリシーとして特定のクライアントで実装されている場合を除き。</span><span class="sxs-lookup"><span data-stu-id="6397d-111">In addition to the potential security concerns, allowing the client to manage the itineraries for being submitted with each message does not enforce ESB itinerary as policy unless it is implemented for a specific client.</span></span> <span data-ttu-id="6397d-112">したがって、旅行計画の新しいバージョンを適用するための変更管理のコストが非常に高い、信頼されたクライアント アプリケーションの新しい各特定の種類に増額されます。</span><span class="sxs-lookup"><span data-stu-id="6397d-112">Therefore, costs of change management for enforcing a new version of the itinerary are extremely high and will increase for each new specific type of a trusted client application.</span></span>  
  
-   <span data-ttu-id="6397d-113">送信されたメッセージと全体の日程を渡すとき、クライアントを許可すると、クライアントは常に、信頼できるサブシステム; 内にあります。それ以外の場合、ESB 行程では、無効になっている悪意のある処理命令が指定可能性のある可能性があります。</span><span class="sxs-lookup"><span data-stu-id="6397d-113">By allowing the client to pass the entire itinerary with the submitted message, the client should always be located within the trusted subsystem; otherwise, the ESB itinerary could potentially specify malicious processing instructions that are no longer valid.</span></span>  
  
 [!INCLUDE[esbToolkit](../includes/esbtoolkit-md.md)]<span data-ttu-id="6397d-114">クライアントによって送信された日程の処理をサポートしていますただし、このオプションは、旧バージョンとの互換性をテスト目的でのみ使用する必要があります。</span><span class="sxs-lookup"><span data-stu-id="6397d-114"> supports processing itineraries submitted by the client; however, this option should only be used for backward compatibility and testing purposes.</span></span>  
  
 <span data-ttu-id="6397d-115">クライアント側の日程を有効にする方法の詳細については、次を参照してください。[パイプライン コンポーネントを使用して、日程を読み取る](../esb-toolkit/using-a-pipeline-component-to-read-an-itinerary.md)です。</span><span class="sxs-lookup"><span data-stu-id="6397d-115">For more information about enabling client-side itineraries, see [Using a Pipeline Component to Read an Itinerary](../esb-toolkit/using-a-pipeline-component-to-read-an-itinerary.md).</span></span>  
  
## <a name="centralized-esb-policy-management"></a><span data-ttu-id="6397d-116">一元化された ESB ポリシーの管理</span><span class="sxs-lookup"><span data-stu-id="6397d-116">Centralized ESB Policy Management</span></span>  
 <span data-ttu-id="6397d-117">ある潜在的なセキュリティとの同期の問題では避けられないベスト プラクティスは、SQL データベースとして実装され、に含まれる、中央リポジトリのESB行程を管理するため、アタッチ、日程と共にメッセージを送信するためのクライアントを許可します。[!INCLUDE[esbToolkit](../includes/esbtoolkit-md.md)]この目的のためです。</span><span class="sxs-lookup"><span data-stu-id="6397d-117">There are potential security and synchronization concerns inherent with allowing a client to submit messages with itineraries attached, so the best practice is to manage ESB itineraries in a central repository implemented as a SQL database and included in [!INCLUDE[esbToolkit](../includes/esbtoolkit-md.md)] for this purpose.</span></span> <span data-ttu-id="6397d-118">日程を一元化された場所に配布すると、ESB itinerary ポリシー簡単に管理し、変更できますをクライアント側を大幅に変更するを実装する必要がないと、組織は、可能性のある公開することがなくメッセージの処理を制御できます。クライアントに機密情報。</span><span class="sxs-lookup"><span data-stu-id="6397d-118">By deploying itineraries to a central location, ESB itinerary policies can be easily managed and modified without the need to implement dramatic client-side changes, and the organization can control the processing of messages without exposing potentially sensitive information to the client.</span></span>  
  
 <span data-ttu-id="6397d-119">特別なパイプライン コンポーネントは、受信メッセージに添付する適切な ESB 行程の決定に提供されます。</span><span class="sxs-lookup"><span data-stu-id="6397d-119">Specialized pipeline components are provided to determine the appropriate ESB itinerary to attach to an inbound message.</span></span> <span data-ttu-id="6397d-120">この方法は、行程ベースのルーティング、メッセージを送信するための 2 つのオプションを提供します。</span><span class="sxs-lookup"><span data-stu-id="6397d-120">This approach provides two distinct options for submitting a message for itinerary-based routing:</span></span>  
  
-   <span data-ttu-id="6397d-121">最初のオプションを使用して、クライアント アプリケーションも指定できます個別の ESB 行程完了の日程を送信するのではなく、要求メッセージと共に SOAP ヘッダーで ESB itinerary 参照情報を提供しています。</span><span class="sxs-lookup"><span data-stu-id="6397d-121">Using the first option, the client application can still indicate a distinct ESB itinerary by providing ESB itinerary reference information in the SOAP header along with request message, instead of submitting a complete itinerary.</span></span> <span data-ttu-id="6397d-122">この情報には、ESB itinerary 名前と省略可能なバージョンが含まれています。</span><span class="sxs-lookup"><span data-stu-id="6397d-122">This information includes ESB itinerary name and optional version.</span></span> <span data-ttu-id="6397d-123">このシナリオでクライアントはどのようにメッセージをルーティングすることができますを指定できますが、クライアント アプリケーションに ESB 行程の内容を公開することで同期エラーのポリシーやセキュリティ侵害のリスクはありません。</span><span class="sxs-lookup"><span data-stu-id="6397d-123">In this scenario, clients can still specify how message can be routed, but there is no risk of policy synchronization errors or security compromises by exposing content of the ESB itinerary to client applications.</span></span>  
  
-   <span data-ttu-id="6397d-124">2 番目のオプションは自動的に適切なの ESB 行程ランプでに ESB の構成を送信してクライアントからのすべてのヘッダー情報を必要とせず、コンテンツまたはメッセージのコンテキストに基づきます。</span><span class="sxs-lookup"><span data-stu-id="6397d-124">The second option is to configure the ESB on-ramp to automatically determine the appropriate ESB itinerary, based on the content or context of the message, without requiring any header information from the submitting client.</span></span> <span data-ttu-id="6397d-125">このシナリオでは、送信メッセージのフローを制御する組織を有効にされ、クライアントがメッセージのルーティング方法を認識する必要があります。</span><span class="sxs-lookup"><span data-stu-id="6397d-125">This scenario enables the organization to control the flow of a submitted message and eliminates the need for the client to be aware of how the message is being routed.</span></span>