---
title: 動的解決サンプルの双方向のメッセージング シナリオ |Microsoft Docs
ms.custom: ''
ms.date: 06/08/2017
ms.prod: biztalk-server
ms.reviewer: ''
ms.suite: ''
ms.tgt_pltfrm: ''
ms.topic: article
ms.assetid: e89792f1-c725-46c4-946c-23211e2f892a
caps.latest.revision: 4
author: MandiOhlinger
ms.author: mandia
manager: anneta
ms.openlocfilehash: 6787edc22c06d6935518be9d223f5968a595d6cf
ms.sourcegitcommit: 266308ec5c6a9d8d80ff298ee6051b4843c5d626
ms.translationtype: MT
ms.contentlocale: ja-JP
ms.lasthandoff: 06/27/2018
ms.locfileid: "36997019"
---
# <a name="two-way-messaging-scenarios-for-the-dynamic-resolution-sample"></a><span data-ttu-id="d93b1-102">動的解決サンプルの双方向のメッセージング シナリオ</span><span class="sxs-lookup"><span data-stu-id="d93b1-102">Two-Way Messaging Scenarios for the Dynamic Resolution Sample</span></span>
<span data-ttu-id="d93b1-103">このトピックでは、双方向のメッセージング シナリオを実行する方法、[!INCLUDE[esbToolkit](../includes/esbtoolkit-md.md)]動的解決サンプル。</span><span class="sxs-lookup"><span data-stu-id="d93b1-103">This topic shows how you can run the two-way messaging scenarios for the [!INCLUDE[esbToolkit](../includes/esbtoolkit-md.md)] Dynamic Resolution sample.</span></span>  

 <span data-ttu-id="d93b1-104">**動的解決サンプルの双方向メッセージング シナリオを実行するには**</span><span class="sxs-lookup"><span data-stu-id="d93b1-104">**To run the two-way messaging scenarios for the Dynamic Resolution sample**</span></span>  

1. <span data-ttu-id="d93b1-105">最初にこのサンプルを実行する前に、受信場所の URL が適切な Web サービスを指していることを確認してください。</span><span class="sxs-lookup"><span data-stu-id="d93b1-105">Before you run this sample for the first time, make sure that the receive location URL points to the appropriate Web service.</span></span> <span data-ttu-id="d93b1-106">Web サービス URL/ESB を指定します。NorthAmericanServices/CustomerOrder.asmx、DynamicResolutionReqResp_SOAP の場所が表示されます。</span><span class="sxs-lookup"><span data-stu-id="d93b1-106">Specify the Web service URL /ESB.NorthAmericanServices/CustomerOrder.asmx for the DynamicResolutionReqResp_SOAP receive location.</span></span> <span data-ttu-id="d93b1-107">また、DynamicResolutionSolicitResp をという名前の動的送信ポートが存在することを確認します。</span><span class="sxs-lookup"><span data-stu-id="d93b1-107">Also, make sure that the dynamic send port named DynamicResolutionSolicitResp exists.</span></span>  

   > [!NOTE]
   >  <span data-ttu-id="d93b1-108">動的解決サンプルでは、動的解決を使用して、メッセージを送信し、カナダの Web サービスから応答を受信 (http://localhost/ESB.CanadianServices/SubmitPOService.asmx)します。</span><span class="sxs-lookup"><span data-stu-id="d93b1-108">The Dynamic Resolution sample uses dynamic resolution to send messages to, and receive responses from, the Canadian Web service (http://localhost/ESB.CanadianServices/SubmitPOService.asmx).</span></span> <span data-ttu-id="d93b1-109">このサンプルの静的な送信ポートが定義されていないためにです。</span><span class="sxs-lookup"><span data-stu-id="d93b1-109">This is why a static send port is not defined for this sample.</span></span> <span data-ttu-id="d93b1-110">動的解決のコンポーネントは、解像度から、送信 URL を取得し、受信場所のアダプターのプロバイダー フレームワーク、DynamicResolutionReqResp_SOAP 内で構成されている ESBReceiveXml パイプラインによって呼び出されます。</span><span class="sxs-lookup"><span data-stu-id="d93b1-110">The dynamic resolution component retrieves the outbound URL from the Resolution and Adapter Provider Framework called by the ESBReceiveXml pipeline, which is configured within the DynamicResolutionReqResp_SOAP receive location.</span></span> <span data-ttu-id="d93b1-111">一部の例は、双方向メッセージング、ESBMapSend パイプラインは解決し、Microsoft BizTalk マップを実行します。</span><span class="sxs-lookup"><span data-stu-id="d93b1-111">In some of the two-way messaging examples, the ESBMapSend pipeline resolves and executes Microsoft BizTalk maps.</span></span>  

2. <span data-ttu-id="d93b1-112">GlobalBank.ESB アプリケーションが実行されていない場合は、BizTalk 管理コンソールを使用して開始します。</span><span class="sxs-lookup"><span data-stu-id="d93b1-112">If the GlobalBank.ESB application is not already running, use the BizTalk Administration Console to start it.</span></span>  

3. <span data-ttu-id="d93b1-113">実行する例を決定します。</span><span class="sxs-lookup"><span data-stu-id="d93b1-113">Decide which example you want to execute.</span></span> <span data-ttu-id="d93b1-114">すべての双方向メッセージング シナリオでは、ESB を使用します。NorthAmericanServices Web サービスがある http://localhost/ESB.NorthAmericanServices/CustomerOrder.asmx DynamicResolutionReqResp_SOAP という名前の受信場所を使用して、BizTalk に要求メッセージを発行します。</span><span class="sxs-lookup"><span data-stu-id="d93b1-114">All two-way messaging scenarios use the ESB.NorthAmericanServices Web service located at http://localhost/ESB.NorthAmericanServices/CustomerOrder.asmx to publish the request message to BizTalk, which uses the receive location named DynamicResolutionReqResp_SOAP.</span></span> <span data-ttu-id="d93b1-115">10 の双方向メッセージングの例は、それぞれの一意のバインド ファイルで表されます。</span><span class="sxs-lookup"><span data-stu-id="d93b1-115">There are 10 two-way messaging examples, each represented by a unique binding file.</span></span> <span data-ttu-id="d93b1-116">次の表は、その関連付けられたバインド ファイルの説明と、これらの例を一覧表示します。</span><span class="sxs-lookup"><span data-stu-id="d93b1-116">The following tables list these examples, with their associated binding files and descriptions.</span></span>  

   |<span data-ttu-id="d93b1-117">SOAP 送信 (submitOrder アクション) が SOAP 受信 BRE リゾルバーの使用</span><span class="sxs-lookup"><span data-stu-id="d93b1-117">SOAP Inbound to SOAP Outbound (submitOrder Action) Using the BRE Resolver</span></span>|  
   |---------------------------------------------------------------------------------|  
   |<span data-ttu-id="d93b1-118">受信場所を設定し、送信ポートのプロパティを GlobalBank.ESB.DynamicResolution_SubmitOrder_To_SubmitOrder_BRE_Bindings.xml をという名前のバインド ファイルを使用します。</span><span class="sxs-lookup"><span data-stu-id="d93b1-118">Uses the binding file named GlobalBank.ESB.DynamicResolution_SubmitOrder_To_SubmitOrder_BRE_Bindings.xml to set the receive location and send port properties.</span></span>|  
   |<span data-ttu-id="d93b1-119">ESB ディスパッチャーを受信場所でエンドポイントの解決を使用します。</span><span class="sxs-lookup"><span data-stu-id="d93b1-119">Uses the ESB Dispatcher at the receive location for endpoint resolution.</span></span>|  

   |<span data-ttu-id="d93b1-120">SOAP 送信 (submitOrder アクション) が SOAP 受信エンドポイントと変換の解像度、BRE の競合回避モジュールを使用します。</span><span class="sxs-lookup"><span data-stu-id="d93b1-120">SOAP Inbound to SOAP Outbound (submitOrder Action) Using the BRE Resolver for Endpoint and Transformation Resolution</span></span>|  
   |----------------------------------------------------------------------------------------------------------------------------|  
   |<span data-ttu-id="d93b1-121">受信場所を設定し、送信ポートのプロパティを GlobalBank.ESB.DynamicResolution_SubmitOrder_To_SubmitOrder_BRE_Routing_AND_ Transform_Bindings.xml をという名前のバインド ファイルを使用します。</span><span class="sxs-lookup"><span data-stu-id="d93b1-121">Uses the binding file named GlobalBank.ESB.DynamicResolution_SubmitOrder_To_SubmitOrder_BRE_Routing_AND_ Transform_Bindings.xml to set the receive location and send port properties.</span></span>|  
   |<span data-ttu-id="d93b1-122">使用して、送信の送信ポートで ESB ディスパッチャー コンポーネントのパイプラインし、送信の受信場所のパイプライン、マップを動的に解決しています。</span><span class="sxs-lookup"><span data-stu-id="d93b1-122">Uses the ESB Dispatcher component on the outbound send port pipeline and the outbound receive location pipeline to dynamically resolve and execute the map.</span></span>|  
   |<span data-ttu-id="d93b1-123">ESB ディスパッチャーを受信場所でエンドポイントの解決を使用します。</span><span class="sxs-lookup"><span data-stu-id="d93b1-123">Uses the ESB Dispatcher at the receive location for endpoint resolution.</span></span>|  

   |<span data-ttu-id="d93b1-124">SOAP の受信 SOAP 送信 (submitOrder アクション) を静的な競合回避モジュールを使用します。</span><span class="sxs-lookup"><span data-stu-id="d93b1-124">SOAP Inbound to SOAP Outbound (submitOrder Action) Using the STATIC Resolver</span></span>|  
   |------------------------------------------------------------------------------------|  
   |<span data-ttu-id="d93b1-125">受信場所を設定し、送信ポートのプロパティを GlobalBank.ESB.DynamicResolution_SubmitOrder_To_SubmitOrder_STATIC_Bindings.xml をという名前のバインド ファイルを使用します。</span><span class="sxs-lookup"><span data-stu-id="d93b1-125">Uses the binding file named GlobalBank.ESB.DynamicResolution_SubmitOrder_To_SubmitOrder_STATIC_Bindings.xml to set the receive location and send port properties.</span></span>|  
   |<span data-ttu-id="d93b1-126">受信ポートでマップを静的に設定します。</span><span class="sxs-lookup"><span data-stu-id="d93b1-126">Sets the maps statically at the receive port.</span></span>|  
   |<span data-ttu-id="d93b1-127">ESB ディスパッチャーを受信場所でエンドポイントの解決を使用します。</span><span class="sxs-lookup"><span data-stu-id="d93b1-127">Uses the ESB Dispatcher at the receive location for endpoint resolution.</span></span>|  

   |<span data-ttu-id="d93b1-128">SOAP 送信 (submitOrder アクション) が SOAP 受信サーバーを使用して、UDDI リゾルバーに対して、Microsoft UDDI</span><span class="sxs-lookup"><span data-stu-id="d93b1-128">SOAP Inbound to SOAP Outbound (submitOrder Action) Using the UDDI Resolver Against the Microsoft UDDI Server</span></span>|  
   |--------------------------------------------------------------------------------------------------------------------|  
   |<span data-ttu-id="d93b1-129">受信場所を設定し、送信ポートのプロパティを GlobalBank.ESB.DynamicResolution_SubmitOrder_To_SubmitOrder_UDDI_MSFTREGISTRY_ Bindings.xml をという名前のバインド ファイルを使用します。</span><span class="sxs-lookup"><span data-stu-id="d93b1-129">Uses the binding file named GlobalBank.ESB.DynamicResolution_SubmitOrder_To_SubmitOrder_UDDI_MSFTREGISTRY_ Bindings.xml to set the receive location and send port properties.</span></span>|  
   |<span data-ttu-id="d93b1-130">受信ポートでマップを静的に設定します。</span><span class="sxs-lookup"><span data-stu-id="d93b1-130">Sets the maps statically at the receive port.</span></span>|  
   |<span data-ttu-id="d93b1-131">ESB ディスパッチャーを受信場所でエンドポイントの解決を使用します。</span><span class="sxs-lookup"><span data-stu-id="d93b1-131">Uses the ESB Dispatcher at the receive location for endpoint resolution.</span></span>|  

   > [!NOTE]
   >  <span data-ttu-id="d93b1-132">前の例では、ターゲットの UDDI サーバー上に存在する 1 つに、バインド ファイルにサービス キーを変更する必要があります。</span><span class="sxs-lookup"><span data-stu-id="d93b1-132">For the preceding example, you must change the service key in the binding file to one that exists on the target UDDI server.</span></span>  

   |<span data-ttu-id="d93b1-133">SOAP 送信 (submitOrder アクション) が SOAP 受信サーバーを使用して、UDDI リゾルバーに対して、SOA ソフトウェア UDDI</span><span class="sxs-lookup"><span data-stu-id="d93b1-133">SOAP Inbound to SOAP Outbound (submitOrder Action) Using the UDDI Resolver Against the SOA Software UDDI Server</span></span>|  
   |-----------------------------------------------------------------------------------------------------------------------|  
   |<span data-ttu-id="d93b1-134">受信場所を設定し、送信ポートのプロパティを GlobalBank.ESB.DynamicResolution_SubmitOrder_To_SubmitOrder_UDDI_SOAREGISTRY_ Bindings.xml をという名前のバインド ファイルを使用します。</span><span class="sxs-lookup"><span data-stu-id="d93b1-134">Uses the binding file named GlobalBank.ESB.DynamicResolution_SubmitOrder_To_SubmitOrder_UDDI_SOAREGISTRY_ Bindings.xml to set the receive location and send port properties.</span></span>|  
   |<span data-ttu-id="d93b1-135">受信ポートでマップを静的に設定します。</span><span class="sxs-lookup"><span data-stu-id="d93b1-135">Sets the maps statically at the receive port.</span></span>|  
   |<span data-ttu-id="d93b1-136">ESB ディスパッチャーを受信場所でエンドポイントの解決を使用します。</span><span class="sxs-lookup"><span data-stu-id="d93b1-136">Uses the ESB Dispatcher at the receive location for endpoint resolution.</span></span>|  

   |                                                            <span data-ttu-id="d93b1-137">SOAP の受信 SOAP 送信 (submitOrder アクション) を XPATH の競合回避モジュールを使用します。</span><span class="sxs-lookup"><span data-stu-id="d93b1-137">SOAP Inbound to SOAP Outbound (submitOrder Action) Using the XPATH Resolver</span></span>                                                            |
   |---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
   |                 <span data-ttu-id="d93b1-138">受信場所を設定し、送信ポートのプロパティを GlobalBank.ESB.DynamicResolution_SubmitOrder_To_SubmitOrder_XPATH_Bindings.xml をという名前のバインド ファイルを使用します。</span><span class="sxs-lookup"><span data-stu-id="d93b1-138">Uses the binding file named GlobalBank.ESB.DynamicResolution_SubmitOrder_To_SubmitOrder_XPATH_Bindings.xml to set the receive location and send port properties.</span></span>                  |
   |                                                                           <span data-ttu-id="d93b1-139">受信ポートでマップを静的に設定します。</span><span class="sxs-lookup"><span data-stu-id="d93b1-139">Sets the maps statically at the receive port.</span></span>                                                                           |
   |                                                             <span data-ttu-id="d93b1-140">ESB ディスパッチャーを受信場所でエンドポイントの解決を使用します。</span><span class="sxs-lookup"><span data-stu-id="d93b1-140">Uses the ESB Dispatcher at the receive location for endpoint resolution.</span></span>                                                              |
   | <span data-ttu-id="d93b1-141">メッセージには、エンドポイントの構成の ID が含まれています。 =<http://localhost/ESB.CanadianServices/SubmitPOService.asmx> ] と [customerName =<http://globalbank.esb.dynamicresolution.com/canadianservices/>します。</span><span class="sxs-lookup"><span data-stu-id="d93b1-141">The message contains the endpoint configuration ID=<http://localhost/ESB.CanadianServices/SubmitPOService.asmx> and customerName=<http://globalbank.esb.dynamicresolution.com/canadianservices/>.</span></span> |

   |<span data-ttu-id="d93b1-142">SOAP 送信 (submitPurchase アクション) を SOAP の受信、BRE の競合回避モジュールのエンドポイントと変換の解決策を使用します。</span><span class="sxs-lookup"><span data-stu-id="d93b1-142">SOAP Inbound to SOAP Outbound (submitPurchase Action) Using the BRE Resolver Endpoint and Transformation Resolution</span></span>|  
   |---------------------------------------------------------------------------------------------------------------------------|  
   |<span data-ttu-id="d93b1-143">受信場所を設定し、送信ポートのプロパティを GlobalBank.ESB.DynamicResolution_SubmitOrder_To_SubmitPurchaseOrder_BRE_Routing_ AND_Transform_Bindings.xml をという名前のバインド ファイルを使用します。</span><span class="sxs-lookup"><span data-stu-id="d93b1-143">Uses the binding file named GlobalBank.ESB.DynamicResolution_SubmitOrder_To_SubmitPurchaseOrder_BRE_Routing_ AND_Transform_Bindings.xml to set the receive location and send port properties.</span></span>|  
   |<span data-ttu-id="d93b1-144">使用して、送信の送信ポートで ESB ディスパッチャー コンポーネントのパイプラインし、送信の受信場所のパイプライン、マップを動的に解決しています。</span><span class="sxs-lookup"><span data-stu-id="d93b1-144">Uses the ESB Dispatcher component on the outbound send port pipeline and the outbound receive location pipeline to dynamically resolve and execute the map.</span></span>|  
   |<span data-ttu-id="d93b1-145">ESB ディスパッチャーを受信場所でエンドポイントの解決を使用します。</span><span class="sxs-lookup"><span data-stu-id="d93b1-145">Uses the ESB Dispatcher at the receive location for endpoint resolution.</span></span>|  
   |<span data-ttu-id="d93b1-146">BRE の競合回避モジュールの変更、**アクション**から**submitOrder**に**submitPurchase**します。</span><span class="sxs-lookup"><span data-stu-id="d93b1-146">The BRE Resolver changes the **Action** from **submitOrder** to **submitPurchase**.</span></span>|  

   |                                              <span data-ttu-id="d93b1-147">SOAP の受信 SOAP 送信 (submitPurchase アクション) を静的な競合回避モジュールを使用します。</span><span class="sxs-lookup"><span data-stu-id="d93b1-147">SOAP Inbound to SOAP Outbound (submitPurchase Action) Using the STATIC Resolver</span></span>                                               |
   |----------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
   | <span data-ttu-id="d93b1-148">受信場所を設定し、送信ポートのプロパティを GlobalBank.ESB.DynamicResolution_SubmitOrder_To_SubmitPurchaseOrder_STATIC_ Bindings.xml をという名前のバインド ファイルを使用します。</span><span class="sxs-lookup"><span data-stu-id="d93b1-148">Uses the binding file named GlobalBank.ESB.DynamicResolution_SubmitOrder_To_SubmitPurchaseOrder_STATIC_ Bindings.xml to set the receive location and send port properties.</span></span> |
   |                                                               <span data-ttu-id="d93b1-149">受信ポートでマップを静的に設定します。</span><span class="sxs-lookup"><span data-stu-id="d93b1-149">Sets the maps statically at the receive port.</span></span>                                                                |
   |                                                  <span data-ttu-id="d93b1-150">ESB ディスパッチャーを受信場所でエンドポイントの解決を使用します。</span><span class="sxs-lookup"><span data-stu-id="d93b1-150">Uses the ESB Dispatcher at the receive location for endpoint resolution.</span></span>                                                  |
   |                                           <span data-ttu-id="d93b1-151">静的な競合回避モジュールの変更、**アクション**から**submitOrder**に**submitPurchase**します。</span><span class="sxs-lookup"><span data-stu-id="d93b1-151">The STATIC Resolver changes the **Action** from **submitOrder** to **submitPurchase**.</span></span>                                           |


4. <span data-ttu-id="d93b1-152">メッセージングに GlobalBank.ESB アプリケーションを実行する例については、バインド ファイルをインポートします。</span><span class="sxs-lookup"><span data-stu-id="d93b1-152">Import the binding file for the messaging example you want to execute into the GlobalBank.ESB application.</span></span>  

5. <span data-ttu-id="d93b1-153">Microsoft InfoPath、.NET Web サービスの Studio またはその他の適切なメカニズムを使用して NorthAmerican Web サービスを呼び出します。</span><span class="sxs-lookup"><span data-stu-id="d93b1-153">Call the NorthAmerican Web service using Microsoft InfoPath, the .NET Web Service Studio, or any other appropriate mechanism.</span></span> <span data-ttu-id="d93b1-154">操作に必要なすべてのパラメーターを含めることを確認します。</span><span class="sxs-lookup"><span data-stu-id="d93b1-154">Make sure that you include all parameters required by the operation.</span></span>  

6. <span data-ttu-id="d93b1-155">返されたメッセージの応答を参照してください。</span><span class="sxs-lookup"><span data-stu-id="d93b1-155">Look for the returned message response.</span></span> <span data-ttu-id="d93b1-156">指定した場合、 **submitOrder**アクションのテキスト"Submit Order"の値が前に、 **ID**フィールドに返されたメッセージ。</span><span class="sxs-lookup"><span data-stu-id="d93b1-156">If you specified the **submitOrder** action, the text "Submit Order" will precede the value of the **ID** field in the returned message.</span></span> <span data-ttu-id="d93b1-157">指定した場合、 **submitPurchase**アクションの [購入の送信] のテキストの値が前に、 **ID**フィールドに返されたメッセージ。</span><span class="sxs-lookup"><span data-stu-id="d93b1-157">If you specified the **submitPurchase** action, the text "Submit Purchase" will precede the value of the **ID** field in the returned message.</span></span>  

   <span data-ttu-id="d93b1-158">ESB ディスパッチャーと ESB ディスパッチャー逆アセンブラー パイプライン コンポーネントのサンプルの使用については、次を参照してください。 [、動的解決サンプルのしくみ](../esb-toolkit/how-the-dynamic-resolution-sample-works.md)します。</span><span class="sxs-lookup"><span data-stu-id="d93b1-158">To understand how the sample uses the ESB Dispatcher and ESB Dispatcher Disassembler pipeline components, see [How the Dynamic Resolution Sample Works](../esb-toolkit/how-the-dynamic-resolution-sample-works.md).</span></span>